var oldBrowser=document.all&&!document.addEventListener,jqxBaseFramework=(oldBrowser||!function(f,v){function z(e,t){return(t+"").toUpperCase()}function E(){x.addEventListener?(x.removeEventListener("DOMContentLoaded",E,!1),w.ready()):"complete"===x.readyState&&(x.detachEvent("onreadystatechange",E),w.ready())}var L,N,x=f.document,O=(f.location,f.navigator),R=f.JQXLite,F=f.$,W=Array.prototype.push,y=Array.prototype.slice,V=Array.prototype.indexOf,G=Object.prototype.toString,U=Object.prototype.hasOwnProperty,Y=String.prototype.trim,w=function(e,t){return new w.fn.init(e,t,L)},K=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,X=/\S/,p=/\s+/,$=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Z=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,J=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Q=/^[\],:{}\s]*$/,ee=/(?:^|:|,)(?:\s*\[)+/g,te=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ie=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,se=/^-ms-/,re=/-([\da-z])/gi,ne={},oe=(w.fn=w.prototype={constructor:w,init:function(e,t,i){var s,r;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"!=typeof e)return w.isFunction(e)?i.ready(e):(e.selector!==v&&(this.selector=e.selector,this.context=e.context),w.makeArray(e,this));if(!(s="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:Z.exec(e))||!s[1]&&t)return(!t||t.jqx?t||i:this.constructor(t)).find(e);if(s[1])return r=(t=t instanceof w?t[0]:t)&&t.nodeType?t.ownerDocument||t:x,e=w.parseHTML(s[1],r,!0),J.test(s[1])&&w.isPlainObject(t)&&this.attr.call(e,t,!0),w.merge(this,e);if((r=x.getElementById(s[2]))&&r.parentNode){if(r.id!==s[2])return i.find(e);this.length=1,this[0]=r}return this.context=x,this.selector=e,this},selector:"",jqx:"4.5.0",length:0,size:function(){return this.length},toArray:function(){return y.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,i){e=w.merge(this.constructor(),e);return e.prevObject=this,e.context=this.context,"find"===t?e.selector=this.selector+(this.selector?" ":"")+i:t&&(e.selector=this.selector+"."+t+"("+i+")"),e},each:function(e,t){return w.each(this,e,t)},ready:function(e){return w.ready.promise().done(e),this},eq:function(e){return-1===(e=+e)?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(y.apply(this,arguments),"slice",y.call(arguments).join(","))},map:function(i){return this.pushStack(w.map(this,function(e,t){return i.call(e,t,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:[].sort,splice:[].splice},w.fn.init.prototype=w.fn,w.extend=w.fn.extend=function(){var e,t,i,s,r,n=arguments[0]||{},o=1,a=arguments.length,l=!1;for("boolean"==typeof n&&(l=n,n=arguments[1]||{},o=2),"object"==typeof n||w.isFunction(n)||(n={}),a===o&&(n=this,--o);o<a;o++)if(null!=(e=arguments[o]))for(t in e)r=n[t],n!==(i=e[t])&&(l&&i&&(w.isPlainObject(i)||(s=w.isArray(i)))?(r=s?(s=!1,r&&w.isArray(r)?r:[]):r&&w.isPlainObject(r)?r:{},n[t]=w.extend(l,r,i)):i!==v&&(n[t]=i));return n},w.extend({noConflict:function(e){return f.$===w&&(f.$=F),e&&f.JQXLite===w&&(f.JQXLite=R),w},isReady:!1,readyWait:1,holdReady:function(e){e?w.readyWait++:w.ready(!0)},ready:function(e){if(!0===e?!--w.readyWait:!w.isReady){if(!x.body)return setTimeout(w.ready,1);(w.isReady=!0)!==e&&0<--w.readyWait||(N.resolveWith(x,[w]),w.fn.trigger&&w(x).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===w.type(e)},isArray:Array.isArray||function(e){return"array"===w.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):ne[G.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==w.type(e)||e.nodeType||w.isWindow(e))return!1;try{if(e.constructor&&!U.call(e,"constructor")&&!U.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(var t in e);return t===v||U.call(e,t)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,i){var s;return e&&"string"==typeof e?("boolean"==typeof t&&(i=t,t=0),t=t||x,(s=J.exec(e))?[t.createElement(s[1])]:(s=w.buildFragment([e],t,i?null:[]),w.merge([],(s.cacheable?w.clone(s.fragment):s.fragment).childNodes))):null},parseJSON:function(e){return e&&"string"==typeof e?(e=w.trim(e),f.JSON&&f.JSON.parse?f.JSON.parse(e):Q.test(e.replace(te,"@").replace(ie,"]").replace(ee,""))?new Function("return "+e)():void w.error("Invalid JSON: "+e)):null},parseXML:function(e){var t;if(!e||"string"!=typeof e)return null;try{f.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){t=v}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){e&&X.test(e)&&(f.execScript||function(e){f.eval.call(f,e)})(e)},camelCase:function(e){return e.replace(se,"ms-").replace(re,z)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var s,r=0,n=e.length,o=n===v||w.isFunction(e);if(i)if(o){for(s in e)if(!1===t.apply(e[s],i))break}else for(;r<n&&!1!==t.apply(e[r++],i););else if(o){for(s in e)if(!1===t.call(e[s],s,e[s]))break}else for(;r<n&&!1!==t.call(e[r],r,e[r++]););return e},trim:Y&&!Y.call("\ufeffÂ ")?function(e){return null==e?"":Y.call(e)}:function(e){return null==e?"":(e+"").replace($,"")},makeArray:function(e,t){var i,t=t||[];return null!=e&&(i=w.type(e),null==e.length||"string"===i||"function"===i||"regexp"===i||w.isWindow(e)?W.call(t,e):w.merge(t,e)),t},inArray:function(e,t,i){var s;if(t){if(V)return V.call(t,e,i);for(s=t.length,i=i?i<0?Math.max(0,s+i):i:0;i<s;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){var i=t.length,s=e.length,r=0;if("number"==typeof i)for(;r<i;r++)e[s++]=t[r];else for(;t[r]!==v;)e[s++]=t[r++];return e.length=s,e},grep:function(e,t,i){var s=[],r=0,n=e.length;for(i=!!i;r<n;r++)i!==!!t(e[r],r)&&s.push(e[r]);return s},map:function(e,t,i){var s,r,n=[],o=0,a=e.length;if(e instanceof w||a!==v&&"number"==typeof a&&(0<a&&e[0]&&e[a-1]||0===a||w.isArray(e)))for(;o<a;o++)null!=(s=t(e[o],o,i))&&(n[n.length]=s);else for(r in e)null!=(s=t(e[r],r,i))&&(n[n.length]=s);return n.concat.apply([],n)},guid:1,proxy:function(e,t){var i,s;return"string"==typeof t&&(s=e[t],t=e,e=s),w.isFunction(e)?(i=y.call(arguments,2),(s=function(){return e.apply(t,i.concat(y.call(arguments)))}).guid=e.guid=e.guid||w.guid++,s):v},access:function(e,t,i,s,r,n,o){var a,l=null==i,d=0,h=e.length;if(i&&"object"==typeof i){for(d in i)w.access(e,t,d,i[d],1,n,s);r=1}else if(s!==v){if(a=o===v&&w.isFunction(s),t=l?a?(a=t,function(e,t,i){return a.call(w(e),i)}):(t.call(e,s),null):t)for(;d<h;d++)t(e[d],i,a?s.call(e[d],d,t(e[d],i)):s,o);r=1}return r?e:l?t.call(e):h?t(e[0],i):n},now:function(){return(new Date).getTime()}}),w.ready.promise=function(e){if(!N)if(N=w.Deferred(),"complete"===x.readyState)setTimeout(w.ready,1);else if(x.addEventListener)x.addEventListener("DOMContentLoaded",E,!1),f.addEventListener("load",w.ready,!1);else{x.attachEvent("onreadystatechange",E),f.attachEvent("onload",w.ready);var i=!1;try{i=null==f.frameElement&&x.documentElement}catch(e){}i&&i.doScroll&&!function t(){if(!w.isReady){try{i.doScroll("left")}catch(e){return setTimeout(t,50)}w.ready()}}()}return N.promise(e)},w.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){ne["[object "+t+"]"]=t.toLowerCase()}),L=w(x),{});w.Callbacks=function(r){var e,i;r="string"==typeof r?oe[r]||(i=oe[e=r]={},w.each(e.split(p),function(e,t){i[t]=!0}),i):w.extend({},r);function s(e){for(t=r.memory&&e,n=!0,d=a||0,a=0,l=h.length,o=!0;h&&d<l;d++)if(!1===h[d].apply(e[0],e[1])&&r.stopOnFalse){t=!1;break}o=!1,h&&(c?c.length&&s(c.shift()):t?h=[]:u.disable())}var t,n,o,a,l,d,h=[],c=!r.once&&[],u={add:function(){var e;return h&&(e=h.length,function s(e){w.each(e,function(e,t){var i=w.type(t);"function"===i?r.unique&&u.has(t)||h.push(t):t&&t.length&&"string"!==i&&s(t)})}(arguments),o?l=h.length:t&&(a=e,s(t))),this},remove:function(){return h&&w.each(arguments,function(e,t){for(var i;-1<(i=w.inArray(t,h,i));)h.splice(i,1),o&&(i<=l&&l--,i<=d&&d--)}),this},has:function(e){return-1<w.inArray(e,h)},empty:function(){return h=[],this},disable:function(){return h=c=t=v,this},disabled:function(){return!h},lock:function(){return c=v,t||u.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=[e,(t=t||[]).slice?t.slice():t],!h||n&&!c||(o?c.push(t):s(t)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},w.extend({Deferred:function(e){var o=[["resolve","done",w.Callbacks("once memory"),"resolved"],["reject","fail",w.Callbacks("once memory"),"rejected"],["notify","progress",w.Callbacks("memory")]],r="pending",n={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var n=arguments;return w.Deferred(function(r){w.each(o,function(e,t){var i=t[0],s=n[e];a[t[1]](w.isFunction(s)?function(){var e=s.apply(this,arguments);e&&w.isFunction(e.promise)?e.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[i+"With"](this===a?r:this,[e])}:r[i])}),n=null}).promise()},promise:function(e){return null!=e?w.extend(e,n):n}},a={};return n.pipe=n.then,w.each(o,function(e,t){var i=t[2],s=t[3];n[t[1]]=i.add,s&&i.add(function(){r=s},o[1^e][2].disable,o[2][2].lock),a[t[0]]=i.fire,a[t[0]+"With"]=i.fireWith}),n.promise(a),e&&e.call(a,a),a},when:function(e){function t(t,i,s){return function(e){i[t]=this,s[t]=1<arguments.length?y.call(arguments):e,s===r?d.notifyWith(i,s):--l||d.resolveWith(i,s)}}var r,i,s,n=0,o=y.call(arguments),a=o.length,l=1!==a||e&&w.isFunction(e.promise)?a:0,d=1===l?e:w.Deferred();if(1<a)for(r=new Array(a),i=new Array(a),s=new Array(a);n<a;n++)o[n]&&w.isFunction(o[n].promise)?o[n].promise().done(t(n,s,o)).fail(d.reject).progress(t(n,i,r)):--l;return l||d.resolveWith(s,o),d.promise()}}),w.support=function(){var n,e,t,i,s,r,o,a,l,d=x.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=d.getElementsByTagName("*"),t=d.getElementsByTagName("a")[0],!e||!t||!e.length)return{};l=(i=x.createElement("select")).appendChild(x.createElement("option")),s=d.getElementsByTagName("input")[0],t.style.cssText="top:1px;float:left;opacity:.5",n={leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(t.getAttribute("style")),hrefNormalized:"/a"===t.getAttribute("href"),opacity:/^0.5/.test(t.style.opacity),cssFloat:!!t.style.cssFloat,checkOn:"on"===s.value,optSelected:l.selected,getSetAttribute:"t"!==d.className,enctype:!!x.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==x.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===x.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},s.checked=!0,n.noCloneChecked=s.cloneNode(!0).checked,i.disabled=!0,n.optDisabled=!l.disabled;try{delete d.test}catch(e){n.deleteExpando=!1}if(!d.addEventListener&&d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",l=function(){n.noCloneEvent=!1}),d.cloneNode(!0).fireEvent("onclick"),d.detachEvent("onclick",l)),(s=x.createElement("input")).value="t",s.setAttribute("type","radio"),n.radioValue="t"===s.value,s.setAttribute("checked","checked"),s.setAttribute("name","t"),d.appendChild(s),(l=x.createDocumentFragment()).appendChild(d.lastChild),n.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,n.appendChecked=s.checked,l.removeChild(s),l.appendChild(d),d.attachEvent)for(o in{submit:!0,change:!0,focusin:!0})(a=(r="on"+o)in d)||(d.setAttribute(r,"return;"),a="function"==typeof d[r]),n[o+"Bubbles"]=a;return w(function(){var e,t,i,s="padding:0;margin:0;border:0;display:block;overflow:hidden;",r=x.getElementsByTagName("body")[0];r&&((e=x.createElement("div")).style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",r.insertBefore(e,r.firstChild),t=x.createElement("div"),e.appendChild(t),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(i=t.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",a=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",n.reliableHiddenOffsets=a&&0===i[0].offsetHeight,t.innerHTML="",t.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",n.boxSizing=4===t.offsetWidth,n.doesNotIncludeMarginInBodyOffset=1!==r.offsetTop,f.getComputedStyle&&(n.pixelPosition="1%"!==(f.getComputedStyle(t,null)||{}).top,n.boxSizingReliable="4px"===(f.getComputedStyle(t,null)||{width:"4px"}).width,(i=x.createElement("div")).style.cssText=t.style.cssText=s,i.style.marginRight=i.style.width="0",t.style.width="1px",t.appendChild(i),n.reliableMarginRight=!parseFloat((f.getComputedStyle(i,null)||{}).marginRight)),void 0!==t.style.zoom&&(t.innerHTML="",t.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",n.inlineBlockNeedsLayout=3===t.offsetWidth,t.style.display="block",t.style.overflow="visible",t.innerHTML="<div></div>",t.firstChild.style.width="5px",n.shrinkWrapBlocks=3!==t.offsetWidth,e.style.zoom=1),r.removeChild(e))}),l.removeChild(d),e=t=i=s=l=d=null,n}();var ae=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,le=/([A-Z])/g;function de(e,t,i){if(i===v&&1===e.nodeType){var s="data-"+t.replace(le,"-$1").toLowerCase();if("string"==typeof(i=e.getAttribute(s))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:ae.test(i)?w.parseJSON(i):i)}catch(e){}w.data(e,t,i)}else i=v}return i}function he(e){for(var t in e)if(("data"!==t||!w.isEmptyObject(e[t]))&&"toJSON"!==t)return;return 1}w.extend({cache:{},deletedIds:[],uuid:0,expando:"JQXLite"+(w.fn.jqx+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return!!(e=e.nodeType?w.cache[e[w.expando]]:e[w.expando])&&!he(e)},data:function(e,t,i,s){if(w.acceptData(e)){var r,n=w.expando,o="string"==typeof t,a=e.nodeType,l=a?w.cache:e,d=a?e[n]:e[n]&&n;if(d&&l[d]&&(s||l[d].data)||!o||i!==v)return d||(a?e[n]=d=w.deletedIds.pop()||w.guid++:d=n),l[d]||(l[d]={},a||(l[d].toJSON=w.noop)),"object"!=typeof t&&"function"!=typeof t||(s?l[d]=w.extend(l[d],t):l[d].data=w.extend(l[d].data,t)),e=l[d],s||(e.data||(e.data={}),e=e.data),i!==v&&(e[w.camelCase(t)]=i),o?null==(r=e[t])&&(r=e[w.camelCase(t)]):r=e,r}},removeData:function(e,t,i){if(w.acceptData(e)){var s,r,n,o=e.nodeType,a=o?w.cache:e,l=o?e[w.expando]:w.expando;if(a[l]){if(t&&(s=i?a[l]:a[l].data)){for((r=0,n=(t=w.isArray(t)?t:t in s||(t=w.camelCase(t))in s?[t]:t.split(" ")).length);r<n;r++)delete s[t[r]];if(!(i?he:w.isEmptyObject)(s))return}(i||(delete a[l].data,he(a[l])))&&(o?w.cleanData([e],!0):w.support.deleteExpando||a!=a.window?delete a[l]:a[l]=null)}}},_data:function(e,t,i){return w.data(e,t,i,!0)},acceptData:function(e){var t=e.nodeName&&w.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),w.fn.extend({data:function(i,e){var s,r,t,n,o,a=this[0],l=0,d=null;if(i!==v)return"object"==typeof i?this.each(function(){w.data(this,i)}):((s=i.split(".",2))[1]=s[1]?"."+s[1]:"",r=s[1]+"!",w.access(this,function(t){if(t===v)return(d=this.triggerHandler("getData"+r,[s[0]]))===v&&a&&(d=w.data(a,i),d=de(a,i,d)),d===v&&s[1]?this.data(s[0]):d;s[1]=t,this.each(function(){var e=w(this);e.triggerHandler("setData"+r,s),w.data(this,i,t),e.triggerHandler("changeData"+r,s)})},null,e,1<arguments.length,null,!1));if(this.length&&(d=w.data(a),1===a.nodeType&&!w._data(a,"parsedAttrs"))){for(o=(t=a.attributes).length;l<o;l++)(n=t[l].name).indexOf("data-")||(n=w.camelCase(n.substring(5)),de(a,n,d[n]));w._data(a,"parsedAttrs",!0)}return d},removeData:function(e){return this.each(function(){w.removeData(this,e)})}}),w.extend({queue:function(e,t,i){var s;if(e)return s=w._data(e,t=(t||"fx")+"queue"),i&&(!s||w.isArray(i)?s=w._data(e,t,w.makeArray(i)):s.push(i)),s||[]},dequeue:function(e,t){t=t||"fx";var i=w.queue(e,t),s=i.length,r=i.shift(),n=w._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),s--),r&&("fx"===t&&i.unshift("inprogress"),delete n.stop,r.call(e,function(){w.dequeue(e,t)},n)),!s&&n&&n.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return w._data(e,i)||w._data(e,i,{empty:w.Callbacks("once memory").add(function(){w.removeData(e,t+"queue",!0),w.removeData(e,i,!0)})})}}),w.fn.extend({queue:function(t,i){var e=2;return"string"!=typeof t&&(i=t,t="fx",e--),arguments.length<e?w.queue(this[0],t):i===v?this:this.each(function(){var e=w.queue(this,t,i);w._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&w.dequeue(this,t)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},delay:function(s,e){return s=w.fx&&w.fx.speeds[s]||s,this.queue(e=e||"fx",function(e,t){var i=setTimeout(e,s);t.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function i(){--r||n.resolveWith(o,[o])}var s,r=1,n=w.Deferred(),o=this,a=this.length;for("string"!=typeof e&&(t=e,e=v),e=e||"fx";a--;)(s=w._data(o[a],e+"queueHooks"))&&s.empty&&(r++,s.empty.add(i));return i(),n.promise(t)}});function ce(e){return w.event.special.hover?e:e.replace(_e,"mouseenter$1 mouseleave$1")}var ue,pe,me=/[\t\r\n]/g,ge=/\r/g,fe=/^(?:button|input)$/i,ve=/^(?:button|input|object|select|textarea)$/i,xe=/^a(?:rea|)$/i,ye=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,we=w.support.getSetAttribute,be=(w.fn.extend({attr:function(e,t){return w.access(this,w.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})},prop:function(e,t){return w.access(this,w.prop,e,t,1<arguments.length)},removeProp:function(e){return e=w.propFix[e]||e,this.each(function(){try{this[e]=v,delete this[e]}catch(e){}})},addClass:function(t){var e,i,s,r,n,o,a;if(w.isFunction(t))return this.each(function(e){w(this).addClass(t.call(this,e,this.className))});if(t&&"string"==typeof t)for(e=t.split(p),i=0,s=this.length;i<s;i++)if(1===(r=this[i]).nodeType)if(r.className||1!==e.length){for(n=" "+r.className+" ",o=0,a=e.length;o<a;o++)n.indexOf(" "+e[o]+" ")<0&&(n+=e[o]+" ");r.className=w.trim(n)}else r.className=t;return this},removeClass:function(t){var e,i,s,r,n,o,a;if(w.isFunction(t))return this.each(function(e){w(this).removeClass(t.call(this,e,this.className))});if(t&&"string"==typeof t||t===v)for(e=(t||"").split(p),o=0,a=this.length;o<a;o++)if(1===(s=this[o]).nodeType&&s.className){for(i=(" "+s.className+" ").replace(me," "),r=0,n=e.length;r<n;r++)for(;0<=i.indexOf(" "+e[r]+" ");)i=i.replace(" "+e[r]+" "," ");s.className=t?w.trim(i):""}return this},toggleClass:function(n,o){var a=typeof n,l="boolean"==typeof o;return w.isFunction(n)?this.each(function(e){w(this).toggleClass(n.call(this,e,this.className,o),o)}):this.each(function(){if("string"==a)for(var e,t=0,i=w(this),s=o,r=n.split(p);e=r[t++];)s=l?s:!i.hasClass(e),i[s?"addClass":"removeClass"](e);else"undefined"!=a&&"boolean"!=a||(this.className&&w._data(this,"__className__",this.className),this.className=!this.className&&!1!==n&&w._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,s=this.length;i<s;i++)if(1===this[i].nodeType&&0<=(" "+this[i].className+" ").replace(me," ").indexOf(t))return!0;return!1},val:function(i){var s,e,r,t=this[0];return arguments.length?(r=w.isFunction(i),this.each(function(e){var t=w(this);1===this.nodeType&&(null==(e=r?i.call(this,e,t.val()):i)?e="":"number"==typeof e?e+="":w.isArray(e)&&(e=w.map(e,function(e){return null==e?"":e+""})),(s=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in s&&s.set(this,e,"value")!==v||(this.value=e))})):t?(s=w.valHooks[t.type]||w.valHooks[t.nodeName.toLowerCase()])&&"get"in s&&(e=s.get(t,"value"))!==v?e:"string"==typeof(e=t.value)?e.replace(ge,""):null==e?"":e:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,i=e.options,s=e.selectedIndex,r="select-one"===e.type||s<0,n=r?null:[],o=r?s+1:i.length,a=s<0?o:r?s:0;a<o;a++)if(((t=i[a]).selected||a===s)&&(w.support.optDisabled?!t.disabled:null===t.getAttribute("disabled"))&&(!t.parentNode.disabled||!w.nodeName(t.parentNode,"optgroup"))){if(t=w(t).val(),r)return t;n.push(t)}return n},set:function(e,t){var i=w.makeArray(t);return w(e).find("option").each(function(){this.selected=0<=w.inArray(w(this).val(),i)}),i.length||(e.selectedIndex=-1),i}}},attrFn:{},attr:function(e,t,i,s){var r,n,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return s&&w.isFunction(w.fn[t])?w(e)[t](i):void 0===e.getAttribute?w.prop(e,t,i):((s=1!==o||!w.isXMLDoc(e))&&(t=t.toLowerCase(),n=w.attrHooks[t]||(ye.test(t)?pe:ue)),i===v?!(n&&"get"in n&&s&&null!==(r=n.get(e,t)))&&null===(r=e.getAttribute(t))?v:r:null!==i?n&&"set"in n&&s&&(r=n.set(e,i,t))!==v?r:(e.setAttribute(t,i+""),i):void w.removeAttr(e,t))},removeAttr:function(e,t){var i,s,r,n,o=0;if(t&&1===e.nodeType)for(s=t.split(p);o<s.length;o++)(r=s[o])&&(i=w.propFix[r]||r,(n=ye.test(r))||w.attr(e,r,""),e.removeAttribute(we?r:i),n&&i in e&&(e[i]=!1))},attrHooks:{type:{set:function(e,t){var i;if(fe.test(e.nodeName)&&e.parentNode)w.error("type property can't be changed");else if(!w.support.radioValue&&"radio"===t&&w.nodeName(e,"input"))return i=e.value,e.setAttribute("type",t),i&&(e.value=i),t}},value:{get:function(e,t){return t in e?e.value:null},set:function(e,t,i){e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,t,i){var s,r,n=e.nodeType;if(e&&3!==n&&8!==n&&2!==n)return(1!==n||!w.isXMLDoc(e))&&(t=w.propFix[t]||t,r=w.propHooks[t]),i!==v?r&&"set"in r&&(s=r.set(e,i,t))!==v?s:e[t]=i:r&&"get"in r&&null!==(s=r.get(e,t))?s:e[t]},propHooks:{tabIndex:{get:function(e){var t=e.getAttributeNode("tabindex");return t&&t.specified?parseInt(t.value,10):ve.test(e.nodeName)||xe.test(e.nodeName)&&e.href?0:v}}}}),pe={get:function(e,t){var i=w.prop(e,t);return!0===i||"boolean"!=typeof i&&(i=e.getAttributeNode(t))&&!1!==i.nodeValue?t.toLowerCase():v},set:function(e,t,i){return!1===t?w.removeAttr(e,i):((t=w.propFix[i]||i)in e&&(e[t]=!0),e.setAttribute(i,i.toLowerCase())),i}},w.support.enctype||(w.propFix.enctype="encoding"),/^([^\.]*|)(?:\.(.+)|)$/),_e=/(?:^|\s)hover(\.\S+|)\b/,qe=/^key/,je=/^(?:mouse|contextmenu)|click/,Te=/^(?:focusinfocus|focusoutblur)$/;function a(){return!1}function Ce(){return!0}w.event={add:function(e,t,i,s,r){var n,o,a,l,d,h,c,u,p,m;if(3!==e.nodeType&&8!==e.nodeType&&t&&i&&(n=w._data(e)))for(i.handler&&(i=(u=i).handler,r=u.selector),i.guid||(i.guid=w.guid++),(a=n.events)||(n.events=a={}),(o=n.handle)||(n.handle=o=function(e){return void 0===w||e&&w.event.triggered===e.type?v:w.event.dispatch.apply(o.elem,arguments)},o.elem=e),t=w.trim(ce(t)).split(" "),l=0;l<t.length;l++)d=(c=be.exec(t[l])||[])[1],h=(c[2]||"").split(".").sort(),m=w.event.special[d]||{},d=(r?m.delegateType:m.bindType)||d,m=w.event.special[d]||{},c=w.extend({type:d,origType:c[1],data:s,handler:i,guid:i.guid,selector:r,needsContext:r&&w.expr.match.needsContext.test(r),namespace:h.join(".")},u),(p=a[d])||((p=a[d]=[]).delegateCount=0,m.setup&&!1!==m.setup.call(e,s,h,o)||(e.addEventListener?s&&s.passive!==v?e.addEventListener(d,o,s):e.addEventListener(d,o,!1):e.attachEvent&&e.attachEvent("on"+d,o))),m.add&&(m.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),r?p.splice(p.delegateCount++,0,c):p.push(c),w.event.global[d]=!0},global:{},remove:function(e,t,i,s,r){var n,o,a,l,d,h,c,u,p,m,g=w.hasData(e)&&w._data(e);if(g&&(c=g.events)){for(t=w.trim(ce(t||"")).split(" "),n=0;n<t.length;n++)if(o=a=(d=be.exec(t[n])||[])[1],l=d[2],o){for(u=w.event.special[o]||{},d=(p=c[o=(s?u.delegateType:u.bindType)||o]||[]).length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=0;h<p.length;h++)m=p[h],!r&&a!==m.origType||i&&i.guid!==m.guid||l&&!l.test(m.namespace)||s&&s!==m.selector&&("**"!==s||!m.selector)||(p.splice(h--,1),m.selector&&p.delegateCount--,u.remove&&u.remove.call(e,m));0===p.length&&d!==p.length&&(u.teardown&&!1!==u.teardown.call(e,l,g.handle)||w.removeEvent(e,o,g.handle),delete c[o])}else for(o in c)w.event.remove(e,o+t[n],i,s,!0);w.isEmptyObject(c)&&(delete g.handle,w.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(e,t,i,s){if(!i||3!==i.nodeType&&8!==i.nodeType){var r,n,o,a,l,d,h,c,u,p=e.type||e,m=[];if(!Te.test(p+w.event.triggered)&&(0<=p.indexOf("!")&&(p=p.slice(0,-1),d=!0),0<=p.indexOf(".")&&(p=(m=p.split(".")).shift(),m.sort()),i&&!w.event.customEvent[p]||w.event.global[p]))if((e="object"==typeof e?e[w.expando]?e:new w.Event(p,e):new w.Event(p)).type=p,e.isTrigger=!0,e.exclusive=d,e.namespace=m.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=p.indexOf(":")<0?"on"+p:"",i){if(e.result=v,e.target||(e.target=i),(t=null!=t?w.makeArray(t):[]).unshift(e),!(d=w.event.special[p]||{}).trigger||!1!==d.trigger.apply(i,t)){if(c=[[i,d.bindType||p]],!s&&!d.noBubble&&!w.isWindow(i)){for(u=d.delegateType||p,o=Te.test(u+p)?i:i.parentNode,a=i;o;o=o.parentNode)c.push([o,u]),a=o;a===(i.ownerDocument||x)&&c.push([a.defaultView||a.parentWindow||f,u])}for(n=0;n<c.length&&!e.isPropagationStopped();n++)o=c[n][0],e.type=c[n][1],(h=(w._data(o,"events")||{})[e.type]&&w._data(o,"handle"))&&h.apply(o,t),(h=l&&o[l])&&w.acceptData(o)&&h.apply&&!1===h.apply(o,t)&&e.preventDefault();return e.type=p,s||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(i.ownerDocument,t)||"click"===p&&w.nodeName(i,"a")||!w.acceptData(i)||l&&i[p]&&("focus"!==p&&"blur"!==p||0!==e.target.offsetWidth)&&!w.isWindow(i)&&((a=i[l])&&(i[l]=null),i[w.event.triggered=p](),w.event.triggered=v,a&&(i[l]=a)),e.result}}else for(n in r=w.cache)r[n].events&&r[n].events[p]&&w.event.trigger(e,t,r[n].handle.elem,!0)}},dispatch:function(e){e=w.event.fix(e||f.event);var t,i,s,r,n,o,a,l,d,h=(w._data(this,"events")||{})[e.type]||[],c=h.delegateCount,u=y.call(arguments),p=!e.exclusive&&!e.namespace,m=w.event.special[e.type]||{},g=[];if((u[0]=e).delegateTarget=this,!m.preDispatch||!1!==m.preDispatch.call(this,e)){if(c&&(!e.button||"click"!==e.type))for(s=e.target;s!=this;s=s.parentNode||this)if(!0!==s.disabled||"click"!==e.type){for(n={},a=[],t=0;t<c;t++)n[d=(l=h[t]).selector]===v&&(n[d]=l.needsContext?0<=w(d,this).index(s):w.find(d,this,null,[s]).length),n[d]&&a.push(l);a.length&&g.push({elem:s,matches:a})}for(h.length>c&&g.push({elem:this,matches:h.slice(c)}),t=0;t<g.length&&!e.isPropagationStopped();t++)for(o=g[t],e.currentTarget=o.elem,i=0;i<o.matches.length&&!e.isImmediatePropagationStopped();i++)l=o.matches[i],(p||!e.namespace&&!l.namespace||e.namespace_re&&e.namespace_re.test(l.namespace))&&(e.data=l.data,e.handleObj=l,(r=((w.event.special[l.origType]||{}).handle||l.handler).apply(o.elem,u))!==v&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return m.postDispatch&&m.postDispatch.call(this,e),e.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,s,r=t.button,n=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=(s=e.target.ownerDocument||x).documentElement,s=s.body,e.pageX=t.clientX+(i&&i.scrollLeft||s&&s.scrollLeft||0)-(i&&i.clientLeft||s&&s.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||s&&s.scrollTop||0)-(i&&i.clientTop||s&&s.clientTop||0)),!e.relatedTarget&&n&&(e.relatedTarget=n===e.target?t.toElement:n),e.which||r===v||(e.which=1&r?1:2&r?3:4&r?2:0),e}},fix:function(e){if(e[w.expando])return e;var t,i,s=e,r=w.event.fixHooks[e.type]||{},n=r.props?this.props.concat(r.props):this.props;for(e=w.Event(s),t=n.length;t;)e[i=n[--t]]=s[i];return e.target||(e.target=s.srcElement||x),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,s):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,i){w.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,i,s){e=w.extend(new w.Event,i,{type:e,isSimulated:!0,originalEvent:{}});s?w.event.trigger(e,null,t):w.event.dispatch.call(t,e),e.isDefaultPrevented()&&i.preventDefault()}},w.event.handle=w.event.dispatch,w.removeEvent=x.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){t="on"+t;e.detachEvent&&(void 0===e[t]&&(e[t]=null),e.detachEvent(t,i))},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?Ce:a):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||w.now(),this[w.expando]=!0},w.Event.prototype={preventDefault:function(){this.isDefaultPrevented=Ce;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=Ce;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Ce,this.stopPropagation()},isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a},w.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,r){w.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,i=e.relatedTarget,s=e.handleObj;s.selector;return i&&(i===this||w.contains(this,i))||(e.type=s.origType,t=s.handler.apply(this,arguments),e.type=r),t}}}),w.fn.extend({on:function(e,t,i,s,r){var n,o;if("object"==typeof e){for(o in"string"!=typeof t&&(i=i||t,t=v),e)this.on(o,t,i,e[o],r);return this}if(null==i&&null==s?(s=t,i=t=v):null==s&&("string"==typeof t?(s=i,i=v):(s=i,i=t,t=v)),!1===s)s=a;else if(!s)return this;return 1===r&&(n=s,(s=function(e){return w().off(e),n.apply(this,arguments)}).guid=n.guid||(n.guid=w.guid++)),this.each(function(){w.event.add(this,e,s,i,t)})},off:function(e,t,i){var s,r;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,w(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(i=t,t=v),!1===i&&(i=a),this.each(function(){w.event.remove(this,e,i,t)});for(r in e)this.off(r,t,e[r]);return this},delegate:function(e,t,i,s){return this.on(t,e,i,s)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return w.event.trigger(e,t,this[0],!0)},toggle:function(i){function e(e){var t=(w._data(this,"lastToggle"+i.guid)||0)%r;return w._data(this,"lastToggle"+i.guid,1+t),e.preventDefault(),s[t].apply(this,arguments)||!1}var s=arguments,t=i.guid||w.guid++,r=0;for(e.guid=t;r<s.length;)s[r++].guid=t;return this.click(e)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,i){w.fn[i]=function(e,t){return null==t&&(t=e,e=null),0<arguments.length?this.on(i,null,e,t):this.trigger(i)},qe.test(i)&&(w.event.fixHooks[i]=w.event.keyHooks),je.test(i)&&(w.event.fixHooks[i]=w.event.mouseHooks)});var e=f;function Se(){var i={},s=[];return l(function(e,t){return s.push(e)>b.cacheLength&&delete i[s.shift()],i[e+" "]=t},i)}function t(e){var t=_.createElement("div");try{return e(t)}catch(e){return!1}}var ke,Ie,b,De,Pe,Ae,Me,He,h,Be,ze,Ee,Le,Ne,Oe,c,s,r,n="undefined",u=("sizcache"+Math.random()).replace(".",""),Re=String,_=e.document,i=_.documentElement,Fe=0,We=0,Ve=[].pop,q=[].push,m=[].slice,Ge=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1},l=function(e,t){return e[u]=null==t||t,e},Ue=Se(),Ye=Se(),Ke=Se(),o="[\\x20\\t\\r\\n\\f]",d=(e="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+").replace("w","w#"),Xe=":("+e+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+(d="\\["+o+"*("+e+")"+o+"*(?:([*^$|!~]?=)"+o+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+d+")|)|)"+o+"*\\]")+")|[^:]|\\\\.)*|.*))\\)|)",$e=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+o+"*((?:-\\d)?\\d*)"+o+"*\\)|)(?=[^-]|$)",Ze=new RegExp("^"+o+"+|((?:^|[^\\\\])(?:\\\\.)*)"+o+"+$","g"),Je=new RegExp("^"+o+"*,"+o+"*"),Qe=new RegExp("^"+o+"*([\\x20\\t\\r\\n\\f>+~])"+o+"*"),et=new RegExp(Xe),tt=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,it=/[\x20\t\r\n\f]*[+~]/,st=/h\d/i,rt=/input|select|textarea|button/i,g=/\\(?!\\)/g,nt={ID:new RegExp("^#("+e+")"),CLASS:new RegExp("^\\.("+e+")"),NAME:new RegExp("^\\[name=['\"]?("+e+")['\"]?\\]"),TAG:new RegExp("^("+e.replace("w","w*")+")"),ATTR:new RegExp("^"+d),PSEUDO:new RegExp("^"+Xe),POS:new RegExp($e,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+o+"*(even|odd|(([+-]|)(\\d*)n|)"+o+"*(?:([+-]|)"+o+"*(\\d+)|))"+o+"*\\)|)","i"),needsContext:new RegExp("^"+o+"*[>+~]|"+$e,"i")},e=t(function(e){return e.appendChild(_.createComment("")),!e.getElementsByTagName("*").length}),d=t(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!=n&&"#"===e.firstChild.getAttribute("href")}),ot=t(function(e){e.innerHTML="<select></select>";e=typeof e.lastChild.getAttribute("multiple");return"boolean"!=e&&"string"!=e}),at=t(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!e.getElementsByClassName||!e.getElementsByClassName("e").length)&&(e.lastChild.className="e",2===e.getElementsByClassName("e").length)}),$e=t(function(e){e.id=u+0,e.innerHTML="<a name='"+u+"'></a><div name='"+u+"'></div>",i.insertBefore(e,i.firstChild);var t=_.getElementsByName&&_.getElementsByName(u).length===2+_.getElementsByName(u+0).length;return Ie=!_.getElementById(u),i.removeChild(e),t});try{m.call(i.childNodes,0)[0].nodeType}catch(e){m=function(e){for(var t,i=[];t=this[e];e++)i.push(t);return i}}function j(e,t,i,s){i=i||[];var r,n,o,a,l=(t=t||_).nodeType;if(!e||"string"!=typeof e)return i;if(1!==l&&9!==l)return[];if(!(o=Pe(t))&&!s&&(r=tt.exec(e)))if(a=r[1]){if(9===l){if(!(n=t.getElementById(a))||!n.parentNode)return i;if(n.id===a)return i.push(n),i}else if(t.ownerDocument&&(n=t.ownerDocument.getElementById(a))&&Ae(t,n)&&n.id===a)return i.push(n),i}else{if(r[2])return q.apply(i,m.call(t.getElementsByTagName(e),0)),i;if((a=r[3])&&at&&t.getElementsByClassName)return q.apply(i,m.call(t.getElementsByClassName(a),0)),i}return ft(e.replace(Ze,"$1"),t,i,s,o)}function T(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function lt(i){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===i}}function C(o){return l(function(n){return n=+n,l(function(e,t){for(var i,s=o([],e.length,n),r=s.length;r--;)e[i=s[r]]&&(e[i]=!(t[i]=e[i]))})})}function dt(e,t,i){if(e===t)return i;for(var s=e.nextSibling;s;){if(s===t)return-1;s=s.nextSibling}return 1}function ht(e,t){var i,s,r,n,o,a,l,d=Ye[u][e+" "];if(d)return t?0:d.slice(0);for(o=e,a=[],l=b.preFilter;o;){for(n in i&&!(s=Je.exec(o))||(s&&(o=o.slice(s[0].length)||o),a.push(r=[])),i=!1,(s=Qe.exec(o))&&(r.push(i=new Re(s.shift())),o=o.slice(i.length),i.type=s[0].replace(Ze," ")),b.filter)!(s=nt[n].exec(o))||l[n]&&!(s=l[n](s))||(r.push(i=new Re(s.shift())),o=o.slice(i.length),i.type=n,i.matches=s);if(!i)break}return t?o.length:o?j.error(e):Ye(e,a).slice(0)}function ct(o,e,t){var a=e.dir,l=t&&"parentNode"===e.dir,d=We++;return e.first?function(e,t,i){for(;e=e[a];)if(l||1===e.nodeType)return o(e,t,i)}:function(e,t,i){if(i){for(;e=e[a];)if((l||1===e.nodeType)&&o(e,t,i))return e}else for(var s,r=Fe+" "+d+" ",n=r+ke;e=e[a];)if(l||1===e.nodeType){if((s=e[u])===n)return e.sizset;if("string"==typeof s&&0===s.indexOf(r)){if(e.sizset)return e}else{if(e[u]=n,o(e,t,i))return e.sizset=!0,e;e.sizset=!1}}}}function ut(r){return 1<r.length?function(e,t,i){for(var s=r.length;s--;)if(!r[s](e,t,i))return!1;return!0}:r[0]}function pt(e,t,i,s,r){for(var n,o=[],a=0,l=e.length,d=null!=t;a<l;a++)!(n=e[a])||i&&!i(n,s,r)||(o.push(n),d&&t.push(a));return o}function mt(p,m,g,f,v,e){return f&&!f[u]&&(f=mt(f)),v&&!v[u]&&(v=mt(v,e)),l(function(e,t,i,s){var r,n,o,a=[],l=[],d=t.length,h=e||function(e,t,i){for(var s=0,r=t.length;s<r;s++)j(e,t[s],i);return i}(m||"*",i.nodeType?[i]:i,[]),c=!p||!e&&m?h:pt(h,a,p,i,s),u=g?v||(e?p:d||f)?[]:t:c;if(g&&g(c,u,i,s),f)for(r=pt(u,l),f(r,[],i,s),n=r.length;n--;)(o=r[n])&&(u[l[n]]=!(c[l[n]]=o));if(e){if(v||p){if(v){for(r=[],n=u.length;n--;)(o=u[n])&&r.push(c[n]=o);v(null,u=[],r,s)}for(n=u.length;n--;)(o=u[n])&&-1<(r=v?Ge.call(e,o):a[n])&&(e[r]=!(t[r]=o))}}else u=pt(u===t?u.splice(d,u.length):u),v?v(null,t,u,s):q.apply(t,u)})}function gt(f,v){function x(e,t,i,s,r){var n,o,a,l=[],d=0,h="0",c=e&&[],u=null!=r,p=Be,m=e||w&&b.find.TAG("*",r&&t.parentNode||t),g=Fe+=null==p?1:Math.E;for(u&&(Be=t!==_&&t,ke=x.el);null!=(n=m[h]);h++){if(w&&n){for(o=0;a=f[o];o++)if(a(n,t,i)){s.push(n);break}u&&(Fe=g,ke=++x.el)}y&&((n=!a&&n)&&d--,e&&c.push(n))}if(d+=h,y&&h!==d){for(o=0;a=v[o];o++)a(c,l,t,i);if(e){if(0<d)for(;h--;)c[h]||l[h]||(l[h]=Ve.call(s));l=pt(l)}q.apply(s,l),u&&!e&&0<l.length&&1<d+v.length&&j.uniqueSort(s)}return u&&(Fe=g,Be=p),c}var y=0<v.length,w=0<f.length;return x.el=0,y?l(x):x}function ft(e,t,i,s,r){var n,o,a,l,d,h=ht(e);h.length;if(!s&&1===h.length){if(2<(o=h[0]=h[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&!r&&b.relative[o[1].type]){if(!(t=b.find.ID(a.matches[0].replace(g,""),t,r)[0]))return i;e=e.slice(o.shift().length)}for(n=nt.POS.test(e)?-1:o.length-1;0<=n&&(a=o[n],!b.relative[l=a.type]);n--)if((d=b.find[l])&&(s=d(a.matches[0].replace(g,""),it.test(o[0].type)&&t.parentNode||t,r))){if(o.splice(n,1),e=s.length&&o.join(""))break;return q.apply(i,m.call(s,0)),i}}return Me(e,h)(s,t,r,i,it.test(e)),i}function vt(){}j.matches=function(e,t){return j(e,null,null,t)},j.matchesSelector=function(e,t){return 0<j(t,null,null,[e]).length},De=j.getText=function(e){var t,i="",s=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=De(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[s];s++)i+=De(t);return i},Pe=j.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},Ae=j.contains=i.contains?function(e,t){var i=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!!(t&&1===t.nodeType&&i.contains&&i.contains(t))}:i.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},j.attr=function(e,t){var i,s=Pe(e);return s||(t=t.toLowerCase()),(i=b.attrHandle[t])?i(e):s||ot?e.getAttribute(t):(i=e.getAttributeNode(t))?"boolean"==typeof e[t]?e[t]?t:null:i.specified?i.value:null:null},b=j.selectors={cacheLength:50,createPseudo:l,match:nt,attrHandle:d?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:Ie?function(e,t,i){if(typeof t.getElementById!=n&&!i)return(i=t.getElementById(e))&&i.parentNode?[i]:[]}:function(e,t,i){if(typeof t.getElementById!=n&&!i)return(i=t.getElementById(e))?i.id===e||typeof i.getAttributeNode!=n&&i.getAttributeNode("id").value===e?[i]:void 0:[]},TAG:e?function(e,t){if(typeof t.getElementsByTagName!=n)return t.getElementsByTagName(e)}:function(e,t){var i=t.getElementsByTagName(e);if("*"!==e)return i;for(var s,r=[],n=0;s=i[n];n++)1===s.nodeType&&r.push(s);return r},NAME:$e&&function(e,t){if(typeof t.getElementsByName!=n)return t.getElementsByName(name)},CLASS:at&&function(e,t,i){if(typeof t.getElementsByClassName!=n&&!i)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(g,""),e[3]=(e[4]||e[5]||"").replace(g,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||j.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&j.error(e[0]),e},PSEUDO:function(e){var t,i;return nt.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(et.test(t)&&(i=ht(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(t=t.slice(0,i),e[0]=e[0].slice(0,i)),e[2]=t),e.slice(0,3))}},filter:{ID:Ie?function(t){return t=t.replace(g,""),function(e){return e.getAttribute("id")===t}}:function(t){return t=t.replace(g,""),function(e){e=typeof e.getAttributeNode!=n&&e.getAttributeNode("id");return e&&e.value===t}},TAG:function(t){return"*"===t?function(){return!0}:(t=t.replace(g,"").toLowerCase(),function(e){return e.nodeName&&e.nodeName.toLowerCase()===t})},CLASS:function(e){var t=Ue[u][e+" "];return t||(t=new RegExp("(^|"+o+")"+e+"("+o+"|$)"))&&Ue(e,function(e){return t.test(e.className||typeof e.getAttribute!=n&&e.getAttribute("class")||"")})},ATTR:function(i,s,r){return function(e,t){e=j.attr(e,i);return null==e?"!="===s:!s||(e+="","="===s?e===r:"!="===s?e!==r:"^="===s?r&&0===e.indexOf(r):"*="===s?r&&-1<e.indexOf(r):"$="===s?r&&e.substr(e.length-r.length)===r:"~="===s?-1<(" "+e+" ").indexOf(r):"|="===s&&(e===r||e.substr(0,r.length+1)===r+"-"))}},CHILD:function(i,e,r,n){return"nth"===i?function(e){var t,i,s=e.parentNode;if(1===r&&0===n)return!0;if(s)for(i=0,t=s.firstChild;t&&(1!==t.nodeType||(i++,e!==t));t=t.nextSibling);return(i-=n)===r||i%r==0&&0<=i/r}:function(e){var t=e;switch(i){case"only":case"first":for(;t=t.previousSibling;)if(1===t.nodeType)return!1;if("first"===i)return!0;t=e;case"last":for(;t=t.nextSibling;)if(1===t.nodeType)return!1;return!0}}},PSEUDO:function(e,n){var t,o=b.pseudos[e]||b.setFilters[e.toLowerCase()]||j.error("unsupported pseudo: "+e);return o[u]?o(n):1<o.length?(t=[e,e,"",n],b.setFilters.hasOwnProperty(e.toLowerCase())?l(function(e,t){for(var i,s=o(e,n),r=s.length;r--;)e[i=Ge.call(e,s[r])]=!(t[i]=s[r])}):function(e){return o(e,0,t)}):o}},pseudos:{not:l(function(e){var s=[],r=[],a=Me(e.replace(Ze,"$1"));return a[u]?l(function(e,t,i,s){for(var r,n=a(e,null,s,[]),o=e.length;o--;)(r=n[o])&&(e[o]=!(t[o]=r))}):function(e,t,i){return s[0]=e,a(s,null,i,r),!r.pop()}}),has:l(function(t){return function(e){return 0<j(t,e).length}}),contains:l(function(t){return function(e){return-1<(e.textContent||e.innerText||De(e)).indexOf(t)}}),enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},parent:function(e){return!b.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if("@"<e.nodeName||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return st.test(e.nodeName)},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(e=e.getAttribute("type"))||e.toLowerCase()===t)},radio:T("radio"),checkbox:T("checkbox"),file:T("file"),password:T("password"),image:T("image"),submit:lt("submit"),reset:lt("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return rt.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:C(function(){return[0]}),last:C(function(e,t){return[t-1]}),eq:C(function(e,t,i){return[i<0?i+t:i]}),even:C(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:C(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:C(function(e,t,i){for(var s=i<0?i+t:i;0<=--s;)e.push(s);return e}),gt:C(function(e,t,i){for(var s=i<0?i+t:i;++s<t;)e.push(s);return e})}},He=i.compareDocumentPosition?function(e,t){return e===t?(h=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return h=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var i=[],s=[],r=e.parentNode,n=t.parentNode,o=r;if(r===n)return dt(e,t);if(!r)return-1;if(!n)return 1;for(;o;)i.unshift(o),o=o.parentNode;for(o=n;o;)s.unshift(o),o=o.parentNode;for(var a=i.length,l=s.length,d=0;d<a&&d<l;d++)if(i[d]!==s[d])return dt(i[d],s[d]);return d===a?dt(e,s[d],-1):dt(i[d],t,1)},[0,0].sort(He),ze=!h,j.uniqueSort=function(e){var t,i=[],s=1,r=0;if(h=ze,e.sort(He),h){for(;t=e[s];s++)t===e[s-1]&&(r=i.push(s));for(;r--;)e.splice(i[r],1)}return e},j.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Me=j.compile=function(e,t){var i,s=[],r=[],n=Ke[u][e+" "];if(!n){for(i=(t=t||ht(e)).length;i--;)((n=function e(t){for(var s,i,r,n=t.length,o=b.relative[t[0].type],a=o||b.relative[" "],l=o?1:0,d=ct(function(e){return e===s},a,!0),h=ct(function(e){return-1<Ge.call(s,e)},a,!0),c=[function(e,t,i){return!o&&(i||t!==Be)||((s=t).nodeType?d:h)(e,t,i)}];l<n;l++)if(i=b.relative[t[l].type])c=[ct(ut(c),i)];else{if((i=b.filter[t[l].type].apply(null,t[l].matches))[u]){for(r=++l;r<n&&!b.relative[t[r].type];r++);return mt(1<l&&ut(c),1<l&&t.slice(0,l-1).join("").replace(Ze,"$1"),i,l<r&&e(t.slice(l,r)),r<n&&e(t=t.slice(r)),r<n&&t.join(""))}c.push(i)}return ut(c)}(t[i]))[u]?s:r).push(n);n=Ke(e,gt(r,s))}return n},_.querySelectorAll&&(Le=ft,Ne=/'|\\/g,Oe=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,c=[":focus"],s=[":active"],r=i.matchesSelector||i.mozMatchesSelector||i.webkitMatchesSelector||i.oMatchesSelector||i.msMatchesSelector,t(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||c.push("\\["+o+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||c.push(":checked")}),t(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&c.push("[*^$]="+o+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||c.push(":enabled",":disabled")}),c=new RegExp(c.join("|")),ft=function(e,t,i,s,r){if(!s&&!r&&!c.test(e)){var n,o,a=!0,l=u,d=t,h=9===t.nodeType&&e;if(1===t.nodeType&&"object"!==t.nodeName.toLowerCase()){for(n=ht(e),(a=t.getAttribute("id"))?l=a.replace(Ne,"\\$&"):t.setAttribute("id",l),l="[id='"+l+"'] ",o=n.length;o--;)n[o]=l+n[o].join("");d=it.test(e)&&t.parentNode||t,h=n.join(",")}if(h)try{return q.apply(i,m.call(d.querySelectorAll(h),0)),i}catch(e){}finally{a||t.removeAttribute("id")}}return Le(e,t,i,s,r)},r&&(t(function(e){Ee=r.call(e,"div");try{r.call(e,"[test!='']:sizzle"),s.push("!=",Xe)}catch(e){}}),s=new RegExp(s.join("|")),j.matchesSelector=function(e,t){if(t=t.replace(Oe,"='$1']"),!Pe(e)&&!s.test(t)&&!c.test(t))try{var i=r.call(e,t);if(i||Ee||e.document&&11!==e.document.nodeType)return i}catch(e){}return 0<j(t,null,null,[e]).length})),b.pseudos.nth=b.pseudos.eq,b.filters=vt.prototype=b.pseudos,b.setFilters=new vt,j.attr=w.attr,w.find=j,w.expr=j.selectors,w.expr[":"]=w.expr.pseudos,w.unique=j.uniqueSort,w.text=j.getText,w.isXMLDoc=j.isXML,w.contains=j.contains;var xt=/Until$/,yt=/^(?:parents|prev(?:Until|All))/,wt=/^.[^:#\[\.,]*$/,bt=w.expr.match.needsContext,_t={children:!0,contents:!0,next:!0,prev:!0};function S(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function qt(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function jt(e,i,s){if(i=i||0,w.isFunction(i))return w.grep(e,function(e,t){return!!i.call(e,t,e)===s});if(i.nodeType)return w.grep(e,function(e,t){return e===i===s});if("string"==typeof i){var t=w.grep(e,function(e){return 1===e.nodeType});if(wt.test(i))return w.filter(i,t,!s);i=w.filter(i,t)}return w.grep(e,function(e,t){return 0<=w.inArray(e,i)===s})}function Tt(e){var t=Ct.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}w.fn.extend({find:function(e){var t,i,s,r,n,o,a=this;if("string"!=typeof e)return w(e).filter(function(){for(t=0,i=a.length;t<i;t++)if(w.contains(a[t],this))return!0});for(o=this.pushStack("","find",e),t=0,i=this.length;t<i;t++)if(s=o.length,w.find(e,this[t],o),0<t)for(r=s;r<o.length;r++)for(n=0;n<s;n++)if(o[n]===o[r]){o.splice(r--,1);break}return o},has:function(e){var t,i=w(e,this),s=i.length;return this.filter(function(){for(t=0;t<s;t++)if(w.contains(this,i[t]))return!0})},not:function(e){return this.pushStack(jt(this,e,!1),"not",e)},filter:function(e){return this.pushStack(jt(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?bt.test(e)?0<=w(e,this.context).index(this[0]):0<w.filter(e,this).length:0<this.filter(e).length)},closest:function(e,t){for(var i,s=0,r=this.length,n=[],o=bt.test(e)||"string"!=typeof e?w(e,t||this.context):0;s<r;s++)for(i=this[s];i&&i.ownerDocument&&i!==t&&11!==i.nodeType;){if(o?-1<o.index(i):w.find.matchesSelector(i,e)){n.push(i);break}i=i.parentNode}return n=1<n.length?w.unique(n):n,this.pushStack(n,"closest",e)},index:function(e){return e?"string"==typeof e?w.inArray(this[0],w(e)):w.inArray(e.jqx?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){t="string"==typeof e?w(e,t):w.makeArray(e&&e.nodeType?[e]:e),e=w.merge(this.get(),t);return this.pushStack(S(t[0])||S(e[0])?e:w.unique(e))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.fn.andSelf=w.fn.addBack,w.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return w.dir(e,"parentNode")},parentsUntil:function(e,t,i){return w.dir(e,"parentNode",i)},next:function(e){return qt(e,"nextSibling")},prev:function(e){return qt(e,"previousSibling")},nextAll:function(e){return w.dir(e,"nextSibling")},prevAll:function(e){return w.dir(e,"previousSibling")},nextUntil:function(e,t,i){return w.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return w.dir(e,"previousSibling",i)},siblings:function(e){return w.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return w.sibling(e.firstChild)},contents:function(e){return w.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:w.merge([],e.childNodes)}},function(s,r){w.fn[s]=function(e,t){var i=w.map(this,r,e);return(t=xt.test(s)?t:e)&&"string"==typeof t&&(i=w.filter(t,i)),i=1<this.length&&!_t[s]?w.unique(i):i,1<this.length&&yt.test(s)&&(i=i.reverse()),this.pushStack(i,s,y.call(arguments).join(","))}}),w.extend({filter:function(e,t,i){return i&&(e=":not("+e+")"),1===t.length?w.find.matchesSelector(t[0],e)?[t[0]]:[]:w.find.matches(e,t)},dir:function(e,t,i){for(var s=[],r=e[t];r&&9!==r.nodeType&&(i===v||1!==r.nodeType||!w(r).is(i));)1===r.nodeType&&s.push(r),r=r[t];return s},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var Ct="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",St=/ JQXLite\d+="(?:null|\d+)"/g,kt=/^\s+/,It=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Dt=/<([\w:]+)/,Pt=/<tbody/i,At=/<|&#?\w+;/,Mt=/<(?:script|style|link)/i,Ht=/<(?:script|object|embed|option|style)/i,Bt=new RegExp("<(?:"+Ct+")[\\s/>]","i"),zt=/^(?:checkbox|radio)$/,Et=/checked\s*(?:[^=]|=\s*.checked.)/i,Lt=/\/(java|ecma)script/i,Nt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,k={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ot=Tt(x),Rt=Ot.appendChild(x.createElement("div"));function Ft(e,t){if(1===t.nodeType&&w.hasData(e)){var i,s,r,e=w._data(e),n=w._data(t,e),o=e.events;if(o)for(i in delete n.handle,n.events={},o)for(s=0,r=o[i].length;s<r;s++)w.event.add(t,i,o[i][s]);n.data&&(n.data=w.extend({},n.data))}}function Wt(e,t){var i;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),"object"===(i=t.nodeName.toLowerCase())?(t.parentNode&&(t.outerHTML=e.outerHTML),w.support.html5Clone&&e.innerHTML&&!w.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&zt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.selected=e.defaultSelected:"input"===i||"textarea"===i?t.defaultValue=e.defaultValue:"script"===i&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(w.expando))}function Vt(e){return void 0!==e.getElementsByTagName?e.getElementsByTagName("*"):void 0!==e.querySelectorAll?e.querySelectorAll("*"):[]}function Gt(e){zt.test(e.type)&&(e.defaultChecked=e.checked)}k.optgroup=k.option,k.tbody=k.tfoot=k.colgroup=k.caption=k.thead,k.th=k.td,w.support.htmlSerialize||(k._default=[1,"X<div>","</div>"]),w.fn.extend({text:function(e){return w.access(this,function(e){return e===v?w.text(this):this.empty().append((this[0]&&this[0].ownerDocument||x).createTextNode(e))},null,e,arguments.length)},wrapAll:function(t){return w.isFunction(t)?this.each(function(e){w(this).wrapAll(t.call(this,e))}):(this[0]&&(e=w(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)),this);var e},wrapInner:function(i){return w.isFunction(i)?this.each(function(e){w(this).wrapInner(i.call(this,e))}):this.each(function(){var e=w(this),t=e.contents();t.length?t.wrapAll(i):e.append(i)})},wrap:function(t){var i=w.isFunction(t);return this.each(function(e){w(this).wrapAll(i?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){w.nodeName(this,"body")||w(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType||this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType||this.insertBefore(e,this.firstChild)})},before:function(){return S(this[0])?arguments.length?(e=w.clean(arguments),this.pushStack(w.merge(e,this),"before",this.selector)):void 0:this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});var e},after:function(){return S(this[0])?arguments.length?(e=w.clean(arguments),this.pushStack(w.merge(this,e),"after",this.selector)):void 0:this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});var e},remove:function(e,t){for(var i,s=0;null!=(i=this[s]);s++)e&&!w.filter(e,[i]).length||(t||1!==i.nodeType||(w.cleanData(i.getElementsByTagName("*")),w.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&w.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return w.access(this,function(e){var t=this[0]||{},i=0,s=this.length;if(e===v)return 1===t.nodeType?t.innerHTML.replace(St,""):v;if("string"==typeof e&&!Mt.test(e)&&(w.support.htmlSerialize||!Bt.test(e))&&(w.support.leadingWhitespace||!kt.test(e))&&!k[(Dt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(It,"<$1></$2>");try{for(;i<s;i++)1===(t=this[i]||{}).nodeType&&(w.cleanData(t.getElementsByTagName("*")),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(s){return S(this[0])?this.length?this.pushStack(w(w.isFunction(s)?s():s),"replaceWith",s):this:w.isFunction(s)?this.each(function(e){var t=w(this),i=t.html();t.replaceWith(s.call(this,e,i))}):("string"!=typeof s&&(s=w(s).detach()),this.each(function(){var e=this.nextSibling,t=this.parentNode;w(this).remove(),e?w(e).before(s):w(t).append(s)}))},detach:function(e){return this.remove(e,!0)},domManip:function(i,s,r){var e,t,n,o,a,l,d=0,h=(i=[].concat.apply([],i))[0],c=[],u=this.length;if(!w.support.checkClone&&1<u&&"string"==typeof h&&Et.test(h))return this.each(function(){w(this).domManip(i,s,r)});if(w.isFunction(h))return this.each(function(e){var t=w(this);i[0]=h.call(this,e,s?t.html():v),t.domManip(i,s,r)});if(this[0]){if(t=(n=(e=w.buildFragment(i,this,c)).fragment).firstChild,1===n.childNodes.length&&(n=t),t)for(s=s&&w.nodeName(t,"tr"),o=e.cacheable||u-1;d<u;d++)r.call(s&&w.nodeName(this[d],"table")?(a=this[d],l="tbody",a.getElementsByTagName(l)[0]||a.appendChild(a.ownerDocument.createElement(l))):this[d],d===o?n:w.clone(n,!0,!0));n=t=null,c.length&&w.each(c,function(e,t){t.src?w.ajax?w.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):w.error("no ajax"):w.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Nt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),w.buildFragment=function(e,t,i){var s,r,n,o=e[0];return t=(t=!(t=t||x).nodeType&&t[0]||t).ownerDocument||t,!(1===e.length&&"string"==typeof o&&o.length<512&&t===x&&"<"===o.charAt(0))||Ht.test(o)||!w.support.checkClone&&Et.test(o)||!w.support.html5Clone&&Bt.test(o)||(r=!0,n=(s=w.fragments[o])!==v),s||(s=t.createDocumentFragment(),w.clean(e,t,s,i),r&&(w.fragments[o]=n&&s)),{fragment:s,cacheable:r}},w.fragments={},w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(o,a){w.fn[o]=function(e){var t,i=0,s=[],r=w(e),n=r.length,e=1===this.length&&this[0].parentNode;if((null==e||e&&11===e.nodeType&&1===e.childNodes.length)&&1===n)return r[a](this[0]),this;for(;i<n;i++)t=(0<i?this.clone(!0):this).get(),w(r[i])[a](t),s=s.concat(t);return this.pushStack(s,o,r.selector)}}),w.extend({clone:function(e,t,i){var s,r,n,o;if(w.support.html5Clone||w.isXMLDoc(e)||!Bt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Rt.innerHTML=e.outerHTML,Rt.removeChild(o=Rt.firstChild)),!(w.support.noCloneEvent&&w.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(Wt(e,o),s=Vt(e),r=Vt(o),n=0;s[n];++n)r[n]&&Wt(s[n],r[n]);if(t&&(Ft(e,o),i))for(s=Vt(e),r=Vt(o),n=0;s[n];++n)Ft(s[n],r[n]);return s=r=null,o},clean:function(e,t,i,s){var r,n,o,a,l,d,h,c,u,p,m,g=t===x&&Ot,f=[];for(t&&void 0!==t.createDocumentFragment||(t=x),r=0;null!=(o=e[r]);r++)if("number"==typeof o&&(o+=""),o){if("string"==typeof o)if(At.test(o)){for(g=g||Tt(t),h=t.createElement("div"),g.appendChild(h),o=o.replace(It,"<$1></$2>"),a=(Dt.exec(o)||["",""])[1].toLowerCase(),d=(l=k[a]||k._default)[0],h.innerHTML=l[1]+o+l[2];d--;)h=h.lastChild;if(!w.support.tbody)for(c=Pt.test(o),n=(u="table"!==a||c?"<table>"!==l[1]||c?[]:h.childNodes:h.firstChild&&h.firstChild.childNodes).length-1;0<=n;--n)w.nodeName(u[n],"tbody")&&!u[n].childNodes.length&&u[n].parentNode.removeChild(u[n]);!w.support.leadingWhitespace&&kt.test(o)&&h.insertBefore(t.createTextNode(kt.exec(o)[0]),h.firstChild),o=h.childNodes,h.parentNode.removeChild(h)}else o=t.createTextNode(o);o.nodeType?f.push(o):w.merge(f,o)}if(h&&(o=h=g=null),!w.support.appendChecked)for(r=0;null!=(o=f[r]);r++)w.nodeName(o,"input")?Gt(o):void 0!==o.getElementsByTagName&&w.grep(o.getElementsByTagName("input"),Gt);if(i)for(p=function(e){if(!e.type||Lt.test(e.type))return s?s.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e)},r=0;null!=(o=f[r]);r++)w.nodeName(o,"script")&&p(o)||(i.appendChild(o),void 0!==o.getElementsByTagName&&(m=w.grep(w.merge([],o.getElementsByTagName("script")),p),f.splice.apply(f,[r+1,0].concat(m)),r+=m.length));return f},cleanData:function(e,t){for(var i,s,r,n,o=0,a=w.expando,l=w.cache,d=w.support.deleteExpando,h=w.event.special;null!=(r=e[o]);o++)if((t||w.acceptData(r))&&(i=(s=r[a])&&l[s])){if(i.events)for(n in i.events)h[n]?w.event.remove(r,n):w.removeEvent(r,n,i.handle);l[s]&&(delete l[s],d?delete r[a]:r.removeAttribute?r.removeAttribute(a):r[a]=null,w.deletedIds.push(s))}}}),w.uaMatch=function(e){e=e.toLowerCase();e=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:e[1]||"",version:e[2]||"0"}},d={},(e=w.uaMatch(O.userAgent)).browser&&(d[e.browser]=!0,d.version=e.version),d.chrome?d.webkit=!0:d.webkit&&(d.safari=!0),w.browser=d,w.sub=function(){function i(e,t){return new i.fn.init(e,t)}w.extend(!0,i,this),i.superclass=this,((i.fn=i.prototype=this()).constructor=i).sub=this.sub,i.fn.init=function(e,t){return t&&t instanceof w&&!(t instanceof i)&&(t=i(t)),w.fn.init.call(this,e,t,s)},i.fn.init.prototype=i.fn;var s=i(x);return i};var I,D,P,Ut=/alpha\([^)]*\)/i,Yt=/opacity=([^)]*)/,Kt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,$t=/^margin/,Zt=new RegExp("^("+K+")(.*)$","i"),Jt=new RegExp("^("+K+")(?!px)[a-z%]+$","i"),Qt=new RegExp("^([-+])=("+K+")","i"),ei={BODY:"block"},ti={position:"absolute",visibility:"hidden",display:"block"},ii={letterSpacing:0,fontWeight:400},A=["Top","Right","Bottom","Left"],si=["Webkit","O","Moz","ms"],ri=w.fn.toggle;function ni(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),s=t,r=si.length;r--;)if((t=si[r]+i)in e)return t;return s}function oi(e,t){return"none"===w.css(e=t||e,"display")||!w.contains(e.ownerDocument,e)}function ai(e,t){for(var i,s,r=[],n=0,o=e.length;n<o;n++)(i=e[n]).style&&(r[n]=w._data(i,"olddisplay"),t?(r[n]||"none"!==i.style.display||(i.style.display=""),""===i.style.display&&oi(i)&&(r[n]=w._data(i,"olddisplay",ci(i.nodeName)))):(s=I(i,"display"),r[n]||"none"===s||w._data(i,"olddisplay",s)));for(n=0;n<o;n++)!(i=e[n]).style||t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[n]||"":"none");return e}function li(e,t,i){var s=Zt.exec(t);return s?Math.max(0,s[1]-(i||0))+(s[2]||"px"):t}function di(e,t,i,s){for(var r=i===(s?"border":"content")?4:"width"===t?1:0,n=0;r<4;r+=2)"margin"===i&&(n+=w.css(e,i+A[r],!0)),s?("content"===i&&(n-=parseFloat(I(e,"padding"+A[r]))||0),"margin"!==i&&(n-=parseFloat(I(e,"border"+A[r]+"Width"))||0)):(n+=parseFloat(I(e,"padding"+A[r]))||0,"padding"!==i&&(n+=parseFloat(I(e,"border"+A[r]+"Width"))||0));return n}function hi(e,t,i){var s="width"===t?e.offsetWidth:e.offsetHeight,r=!0,n=w.support.boxSizing&&"border-box"===w.css(e,"boxSizing");if(s<=0||null==s){if(((s=I(e,t))<0||null==s)&&(s=e.style[t]),Jt.test(s))return s;r=n&&(w.support.boxSizingReliable||s===e.style[t]),s=parseFloat(s)||0}return s+di(e,t,i||(n?"border":"content"),r)+"px"}function ci(e){if(ei[e])return ei[e];var t=w("<"+e+">").appendTo(x.body),i=t.css("display");return t.remove(),"none"!==i&&""!==i||(D=x.body.appendChild(D||w.extend(x.createElement("iframe"),{frameBorder:0,width:0,height:0})),P&&D.createElement||((P=(D.contentWindow||D.contentDocument).document).write("<!doctype html><html><body>"),P.close()),t=P.body.appendChild(P.createElement(e)),i=I(t,"display"),x.body.removeChild(D)),ei[e]=i}w.fn.extend({css:function(e,t){return w.access(this,function(e,t,i){return i!==v?w.style(e,t,i):w.css(e,t)},e,t,1<arguments.length)},show:function(){return ai(this,!0)},hide:function(){return ai(this)},toggle:function(e,t){var i="boolean"==typeof e;return w.isFunction(e)&&w.isFunction(t)?ri.apply(this,arguments):this.each(function(){(i?e:oi(this))?w(this).show():w(this).hide()})}}),w.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(t=I(e,"opacity"))?"1":t}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:w.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,s){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,n,o,a=w.camelCase(t),l=e.style;if(t=w.cssProps[a]||(w.cssProps[a]=ni(l,a)),o=w.cssHooks[t]||w.cssHooks[a],i===v)return o&&"get"in o&&(r=o.get(e,!1,s))!==v?r:l[t];if("string"===(n=typeof i)&&(r=Qt.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(w.css(e,t)),n="number"),!(null==i||"number"===n&&isNaN(i)||("number"!==n||w.cssNumber[a]||(i+="px"),o&&"set"in o&&(i=o.set(e,i,s))===v)))try{l[t]=i}catch(e){}}},css:function(e,t,i,s){var r,n=w.camelCase(t);return t=w.cssProps[n]||(w.cssProps[n]=ni(e.style,n)),"normal"===(r=(r=(n=w.cssHooks[t]||w.cssHooks[n])&&"get"in n?n.get(e,!0,s):r)===v?I(e,t):r)&&t in ii&&(r=ii[t]),i||s!==v?(n=parseFloat(r),i||w.isNumeric(n)?n||0:r):r},swap:function(e,t,i){var s,r={};for(s in t)r[s]=e.style[s],e.style[s]=t[s];for(s in i=i.call(e),t)e.style[s]=r[s];return i}}),f.getComputedStyle?I=function(e,t){var i,s,r=f.getComputedStyle(e,null),n=e.style;return r&&(""!==(i=r.getPropertyValue(t)||r[t])||w.contains(e.ownerDocument,e)||(i=w.style(e,t)),Jt.test(i)&&$t.test(t)&&(e=n.width,t=n.minWidth,s=n.maxWidth,n.minWidth=n.maxWidth=n.width=i,i=r.width,n.width=e,n.minWidth=t,n.maxWidth=s)),i}:x.documentElement.currentStyle&&(I=function(e,t){var i,s,r=e.currentStyle&&e.currentStyle[t],n=e.style;return null==r&&n&&n[t]&&(r=n[t]),Jt.test(r)&&!Kt.test(t)&&(i=n.left,(s=e.runtimeStyle&&e.runtimeStyle.left)&&(e.runtimeStyle.left=e.currentStyle.left),n.left="fontSize"===t?"1em":r,r=n.pixelLeft+"px",n.left=i,s&&(e.runtimeStyle.left=s)),""===r?"auto":r}),w.each(["height","width"],function(e,s){w.cssHooks[s]={get:function(e,t,i){if(t)return 0===e.offsetWidth&&Xt.test(I(e,"display"))?w.swap(e,ti,function(){return hi(e,s,i)}):hi(e,s,i)},set:function(e,t,i){return li(0,t,i?di(e,s,i,w.support.boxSizing&&"border-box"===w.css(e,"boxSizing")):0)}}}),w.support.opacity||(w.cssHooks.opacity={get:function(e,t){return Yt.test((t&&e.currentStyle?e.currentStyle:e.style).filter||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,e=e.currentStyle,s=w.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=e&&e.filter||i.filter||"";(i.zoom=1)<=t&&""===w.trim(r.replace(Ut,""))&&i.removeAttribute&&(i.removeAttribute("filter"),e&&!e.filter)||(i.filter=Ut.test(r)?r.replace(Ut,s):r+" "+s)}}),w(function(){w.support.reliableMarginRight||(w.cssHooks.marginRight={get:function(e,t){return w.swap(e,{display:"inline-block"},function(){if(t)return I(e,"marginRight")})}}),!w.support.pixelPosition&&w.fn.position&&w.each(["top","left"],function(e,i){w.cssHooks[i]={get:function(e,t){if(t)return t=I(e,i),Jt.test(t)?w(e).position()[i]+"px":t}}})}),w.expr&&w.expr.filters&&(w.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!w.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||I(e,"display"))},w.expr.filters.visible=function(e){return!w.expr.filters.hidden(e)}),w.each({margin:"",padding:"",border:"Width"},function(r,n){w.cssHooks[r+n]={expand:function(e){for(var t="string"==typeof e?e.split(" "):[e],i={},s=0;s<4;s++)i[r+A[s]+n]=t[s]||t[s-2]||t[0];return i}},$t.test(r)||(w.cssHooks[r+n].set=li)});var ui=/%20/g,pi=/\[\]$/,mi=/\r?\n/g,gi=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,fi=/^(?:select|textarea)/i;w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?w.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||fi.test(this.nodeName)||gi.test(this.type))}).map(function(e,i){var t=w(this).val();return null==t?null:w.isArray(t)?w.map(t,function(e,t){return{name:i.name,value:e.replace(mi,"\r\n")}}):{name:i.name,value:t.replace(mi,"\r\n")}}).get()}}),w.param=function(e,t){function i(e,t){t=w.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}var s,r=[];if(t===v&&(t=w.ajaxSettings&&w.ajaxSettings.traditional),w.isArray(e)||e.jqx&&!w.isPlainObject(e))w.each(e,function(){i(this.name,this.value)});else for(s in e)!function i(s,e,r,n){if(w.isArray(e))w.each(e,function(e,t){r||pi.test(s)?n(s,t):i(s+"["+("object"==typeof t?e:"")+"]",t,r,n)});else if(r||"object"!==w.type(e))n(s,e);else for(var t in e)i(s+"["+t+"]",e[t],r,n)}(s,e[s],t,i);return r.join("&").replace(ui,"+")},w.support.ajax&&w.ajaxTransport(function(h){var c;if(!h.crossDomain||w.support.cors)return{send:function(e,a){var l,t,d=h.xhr();if(h.username?d.open(h.type,h.url,h.async,h.username,h.password):d.open(h.type,h.url,h.async),h.xhrFields)for(t in h.xhrFields)d[t]=h.xhrFields[t];h.mimeType&&d.overrideMimeType&&d.overrideMimeType(h.mimeType),h.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(t in e)d.setRequestHeader(t,e[t])}catch(e){}d.send(h.hasContent&&h.data||null),c=function(e,t){var i,s,r,n,o;try{if(c&&(t||4===d.readyState))if(c=v,l&&(d.onreadystatechange=w.noop,xhrOnUnloadAbort&&delete xhrCallbacks[l]),t)4!==d.readyState&&d.abort();else{i=d.status,r=d.getAllResponseHeaders(),n={},(o=d.responseXML)&&o.documentElement&&(n.xml=o);try{n.text=d.responseText}catch(e){}try{s=d.statusText}catch(e){s=""}i||!h.isLocal||h.crossDomain?1223===i&&(i=204):i=n.text?200:404}}catch(e){t||a(-1,e)}n&&a(i,s,n,r)},h.async?4===d.readyState?setTimeout(c,0):(l=++xhrId,xhrOnUnloadAbort&&(xhrCallbacks||(xhrCallbacks={},w(f).unload(xhrOnUnloadAbort)),xhrCallbacks[l]=c),d.onreadystatechange=c):c()},abort:function(){c&&c(0,1)}}});var M,vi,xi=/^(?:toggle|show|hide)$/,yi=new RegExp("^(?:([-+])=|)("+K+")([a-z%]*)$","i"),wi=/queueHooks$/,bi=[function(t,e,i){var s,r,n,o,a,l,d,h,c,u=this,p=t.style,m={},g=[],f=t.nodeType&&oi(t);i.queue||(null==(h=w._queueHooks(t,"fx")).unqueued&&(h.unqueued=0,c=h.empty.fire,h.empty.fire=function(){h.unqueued||c()}),h.unqueued++,u.always(function(){u.always(function(){h.unqueued--,w.queue(t,"fx").length||h.empty.fire()})}));1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===w.css(t,"display")&&"none"===w.css(t,"float")&&(w.support.inlineBlockNeedsLayout&&"inline"!==ci(t.nodeName)?p.zoom=1:p.display="inline-block"));i.overflow&&(p.overflow="hidden",w.support.shrinkWrapBlocks||u.done(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(s in e)n=e[s],xi.exec(n)&&(delete e[s],l=l||"toggle"===n,n!==(f?"hide":"show")&&g.push(s));if(o=g.length){"hidden"in(a=w._data(t,"fxshow")||w._data(t,"fxshow",{}))&&(f=a.hidden),l&&(a.hidden=!f),f?w(t).show():u.done(function(){w(t).hide()}),u.done(function(){for(var e in w.removeData(t,"fxshow",!0),m)w.style(t,e,m[e])});for(s=0;s<o;s++)r=g[s],d=u.createTween(r,f?a[r]:0),m[r]=a[r]||w.style(t,r),r in a||(a[r]=d.start,f&&(d.end=d.start,d.start="width"===r||"height"===r?1:0))}}],H={"*":[function(e,t){var i,s,r=this.createTween(e,t),t=yi.exec(t),n=r.cur(),o=+n||0,a=1,l=20;if(t){if(i=+t[2],"px"!==(s=t[3]||(w.cssNumber[e]?"":"px"))&&o)for(o=w.css(r.elem,e,!0)||i||1;o/=a=a||".5",w.style(r.elem,e,o+s),a!==(a=r.cur()/n)&&1!==a&&--l;);r.unit=s,r.start=o,r.end=t[1]?o+(t[1]+1)*i:i}return r}]};function _i(){return setTimeout(function(){M=v},0),M=w.now()}function qi(r,e,t){var i,s,n,o,a,l,d,h=0,c=bi.length,u=w.Deferred().always(function(){delete p.elem}),p=function(){for(var e=M||_i(),e=Math.max(0,m.startTime+m.duration-e),t=1-(e/m.duration||0),i=0,s=m.tweens.length;i<s;i++)m.tweens[i].run(t);return u.notifyWith(r,[m,t,e]),t<1&&s?e:(u.resolveWith(r,[m]),!1)},m=u.promise({elem:r,props:w.extend({},e),opts:w.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:M||_i(),duration:t.duration,tweens:[],createTween:function(e,t,i){t=w.Tween(r,m.opts,e,t,m.opts.specialEasing[e]||m.opts.easing);return m.tweens.push(t),t},stop:function(e){for(var t=0,i=e?m.tweens.length:0;t<i;t++)m.tweens[t].run(1);return e?u.resolveWith(r,[m,e]):u.rejectWith(r,[m,e]),this}}),g=m.props,f=g,v=m.opts.specialEasing;for(s in f)if(n=w.camelCase(s),o=v[n],a=f[s],w.isArray(a)&&(o=a[1],a=f[s]=a[0]),s!==n&&(f[n]=a,delete f[s]),(l=w.cssHooks[n])&&"expand"in l)for(s in a=l.expand(a),delete f[n],a)s in f||(f[s]=a[s],v[s]=o);else v[n]=o;for(;h<c;h++)if(i=bi[h].call(m,r,g,m.opts))return i;return d=m,w.each(g,function(e,t){for(var i=(H[e]||[]).concat(H["*"]),s=0,r=i.length;s<r;s++)if(i[s].call(d,e,t))return}),w.isFunction(m.opts.start)&&m.opts.start.call(r,m),w.fx.timer(w.extend(p,{anim:m,queue:m.opts.queue,elem:r})),m.progress(m.opts.progress).done(m.opts.done,m.opts.complete).fail(m.opts.fail).always(m.opts.always)}function B(e,t,i,s,r){return new B.prototype.init(e,t,i,s,r)}function ji(e,t){var i,s={height:e},r=0;for(t=t?1:0;r<4;r+=2-t)s["margin"+(i=A[r])]=s["padding"+i]=e;return t&&(s.opacity=s.width=e),s}w.Animation=w.extend(qi,{tweener:function(e,t){for(var i,s=0,r=(e=w.isFunction(e)?(t=e,["*"]):e.split(" ")).length;s<r;s++)i=e[s],H[i]=H[i]||[],H[i].unshift(t)},prefilter:function(e,t){t?bi.unshift(e):bi.push(e)}}),((w.Tween=B).prototype={constructor:B,init:function(e,t,i,s,r,n){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=s,this.unit=n||(w.cssNumber[i]?"":"px")},cur:function(){var e=B.propHooks[this.prop];return(e&&e.get?e:B.propHooks._default).get(this)},run:function(e){var t,i=B.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(i&&i.set?i:B.propHooks._default).set(this),this}}).init.prototype=B.prototype,(B.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=w.css(e.elem,e.prop,!1,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[w.cssProps[e.prop]]||w.cssHooks[e.prop])?w.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}}).scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.each(["toggle","show","hide"],function(s,r){var n=w.fn[r];w.fn[r]=function(e,t,i){return null==e||"boolean"==typeof e||!s&&w.isFunction(e)&&w.isFunction(t)?n.apply(this,arguments):this.animate(ji(r,!0),e,t,i)}}),w.fn.extend({fadeTo:function(e,t,i,s){return this.filter(oi).css("opacity",0).show().end().animate({opacity:t},e,i,s)},animate:function(t,e,i,s){function r(){var e=qi(this,w.extend({},t),o);n&&e.stop(!0)}var n=w.isEmptyObject(t),o=w.speed(e,i,s);return n||!1===o.queue?this.each(r):this.queue(o.queue,r)},stop:function(r,e,n){function o(e){var t=e.stop;delete e.stop,t(n)}return"string"!=typeof r&&(n=e,e=r,r=v),e&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",i=w.timers,s=w._data(this);if(t)s[t]&&s[t].stop&&o(s[t]);else for(t in s)s[t]&&s[t].stop&&wi.test(t)&&o(s[t]);for(t=i.length;t--;)i[t].elem!==this||null!=r&&i[t].queue!==r||(i[t].anim.stop(n),e=!1,i.splice(t,1));!e&&n||w.dequeue(this,r)})}}),w.each({slideDown:ji("show"),slideUp:ji("hide"),slideToggle:ji("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,s){w.fn[e]=function(e,t,i){return this.animate(s,e,t,i)}}),w.speed=function(e,t,i){var s=e&&"object"==typeof e?w.extend({},e):{complete:i||!i&&t||w.isFunction(e)&&e,duration:e,easing:i&&t||t&&!w.isFunction(t)&&t};return s.duration=w.fx.off?0:"number"==typeof s.duration?s.duration:s.duration in w.fx.speeds?w.fx.speeds[s.duration]:w.fx.speeds._default,null!=s.queue&&!0!==s.queue||(s.queue="fx"),s.old=s.complete,s.complete=function(){w.isFunction(s.old)&&s.old.call(this),s.queue&&w.dequeue(this,s.queue)},s},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},w.timers=[],w.fx=B.prototype.init,w.fx.tick=function(){var e,t=w.timers,i=0;for(M=w.now();i<t.length;i++)(e=t[i])()||t[i]!==e||t.splice(i--,1);t.length||w.fx.stop(),M=v},w.fx.timer=function(e){e()&&w.timers.push(e)&&!vi&&(vi=setInterval(w.fx.tick,w.fx.interval))},w.fx.interval=13,w.fx.stop=function(){clearInterval(vi),vi=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fx.step={},w.expr&&w.expr.filters&&(w.expr.filters.animated=function(t){return w.grep(w.timers,function(e){return t===e.elem}).length});var Ti=/^(?:body|html)$/i;function Ci(e){return w.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}w.fn.offset=function(t){if(arguments.length)return t===v?this:this.each(function(e){w.offset.setOffset(this,t,e)});var e,i,s,r={top:0,left:0},n=this[0],o=n&&n.ownerDocument;return o?(i=o.body)===n?w.offset.bodyOffset(n):(e=o.documentElement,w.contains(e,n)?(void 0!==n.getBoundingClientRect&&(r=n.getBoundingClientRect()),n=Ci(o),o=e.clientTop||i.clientTop||0,i=e.clientLeft||i.clientLeft||0,s=n.pageYOffset||e.scrollTop,n=n.pageXOffset||e.scrollLeft,{top:r.top+s-o,left:r.left+n-i}):r):void 0},w.offset={bodyOffset:function(e){var t=e.offsetTop,i=e.offsetLeft;return w.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(w.css(e,"marginTop"))||0,i+=parseFloat(w.css(e,"marginLeft"))||0),{top:t,left:i}},setOffset:function(e,t,i){var s,r=w.css(e,"position"),n=("static"===r&&(e.style.position="relative"),w(e)),o=n.offset(),a=w.css(e,"top"),l=w.css(e,"left"),d={},r=("absolute"===r||"fixed"===r)&&-1<w.inArray("auto",[a,l])?(s=(r=n.position()).top,r.left):(s=parseFloat(a)||0,parseFloat(l)||0);null!=(t=w.isFunction(t)?t.call(e,i,o):t).top&&(d.top=t.top-o.top+s),null!=t.left&&(d.left=t.left-o.left+r),"using"in t?t.using.call(e,d):n.css(d)}},w.fn.extend({isRendered:function(){var e=this[0];return null!=e.parentNode&&0!==e.offsetWidth&&0!==e.offsetHeight},getSizeFromStyle:function(){var e=null,t=null,i=this[0];return i.style.width&&(e=i.style.width),i.style.height&&(t=i.style.height),(i=f.getComputedStyle?getComputedStyle(i,null):i.currentStyle)&&(i.width&&(e=i.width),i.height&&(t=i.height)),{width:e=null===(e="0px"===e?0:e)?0:e,height:t=null===(t="0px"===t?0:t)?0:t}},initAnimate:function(){},sizeStyleChanged:function(e){var i=this,s={element:i[0],offsetWidth:i[0].offsetWidth,offsetHeight:i[0].offsetHeight,callback:e};try{i.elementStyleObserver||(i.elementStyleObserver=new MutationObserver(function(e){var t=s;e&&e[0]&&"style"===e[0].attributeName&&"attributes"===e[0].type&&(t.element.offsetWidth===t.offsetWidth&&t.element.offsetHeight===t.offsetHeight||(t.offsetWidth=t.element.offsetWidth,t.offsetHeight=t.element.offsetHeight,i.isRendered()&&t.callback()))}),i.elementStyleObserver.observe(i[0],{attributes:!0,childList:!1,characterData:!1}))}catch(e){}},position:function(){var e,t,i,s;if(this[0])return e=this[0],t=this.offsetParent(),i=this.offset(),s=Ti.test(t[0].nodeName)?{top:0,left:0}:t.offset(),i.top-=parseFloat(w.css(e,"marginTop"))||0,i.left-=parseFloat(w.css(e,"marginLeft"))||0,s.top+=parseFloat(w.css(t[0],"borderTopWidth"))||0,s.left+=parseFloat(w.css(t[0],"borderLeftWidth"))||0,{top:i.top-s.top,left:i.left-s.left}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||x.body;e&&!Ti.test(e.nodeName)&&"static"===w.css(e,"position");)e=e.offsetParent;return e||x.body})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var n=/Y/.test(r);w.fn[t]=function(e){return w.access(this,function(e,t,i){var s=Ci(e);if(i===v)return s?r in s?s[r]:s.document.documentElement[t]:e[t];s?s.scrollTo(n?w(s).scrollLeft():i,n?i:w(s).scrollTop()):e[t]=i},t,e,arguments.length,null)}}),w.each({Height:"height",Width:"width"},function(n,o){w.each({padding:"inner"+n,content:o,"":"outer"+n},function(s,e){w.fn[e]=function(e,t){var i=arguments.length&&(s||"boolean"!=typeof e),r=s||(!0===e||!0===t?"margin":"border");return w.access(this,function(e,t,i){var s;return w.isWindow(e)?e.document.documentElement["client"+n]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+n],s["scroll"+n],e.body["offset"+n],s["offset"+n],s["client"+n])):i===v?w.css(e,t,i,r):w.style(e,t,i,r)},o,i?e:v,i,null)}})}),f.JQXLite=f.jqxHelper=w,"function"==typeof define&&define.amd&&define.amd.JQXLite&&define("jqx",[],function(){return w})}(window),!function(e){e.jqxCore?(e.$$=e.minQuery=e.JQXLite,e.$||(e.$=e.minQuery)):e.jQuery?e.minQuery=e.JQXLite=e.jQuery:e.$?e.minQuery=e.JQXLite=e.$:e.$=e.minQuery=e.JQXLite}(window),JQXLite.generateID=function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}for(var t="";t="jqx"+e()+e()+e(),0<$("#"+t).length;);return t},window.jqxBaseFramework=window.minQuery||window.jQuery),pdfDataExport=(!function(G){G.jqx=G.jqx||{},window.jqx=G.jqx;var r,n,o,a,s={createInstance:function(e,t,i){var s,r;return"jqxDataAdapter"==t?(s=i[0],r=i[1]||{},new G.jqx.dataAdapter(s,r)):(G(e)[t](i||{}),G(e)[t]("getInstance"))}};window.jqwidgets=s,G.jqx.define=function(e,t,i){e[t]=function(){this.baseType&&(this.base=new e[this.baseType],this.base.defineInstance()),this.defineInstance(),this.metaInfo()},e[t].prototype.defineInstance=function(){},e[t].prototype.metaInfo=function(){},e[t].prototype.base=null,e[t].prototype.baseType=void 0,i&&e[i]&&(e[t].prototype.baseType=i)},G.jqx.invoke=function(e,t){if(0!=t.length){for(var i,s=typeof t==Array||0<t.length?t[0]:t,r=typeof t==Array||1<t.length?Array.prototype.slice.call(t,1):G({}).toArray();null==e[s]&&null!=e.base;){if(null!=e[s]&&G.isFunction(e[s]))return e[s].apply(e,r);if("string"==typeof s)if(null!=e[i=s.toLowerCase()]&&G.isFunction(e[i]))return e[i].apply(e,r);e=e.base}if(null!=e[s]&&G.isFunction(e[s]))return e[s].apply(e,r);if("string"==typeof s)if(null!=e[i=s.toLowerCase()]&&G.isFunction(e[i]))return e[i].apply(e,r)}},G.jqx.getByPriority=function(e){for(var t=void 0,i=0;i<e.length&&null==t;i++)null==t&&null!=e[i]&&(t=e[i]);return t},G.jqx.hasProperty=function(e,t){if("object"==typeof t)for(var i in t){for(var s=e;s;){if(s.hasOwnProperty(i))return!0;if(s.hasOwnProperty(i.toLowerCase()))return!0;s=s.base}return!1}else for(;e;){if(e.hasOwnProperty(t))return!0;if(e.hasOwnProperty(t.toLowerCase()))return!0;e=e.base}return!1},G.jqx.hasFunction=function(e,t){if(0==t.length)return!1;if(null==e)return!1;var i,s=typeof t==Array||0<t.length?t[0]:t;for((typeof t==Array||1<t.length)&&Array.prototype.slice.call(t,1);null==e[s]&&null!=e.base;){if(e[s]&&G.isFunction(e[s]))return!0;if("string"==typeof s)if(e[i=s.toLowerCase()]&&G.isFunction(e[i]))return!0;e=e.base}if(e[s]&&G.isFunction(e[s]))return!0;if("string"==typeof s&&(e[i=s.toLowerCase()]&&G.isFunction(e[i])))return!0;return!1},G.jqx.isPropertySetter=function(e,t){return 1==t.length&&"object"==typeof t[0]||2==t.length&&"string"==typeof t[0]&&!G.jqx.hasFunction(e,t)},G.jqx.validatePropertySetter=function(e,t,i){if(!G.jqx.propertySetterValidation)return!0;if(1==t.length&&"object"==typeof t[0]){for(var s in t[0]){for(var r=e;!r.hasOwnProperty(s)&&r.base;)r=r.base;if(!r||!r.hasOwnProperty(s)){if(i)return!1;if(r.hasOwnProperty(s.toString().toLowerCase()))return!0;throw"Invalid property: "+s}}return!0}if(2!=t.length){if(i)return!1;throw 0<="Invalid property: "+t.length?t[0]:""}for(;!e.hasOwnProperty(t[0])&&e.base;)e=e.base;if(e&&e.hasOwnProperty(t[0]))return!0;if(i)return!1;throw"Invalid property: "+t[0]},Object.keys||(Object.keys=(r=Object.prototype.hasOwnProperty,n=!{toString:null}.propertyIsEnumerable("toString"),a=(o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t,i,s=[];for(t in e)r.call(e,t)&&s.push(t);if(n)for(i=0;i<a;i++)r.call(e,o[i])&&s.push(o[i]);return s})),G.jqx.set=function(s,e){var r=0;if(1==e.length&&"object"==typeof e[0]){if(s.isInitialized&&Object.keys&&1<Object.keys(e[0]).length){var t=(s.base||s).element,t=G.data(t,s.widgetName).initArgs;if(t&&JSON&&JSON.stringify&&e[0]&&t[0])try{if(JSON.stringify(e[0])==JSON.stringify(t[0])){var i=!0;if(G.each(e[0],function(e,t){if(s[e]!=t)return i=!1}),i)return}}catch(e){}s.batchUpdate=e[0];var n={},o={};G.each(e[0],function(e,t){for(var i=s;!i.hasOwnProperty(e)&&null!=i.base;)i=i.base;i.hasOwnProperty(e)?s[e]!=t&&(n[e]=s[e],o[e]=t,r++):i.hasOwnProperty(e.toLowerCase())&&s[e.toLowerCase()]!=t&&(n[e.toLowerCase()]=s[e.toLowerCase()],o[e.toLowerCase()]=t,r++)}),r<2&&(s.batchUpdate=null)}G.each(e[0],function(e,t){for(var i=s;!i.hasOwnProperty(e)&&null!=i.base;)i=i.base;if(i.hasOwnProperty(e))G.jqx.setvalueraiseevent(i,e,t);else if(i.hasOwnProperty(e.toLowerCase()))G.jqx.setvalueraiseevent(i,e.toLowerCase(),t);else if(G.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+e+"'"}),null!=s.batchUpdate&&(s.batchUpdate=null,s.propertiesChangedHandler&&1<r&&s.propertiesChangedHandler(s,n,o))}else if(2==e.length){for(;!s.hasOwnProperty(e[0])&&s.base;)s=s.base;if(s.hasOwnProperty(e[0]))G.jqx.setvalueraiseevent(s,e[0],e[1]);else if(s.hasOwnProperty(e[0].toLowerCase()))G.jqx.setvalueraiseevent(s,e[0].toLowerCase(),e[1]);else if(G.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+e[0]+"'"}},G.jqx.setvalueraiseevent=function(e,t,i){var s=e[t];e[t]=i,e.isInitialized&&(null!=e.propertyChangedHandler&&e.propertyChangedHandler(e,t,s,i),null!=e.propertyChangeMap&&null!=e.propertyChangeMap[t]&&e.propertyChangeMap[t](e,t,s,i))},G.jqx.get=function(e,t){if(null!=t){if(e.propertyMap){var i=e.propertyMap(t);if(null!=i)return i}if(e.hasOwnProperty(t))return e[t];if(e.hasOwnProperty(t.toLowerCase()))return e[t.toLowerCase()];var s=void 0;if(typeof t==Array){if(1!=t.length)return;s=t[0]}else"string"==typeof t&&(s=t);for(;!e.hasOwnProperty(s)&&e.base;)e=e.base;return e?e[s]:void 0}},G.jqx.serialize=function(e){var t="";if(G.isArray(e)){for(var t="[",i=0;i<e.length;i++)0<i&&(t+=", "),t+=G.jqx.serialize(e[i]);t+="]"}else if("object"==typeof e){t="{";var s=0;for(i in e)0<s++&&(t+=", "),t+=i+": "+G.jqx.serialize(e[i]);t+="}"}else t=e.toString();return t},G.jqx.propertySetterValidation=!0,G.jqx.jqxWidgetProxy=function(e,t,i){G(t);t=G.data(t,e);if(null!=t){e=t.instance;if(G.jqx.hasFunction(e,i))return G.jqx.invoke(e,i);if(G.jqx.isPropertySetter(e,i)){if(G.jqx.validatePropertySetter(e,i))return void G.jqx.set(e,i)}else{if("object"==typeof i&&0==i.length)return;if("object"==typeof i&&1==i.length&&G.jqx.hasProperty(e,i[0]))return G.jqx.get(e,i[0]);if("string"==typeof i&&G.jqx.hasProperty(e,i[0]))return G.jqx.get(e,i)}throw"jqxCore: Invalid parameter '"+G.jqx.serialize(i)+"' does not exist."}},G.jqx.applyWidget=function(e,t,i,s){var r=!1;try{r=null!=window.MSApp}catch(e){}for(var n,o=G(e),a=(s?(s.host=o,s.element=e):s=new G.jqx["_"+t],""==e.id&&(e.id=G.jqx.utilities.createId()),{host:o,element:e,instance:s,initArgs:i}),l=(s.widgetName=t,G.data(e,t,a),G.data(e,"jqxWidget",a.instance),new Array),s=a.instance;s;)s.isInitialized=!1,l.push(s),s=s.base;for(n in l.reverse(),l[0].theme=G.jqx.theme||"",G.jqx.jqxWidgetProxy(t,e,i),l)s=l[n],0==n&&(s.host=o,s.element=e,s.WinJS=r),null!=s&&(s.definedInstance&&s.definedInstance(),null!=s.createInstance&&(r?MSApp.execUnsafeLocalFunction(function(){s.createInstance(i)}):s.createInstance(i)));for(n in l)null!=l[n]&&(l[n].isInitialized=!0);r?MSApp.execUnsafeLocalFunction(function(){a.instance.refresh(!0)}):a.instance.refresh(!0)},G.jqx.jqxWidget=function(e,t,i){try{Array.prototype.slice.call(i,0)}catch(e){}try{window.MSApp}catch(e){}var l,d=e,e=t?"_"+t:"",h=(G.jqx.define(G.jqx,"_"+d,e),new Array);window[d]||(l=function(e){if(null==e)return"";switch(G.type(e)){case"string":case"number":case"date":case"boolean":case"bool":return null===e?"":e.toString()}var n="";return G.each(e,function(e,t){var i=t,s=(0<e&&(n+=", "),n+="[",0);if("object"==G.type(i))for(var r in i)0<s&&(n+=", "),n+="{"+r+":"+i[r]+"}",s++;else 0<s&&(n+=", "),n+="{"+e+":"+i+"}",s++;n+="]"}),n},s[d]=window[d]=function(e,i){var t,r=[],n=(i=i||{},r.push(i),e);if("object"===G.type(n)&&e[0]?""===(n=e[0].id)&&(n=e[0].id=G.jqx.utilities.createId()):"object"===G.type(e)&&e&&e.nodeName&&""===(n=e.id)&&(n=e.id=G.jqx.utilities.createId()),window.jqxWidgets&&window.jqxWidgets[n]){if(i&&G.each(window.jqxWidgets[n],function(e){var t=G(this.element).data();t&&t.jqxWidget&&G(this.element)[d](i)}),1==window.jqxWidgets[n].length)if((t=G(window.jqxWidgets[n][0].widgetInstance.element).data())&&t.jqxWidget)return window.jqxWidgets[n][0];if((t=G(window.jqxWidgets[n][0].widgetInstance.element).data())&&t.jqxWidget)return window.jqxWidgets[n]}var o=G(e),a=(0===o.length&&(o=G("<div></div>"),"jqxInput"!==d&&"jqxPasswordInput"!==d&&"jqxMaskedInput"!==d||(o=G("<input/>")),"jqxTextArea"===d&&(o=G("<textarea></textarea>")),"jqxButton"!==d&&"jqxRepeatButton"!==d&&"jqxToggleButton"!==d||(o=G("<button/>")),"jqxSplitter"===d&&(o=G("<div><div>Panel 1</div><div>Panel 2</div></div>")),"jqxTabs"===d&&(o=G("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div>Content 1</div><div>Content 2</div></div>")),"jqxRibbon"===d&&(o=G("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div><div>Content 1</div><div>Content 2</div></div></div>")),"jqxDocking"===d&&(o=G("<div><div><div><div>Title 1</div><div>Content 1</div></div></div></div>")),"jqxWindow"===d&&(o=G("<div><div>Title 1</div><div>Content 1</div></div>"))),[]);return G.each(o,function(e){var t,i,e=o[e],s=(G.jqx.applyWidget(e,d,r,void 0),h[d]||(s=G.data(e,"jqxWidget"),t=G.jqx["_"+d].prototype.defineInstance(),G.jqx["_"+d].prototype.metaInfo&&G.jqx["_"+d].prototype.metaInfo(),"jqxDockingLayout"==d&&(t=G.extend(t,G.jqx._jqxLayout.prototype.defineInstance())),"jqxToggleButton"!=d&&"jqxRepeatButton"!=d||(t=G.extend(t,G.jqx._jqxButton.prototype.defineInstance())),"jqxTreeGrid"==d&&(t=G.extend(t,G.jqx._jqxDataTable.prototype.defineInstance())),h[d]=i=function(e){var t,i=G.data(e,"jqxWidget"),s=(this.widgetInstance=i,G.extend(this,i));for(t in s.on=s.addEventListener=function(e,t){s.addHandler((s.base||s).host,e,t)},s.off=s.removeEventListener=function(e){s.removeHandler((s.base||s).host,e)},i)"function"==G.type(i[t])&&(s[t]=G.proxy(i[t],i));return s},G.each(t,function(s,e){Object.defineProperty(i.prototype,s,{get:function(){return this.widgetInstance?this.widgetInstance[s]:e},set:function(e){var t,i;!this.widgetInstance||this.widgetInstance[s]==e&&"width"!==s&&"height"!==s||(t=this.widgetInstance[s],i=e,!(G.type(t)==G.type(i)&&"source"!==s&&"width"!==s&&"height"!==s?!1:!0)&&l(t)==l(i)||((i={})[s]=e,(this.widgetInstance.host?this.widgetInstance:this.widgetInstance.base).host[d](i),this.widgetInstance[s]=e,this.widgetInstance.propertyUpdated&&this.widgetInstance.propertyUpdated(s,t,e)))}})})),new h[d](e));a.push(s),window.jqxWidgets||(window.jqxWidgets=new Array),window.jqxWidgets[n]||(window.jqxWidgets[n]=new Array),window.jqxWidgets[n].push(s)}),1===a.length?a[0]:a}),G.fn[d]=function(){var i=Array.prototype.slice.call(arguments,0);if(0==i.length||1==i.length&&"object"==typeof i[0]){if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");return this.each(function(){G(this);null==G.data(this,d)?G.jqx.applyWidget(this,d,i,void 0):G.jqx.jqxWidgetProxy(d,this,i)})}if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");var s=null,r=0;return this.each(function(){var e,t=G.jqx.jqxWidgetProxy(d,this,i);0==r?(s=t,r++):(1==r&&((e=[]).push(s),s=e),s.push(t))}),s};try{G.extend(G.jqx["_"+d].prototype,Array.prototype.slice.call(i,0)[0])}catch(e){}G.extend(G.jqx["_"+d].prototype,{toThemeProperty:function(e,t){return G.jqx.toThemeProperty(this,e,t)},isMaterialized:function(){return!!this.theme&&("fluent"===this.theme||("light"===this.theme||("dark"===this.theme||("deepblue"===this.theme||(0<=this.theme.indexOf("material")||void 0)))))},isModern:function(){return!!this.theme&&(0<=this.theme.indexOf("light")||("dark"===this.theme||void 0))},_addBarAndLabel:function(e){var t=this,i=G("<label></label"),i=(i[0].innerHTML=this.placeHolder,i.addClass(t.toThemeProperty("jqx-input-label")),e.after(i),t.label=i,G("<span></span>"));e.after(i),i.addClass(t.toThemeProperty("jqx-input-bar")),t.bar=i,t.bar.css("top",this.host.height())}}),G.jqx["_"+d].prototype.refresh=function(){this.base&&this.base.refresh(!0)},G.jqx["_"+d].prototype.createInstance=function(){},G.jqx.isPassiveSupported=function(){var e=this;if(void 0!==e.supportsPassive)return e.supportsPassive;e.supportsPassive=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e.supportsPassive=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return e.supportsPassive},G.jqx["_"+d].prototype.addEventHandler=function(e,t){(this.base||this).host.on(e,t)},G.jqx["_"+d].prototype.removeEventHandler=function(e,t){(this.base||this).host.off(e)},G.jqx["_"+d].prototype.applyTo=function(e,t){var i;t instanceof Array||((i=[]).push(t),t=i),G.jqx.applyWidget(e,d,t,this)},G.jqx["_"+d].prototype.getInstance=function(){return this},G.jqx["_"+d].prototype.propertyChangeMap={},G.jqx["_"+d].prototype.addHandler=function(e,t,i,s){G.jqx.addHandler(G(e),t,i,s)},G.jqx["_"+d].prototype.removeHandler=function(e,t,i){G.jqx.removeHandler(G(e),t,i)},G.jqx["_"+d].prototype.setOptions=function(){if(this.host&&this.host.length&&1==this.host.length)return G.jqx.jqxWidgetProxy(d,this.host[0],arguments)}},G.jqx.toThemeProperty=function(e,t,i){if(""==e.theme)return t;for(var s=t.split(" "),r="",n=0;n<s.length;n++){0<n&&(r+=" ");var o=s[n];r+=null!=i&&i?o+"-"+e.theme:o+" "+o+"-"+e.theme}return r},G.jqx.addHandler=function(e,t,i,s){for(var r=t.split(" "),n=0;n<r.length;n++){var o=r[n];if(window.addEventListener&&e[0])switch(o){case"mousewheel":G.jqx.browser.mozilla?e[0].addEventListener("DOMMouseScroll",i,!!G.jqx.isPassiveSupported()&&{passive:!1}):e[0].addEventListener("mousewheel",i,!!G.jqx.isPassiveSupported()&&{passive:!1});continue;case"mousemove":if(s)break;e[0].addEventListener("mousemove",i,!1);continue;case"touchmove":if(!s){e[0].addEventListener("touchmove",i,!1);continue}if(s.passive){e[0].addEventListener("touchmove",i,s);continue}}null==s?e.on?e.on(o,i):e.bind(o,i):e.on?e.on(o,s,i):e.bind(o,s,i)}},G.jqx.removeHandler=function(e,t,i){if(t)for(var s=t.split(" "),r=0;r<s.length;r++){var n=s[r];if(window.removeEventListener)switch(n){case"mousewheel":G.jqx.browser.mozilla?e[0].removeEventListener("DOMMouseScroll",i,!1):e[0].removeEventListener("mousewheel",i,!1);continue;case"mousemove":if(i){e[0].removeEventListener("mousemove",i,!1);continue}break;case"touchmove":if(i){e[0].removeEventListener("touchmove",i,!1);continue}}null==n?e.off?e.off():e.unbind():null==i?e.off?e.off(n):e.unbind(n):e.off?e.off(n,i):e.unbind(n,i)}else e.off?e.off():e.unbind()},G.jqx.credits=G.jqx.credits||"",G.jqx.theme=G.jqx.theme||"",G.jqx.scrollAnimation=G.jqx.scrollAnimation||!1,G.jqx.resizeDelay=G.jqx.resizeDelay||10,G.jqx.ready=function(){G(window).trigger("jqxReady")},G.jqx.init=function(){G.each(arguments[0],function(e,t){"theme"==e&&(G.jqx.theme=t),"scrollBarSize"==e&&(G.jqx.utilities.scrollBarSize=t),"touchScrollBarSize"==e&&(G.jqx.utilities.touchScrollBarSize=t),"scrollBarButtonsVisibility"==e&&(G.jqx.utilities.scrollBarButtonsVisibility=t)})},G.jqx.utilities=G.jqx.utilities||{},G.extend(G.jqx.utilities,{scrollBarSize:13,touchScrollBarSize:8,scrollBarButtonsVisibility:"visible",createId:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return"jqxWidget"+e()+e()+e()},setTheme:function(e,t,i){if(void 0!==i&&i[0].className.split){void 0===e&&(e=""),void 0===t&&(t="");for(var s=i[0].className.split(" "),r=[],n=[],o=i.children(),a=0;a<s.length;a+=1)0<=s[a].indexOf(e)&&(0<e.length?(r.push(s[a]),n.push(s[a].replace(e,t))):n.push(s[a].replace("-"+t,"")+"-"+t));this._removeOldClasses(r,i),this._addNewClasses(n,i);for(a=0;a<o.length;a+=1)this.setTheme(e,t,G(o[a]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},getOffset:function(e){var t=G.jqx.mobile.getLeftPos(e[0]);return{top:G.jqx.mobile.getTopPos(e[0]),left:t}},resize:function(e,t,i,s){void 0===s&&(s=!0);var r=-1,p=this,m=function(e){if(!p.hiddenWidgets)return-1;for(var t=-1,i=0;i<p.hiddenWidgets.length;i++)if(e.id){if(p.hiddenWidgets[i].id==e.id){t=i;break}}else if(p.hiddenWidgets[i].id==e[0].id){t=i;break}return t};if(this.resizeHandlers){for(var n,o=0;o<this.resizeHandlers.length;o++)if(e.id){if(this.resizeHandlers[o].id==e.id){r=o;break}}else if(this.resizeHandlers[o].id==e[0].id){r=o;break}if(!0===i)return-1!=r&&(this.resizeHandlers.splice(r,1),this.watchedElementData&&0<this.watchedElementData.length&&this.watchedElementData.splice(r,1)),0==this.resizeHandlers.length&&((l=G(window)).off?(l.off("resize.jqx"),l.off("orientationchange.jqx"),l.off("orientationchanged.jqx")):(l.unbind("resize.jqx"),l.unbind("orientationchange.jqx"),l.unbind("orientationchanged.jqx")),this.resizeHandlers=null),void(-1!=(n=m(e))&&this.hiddenWidgets&&this.hiddenWidgets.splice(n,1))}else if(!0===i)return void(-1!=(n=m(e))&&this.hiddenWidgets&&this.hiddenWidgets.splice(n,1));function a(e,r){if(p.resizeHandlers){function i(e,t){if(!e.widget||!t.widget)return 0;e=s(e.widget[0]),t=s(t.widget[0]);try{if(e<t)return-1;if(t<e)return 1}catch(e){}return 0}function t(e){if(0<p.hiddenWidgets.length){p.hiddenWidgets.sort(i);function t(){for(var e=!1,t=new Array,i=0;i<p.hiddenWidgets.length;i++){var s=p.hiddenWidgets[i];G.jqx.isHidden(s.widget)?(e=!0,t.push(s)):s.callback&&s.callback(r)}p.hiddenWidgets=t,e||clearInterval(p.__resizeInterval)}if(0==e)return t(),void(p.__resizeInterval&&clearInterval(p.__resizeInterval));p.__resizeInterval&&clearInterval(p.__resizeInterval),p.__resizeInterval=setInterval(function(){t()},100)}}var s=function(e){for(var t=-1,i=e.parentNode;i;)t++,i=i.parentNode;return t};p.hiddenWidgets&&0<p.hiddenWidgets.length&&t(!1),p.hiddenWidgets=new Array,p.resizeHandlers.sort(i);for(var n=0;n<p.resizeHandlers.length;n++){var o=p.resizeHandlers[n],a=o.widget,l=o.data;if(l&&l.jqxWidget){var d=l.jqxWidget.width,h=l.jqxWidget.height,c=(l.jqxWidget.base&&(null==d&&(d=l.jqxWidget.base.width),null==h&&(h=l.jqxWidget.base.height)),void 0===d&&void 0===h&&(d=l.jqxWidget.element.style.width,h=l.jqxWidget.element.style.height),!1);if(null!=d&&-1!=d.toString().indexOf("%")&&(c=!0),null!=h&&-1!=h.toString().indexOf("%")&&(c=!0),G.jqx.isHidden(a))-1!==m(a)||!c&&!0!==e||!0===o.data.nestedWidget||p.hiddenWidgets.push(o);else if(void 0===e||!0!==e){if(c){if(o.callback(r),p.watchedElementData)for(var u=0;u<p.watchedElementData.length;u++)if(p.watchedElementData[u].element==l.jqxWidget.element){p.watchedElementData[u].offsetWidth=l.jqxWidget.element.offsetWidth,p.watchedElementData[u].offsetHeight=l.jqxWidget.element.offsetHeight;break}0<=p.hiddenWidgets.indexOf(o)&&p.hiddenWidgets.splice(p.hiddenWidgets.indexOf(o),1)}!l.jqxWidget.element||!(0<=(d=l.jqxWidget.element.className).indexOf("dropdownlist")||0<=d.indexOf("datetimeinput")||0<=d.indexOf("combobox")||0<=d.indexOf("menu"))||!l.jqxWidget.isOpened||!l.jqxWidget.isOpened()||r&&"resize"==r&&G.jqx.mobile.isTouchDevice()||l.jqxWidget.close()}}}t()}}var l,p=this,i=(this.resizeHandlers||(this.resizeHandlers=new Array,(l=G(window)).on?(this._resizeTimer=null,this._initResize=null,l.on("resize.jqx",function(e){null!=p._resizeTimer&&clearTimeout(p._resizeTimer),p._initResize?p._resizeTimer=setTimeout(function(){a(null,"resize")},G.jqx.resizeDelay):(p._initResize=!0,a(null,"resize"))}),l.on("orientationchange.jqx",function(e){a(null,"orientationchange")}),l.on("orientationchanged.jqx",function(e){a(null,"orientationchange")})):(l.bind("resize.jqx",function(e){a(null,"orientationchange")}),l.bind("orientationchange.jqx",function(e){a(null,"orientationchange")}),l.bind("orientationchanged.jqx",function(e){a(null,"orientationchange")}))),e.data());s&&-1===r&&this.resizeHandlers.push({id:e[0].id,widget:e,callback:t,data:i});try{var d=i.jqxWidget.width,h=i.jqxWidget.height,c=(i.jqxWidget.base&&(null==d&&(d=i.jqxWidget.base.width),null==h&&(h=i.jqxWidget.base.height)),void 0===d&&void 0===h&&(d=i.jqxWidget.element.style.width,h=i.jqxWidget.element.style.height),!1);null!=d&&-1!=d.toString().indexOf("%")&&(c=!0),(c=null!=h&&-1!=h.toString().indexOf("%")?!0:c)&&(this.watchedElementData||(this.watchedElementData=[]),(p=this).watchedElementData.push({element:e[0],offsetWidth:e[0].offsetWidth,offsetHeight:e[0].offsetHeight,callback:t}),p.observer||(p.observer=new MutationObserver(function(e){p.watchedElementData.forEach&&p.watchedElementData.forEach(function(e){e.element.offsetWidth===e.offsetWidth&&e.element.offsetHeight===e.offsetHeight||(e.offsetWidth=e.element.offsetWidth,e.offsetHeight=e.element.offsetHeight,e.timer&&clearTimeout(e.timer),e.timer=setTimeout(function(){G.jqx.isHidden(G(e.element))?e.timer=setInterval(function(){G.jqx.isHidden(G(e.element))||(clearInterval(e.timer),e.callback())},100):e.callback()}))})}),p.observer.observe(document.body,{attributes:!0,childList:!0,characterData:!0})))}catch(e){}G.jqx.isHidden(e)&&!0===s&&a(!0),G.jqx.resize=function(){a(null,"resize")}},parseJSON:function(e){if(!e||"string"!=typeof e)return null;if(e=G.trim(e),window.JSON&&window.JSON.parse)return window.JSON.parse(e);if(/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,"@").replace(/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return new Function("return "+e)();throw new Error("Invalid JSON: "+e)},html:function(n,t){if(!G(n).on)return G(n).html(t);try{return G.access(n,function(e){var t=n[0]||{},i=0,s=n.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(rinlinejQuery,""):void 0;var r=new RegExp("<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)[\\s/>]","i");if("string"==typeof e&&!/<(?:script|style|link)/i.test(e)&&(G.support.htmlSerialize||!r.test(e))&&(G.support.leadingWhitespace||!/^\s+/.test(e))&&!{option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]}[(/<([\w:]+)/.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>");try{for(;i<s;i++)1===(t=this[i]||{}).nodeType&&(G.cleanData(t.getElementsByTagName("*")),t.innerHTML=e);t=0}catch(e){}}t&&n.empty().append(e)},null,t,arguments.length)}catch(e){return G(n).html(t)}},hasTransform:function(e){var t="";if(""==(t=e.css("transform"))||"none"==t){if(""!=(t=e.parents().css("transform"))&&"none"!=t)return""!=t&&"none"!=t;var i=G.jqx.utilities.getBrowser();"msie"==i.browser?""!=(t=e.css("-ms-transform"))&&"none"!=t||(t=e.parents().css("-ms-transform")):"chrome"==i.browser?""!=(t=e.css("-webkit-transform"))&&"none"!=t||(t=e.parents().css("-webkit-transform")):"opera"==i.browser?""!=(t=e.css("-o-transform"))&&"none"!=t||(t=e.parents().css("-o-transform")):"mozilla"!=i.browser||""!=(t=e.css("-moz-transform"))&&"none"!=t||(t=e.parents().css("-moz-transform"))}return""!=(t=""!=t&&"none"!=t?t:G(document.body).css("transform"))&&"none"!=t&&null!=t},getBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i={browser:t[1]||"",version:t[2]||"0"};return 0<=e.indexOf("rv:11.0")&&0<=e.indexOf(".net4.0c")&&(i.browser="msie",i.version="11",t[1]="msie"),0<=e.indexOf("edge")&&(i.browser="msie",i.version="12",t[1]="msie"),i[t[1]]=t[1],i}}),G.jqx.browser=G.jqx.utilities.getBrowser(),G.jqx.isHidden=function(e){if(!e||!e[0])return!1;var t=e[0].offsetWidth,e=e[0].offsetHeight;return 0===t||0===e},G.jqx.ariaEnabled=!0,G.jqx.aria=function(r,e,t){if(G.jqx.ariaEnabled)if(null==e)G.each(r.aria,function(e,t){if(null==(i=(r.base||r).host.attr(e))||G.isFunction(i)){var i=r[t.name];null==(i=G.isFunction(i)?r[t.name]():i)&&(i="");try{(r.base||r).host.attr(e,i.toString())}catch(e){}}else{var s=i;switch(t.type){case"number":s=new Number(i),isNaN(s)&&(s=i);break;case"boolean":s="true"==i;break;case"date":"Invalid Date"!=(s=new Date(i))&&!isNaN(s)||(s=i)}r[t.name]=s}});else try{r.host?r.base?(r.base.host||r).attr(e,t.toString()):r.host?r.element.setAttribute?r.element.setAttribute(e,t.toString()):r.host.attr(e,t.toString()):r.attr(e,t.toString()):r.setAttribute&&r.setAttribute(e,t.toString())}catch(e){}},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,i=Number(arguments[1])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=t);i<t;i++)if(i in this&&this[i]===e)return i;return-1}),G.jqx.mobile=G.jqx.mobile||{},G.jqx.position=function(e){var t=parseInt(e.pageX),i=parseInt(e.pageY);return G.jqx.mobile.isTouchDevice()&&(e=G.jqx.mobile.getTouches(e)[0],t=parseInt(e.pageX),i=parseInt(e.pageY)),{left:t,top:i}},G.extend(G.jqx.mobile,{_touchListener:function(e,t){var i,s={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},r=(r=s[e.type],n=e,(i=document.createEvent("MouseEvents")).initMouseEvent(r,n.bubbles,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget),i._pageX=n.pageX,i._pageY=n.pageY,i),n=(e.target.dispatchEvent(r),e.target["on"+s[e.type]]);"function"==typeof n&&n(e)},setMobileSimulator:function(t,e){var i,s;this.isTouchDevice()||(this.simulatetouches=!0,0==e&&(this.simulatetouches=!1),i={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},s=this,window.addEventListener&&(G.jqx.browser.msie,function(){for(var e in i)t.addEventListener&&(t.removeEventListener(e,s._touchListener),t.addEventListener(e,s._touchListener,!1))}()))},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var e="Browser CodeName: "+navigator.appCodeName,e=(e=(e=(e+="Browser Name: "+navigator.appName)+("Browser Version: "+navigator.appVersion))+("Platform: "+navigator.platform))+("User-agent header: "+navigator.userAgent);if(navigator.maxTouchPoints,-1!=e.indexOf("Android"))return!0;if(-1!=e.indexOf("IEMobile"))return!0;if(-1!=e.indexOf("Windows Phone"))return!0;if(-1!=e.indexOf("WPDesktop"))return!0;if(-1!=e.indexOf("ZuneWP7"))return!0;if(-1!=e.indexOf("BlackBerry")&&-1!=e.indexOf("Mobile Safari"))return!0;if(-1!=e.indexOf("ipod"))return!0;if(-1!=e.indexOf("nokia")||-1!=e.indexOf("Nokia"))return!0;if(-1!=e.indexOf("Chrome/17"))return!1;if(-1!=e.indexOf("CrOS"))return!1;if(-1!=e.indexOf("Opera")&&-1==e.indexOf("Mobi")&&-1==e.indexOf("Mini")&&-1!=e.indexOf("Platform: Win"))return!1;if(-1!=e.indexOf("HybridDeviceTouch"))return!0;if(-1!=e.indexOf("HybridDeviceMouse"))return!1;if(-1!=e.indexOf("Opera")&&-1!=e.indexOf("Mobi")&&-1!=e.indexOf("Opera Mobi"))return!0;if(-1!=e.indexOf("Mozilla/5.0 (X11; Linux x86_64)"))return!1;var t={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(null!=this.touchDevice)return this.touchDevice;for(var i in this.touchDevice=!1,t)if(t.hasOwnProperty(i)){var s=t[i];if(e.match(new RegExp("(?:"+s+")([^\\s;]+)")))return"blackberry"==i.toString()?this.touchDevice=!1:this.touchDevice=!0}var r=navigator.userAgent;if(-1!=navigator.platform.toLowerCase().indexOf("win")){if(0<=r.indexOf("Windows Phone")||0<=r.indexOf("WPDesktop")||0<=r.indexOf("IEMobile")||0<=r.indexOf("ZuneWP7"))return this.touchDevice=!0;if(0<=r.indexOf("Touch"))return"MSPointerDown"in window||"pointerdown"in window||0<=r.indexOf("ARM")?this.touchDevice=!0:this.touchDevice=!1}return-1!=navigator.platform.toLowerCase().indexOf("win")?this.touchDevice=!1:(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(e){return this.touchDevice=!1}},getLeftPos:function(e){for(var t=e.offsetLeft;null!=(e=e.offsetParent);)"HTML"!=e.tagName&&(t+=e.offsetLeft,document.all&&(t+=e.clientLeft));return t},getTopPos:function(e){for(var t=e.offsetTop,i=G(e).coord();null!=(e=e.offsetParent);)"HTML"!=e.tagName&&(t+=e.offsetTop-e.scrollTop,document.all&&(t+=e.clientTop));var s=navigator.userAgent.toLowerCase();return-1==s.indexOf("windows phone")&&-1==s.indexOf("WPDesktop")&&-1==s.indexOf("ZuneWP7")&&-1==s.indexOf("msie 9")&&-1==s.indexOf("msie 11")&&-1==s.indexOf("msie 10")||-1==s.indexOf("touch")?!this.isSafariMobileBrowser()||this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()?t:-1!=s.indexOf("version/7")?i.top:(-1==s.indexOf("version/6")&&-1==s.indexOf("version/5")||(t+=G(window).scrollTop()),/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)||/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)?t:i.top):i.top},isChromeMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("android")},isOperaMiniMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("opera mini")||-1!=e.indexOf("opera mobi")},isOperaMiniBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("opera mini")},isNewSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return(-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod"))&&-1!=e.indexOf("version/5")},isSafari4MobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return(-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod"))&&-1!=e.indexOf("version/4")},isWindowsPhone:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("windows phone")||-1!=e.indexOf("WPDesktop")||-1!=e.indexOf("ZuneWP7")||-1!=e.indexOf("msie 9")||-1!=e.indexOf("msie 11")||-1!=e.indexOf("msie 10")&&-1!=e.indexOf("touch")},isSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return!!/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)||(!!/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)||(-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod")||-1!=e.indexOf("mobile safari")))},isIPadSafariMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("ipad")},isMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("android")},getTouches:function(e){if(e.originalEvent){if(e.originalEvent.touches&&e.originalEvent.touches.length)return e.originalEvent.touches;if(e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length)return e.originalEvent.changedTouches}return e.touches||(e.touches=new Array,e.touches[0]=null!=e.originalEvent?e.originalEvent:e,null!=e.originalEvent&&e.pageX&&(e.touches[0]=e),"mousemove"==e.type&&(e.touches[0]=e)),e.touches},getTouchEventName:function(e){if(this.isWindowsPhone()){if(-1!=navigator.userAgent.toLowerCase().indexOf("windows phone 7")){if(-1!=e.toLowerCase().indexOf("start"))return"MSPointerDown";if(-1!=e.toLowerCase().indexOf("move"))return"MSPointerMove";if(-1!=e.toLowerCase().indexOf("end"))return"MSPointerUp"}return-1!=e.toLowerCase().indexOf("start")?"pointerdown":-1!=e.toLowerCase().indexOf("move")?"pointermove":-1!=e.toLowerCase().indexOf("end")?"pointerup":void 0}return e},dispatchMouseEvent:function(e,t,i){var s;this.simulatetouches||((s=document.createEvent("MouseEvent")).initMouseEvent(e,!0,!0,t.view,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),null!=i&&i.dispatchEvent(s))},getRootNode:function(e){for(;1!==e.nodeType;)e=e.parentNode;return e},setTouchScroll:function(e,t){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[t]=e},touchScroll:function(e,t,z,a,l,d){var h,c,u,p,E,i,s,m,g,f,r,n,o,v,x,y,w,L,N,b,_,q,j,T,C,S,O,k,I,D,P,A,M,H,B;function R(e){return(e.targetTouches&&1<=e.targetTouches.length?e.targetTouches[0]:e.originalEvent&&void 0!==e.originalEvent.clientY?e.originalEvent:h.getTouches(e)[0]).clientY}function F(e){return(e.targetTouches&&1<=e.targetTouches.length?e.targetTouches[0]:e.originalEvent&&void 0!==e.originalEvent.clientX?e.originalEvent:h.getTouches(e)[0]).clientX}function W(){var e;y&&(e=Date.now()-v,.5<(e=-y*Math.exp(-e/O))||e<-.5?(D(w+e),requestAnimationFrame(W)):D(w))}function V(){var e;y&&(e=Date.now()-v,.5<(e=-y*Math.exp(-e/O))||e<-.5?(P(L+e),requestAnimationFrame(V)):P(L))}null!=e&&(u=c=0,(h=this).scrolling||(this.scrolling=[]),p=this.scrolling[a]=!1,e=G(e),E=["select","input","textarea"],H=0,this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[a]=!0,M=this.getTouchEventName("touchstart")+".touchScroll",i=this.getTouchEventName("touchend")+".touchScroll",B=this.getTouchEventName("touchmove")+".touchScroll",b=t,C=T=j=q=_=0,S=l.jqxScrollBar("max"),O=325,I=!(k=function(){var e=Date.now(),t=e-v,e=(v=e,q-o),i=j-s;o=q,s=j,f=!0,r=.8*(1e3*e/(1+t))+.2*r,n=.8*(1e3*i/(1+t))+.2*n}),H=function(e){if(!h.enableScrolling[a])return!0;var t,i;if(-1===G.inArray(e.target.tagName.toLowerCase(),E))return q=d.jqxScrollBar("value"),j=l.jqxScrollBar("value"),i=h.getTouches(e),t=i[0],1==i.length&&h.dispatchMouseEvent("mousedown",t,h.getRootNode(t.target)),S=l.jqxScrollBar("max"),b=d.jqxScrollBar("max"),f=!(I=!1),g=R(i=e),N=F(i),r=y=n=0,o=q,s=j,v=Date.now(),clearInterval(x),x=setInterval(k,100),C=j,0<(T=q)&&q<b&&d[0].style.visibility,p=!1,c=t.pageY,u=t.pageX,h.simulatetouches&&null!=t._pageY&&(c=t._pageY,u=t._pageX),h.scrolling[a]=!0,!0},e.on?e.on(M,H):e.bind(M,H),D=function(e,t){return q=b<e?b:e<_?_:e,z(null,e,0,0,t),b<e?"max":e<_?"min":"value"},P=function(e,t){return j=S<e?S:e<_?_:e,z(e,null,0,0,t),S<e?"max":e<_?"min":"value"},t=function(e){if(!h.enableScrolling[a])return!0;if(!h.scrolling[a])return!0;I&&(e.preventDefault(),e.stopPropagation());var t=h.getTouches(e);if(1<t.length)return!0;var i=t[0].pageY,s=t[0].pageX,t=(h.simulatetouches&&null!=t[0]._pageY&&(i=t[0]._pageY,s=t[0]._pageX),i-c),s=s-u,i=(p=!0,null==l||"hidden"!=l[0].style.visibility),t=null==d||"hidden"!=d[0].style.visibility;if(i||t){var r,n,o,s=e;if(f)e=R(s),n=F(s),m=N-n,o="value",2<(r=g-e)||r<-2?(g=e,o=D(q+r,s),k(),("min"!=o||0!==T)&&("max"!=o||T!==b)&&t&&(s.preventDefault(),s.stopPropagation(),I=!0)):2<m||m<-2?(N=n,o=P(j+m,s),k(),("min"!=o||0!==C)&&("max"!=o||C!==S)&&i&&(I=!0,s.preventDefault(),s.stopPropagation())):s.preventDefault()}},e.on?e.on(B,t):e.bind(B,t),A=function(e){if(!h.enableScrolling[a])return!0;var t=h.getTouches(e)[0];return!h.scrolling[a]||(f=!1,clearInterval(x),10<r||r<-10?(y=.8*r,w=Math.round(q+y),v=Date.now(),requestAnimationFrame(W)):(10<n||n<-10)&&(y=.8*n,L=Math.round(j+y),v=Date.now(),requestAnimationFrame(V)),h.scrolling[a]=!1,p?void h.dispatchMouseEvent("mouseup",t,e.target):(t=h.getTouches(e)[0],e=h.getRootNode(t.target),h.dispatchMouseEvent("mouseup",t,e),h.dispatchMouseEvent("click",t,e),!0))},this.simulatetouches&&(null==G(window).on&&G(window).bind,M=function(e){try{A(e)}catch(e){}h.scrolling[a]=!1},null!=G(window).on?G(document).on("mouseup.touchScroll",M):G(document).bind("mouseup.touchScroll",M),window.frameElement&&null!=window.top&&(H=function(e){try{A(e)}catch(e){}h.scrolling[a]=!1},window.top.document&&(G(window.top.document).on?G(window.top.document).on("mouseup",H):G(window.top.document).bind("mouseup",H))),null==G(document).on&&G(document).bind,B=function(e){if(!h.scrolling[a])return!0;h.scrolling[a]=!1;var e=h.getTouches(e)[0],t=h.getRootNode(e.target);h.dispatchMouseEvent("mouseup",e,t),h.dispatchMouseEvent("click",e,t)},null!=G(document).on?G(document).on("touchend",B):G(document).bind("touchend",B)),e.on&&(e.on("dragstart",function(e){e.preventDefault()}),e.on("selectstart",function(e){e.preventDefault()})),e.on?e.on(i+" touchcancel.touchScroll",A):e.bind(i+" touchcancel.touchScroll",A))}}),G.jqx.cookie=G.jqx.cookie||{},G.extend(G.jqx.cookie,{cookie:function(e,t,i){if(1<arguments.length&&"[object Object]"!==String(t))return i=G.extend({},i),null==t&&(i.expires=-1),"number"==typeof i.expires&&(s=i.expires,(r=i.expires=new Date).setDate(r.getDate()+s)),t=String(t),document.cookie=[encodeURIComponent(e),"=",i.raw?t:encodeURIComponent(t),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("");var s,r=(i=t||{}).raw?function(e){return e}:decodeURIComponent;return(s=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?r(s[1]):null}}),G.jqx.string=G.jqx.string||{},G.extend(G.jqx.string,{replace:function(e,t,i){if(t===i)return this;for(var s=e,r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s},contains:function(e,t){return null!=e&&null!=t&&-1!=e.indexOf(t)},containsIgnoreCase:function(e,t){return null!=e&&null!=t&&-1!=e.toString().toUpperCase().indexOf(t.toString().toUpperCase())},equals:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e),t.length==e.length&&e.slice(0,t.length)==t)},equalsIgnoreCase:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e),t.length==e.length&&e.toUpperCase().slice(0,t.length)==t.toUpperCase())},startsWith:function(e,t){return null!=e&&null!=t&&e.slice(0,t.length)==t},startsWithIgnoreCase:function(e,t){return null!=e&&null!=t&&e.toUpperCase().slice(0,t.length)==t.toUpperCase()},normalize:function(e){return e=65279==e.charCodeAt(e.length-1)?e.substring(0,e.length-1):e},endsWith:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e)).slice(-t.length)==t},endsWithIgnoreCase:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e)).toUpperCase().slice(-t.length)==t.toUpperCase()}}),G.extend(G.easing,{easeOutBack:function(e,t,i,s,r,n){return s*((t=t/r-1)*t*(((n=null==n?1.70158:n)+1)*t+n)+1)+i},easeInQuad:function(e,t,i,s,r){return s*(t/=r)*t+i},easeInOutCirc:function(e,t,i,s,r){return(t/=r/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+i:s/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInOutSine:function(e,t,i,s,r){return-s/2*(Math.cos(Math.PI*t/r)-1)+i},easeInCubic:function(e,t,i,s,r){return s*(t/=r)*t*t+i},easeOutCubic:function(e,t,i,s,r){return s*((t=t/r-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,s,r){return(t/=r/2)<1?s/2*t*t*t+i:s/2*((t-=2)*t*t+2)+i},easeInSine:function(e,t,i,s,r){return-s*Math.cos(t/r*(Math.PI/2))+s+i},easeOutSine:function(e,t,i,s,r){return s*Math.sin(t/r*(Math.PI/2))+i}})}(jqxBaseFramework),!function(d){d.event&&d.event.special&&d.extend(d.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}}),d.fn.extend&&d.fn.extend({ischildof:function(e){if(!d(this).parents)return e.element.contains(this.element);for(var t=d(this).parents().get(),i=0;i<t.length;i++)if("string"!=typeof e){var s=t[i];if(void 0!==e&&s==e[0])return!0}else if(void 0!==e&&d(t[i]).is(e))return!0;return!1}}),d.fn.jqxProxy=function(){var e=d(this).data().jqxWidget,t=Array.prototype.slice.call(arguments,0),i=(i=e.element)||e.base.element;return d.jqx.jqxWidgetProxy(e.widgetName,i,t)};var i=d.originalVal=d.fn.val;d.fn.val=function(e){if(void 0!==e)return(d(this).hasClass("jqx-widget")||d(this).hasClass("jqx-input-group"))&&(t=d(this).data().jqxWidget)&&t.val||this[0]&&0<=this[0].tagName.toLowerCase().indexOf("angular")&&(t=d(this).find(".jqx-widget").data().jqxWidget)&&t.val?2!=arguments.length?t.val(e):t.val(e,arguments[1]):i.call(this,e);var t;if((d(this).hasClass("jqx-widget")||d(this).hasClass("jqx-input-group"))&&((t=d(this).data().jqxWidget)&&t.val))return t.val();if(this[0]&&0<=this[0].tagName.toLowerCase().indexOf("angular")&&((t=d(this).find(".jqx-widget").data().jqxWidget)&&t.val))return t.val();return i.call(this)},d.fn.modal&&d.fn.modal.Constructor&&(d.fn.modal.Constructor.prototype.enforceFocus=function(){d(document).off("focusin.bs.modal").on("focusin.bs.modal",d.proxy(function(e){if(this.$element[0]!==e.target&&!this.$element.has(e.target).length){if(d(e.target).parents().hasClass("jqx-popup"))return!0;this.$element.trigger("focus")}},this))}),d.fn.coord=function(e){var t,i={top:0,left:0},s=this[0],r=s&&s.ownerDocument;if(r){if(t=r.documentElement,!d.contains(t,s))return i;s.getBoundingClientRect;var i=s.getBoundingClientRect(),s=(s=r,r=d.isWindow(s)?s:9===s.nodeType&&(s.defaultView||s.parentWindow),0),n=0,o=navigator.userAgent.toLowerCase();return(-1!=o.indexOf("ipad")||-1!=o.indexOf("iphone"))&&(s=2),1==e&&"static"!=document.body.style.position&&""!=document.body.style.position&&(s=-(o=d(document.body).coord()).left,n=-o.top),{top:n+i.top+(r.pageYOffset||t.scrollTop)-(t.clientTop||0),left:s+i.left+(r.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}}},d.jqx.ripplers=[],d.jqx.ripple=function(o,a,l){a=a||o;for(var e,t=d(o),i=(t.append("<span class='ink'></span>"),t.find(".ink")),s=!1,r=0;r<d.jqx.ripplers.length;r++)if(d.jqx.ripplers[r].element[0]===o[0]){s=!0;break}s||d.jqx.ripplers.push({ink:i,element:o,hostElement:a,hostElementType:l}),"checkbox"!==l&&"radiobutton"!==l||(e=Math.max(t.outerWidth(),t.outerHeight()),i.css({height:e,width:e}),e=t.width()/2-i.width()/2,t=t.height()/2-i.height()/2,i.css({top:t+"px",left:e+"px"})),1===d.jqx.ripplers.length&&d(document).on("mouseup",function(e){d.jqx.ripple.mouseCaptured=!1;for(var t=0;t<d.jqx.ripplers.length;t++){var i=d.jqx.ripplers[t];i.ink.removeClass("active"),i.element.removeClass("active"),"checkbox"!==l&&"radiobutton"!==l&&i.ink.hasClass("animate")&&i.ink.removeClass("animate")}}),a.off("mousedown.ripple"),a.on("mousedown.ripple",function(r){var n=d(o);d.jqx.ripple.mouseCaptured=!0,setTimeout(function(){0==n.find(".ink").length&&n.append("<span class='ink'></span>");var e,t=n.find(".ink");if(t.removeClass("animate"),t.height()||t.width()||(e=Math.max(n.outerWidth(),n.outerHeight()),t.css({height:e,width:e})),"checkbox"===l||"radiobutton"===l){if("checkbox"===l&&a.jqxCheckBox("disabled"))return;if("radiobutton"===l&&a.jqxRadioButton("disabled"))return;var i=n.width()/2-t.width()/2,s=n.height()/2-t.height()/2;return t.css({top:s+"px",left:i+"px"}).addClass("animate"),void t.on("animationend",function(){d.jqx.ripple.mouseCaptured&&(t.removeClass("animate"),t.addClass("active"),o.addClass("active"))})}i=r.pageX-n.offset().left-t.width()/2,s=r.pageY-n.offset().top-t.height()/2;t.css({top:s+"px",left:i+"px"}).addClass("animate")})})}}(jqxBaseFramework),!function(z){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError("predicate must be a function");for(var s=arguments[1],r=0;r<i;){var n=t[r];if(e.call(s,n,r,t))return n;r++}},configurable:!0,writable:!0}),z.jqx.observableArray=function(e,t){"string"==typeof e&&(e=z.parseJSON(e)),Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),1}catch(e){return}}()||(s=Object.defineProperty,Object.defineProperty=function(e,t,i){if(s)try{return s(e,t,i)}catch(e){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in i&&Object.prototype.__defineGetter__.call(e,t,i.get),Object.prototype.__defineSetter__&&"set"in i&&Object.prototype.__defineSetter__.call(e,t,i.set),"value"in i?e[t]=i.value:e[t]||(e[t]=i),e}),Array.prototype.forEach||(Array.prototype.forEach=function(e){if(null==this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();for(var s=arguments[1],r=0;r<i;r++)r in t&&e.call(s,t[r],r,t)}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i});var s,d,h=this,m=[];h.notifier=null,h.name="observableArray",h.observing=!0,h.changes=new Array;return h.observe=function(){h.observing=!0,1==arguments.length&&(t=arguments[0])},h.unobserve=function(){h.observing=!1},h.toArray=function(){return m.slice(0)},h.toJSON=function(h,e){var t=m,i=(e&&(t=e),/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g),s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function c(e){return'"'+e.replace(i,function(e){var t=s[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'}function u(e){return e<10?"0"+e:e}function r(e){switch(Object.prototype.toString.call(e)){case"[object Date]":return n=e,n=isFinite(n.valueOf())?n.getUTCFullYear()+"-"+u(n.getUTCMonth()+1)+"-"+u(n.getUTCDate())+"T"+u(n.getUTCHours())+":"+u(n.getUTCMinutes())+":"+u(n.getUTCSeconds())+'Z"':"null";case"[object Array]":for(var t=e,i=t.length,s=[],r=0;r<i;r++)s.push(p(r,t)||"null");return"["+s.join(",")+"]"}var n,o,a,l=e,d=[];for(o in l)!Object.prototype.hasOwnProperty.call(l,o)||""!=o&&h&&-1===h.indexOf(o)||(a=p(o,l))&&d.push(c(o)+":"+a);return"{"+d.join(",")+"}"}function p(e,t){var t=t[e],i=typeof t;if(t&&"object"==typeof t&&"function"==typeof t.toJSON&&(i=typeof(t=t.toJSON(e))),/(number|float|int|integer|string|boolean)/.test(i)||!t&&"object"===i){var s=t;switch(i){case"string":return c(s);case"number":case"float":case"integer":case"int":return isFinite(s)?s:"null";case"boolean":return s}return"null"}return r(t)}return!h&&window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(t):p("",{"":t})},h.defineIndexProperty=function(i){var n,o;i in h||(n=function(e,o,t,i){function s(){return l}function r(e){var t,r,n;return l!==(a=e)&&(e=l,l=a,"function"==typeof d&&(t=m.indexOf(i),r="",(n=function(i,s){Object.getOwnPropertyNames(i).forEach(function(e){var t=z.type(i[e]);"array"==t||"object"==t?n(i[e],s+"."+e):o===e&&(r=s+"."+e)})})(i,t),d({object:h,type:"update",path:r,index:t,name:o,newValue:a,oldValue:e}))),l=a}var a=e[o],l=a;null!=e[o]&&"length"!=o&&(Object.defineProperty?Object.defineProperty(e,o,{get:s,set:r}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(e,o,s),Object.prototype.__defineSetter__.call(e,o,r)))},o=function(i,s,r){var e=z.type(i);/(number|float|int|integer|string|boolean)/.test(e)||void 0!==i&&Object.getOwnPropertyNames(i).forEach(function(e){var t=z.type(i[e]);"array"==t||"object"==t?(n(i,e,0,r),o(i[e],s+"."+e,r)):n(i,e,0,r)})},Object.defineProperty(h,i,{configurable:!0,enumerable:!0,get:function(){return m[i]},set:function(e){var t=m[i];h.toJSON(null,t)!=h.toJSON(null,e)&&(m[i]=e,"function"==typeof d&&d({object:h,type:"update",path:i.toString(),index:i,name:"index",newValue:e,oldValue:t}),o(e,i,e))}}),o(h[i],i,h[i]))},h.push=function(){for(var e,t=0,i=arguments.length;t<i;t++)e=m.length,m.push(arguments[t]),h.defineIndexProperty(e),"function"==typeof d&&d({object:h,type:"add",name:"length",index:e,newValue:m.length,oldValue:e});return m.length},h.pop=function(){var e,t;if(~m.length)return e=m.length-1,t=m.pop(),delete h[e],"function"==typeof d&&d({object:h,type:"delete",name:"length",index:e,newValue:m.length,oldValue:e}),t},h.unshift=function(){for(var e=m.length,t=0,i=arguments.length;t<i;t++)m.splice(t,0,arguments[t]),h.defineIndexProperty(m.length-1);return"function"==typeof d&&d({object:h,type:"add",index:0,name:"length",newValue:m.length,oldValue:e}),m.length},h.shift=function(){var e,t=m.length;if(~m.length)return e=m.shift(),0===m.length&&delete h[t],"function"==typeof d&&d({object:h,type:"delete",index:t,name:"length",newValue:m.length,oldValue:t}),e},h.slice=function(e,t,i){e=m.slice(e,t);return new z.jqx.observableArray(e,i)},h.splice=function(e,t,i){var s,r=[];for(e=~e?e:m.length-e,t=(null==t?m.length-e:t)||0;t--;)s=m.splice(e,1)[0],r.push(s),delete h[m.length],"function"==typeof d&&d({object:h,type:"delete",index:e,name:"length",newValue:-1,oldValue:e});for(var n=2,o=arguments.length;n<o;n++)m.splice(e,0,arguments[n]),this.defineIndexProperty(m.length-1),"function"==typeof d&&d({object:h,type:"add",index:e,name:"length",newValue:m.length-1,oldValue:e}),e++;return new z.jqx.observableArray(r,i)},Object.defineProperty(h,"length",{configurable:!1,enumerable:!0,get:function(){return m.length},set:function(e){var t=Number(e);if(t%1==0&&0<=t)return t<m.length?h.splice(t):t>m.length&&h.push.apply(h,new Array(t-m.length)),e;throw new RangeError("Invalid array length")}}),z.jqx.observableArray.prototype.fromArray=function(e,t){return new z.jqx.observableArray(e,t)},z.jqx.observableArray.prototype.clone=function(){var e=new z.jqx.observableArray(m,t);return e.observing=h.observing,e.changes=h.changes,e.notifier=h.notifier,e},h.remove=function(e){if(e<0||e>=h.length)throw new Error("Invalid index : "+e);var t;return!!h.hasOwnProperty(e)&&(t=h[e],h[e]=void 0,m[e]=void 0,"function"==typeof d&&d({object:h,type:"delete",index:e,name:"index",newValue:void 0,oldValue:t}),!0)},h.concat=function(e,t){e=m.concat(e);return new z.jqx.observableArray(e,t)},Object.getOwnPropertyNames(Array.prototype).forEach(function(i){i in h||Object.defineProperty(h,i,{configurable:!1,enumerable:!0,writeable:!1,value:function(){var e=h.observing;h.observing=!1;var t=m[i].apply(m,arguments);return h.observing=e,t}})}),h.set=function(e,t){if("string"==z.type(e)&&1<e.split(".").length){for(var i=e.split("."),s=h,r=0;r<i.length;r++){if(0===r&&i[r]>=h.length)throw new Error("Invalid Index: "+e);r<i.length-1?s=s[i[r]]:s[i[r]]=t}return!0}return e>=h.length?h.push(t):h[e]=t,!0},h.get=function(e){return h[e]},e instanceof Array&&h.push.apply(h,e),d=function(){h.observing&&(arguments&&arguments[0]&&h.changes.push(arguments[0]),t&&t.apply(h,arguments),h.notifier&&h.notifier.apply(h,arguments))},h},z.jqx.formatDate=function(e,t,i){return z.jqx.dataFormat.formatdate(e,t,i)},z.jqx.formatNumber=function(e,t,i){return z.jqx.dataFormat.formatnumber(e,t,i)},z.jqx.dataAdapter=function(i,e){var s;null!=i&&(void 0!==i.dataFields&&(i.datafields=i.dataFields),void 0!==i.dataType&&(i.datatype=i.dataType),void 0!==i.localData&&(i.localdata=i.localData),void 0!==i.sortColumn&&(i.sortcolumn=i.sortColumn),void 0!==i.sortDirection&&(i.sortdirection=i.sortDirection),void 0!==i.sortColumns&&(i.sortcolumns=i.sortColumns),void 0!==i.sortDirections&&(i.sortdirections=i.sortDirections),void 0!==i.sortOrder&&(i.sortdirection=i.sortOrder),void 0!==i.formatData&&(i.formatdata=i.formatData),void 0!==i.processData&&(i.processdata=i.processData),void 0!==i.pageSize&&(i.pagesize=i.pageSize),void 0!==i.pageNum&&(i.pagenum=i.pageNum),void 0!==i.updateRow&&(i.updaterow=i.updateRow),void 0!==i.addRow&&(i.addrow=i.addRow),void 0!==i.deleteRow&&(i.deleterow=i.deleteRow),void 0!==i.contentType&&(i.contenttype=i.contentType),null!=i.totalRecords&&(i.totalrecords=i.totalRecords),null!=i.loadError&&(i.loadError=i.loadError),null!=i.sortComparer&&(i.sortcomparer=i.sortComparer)),this._source=i,this._options=e||{},null!=i.beforeLoadComplete&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete),null!=i.downloadComplete&&(this._options.downloadComplete=this._source.downloadComplete),null!=i.loadComplete&&(this._options.loadComplete=this._source.loadComplete),null!=i.autoBind&&(this._options.downloadComplete=this._source.autoBind),null!=i.formatData&&(this._options.formatData=this._source.formatData),null!=i.loadError&&(this._options.loadError=this._source.loadError),null!=i.beforeSend&&(this._options.beforeSend=this._source.beforeSend),null!=i.contentType&&(this._options.contentType=this._source.contentType),null!=i.async&&(this._options.async=this._source.async),null!=i.loadServerData&&(this._options.loadServerData=this._source.loadServerData),null!=i.uniqueDataFields&&(this._options.uniqueDataFields=this._source.uniqueDataFields),this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,null!=i&&null!=i.localdata&&"function"==typeof i.localdata&&null!=(e=i.localdata())&&(i._localdata=i.localdata,s=this,i._localdata.subscribe&&(s._oldlocaldata=[],i._localdata.subscribe(function(e){function t(e){return z.isArray(e)?z.makeArray(t(z(e))):z.extend(!0,{},e)}0!=s.suspendKO&&null!=s.suspendKO&&0!=s._oldlocaldata.length||(s._oldlocaldata=t(e))},i._localdata,"beforeChange"),i._localdata.subscribe(function(e){var t;0!=s.suspendKO&&null!=s.suspendKO||(t="",s._oldrecords=s.records,0==s._oldlocaldata.length&&(i.localdata=i._localdata()),0==s._oldlocaldata.length?t="change":e&&(s._oldlocaldata.length==e.length&&(t="update"),s._oldlocaldata.length>e.length&&(t="remove"),s._oldlocaldata.length<e.length&&(t="add")),s.dataBind(null,t))},i._localdata,"change"),s._knockoutdatasource=!0),i.localdata=e),1==this._options.autoBind&&this.dataBind()},z.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(e){this.isUpdating=!1,0!=e&&(this._changedrecords&&0<this._changedrecords.length?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(e,t,i){return z.jqx.dataFormat.formatdate(e,t,i)},formatNumber:function(e,t,i){return z.jqx.dataFormat.formatnumber(e,t,i)},dataBind:function(e,t){if(1!=this.isUpdating){var x=this._source;if(x){x.generatedfields&&(x.datafields=null,x.generatedfields=null),z.jqx.dataFormat.datescache=new Array,null!=x.dataFields&&(x.datafields=x.dataFields),null==x.recordstartindex&&(x.recordstartindex=0),null==x.recordendindex&&(x.recordendindex=0),null==x.loadallrecords&&(x.loadallrecords=!0),null==x.root&&(x.root=""),null==x.record&&(x.record=""),null!=x.sort&&(this.sort=x.sort),null!=x.filter?this.filter=x.filter:this.filter=null,null!=x.sortcolumn&&(this.sortcolumn=x.sortcolumn),null!=x.sortdirection&&(this.sortdirection=x.sortdirection),null!=x.sortcolumns&&(this.sortcolumns=x.sortcolumns),null!=x.sortdirections&&(this.sortdirections=x.sortdirections),null!=x.sortcomparer&&(this.sortcomparer=x.sortcomparer),this.records=new Array;var r=this._options||{};if(this.virtualmode=null!=r.virtualmode&&r.virtualmode,this.totalrecords=null!=r.totalrecords?r.totalrecords:0,this.pageable=null!=r.pageable&&r.pageable,this.pagesize=null!=r.pagesize?r.pagesize:0,this.pagenum=null!=r.pagenum?r.pagenum:0,this.cachedrecords=null!=r.cachedrecords?r.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=null!=r.updaterow?r.updaterow:null,this.addrow=null!=r.addrow?r.addrow:null,this.deleterow=null!=r.deleterow?r.deleterow:null,this.cache=null!=r.cache&&r.cache,this.unboundmode=!1,null!=x.formatdata&&(r.formatData=x.formatdata),null!=x.data&&(null==r.data&&(r.data={}),z.extend(r.data,x.data)),null!=x.mapChar&&(x.mapchar=x.mapChar),null!=x.mapchar?this.mapChar=x.mapchar||">":this.mapChar=r.mapChar||">",(r.unboundmode||x.unboundmode)&&(this.unboundmode=r.unboundmode||x.unboundmode),null!=x.cache&&(this.cache=x.cache),this.koSubscriptions)for(var i=0;i<this.koSubscriptions.length;i++)this.koSubscriptions[i].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var y=this,n=x.datatype,s=("csv"!==x.datatype&&"tab"!==x.datatype&&"tsv"!==x.datatype&&"text"!=x.datatype||(n="text"),null==r.async||r.async);switch(null!=x.async&&(s=x.async),"xlsx"===n&&x.url&&(x.localdata=[],n="array",window.jqxDataSource&&(v=new window.jqxDataSource({dataSource:x.url,async:!1,dataFields:x.datafields})).notify(function(){x.url=null,x.localdata=v.boundSource,x.datatype="array",y.dataBind()})),n){case"local":case"array":case"observablearray":case"observableArray":default:if(null==x.localdata&&x.length){x.localdata=new Array;for(var o=0;o<x.length;o++)x.localdata[x.localdata.length]=x[o],x[o].uid=o}x.beforeprocessing&&z.isFunction(x.beforeprocessing)&&x.beforeprocessing(x.localdata);var a=x.localdata.length;if(this.totalrecords=this.virtualmode&&x.totalrecords||a,this.unboundmode)if(this.totalrecords=this.unboundmode&&x.totalrecords||a,0<(w=x.datafields?x.datafields.length:0))for(o=0;o<this.totalrecords;o++){for(var l={},d=0;d<w;d++)l[x.datafields[d].name]="";l.uid=o,x.localdata[x.localdata.length]=l}null==this.totalrecords&&(this.totalrecords=0);function h(e,t){for(var i={},s=0;s<t;s++){var r=x.datafields?x.datafields[s]:{},n="";if(null!=r){if(r.map){if(z.isFunction(r.map))n=r.map(e);else{var o=r.map.split(y.mapChar);if(0<o.length){for(var a=e,l=0;l<o.length;l++)a=a&&a[o[l]];n=a}else n=e[r.map]}null!=n?n=n.toString():null==n&&null!=n&&(n="")}var d=!1;""==n&&(d=!0,null!=(n=e[r.name])&&(x._localdata&&n.subscribe?n=n():"array"!=r.type&&("date"===r.type?n&&Date:n=n.toString()))),"[object Object]"==n&&r.map&&d&&(n=""),n=y.getvaluebytype(n,r),null!=r.displayname?i[r.displayname]=n:i[r.name]=n}}return i}var c,u,w=x.datafields?x.datafields.length:0;if(x._localdata){this._changedrecords=[],this.records=new Array;var p=x._localdata();if(z.each(p,function(m,e){var g,f,v;"string"==typeof e?y.records.push(e):(g={},f=0,z.each(v=this,function(i,e){var t=null,s="string",r=i;if(0<w){for(var n=!1,o=!1,a=0;a<w;a++){var l=x.datafields[a];if(null!=l&&l.name==i){n=!0,t=l.map,s=l.type,r=l.name;break}if(null!=l&&l.map&&0<=l.map.indexOf(i)){var n=!0,t=l.map,s=l.type,r=l.name,o=!0,d=v[i];if(null!=t)if(0<(p=t.split(y.mapChar)).length){for(var h=v,c=0;c<p.length;c++)h=h[p[c]];d=h}else d=v[t];"string"!=s&&(d=y.getvaluebytype(d,{type:s})),g[r]=d,null!=g[r]&&(f+=g[r].toString().length+g[r].toString().substr(0,1))}}if(!n)return!0;if(o)return!0}if(z.isFunction(v[i])){var u,d=v[i]();"string"!=s&&(d=y.getvaluebytype(d,{type:s})),g[i]=d,v[i].subscribe&&(u=m,y.koSubscriptions[y.koSubscriptions.length]=v[i].subscribe(function(e){var t=u,e=(g[i]=e,{index:t,oldrecord:g,record:g});if(y._changedrecords.push(e),!y.isUpdating)return y.callBindingUpdate("update"),!(y._changedrecords=[])}))}else{var p,d=v[i];if(null!=t)if(0<(p=t.split(y.mapChar)).length){for(h=v,c=0;c<p.length;c++)h=h[p[c]];d=h}else d=v[t];"string"!=s&&(d=y.getvaluebytype(d,{type:s})),g[r]=d,null!=g[r]&&(f+=g[r].toString().length+g[r].toString().substr(0,1))}}),e=y.getid(x.id,v,m),g.uid=e,y.records.push(g),g._koindex=f,y._oldrecords&&(e=y.records.length-1,"update"==t&&y._oldrecords[e]._koindex!=f&&(e={index:e,oldrecord:y._oldrecords[e],record:g},y._changedrecords.push(e))))}),"add"==t)for(a=y.records.length,o=0;o<a;o++){for(var l=y.records[o],m=!1,g=0;g<y._oldrecords.length;g++)if(y._oldrecords[g]._koindex===l._koindex){m=!0;break}m||y._changedrecords.push({index:o,oldrecord:null,record:l,position:0!=o?"last":"first"})}else if("remove"==t)for(a=y._oldrecords.length,o=0;o<a;o++){var f=y._oldrecords[o];(!y.records[o]||y.records[o]._koindex!=f._koindex)&&y._changedrecords.push({index:o,oldrecord:f,record:null})}}else z.isArray(x.localdata)?0==w?(c=0,u=new Array,z.each(x.localdata,function(e,t){var i=new Object(this);if("string"==typeof t)return y.records=x.localdata,!1;t=y.getid(x.id,i,e);if(i.uid=t="object"==typeof t?e:t,0==e){for(var s in this){c++;var r=z.type(this[s]);u.push({name:s,type:r})}w=c,x.datafields=u,x.generatedfields=u}0<w?((e=h(i,w)).uid=t,y.records[y.records.length]=e):y.records[y.records.length]=i})):z.each(x.localdata,function(e){var t=this,i=h(t,w),s=y.getid(x.id,i,e);"object"==typeof s&&(s=e),(t=new Object(i)).uid=s,y.records[y.records.length]=t}):(this.records=new Array,c=0,u=new Array,z.each(x.localdata,function(e){var t,e=y.getid(x.id,this,e);if(0==w&&!("string"==typeof this||this instanceof String)){for(var i in this){c++;var s=z.type(this[i]);u.push({name:i,type:s})}w=c,x.datafields=u,x.generatedfields=u}0<w?((t=h(this,w)).uid=e,y.records[y.records.length]=t):(this.uid=e,y.records[y.records.length]=this)}));this.originaldata=x.localdata,this.cachedrecords=this.records,this.addForeignValues(x),r.uniqueDataFields&&(_=this.getUniqueRecords(this.records,r.uniqueDataFields),this.records=_,this.cachedrecords=_),r.beforeLoadComplete&&null!=(b=r.beforeLoadComplete(y.records,this.originaldata))&&(y.records=b,y.cachedrecords=b),r.autoSort&&r.autoSortField&&(p=Object.prototype.toString,Object.prototype.toString="function"==typeof field?field:function(){return this[r.autoSortField]},y.records.sort(function(e,t){if(void 0===t&&(t=null),null===(e=void 0===e?null:e)&&null===t)return 0;if(null===e&&null!==t)return 1;if(null!==e&&null===t)return-1;if(e=e.toString(),t=t.toString(),null===e&&null===t)return 0;if(null===e&&null!==t)return 1;if(null!==e&&null===t)return-1;if(z.jqx.dataFormat.isNumber(e)&&z.jqx.dataFormat.isNumber(t))return e<t?-1:t<e?1:0;if(z.jqx.dataFormat.isDate(e)&&z.jqx.dataFormat.isDate(t))return e<t?-1:t<e?1:0;z.jqx.dataFormat.isNumber(e)||z.jqx.dataFormat.isNumber(t)||(e=String(e).toLowerCase(),t=String(t).toLowerCase());try{if(e<t)return-1;if(t<e)return 1}catch(e){}return 0}),Object.prototype.toString=p),y.loadedData=x.localdata,y.buildHierarchy(),z.isFunction(r.loadComplete)&&r.loadComplete(x.localdata,y.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"ics":if(null!=x.localdata&&!x.url)return z.isFunction(x.beforeprocessing)&&x.beforeprocessing(x.localdata),"xml"===x.datatype?y.loadxml(x.localdata,x.localdata,x):"text"===n?y.loadtext(x.localdata,x):"ics"===n?y.loadics(x.localdata,x):y.loadjson(x.localdata,x.localdata,x),y.addForeignValues(x),r.uniqueDataFields&&(_=y.getUniqueRecords(y.records,r.uniqueDataFields),y.records=_,y.cachedrecords=_),r.beforeLoadComplete&&null!=(b=r.beforeLoadComplete(y.records,this.originaldata))&&(y.records=b,y.cachedrecords=b),y.loadedData=x.localdata,y.buildHierarchy.call(y),z.isFunction(r.loadComplete)&&r.loadComplete(x.localdata,y.records),void y.callBindingUpdate(t);var v,p=null!=r.data?r.data:{},b=(x.processdata&&x.processdata(p),z.isFunction(r.processData)&&r.processData(p),!z.isFunction(r.formatData)||null!=(_=r.formatData(p))&&(p=_),"application/x-www-form-urlencoded"),_=(r.contentType&&(b=r.contentType),"GET"),q=(x.type&&(_=x.type),r.type&&(_=r.type),n);"ics"==n&&(q="text"),x.url&&0<x.url.length?z.isFunction(r.loadServerData)?y._requestData(p,x,r):this.xhr=z.jqx.data.ajax({dataType:q,cache:this.cache,type:_,url:x.url,async:s,timeout:x.timeout,contentType:b,data:p,success:function(e,t,i){if(z.isFunction(x.beforeprocessing)&&null!=(s=x.beforeprocessing(e,t,i))&&(e=s),null==(e=z.isFunction(r.downloadComplete)&&null!=(s=r.downloadComplete(e,t,i))?s:e))return y.records=new Array,y.cachedrecords=new Array,y.originaldata=new Array,y.callDownloadComplete(),void(z.isFunction(r.loadComplete)&&r.loadComplete(new Array));var s=e;e.records&&(s=e.records),null!=e.totalrecords?x.totalrecords=e.totalrecords:null!=e.totalRecords&&(x.totalrecords=e.totalRecords),"xml"===x.datatype?y.loadxml(null,s,x):"text"===n?y.loadtext(s,x):"ics"===n?y.loadics(s,x):y.loadjson(null,s,x),y.addForeignValues(x),r.uniqueDataFields&&(s=y.getUniqueRecords(y.records,r.uniqueDataFields),y.records=s,y.cachedrecords=s),r.beforeLoadComplete&&null!=(s=r.beforeLoadComplete(y.records,e))&&(y.records=s,y.cachedrecords=s),y.loadedData=e,y.buildHierarchy.call(y),y.callDownloadComplete(),z.isFunction(r.loadComplete)&&r.loadComplete(e,t,i,y.records)},error:function(e,t,i){z.isFunction(x.loaderror)&&x.loaderror(e,t,i),z.isFunction(r.loadError)&&r.loadError(e,t,i),e=null,y.callDownloadComplete()},beforeSend:function(e,t){z.isFunction(r.beforeSend)&&r.beforeSend(e,t),z.isFunction(x.beforesend)&&x.beforesend(e,t)}}):(y.buildHierarchy(new Array),y.callDownloadComplete(),z.isFunction(r.loadComplete)&&(v=v||{},r.loadComplete(v)))}this.callBindingUpdate(t)}}},buildHierarchy:function(e){var n=this._source,t=new Array;if(n.datafields&&(n.hierarchy&&!n.hierarchy.reservedNames?n.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}:n.hierarchy&&((a=n.hierarchy.reservedNames).leaf||(a.leaf="leaf"),a.parent||(a.parent="parent"),a.expanded||(a.expanded="expanded"),a.checked||(a.checked="checked"),a.selected||(a.selected="selected"),a.level||(a.level="level"),a.data||(a.data="data")),n.hierarchy)){var o=this,a=n.hierarchy.reservedNames;if(n.hierarchy.root){if("xml"==n.dataType)return t=this.getRecordsHierarchy("uid","parentuid","records",null,e),this.hierarchy=t;this.hierarchy=this.records;for(var l=n.hierarchy.root,i=0;i<this.records.length;i++){var d,s,h,r=this.records[i];r&&((d=function(e){if(n.hierarchy.record)e.records=e[l][n.hierarchy.record];else{var t=l.split(o.mapChar),i=null;if(1<t.length){for(var s=e,r=0;r<t.length;r++)null!=s&&(s=s[t[r]]);i=s}else i=e[l];e.records=i}(null==e.records||e.records&&0==e.records.length)&&(e[a.leaf]=!0)})(r),r[a.level]=0,s=this.getid(n.id,r,i),r.uid=s,r[a.parent]=null,void 0===(r[a.data]=r)[a.expanded]&&(r[a.expanded]=!1),(h=function(e,t){if(t)for(var i=0;i<t.length;i++){var s,r=t[i];r&&(d(r),r[a.level]=e[a.level]+1,r[a.parent]=e,r[a.data]=r,(s=o.getid(n.id,r,i))==i&&null==n.id?r.uid=e.uid+"_"+s:r.uid=s,void 0===r[a.expanded]&&(r[a.expanded]=!1),h(r,r.records))}else e.records=new Array})(r,r.records))}return this.hierarchy}if(n.hierarchy.keyDataField&&n.hierarchy.parentDataField)return t=this.getRecordsHierarchy(n.hierarchy.keyDataField.name,n.hierarchy.parentDataField.name,"records",null,e),this.hierarchy=t;if(n.hierarchy.groupingDataFields){for(var c=new Array,i=0;i<n.hierarchy.groupingDataFields.length;i++)c.push(n.hierarchy.groupingDataFields[i].name);t=this.getGroupedRecords(c,"records","label",null,"data",null,"parent",e);return this.hierarchy=t}}},addRecord:function(r,n,o,e){function a(){return{leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}}var l,d=this;if(null!=r){if(null==o)return this.hierarchy&&0<=this.hierarchy.length&&(this._source.hierarchy||e)?(null==(e=d._source&&d._source.hierarchy?d._source.hierarchy.reservedNames:null)&&(e=a()),r[e.level]=0,"last"==n?this.hierarchy.push(r):"number"==typeof n&&isFinite(n)?this.hierarchy.splice(n,0,r):this.hierarchy.splice(0,0,r)):"last"==n?this.records.push(r):"number"==typeof n&&isFinite(n)?this.records.splice(n,0,r):this.records.splice(0,0,r),!0;0<this.hierarchy.length&&(l=function(e){if(e)for(var t=0;t<e.length;t++){var i,s=e[t];if(s.uid==o)return null==(i=d._source&&d._source.hierarchy?d._source.hierarchy.reservedNames:null)&&(i=a()),r[i.parent]=s,r[i.level]=s[i.level]+1,s.records||(s.records=new Array),s[i.leaf]=!1,"last"==n?s.records.push(r):"number"==typeof n&&isFinite(n)?s.records.splice(n,0,r):s.records.splice(0,0,r),!0;s.records&&l(s.records)}})(this.hierarchy)}return!1},deleteRecord:function(n){var o=this;if(0<this.hierarchy.length){function a(e){if(e)for(var t=0;t<e.length;t++){if((i=e[t]).uid==n){e.splice(t,1),o.recordids[n]&&delete o.recordids[n];function r(e){for(var t=0;t<e.length;t++){for(var i=e[t].uid,s=0;s<o.records.length;s++)if(o.records[s].uid==i){o.records.splice(s,1);break}e[t].records&&r(e[t].records)}}i.records&&r(i.records);for(var i,s=0;s<o.records.length;s++)if((i=o.records[s]).uid==n){o.records.splice(s,1);break}return!0}i.records&&a(i.records)}}a(this.hierarchy)}else for(var e=0;e<this.records.length;e++)if(this.records[e].uid==n)return this.records.splice(e,1),!0;return!1},addForeignValues:function(e){for(var t=this,i=e.datafields?e.datafields.length:0,s=0;s<i;s++){var r=e.datafields[s];if(null!=r)if(null!=r.values){null==r.value&&(r.value=r.name),null==r.values.value&&(r.values.value=r.value);var n,o,a=new Array;t.pageable&&t.virtualmode?(o=(n=t.pagenum*t.pagesize)+t.pagesize)>t.totalrecords&&(o=t.totalrecords):t.virtualmode?(n=e.recordstartindex,(o=e.recordendindex)>t.totalrecords&&(o=t.totalrecords)):(n=0,o=t.records.length);for(var l=n;l<o;l++){var d=t.records[l],h=r.name,c=d[r.value];if(null!=a[c])d[h]=a[c];else for(var u=0;u<r.values.source.length;u++){var p=r.values.source[u],m=p[r.values.value];if((m=null==m?p.uid:m)==c){m=p[r.values.name];d[h]=m,a[c]=m;break}}}}else if(null!=r.value)for(l=0;l<t.records.length;l++)(d=t.records[l])[r.name]=d[r.value]}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),this.callDownloadComplete())},_requestData:function(e,r,n){var o=this;n.loadServerData(e,r,function(e){var t;e.totalrecords&&(r.totalrecords=e.totalrecords,o.totalrecords=e.totalrecords),e.records&&(o.records=e.records,o.cachedrecords=e.records),o.addForeignValues(r),n.uniqueDataFields&&(t=o.getUniqueRecords(o.records,n.uniqueDataFields),o.records=t,o.cachedrecords=t),n.beforeLoadComplete&&null!=(t=n.beforeLoadComplete(o.records,e))&&(o.records=t,o.cachedrecords=t);for(var i=0;i<o.records.length;i++){var s=o.records[i];null!=s&&null==s.uid&&(s.uid=o.getid(r.id,s,i))}o.buildHierarchy.call(o),z.isFunction(n.loadComplete)&&n.loadComplete(e),o.callDownloadComplete()})},getUniqueRecords:function(e,t){if(e&&t)for(var i=e.length,s=t.length,r=new Array,n=new Array,o=0;o<i;o++){var a=e[o],l="";if(null!=a){for(var d=0;d<s;d++){var h=t[d];void 0!==a[h]&&(l+=a[h]+"_")}!n[l]&&l&&(r[r.length]=a),n[l]=!0}}return r},getAggregatedData:function(e,r,t,s){var a=(a=t)||this.records,l={},i=new Array,d=a.length;if(0!=d&&null!=d){for(var n=0;n<d;n++)for(var o=a[n],h=0;h<e.length;h++){var c,u,p=e[h],m=o[p.name];p.aggregates&&(l[p.name]=l[p.name]||{},i[p.name]=i[p.name]||0,i[p.name]++,c=function(e){for(var t in e){var i=l[p.name][t];null==i&&(i=l[p.name][t]=0),z.isFunction(e[t])&&(i=e[t](i,m,p.name,o,s)),l[p.name][t]=i}},u=parseFloat(m),u=!isNaN(u),"number"==typeof(m=u?parseFloat(m):m)&&isFinite(m)?z.each(p.aggregates,function(){var e=l[p.name][this];if(null==e&&(e="max"==this?-9999999999999:"min"==this?9999999999999:0),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)e+=parseFloat(m);else if("product"==this)0==n?e=parseFloat(m):e*=parseFloat(m);else if("min"==this)e=Math.min(e,parseFloat(m));else if("max"==this)e=Math.max(e,parseFloat(m));else if("count"==this)e++;else if("object"==typeof this)return void c(this);l[p.name][this]=e}):z.each(p.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){if(null===m)return!0;var e=l[p.name][this];return l[p.name][this]=e=null==e?0:e,!0}"object"==typeof this&&c(this)}))}for(h=0;h<e.length;h++){var g,p=e[h];l[p.name]||(l[p.name]={},z.each(p.aggregates,function(e){l[p.name][this]=0})),null!=l[p.name].avg?(m=l[p.name].avg,g=i[p.name],l[p.name].avg=0===g||null==g?0:m/g):null!=l[p.name].count&&(l[p.name].count=d),(l[p.name].stdev||l[p.name].stdevp||l[p.name].var||l[p.name].varp)&&z.each(p.aggregates,function(e){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var t=l[p.name][this],i=d,s=t/d,r=0,n=0;n<d;n++){var o=a[n][p.name];r+=(o-s)*(o-s)}t="stdevp"==this||"varp"==this?i:i-1;0==t&&(t=1),"var"==this||"varp"==this?l[p.name][this]=r/t:"stdevp"!=this&&"stdev"!=this||(l[p.name][this]=Math.sqrt(r/t))}}),p.formatStrings&&z.each(p.aggregates,function(e){var t=p.formatStrings[e];if(t)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var i=l[p.name][this];l[p.name][this]=z.jqx.dataFormat.formatnumber(i,t,r)}else if("object"==typeof this)for(var s in this){i=l[p.name][s];l[p.name][s]=z.jqx.dataFormat.formatnumber(i,t,r)}})}return l}},bindDownloadComplete:function(e,t){this._downloadComplete[this._downloadComplete.length]={id:e,func:t}},unbindDownloadComplete:function(e){for(var t=0;t<this._downloadComplete.length;t++)if(this._downloadComplete[t].id==e){this._downloadComplete[t].func=null,this._downloadComplete.splice(t,1);break}},callDownloadComplete:function(){for(var e=0;e<this._downloadComplete.length;e++){var t=this._downloadComplete[e];null!=t.func&&t.func()}},setSource:function(e){this._source=e},generatekey:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getGroupedRecords:function(e,t,i,s,r,n,o,a,l){l=l||0;for(var d=new Array,h=0;h<e.length;h++)d[h]=this.generatekey();t=t||"items",i=i||"group",r=r||"record",o=o||"parentItem",void 0===n&&(n="value");for(var c=new Array,u=0,p=new Array,m=e.length,g=(new Array,(a=a||this.records).length),f=0;f<g;f++){for(var v=function(e){var t=e;return s&&z.each(s,function(){this.name&&this.map&&(t[this.map]=t[this.name])}),t}(a[f]),x=(v[this.uniqueId],new Array),y=0,h=0;h<m;h++){var w=v[e[h]];null!=w&&(x[y++]={value:w,hash:d[h]})}if(x.length!=m)break;for(var b=null,_="",q=0;q<x.length;q++){0;var j,T=x[q].value;null!=p[_=_+"_"+x[q].hash+"_"+T]&&null!=p[_]?b=p[_]:(null==b?((b={level:0})[o]=null,b[i]=T,void 0!==(b[r]=v).expanded?b.expanded=v.expanded:b.expanded=!1,n&&(b[n]=v[n]),b[t]=new Array,j=c.length+l,this._source.id&&"number"!=typeof v.uid&&!isFinite(v.uid)||(j="Row"+j),b.uid=j,c[u++]=b):((j={level:b.level+1})[o]=b,j[i]=T,j[t]=new Array,void 0!==(j[r]=v).expanded?j.expanded=v.expanded:j.expanded=!1,n&&(j[n]=v[n]),j.uid=b.uid+"_"+b[t].length,b[t][b[t].length]=j,b=j),p[_]=b)}v&&(v.leaf=!0),null!=b?(null==this._source.id&&(null==v.uid?v.uid=b.uid+"_"+b[t].length:-1==v.uid.toString().indexOf(b.uid)&&(v.uid=b.uid+"_"+v.uid)),v[o]=b,v.level=b.level+1,b[t][b[t].length]=v):null==v.uid&&(v.uid=this.generatekey())}return c},getRecordsHierarchy:function(e,t,i,s,r){var n=new Array,o=this.records;if(0==this.records.length)return null;function a(e){var t=e;return s&&z.each(s,function(){this.name&&this.map&&(t[this.map]=t[this.name])}),t}for(var l=null!=i?i:"items",d=[],h=o=r?r:o,c=h.length,u=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,p=0;p<c;p++){var m=(f=z.extend({},h[p]))[t];d[b=f[e]]={parentid:m,item:f}}for(var g,p=0;p<c;p++){var f,v,x,y,w,m=(f=z.extend({},h[p]))[t],b=f[e];null!=d[m]?(f={parentid:m,item:d[b].item},(v=d[m].item)[l]||(v[l]=[]),x=v[l].length,y=f.item,u?null==y[u.parent]&&(y[u.parent]=v):null==y.parent&&(y.parent=v),w=a(y),v[l][x]=w,d[m].item=v,d[b]=f):(y=d[b].item,u?null==y[u.parent]&&(y[u.parent]=null):null==y.parent&&(y.parent=null),w=a(y),u?w[u.level]=0:w.level=0,n[n.length]=w)}return 0!=n.length&&(g=function(e,t){for(var i=0;i<t.length;i++){u?t[i][u.level]=e:t[i].level=e;var s=t[i][l];s&&0<s.length?g(e+1,s):u?t[i][u.leaf]=!0:t[i].leaf=!0}})(0,n),n},bindBindingUpdate:function(e,t){this._bindingUpdate[this._bindingUpdate.length]={id:e,func:t}},unbindBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++)if(this._bindingUpdate[t].id==e){this._bindingUpdate[t].func=null,this._bindingUpdate.splice(t,1);break}},callBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++){var i=this._bindingUpdate[t];null!=i.func&&i.func(e)}},getid:function(e,t,i){if(null==e||null==e.name||!e.name){if(0<z(e,t).length)return z(e,t).text();if(e&&0<e.toString().length){if(null!=(o=z(t).attr(e))&&0<o.toString().length)return z.trim(o).split(" ").join("").replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/\\@])/g,"");var s=e.split(this.mapChar);if(1<s.length){for(var r=t,n=0;n<s.length;n++)null!=r&&(r=r[s[n]]);if(null!=r)return r}else if(null!=t[e])return t[e]}return i}var o;if(null!=(o=z(t).attr(e.name))&&0<o.toString().length)return o;if(e.map)try{if(null!=(o=z(t).attr(e.map))&&0<o.toString().length)return o;if(0<z(e.map,t).length)return z(e.map,t).text();if(0<z(e.name,t).length)return z(e.name,t).text()}catch(e){return i}},loadjson:function(t,e,h){"string"==typeof t&&(t=z.parseJSON(t)),null==h.root&&(h.root=""),null==h.record&&(h.record="");t=(t=t||e)||[];var c=this;if(""!=h.root){if(1<(w=h.root.split(c.mapChar)).length){for(var i=t,s=0;s<w.length;s++)null!=i&&(i=i[w[s]]);t=i}else if(void 0!==t[h.root]?t=t[h.root]:t[0]&&void 0!==t[0][h.root]?t=t[0][h.root]:z.each(t,function(e){if(this==h.root)return t=this,!1;null!=this[h.root]&&(t=this[h.root])}),!t)if(0<(w=h.root.split(c.mapChar)).length){for(i=t,s=0;s<w.length;s++)null!=i&&(i=i[w[s]]);t=i}}else if(!t.length)for(var r in t)if(z.isArray(t[r])){t=t[r];break}if(null==(t=null!=t&&null==t.length?z.makeArray(t):t)||"undefined"==t||null==t.length)throw new Error("jqxDataAdapter: JSON Parse error! Invalid JSON. Please, check your JSON or your jqxDataAdapter initialization!");if(0==t.length)this.totalrecords=0;else{var n=t.length,o=(this.totalrecords=this.virtualmode&&h.totalrecords||n,this.records=new Array,this.originaldata=new Array,this.records),a=this.pageable?this.pagesize*this.pagenum:h.recordstartindex,l=(this.recordids=new Array,h.loadallrecords&&(a=0,n=this.totalrecords),0),u=(this.virtualmode&&(l=a=this.pageable?this.pagesize*this.pagenum:h.recordstartindex,a=0,n=this.totalrecords),h.datafields?h.datafields.length:0);if(0==u){var e=t[0],d=new Array;for(r in e){var p=r;d[d.length]={name:p}}h.datafields=d,h.generatedfields=h.datafields,u=d.length}for(var m=a,g=a;g<n;g++){var f=t[g];if(null==f)break;if(!h.record||""==h.record||null!=(f=f[h.record])){var v=this.getid(h.id,f,g);if("object"==typeof v&&(v=g),!this.recordids[v]){this.recordids[v]=f;for(var x={},y=0;y<u;y++){var w,b,_,q=h.datafields[y],j="";if(null!=q){if(q.map){if(z.isFunction(q.map))j=q.map(f);else if(0<(w=q.map.split(c.mapChar)).length){for(var T=f,s=0;s<w.length;s++)null!=T&&(T=T[w[s]]);j=T}else j=f[q.map];null!=j?j=this.getvaluebytype(j,q):null==j&&null!=j&&(j="")}""!=j||q.map||(null==(j=f[q.name])&&null!=j&&(j=""),null!=q.value&&null!=j&&null!=(b=j[q.value])&&(j=b)),j=this.getvaluebytype(j,q),null!=q.displayname?x[q.displayname]=j:x[q.name]=j,"array"===q.type&&(_=function(e){if(e)for(var t=0;t<e.length;t++){var i=e[t];if(i)for(var s=0;s<u;s++){var r,n=h.datafields[s],o="";if(null!=n){if(n.map){if(z.isFunction(n.map))o=n.map(i);else{var a=n.map.split(c.mapChar);if(0<a.length){for(var l=i,d=0;d<a.length;d++)null!=l&&(l=l[a[d]]);o=l}else o=i[n.map]}null!=o?o=this.getvaluebytype(o,n):null==o&&null!=o&&(o="")}""!=o||n.map||(null==(o=i[n.name])&&null!=o&&(o=""),null!=n.value&&null!=o&&null!=(r=o[n.value])&&(o=r)),o=this.getvaluebytype(o,n),null!=n.displayname?i[n.displayname]=o:i[n.name]=o,"array"===n.type&&_.call(this,o)}}}}).call(this,j)}}(h.recordendindex<=0||a<h.recordendindex)&&(o[l+m]=new Object(x),o[l+m].uid=v,this.originaldata[l+m]=new Object(o[g]),m++)}}}this.records=o,this.cachedrecords=this.records}},loadxml:function(e,t,i){"string"==typeof e&&(e=t=z(z.parseXML(e)),e=null),null==i.root&&(i.root=""),null==i.record&&(i.record="");var s=(e=(e=z.jqx.browser.msie&&t&&null!=t.xml?z(i.root+" "+i.record,z.parseXML(t.xml)):e||z(i.root+" "+i.record,t))||[]).length;if(0!=e.length){this.totalrecords=this.virtualmode&&i.totalrecords||s,this.records=new Array,this.originaldata=new Array;var r=this.records,n=this.pageable?this.pagesize*this.pagenum:i.recordstartindex,o=(this.recordids=new Array,i.loadallrecords&&(n=0,s=this.totalrecords),0),a=(this.virtualmode&&(o=n=this.pageable?this.pagesize*this.pagenum:i.recordstartindex,n=0,s=this.totalrecords),i.datafields?i.datafields.length:0);if(0==a){var l,t=e[0],d=new Array;for(l in t){var h=l;d[d.length]={name:h}}i.datafields=d,i.generatedfields=i.datafields,a=d.length}for(var c=n,u=n;u<s;u++){if(null==(j=e[u]))break;var p=this.getid(i.id,j,u);if(!this.recordids[p]){this.recordids[p]=j;var m={},g=!1;i.hierarchy&&i.hierarchy.root&&(g=!0);for(var f=0;f<a;f++){var v=i.datafields[f],x="";if(null!=v){if(v.map)if(z.isFunction(v.map))x=v.map(j);else{var y=v.map.indexOf("[");if(y<0)if(1==(x=z(v.map,j)).length)x=x.text();else{for(var w=new Array,b=0;b<x.length;b++)w.push(z(x[b]).text());x=w,g&&0<w.length&&(x=w[0])}else{var _=v.map.substring(0,y-1),q=v.map.indexOf("]"),y=v.map.substring(y+1,q);null==(x=null==(x=z(_,j).attr(y))?z(j).attr(y):x)&&(x="")}""==x&&null==(x=z(j).attr(v.map))&&(x="")}if(""==x){if(1==(x=z(v.name,j)).length)x=x.text();else{for(w=new Array,b=0;b<x.length;b++)w.push(z(x[b]).text());x=w,g&&0<w.length&&(x=w[0])}""==(x=""==x&&null==(x=z(j).attr(v.name))?"":x)&&j.nodeName&&j.nodeName==v.name&&j.firstChild&&(x=z(j.firstChild).text())}x=this.getvaluebytype(x,v),null!=v.displayname?m[v.displayname]=x:m[v.name]=x}}(i.recordendindex<=0||n<i.recordendindex)&&(r[o+c]=z.extend({},m),r[o+c].uid=p,this.originaldata[o+c]=z.extend({},r[u]),c++)}}if(i.hierarchy&&i.hierarchy.root)for(u=n;u<s;u++){var j=e[u],T=r[u];0<z(j).parent().length?(p=this.getid(i.id,z(j).parents(i.hierarchy.record+":first")),T.parentuid=p):T.parentuid=null}this.records=r,this.cachedrecords=this.records}},loadics:function(e,t){if(null!=e){function i(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/.exec(e);if(t)return new Date(Date.UTC(t[1],t[2]-1,t[3],t[5]||0,t[6]||0,t[7]||0));throw new Error("Invalid UNTIL value: "+e)}for(var t=t.rowDelimiter||this.rowDelimiter||"\n",s=e.split(t),r=s.length,t=e.split("\r"),n=(1==r&&1<t.length&&(r=(s=t).length),this.records=new Array,this.originaldata=new Array,this.records),o=(this.recordids=new Array,0);o<r;o++){var a,l,d=s[o];"BEGIN:VEVENT"==d?a={}:0<=d.indexOf("SUMMARY")?a.SUMMARY=d.substring(d.indexOf("SUMMARY")+8):0<=d.indexOf("LOCATION")?a.LOCATION=d.substring(d.indexOf("LOCATION")+9):0<=d.indexOf("DESCRIPTION")?a.DESCRIPTION=d.substring(d.indexOf("DESCRIPTION")+12):0<=d.indexOf("RRULE")?a.RRULE=d.substring(d.indexOf("RRULE")+6):0<=d.indexOf("EXDATE")?(l=d.substring(d.indexOf("EXDATE")+7),a.EXDATE=l):0<=d.indexOf("DTEND")?a.DTEND=i(d.substring(d.indexOf("DTEND")+6)):0<=d.indexOf("DTSTART")?a.DTSTART=i(d.substring(d.indexOf("DTSTART")+8)):0<=d.indexOf("UID")?a.uid=a.UID=d.substring(d.indexOf("UID")+4):0<=d.indexOf("STATUS")?a.STATUS=d.substring(d.indexOf("STATUS")+7):"END:VEVENT"==d&&n.push(a)}this.records=n,this.cachedrecords=this.records}},loadtext:function(e,t){if(null!=e){for(var i=t.rowDelimiter||this.rowDelimiter||"\n",s=e.split(i),r=s.length,i=e.split("\r"),n=(1==r&&1<i.length&&(r=(s=i).length),this.totalrecords=this.virtualmode&&t.totalrecords||r,this.records=new Array,this.originaldata=new Array,this.records),e=this.pageable?this.pagesize*this.pagenum:t.recordstartindex,o=(this.recordids=new Array,t.loadallrecords&&(e=0,r=this.totalrecords),0),a=(this.virtualmode&&(o=e=this.pageable?this.pagesize*this.pagenum:t.recordstartindex,e=0,r=this.totalrecords),t.datafields.length),l=(l=t.columnDelimiter||this.columnDelimiter)||("tab"===t.datatype||"tsv"===t.datatype?"\t":","),d=e;d<r;d++){var h=s[d],c=null;if(!this.recordids[c]){null==t.id&&(c=d,this.recordids[c]=h);for(var u,p,m={},g=s[d].split(l),f=0;f<a;f++)f>=g.length||(u=t.datafields[f],p=g[f],u.map&&z.isFunction(u.map)&&(p=u.map(h)),u.type&&(p=this.getvaluebytype(p,u)),m[u.map||u.name||f.toString()]=p,null!=t.id&&t.id===u.name&&(c=p,this.recordids[c]=h));null==c&&(c=d),n[o+d]=z.extend({},m),n[o+d].uid=c,this.originaldata[o+d]=z.extend({},n[d])}}this.records=n,this.cachedrecords=this.records}},getvaluebytype:function(e,t){var i=e;if(null==e)return e;if(z.isArray(e)&&"array"!=t.type){for(var s=0;s<e.length;s++)e[s]=this.getvaluebytype(e[s],t);return e}if("date"==t.type)if("NaN"==e)e="";else{if(e&&e instanceof Date)return e;var r,n=new Date(e);null==(e=("NaN"==(n="string"==typeof e&&t.format&&null!=(r=z.jqx.dataFormat.parsedate(e,t.format))?r:n).toString()||"Invalid Date"==n.toString())&&z.jqx.dataFormat?z.jqx.dataFormat.tryparsedate(e):n)&&(e=i)}else"float"==t.type||"number"==t.type||"decimal"==t.type?"NaN"==e?e="":(e=parseFloat(e),isNaN(e)&&(e=i)):"int"==t.type||"integer"==t.type?(e=parseInt(e),isNaN(e)&&(e=i)):"bool"!=t.type&&"boolean"!=t.type||(null!=e&&null!=e.toLowerCase&&("false"==e.toLowerCase()?e=!1:"true"==e.toLowerCase()&&(e=!0)),e=1==e||(0!=e||""===e)&&"");return e}},z.jqx.dataFormat={},z.extend(z.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(e){return"boolean"==typeof e},isObject:function(e){return e&&("object"==typeof e||z.isFunction(e))||!1},isDate:function(e){return e instanceof Date},arrayIndexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,s=e.length;i<s;i++)if(e[i]===t)return i;return-1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNull:function(e){return null===e},isUndefined:function(e){return void 0===e},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(e){return!(!this.isString(e)&&this.isValue(e))&&(!this.isValue(e)||""===(e=z.trim(e).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"")))},startsWith:function(e,t){return 0===e.indexOf(t)},endsWith:function(e,t){return e.substr(e.length-t.length)===t},trim:function(e){return(e+"").replace(this.regexTrim,"")},isArray:function(e){return"[object Array]"===this.toString.call(e)},defaultcalendar:function(){return{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","}},expandFormat:function(e,t){var e=e.patterns,i=(t=t||"F").length;if(1===i){if(!(e=e[t]))throw"Invalid date format string '"+t+"'.";t=e}else 2===i&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},getEra:function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var i,s=e.getTime(),r=0,n=t.length;r<n;r++)if(null===(i=t[r].start)||i<=s)return r;return 0},toUpper:function(e){return e?e.toUpperCase():""},toUpperArray:function(e){for(var t=[],i=0,s=e.length;i<s;i++)t[i]=this.toUpper(e[i]);return t},getEraYear:function(e,t,i,s){e=e.getFullYear();return!s&&t.eras&&(e-=t.eras[i].offset),e},getDayIndex:function(e,t,i){var s,r=e.days,n=e._upperDays;return n||(e._upperDays=n=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr),this.toUpperArray(r.namesShort)]),t=t.toUpperCase(),i?-1===(s=this.arrayIndexOf(n[1],t))&&(s=this.arrayIndexOf(n[2],t)):s=this.arrayIndexOf(n[0],t),s},getMonthIndex:function(e,t,i){var s=e.months,r=e.monthsGenitive||e.months,n=e._upperMonths,o=e._upperMonthsGen,s=(n||(e._upperMonths=n=[this.toUpperArray(s.names),this.toUpperArray(s.namesAbbr)],e._upperMonthsGen=o=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr)]),t=this.toUpper(t),this.arrayIndexOf(i?n[1]:n[0],t));return s=s<0?this.arrayIndexOf(i?o[1]:o[0],t):s},appendPreOrPostMatch:function(e,t){for(var i=0,s=!1,r=0,n=e.length;r<n;r++){var o=e.charAt(r);switch(o){case"'":s?t.push("'"):i++,s=!1;break;case"\\":s&&t.push("\\"),s=!s;break;default:t.push(o),s=!1}}return i},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(e,t){var i="";return""!=(i=t&&t.target?"target="+t.target:i)?"<a "+i+' href="'+e+'">'+e+"</a>":'<a href="'+e+'">'+e+"</a>"},formatemail:function(e){return'<a href="mailto:'+e+'">'+e+"</a>"},formatNumber:function(e,t,i){return this.formatnumber(e,t,i)},formatnumber:function(e,t,i){if(null!=i&&""!=i||(i=this.defaultcalendar()),""===t||null===t)return e;this.isNumber(e)||(e*=1),1<t.length&&(s=parseInt(t.slice(1),10));var s,r={},n=t.charAt(0).toUpperCase();switch(r.thousandsSeparator=i.thousandsseparator,r.decimalSeparator=i.decimalseparator,n){case"D":case"d":case"F":case"f":r.decimalPlaces=s;break;case"N":case"n":r.decimalPlaces=0;break;case"C":case"c":r.decimalPlaces=s,"before"==i.currencysymbolposition?r.prefix=i.currencysymbol:r.suffix=i.currencysymbol;break;case"P":case"p":r.suffix=i.percentsymbol,r.decimalPlaces=s;break;default:throw"Bad number format specifier: "+n}if(this.isNumber(e)){var o=e<0,a=e+"",t=r.decimalSeparator||".";if(this.isNumber(r.decimalPlaces)){var l=r.decimalPlaces,d=Math.pow(10,l),h=(a=(e*d).toFixed(0)/d+"").lastIndexOf(".");if(0<l)for(h<0?h=(a+=t).length-1:"."!==t&&(a=a.replace(".",t));a.length-1-h<l;)a+="0"}else 0<(h=(a=e+"").lastIndexOf("."))&&null==l&&"."!==t&&(a=a.replace(".",t));if(r.thousandsSeparator){for(var c=r.thousandsSeparator,u=(h=-1<(h=a.lastIndexOf(t))?h:a.length,a.substring(h)),p=-1,m=h;0<m;m--)++p%3==0&&m!==h&&(!o||1<m)&&(u=c+u),u=a.charAt(m-1)+u;a=u}return a=r.prefix?r.prefix+a:a,a=r.suffix?a+r.suffix:a}return e},tryparsedate:function(e,t){null==t&&(t=this.defaultcalendar());if(""==e)return null;if(null!=(e=null==e||e.substring?e:e.toString())&&"/Date("==e.substring(0,6)){var i=new Date(+e.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==i&&(i=null,(H=e.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/))&&(i=new Date(+H[1]+36e5*H[2]+6e4*H[3]))),null==i||"Invalid Date"==i||isNaN(i)){var s=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/.exec(e);if(s){var r=new Date(parseInt(s[1]));if(s[2]&&(o=parseInt(s[3]),"-"===s[2]&&(o=-o),s=r.getUTCMinutes(),r.setUTCMinutes(s-o)),!isNaN(r.valueOf()))return r}}return i}var n,o,a=t.patterns;for(n in a)if(i=this.parsedate(e,a[n],t)){if("ISO"==n)if(l=this.parsedate(e,a.ISO2,t))return l;return i}if(null!=e){for(var l=null,d=[":","/","-"],h=!0,c=0;c<d.length;c++)-1!=e.indexOf(d[c])&&(h=!1);if(h){var s=new Number(e);if(!isNaN(s))return new Date(s)}}if("string"===z.type(e)){var u,p,m,g,f,v=this,x=(e=v.trim(e),[":","/","-"," ",","]),y=(o=", ",s=",",""),w=e=e.replace(new RegExp(o,"g"),s),b=(0<=e.indexOf(":")?(y=e.substring(e.indexOf(":")-2),y=v.trim(y),w=e.substring(0,e.indexOf(":")-2)):0<=e.toUpperCase().indexOf("AM")?(y=e.substring(e.toUpperCase().indexOf("AM")-2),y=v.trim(y),w=e.substring(0,e.toUpperCase().indexOf("AM")-2)):0<=e.toUpperCase().indexOf("PM")&&(y=e.substring(e.toUpperCase().indexOf("PM")-2),y=v.trim(y),w=e.substring(0,e.toUpperCase().indexOf("PM")-2)),new Date),_=!1;if(w){for(var q=0;q<x.length;q++)if(0<=w.indexOf(x[q])){d=w.split(x[q]);break}for(var j=new Array,T=new Array,C=new Array,S=null,k=null,q=0;q<d.length;q++){var c=d[q],I=v.parsedate(c,"d",t)||v.parsedate(c,"dd",t)||v.parsedate(c,"ddd",t)||v.parsedate(c,"dddd",t);if(I&&c.length<=2){S=q,j.push(I.getDate());break}}for(q=0;q<d.length;q++){var c=d[q],D=v.parsedate(c,"M",t)||v.parsedate(c,"MM",t)||v.parsedate(c,"MMM",t)||v.parsedate(c,"MMMM",t);if(D&&(null==S||S!=q)&&(T.push(D.getMonth()),2<c.length)){k=q;break}}for(q=0;q<d.length;q++){var c=d[q],P=v.parsedate(c,"yyyy",t);!P||null!=S&&S==q||null!=k&&k==q||C.push(P.getFullYear())}for(var A=new Array,M=0;M<j.length;M++)for(var H=0;H<T.length;H++)for(var B=0;B<C.length;B++){r=new Date(C[B],T[H],j[M]);C[B]<1970&&r.setFullYear(C[B]),NaN!=r.getTime()&&A.push(r)}0<A.length&&(b=A[0],_=!0)}if(y&&(u=0<=y.indexOf(":")?y.split(":"):y,f=g=m=p=0,(y=v.parsedate(y,"h:mm tt",t)||v.parsedate(y,"h:mm:ss tt",t)||v.parsedate(y,"HH:mm:ss.fff",t)||v.parsedate(y,"HH:mm:ss.ff",t)||v.parsedate(y,"HH:mm:ss.tttt",t)||v.parsedate(y,"HH:mm:ss",t)||v.parsedate(y,"HH:mm",t)||v.parsedate(y,"HH",t))&&NaN!=y.getTime()?(p=y.getHours(),m=y.getMinutes(),g=y.getSeconds(),f=y.getMilliseconds()):(1==u.length&&(p=parseInt(u[0])),2==u.length&&(p=parseInt(u[0]),m=parseInt(u[1])),3==u.length&&(p=parseInt(u[0]),m=parseInt(u[1]),0<=u[2].indexOf(".")?(g=parseInt(u[2].toString().split(".")[0]),f=parseInt(u[2].toString().split(".")[1])):g=parseInt(u[2])),4==u.length&&(p=parseInt(u[0]),m=parseInt(u[1]),g=parseInt(u[2]),f=parseInt(u[3]))),!b||isNaN(p)||isNaN(m)||isNaN(g)||isNaN(f)||(b.setHours(p,m,g,f),_=!0)),_)return b}return null},getparseregexp:function(e,t){var i=e._parseRegExp;if(i){var s=i[t];if(s)return s}else e._parseRegExp=i={};for(var r,n=this.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),o=["^"],a=[],l=0,d=0,h=this.getTokenRegExp();null!==(r=h.exec(n));){var c=n.slice(l,r.index),l=h.lastIndex;if((d+=this.appendPreOrPostMatch(c,o))%2)o.push(r[0]);else{var u,p=r[0],m=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":u="(\\D+)";break;case"tt":case"t":u="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":u="(\\d{"+m+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":u="(\\d\\d?)";break;case"zzz":u="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":u="([+-]?\\d\\d?)";break;case"/":u="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+p+"'."}u&&o.push(u),a.push(r[0])}}this.appendPreOrPostMatch(n.slice(l),o),o.push("$");s=o.join("").replace(/\s+/g,"\\s+");return i[t]={regExp:s,groups:a}},outOfRange:function(e,t,i){return e<t||i<e},expandYear:function(e,t){var i,s=new Date,r=this.getEra(s);return t<100&&((i="string"==typeof(i=e.twoDigitYearMax)?(new Date).getFullYear()%100+parseInt(i,10):i)<(t+=(i=this.getEraYear(s,e,r))-i%100)&&(t-=100)),t},parsedate:function(e,t,i){null==i&&(i=this.defaultcalendar()),e=this.trim(e);var s=i,i=this.getparseregexp(s,t),r=new RegExp(i.regExp).exec(e);if(null===r)return null;for(var n,o=i.groups,a=null,l=null,d=null,h=null,c=null,u=0,p=0,m=0,g=0,f=null,v=!1,x=0,y=o.length;x<y;x++){var w=r[x+1];if(w){var b=o[x],_=b.length,q=parseInt(w,10);switch(b){case"dd":case"d":if(this.outOfRange(h=q,1,31))return null;break;case"MMM":case"MMMM":if(d=this.getMonthIndex(s,w,3===_),this.outOfRange(d,0,11))return null;break;case"M":case"MM":if(this.outOfRange(d=q-1,0,11))return null;break;case"y":case"yy":case"yyyy":if(l=_<4?this.expandYear(s,q):q,this.outOfRange(l,0,9999))return null;break;case"h":case"hh":if(12===(u=q)&&(u=0),this.outOfRange(u,0,11))return null;break;case"H":case"HH":if(this.outOfRange(u=q,0,23))return null;break;case"m":case"mm":if(this.outOfRange(p=q,0,59))return null;break;case"s":case"ss":if(this.outOfRange(m=q,0,59))return null;break;case"tt":case"t":if((v=s.PM&&(w===s.PM[0]||w===s.PM[1]||w===s.PM[2]))||s.AM&&(w===s.AM[0]||w===s.AM[1]||w===s.AM[2]))break;return null;case"f":case"ff":case"fff":if(g=q*Math.pow(10,3-_),this.outOfRange(g,0,999))return null;break;case"ddd":case"dddd":if(c=this.getDayIndex(s,w,3===_),this.outOfRange(c,0,6))return null;break;case"zzz":var j=w.split(/:/);if(2!==j.length)return null;if(n=parseInt(j[0],10),this.outOfRange(n,-12,13))return null;j=parseInt(j[1],10);if(this.outOfRange(j,0,59))return null;f=60*n+(this.startsWith(w,"-")?-j:j);break;case"z":case"zz":if(this.outOfRange(n=q,-12,13))return null;f=60*n;break;case"g":case"gg":if(!(T=w)||!s.eras)return null;for(var T=this.trim(T.toLowerCase()),C=0,S=s.eras.length;C<S;C++)if(T===s.eras[C].name.toLowerCase()){a=C;break}if(null===a)return null}}}t=new Date,e=s.convert,i=t.getFullYear();if(null===l?l=i:s.eras&&(l+=s.eras[a||0].offset),null===d&&(d=0),null===h&&(h=1),e){if(null===(t=e.toGregorian(l,d,h)))return null}else{if(t.setFullYear(l,d,h),t.getDate()!==h)return null;if(null!==c&&t.getDay()!==c)return null}return v&&u<12&&(u+=12),t.setHours(u,p,m,g),null!==f&&(i=t.getMinutes()-(f+t.getTimezoneOffset()),t.setHours(t.getHours()+parseInt(i/60,10),i%60)),t},cleardatescache:function(){this.datescache=new Array},formatDate:function(e,t,i){return this.formatdate(e,t,i)},formatdate:function(e,t,i){if(null==i&&(i=this.defaultcalendar()),"string"==typeof e)return e;var s,r=e.toString()+"_"+t;if(this.datescache&&this.datescache[r]&&-1==t.indexOf("f"))return this.datescache[r];if(!t||!t.length||"i"===t)return s=this.formatDate(e,i.patterns.F,i);var n=i.eras,o="s"===t;t=this.expandFormat(i,t),s=[];var a,l,d=["0","00","000"],h=0,c=this.getTokenRegExp();function u(e,t){var i,e=e+"";return 1<t&&e.length<t?(i=d[t-2]+e).substr(i.length-t,t):e}function p(e,t){if(l)return l[t];if(null!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}for(;;){var m=c.lastIndex,g=c.exec(t),m=t.slice(m,g?g.index:t.length);if(h+=this.appendPreOrPostMatch(m,s),!g)break;if(h%2)s.push(g[0]);else{var f=g[0],v=f.length;switch(f){case"ddd":case"dddd":var x=3===v?i.days.namesAbbr:i.days.names;s.push(x[e.getDay()]);break;case"d":case"dd":s.push(u(p(e,2),v));break;case"MMM":case"MMMM":var y=p(e,1);s.push(i.months[3===v?"namesAbbr":"names"][y]);break;case"M":case"MM":s.push(u(p(e,1)+1,v));break;case"y":case"yy":case"yyyy":y=this.getEraYear(e,i,this.getEra(e,n),o),v<4&&(y%=100),s.push(u(y,v));break;case"h":case"hh":0===(a=e.getHours()%12)&&(a=12),s.push(u(a,v));break;case"H":case"HH":s.push(u(e.getHours(),v));break;case"m":case"mm":s.push(u(e.getMinutes(),v));break;case"s":case"ss":s.push(u(e.getSeconds(),v));break;case"t":case"tt":y=e.getHours()<12?i.AM?i.AM[0]:" ":i.PM?i.PM[0]:" ",s.push(1===v?y.charAt(0):y);break;case"f":case"ff":case"fff":s.push(u(e.getMilliseconds(),3).substr(0,v));break;case"z":case"zz":a=e.getTimezoneOffset()/60,s.push((a<=0?"+":"-")+u(Math.floor(Math.abs(a)),v));break;case"zzz":a=e.getTimezoneOffset()/60,s.push((a<=0?"+":"-")+u(Math.floor(Math.abs(a)),2)+":"+u(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":i.eras&&s.push(i.eras[this.getEra(e,n)].name);break;case"/":s.push(i["/"]);break;default:throw"Invalid date format pattern '"+f+"'."}}}var w=s.join("");return this.datescache||(this.datescache=new Array),this.datescache[r]=w}}),z.jqx.data={};var _,q=/#.*$/,j=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,T=/^(?:GET|HEAD)$/,C=/^\/\//,S=/\?/,k=/([?&])_=[^&]*/,I=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,D=/\s+/,P=(z.fn.load,{}),A={},M=["*/"]+["*"];try{s=location.href}catch(e){(s=document.createElement("a")).href="",s=s.href}function e(a){return function(e,t){"string"!=typeof e&&(t=e,e="*");var i,s,r=e.toLowerCase().split(D),n=0,o=r.length;if(z.isFunction(t))for(;n<o;n++)i=r[n],(s=/^\+/.test(i))&&(i=i.substr(1)||"*"),(a[i]=a[i]||[])[s?"unshift":"push"](t)}}function H(e,t,i,s,r,n){(n=n||{})[r=r||t.dataTypes[0]]=!0;for(var o,a=e[r],l=0,d=a?a.length:0,h=e===P;l<d&&(h||!o);l++)"string"==typeof(o=a[l](t,i,s))&&(o=!h||n[o]?void 0:(t.dataTypes.unshift(o),H(e,t,i,s,o,n)));return o=!h&&o||n["*"]?o:H(e,t,i,s,"*",n)}function i(e,t){var i,s,r=z.jqx.data.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:s=s||{})[i]=t[i]);s&&z.extend(!0,e,s)}_=I.exec(s.toLowerCase())||[],z.extend(z.jqx.data,{ajaxSetup:function(e,t){return t?i(e,z.jqx.data.ajaxSettings):(t=e,e=z.jqx.data.ajaxSettings),i(e,t),e},ajaxSettings:{url:s,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(_[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":M},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":z.parseJSON,"text xml":z.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:e(P),ajaxTransport:e(A),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var d,h,i,c,u,p,s,r,m=z.jqx.data.ajaxSetup({},t=t||{}),g=m.context||m,f=g!==m&&(g.nodeType||g instanceof z)?z(g):z.event,v=z.Deferred(),x=z.Callbacks("once memory"),y=m.statusCode||{},n={},o={},w=0,a="canceled",b={readyState:0,setRequestHeader:function(e,t){var i;return w||(i=e.toLowerCase(),e=o[i]=o[i]||e,n[e]=t),this},getAllResponseHeaders:function(){return 2===w?h:null},getResponseHeader:function(e){var t;if(2===w){if(!i)for(i={};t=j.exec(h);)i[t[1].toLowerCase()]=t[2];t=i[e.toLowerCase()]}return void 0===t?null:t},overrideMimeType:function(e){return w||(m.mimeType=e),this},abort:function(e){return e=e||a,c&&c.abort(e),l(0,e),this}};function l(e,t,i,s){var r,n,o,a,l=t;2!==w&&(w=2,u&&clearTimeout(u),c=void 0,h=s||"",b.readyState=0<e?4:0,i&&(a=function(e,t,i){var s,r,n,o,a=e.contents,l=e.dataTypes,d=e.responseFields;for(r in d)r in i&&(t[d[r]]=i[r]);for(;"*"===l[0];)l.shift(),void 0===s&&(s=e.mimeType||t.getResponseHeader("content-type"));if(s)for(r in a)if(a[r]&&a[r].test(s)){l.unshift(r);break}if(l[0]in i)n=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){n=r;break}o=o||r}n=n||o}if(n)return n!==l[0]&&l.unshift(n),i[n]}(m,b,i)),200<=e&&e<300||304===e?(m.ifModified&&((s=b.getResponseHeader("Last-Modified"))&&(z.lastModified[d]=s),(s=b.getResponseHeader("Etag"))&&(z.etag[d]=s)),r=304===e?(l="notmodified",!0):(l=(r=function(e,t){var i,s,r,n,o=e.dataTypes.slice(),a=o[0],l={},d=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(o[1])for(i in e.converters)l[i.toLowerCase()]=e.converters[i];for(;r=o[++d];)if("*"!==r){if("*"!==a&&a!==r){if(!(i=l[a+" "+r]||l["* "+r]))for(s in l)if((n=s.split(" "))[1]===r&&(i=l[a+" "+n[0]]||l["* "+n[0]])){!0===i?i=l[s]:!0!==l[s]&&(r=n[0],o.splice(d--,0,r));break}if(!0!==i)if(i&&e.throws)t=i(t);else try{t=i(t)}catch(e){return{state:"parsererror",error:i?e:"No conversion from "+a+" to "+r}}}a=r}return{state:"success",data:t}}(m,a)).state,n=r.data,!(o=r.error))):(o=l)&&!e||(l="error",e<0&&(e=0)),b.status=e,b.statusText=(t||l)+"",r?v.resolveWith(g,[n,l,b]):v.rejectWith(g,[b,l,o]),b.statusCode(y),y=void 0,p&&f.trigger("ajax"+(r?"Success":"Error"),[b,m,r?n:o]),x.fireWith(g,[b,l]),p&&(f.trigger("ajaxComplete",[b,m]),--z.active||z.event.trigger("ajaxStop")))}if(v.promise(b),b.success=b.done,b.error=b.fail,b.complete=x.add,b.statusCode=function(e){if(e)if(w<2)for(var t in e)y[t]=[y[t],e[t]];else t=e[b.status],b.always(t);return this},m.url=((e||m.url)+"").replace(q,"").replace(C,_[1]+"//"),m.dataTypes=z.trim(m.dataType||"*").toLowerCase().split(D),null==m.crossDomain&&(e=I.exec(m.url.toLowerCase()),m.crossDomain=!(!e||e[1]===_[1]&&e[2]===_[2]&&(e[3]||("http:"===e[1]?80:443))==(_[3]||("http:"===_[1]?80:443)))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=z.param(m.data,m.traditional)),H(P,m,t,b),2===w)return b;for(s in p=m.global,m.type=m.type.toUpperCase(),m.hasContent=!T.test(m.type),p&&0==z.active++&&z.event.trigger("ajaxStart"),m.hasContent||(m.data&&(m.url+=(S.test(m.url)?"&":"?")+m.data,delete m.data),d=m.url,!1===m.cache&&(e=(new Date).getTime(),r=m.url.replace(k,"$1_="+e),m.url=r+(r===m.url?(S.test(m.url)?"&":"?")+"_="+e:""))),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&b.setRequestHeader("Content-Type",m.contentType),m.ifModified&&(d=d||m.url,z.lastModified[d]&&b.setRequestHeader("If-Modified-Since",z.lastModified[d]),z.etag[d]&&b.setRequestHeader("If-None-Match",z.etag[d])),b.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+M+"; q=0.01":""):m.accepts["*"]),m.headers)b.setRequestHeader(s,m.headers[s]);if(m.beforeSend&&(!1===m.beforeSend.call(g,b,m)||2===w))return b.abort();for(s in a="abort",{success:1,error:1,complete:1})b[s](m[s]);if(c=H(A,m,t,b)){b.readyState=1,p&&f.trigger("ajaxSend",[b,m]),m.async&&0<m.timeout&&(u=setTimeout(function(){b.abort("timeout")},m.timeout));try{w=1,c.send(n,l)}catch(e){if(!(w<2))throw e;l(-1,e)}}else l(-1,"No Transport");return b},active:0,lastModified:{},etag:{}});var c=[],u=/\?/,p=/(=)\?(?=&|$)|\?\?/,t=(new Date).getTime();z.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=c.pop()||z.expando+"_"+t++;return this[e]=!0,e}}),z.jqx.data.ajaxPrefilter("json jsonp",function(e,t,i){var s,r,n,o=e.data,a=e.url,l=!1!==e.jsonp,d=l&&p.test(a),h=l&&!d&&"string"==typeof o&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&p.test(o);if("jsonp"===e.dataTypes[0]||d||h)return s=e.jsonpCallback=z.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,r=window[s],d?e.url=a.replace(p,"$1"+s):h?e.data=o.replace(p,"$1"+s):l&&(e.url+=(u.test(a)?"&":"?")+e.jsonp+"="+s),e.converters["script json"]=function(){return n||z.error(s+" was not called"),n[0]},e.dataTypes[0]="json",window[s]=function(){n=arguments},i.always(function(){window[s]=r,e[s]&&(e.jsonpCallback=t.jsonpCallback,c.push(s)),n&&z.isFunction(r)&&r(n[0]),n=r=void 0}),"script"}),z.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return z.globalEval(e),e}}}),z.jqx.data.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),z.jqx.data.ajaxTransport("script",function(t){var s,r;if(t.crossDomain)return r=document.head||document.getElementsByTagName("head")[0]||document.documentElement,{send:function(e,i){(s=document.createElement("script")).async="async",t.scriptCharset&&(s.charset=t.scriptCharset),s.src=t.url,s.onload=s.onreadystatechange=function(e,t){!t&&s.readyState&&!/loaded|complete/.test(s.readyState)||(s.onload=s.onreadystatechange=null,r&&s.parentNode&&r.removeChild(s),s=void 0,t||i(200,"success"))},r.insertBefore(s,r.firstChild)},abort:function(){s&&s.onload(0,1)}}});var m,s,g=!!window.ActiveXObject&&function(){for(var e in m)m[e](0,1)},r=0;function n(){try{return new window.XMLHttpRequest}catch(e){}}z.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&n()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:n,s=z.jqx.data.ajaxSettings.xhr(),z.extend(z.support,{ajax:!!s,cors:!!s&&"withCredentials"in s}),z.support||(z.support={ajax:!0}),z.support.ajax&&z.jqx.data.ajaxTransport(function(h){var c;if(!h.crossDomain||z.support.cors)return{send:function(e,a){var l,t,d=h.xhr();if(h.username?d.open(h.type,h.url,h.async,h.username,h.password):d.open(h.type,h.url,h.async),h.xhrFields)for(t in h.xhrFields)d[t]=h.xhrFields[t];h.mimeType&&d.overrideMimeType&&d.overrideMimeType(h.mimeType),h.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(t in e)d.setRequestHeader(t,e[t])}catch(e){}d.send(h.hasContent&&h.data||null),c=function(e,t){var i,s,r,n,o;try{if(c&&(t||4===d.readyState))if(c=void 0,l&&(d.onreadystatechange=function(){},g&&delete m[l]),t)4!==d.readyState&&d.abort();else{i=d.status,r=d.getAllResponseHeaders(),n={},(o=d.responseXML)&&o.documentElement&&(n.xml=o);try{n.text=d.responseText}catch(e){}try{s=d.statusText}catch(e){s=""}i||!h.isLocal||h.crossDomain?1223===i&&(i=204):i=n.text?200:404}}catch(e){t||a(-1,e)}n&&a(i,s,n,r)},h.async?4===d.readyState?setTimeout(c,0):(l=++r,g&&(m||(m={},z(window).unload(g)),m[l]=c),d.onreadystatechange=c):c()},abort:function(){c&&c(0,1)}}}),z.jqx.filter=function(){this.operator="and";function i(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+"-"+e()+"-"+e()}var s=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],r=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],n=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],o=["EQUAL","NOT_EQUAL"],a=new Array,l=new Array,d=(this.evaluate=function(e){for(var t=!0,i=0;i<a.length;i++)var s=a[i].evaluate(e),t=0==i?s:1==l[i]||"or"==l[i]?t||s:t&&s;return t},this.getfilterscount=function(){return a.length},this.setoperatorsbyfiltertype=function(e,t){switch(e){case"numericfilter":r=t;break;case"stringfilter":s=t;break;case"datefilter":n=t;break;case"booleanfilter":o=t}},this.getoperatorsbyfiltertype=function(e){var t=new Array;switch(e){case"numericfilter":t=r.slice(0);break;case"stringfilter":t=s.slice(0);break;case"datefilter":t=n.slice(0);break;case"booleanfilter":t=o.slice(0)}return t},this.createfilter=function(e,t,i,s,r,n){if(null==e)return null;switch(e){case"numericfilter":return new c(t,i.toUpperCase());case"stringfilter":return new d(t,i.toUpperCase());case"datefilter":return new u(t,i.toUpperCase(),r,n);case"booleanfilter":return new h(t,i.toUpperCase());case"custom":return new p(t,i.toUpperCase(),s)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var e=new Array,t=0;t<a.length;t++){var i={value:a[t].filtervalue,condition:a[t].comparisonoperator,operator:l[t],type:a[t].type};a[t].data&&(i.id=a[t].data),e[t]=i}return e},this.addfilter=function(e,t){(a[a.length]=t).key=i(),l[l.length]=e},this.removefilter=function(e){for(var t=0;t<a.length;t++)if(a[t].key==e.key){a.splice(t,1),l.splice(t,1);break}},this.getoperatorat=function(e){return null==e||e<0||e>a.length?null:l[e]},this.setoperatorat=function(e,t){return null==e||e<0||e>a.length?null:void(l[t]=t)},this.getfilterat=function(e){return null==e||e<0||e>a.length?null:a[e]},this.setfilterat=function(e,t){return null==e||e<0||e>a.length?null:(t.key=i(),void(a[e]=t))},this.clear=function(){a=new Array,l=new Array},function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="stringfilter",this.evaluate=function(e){var t=this.filtervalue,i=this.comparisonoperator;if(null==e||""==e){if("NULL"==i)return!0;if("NOT_NULL"==i)return!1;if("EQUAL"==i&&e==t)return!0;if("NOT_EQUAL"==i&&e!=t)return!0;if("EMPTY"!=i)return!1;if(""==e)return!0}var s="";try{s=e.toString()}catch(e){return!0}function r(e,t){switch(i){case"EQUAL":return z.jqx.string.equalsIgnoreCase(e,t);case"EQUAL_CASE_SENSITIVE":return z.jqx.string.equals(e,t);case"NOT_EQUAL":return!z.jqx.string.equalsIgnoreCase(e,t);case"NOT_EQUAL_CASE_SENSITIVE":return!z.jqx.string.equals(e,t);case"CONTAINS":return z.jqx.string.containsIgnoreCase(e,t);case"CONTAINS_CASE_SENSITIVE":return z.jqx.string.contains(e,t);case"DOES_NOT_CONTAIN":return!z.jqx.string.containsIgnoreCase(e,t);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!z.jqx.string.contains(e,t);case"EMPTY":return""==e;case"NOT_EMPTY":return""!=e;case"NOT_NULL":return null!=e;case"STARTS_WITH":return z.jqx.string.startsWithIgnoreCase(e,t);case"ENDS_WITH":return z.jqx.string.endsWithIgnoreCase(e,t);case"ENDS_WITH_CASE_SENSITIVE":return z.jqx.string.endsWith(e,t);case"STARTS_WITH_CASE_SENSITIVE":return z.jqx.string.startsWith(e,t);default:return!1}}var n=new Array;if(t&&t.indexO&&"NOT_EQUAL"!==i&&(0<=t.indexOf("|")||0<=t.indexOf(" AND ")||0<=t.indexOf(" OR ")||0<=t.indexOf(" and ")||0<=t.indexOf(" or "))){if(g=r(s,t))return g;var o=0<=t.indexOf(" AND ")?t.split(" AND "):new Array,a=0<=t.indexOf(" OR ")?t.split(" OR "):new Array,l=0<=t.indexOf(" and ")?t.split(" and "):new Array,d=0<=t.indexOf(" or ")?t.split(" or "):new Array,h=0<=t.indexOf("|")?t.split("|"):new Array;if(0<h.length)for(var c=0;c<h.length;c++)h[c]=z.trim(h[c]);var u=0<=t.indexOf(" ")?t.split(" "):new Array;if(0<u.length)for(c=0;c<u.length;c++)u[c]=z.trim(u[c]);if(o=(o=o.concat(u)).concat(l),a=(a=a.concat(h)).concat(d),0<o.length)for(c=0;c<o.length;c++)0<=!o[c].indexOf(" OR ")&&n.push(o[c]);if(0<a.length)for(c=0;c<a.length;c++)0<=!a[c].indexOf(" AND ")&&n.push(a[c]);for(var p=void 0,m=0;m<n.length;m++)var g=r(s,e=n[m]),f=m<o.length?"and":"or",p=null==p?g:"or"==f?p||g:p&&g;return p}return r(s,t)}}),h=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="booleanfilter",this.evaluate=function(e){var t=this.filtervalue,i=this.comparisonoperator;if(null==e)return"NULL"==i;var s=e;switch(i){case"EQUAL":return s==t||s.toString()==t.toString();case"NOT_EQUAL":return s!=t&&s.toString()!=t.toString();default:return!1}}},c=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="numericfilter",this.evaluate=function(t){var e=this.filtervalue,i=this.comparisonoperator;if(null==t||""===t){if("NOT_NULL"==i)return!1;if("NULL"==i)return!0;switch(i){case"EQUAL":return t==e;case"NOT_EQUAL":return t!=e}return!1}if("NULL"==i)return!1;if("NOT_NULL"==i)return!0;var s=t;try{s=parseFloat(s)}catch(e){if(""!=t.toString())return!1}function r(e,t){switch(i){case"EQUAL":return e==t;case"NOT_EQUAL":return e!=t;case"GREATER_THAN":return t<e;case"GREATER_THAN_OR_EQUAL":return t<=e;case"LESS_THAN":return e<t;case"LESS_THAN_OR_EQUAL":return e<=t;case"STARTS_WITH":return z.jqx.string.startsWithIgnoreCase(e.toString(),t.toString());case"ENDS_WITH":return z.jqx.string.endsWithIgnoreCase(e.toString(),t.toString());case"ENDS_WITH_CASE_SENSITIVE":return z.jqx.string.endsWith(e.toString(),t.toString());case"STARTS_WITH_CASE_SENSITIVE":return z.jqx.string.startsWith(e.toString(),t.toString());case"CONTAINS":return z.jqx.string.containsIgnoreCase(e.toString(),t.toString());case"CONTAINS_CASE_SENSITIVE":return z.jqx.string.contains(e.toString(),t.toString());case"DOES_NOT_CONTAIN":return!z.jqx.string.containsIgnoreCase(e.toString(),t.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!z.jqx.string.contains(e.toString(),t.toString());default:return!0}}var n=new Array;if((e=e&&e.indexOf?e.replace("$",""):e)&&e.indexOf&&(0<=e.indexOf("|")||0<=e.indexOf(" AND ")||0<=e.indexOf(" OR ")||0<=e.indexOf(" and ")||0<=e.indexOf(" or "))){var o=r(s,e);if(o)return o;var a=0<=(e=e.toString()).indexOf(" AND ")?e.split(" AND "):new Array,l=0<=e.indexOf(" OR ")?e.split(" OR "):new Array,d=0<=e.indexOf(" and ")?e.split(" and "):new Array,h=0<=e.indexOf(" or ")?e.split(" or "):new Array,a=a.concat(d),l=l.concat(h),c=0<=e.indexOf("|")?e.split("|"):new Array;if(0<c.length)for(var u=0;u<c.length;u++)c[u]=z.trim(c[u]);if(l=l.concat(c),0<a.length)for(u=0;u<a.length;u++)0<=!a[u].indexOf(" OR ")&&n.push(a[u]);if(0<l.length)for(u=0;u<l.length;u++)0<=!l[u].indexOf(" AND ")&&n.push(l[u]);for(var p=void 0,m=0;m<n.length;m++){(t=n[m])&&t.indexOf&&0<=t.indexOf("..")?2==(g=t.toString().split("..")).length&&(o=s>=g[0]&&s<=g[1]):o=r(s,t);var g=m<a.length?"and":"or",p=null==p?o:"or"==g?p||o:p&&o}return p}return e&&e.indexOf&&0<=e.indexOf("..")&&2==(n=e.toString().split("..")).length?s>=n[0]&&s<=n[1]:r(s,e)}},u=function(e,t,x,y){this.filtervalue=e,this.type="datefilter";var i,s,w=this;null!=x&&null!=y?null!=(i=z.jqx.dataFormat.parsedate(e,x,y))?this.filterdate=i:null!=(i=z.jqx.dataFormat.tryparsedate(e,y))&&(this.filterdate=i):"NaN"==(s=new Date(e)).toString()||"Invalid Date"==s.toString()?this.filterdate=z.jqx.dataFormat.tryparsedate(e):this.filterdate=s,this.filterdate||("NaN"==(s=new Date(e)).toString()||"Invalid Date"==s.toString()?this.filterdate=z.jqx.dataFormat.tryparsedate(e):this.filterdate=s),this.comparisonoperator=t,this.evaluate=function(t){var e=this.filtervalue,i=this.comparisonoperator;if(null==t||""==t){if("NOT_NULL"==i)return!1;if("NULL"==i)return!0;switch(i){case"EQUAL":return t==e;case"NOT_EQUAL":return t!=e}return!1}if("NULL"==i)return!1;if("NOT_NULL"==i)return!0;var s=new Date;s.setFullYear(1900,0,1),s.setHours(12,0,0,0);try{var r=new Date(t),n=(s=t="NaN"==r.toString()||"Invalid Date"==r.toString()?z.jqx.dataFormat.tryparsedate(t):r,!1);null!=x&&null!=y&&(0<=x.indexOf("t")||0<=x.indexOf("T")||0<=x.indexOf(":")||0<=x.indexOf("f"))&&(n=!0,e&&-1==e.toString().indexOf(":")&&null!=(f=z.jqx.dataFormat.tryparsedate(e.toString()+":00",y))&&(w.filterdate=f)),(n=null!=x&&(0<=x.indexOf("hh")||0<=x.indexOf("t"))?!0:n)||(s.setHours(0),s.setMinutes(0),s.setSeconds(0))}catch(e){return t&&""!=t.toString()?!1:!1}if(null!=w.filterdate)e=w.filterdate;else if(e&&e.indexOf&&(-1!=e.indexOf(":")||!isNaN(parseInt(e)))){for(var o=new Date(s),a=(o.setHours(12,0,0,0),e.split(":")),l=0;l<a.length;l++)0==l&&o.setHours(a[l]),1==l&&o.setMinutes(a[l]),2==l&&o.setSeconds(a[l]);e=o}n&&e&&e.setFullYear&&s&&s.getFullYear&&-1==x.indexOf("d")&&-1==x.indexOf("M")&&-1==x.indexOf("y")&&e.setFullYear(s.getFullYear(),s.getMonth(),s.getDate());function d(e,t){switch(null==e&&(e=""),i){case"EQUAL":return e.toString()==t.toString();case"NOT_EQUAL":return e.toString()!=t.toString();case"GREATER_THAN":return t<e;case"GREATER_THAN_OR_EQUAL":return t<=e;case"LESS_THAN":return e<t;case"LESS_THAN_OR_EQUAL":return e<=t;case"STARTS_WITH":return z.jqx.string.startsWithIgnoreCase(e.toString(),t.toString());case"ENDS_WITH":return z.jqx.string.endsWithIgnoreCase(e.toString(),t.toString());case"ENDS_WITH_CASE_SENSITIVE":return z.jqx.string.endsWith(e.toString(),t.toString());case"STARTS_WITH_CASE_SENSITIVE":return z.jqx.string.startsWith(e.toString(),t.toString());case"CONTAINS":return z.jqx.string.containsIgnoreCase(e.toString(),t.toString());case"CONTAINS_CASE_SENSITIVE":return z.jqx.string.contains(e.toString(),t.toString());case"DOES_NOT_CONTAIN":return!z.jqx.string.containsIgnoreCase(e.toString(),t.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!z.jqx.string.contains(e.toString(),t.toString());default:return!0}}var h=new Array;if(e&&e.indexOf&&(0<=e.indexOf("|")||0<=e.indexOf(" AND ")||0<=e.indexOf(" OR ")||0<=e.indexOf(" and ")||0<=e.indexOf(" or "))){if(f=d(s,e))return f;var c=0<=e.indexOf(" AND ")?e.split(" AND "):new Array,u=0<=e.indexOf(" OR ")?e.split(" OR "):new Array,r=0<=e.indexOf(" and ")?e.split(" and "):new Array,n=0<=e.indexOf(" or ")?e.split(" or "):new Array,c=c.concat(r),u=u.concat(n),p=0<=e.indexOf("|")?e.split("|"):new Array;if(0<p.length)for(l=0;l<p.length;l++)p[l]=z.trim(p[l]);if(u=u.concat(p),0<c.length)for(l=0;l<c.length;l++)0<=!c[l].indexOf(" OR ")&&h.push(c[l]);if(0<u.length)for(l=0;l<u.length;l++)0<=!u[l].indexOf(" AND ")&&h.push(u[l]);for(var m=void 0,g=0;g<h.length;g++){(t=h[g])&&t.indexOf&&0<=t.indexOf("..")?2==(v=t.toString().split("..")).length&&(f=s>=v[0]&&s<=v[1]):f=d(s,t);var f,v=g<c.length?"and":"or",m=null==m?f:"or"==v?m||f:m&&f}return m}return e&&e.indexOf&&0<=e.indexOf("..")&&2==(h=e.toString().split("..")).length?s>=h[0]&&s<=h[1]:d(s,e)}},p=function(e,t,i){this.filtervalue=e,this.comparisonoperator=t,this.evaluate=function(e,t){return i(this.filtervalue,e,this.comparisonoperator)}}}}(jqxBaseFramework),!function(N){var l=[{id:"Local",offset:0,offsetHours:0,displayName:"",supportsDaylightSavingTime:!(N.jqx.timeSpan=function(){N.extend(!0,this,{ticksPerMillisecond:1e4,millisecondsPerTick:1e-4,ticksPerSecond:1e7,secondsPerTick:1e-7,ticksPerMinute:6e8,minutesPerTick:1/6e8,ticksPerHour:36e9,hoursPerTick:1/36e9,ticksPerDay:864e9,daysPerTick:1/864e9,millisPerSecond:1e3,millisPerMinute:6e4,millisPerHour:36e5,millisPerDay:864e5,_ticks:0});var e,r=this;return r.ticks=function(){return r._ticks},r.days=function(){return parseInt(r._ticks/r.ticksPerDay)},r.timeToMS=function(e,t,i,s){return parseInt((3600*e+60*t+i+s/1e3)*r.ticksPerSecond)},r.hours=function(){return parseInt(r._ticks/r.ticksPerHour)%24},r.milliseconds=function(){return parseInt(r._ticks/r.ticksPerMillisecond)%1e3},r.minutes=function(){return parseInt(r._ticks/r.ticksPerMinute)%60},r.seconds=function(){return parseInt(r._ticks/r.ticksPerSecond)%60},r.totalDays=function(){return parseInt(r._ticks*r.daysPerTick)},r.totalHours=function(){return parseInt(r._ticks*r.hoursPerTick)},r.totalMilliseconds=function(){var e=r._ticks*r.millisecondsPerTick;return parseInt(e)},r.totalMinutes=function(){return parseInt(r._ticks*r.minutesPerTick)},r.totalSeconds=function(){return parseInt(r._ticks*r.secondsPerTick)},1===arguments.length?r._ticks=arguments[0]:3===arguments.length?r._ticks=r.timeToMS(arguments[0],arguments[1],arguments[2]):4===arguments.length?(e=1e3*(3600*arguments[0]*24+3600*arguments[1]+60*arguments[2]+arguments[3])+0,r._ticks=e*r.ticksPerMillisecond):5===arguments.length&&(e=1e3*(3600*arguments[0]*24+3600*arguments[1]+60*arguments[2]+arguments[3])+arguments[4],r._ticks=e*r.ticksPerMillisecond),r.add=function(e){e=r._ticks+e._ticks;return new N.jqx.timeSpan(e)},r.substract=function(e){e=r._ticks-e._ticks;return new N.jqx.timeSpan(e)},r.duration=function(){return 0<=r._ticks?new N.jqx.timeSpan(r._ticks):new N.jqx.timeSpan(-r._ticks)},r.equals=function(e){return r._ticks==e._ticks},r.valueOf=function(){return r._ticks},r.compare=function(e,t){return e._ticks>t._ticks?1:e._ticks<t._ticks?-1:0},r.interval=function(e,t){return new N.jqx.timeSpan((e*t+(0<=e?.5:-.5))*r.ticksPerMillisecond)},r.fromDays=function(e){return r.interval(e,r.millisPerDay)},r.fromHours=function(e){return r.interval(e,r.millisPerHour)},r.fromMilliseconds=function(e){return r.interval(e,1)},r.fromMinutes=function(e){return r.interval(e,r.millisPerMinute)},r.fromSeconds=function(e){return r.interval(e,r.millisPerSecond)},r.fromTicks=function(e){return new N.jqx.timeSpan(e)},r})},{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}],d=[0,31,59,90,120,151,181,212,243,273,304,334,365],h=[0,31,60,91,121,152,182,213,244,274,305,335,366];N.jqx.date=function(){var e,t,i,s,r,n,o,a,L=this;return L.ticksPerMillisecond=1e4,L.millisecondsPerTick=1e-4,L.ticksPerSecond=1e7,L.secondsPerTick=1e-7,L.ticksPerMinute=6e8,L.minutesPerTick=1/6e8,L.ticksPerHour=36e9,L.hoursPerTick=1/36e9,L.ticksPerDay=864e9,L.daysPerTick=1/864e9,L.millisPerSecond=1e3,L.millisPerMinute=6e4,L.millisPerHour=36e5,L.millisPerDay=864e5,L.daysPerYear=365,L.daysPer4Years=1461,L.daysPer100Years=36524,L.daysPer400Years=146097,L.daysTo1601=584388,L.daysTo1899=693593,L.daysTo10000=3652059,L.minTicks=0,L.maxTicks=3155378976e9,L.maxMillis=3155378976e5,L.datePartYear=0,L.datePartDayOfYear=1,L.datePartMonth=2,L.datePartDay=3,L.daysToMonth365=d,L.daysToMonth366=h,L.minValue=new Date(0),L.maxValue=new Date(3155378976e9),L.ticksMask=0x4000000000000000,L.flagsMask=0xc000000000000000,L.localMask=0x8000000000000000,L.ticksCeiling=0x4000000000000000,L.kindUnspecified=0,L.kindUtc=0x4000000000000000,L.kindLocal=0x8000000000000000,L.kindLocalAmbiguousDst=0xc000000000000000,L.kindShift=62,L.regexTrim=/^\s+|\s+$/g,L.regexInfinity=/^[+-]?infinity$/i,L.regexHex=/^0x[a-f0-9]+$/i,L.regexParseFloat=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,L.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","},L.dateData=0,L.timeZone=null,L.timeZones=l,L.internalMS=function(){return L.dateData},L.getDatePart=function(e){var t=L.internalMS(),i=parseInt(t/L.millisPerDay),t=parseInt(i/L.daysPer400Years),s=(i-=t*L.daysPer400Years,parseInt(i/L.daysPer100Years)),r=(i-=(s=4==s?3:s)*L.daysPer100Years,parseInt(i/L.daysPer4Years)),n=(i-=r*L.daysPer4Years,parseInt(i/L.daysPerYear));if(4==n&&(n=3),e==L.datePartYear)return parseInt(400*t+100*s+4*r+n+1);if(i-=n*L.daysPerYear,e==L.datePartDayOfYear)return parseInt(1+i);for(var o=3==n&&(24!=r||3==s)?L.daysToMonth366:L.daysToMonth365,a=i>>6;i>=o[a];)a++;return e==L.datePartMonth?parseInt(a):parseInt(i-o[a-1]+1)},L.dayOfWeek=function(){var e=L.dateData;return parseInt(e/L.millisPerDay+1)%7},L.dayOfYear=function(){return L.getDatePart(L.datePartDayOfYear)},L.weekOfYear=function(e){var t,i=L.toDate(),e=e||L.calendar.firstDay,s=new Date(i.getFullYear(),0,1),r=0<=(r=s.getDay()-e)?r:r+7,s=Math.floor((i.getTime()-s.getTime()-6e4*(i.getTimezoneOffset()-s.getTimezoneOffset()))/864e5)+1;return r<4?52<(t=Math.floor((s+r-1)/7)+1)&&(t=(i=0<=(i=new Date(i.getFullYear()+1,0,1).getDay()-e)?i:i+7)<4?1:53):t=Math.floor((s+r-1)/7),t},L.subtract=function(e){return new N.jqx.timeSpan(L.dateData*L.ticksPerMillisecond-e.dateData*L.ticksPerMillisecond)},L.dateToMS=function(e,t,i){if(1<=e&&e<=9999&&1<=t&&t<=12){e=parseInt(e);var s=L.isLeapYear(e)?L.daysToMonth366:L.daysToMonth365;if(1<=i&&i<=s[t]-s[t-1])return(365*(e=e-1)+parseInt(e/4)-parseInt(e/100)+parseInt(e/400)+s[t-1]+i-1)*L.millisPerDay}},L.isLeapYear=function(e){if(e<1||9999<e)throw new Error("Year out of Range");return e%4==0&&(e%100!=0||e%400==0)},L.timeToMS=function(e,t,i,s){if(0<=e&&e<24&&0<=t&&t<60&&0<=i&&i<60)return e=parseInt(3600*e+60*t+i),0<s&&s<1e3?e*L.millisPerSecond+s:e*L.millisPerSecond},L.daysInMonth=function(e,t){if(t<1||12<t)throw new Error("Month out of Range");e=L.isLeapYear(e)?L.daysToMonth366:L.daysToMonth365;return e[t]-e[t-1]},L.arrayIndexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,s=e.length;i<s;i++)if(e[i]===t)return i;return-1},L.startsWith=function(e,t){return 0===e.indexOf(t)},L.endsWith=function(e,t){return e.substr(e.length-t.length)===t},L.trim=function(e){return(e+"").replace(L.regexTrim,"")},L.expandFormat=function(e,t){var e=e.patterns,i=(t=t||"F").length;if(1===i){if(!(e=e[t]))throw"Invalid date format string '"+t+"'.";t=e}else 2===i&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},L.getEra=function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var i,s=e.getTime(),r=0,n=t.length;r<n;r++)if(null===(i=t[r].start)||i<=s)return r;return 0},L.toUpper=function(e){return e.split("Â ").join(" ").toUpperCase()},L.toUpperArray=function(e){for(var t=[],i=0,s=e.length;i<s;i++)t[i]=L.toUpper(e[i]);return t},L.getEraYear=function(e,t,i,s){e=e.getFullYear();return!s&&t.eras&&(e-=t.eras[i].offset),e},L.getDayIndex=function(e,t,i){var s,r=e.days,n=e._upperDays;return n||(e._upperDays=n=[L.toUpperArray(r.names),L.toUpperArray(r.namesAbbr),L.toUpperArray(r.namesShort)]),t=t.toUpperCase(),i?-1===(s=L.arrayIndexOf(n[1],t))&&(s=L.arrayIndexOf(n[2],t)):s=L.arrayIndexOf(n[0],t),s},L.getMonthIndex=function(e,t,i){var s=e.months,r=e.monthsGenitive||e.months,n=e._upperMonths,o=e._upperMonthsGen,s=(n||(e._upperMonths=n=[L.toUpperArray(s.names),L.toUpperArray(s.namesAbbr)],e._upperMonthsGen=o=[L.toUpperArray(r.names),L.toUpperArray(r.namesAbbr)]),t=L.toUpper(t),L.arrayIndexOf(i?n[1]:n[0],t));return s=s<0?L.arrayIndexOf(i?o[1]:o[0],t):s},L.appendPreOrPostMatch=function(e,t){for(var i=0,s=!1,r=0,n=e.length;r<n;r++){var o=e.charAt(r);switch(o){case"'":s?t.push("'"):i++,s=!1;break;case"\\":s&&t.push("\\"),s=!s;break;default:t.push(o),s=!1}}return i},L.getTokenRegExp=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},L.tryparseDate=function(e,t,i){if(null==t?t=L.calendar:null!=t&&t&&"string"===N.type(t)&&Globalize&&((o=Globalize.cultures[t])&&(t=o.calendar)),null!=i){if("array"===N.type(i))for(var s,r=0;r<i.length;r++)if(s=L.parseDate(e,i[r],t))return s;if(s=L.parseDate(e,i,t))return s}if(""==e)return null;if(null!=(e=null==e||e.substring?e:e.toString())&&"/Date("==e.substring(0,6)){var n=new Date(+e.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==n&&(n=null,(M=e.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/))&&(n=new Date(+M[1]+36e5*M[2]+6e4*M[3]))),null==n||"Invalid Date"==n||isNaN(n)){var o=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/.exec(e);if(o){var a=new Date(parseInt(o[1]));if(o[2]&&(h=parseInt(o[3]),"-"===o[2]&&(h=-h),o=a.getUTCMinutes(),a.setUTCMinutes(o-h)),!isNaN(a.valueOf()))return a}}return n}var l,d={jqxdate:"yyyy-MM-dd HH:mm:ss",d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",ISO8601:"yyyy-MM-ddTHH:mm:ss.sssZ",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",d4:"MM.dd.yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",iso:"yyyy-MM-ddTHH:mm:ssZ",iso_date1:"yyyy-MM-dd",iso_date2:"yyyy-MM-dd",iso_date3:"yyyy-ddd",iso_date4:"yyyy-MM-dd HH:mm",iso_date5:"yyyy-MM-dd HH:mm Z",iso_date6:"yyyy-MMM-dd",iso_date7:"yyyy-MM",iso_date8:"yyyy-MMM",iso_date9:"yyyy-MMMM",iso_date10:"yyyy-MMMM-dd",iso_time1:"HH:mm:ss.tttt",iso_time2:"HH:mm:ss",iso_time3:"HH:mm",iso_time4:"HH",iso_time5:"yyyyyy-MM-dd",iso_time6:"yyyyyy-MM-dd"};for(l in d)if(n=L.parseDate(e,d[l],t))return n;var h,c=t.patterns;for(l in c)if(n=L.parseDate(e,c[l],t)){if("ISO"==l)if(z=L.parseDate(e,c.ISO2,t))return z;return n}if("string"===N.type(e)){e=L.trim(e);var u,p,m,g,f,v=[":","/","-"," ",","],x=(o=", ",h=",",""),y=e=e.replace(new RegExp(o,"g"),h),w=(0<=e.indexOf(":")?(x=e.substring(e.indexOf(":")-2),x=L.trim(x),y=e.substring(0,e.indexOf(":")-2)):0<=e.toUpperCase().indexOf("AM")?(x=e.substring(e.toUpperCase().indexOf("AM")-2),x=L.trim(x),y=e.substring(0,e.toUpperCase().indexOf("AM")-2)):0<=e.toUpperCase().indexOf("PM")&&(x=e.substring(e.toUpperCase().indexOf("PM")-2),x=L.trim(x),y=e.substring(0,e.toUpperCase().indexOf("PM")-2)),new Date),b=!1;if(y){for(r=0;r<v.length;r++)if(0<=y.indexOf(v[r])){B=y.split(v[r]);break}for(var _=new Array,q=new Array,j=new Array,T=null,C=null,r=0;r<B.length;r++){var S=B[r],k=L.parseDate(S,"d",t)||L.parseDate(S,"dd",t)||L.parseDate(S,"ddd",t)||L.parseDate(S,"dddd",t);if(k&&(_.push(k.getDate()),2<S.length)){T=r;break}}for(r=0;r<B.length;r++){var S=B[r],I=L.parseDate(S,"M",t)||L.parseDate(S,"MM",t)||L.parseDate(S,"MMM",t)||L.parseDate(S,"MMMM",t);if(I&&(null==T||T!=r)&&(q.push(I.getMonth()),2<S.length)){C=r;break}}for(r=0;r<B.length;r++){var S=B[r],D=L.parseDate(S,"yyyy",t);!D||null!=T&&T==r||null!=C&&C==r||j.push(D.getFullYear())}for(var P=new Array,A=0;A<_.length;A++)for(var M=0;M<q.length;M++)for(var H=0;H<j.length;H++){a=new Date(j[H],q[M],_[A]);j[H]<1970&&a.setFullYear(j[H]),NaN!=a.getTime()&&P.push(a)}0<P.length&&(w=P[0],b=!0)}if(x&&(u=0<=x.indexOf(":")?x.split(":"):x,f=g=m=p=0,(x=L.parseDate(x,"h:mm tt",t)||L.parseDate(x,"HH:mm:ss.fff",t)||L.parseDate(x,"HH:mm:ss.ff",t)||L.parseDate(x,"h:mm:ss tt",t)||L.parseDate(x,"HH:mm:ss.tttt",t)||L.parseDate(x,"HH:mm:ss",t)||L.parseDate(x,"HH:mm",t)||L.parseDate(x,"HH",t))&&NaN!=x.getTime()?(p=x.getHours(),m=x.getMinutes(),g=x.getSeconds(),f=x.getMilliseconds()):(1==u.length&&(p=parseInt(u[0])),2==u.length&&(p=parseInt(u[0]),m=parseInt(u[1])),3==u.length&&(p=parseInt(u[0]),m=parseInt(u[1]),0<=u[2].indexOf(".")?(g=parseInt(u[2].toString().split(".")[0]),f=parseInt(u[2].toString().split(".")[1])):g=parseInt(u[2])),4==u.length&&(p=parseInt(u[0]),m=parseInt(u[1]),g=parseInt(u[2]),f=parseInt(u[3]))),!w||isNaN(p)||isNaN(m)||isNaN(g)||isNaN(f)||(w.setHours(p,m,g,f),b=!0)),b)return w}if(null!=e){for(var z=null,B=[":","/","-"],E=!0,S=0;S<B.length;S++)-1!=e.indexOf(B[S])&&(E=!1);if(E){x=new Number(e);if(!isNaN(x))return new Date(x)}}return null},L.getParseRegExp=function(e,t){var i=e._parseRegExp;if(i){var s=i[t];if(s)return s}else e._parseRegExp=i={};for(var r,n=L.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),o=["^"],a=[],l=0,d=0,h=L.getTokenRegExp();null!==(r=h.exec(n));){var c=n.slice(l,r.index),l=h.lastIndex;if((d+=L.appendPreOrPostMatch(c,o))%2)o.push(r[0]);else{var u,p=r[0],m=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":u="(\\D+)";break;case"tt":case"t":u="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":u="(\\d{"+m+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":u="(\\d\\d?)";break;case"zzz":u="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":u="([+-]?\\d\\d?)";break;case"/":u="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+p+"'."}u&&o.push(u),a.push(r[0])}}L.appendPreOrPostMatch(n.slice(l),o),o.push("$");s=o.join("").replace(/\s+/g,"\\s+");return i[t]={regExp:s,groups:a}},L.outOfRange=function(e,t,i){return e<t||i<e},L.expandYear=function(e,t){var i,s=new Date,r=L.getEra(s);return t<100&&((i="string"==typeof(i=e.twoDigitYearMax)?(new Date).getFullYear()%100+parseInt(i,10):i)<(t+=(i=L.getEraYear(s,e,r))-i%100)&&(t-=100)),t},L.parseDate=function(e,t,i){null==i&&(i=L.calendar),e=L.trim(e);var s=i,i=L.getParseRegExp(s,t),r=new RegExp(i.regExp).exec(e);if(null===r)return null;for(var n,o=i.groups,a=null,l=null,d=null,h=null,c=null,u=0,p=0,m=0,g=0,f=null,v=!1,x=0,y=o.length;x<y;x++){var w=r[x+1];if(w){var b=o[x],_=b.length,q=parseInt(w,10);switch(b){case"dd":case"d":if(L.outOfRange(h=q,1,31))return null;break;case"MMM":case"MMMM":case"MMMMM":case"MMMMMM":case"MMMMMMM":case"MMMMMMMM":if(d=L.getMonthIndex(s,w,3===_),L.outOfRange(d,0,11))return null;break;case"M":case"MM":if(L.outOfRange(d=q-1,0,11))return null;break;case"y":case"yy":case"yyyy":if(l=_<4?L.expandYear(s,q):q,L.outOfRange(l,0,9999))return null;break;case"h":case"hh":if(12===(u=q)&&(u=0),L.outOfRange(u,0,11))return null;break;case"H":case"HH":if(L.outOfRange(u=q,0,23))return null;break;case"m":case"mm":if(L.outOfRange(p=q,0,59))return null;break;case"s":case"ss":if(L.outOfRange(m=q,0,59))return null;break;case"tt":case"t":if((v=s.PM&&(w===s.PM[0]||w===s.PM[1]||w===s.PM[2]))||s.AM&&(w===s.AM[0]||w===s.AM[1]||w===s.AM[2]))break;return null;case"f":case"ff":case"fff":if(g=q*Math.pow(10,3-_),L.outOfRange(g,0,999))return null;break;case"ddd":case"dddd":if(c=L.getDayIndex(s,w,3===_),L.outOfRange(c,0,6))return null;break;case"zzz":var j=w.split(/:/);if(2!==j.length)return null;if(n=parseInt(j[0],10),L.outOfRange(n,-12,13))return null;j=parseInt(j[1],10);if(L.outOfRange(j,0,59))return null;f=60*n+(L.startsWith(w,"-")?-j:j);break;case"z":case"zz":if(L.outOfRange(n=q,-12,13))return null;f=60*n;break;case"g":case"gg":if(!(T=w)||!s.eras)return null;for(var T=T.trim().toLowerCase(),C=0,S=s.eras.length;C<S;C++)if(T===s.eras[C].nathat.toLowerCase()){a=C;break}if(null===a)return null}}}t=new Date,e=s.convert,i=t.getFullYear();if(null===l?l=i:s.eras&&(l+=s.eras[a||0].offset),null===d&&(d=0),null===h&&(h=1),e){if(null===(t=e.toGregorian(l,d,h)))return null}else{if(t.setFullYear(l,d,h),t.getDate()!==h)return null;if(null!==c&&t.getDay()!==c)return null}return v&&u<12&&(u+=12),t.setHours(u,p,m,g),null!==f&&(i=t.getMinutes()-(f+t.getTimezoneOffset()),t.setHours(t.getHours()+parseInt(i/60,10),i%60)),t},L.toString=function(e,t){if(void 0===e&&(e="yyyy-MM-dd HH:mm:ss"),N.jqx.date.cache&&N.jqx.date.cache[L.dateData+e])return N.jqx.date.cache[L.dateData+e];t&&"string"===N.type(t)&&Globalize&&((x=Globalize.cultures[t])&&(t=x.calendar));var i=L.toDate();if(null==t&&(t=L.calendar),"string"==typeof i)return i;var s;i.toString();if(!e||!e.length||"i"===e)return s=L.formatDate(i,t.patterns.F,t);var r=t.eras,n="s"===e;e=L.expandFormat(t,e),s=[];var o,a=["0","00","000"],l=0,d=L.getTokenRegExp();function h(e,t){var i,e=e+"";return 1<t&&e.length<t?(i=a[t-2]+e).substr(i.length-t,t):e}function c(e,t){if(null!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}for(;;){var u=d.lastIndex,p=d.exec(e),u=e.slice(u,p?p.index:e.length);if(l+=L.appendPreOrPostMatch(u,s),!p)break;if(l%2)s.push(p[0]);else{var m=p[0],g=m.length;switch(m){case"ddd":case"dddd":var f=3===g?t.days.namesAbbr:t.days.names;s.push(f[i.getDay()]);break;case"d":case"dd":s.push(h(c(i,2),g));break;case"MMM":case"MMMM":var v=c(i,1);s.push(t.months[3===g?"namesAbbr":"names"][v]);break;case"M":case"MM":s.push(h(c(i,1)+1,g));break;case"y":case"yy":case"yyyy":v=L.getEraYear(i,t,L.getEra(i,r),n),g<4&&(v%=100),s.push(h(v,g));break;case"h":case"hh":0===(o=i.getHours()%12)&&(o=12),s.push(h(o,g));break;case"H":case"HH":s.push(h(i.getHours(),g));break;case"m":case"mm":s.push(h(i.getMinutes(),g));break;case"s":case"ss":s.push(h(i.getSeconds(),g));break;case"t":case"tt":v=i.getHours()<12?t.AM?t.AM[0]:" ":t.PM?t.PM[0]:" ",s.push(1===g?v.charAt(0):v);break;case"f":case"ff":case"fff":s.push(h(i.getMilliseconds(),3).substr(0,g));break;case"z":case"zz":o=i.getTimezoneOffset()/60,s.push((o<=0?"+":"-")+h(Math.floor(Math.abs(o)),g));break;case"zzz":o=i.getTimezoneOffset()/60,s.push((o<=0?"+":"-")+h(Math.floor(Math.abs(o)),2)+":"+h(Math.abs(i.getTimezoneOffset()%60),2));break;case"g":case"gg":t.eras&&s.push(t.eras[L.getEra(i,r)].name);break;case"/":s.push(t["/"]);break;default:throw"Invalid date format pattern '"+m+"'."}}}var x=s.join("");return N.jqx.date.cache||(N.jqx.date.cache=new Array),N.jqx.date.cache[L.dateData+e]=x},L.add=function(e,t,i){var s=L.internalMS();if(void 0===t)return!1===i?(L.dateData=s+parseInt(e._ticks/L.ticksPerMillisecond),L):((r=new N.jqx.date(s+parseInt(e._ticks/L.ticksPerMillisecond))).timeZone=L.timeZone,r);var r,e=e*t;if(e<=-L.maxMillis||e>=L.maxMillis)throw new Error("Out of Range");return!1===i?(L.dateData=s+e,L):((r=new N.jqx.date(s+e)).timeZone=L.timeZone,r)},L.addDays=function(e,t){return L.add(e,L.millisPerDay,t)},L.clone=function(){var e=new N.jqx.date(L.dateData);return e.timeZone=L.timeZone,e},L.clearTime=function(){var e=L.month(),t=L.year(),i=L.day(),t=new N.jqx.date(t,e,i,0,0,0,0);return t.timeZone=L.timeZone,t},L.addHours=function(e,t){return L.add(e,L.millisPerHour,t)},L.addMilliseconds=function(e,t){return L.add(e,1,t)},L.addMinutes=function(e,t){return L.add(e,L.millisPerMinute,t)},L.addMonths=function(e,t){if(e<-12e4||12e4<e)throw new Error("Invalid Months Value");var i=parseInt(L.getDatePart(L.datePartYear)),s=parseInt(L.getDatePart(L.datePartMonth)),r=parseInt(L.getDatePart(L.datePartDay)),e=s-1+e;if(0<=e?(s=e%12+1,i+=e/12):(s=12+(e+1)%12,i+=(e-11)/12),(i=parseInt(i))<1||9999<i)throw new Error("Year out of range");e=L.daysInMonth(i,s);if(e<r&&(r=e),!1===t)return L.dateData=L.dateToMS(i,s,r)+L.internalMS()%L.millisPerDay,L;e=new N.jqx.date(L.dateToMS(i,s,r)+L.internalMS()%L.millisPerDay);return e.timeZone=L.timeZone,e},L.addSeconds=function(e,t){return L.add(e,L.millisPerSecond,t)},L.addYears=function(e,t){return L.addMonths(12*e,t)},L.getTimeZoneOffset=function(){var e=new Date,t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1),t=e.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),i.getTimezoneOffset());return{offset:-e.getTimezoneOffset()/60,dst:+t}},L.isInDaylightSavingTime=function(){var e=new Date,t=new Date(e.getFullYear(),0,1),e=new Date(e.getFullYear(),6,1);return L.date().getTimezoneOffset()<Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())},L.supportsDaylightSavingTime=function(){var e=new Date,t=new Date(e.getFullYear(),0,1),e=new Date(e.getFullYear(),6,1);return t.getTimezoneOffset()!=e.getTimezoneOffset()},L.date=function(){var e=L.month(),t=L.year(),i=L.day(),t=new N.jqx.date(t,e,i);return t.timeZone=L.timeZone,t},L.isToday=function(){var e=new Date,t=L.month(),i=L.year(),s=L.day();L.hour(),L.minute();return e.getFullYear()===i&&e.getMonth()===t-1&&e.getDate()===s},L.isNow=function(){var e=new Date,t=L.month(),i=L.year(),s=L.day(),r=L.hour();L.minute();return e.getFullYear()===i&&e.getMonth()===t-1&&e.getDate()===s&&e.getHours()===r},L.isWeekend=function(){return 0==L.dayOfWeek()||6==L.dayOfWeek()},L.toDate=function(t){var e=L.month(),i=L.year(),s=L.day(),r=L.hour(),n=L.minute(),o=L.second(),a=L.millisecond(),e=new Date(i,e-1,s);return i<1970&&e.setFullYear(i),e.setHours(r,n,o,a),t&&(s=L.timeZones.filter(function(e){return e.id==t})).length&&(i=s[0].offset,"Local"==t&&(i=-e.getTimezoneOffset()),r=e.getTime(),n=60*e.getTimezoneOffset()*1e3,L.timeZone&&(o=L.timeZones.filter(function(e){return e.id==L.timeZone})).length&&(n=60*-o[0].offset*1e3),e=new Date(r+n+6e4*i)),e},L.toTimeZone=function(e){var t=e,t=L.toDate(t=null==t?"Local":t),t=new N.jqx.date(t);return t.timeZone=e,t},L.day=function(){return L.getDatePart(L.datePartDay)},L.month=function(){return L.getDatePart(L.datePartMonth)},L.year=function(){return L.getDatePart(L.datePartYear)},L.millisecond=function(){return parseInt(L.internalMS()%1e3)},L.hour=function(){return parseInt(L.internalMS()/L.millisPerHour%24)},L.minute=function(){return parseInt(L.internalMS()/L.millisPerMinute%60)},L.second=function(){return parseInt(L.internalMS()/L.millisPerSecond%60)},L.valueOf=function(){return L.dateData},L.equals=function(e){return L.dateData===e.dateData},0===arguments.length?(a=new Date,L.dateData=L.dateToMS(a.getFullYear(),a.getMonth()+1,a.getDate())+L.timeToMS(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())):1===arguments.length?(null==arguments[0]&&(arguments[0]="todayDate"),"number"==typeof arguments[0]&&isFinite(arguments[0])||"string"!==N.type(arguments[0])?"number"==typeof arguments[0]?L.dateData=arguments[0]:"date"==N.type(arguments[0])?L.dateData=L.dateToMS((a=arguments[0]).getFullYear(),a.getMonth()+1,a.getDate())+L.timeToMS(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()):void 0!==arguments[0].dateData?L.dateData=arguments[0].dateData:L.dateData=arguments[0]:("today"===arguments[0]?a=new Date:"todayDate"===arguments[0]?(a=new Date).setHours(0,0,0,0):a=L.tryparseDate(arguments[0]),L.dateData=L.dateToMS(a.getFullYear(),a.getMonth()+1,a.getDate())+L.timeToMS(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()))):2===arguments.length?(null==arguments[0]&&(arguments[0]="todayDate"),"number"==typeof arguments[0]&&isFinite(arguments[0])||"string"!==N.type(arguments[0])?"number"==typeof arguments[0]?L.dateData=arguments[0]:"date"==N.type(arguments[0])?L.dateData=L.dateToMS((a=arguments[0]).getFullYear(),a.getMonth()+1,a.getDate())+L.timeToMS(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()):void 0!==arguments[0].dateData?L.dateData=arguments[0].dateData:L.dateData=arguments[0]:("today"===arguments[0]?a=new Date:"todayDate"===arguments[0]?(a=new Date).setHours(0,0,0,0):a=L.tryparseDate(arguments[0]),L.dateData=L.dateToMS(a.getFullYear(),a.getMonth()+1,a.getDate())+L.timeToMS(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())),L.timeZone=arguments[1]):2<arguments.length&&("string"===N.type(arguments[0])?a=L.tryparseDate(arguments[0],arguments[2],arguments[1]):(e=arguments[0],t=arguments[1],i=arguments[2],void 0===(s=arguments[3])&&(s=0),void 0===(r=arguments[4])&&(r=0),void 0===(n=arguments[5])&&(n=0),void 0===(o=arguments[6])&&(o=0),t--,a=new Date(e,t,i,s,r,n,o),e<1970&&a.setFullYear(e)),L.dateData=L.dateToMS(a.getFullYear(),a.getMonth()+1,a.getDate())+L.timeToMS(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())),L}}(jqxBaseFramework),Array.prototype.filter||(Array.prototype.filter=function(e){if(null==this)throw new TypeError;var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var s,r=[],n=arguments[1],o=0;o<i;o++)o in t&&(s=t[o],e.call(n,s,o,t)&&r.push(s));return r}),!function(i){var e=0;i.jqx.jqxWidget("jqxTouch","",{}),i.extend(i.jqx._jqxTouch.prototype,{defineInstance:function(){this.swipeMin=50,this.swipeMax=500,this.swipeDelay=1e3,this.tapHoldDelay=750,this.swipeMaxVerticalDisance=100,this.swipeMaxHorizontalDisance=100,this.orientationChangeEnabled=!0,this._eventsMap={mousedown:i.jqx.mobile.getTouchEventName("touchstart"),mouseup:i.jqx.mobile.getTouchEventName("touchend"),mousemove:i.jqx.mobile.getTouchEventName("touchmove")},this._swipeLocked=!1,this._rotationInterval=200,this._events=["tap","taphold","swipe","swipeleft","swiperight","swipetop","swipebottom","orientationchange"],this._instanceId=-1},createInstance:function(){e+=1,this._instanceId=e,this._isTouchDevice=i.jqx.mobile.isTouchDevice(),this._defineRotateHandler()},refresh:function(){this._removeEventListeners(),this._addEventListeners()},_defineRotateHandler:function(){var e=this;this._rotateHandler||(this._rotateHandler=function(){e._checkOrientation()})},_getEvent:function(e){return(e=this._isTouchDevice?this._eventsMap[e]:e)+this._getEventNamespace()},_getEventNamespace:function(){return".swipe"+this._instanceId},_removeEventListeners:function(){clearInterval(this._rotateInterval),this.removeHandler(i(document),this._getEvent("mouseup")),this.removeHandler(this.host,this._getEvent("mousedown")),this.removeHandler(this.host,this._getEvent("mousemove")),window.removeEventListener&&(window.removeEventListener("resize",this._rotateHandler),window.removeEventListener("orientationchange",this._rotateHandler))},_addEventListeners:function(){var t=this;this.addHandler(this.host,this._getEvent("mouseup"),function(e){t._resetSwipe(),t._resetTap()}),this.addHandler(this.host,this._getEvent("mousedown"),function(e){t._initSwipe(e),t._initTap(e)}),this.addHandler(this.host,this._getEvent("mousemove"),function(e){return t._maxSwipeVerticalDistance=Math.max(t._maxSwipeVerticalDistance,Math.abs(t._startY-t._getCoordinates(e).y)),t._maxSwipeHorizontalDistance=Math.max(t._maxSwipeHorizontalDistance,Math.abs(t._startX-t._getCoordinates(e).x)),t._mouseMoved=!0,t._handleSwipeEvents(e)}),this._rotationListeners()},_handleSwipeEvents:function(e){var t=!0;return this._mouseDown&&!this._tapHoldFired&&(t=this._handleVerticalSwipeEvents(e),t=this._handleHorizontalSwipeEvents(e)),this._lastPosition=this._getCoordinates(e),t},_handleVerticalSwipeEvents:function(e){var t=this._getCoordinates(e).y-this._startY;return!(this._maxSwipeHorizontalDistance<this.swipeMaxHorizontalDisance)||this._swiped(e,t,2)},_handleHorizontalSwipeEvents:function(e){var t=this._getCoordinates(e).x-this._startX;return!(this._maxSwipeVerticalDistance<this.swipeMaxVerticalDisance)||this._swiped(e,t)},_swiped:function(e,t,i){return i=i||0,Math.abs(t)>=this.swipeMin&&!this._swipeEvent&&!this._swipeLocked&&(this._swipeEvent=this._getSwipeEvent(t,i)),!(Math.abs(t)<=this.swipeMax)||(e.stopImmediatePropagation(),!1)},_getSwipeEvent:function(e,t){e=e<0?{eventId:3+t,data:{target:this.host}}:{eventId:4+t,data:{target:this.host}};return e},_resetSwipe:function(){this._swipeEvent&&!this._swipeLocked&&(this._raiseEvent(2,this._swipeEvent.data),this._raiseEvent(this._swipeEvent.eventId,this._swipeEvent.data)),clearTimeout(this._swipeTimeout),this._mouseDown=!1},_resetTap:function(){clearTimeout(this._tapHoldTimeout),this._tapHoldFired||this._mouseMoved||this._raiseEvent(0,{target:this.host})},_initTap:function(e){var t=this;this._mouseMoved=!1,this._tapHoldFired=!1,this._tapHoldTimeout=setTimeout(function(){t._mouseMoved||(t._raiseEvent(1,{target:this.host}),t._tapHoldFired=!0)},this.tapHoldDelay)},_initSwipe:function(e){var t=this;this._mouseDown=!0,this._maxSwipeVerticalDistance=0,this._maxSwipeHorizontalDistance=0,this._startX=this._getCoordinates(e).x,this._startY=this._getCoordinates(e).y,this._swipeLocked=!1,this._swipeEvent=null,this._swipeTimeout=setTimeout(function(){t._swipeLocked=!0},this.swipeDelay)},_rotationListeners:function(){var e=this;this._previousOrientation=window.orientation,this._previousWidth=screen.width,this.orientationChangeEnabled&&(window.addEventListener&&(window.addEventListener("resize",this._rotateHandler,!1),window.addEventListener("orientationchange",this._rotateHandler,!1)),this._rotateInterval=setInterval(function(){e._checkOrientation()},this._rotationInterval))},_checkOrientation:function(){var e="vertical";window.orientation===this._previousOrientation&&this._previousWidth===screen.width||((90===window.orientation||screen.width>screen.height)&&(e="horizontal"),this._raiseEvent(7,{orientation:e})),this._previousOrientation=window.orientation,this._previousWidth=screen.width},_raiseEvent:function(e,t){e=i.Event(this._events[e]);return e.args=t,this.host.trigger(e)},_getCoordinates:function(e){e=i.jqx.position(e);return e.x=e.left,e.y=e.top,e},propertyChangedHandler:function(e,t,i,s){"orientationChangeEnabled"===t&&this.refresh()},isTouchDevice:function(){return this._isTouchDevice}})}(jqxBaseFramework),!function(p){u={},(e=function(e,t,i,s,r,n){if(!(this instanceof o))return new o(e,t,i,r,n);m=e,g=t,f=i,this.exportTo=function(e,t,i,s){e=e.toString().toLowerCase();var r=u[e];if(void 0===r)throw"You can't export to "+e+" format.";if("pdf"!==e||null!=s)return v(r,0,0,0,t,i,s);var r=this.exportTo(e,t,e,"pdf"),l=(p.jqx.pdfExport||(p.jqx.pdfExport={orientation:"portrait",paperSize:"a4"}),new pdfDataExport(p.jqx.pdfExport.orientation,"pt",p.jqx.pdfExport.paperSize)),d=(l.cellInitialize(),p(r).find("th")),n=p(r).find("tr"),h=0,o=(l.setFontSize(9.75),595);switch(p.jqx.pdfExport.paperSize){case"legal":o=612;"portrait"!==p.jqx.pdfExport.orientation&&(o=1008);break;case"letter":o=612;"portrait"!==p.jqx.pdfExport.orientation&&(o=792);break;case"a3":o=841;"portrait"!==p.jqx.pdfExport.orientation&&(o=1190);break;case"a4":o=595;"portrait"!==p.jqx.pdfExport.orientation&&(o=842);break;case"a5":o=420;"portrait"!==p.jqx.pdfExport.orientation&&(o=595)}o-=20;var a=0,c=[];if(p.each(d,function(e){var t=parseInt(this.style.width),t=72*(t=isNaN(t)?25:t)/96;c[e]=t,a+=t}),0===d.length&&p.each(n[0].cells,function(e){var t=parseInt(this.style.width),t=72*(t=isNaN(t)?o/n[0].cells.length:t)/96;c[e]=t,a+=t}),o<a&&p.each(c,function(e){c[e]=c[e]/a*100,c[e]=c[e]*o/100}),p.each(d,function(e){var e=c[e],t=l.getTextDimensions(p(this).html()),i=p(this).html();t.w+3>e&&(i=3<(t=l.splitTextToSize(i,e-3)[0]).length?t.substring(0,t.length-3)+"...":t.substring(0,1)+"...",(t=l.splitTextToSize(i,e-3)[0])!=i&&(i=t)),l.cell(10,10,e,18.75,i,h)}),h++,p.each(n,function(e){if(0===e)return!0;var t=p(this).children();if(t.length>d.length&&0<d.length){for(var i=t.length-d.length,s="",r=c[0],n=0;n<=i;n++){var o=t[n].innerHTML;"+"!==o&&"-"!==o||(o+=" "),s+=o="&nbsp;"===o?"   ":o}l.getTextDimensions(s).w+3>r&&(s=3<(a=l.splitTextToSize(s,r-3)[0]).length?a.substring(0,a.length-3)+"...":a.substring(0,1)+"...",(a=l.splitTextToSize(s,r-3)[0])!=s&&(s=a)),l.cell(10,10,r,18.75,s,h);for(n=1+i;n<t.length;n++){var a,r=c[e=n-i],s=p(t[n]).html();l.getTextDimensions(p(t[n]).html()).w+3>r&&(s=3<(a=l.splitTextToSize(s,r-3)[0]).length?a.substring(0,a.length-3)+"...":a.substring(0,1)+"...",(a=l.splitTextToSize(s,r-3)[0])!=s&&(s=a)),l.cell(10,10,r,18.75,s,h)}return h++,!0}p.each(t,function(e){var t,e=c[e],i=p(this).html();l.getTextDimensions(p(this).html()).w+3>e&&(i=3<(t=l.splitTextToSize(i,e-3)[0]).length?t.substring(0,t.length-3)+"...":t.substring(0,1)+"...",(t=l.splitTextToSize(i,e-3)[0])!=i&&(i=t)),l.cell(10,10,e,18.75,i,h)}),h++}),p.jqx.browser.msie&&p.jqx.browser.version<10)throw new Error("PDF export requires a browser with HTML5 support");return l},this.exportToFile=function(e,t,i,s,r){if("pdf"===e){var n=this.exportTo(e,r,e,t),l=(p.jqx.pdfExport||(p.jqx.pdfExport={orientation:"portrait",paperSize:"a4"}),new pdfDataExport(p.jqx.pdfExport.orientation,"pt",p.jqx.pdfExport.paperSize)),d=("utf-8"!=s&&"UTF-8"!=s||l.setFont("courier","normal"),l.cellInitialize(),p(n).find("th")),o=p(n).find("tr"),h=0,a=(l.setFontSize(9.75),595);switch(p.jqx.pdfExport.paperSize){case"legal":a=612;"portrait"!==p.jqx.pdfExport.orientation&&(a=1008);break;case"letter":a=612;"portrait"!==p.jqx.pdfExport.orientation&&(a=792);break;case"a3":a=841;"portrait"!==p.jqx.pdfExport.orientation&&(a=1190);break;case"a4":a=595;"portrait"!==p.jqx.pdfExport.orientation&&(a=842);break;case"a5":a=420;"portrait"!==p.jqx.pdfExport.orientation&&(a=595)}a-=20;var c=0,u=[];if(p.each(d,function(e){var t=parseInt(this.style.width),t=72*(t=isNaN(t)?25:t)/96;u[e]=t,c+=t}),0===d.length&&p.each(o[0].cells,function(e){var t=parseInt(this.style.width),t=72*(t=isNaN(t)?a/o[0].cells.length:t)/96;u[e]=t,c+=t}),a<c&&p.each(u,function(e){u[e]=u[e]/c*100,u[e]=u[e]*a/100}),p.each(d,function(e){var e=u[e],t=l.getTextDimensions(p(this).html()),i=p(this).html();t.w+3>e&&(i=3<(t=l.splitTextToSize(i,e-3)[0]).length?t.substring(0,t.length-3)+"...":t.substring(0,1)+"...",(t=l.splitTextToSize(i,e-3)[0])!=i&&(i=t)),l.cell(10,10,e,18.75,i,h)}),h++,p.each(o,function(e){if(0===e)return!0;var t=p(this).children();if(t.length>d.length&&0<d.length){for(var i=t.length-d.length,s="",r=u[0],n=0;n<=i;n++){var o=t[n].innerHTML;"+"!==o&&"-"!==o||(o+=" "),s+=o="&nbsp;"===o?"   ":o}l.getTextDimensions(s).w+3>r&&(s=3<(a=l.splitTextToSize(s,r-3)[0]).length?a.substring(0,a.length-3)+"...":a.substring(0,1)+"...",(a=l.splitTextToSize(s,r-3)[0])!=s&&(s=a)),l.cell(10,10,r,18.75,s,h);for(n=1+i;n<t.length;n++){var a,r=u[e=n-i];"&nbsp;"===(s=p(t[n]).html())&&(s="   "),l.getTextDimensions(p(t[n]).html()).w+3>r&&(s=3<(a=l.splitTextToSize(s,r-3)[0]).length?a.substring(0,a.length-3)+"...":a.substring(0,1)+"...",(a=l.splitTextToSize(s,r-3)[0])!=s&&(s=a)),l.cell(10,10,r,18.75,s,h)}return h++,!0}p.each(t,function(e){var t,e=u[e],i=p(this).html();"&nbsp;"===i&&(i="   "),l.getTextDimensions(p(this).html()).w+3>e&&(i=3<(t=l.splitTextToSize(i,e-3)[0]).length?t.substring(0,t.length-3)+"...":t.substring(0,1)+"...",(t=l.splitTextToSize(i,e-3)[0])!=i&&(i=t)),l.cell(10,10,e,18.75,i,h)}),h++}),p.jqx.browser.msie&&p.jqx.browser.version<10)throw new Error("PDF export requires a browser with HTML5 support");l.save(t+".pdf")}else{n=w(t,e,this.exportTo(e,r,e,t),i,s);n.submit(),document.body.removeChild(n)}},this.exportToLocalFile=function(e,t,i,s){e=this.exportTo(e,i,s);document.location.href="data:application/octet-stream;filename="+t+","+encodeURIComponent(e)}}).extend=function(e,t){if(!(t instanceof p.jqx.dataAdapter.DataExportModuleBase))throw"The module "+e+" is not instance of DataExportModuleBase.";u[e]=t};var m,g,f,e,i,u,o=e;function v(e,t,i,s,r,n,o){var a,l=this,d=((l=l||window.jqx).hierarchy=r,l.exportFormat=n,l.filename=o,e.beginFile(o),e),h=!0,c=(p.each(g,function(){if(this.hidden)return h=!1}),d.beginHeader(h),0);for(a in g){g[a].columnsDataFields&&(a=g[a].columnsDataFields[c].displayfield);var u=function(e){if(e.style)return f[e.style];e=y();if(0<e.length)return e[0].style;return null}(g[a]);d.appendHeaderCell(g[a],a,u,h,c),c++}return d.endHeader(h),function(i){var e=this;e=e||window.jqx;if(i.beginBody(),e.hierarchy){var s=function(e){for(var t=0;t<e.length;t+=1)void 0!==e[t]&&(i.hierarchy=!0,i.beginRow(e[t].level),x(i,e[t],t,!0),e[t].records&&(i.beginRows(e[t].level),s(e[t].records),i.endRows(e[t].level)),i.endRow(e[t].level))};s(m),i.endBody()}else{for(var t=0;t<m.length;t+=1)void 0!==m[t]&&x(i,m[t],t);i.endBody()}}(e),e.endFile(o),e.getFile()}function x(e,t,i,s){var r,n,o=(o=this)||window.jqx,a=(1!=s&&e.beginRow(),0);for(n in g){if(r=function(e,t){t=g[t];if(t){if(t.customCellStyles){var i=t.customCellStyles[e];if(i)return f[i]}if(t.cellStyle)return!t.cellAltStyle||0==(s=e%2)?f[t.cellStyle]:f[t.cellAltStyle];var s,i=y();if(0<i.length)return s=e%(i.length-1),i[s+1].style}return null}(i,n=g[n].columnsDataFields?g[n].columnsDataFields[a].displayfield:n)){if(null!=r.level&&r.index-1>t.level&&r.index-1<r.maxLevel){a++;continue}null!=r.maxLevel&&r.index-1==r.maxLevel&&((r=p.extend({},r)).merge=r.maxLevel-t.level-1)}if(null!=t.level&&null!=t.label&&("xml"===o.exportFormat||"json"===o.exportFormat)){var l={text:"group"};e.appendBodyCell(t.label,l,r,t,a,"group");break}t.hasOwnProperty(n)?e.appendBodyCell(t[n],g[n],r,t,a):e.appendBodyCell("",g[n],r,t,a),a++}1!=s&&e.endRow()}function y(){return i||(i=new Array,p.each(f,function(e,t){i[i.length]={name:e,style:t}})),i}function a(e,t,i){var s=document.createElement("input");s.name=t,s.value=e,s.type="hidden",i.appendChild(s)}function w(e,t,i,s,r){var n,o=document.createElement("form");return a(e,"filename",o),a(t,"format",o),e=i,t="content",i=o,(n=document.createElement("textarea")).name=t,n.value=e,i.appendChild(n),null!=s&&""!=s||(s=window&&0<=window.location.toString().indexOf("jqwidgets.com")?"https://jqwidgets.com/export_server/dataexport.php":"http://jquerygrid.net/export_server/dataexport.php"),o.action=s,o.method="post",r&&(o.acceptCharset=r),document.body.appendChild(o),o}p.jqx.dataAdapter.ArrayExporter=o}(jqxBaseFramework),!function(n){n.jqx.dataAdapter.DataExportModuleBase=function(){this.formatData=function(e,t,i,s){if("date"===t){var r="";if(""===(e="string"==typeof e?r=n.jqx.dataFormat.tryparsedate(e):e)||null===e)return"";if((r=n.jqx.dataFormat.formatdate(e,i,s))&&"NaN"==r.toString()||null==r)return"";e=r}else if("number"===t||"float"===t||"int"===t||"integer"==t){if(""===e||null===e)return"";if(!isNaN(new Number(e))){r=n.jqx.dataFormat.formatnumber(e,i,s);if("NaN"==r.toString())return"";e=r}}return null===e?"":e},this.getFormat=function(e){var t=e?e.formatString:"",i=e?e.localization:"";return"number"!=(e=e?e.type:"string")&&"float"!=e||(t=t||"f2"),"int"!=e&&"integer"!=e||(t=t||"n0"),{type:e,formatString:t="date"==e?t||"d":t,localization:i}},this.beginFile=function(){throw"Not implemented!"},this.beginHeader=function(){throw"Not implemented!"},this.appendHeaderCell=function(){throw"Not implemented!"},this.endHeader=function(){throw"Not implemented!"},this.beginBody=function(){throw"Not implemented!"},this.beginRow=function(){throw"Not implemented!"},this.beginRows=function(){throw"Not implemented!"},this.endRows=function(){throw"Not implemented!"},this.appendBodyCell=function(){throw"Not implemented!"},this.endRow=function(){throw"Not implemented!"},this.endBody=function(){throw"Not implemented!"},this.endFile=function(){throw"Not implemented!"},this.getFile=function(){throw"Not implemented!"}}}(jqxBaseFramework),!function(e){function t(s){var r,o,e=0,n=this;function a(e,t){var i;i=e,(t=t)&&(t=n.getFormat(t),i=n.formatData(i,t.type,t.formatString,t.localization)),e=i='"'+i+'"',r+=e+s}this.beginFile=function(){r=""},this.beginHeader=function(){},this.appendHeaderCell=function(e,t,i,s,r){if(i&&null!=i.level){if(r<i.maxLevel)return;if(r===i.maxLevel){s&&a(e.text);for(var n=0;n<i.maxLevel;n++)a("");return}}(o=s)&&a(e.text)},this.endHeader=function(){this.endRow()},this.beginBody=function(){e=0},this.beginRow=function(){(0<e||0==e&&o)&&(r+="\n"),e++},this.appendBodyCell=function(e,t,i,s,r){if(i&&null!=i.maxLevel&&r===i.maxLevel){a(e,t);for(var n=0;n<i.maxLevel-s.level-1;n++)a("",t)}else a(e,t)},this.endRow=function(){r=r.substring(0,r.length-1)},this.endBody=function(){},this.endFile=function(){},this.getFile=function(){return r}}function i(){}function s(){}t.prototype=new e.jqx.dataAdapter.DataExportModuleBase,i.prototype=new t(",");s.prototype=new t("\t"),e.jqx.dataAdapter.ArrayExporter.extend("csv",new i),e.jqx.dataAdapter.ArrayExporter.extend("tsv",new s)}(jqxBaseFramework),!function(e){function t(){var r,n,o=!1,s=0;function a(e){var t,i="";for(t in e)e.hasOwnProperty(t)&&(o&&"font-size"==t&&(e[t]="100%"),i+=t+":"+e[t]+";");return i}this.setPDF=function(){o=!0},this.beginFile=function(e){r=o||null==e?'<table style="empty-cells: show;" cellspacing="0" cellpadding="2">':'<html>\n\t<head>\n\t\t<title></title>\n\t\t<meta http-equiv=Content-type content="text/html; charset=UTF-8">\n\t</head>\n\t<body>\n\t\t<table style="empty-cells: show;" cellspacing="0" cellpadding="2">'},this.beginHeader=function(){r+=o?"\n\t<thead><tr>":"\n\t\t\t<thead>"},this.appendHeaderCell=function(e,t,i,s){(n=s)&&(o?r+='\n\t\t\t\t<th style="'+a(i)+'">'+e.text+"</th>":i.disabled||(i.merge?e.width?r+="\n\t\t\t\t<th colspan="+(1+i.merge)+' style="width: '+e.width+"px; "+a(i)+'">'+e.text+"</th>":r+="\n\t\t\t\t<th colspan="+(1+i.merge)+' style="'+a(i)+'">'+e.text+"</th>":e.width?r+='\n\t\t\t\t<th style="width: '+e.width+"px; "+a(i)+'">'+e.text+"</th>":r+='\n\t\t\t\t<th style="'+a(i)+'">'+e.text+"</th>"))},this.endHeader=function(){r+=o?"\n\t</tr></thead>":"\n\t\t\t</thead>"},this.beginBody=function(){r+=o?"\n\t<tbody>":"\n\t\t\t<tbody>",s=0},this.beginRow=function(){r+=o?"\n\t<tr>":"\n\t\t\t\t<tr>",s++},this.appendBodyCell=function(e,t,i){t=this.getFormat(t);""===e&&(e="&nbsp;"),!o&&i.merge?r+=1!=s||n?"\n\t\t\t\t\t<td colspan="+(1+i.merge)+' style="'+a(i)+'">'+this.formatData(e,t.type,t.formatString,t.localization)+"</td>":"\n\t\t\t\t\t<td colspan="+(1+i.merge)+' style="'+a(i)+' border-top-width: 1px;">'+this.formatData(e,t.type,t.formatString,t.localization)+"</td>":r+=1!=s||n?'\n\t\t\t\t\t<td style="'+a(i)+'">'+this.formatData(e,t.type,t.formatString,t.localization)+"</td>":'\n\t\t\t\t\t<td style="'+a(i)+' border-top-width: 1px;">'+this.formatData(e,t.type,t.formatString,t.localization)+"</td>"},this.endRow=function(){r+=o?"\n\t</tr>":"\n\t\t\t\t</tr>"},this.endBody=function(){r+=o?"\n\t</tbody>":"\n\t\t\t</tbody>"},this.endFile=function(e){r+=o||null==e?"\n</table>":"\n\t\t</table>\n\t</body>\n</html>\n"},this.getFile=function(){return r}}function i(){}function s(){}t.prototype=new e.jqx.dataAdapter.DataExportModuleBase,i.prototype=new t;s.prototype=new t;var r=new s;e.jqx.dataAdapter.ArrayExporter.extend("html",new i),e.jqx.dataAdapter.ArrayExporter.extend("pdf",r)}(jqxBaseFramework),!function(e){function t(){var a,l,r,n,d,h,c={style:"",stylesMap:{font:{color:"Color","font-family":"FontName","font-style":"Italic","font-weight":"Bold"},interior:{"background-color":"Color",background:"Color"},alignment:{left:"Left",center:"Center",right:"Right"}},startStyle:function(e){this.style+='\n\t\t<Style ss:ID="'+e+'" ss:Name="'+e+'">'},buildAlignment:function(e){e["text-align"]&&(e=this.stylesMap.alignment[e["text-align"]]||"Left",this.style+='\n\t\t\t<Alignment ss:Vertical="Bottom" ss:Horizontal="'+e+'"/>')},buildBorder:function(e){var t,i,s,r;e["border-color"]&&(t="\n\t\t\t<Borders>",i='\n\t\t\t\t<Border ss:Position="Bottom" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>',s='\n\t\t\t\t<Border ss:Position="Left" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>',r='\n\t\t\t\t<Border ss:Position="Right" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>',e='\n\t\t\t\t<Border ss:Position="Top" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>',this.style+=t=(t=(t+=i)+s+r)+e+"\n\t\t\t</Borders>")},buildFont:function(e){var t,i=this.stylesMap.font,s="\n\t\t\t<Font ";for(t in i)void 0!==e[t]&&("font-style"===t&&"italic"===e[t].toString().toLowerCase()?s+='ss:Italic="1" ':"font-weight"===t&&"bold"===e[t].toString().toLowerCase()?s+='ss:Bold="1" ':"color"===t&&(s+="ss:"+i[t]+'="'+e[t]+'" '));this.style+=s+="/>"},buildInterior:function(e){var t,i=this.stylesMap.interior,s="\n\t\t\t<Interior ",r=!1;for(t in i)void 0!==e[t]&&(s+="ss:"+i[t]+'="'+e[t]+'" ',r=!0);r&&(s+='ss:Pattern="Solid"'),this.style+=s+="/>"},buildFormat:function(e){var t;"number"==e.dataType||"float"==e.dataType||"int"==e.dataType||"integer"==e.dataType?""==(t=e.formatString)||-1!=t.indexOf("n")||-1!=t.indexOf("N")?this.style+='\n\t\t\t<NumberFormat ss:Format="0"/>':"f"==t||"F"==t||"D"==t||-1!=t.indexOf("d")?this.style+='\n\t\t\t<NumberFormat ss:Format="#,##0.00_);[Red](#,##0.00)"/>':-1!=t.indexOf("p")||-1!=t.indexOf("P")?this.style+='\n\t\t\t<NumberFormat ss:Format="Percent"/>':-1==t.indexOf("c")&&-1==t.indexOf("C")||(e.currencysymbol&&8364==parseInt(e.currencysymbol.charCodeAt(0))?this.style+='\n\t\t\t<NumberFormat ss:Format="Euro Currency"/>':this.style+='\n\t\t\t<NumberFormat ss:Format="Currency"/>'):"date"==e.dataType&&(this.style+='\n\t\t\t<NumberFormat ss:Format="Short Date"/>')},closeStyle:function(){this.style+="\n\t\t</Style>"},toString:function(){var e=this.style;return this.style="",e}};function o(e,t,i,s){var r="String",n=this.getFormat(t),o=(null!=e&&"_AG"==e.toString().substring(0,3)?(e=e.toString().substring(3),r="String"):("date"==n.type&&(o=e,r=null===(e=this.formatData(e,n.type,n.formatString,n.localization))||""===e?(e="","String"):(e=o.toISOString(),"DateTime")),"string"==n.type&&(null==e?e="":0<=(e=0<=(e=0<=(e=0<=(e=0<=e.toString().indexOf("&")?e.toString().replace(/&/g,"&amp;"):e).toString().indexOf(">")?e.toString().replace(/>/g,"&gt;"):e).toString().indexOf("<")?e.toString().replace(/</g,"&lt;"):e).toString().indexOf('"')?e.toString().replace(/"/g,"&quot;"):e).toString().indexOf("'")&&(e=e.toString().replace(/'/g,"&apos;"))),"number"!=i.dataType&&"float"!=i.dataType&&"int"!=i.dataType&&"integer"!=i.dataType||(r="Number",null!==(e=parseFloat(e))&&!isNaN(e)&&""!==e||(e="",r="String"),e&&"String"!=r&&""!=e&&t&&t.formatString&&0<=t.formatString.indexOf("p")&&(e/=100),i.currencysymbol=t.localization.currencysymbol)),function(e){if(!e)return"";var t=function(e){for(var t in d)if(u(e,d[t])&&u(d[t],e))return t;return}(e);void 0===t&&(t="xls-style-"+(h+=1),d[t]=e,function(e,t){c.startStyle(e),c.buildAlignment(t),c.buildBorder(t),c.buildFont(t),c.buildInterior(t),c.buildFormat(t),c.closeStyle(),a+=c.toString()}(t,e));return t}(i));i.merge?l+='\n\t\t\t\t<Cell ss:MergeAcross="'+i.merge+'" ss:StyleID="'+o+'"><Data ss:Type="'+r+'">'+e+"</Data></Cell>":l+='\n\t\t\t\t<Cell ss:StyleID="'+o+'"><Data ss:Type="'+r+'">'+e+"</Data></Cell>"}function u(e,t){var i,s=!0;for(i in e)e[i]!==t[i]&&(s=!1);return s}this.beginFile=function(){d={},h=0,a='<?xml version="1.0"?>\n\t<?mso-application progid="Excel.Sheet"?> \n\t<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" \n\txmlns:o="urn:schemas-microsoft-com:office:office" \n\txmlns:x="urn:schemas-microsoft-com:office:excel" \n\txmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" \n\txmlns:html="http://www.w3.org/TR/REC-html40"> \n\t<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"> \n\t<Version>12.00</Version> \n\t</DocumentProperties> \n\t<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"> \n\t<WindowHeight>8130</WindowHeight> \n\t<WindowWidth>15135</WindowWidth> \n\t<WindowTopX>120</WindowTopX> \n\t<WindowTopY>45</WindowTopY> \n\t<ProtectStructure>False</ProtectStructure> \n\t<ProtectWindows>False</ProtectWindows> \n\t</ExcelWorkbook> \n\t<Styles>'},this.beginHeader=function(){l='\n\t<Worksheet ss:Name="Sheet1">\n\t\t<Table>',r=[],n=[]},this.appendHeaderCell=function(e,t,i){var s=null!=e.width?e.width:10*e.text.length;l+='\n\t\t\t<Column ss:Width="'+s+'"/>',r.push(e),n.push(i)},this.endHeader=function(e){if(e){this.beginRow();for(var t=0;t<r.length;t+=1)n[t].disabled||o.call(this,r[t].text,null,n[t]);this.endRow()}},this.beginBody=function(){},this.beginRow=function(e){if(null!=e){l+="\n\t\t\t";for(var t=0;t<e;t++)l+="\t";l+="<Row>"}else l+="\n\t\t\t<Row>"},this.beginRows=function(e){l+="\n\t\t\t\t<Rows>"},this.appendBodyCell=function(e,t,i,s){o.call(this,e,t,i,s)},this.endRow=function(e){if(null!=e){l+="\n\t\t\t";for(var t=0;t<e;t++)l+="\t";l+="</Row>"}else l+="\n\t\t\t</Row>"},this.endRows=function(e){if(null!=e){l+="\n\t\t\t";for(var t=0;t<e;t++)l+="\t";l+="</Rows>"}},this.endBody=function(){l+="\n\t\t</Table>"},this.endFile=function(){l+="\n\t</Worksheet>\n</Workbook>",a+="\n\t</Styles>"},this.getFile=function(){return a+l}}t.prototype=new e.jqx.dataAdapter.DataExportModuleBase,e.jqx.dataAdapter.ArrayExporter.extend("xls",new t)}(jqxBaseFramework),!function(e){function t(){var l,d,h;this.beginFile=function(){l='<?xml version="1.0" encoding="UTF-8" ?>',l+="\n<table>"},this.beginHeader=function(){d=[]},this.appendHeaderCell=function(e,t){d.push(t)},this.endHeader=function(){},this.beginBody=function(e,t){},this.beginRow=function(e){var t=(t=this)||window.jqx;if(null!=e&&t.hierarchy){l+="\n\t";for(var i=0;i<e;i++)l+="\t\t";return l+="<row>",void(h=0)}l+="\n\t<row>",h=0},this.beginRows=function(e){if(null!=e){l+="\n\t\t";for(var t=0;t<e;t++)l+="\t\t";return l+="<rows>",void(h=0)}l+="\n\t\t<rows>"},this.appendBodyCell=function(e,t,i,s,r,n){var o=(o=this)||window.jqx,t=this.getFormat(t);if(e=this.formatData(e,t.type,t.formatString,t.localization),"string"==t.type&&0<=(e=0<=(e=0<=(e=0<=(e=0<=e.toString().indexOf("&")?e.toString().replace(/&/g,"&amp;"):e).toString().indexOf(">")?e.toString().replace(/>/g,"&gt;"):e).toString().indexOf("<")?e.toString().replace(/</g,"&lt;"):e).toString().indexOf('"')?e.toString().replace(/"/g,"&quot;"):e).toString().indexOf("'")&&(e=e.toString().replace(/'/g,"&apos;")),null!=s.level)if(o.hierarchy){l+="\n\t\t";for(var a=0;a<s.level;a++)l+="\t\t";l+=void 0===n?"<"+d[h]+">"+e+"</"+d[h]+">":"<"+n+">"+e+"</"+n+">"}else l+=null!=n?"\n\t\t<"+n+">"+e+"</"+n+">":"\n\t\t<"+d[h]+">"+e+"</"+d[h]+">";else l+="\n\t\t<"+d[h]+">"+e+"</"+d[h]+">";h++},this.endRow=function(e){var t=(t=this)||window.jqx;if(null!=e&&t.hierarchy){l+="\n\t";for(var i=0;i<e;i++)l+="\t\t";return l+="</row>",void(h=0)}l+="\n\t</row>",h=0},this.endRows=function(e){if(null!=e){l+="\n\t\t";for(var t=0;t<e;t++)l+="\t\t";return l+="</rows>",void(h=0)}l+="\n\t\t</rows>"},this.endBody=function(){},this.endFile=function(){l+="\n</table>"},this.getFile=function(){return l}}t.prototype=new e.jqx.dataAdapter.DataExportModuleBase,e.jqx.dataAdapter.ArrayExporter.extend("xml",new t)}(jqxBaseFramework),!function(e){var t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function h(e){return'"'+e.replace(t,function(e){var t=i[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'}function c(e){return e<10?"0"+e:e}function r(e){switch(Object.prototype.toString.call(e)){case"[object Date]":return n=e,n=isFinite(n.valueOf())?n.getUTCFullYear()+"-"+c(n.getUTCMonth()+1)+"-"+c(n.getUTCDate())+"T"+c(n.getUTCHours())+":"+c(n.getUTCMinutes())+":"+c(n.getUTCSeconds())+'Z"':"null";case"[object Array]":for(var t=e,i=t.length,s=[],r=0;r<i;r++)s.push(u(r,t)||"null");return"["+s.join(",")+"]"}var n,o,a,l=e,d=[];for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(a=u(o,l))&&d.push(h(o)+":"+a);return"{"+d.join(",")+"}"}function u(e,t){var t=t[e],i=typeof t;if(t&&"object"==typeof t&&"function"==typeof t.toJSON&&(i=typeof(t=t.toJSON(e))),/(number|float|int|integer|string|boolean)/.test(i)||!t&&"object"===i){var s=t;switch(i){case"string":return h(s);case"number":case"float":case"integer":case"int":return isFinite(s)?s:"null";case"boolean":return s}return"null"}return r(t)}function s(){var i=this;this.prepareData=function(e,t){return t&&(t=i.getFormat(t),e=i.formatData(e,t.type,t.formatString,t.localization)),e};var t,s,r,n=[],o=0;this.beginFile=function(){s=[]},this.beginHeader=function(){},this.appendHeaderCell=function(e){},this.endHeader=function(){},this.beginBody=function(e,t){},this.beginRow=function(){(this||window.jqx).hierarchy||window.jqx.hierarchy?n[o]={}:r={}},this.beginRows=function(){n[o].rows=[],n[++o]={}},this.endRows=function(){o--},this.appendBodyCell=function(e,t){var i=(i=this)||window.jqx,e=this.prepareData(e,t);i.hierarchy||window.jqx.hierarchy?n[o][t.text]=e:r[t.text]=e},this.endRow=function(){(this||window.jqx).hierarchy||window.jqx.hierarchy?(0==o?s:n[o-1].rows).push(n[o]):s.push(r)},this.endBody=function(){},this.endFile=function(){var e;e=s,t=window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(e):u("",{"":e})},this.getFile=function(){return t}}s.prototype=new e.jqx.dataAdapter.DataExportModuleBase,e.jqx.dataAdapter.ArrayExporter.extend("json",new s)}(jqxBaseFramework),window.jqxPdfDataExport=function(){"undefined"==typeof btoa&&(window.btoa=function(e){for(var t,i,s,r,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),o=0,a=0,l="",d=[];s=e.charCodeAt(o++),t=e.charCodeAt(o++),i=e.charCodeAt(o++),d[a++]=n[(s=s<<16|t<<8|i)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s],o<e.length;);return l=d.join(""),((r=e.length%3)?l.slice(0,r-3):l)+"===".slice(r||3)}),"undefined"==typeof atob&&(window.atob=function(e){var t,i,s,r,n,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=0,l=0,d=[];if(!e)return e;for(e+="";t=(n=o.indexOf(e.charAt(a++))<<18|o.indexOf(e.charAt(a++))<<12|(s=o.indexOf(e.charAt(a++)))<<6|(r=o.indexOf(e.charAt(a++))))>>16&255,i=n>>8&255,n=255&n,d[l++]=64===s?String.fromCharCode(t):64===r?String.fromCharCode(t,i):String.fromCharCode(t,i,n),a<e.length;);return d.join("")});function me(e){this.topics={},this.context=e,this.publish=function(e,t){if(this.topics[e]){function i(){}var s,r,n,o,a=this.topics[e],l=[];for(t=Array.prototype.slice.call(arguments,1),r=0,n=a.length;r<n;r++)s=(o=a[r])[0],o[1]&&(o[0]=i,l.push(r)),s.apply(this.context,t);for(r=0,n=l.length;r<n;r++)a.splice(l[r],1)}},this.subscribe=function(e,t,i){return this.topics[e]?this.topics[e].push([t,i]):this.topics[e]=[[t,i]],{topic:e,callback:t}},this.unsubscribe=function(e){if(this.topics[e.topic])for(var t=this.topics[e.topic],i=0,s=t.length;i<s;i++)t[i][0]===e.callback&&t.splice(i,1)}}var ge="function"==typeof Object.keys?function(e){return Object.keys(e).length}:function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i};function fe(e,t,i,s){e=void 0===e?"p":e.toString().toLowerCase(),void 0===t&&(t="mm"),void 0===i&&(i="a4"),void 0===s&&"undefined"==typeof zpipe&&(s=!1);function d(e){return e.toFixed(2)}function x(e){return e.toFixed(3)}function r(e){var t=e.toFixed(0);return e<10?"0"+t:t}function z(e){S("stream"),S(e),S("endstream")}function E(){var e,t;for(e in v)v.hasOwnProperty(e)&&((t=v[e]).objectNumber=k(),S("<</BaseFont/"+t.PostScriptName+"/Type/Font"),"string"==typeof t.encoding&&S("/Encoding/"+t.encoding),S("/Subtype/Type1>>"),S("endobj"))}function L(){for(var e in S("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),S("/Font <<"),v)v.hasOwnProperty(e)&&S("/"+e+" "+v[e].objectNumber+" 0 R");S(">>"),S("/XObject <<"),C.publish("putXobjectDict"),S(">>")}function h(e,t){return function(e,t){var i,s,r,n,o,a,l=(t=void 0===t?{}:t).sourceEncoding?l:"Unicode",d=t.outputEncoding;if((t.autoencode||d)&&v[c].metadata&&v[c].metadata[l]&&v[c].metadata[l].encoding&&(l=v[c].metadata[l].encoding,d="string"==typeof(d=!(d=!d&&v[c].encoding?v[c].encoding:d)&&l.codePages?l.codePages[0]:d)?l[d]:d)){for(n=!1,r=[],i=0,s=e.length;i<s;i++)(o=d[e.charCodeAt(i)])?r.push(String.fromCharCode(o)):r.push(e[i]),r[i].charCodeAt(0)>>8&&(n=!0);e=r.join("")}for(i=e.length;void 0===n&&0!==i;)e.charCodeAt(i-1)>>8&&(n=!0),i--;if(n){for(r=t.noBOM?[]:[254,255],i=0,s=e.length;i<s;i++){if((a=(o=e.charCodeAt(i))>>8)>>8)throw new Error("Character at position "+i.toString(10)+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");r.push(a),r.push(o-(a<<8))}return String.fromCharCode.apply(void 0,r)}return e}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")}function N(){g=!0,X[++p]=[],S(d(.200025*b)+" w"),S("0 G"),0!==$&&S($.toString(10)+" J"),0!==Z&&S(Z.toString(10)+" j"),C.publish("addPage",{pageNumber:p})}function O(e,t){var i;void 0===e&&(e=v[c].fontName),void 0===t&&(t=v[c].fontStyle);try{i=_[e][t]}catch(e){i=void 0}if(i)return i;throw new Error("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts.")}function a(){g=!1,G=[],f=[],S("%PDF-"+Y),Q(),ee(),k(),S("<<"),ie(),S(">>"),S("endobj"),k(),S("<<"),se(),S(">>"),S("endobj");var e,t=u;for(S("xref"),S("0 "+(m+1)),S("0000000000 65535 f "),e=1;e<=m;e++)S(J(f[e])+" 00000 n ");return S("trailer"),S("<<"),re(),S(">>"),S("startxref"),S(t),S("%%EOF"),g=!0,G.join("\n")}function y(e){var t="S";return"F"===e?t="f":"FD"!==e&&"DF"!==e||(t="B"),t}function R(e,t){var i,s,r,n,o;switch(e){case void 0:return a();case"save":if(navigator.getUserMedia){if(void 0===window.URL)return T.output("dataurlnewwindow");if(void 0===window.URL.createObjectURL)return T.output("dataurlnewwindow")}for(s=(i=a()).length,r=new Uint8Array(new ArrayBuffer(s)),n=0;n<s;n++)r[n]=i.charCodeAt(n);o=new Blob([r],{type:"application/pdf"}),saveAs(o,t);break;case"datauristring":case"dataurlstring":return"data:application/pdf;base64,"+btoa(a());case"datauri":case"dataurl":document.location.href="data:application/pdf;base64,"+btoa(a());break;case"dataurlnewwindow":window.open("data:application/pdf;base64,"+btoa(a()));break;default:throw new Error('Output type "'+e+'" is not supported.')}}var c,w,o,b,n,F,W,V,l=i.toString().toLowerCase(),G=[],u=0,U=s,Y="1.3",s={a3:[841.89,1190.55],a4:[595.28,841.89],a5:[420.94,595.28],letter:[612,792],legal:[612,1008]},K="0 g",p=0,X=[],m=2,g=!1,f=[],v={},_={},q=16,j={title:"",subject:"",author:"",keywords:"",creator:""},$=0,Z=0,T={},C=new me(T),J=function(e){e=e.toFixed(0);return e.length<10?new Array(11-e.length).join("0")+e:e},S=function(e){g?X[p].push(e):(G.push(e),u+=e.length+1)},k=function(){return f[++m]=u,S(m+" 0 obj"),m},Q=function(){var e,t,i,s,r,n;for(F=o*b,W=w*b,e=1;e<=p;e++){if(k(),S("<</Type /Page"),S("/Parent 1 0 R"),S("/Resources 2 0 R"),S("/Contents "+(m+1)+" 0 R>>"),S("endobj"),t=X[e].join("\n"),k(),U){for(i=[],s=0;s<t.length;++s)i[s]=t.charCodeAt(s);for(s in n=adler32cs.from(t),(r=new Deflater(6)).append(new Uint8Array(i)),t=r.flush(),i=[new Uint8Array([120,156]),new Uint8Array(t),new Uint8Array([255&n,n>>8&255,n>>16&255,n>>24&255])],t="",i)i.hasOwnProperty(s)&&(t+=String.fromCharCode.apply(null,i[s]));S("<</Length "+t.length+" /Filter [/FlateDecode]>>")}else S("<</Length "+t.length+">>");z(t),S("endobj")}for(f[1]=u,S("1 0 obj"),S("<</Type /Pages"),V="/Kids [",s=0;s<p;s++)V+=3+2*s+" 0 R ";S(V+"]"),S("/Count "+p),S("/MediaBox [0 0 "+d(F)+" "+d(W)+"]"),S(">>"),S("endobj")},ee=function(){E(),C.publish("putResources"),f[2]=u,S("2 0 obj"),S("<<"),L(),S(">>"),S("endobj"),C.publish("postPutResources")},te=function(e,t,i){void 0===_[t]&&(_[t]={}),_[t][i]=e},ie=function(){S("/Producer (pdfDataExport 0.9.0rc2)"),j.title&&S("/Title ("+h(j.title)+")"),j.subject&&S("/Subject ("+h(j.subject)+")"),j.author&&S("/Author ("+h(j.author)+")"),j.keywords&&S("/Keywords ("+h(j.keywords)+")"),j.creator&&S("/Creator ("+h(j.creator)+")");var e=new Date;S("/CreationDate (D:"+[e.getFullYear(),r(e.getMonth()+1),r(e.getDate()),r(e.getHours()),r(e.getMinutes()),r(e.getSeconds())].join("")+")")},se=function(){S("/Type /Catalog"),S("/Pages 1 0 R"),S("/OpenAction [3 0 R /FitH null]"),S("/PageLayout /OneColumn"),C.publish("putCatalog")},re=function(){S("/Size "+(m+1)),S("/Root "+m+" 0 R"),S("/Info "+(m-1)+" 0 R")};if("pt"===t)b=1;else if("mm"===t)b=72/25.4;else if("cm"===t)b=72/2.54;else{if("in"!==t)throw"Invalid unit: "+t;b=72}if(s.hasOwnProperty(l))w=s[l][1]/b,o=s[l][0]/b;else try{w=i[1],o=i[0]}catch(e){throw"Invalid format: "+i}if("p"===e||"portrait"===e)e="p",w<o&&(M=o,o=w,w=M);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",o<w&&(M=o,o=w,w=M)}T.internal={pdfEscape:h,getStyle:y,getFont:function(){return v[O.apply(T,arguments)]},getFontSize:function(){return q},btoa:btoa,write:function(e,t,i,s){S(1===arguments.length?e:Array.prototype.join.call(arguments," "))},getCoordinateString:function(e){return d(e*b)},getVerticalCoordinateString:function(e){return d((w-e)*b)},collections:{},newObject:k,putStream:z,events:C,scaleFactor:b,pageSize:{width:o,height:w},output:R},T.addPage=function(){return N(),this};function ne(e,t){for(var i,s=["FEFF"],r=0,n=e.length;r<n;++r)i=e.charCodeAt(r).toString(16).toUpperCase(),s.push(oe[4-i.length],i);return s.join("")}var oe=["","0","00","000","0000"];for(n in T.text16=function(e,t,i,s){var r,n,o,a,l;if("number"==typeof e&&(r=e,n=t,e=i,t=r,i=n),"string"==typeof e&&e.match(/[\n\r]/)&&(e=e.split(/\r\n|\r|\n/g)),void 0===s?s={noBOM:!0,autoencode:!0}:(void 0===s.noBOM&&(s.noBOM=!0),void 0===s.autoencode&&(s.autoencode=!0)),s.autoencode=!1,"string"==typeof e)a=ne(e);else{if(!(e instanceof Array))throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');for(l=(o=e.concat()).length-1;-1!==l;l--)o[l]=ne(o[l]);a=o.join("> Tj\nT* <")}return S("BT\n/"+c+" "+q+" Tf\n"+q+" TL\n"+K+"\n"+d(t*b)+" "+d((w-i)*b)+" Td\n<"+a+"> Tj\nET"),this},T.text=function(e,t,i,s){var r,n,o,a,l;if("number"==typeof e&&(r=e,n=t,e=i,t=r,i=n),"string"==typeof e&&e.match(/[\n\r]/)&&(e=e.split(/\r\n|\r|\n/g)),void 0===s?s={noBOM:!0,autoencode:!0}:(void 0===s.noBOM&&(s.noBOM=!0),void 0===s.autoencode&&(s.autoencode=!0)),"string"==typeof e)a=h(e,s);else{if(!(e instanceof Array))throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');for(l=(o=e.concat()).length-1;-1!==l;l--)o[l]=h(o[l],s);a=o.join(") Tj\nT* (")}return S("BT\n/"+c+" "+q+" Tf\n"+q+" TL\n"+K+"\n"+d(t*b)+" "+d((w-i)*b)+" Td\n("+a+") Tj\nET"),this},T.line=function(e,t,i,s){return S(d(e*b)+" "+d((w-t)*b)+" m "+d(i*b)+" "+d((w-s)*b)+" l S"),this},T.lines=function(e,t,i,s,r){var n,o,a,l,d,h,c,u,p,m,g,f,v;for("number"==typeof e&&(n=e,o=t,e=i,t=n,i=o),r=y(r),s=void 0===s?[1,1]:s,S(x(t*b)+" "+x((w-i)*b)+" m "),a=s[0],l=s[1],h=e.length,f=t,v=i,d=0;d<h;d++)2===(c=e[d]).length?(f=c[0]*a+f,v=c[1]*l+v,S(x(f*b)+" "+x((w-v)*b)+" l")):(u=c[0]*a+f,p=c[1]*l+v,m=c[2]*a+f,g=c[3]*l+v,f=c[4]*a+f,v=c[5]*l+v,S(x(u*b)+" "+x((w-p)*b)+" "+x(m*b)+" "+x((w-g)*b)+" "+x(f*b)+" "+x((w-v)*b)+" c"));return S(r),this},T.rect=function(e,t,i,s,r){r=y(r);return S([d(e*b),d((w-t)*b),d(i*b),d(-s*b),"re",r].join(" ")),this},T.triangle=function(e,t,i,s,r,n,o){return this.lines([[i-e,s-t],[r-i,n-s],[e-r,t-n]],e,t,[1,1],o),this},T.roundedRect=function(e,t,i,s,r,n,o){var a=4/3*(Math.SQRT2-1);return this.lines([[i-2*r,0],[r*a,0,r,n-n*a,r,n],[0,s-2*n],[0,n*a,-r*a,n,-r,n],[2*r-i,0],[-r*a,0,-r,-n*a,-r,-n],[0,2*n-s],[0,-n*a,r*a,-n,r,-n]],e+r,t,[1,1],o),this},T.ellipse=function(e,t,i,s,r){var r=y(r),n=4/3*(Math.SQRT2-1)*i,o=4/3*(Math.SQRT2-1)*s;return S([d((e+i)*b),d((w-t)*b),"m",d((e+i)*b),d((w-(t-o))*b),d((e+n)*b),d((w-(t-s))*b),d(e*b),d((w-(t-s))*b),"c"].join(" ")),S([d((e-n)*b),d((w-(t-s))*b),d((e-i)*b),d((w-(t-o))*b),d((e-i)*b),d((w-t)*b),"c"].join(" ")),S([d((e-i)*b),d((w-(t+o))*b),d((e-n)*b),d((w-(t+s))*b),d(e*b),d((w-(t+s))*b),"c"].join(" ")),S([d((e+n)*b),d((w-(t+s))*b),d((e+i)*b),d((w-(t+o))*b),d((e+i)*b),d((w-t)*b),"c",r].join(" ")),this},T.circle=function(e,t,i,s){return this.ellipse(e,t,i,i,s)},T.setProperties=function(e){for(var t in j)j.hasOwnProperty(t)&&e[t]&&(j[t]=e[t]);return this},T.setFontSize=function(e){return q=e,this},T.setFont=function(e,t){return c=O(e,t),this},T.setFontStyle=T.setFontType=function(e){return c=O(void 0,e),this},T.getFontList=function(){var e,t,i,s={};for(e in _)if(_.hasOwnProperty(e))for(t in s[e]=i=[],_[e])_[e].hasOwnProperty(t)&&i.push(t);return s},T.setLineWidth=function(e){return S((e*b).toFixed(2)+" w"),this},T.setDrawColor=function(e,t,i,s){e=void 0===t||void 0===s&&e===t===i?"string"==typeof e?e+" G":d(e/255)+" G":(void 0===s?"string"==typeof e?[e,t,i,"RG"]:[d(e/255),d(t/255),d(i/255),"RG"]:"string"==typeof e?[e,t,i,s,"K"]:[d(e),d(t),d(i),d(s),"K"]).join(" ");return S(e),this},T.setFillColor=function(e,t,i,s){e=void 0===t||void 0===s&&e===t===i?"string"==typeof e?e+" g":d(e/255)+" g":(void 0===s?"string"==typeof e?[e,t,i,"rg"]:[d(e/255),d(t/255),d(i/255),"rg"]:"string"==typeof e?[e,t,i,s,"k"]:[d(e),d(t),d(i),d(s),"k"]).join(" ");return S(e),this},T.setTextColor=function(e,t,i){return K=0===e&&0===t&&0===i||void 0===t?x(e/255)+" g":[x(e/255),x(t/255),x(i/255),"rg"].join(" "),this},T.CapJoinStyles={0:0,butt:0,but:0,bevel:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,milter:2},T.setLineCap=function(e){var t=this.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return S(($=t).toString(10)+" J"),this},T.setLineJoin=function(e){var t=this.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return S((Z=t).toString(10)+" j"),this},T.output=R,T.save=function(e){T.output("save",e)},fe.API)if(fe.API.hasOwnProperty(n))if("events"===n&&fe.API.events.length){D=I=ae=void 0;for(var ae,I,le=C,de=fe.API.events,D=de.length-1;-1!==D;D--)ae=de[D][0],I=de[D][1],le.subscribe.apply(le,[ae].concat("function"==typeof I?[I]:I))}else T[n]=fe.API[n];for(var he,P,ce,ue,A,t="helvetica",s="times",l="courier",i="normal",e="italic",M="bolditalic",H=[["Helvetica",t,i],["Helvetica-Bold",t,"bold"],["Helvetica-Oblique",t,e],["Helvetica-BoldOblique",t,M],["Courier",l,i],["Courier-Bold",l,"bold"],["Courier-Oblique",l,e],["Courier-BoldOblique",l,M],["Times-Roman",s,i],["Times-Bold",s,"bold"],["Times-Italic",s,e],["Times-BoldItalic",s,M]],B=0,pe=H.length;B<pe;B++)he=H[B][0],P=H[B][1],ce=H[B][2],ue="StandardEncoding",A=void 0,A="F"+(ge(v)+1).toString(10),he=v[A]={id:A,PostScriptName:he,fontName:P,fontStyle:ce,encoding:ue,metadata:{}},te(A,P,ce),C.publish("addFont",he),ue=A,P=H[B][0].split("-"),te(ue,P[0],P[1]||"");return C.publish("addFonts",{fonts:v,dictionary:_}),c="F1",N(),C.publish("initialized"),T}return fe.API={events:[]},fe}()),saveAs=(!function(x){function l(e,t,i,s,r){u={x:e,y:t,w:i,h:s,ln:r}}function d(e){c=e}var s,r,n,h=0,c=0,u={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},p=1,m=!1;x.getTextDimensions=function(e){s=this.internal.getFont().fontName,r=this.internal.getFontSize(),n=this.internal.getFont().fontStyle;var t=19.049976/25.4,i=document.createElement("font");return i.id="pdfDataExportCell",i.style.fontStyle=n,i.style.fontName=s,i.style.fontSize=r+"pt",i.innerHTML=e,document.body.appendChild(i),e={w:(i.offsetWidth+1)*t,h:(i.offsetHeight+1)*t},document.body.removeChild(i),e},x.cellAddPage=function(){this.addPage(),l(void 0,void 0,void 0,void 0,void 0),m=!0,p+=1,d(1)},x.cellInitialize=function(){u={x:void(h=0),y:void 0,w:void 0,h:void 0,ln:void 0},m=!(p=1),d(0)},x.cell=function(e,t,i,s,r,n){this.lnMod=void 0===this.lnMod?0:this.lnMod,!0!==this.printingHeaderRow&&0!==this.lnMod&&(n+=this.lnMod),(n*s+t+2*s)/p>=this.internal.pageSize.height&&1===p&&!m?(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&(this.printHeaderRow(n),this.lnMod+=1,n+=1),0===h&&(o=Math.round((this.internal.pageSize.height-2*s)/s),h=o)):m&&u.ln!==n&&c===h&&(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&(this.printHeaderRow(n),this.lnMod+=1,n+=1));var o=u,a=(this.getTextDimensions(r),1);return void 0!==o.x&&o.ln===n&&(e=o.x+o.w),void 0!==o.y&&o.y===t&&(t=o.y),void 0!==o.h&&o.h===s&&(s=o.h),void 0!==o.ln&&o.ln===n&&(n=o.ln,a=0),m?t=s*(c+a):t+=s*Math.abs(h*p-n-h),this.rect(e,t,i,s),/[Ð°-ÑÐ-Ð¯ÐÑ]/.test(r)?this.text16(r,e+3,t+s-3):this.text(r,e+3,t+s-3),d(c+a),l(e,t,i,s,n),this},x.getKeys="function"==typeof Object.keys?function(e){return e?Object.keys(e):[]}:function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t);return i},x.arrayMax=function(e,t){for(var i,s=e[0],r=0,n=e.length;r<n;r+=1)i=e[r],t?-1===t(s,i)&&(s=i):s<i&&(s=i);return s},x.table=function(e,t,i){var s,r,n,o,a,l,d,h,c,u=[],p=[],m={},g={},f=[],v=[];if(this.lnMod=0,i&&(i.autoSize,this.printHeaders=i.printHeaders||!0,i.autoStretch),!e)throw"No data for PDF table";if(null==t)u=this.getKeys(e[0]);else if(t[0]&&"string"!=typeof t[0])for(r=0,n=t.length;r<n;r+=1)s=t[r],u.push(s.name),p.push(s.prompt);else u=t;if(i.autoSize)for(c=function(e){return e[s]},r=0,n=u.length;r<n;r+=1){for(m[s=u[r]]=e.map(c),f.push(this.getTextDimensions(p[r]||s).w),l=0,n=(a=m[s]).length;l<n;l+=1)o=a[l],f.push(this.getTextDimensions(o).w);g[s]=x.arrayMax(f)}if(i.printHeaders){for(r=0,n=u.length;r<n;r+=1)s=u[r],v.push([10,10,g[s],25,String(p.length?p[r]:s)]);this.setTableHeaderRow(v),this.printHeaderRow(1)}for(r=0,n=e.length;r<n;r+=1)for(d=e[r],l=0,h=u.length;l<h;l+=1)s=u[l],this.cell(10,10,g[s],25,String(d[s]),r+2);return this},x.setTableHeaderRow=function(e){this.tableHeaderRow=e},x.printHeaderRow=function(e){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var t,i,s;for(this.printingHeaderRow=!0,i=0,s=this.tableHeaderRow.length;i<s;i+=1)t=this.tableHeaderRow[i],t=[].concat(t),this.cell.apply(this,t.concat(e));this.printingHeaderRow=!1}}(pdfDataExport.API),!function(e){function f(e){for(var t=e.length,i=0;t;)i+=e[--t];return i}var v=e.getCharWidthsArray=function(e,t){for(var i,s=(t=t||{}).widths||this.internal.getFont().metadata.Unicode.widths,r=s.fof||1,n=t.kerning||this.internal.getFont().metadata.Unicode.kerning,o=n.fof||1,a=0,l=s[0]||r,d=[],h=0,c=e.length;h<c;h++)i=e.charCodeAt(h),d.push((s[i]||l)/r+(n[i]&&n[i][a]||0)/o),a=i;return d};e.getStringUnitWidth=function(e,t){return f(v.call(this,e,t))};e.splitTextToSize=function(e,t,i){var s=(i=i||{}).fontSize||this.internal.getFontSize(),r=function(e){var t={0:1},i={};if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var e=this.internal.getFont(e.fontName,e.fontStyle),s="Unicode";return e.metadata[s]?{widths:e.metadata[s].widths||t,kerning:e.metadata[s].kerning||i}:{widths:t,kerning:i}}.call(this,i),n=e.match(/[\n\r]/)?e.split(/\r\n|\r|\n/g):[e],o=+this.internal.scaleFactor*t/s;r.textIndent=i.textIndent?+i.textIndent*this.internal.scaleFactor/s:0;for(var a=[],l=0,d=n.length;l<d;l++)a=a.concat(function(e,t,i){for(var s,r,n,o=v(" ",i=i||{})[0],a=e.split(" "),l=[],d=[l],h=i.textIndent||0,c=0,u=0,p=0,m=a.length;p<m;p++)if(s=a[p],r=v(s,i),t<h+c+(u=f(r))){if(t<u){for(n=function(e,t,i,s){for(var r=[],n=0,o=e.length,a=0;n!==o&&a+t[n]<i;)a+=t[n],n++;r.push(e.slice(0,n));for(var l=n,a=0;n!==o;)a+t[n]>s&&(r.push(e.slice(l,n)),a=0,l=n),a+=t[n],n++;return l!==n&&r.push(e.slice(l,n)),r}(s,r,t-(h+c),t),l.push(n.shift()),l=[n.pop()];n.length;)d.push([n.shift()]);u=f(r.slice(s.length-l[0].length))}else l=[s];d.push(l),h=u,c=o}else l.push(s),h+=c+u,c=o;var g=[];for(p=0,m=d.length;p<m;p++)g.push(d[p].join(" "));return g}(n[l],o,r));return a}}(pdfDataExport.API),!function(e){function i(e){var t=this.internal.newObject(),i=this.internal.write,s=this.internal.putStream;if(e.n=t,i("<</Type /XObject"),i("/Subtype /Image"),i("/Width "+e.w),i("/Height "+e.h),"Indexed"===e.cs?i("/ColorSpace [/Indexed /DeviceRGB "+(e.pal.length/3-1)+" "+(t+1)+" 0 R]"):(i("/ColorSpace /"+e.cs),"DeviceCMYK"===e.cs&&i("/Decode [1 0 1 0 1 0 1 0]")),i("/BitsPerComponent "+e.bpc),"f"in e&&i("/Filter /"+e.f),"dp"in e&&i("/DecodeParms <<"+e.dp+">>"),"trns"in e&&e.trns.constructor==Array)for(var r="",n=0;n<e.trns.length;n++)i("/Mask ["+(r+=e[r][n]+" "+e.trns[n]+" ")+"]");"smask"in e&&i("/SMask "+(t+1)+" 0 R"),i("/Length "+e.data.length+">>"),s(e.data),i("endobj")}function h(){var e,t=this.internal.collections[u+"images"];for(e in t)i.call(this,t[e])}function c(){var e,t,i=this.internal.collections[u+"images"],s=this.internal.write;for(t in i)s("/I"+(e=i[t]).i,e.n,"0","R")}var u="addImage_";e.addImage=function(e,t,i,s,r,n){if("object"==typeof e&&1===e.nodeType){var o=document.createElement("canvas"),a=(o.width=e.clientWidth,o.height=e.clientHeight,o.getContext("2d"));if(!a)throw"addImage requires canvas to be supported by browser.";a.drawImage(e,0,0,o.width,o.height),e=o.toDataURL("image/jpeg"),t="JPEG"}if("JPEG"!==t.toUpperCase())throw new Error("addImage currently only supports format 'JPEG', not '"+t+"'");var l,a=this.internal.collections[u+"images"],o=this.internal.getCoordinateString,t=this.internal.getVerticalCoordinateString,d=("data:image/jpeg;base64,"===e.substring(0,23)&&(e=atob(e.replace("data:image/jpeg;base64,",""))),a?l=Object.keys?Object.keys(a).length:function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i}(a):(l=0,this.internal.collections[u+"images"]=a={},this.internal.events.subscribe("putResources",h),this.internal.events.subscribe("putXobjectDict",c)),function(e){var t;if(255===!e.charCodeAt(0)||216===!e.charCodeAt(1)||255===!e.charCodeAt(2)||224===!e.charCodeAt(3)||!e.charCodeAt(6)==="J".charCodeAt(0)||!e.charCodeAt(7)==="F".charCodeAt(0)||!e.charCodeAt(8)==="I".charCodeAt(0)||!e.charCodeAt(9)==="F".charCodeAt(0)||0===!e.charCodeAt(10))throw new Error("getJpegSize requires a binary jpeg file");for(var i=256*e.charCodeAt(4)+e.charCodeAt(5),s=4,r=e.length;s<r;){if(s+=i,255!==e.charCodeAt(s))throw new Error("getJpegSize could not find the size of the image");if(192===e.charCodeAt(s+1))return t=256*e.charCodeAt(s+5)+e.charCodeAt(s+6),[256*e.charCodeAt(s+7)+e.charCodeAt(s+8),t];s+=2,i=256*e.charCodeAt(s)+e.charCodeAt(s+1)}}(e)),d={w:d[0],h:d[1],cs:"DeviceRGB",bpc:8,f:"DCTDecode",i:l,data:e};return a[l]=d,r||n||(n=r=-96),r<0&&(r=-1*d.w*72/r/this.internal.scaleFactor),n<0&&(n=-1*d.h*72/n/this.internal.scaleFactor),0===r&&(r=n*d.w/d.h),0===n&&(n=r*d.h/d.w),this.internal.write("q",o(r),"0 0",o(n),o(i),t(s+n),"cm /I"+d.i,"Do Q"),this}}(pdfDataExport.API),!function(e){function t(e){for(var t="klmnopqrstuvwxyz",i={},s=0;s<t.length;s++)i[t[s]]="0123456789abcdef"[s];for(var r,n,o,a,l,d={},h=1,c=d,u=[],p="",m="",g=e.length-1,s=1;s!=g;)l=e[s],s+=1,"'"==l?n=n?(a=n.join(""),r):[]:n?n.push(l):"{"==l?(u.push([c,a]),c={},a=r):"}"==l?((o=u.pop())[0][o[1]]=c,a=r,c=o[0]):"-"==l?h=-1:a===r?i.hasOwnProperty(l)?(p+=i[l],a=parseInt(p,16)*h,h=1,p=""):p+=l:i.hasOwnProperty(l)?(m+=i[l],c[a]=parseInt(m,16)*h,h=1,a=r,m=""):m+=l;return d}var i={codePages:["WinAnsiEncoding"],WinAnsiEncoding:t("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},o={Unicode:{Courier:i,"Courier-Bold":i,"Courier-BoldOblique":i,"Courier-Oblique":i,Helvetica:i,"Helvetica-Bold":i,"Helvetica-BoldOblique":i,"Helvetica-Oblique":i,"Times-Roman":i,"Times-Bold":i,"Times-BoldItalic":i,"Times-Italic":i}},a={Unicode:{"Courier-Oblique":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":t("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":t("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":t("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Helvetica:t("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":t("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),"Courier-Bold":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":t("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":t("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":t("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFonts",function(e){var t,i,s,r,n="Unicode";for(i in e.fonts)e.fonts.hasOwnProperty(i)&&(t=e.fonts[i],(r=a[n][t.PostScriptName])&&((s=t.metadata[n]||(t.metadata[n]={})).widths=r.widths,s.kerning=r.kerning),(r=o[n][t.PostScriptName])&&((s=t.metadata[n]||(t.metadata[n]={})).encoding=r).codePages&&r.codePages.length&&(t.encoding=r.codePages[0]))}])}(pdfDataExport.API),window.jqxSaveAs=saveAs||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(m){function g(e,t,i){for(var s=(t=[].concat(t)).length;s--;){var r=e["on"+t[s]];if("function"==typeof r)try{r.call(e,i||e)}catch(e){n(e)}}}function i(s,i){function r(){!h&&e||(e=c(s)),o&&(o.location.href=e),l.readyState=l.DONE,u()}function n(e){return function(){if(l.readyState!==l.DONE)return e.apply(this,arguments)}}var e,o,t,a,l=this,d=s.type,h=!1,c=function(){var e=(m.URL||m.webkitURL||m).createObjectURL(s);return q.push(e),e},u=function(){g(l,"writestart progress write writeend".split(" "))},p={create:!0,exclusive:!1};if(l.readyState=l.INIT,i=i||"download",x&&(e=c(s),v.href=e,v.download=i,t=v,(a=f.createEvent("MouseEvents")).initMouseEvent("click",!0,!1,m,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(a)))return l.readyState=l.DONE,void u();m.chrome&&d&&d!==b&&(t=s.slice||s.webkitSlice,s=t.call(s,0,s.size,b),h=!0),y&&"download"!==i&&(i+=".download"),o=d===b||y?m:m.open(),w?(_+=s.size,w(m.TEMPORARY,_,n(function(e){e.root.getDirectory("saved",p,n(function(e){function t(){e.getFile(i,p,n(function(i){i.createWriter(n(function(t){t.onwriteend=function(e){o.location.href=i.toURL(),q.push(i),l.readyState=l.DONE,g(l,"writeend",e)},t.onerror=function(){var e=t.error;e.code!==e.ABORT_ERR&&r()},"writestart progress write abort".split(" ").forEach(function(e){t["on"+e]=l["on"+e]}),t.write(s),l.abort=function(){t.abort(),l.readyState=l.DONE},l.readyState=l.WRITING}),r)}),r)}e.getFile(i,{create:!1},n(function(e){e.remove(),t()}),n(function(e){(e.code===e.NOT_FOUND_ERR?t:r)()}))}),r)}),r)):r()}var f=m.document,s=m.URL||m.webkitURL||m,v=$("<a></a>")[0],x="download"in v,y=m.webkitRequestFileSystem,w=m.requestFileSystem||y||m.mozRequestFileSystem,n=function(e){(m.setImmediate||m.setTimeout)(function(){throw e},0)},b="application/octet-stream",_=0,q=[],e=i.prototype;return e.abort=function(){this.readyState=this.DONE,g(this,"abort")},e.readyState=e.INIT=0,e.WRITING=1,e.DONE=2,e.error=e.onwritestart=e.onprogress=e.onwrite=e.onabort=e.onerror=e.onwriteend=null,m.addEventListener&&m.addEventListener("unload",function(){for(var e=q.length;e--;){var t=q[e];"string"==typeof t?s.revokeObjectURL(t):t.remove()}q.length=0},!1),function(e,t){return new i(e,t)}}(self));function _typeof(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _get(e,t,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var e=_superPropBase(e,t);if(e)return e=Object.getOwnPropertyDescriptor(e,t),e.get?e.get.call(i):e.value})(e,t,i||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _createSuper(i){var s=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(i);return _possibleConstructorReturn(this,s?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(e){var i="function"==typeof Map?new Map:void 0;return(b=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(e))return i.get(e);i.set(e,t)}function t(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(t,e)})(e)}function _construct(e,t,i){return(a=_isNativeReflectConstruct()?Reflect.construct:function(e,t,i){var s=[null];s.push.apply(s,t);t=new(Function.bind.apply(e,s));return i&&_setPrototypeOf(t,i.prototype),t}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _setPrototypeOf(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _getPrototypeOf(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e){e.output=function(e,t){return this.internal.output(e,t)}}(pdfDataExport.API),!function($){$.jqx.jqxWidget("jqxBarGauge","",{}),$.extend($.jqx._jqxBarGauge.prototype,{defineInstance:function(){var e={animationDuration:300,backgroundColor:"#e0e0e0",barSpacing:4,baseValue:null,colorScheme:"scheme01",customColorScheme:null,endAngle:-45,disabled:!1,formatFunction:null,geometry:{startAngle:225,endAngle:-45},height:400,labels:null,min:0,max:100,rendered:null,relativeInnerRadius:.3,startAngle:225,title:null,tooltip:null,values:[],width:400,useGradient:!0,_intervalArray:[],_drawnValues:[],_drawnSlices:[],_titleTemplate:{text:"",font:{color:"#232323",family:"'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana",opacity:1,size:28,weight:100},horizontalAlignment:"center",verticalAlignment:"top",placeholderSize:null,margin:{bottom:0,left:0,right:0,top:0},subtitle:{text:"",font:{color:"#232323",family:"'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana",opacity:1,size:16,weight:100}}},_labelTemplate:{connectorColor:null,connectorWidth:1,formatFunction:function(e){return e},font:{color:null,family:"'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana",size:16,weight:400},indent:20,precision:2,visible:!0},_tooltipTemplate:{classname:"",formatFunction:function(e){return e},visible:!1,precision:0},_colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"],_colorNames:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},_dimensions:{},_ie:$.jqx.browser.msie,_oldIEbrowser:$.jqx.browser.msie&&$.jqx.browser.version<=8,_ie8:$.jqx.browser.msie&&8==$.jqx.browser.version,_ie7:$.jqx.browser.msie&&$.jqx.browser.version<8,_centerX:null,_centerY:null,_coordinatePlane:null,_geometry:{startAngle:-45,baseAngle:-45,fix:0,endAngle:225},_userValues:[],_valuesToDegrees:[],_oldValues:[],_oldValuesToDegrees:[],_temporaryValuesToDegrees:[],_temporaryValues:[],_temporaryOldAngle:[],_valuesLength:0,_oldValuesLength:0,_alignmentIE:null,_title:{},_backgroundColor:"#e0e0e0",_label:{},_tooltip:{},_renderedValues:0,_barWidth:35,_barStartAt:30,_barGaugeSlices:[],_barGaugeBackgroundSlices:[],_barGaugeSlicesStrokeWidth:0,_barGaugeLabelLines:[],_barGaugeLabelText:[],_barGaugeTitle:null,_barGaugeSubTitle:null,_barGaugeTooltip:$("<div></div>"),_measuredText:$("<div class='jqx-bar-gauge-measure-text'></div>"),_measuredTextId:"",renderer:null,_barGaugeRadius:null,_barGaugeFigureRadius:null,_labelPositioningRadius:null,_placeholderSize:50,_rendering:!1,_titleLines:0,_subTitleLines:0,_initialized:!1,_events:["initialized","valueChanged","tooltipOpen","tooltipClose","drawStart","drawEnd"]};return this===$.jqx._jqxBarGauge.prototype||$.extend(!0,this,e),e},createInstance:function(){this._createBarGauge()},_createBarGauge:function(){var e=this;e._getLiquidDimensions(),e._addIEPolyfills(),e._barGaugeTooltip.css({display:"none"}),$(e.host).empty(),e._attachCustomColors(),e.geometry.startAngle=e.startAngle,e.geometry.endAngle=e.endAngle,e._validateGeometry(),e._validateTitle(),e._validateLabel(),e._validateValues(),e._validateTooltip(),e._validateAnimationDuration(),e._transformValuesToAngles(),e._getColorScheme(),0===e.animationDuration||e._ie8||e._ie7?e._drawStaticBarGauge():e._drawDynamicBarGauge(),e._raiseEvent("4"),e._createTooltip(),e._addCSS(),e._ie&&(e._removeBarGaugeTitle(),e._removeBarGaugeSubTitle(),e._drawBarGaugeTitle()),e._addEventHandlers()},_initRenderer:function(e){if($.jqx.createRenderer)return $.jqx.createRenderer(this,e);throw"jqxBarGauge: Please include a reference to jqxdraw.js"},_validateValues:function(){var e,t=this;0===t._userValues.length&&(t._userValues=t.values.slice()),0===t._oldValues.length&&(t._oldValues=t.values.slice()),t._valuesLength=t.values.length;for(var i=0;i<t._valuesLength;i++)t.values[i]=parseFloat(t.values[i]),t.values[i]<t.startValue||isNaN(t.values[i])?t.values[i]=t.startValue:t.values[i]>t.max&&(t.values[i]=t.max),t._drawnValues[i]=!1,t._drawnSlices[i]=!1;t.baseValue<=t.startValue||null===t.baseValue?t.baseValue=t.min:t.baseValue>t.max&&(t.baseValue=t.max),1<=t.relativeInnerRadius?t.relativeInnerRadius=.99:t.relativeInnerRadius<0&&(t.relativeInnerRadius=0),t._calculateBarGaugeRadius(),e=t._valuesLength||1,e=t._barGaugeRadius*(1-t.relativeInnerRadius)/e-.01,t.barSpacing>e&&(t.barSpacing=e),t._backgroundColor=t._validateColor(t.backgroundColor,t._backgroundColor)},_attachCustomColors:function(){var e=this,t=e._colorSchemes.length,i=!1;if(null!==e.customColorScheme&&null!==e.customColorScheme.colors&&null!==e.customColorScheme.name){for(var s=0;s<t;s++)e.customColorScheme.name===e._colorSchemes[s].name&&(e._colorSchemes[s].colors=e.customColorScheme.colors.slice(),i=!0);i||e._colorSchemes.push(e.customColorScheme)}},_getLiquidDimensions:function(){var e=this;$.isEmptyObject(e._dimensions)&&(e._dimensions.width=e.width,e._dimensions.height=e.height),"string"==typeof e._dimensions.width&&-1!==e._dimensions.width.indexOf("%")&&(e.width=parseInt(e._dimensions.width,10)/100*$("#"+e.element.id).parent().width()),"string"==typeof e._dimensions.height&&-1!==e._dimensions.height.indexOf("%")&&(e.height=parseInt(e._dimensions.height,10)/100*$("#"+e.element.id).parent().height())},_getLongestValue:function(){for(var e=this.values.length,t="",i=0,s=0;s<e;s++)this.values[s].toString().length>i&&(i=(t=this.values[s]).toString().length);return t=this._calculatePrecision(this._label.precision,t),t=(t=void 0!==this._label.formatFunction&&null!==this._label.formatFunction&&"function"==typeof this._label.formatFunction?this._label.formatFunction(t):t).toUpperCase()},_validateGeometry:function(){var e=parseFloat(this.geometry.startAngle),t=parseFloat(this.geometry.endAngle);360<=Math.abs(e)&&(e%=360),e<0&&(e=360+e),360<=Math.abs(t)&&(t%=360),t<0&&(t=360+t),this.geometry.startAngle=e,this.geometry.endAngle=t},_validateColor:function(e,t){t=null==e?t:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)?e:/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(e)?"#"+e:void 0!==this._colorNames[e.toLowerCase()]?this._colorNames[e.toLowerCase()]:"transparent";return t},_validateTooltip:function(){var e=this;void 0===e.tooltip||null===e.tooltip||"object"!=typeof e.tooltip?e._tooltip=e._tooltipTemplate:(e._tooltip.visible=!1!==e.tooltip.visible&&(e.tooltip.visible||e._tooltipTemplate.visible),e._tooltip.classname=e.tooltip.classname||e._tooltipTemplate.classname,"function"==typeof e.tooltip.formatFunction?e._tooltip.formatFunction=e.tooltip.formatFunction:e._tooltip.formatFunction=e._tooltipTemplate.formatFunction,null===e.tooltip.precision||void 0===e.tooltip.precision?e._tooltip.precision=e._tooltipTemplate.precision:parseInt(e.tooltip.precision,10)<=0?e._tooltip.precision=0:e._tooltip.precision=parseInt(e.tooltip.precision,10))},_validateTitle:function(){var e,t=this;t._title=t._titleTemplate,t._measuredTextId=t.element.id+"measuredText","string"==typeof t.title?t._title.text=t.title:"number"==typeof t.title?t._title.text=String(t.title):"object"==typeof t.title&&void 0!==t.title&&null!==t.title&&(t._title.text=t.title.text||t._titleTemplate.text,t._title.horizontalAlignment=t.title.horizontalAlignment||t._titleTemplate.horizontalAlignment,t._title.verticalAlignment=t.title.verticalAlignment||t._titleTemplate.verticalAlignment),void 0===t.title||null===t.title||void 0===t.title.font||null===t.title.font?t._title.font=t._titleTemplate.font:(t._title.font.family=t.title.font.family||t._titleTemplate.font.family,t._title.font.opacity=t.title.font.opacity||t._titleTemplate.font.opacity,t._title.font.size=t.title.font.size||t._titleTemplate.font.size,t._title.font.weight=t.title.font.weight||t._titleTemplate.font.weight,(t._ie7||t._ie8)&&100<t._title.font.weight&&(t._title.font.weight="bold"),t._title.font.color=t._validateColor(t.title.font.color,t._titleTemplate.font.color)),void 0===t.title||null===t.title||void 0===t.title.margin||null===t.title.margin?t._title.margin=t._titleTemplate.margin:"object"!=typeof t.title.margin?(e=parseInt(t.title.margin,10),t._title.margin.top=e,t._title.margin.right=e,t._title.margin.bottom=e,t._title.margin.left=e):(t._title.margin.top=0===t.title.margin.top?0:t.title.margin.top||t._titleTemplate.margin.top,t._title.margin.right=0===t.title.margin.right?0:t.title.margin.right||t._titleTemplate.margin.right,t._title.margin.bottom=0===t.title.margin.bottom?0:t.title.margin.bottom||t._titleTemplate.margin.bottom,t._title.margin.left=0===t.title.margin.left?0:t.title.margin.left||t._titleTemplate.margin.left),void 0===t.title||null===t.title||void 0===t.title.subtitle||null===t.title.subtitle?(t._title.subtitle.text=t._titleTemplate.subtitle.text,t._title.subtitle.font=t._titleTemplate.subtitle.font):"object"!=typeof t.title.subtitle?(t._title.subtitle.text=String(t.title.subtitle),t._title.subtitle.font=t._titleTemplate.subtitle.font):void 0===t.title.subtitle.font||null===t.title.subtitle.font?(t._title.subtitle.text=String(t.title.subtitle.text),t._title.subtitle.font=t._titleTemplate.subtitle.font):(t._title.subtitle.text=String(t.title.subtitle.text),t._title.subtitle.font.color=t.title.subtitle.font.color||t._titleTemplate.subtitle.font.color,t._title.subtitle.font.family=t.title.subtitle.font.family||t._titleTemplate.subtitle.font.family,t._title.subtitle.font.opacity=t.title.subtitle.font.opacity||t._titleTemplate.subtitle.font.opacity,t._title.subtitle.font.size=t.title.subtitle.font.size||t._titleTemplate.subtitle.font.size,t._title.subtitle.font.weight=t.title.subtitle.font.weight||t._titleTemplate.subtitle.font.weight,(t._ie7||t._ie8)&&100<t._title.subtitle.font.weight&&(t._title.subtitle.font.weight="bold")),e=""===t._title.text?0:""===t._title.subtitle.text||void 0===t._title.subtitle.text||null===t._title.subtitle.text?(t._titleLines=null!==t._title.text.match(/<br>/g)?t._title.text.match(/<br>/g).length+1:1,t._title.font.size*t._titleLines+t._title.margin.top+t._title.margin.bottom):(t._titleLines=null!==t._title.text.match(/<br>/g)?t._title.text.match(/<br>/g).length+1:1,t._subTitleLines=null!==t._title.subtitle.text.match(/<br>/g)?t._title.text.match(/<br>/g).length+1:1,t._title.font.size*t._titleLines+t._title.subtitle.font.size*t._subTitleLines+t._title.margin.top+t._title.margin.bottom),void 0===t.title||null===t.title||null===t.title.placeholderSize||void 0===t.title.placeholderSize?t._title.placeholderSize=e||.05*t.height:t._title.placeholderSize=t.title.placeholderSize},_validateLabel:function(){var e=this;null===e.labels||void 0===e.labels||"object"!=typeof e.labels?e._label=e._labelTemplate:(e._label.connectorColor=e._validateColor(e.labels.connectorColor,e._labelTemplate.connectorColor),e._label.connectorWidth=e.labels.connectorWidth||e._labelTemplate.connectorWidth,e._label.formatFunction=e.labels.formatFunction||e._labelTemplate.formatFunction,void 0===e.labels.precision||null===e.labels.precision||"number"!=typeof e.labels.precision?e._label.precision=e._labelTemplate.precision:e._label.precision=e.labels.precision,15<e._label.precision?e._label.precision=15:e._label.precision<0&&(e._label.precision=0),void 0===e.labels.visible||null===e.labels.visible?e._label.visible=e._labelTemplate.visible:!1===e.labels.visible?e._label.visible=!1:e._label.visible=!0,"number"!=typeof e.labels.indent&&"string"!=typeof e.labels.indent||e.labels.indent<=0||"number"!=typeof e.labels.indent&&"string"!=typeof e.labels.indent||e.labels.indent<=0?e._label.indent=0:e._label.indent=e.labels.indent,null===e.labels.font||void 0===e.labels.font||"object"!=typeof e.labels.font?e._label.font=e._labelTemplate.font:(e._label.font={},e._label.font.color=e._validateColor(e.labels.font.color,e._labelTemplate.font.color),e._label.font.family=e.labels.font.family||e._labelTemplate.font.family,e._label.font.size=e.labels.font.size||e._labelTemplate.font.size,e._label.font.weight=e.labels.font.weight||e._labelTemplate.font.weight,(e._ie7||e._ie8)&&100<e._label.font.weight&&(e._label.font.weight="bold")))},_validateAnimationDuration:function(){var e=parseInt(this.animationDuration,10),e=0<e?e:0;this._oldIEbrowser?this.animationDuration=0:this.animationDuration=e},_transformValuesToAngles:function(){var e,t,i=this;i._placeholderSize=i._title.placeholderSize||i._placeholderSize,i.geometry.endAngle<i.geometry.startAngle?i._geometry.startAngle=parseFloat(i.geometry.endAngle)%360:i._geometry.startAngle=parseFloat(i.geometry.endAngle)%360-360,i._geometry.endAngle=parseFloat(i.geometry.startAngle)%360,360<(e=i._geometry.endAngle-i._geometry.startAngle)&&(i._geometry.startAngle=i._geometry.startAngle+(e-360)),void 0!==i.baseValue&&null!==i.baseValue&&i.baseValue>=i.min&&i.baseValue<=i.max&&(i._geometry.baseAngle=(i.baseValue-i.min)*(i._geometry.endAngle-i._geometry.startAngle)/(i.max-i.min)+i._geometry.startAngle,i._geometry.fix=i.geometry.startAngle+i.geometry.endAngle-180),e=i._getLongestValue(),e=i._measureText(e,i._label.font.size,i._label.font.family,i._label.font.weight),(t=i._barGaugeRadius-1.2*i._label.indent-1.2*e.height)+e.width+1.2*i._label.indent>i.width/2&&(t=i._barGaugeRadius-1.2*i._label.indent-e.width),!1===i._label.visible&&(t=i._barGaugeRadius),i._barGaugeFigureRadius=t=(t*=.98)<0?0:t,i._barWidth=t*(1-i.relativeInnerRadius)/i._valuesLength-i.barSpacing,i._barStartAt=t*i.relativeInnerRadius,i._labelPositioningRadius=i._barStartAt+i._valuesLength*(i._barWidth+i.barSpacing)-i.barSpacing+i._label.indent;for(var s=0;s<i._valuesLength;s++)i._valuesToDegrees[s]=(i.values[s]-i.min)/(i.max-i.min)*(i._geometry.endAngle-i._geometry.startAngle)+i._geometry.startAngle;$(i.host).width(i.width),$(i.host).height(i.height),i._initialized||(i._initRenderer(i.host),i._initialized=!0)},_measureRadius:function(){var e=this,t=e._getLongestValue(),t=e._measureText(t,e._label.font.size,e._label.font.family,e._label.font.weight),i=e._barGaugeRadius-1.2*e._label.indent-1.2*t.height;i+t.width+1.2*e._label.indent>e.width/2&&(i=e._barGaugeRadius-1.2*e._label.indent-t.width),!1===e._label.visible&&(i=e._barGaugeRadius),e._barWidth=(i=(i*=.98)<0?0:i)*(1-e.relativeInnerRadius)/e._valuesLength-e.barSpacing,e._barStartAt=i*e.relativeInnerRadius,e._labelPositioningRadius=e._barStartAt+e._valuesLength*(e._barWidth+e.barSpacing)-e.barSpacing+e._label.indent},_drawEmptyBarGauge:function(){var e=this,t=(e._barStartAt,e._barWidth,""===e._title.text?e._barGaugeRadius:e._barGaugeFigureRadius),i=e.relativeInnerRadius*t;e._barGaugeBackgroundSlices[0]=e.renderer.pieslice(e._centerX,e._centerY,i,t,e._geometry.startAngle,e._geometry.endAngle,0,{fill:e._backgroundColor,stroke:e._backgroundColor,"stroke-width":e._barGaugeSlicesStrokeWidth}),i=e.element.id+"BackgroundSlice0",e.renderer.attr(e._barGaugeBackgroundSlices[0],{id:i}),e.renderer.attr(e._barGaugeBackgroundSlices[0],{class:"jqx-bar-gauge-background-slice"}),e._rendered(),e._oldValuesLength=0,e._oldValues.length=0},_drawBarGaugeLayout:function(){var e,t=this,i=t._barStartAt,s=i+t._barWidth;if(t._barGaugeSlicesStrokeWidth=0,t._centerX=t.width/2,""===t._title.text?t._centerY=t.height/2:"top"===t._title.verticalAlignment?t._centerY=(t.height+t._title.placeholderSize)/2:t._centerY=(t.height-t._title.placeholderSize)/2,0<t._valuesLength)for(var r=0;r<t._valuesLength;r++)t._barGaugeBackgroundSlices[r]=t.renderer.pieslice(t._centerX,t._centerY,i,s,t._geometry.startAngle,t._geometry.endAngle,0,{fill:t._backgroundColor,stroke:t._backgroundColor,"stroke-width":t._barGaugeSlicesStrokeWidth}),e=t.element.id+"BackgroundSlice"+r,t.renderer.attr(t._barGaugeBackgroundSlices[r],{id:e}),t.renderer.attr(t._barGaugeBackgroundSlices[r],{class:"jqx-bar-gauge-background-slice"}),s=(i=s+t.barSpacing)+t._barWidth;else t._drawEmptyBarGauge()},_drawBarGaugeElementsWithBase:function(){for(var e,t,i,s=this,r=180-s._geometry.baseAngle+s._geometry.fix,n=(s._renderedValues=0,i=(t=s._barStartAt)+s._barWidth,[]),o=0;o<s._valuesLength;o++){n[o]=s.baseValue;var a=s._colors[o];s.formatFunction&&(a=s.formatFunction(s.values[o],o,a)),s._ie7||s._ie8?(r=180-s._valuesToDegrees[o]+s._geometry.fix,s._valuesToDegrees[o]>s._geometry.baseAngle?s._barGaugeSlices[o]=s.renderer.pieslice(s._centerX,s._centerY,t,i,180-s._geometry.baseAngle+s._geometry.fix,r,0,{fill:a,stroke:a,"stroke-width":s._barGaugeSlicesStrokeWidth}):s._barGaugeSlices[o]=s.renderer.pieslice(s._centerX,s._centerY,t,i,r,180-s._geometry.baseAngle+s._geometry.fix,0,{fill:a,stroke:a,"stroke-width":s._barGaugeSlicesStrokeWidth}),e=s.element.id+"Slice"+o,s.renderer.attr(s._barGaugeSlices[o],{id:e}),s.renderer.attr(s._barGaugeSlices[o],{class:"jqx-bar-gauge-slice"}),(s._drawnSlices[o]=!0)===s._label.visible&&(s._drawLabelsLine(t,r,o),s._drawLabelsText(r,o)),s._rendered()):(s.useGradient&&(a=s.renderer._toLinearGradient(a,!0,[[0,1.4],[100,1]])),s._barGaugeSlices[o]=s.renderer.pieslice(s._centerX,s._centerY,t,i,r+.01,r,0,{fill:a,stroke:a,"stroke-width":s._barGaugeSlicesStrokeWidth}),e=s.element.id+"Slice"+o,s.renderer.attr(s._barGaugeSlices[o],{id:e}),s.renderer.attr(s._barGaugeSlices[o],{class:"jqx-bar-gauge-slice"}),s._drawnSlices[o]=!0),s.renderer.attr(s._barGaugeSlices[o],{id:s.element.id+"Slice"+o}),s.renderer.attr(s._barGaugeSlices[o],{class:"jqx-bar-gauge-slice"}),i=(t=i+s.barSpacing)+s._barWidth}s._oldValues=n,s._temporaryValues=n.slice(0);for(o=s._oldValuesToDegrees.length=0;o<s.values.length;o++)s._oldValuesToDegrees[o]=s._geometry.baseAngle,s._temporaryValuesToDegrees[o]=s._geometry.baseAngle;s._rendering=!0,s._redrawWithNewValuesArray(s.values,s._oldValues)},_drawBarGaugeElementWithBase:function(gaugeLayerStart,change,amount,changeContition,valueIndex){var that=this,newPieSlicePath,angleStepPercent,angleDiff,valueStep,animation=that._calculateAnimationInterval(valueIndex,!1),gaugeLayerEnd=gaugeLayerStart+that._barWidth,updatedItem=that._barGaugeSlices[valueIndex],updatedAngle=that._valuesToDegrees[valueIndex];function calculateNewPieSlicePath(){newPieSlicePath=-1===amount?$.jqx.commonRenderer.pieSlicePath(that._centerX,that._centerY,gaugeLayerStart,gaugeLayerEnd,change,180-that._geometry.baseAngle+that._geometry.fix,0):$.jqx.commonRenderer.pieSlicePath(that._centerX,that._centerY,gaugeLayerStart,gaugeLayerEnd,180-that._geometry.baseAngle+that._geometry.fix,change,0)}0===that.animationDuration&&(change=180-updatedAngle+that._geometry.fix),angleDiff=Math.abs(that._geometry.baseAngle-updatedAngle),0===angleDiff&&(angleDiff=.01),angleStepPercent=Math.abs(amount/animation.smoothCoef/angleDiff),valueStep=angleStepPercent*Math.abs(that.baseValue-that.values[valueIndex]),isNaN(that._temporaryValues[valueIndex])&&(that._temporaryValues[valueIndex]=that.values[valueIndex]),isNaN(that._temporaryValuesToDegrees[valueIndex])&&(that._temporaryValuesToDegrees[valueIndex]=that._valuesToDegrees[valueIndex]),that._intervalArray[valueIndex]=setInterval(function(){calculateNewPieSlicePath(),eval(changeContition)&&!that.disabled?(that.renderer.attr(updatedItem,{d:newPieSlicePath}),change+=amount/animation.smoothCoef,that._temporaryValuesToDegrees[valueIndex]=(180-change+that._geometry.fix)%360,that._temporaryValues[valueIndex]=that._temporaryValues[valueIndex]+amount*valueStep):(change=180-updatedAngle+that._geometry.fix,that._temporaryValuesToDegrees[valueIndex]=updatedAngle%360,that._temporaryValues[valueIndex]=that.values[valueIndex],calculateNewPieSlicePath(),that.renderer.attr(updatedItem,{d:newPieSlicePath}),clearInterval(that._intervalArray[valueIndex]),that._renderedValues++,that._renderedValues===that.values.length&&that._rendered())},animation.interval/animation.smoothCoef)},_drawStaticBarGaugeElementsWithBase:function(){for(var e=this,t=e._barStartAt,i=t+e._barWidth,s=0;s<e._valuesLength;s++){r=e._valuesToDegrees[s]||e._geometry.baseAngle,e._oldValues[s]=e.values[s]||e.baseValue;var r=180-r+e._geometry.fix,n=e._colors[s];e.useGradient&&(n=e.renderer._toLinearGradient(n,!0,[[0,1.4],[100,1]])),e._valuesToDegrees[s]<e._geometry.baseAngle?e._barGaugeSlices[s]=e.renderer.pieslice(e._centerX,e._centerY,t,i,180-e._geometry.baseAngle+e._geometry.fix,r,0,{fill:n,stroke:n,"stroke-width":e._barGaugeSlicesStrokeWidth}):e._barGaugeSlices[s]=e.renderer.pieslice(e._centerX,e._centerY,t,i,r,180-e._geometry.baseAngle+e._geometry.fix,0,{fill:n,stroke:n,"stroke-width":e._barGaugeSlicesStrokeWidth}),r=e.element.id+"Slice"+s,e.renderer.attr(e._barGaugeSlices[s],{id:r}),e.renderer.attr(e._barGaugeSlices[s],{class:"jqx-bar-gauge-slice"}),e._drawnSlices[s]=!0,i=(t=i+e.barSpacing)+e._barWidth}e._removeLabels(),e._addLabels()},_addLabels:function(e,t,i){var s,r,n,o=this,a=o._barStartAt,l=a+o._barWidth;for(e=e||o._valuesToDegrees,n=0;n<o._valuesLength;n++)r=n,l=(null!=i&&n!==i||(s=180-e[r]+o._geometry.fix,!0===o._label.visible&&!1===o.disabled&&(o._drawLabelsLine(a,s,r),t&&void 0!==t[r]?o._drawLabelsText(s,r,t[r]):o._drawLabelsText(s,r))),(a=l+o.barSpacing)+o._barWidth)},_removeLabels:function(e){for(var t=0;t<this._barGaugeLabelText.length;t++)null!=e&&t!=e||($(this._barGaugeLabelLines[t]).remove(),$(this._barGaugeLabelText[t]).remove(),this._barGaugeLabelLines[t]=null,this._barGaugeLabelText[t]=null)},_removeBarGaugeSlices:function(){this._removeBarGaugeBackgroundSlices(),this._removeBarGaugeForegroundSlices()},_removeBarGaugeBackgroundSlices:function(){for(var e=Math.max(this._valuesLength,this._oldValuesLength),t=0;t<e;t++)this._oldIEbrowser&&$(this._barGaugeBackgroundSlices[t]).remove(),this._barGaugeBackgroundSlices[t]=null,this._drawnSlices[t]=!1;$("#"+this.element.id+" .jqx-bar-gauge-background-slice").remove()},_removeBarGaugeForegroundSlices:function(){for(var e=Math.max(this._valuesLength,this._oldValuesLength),t=0;t<e;t++)!0===this._drawnSlices[t]&&(this._oldIEbrowser&&$(this._barGaugeSlices[t]).remove(),this._barGaugeSlices[t]=null,this._drawnSlices[t]=!1);$("#"+this.element.id+" .jqx-bar-gauge-slice").remove()},_removeBarGaugeTitle:function(){this._oldIEbrowser&&this._barGaugeTitle&&$(this._barGaugeTitle).remove(),$("#"+this.element.id+" .jqx-bar-gauge-title").remove()},_removeBarGaugeSubTitle:function(){this._oldIEbrowser&&this._barGaugeSubTitle&&$(this._barGaugeSubTitle).remove(),$("#"+this.element.id+" .jqx-bar-gauge-subtitle").remove()},_renderElements:function(){var e,t=this,i=(t._geometry.baseAngle,t._geometry.fix,t._barStartAt),s=i+t._barWidth,r=(t._rendering=!0,t._renderedValues=0,t._renderingValues=0,!1);if(!t.disabled)for(s=(i=t._barStartAt)+t._barWidth,e=0;e<t._valuesLength;e++)t.values[e],t.baseValue,t.values[e]>t._oldValues[e]?(t._renderElement(i,s,1,"(oldAngle < newAngle)",e,!0),r=!0):t.values[e]<t._oldValues[e]&&(t._renderElement(i,s,-1,"(oldAngle > newAngle)",e,!1),r=!0),s=(i=s+t.barSpacing)+t._barWidth;r||t._rendered()},clearIntervals:function(){for(var e=this._intervalArray.length,t=0;t<e;t++)clearInterval(this._intervalArray[t]);this._intervalArray.length=0},_renderElement:function(n,o,a,e,l,d){var h,c,u,p=this,t=(p._renderingValues++,p._oldValues[l]),i=p.values[l],s=p._valuesToDegrees[l],m=p._oldValuesToDegrees[l],g=p._barGaugeSlices[l],f=p._calculateAnimationInterval(l,!0),s=Math.abs(s-m),v=Math.abs(a/f.smoothCoef/s)*Math.abs(i-t),s=f.interval/f.smoothCoef,x=(isNaN(p._temporaryValues[l])&&(p._temporaryValues[l]=t),isNaN(p._temporaryValuesToDegrees[l])&&(p._temporaryValuesToDegrees[l]=(180-m+p._geometry.fix)%360),isNaN(p._temporaryOldAngle[l])&&(p._temporaryOldAngle[l]=m),function(){p.values[l];function e(){p._removeLabels(l);for(var e=[],t=0;t<p._valuesToDegrees.length;t++)null!=p._temporaryOldAngle[t]?e[t]=p._temporaryOldAngle[t]:e[t]=p._valuesToDegrees[t];p._addLabels(e,p._temporaryValues,l)}var t,i,s=p._valuesToDegrees[l],r=(c=180-m+p._geometry.fix,i=c,r=180-p._geometry.baseAngle+p._geometry.fix,1===a?d&&(h=p._geometry.baseAngle<m?$.jqx.commonRenderer.pieSlicePath(p._centerX,p._centerY,n,o,i,r,0):$.jqx.commonRenderer.pieSlicePath(p._centerX,p._centerY,n,o,r,i,0)):d||(h=p._geometry.baseAngle<m?$.jqx.commonRenderer.pieSlicePath(p._centerX,p._centerY,n,o,i,r,0):$.jqx.commonRenderer.pieSlicePath(p._centerX,p._centerY,n,o,r,i,0)),!1);d&&m<s&&(r=!0);return(r=!d&&s<m?!0:r)&&!1===p.disabled&&0!=p.animationDuration?(e(),p.renderer.attr(g,{d:h}),p.formatFunction&&(t=p._colors[l],t=p.formatFunction(p.values[l],l,t),p.renderer.attr(g,{fill:t,stroke:t})),m+=a/f.smoothCoef,p._temporaryOldAngle[l]=m,p._temporaryValuesToDegrees[l]=(180-m+p._geometry.fix)%360,p._temporaryValues[l]=p._temporaryValues[l]+a*v,!1):(c=180-(m=s)+p._geometry.fix,p._temporaryOldAngle[l]=s,p._temporaryValuesToDegrees[l]=s%360,p._temporaryValues[l]=p.values[l],e(),i=c,r=180-p._geometry.baseAngle+p._geometry.fix,h=i<=r?$.jqx.commonRenderer.pieSlicePath(p._centerX,p._centerY,n,o,i-1e-4,r,0):$.jqx.commonRenderer.pieSlicePath(p._centerX,p._centerY,n,o,r,i,0),p.renderer.attr(g,{d:h}),p.formatFunction&&(t=p._colors[l],t=p.formatFunction(p.values[l],l,t),p.renderer.attr(g,{fill:t,stroke:t})),clearInterval(p._intervalArray[l]),p._renderedValues++,p._renderedValues===p._renderingValues&&p._rendered(),!0)});0==p.animationDuration?x():(u=function(){clearInterval(p._intervalArray[l]);var e,t,i,s,r=x();p._rendering&&!r&&(r=p._oldValues[l],e=p.values[l],i=p._valuesToDegrees[l],s=p._oldValuesToDegrees[l],p._barGaugeSlices[l],t=p._calculateAnimationInterval(l,!0),i=Math.abs(i-s),Math.abs(a/t.smoothCoef/i),Math.abs(e-r),s=t.interval/t.smoothCoef,p._intervalArray[l]=setInterval(u,s))},p._intervalArray[l]||(p._intervalArray[l]=setInterval(u,s)))},_calculateAnimationInterval:function(e,t){var i=this,s={},r=i.animationDuration/1e3,n=0;return t?i._oldValues[e]-i.values[e]!=0&&(n=1e3/Math.abs((i._oldValues[e]-i.values[e])/(i.max-i.min)*(i._geometry.endAngle-i._geometry.startAngle))):i.baseValue-i.values[e]!=0&&(n=1e3/Math.abs((i.baseValue-i.values[e])/(i.max-i.min)*(i._geometry.endAngle-i._geometry.startAngle))),s.smoothCoef=r||1,s.interval=n*r,s},_calculateLabelOffset:function(e,t,i){var s={},r=270<=e?-(270-e)/180:e<=90?(90+e)/180:(270-e)/180,e=e<=180?e/180:(360-e)/180;return s.y=r*t,s.x=e*i,s},_drawCoordinatePlane:function(){var e,t=this,i="top"===t._title.verticalAlignment?(e=t._title.placeholderSize,t.height):(e=0,t.height-t._title.placeholderSize);null!==t._coordinatePlane&&$("#"+t.element.id+" .jqx-bar-gauge-coordinate-plane").remove(),t._coordinatePlane={},t._coordinatePlane.x=t.renderer.line(0,t._centerY,t.width,t._centerY,{fill:"gray",stroke:"gray","stroke-width":1,"stroke-opacity":.1}),t._coordinatePlane.y=t.renderer.line(t._centerX,e,t._centerX,i,{fill:"gray",stroke:"gray","stroke-width":1,"stroke-opacity":.1}),t.renderer.attr(t._coordinatePlane.x,{class:"jqx-bar-gauge-coordinate-plane"}),t.renderer.attr(t._coordinatePlane.y,{class:"jqx-bar-gauge-coordinate-plane"})},_getColorScheme:function(){for(var e=this,t=e._colorSchemes.length,i=e.values.length||1,s=Math.floor(i/e._colorSchemes[0].colors.length),r=0,n=0;n<t;n++)e.colorScheme===e._colorSchemes[n].name&&(r=n);if(e._colors=e._colorSchemes[r].colors,0<s)for(n=0;n<s;n++)e._colors=e._colors.concat(e._colorSchemes[(r+n+1)%t].colors)},_drawLabelsLine:function(e,t,i){var s,r,n,o=this;t<0?t=360+t:360<t&&(t%=360),t=(360-t)*Math.PI/180,r=e+o._barWidth+(o._valuesLength-i-1)*(o._barWidth+o.barSpacing)+o._label.indent,n=o._centerX+e*Math.cos(t),e=o._centerY+e*Math.sin(t),s=o._centerX+r*Math.cos(t),r=o._centerY+r*Math.sin(t),t=o._label.connectorColor||o._colors[i],o.formatFunction&&(t=o.formatFunction(o.values[i],i,t)),(o._ie7||o._ie8)&&(n=parseInt(n,10),e=parseInt(e,10),s=parseInt(s,10),r=parseInt(r,10)),!0===o._label.visible&&!1===o.disabled&&(o._barGaugeLabelLines[i]=o.renderer.line(n,e,s,r,{fill:t,stroke:t,"stroke-width":o._label.connectorWidth})),n=o.element.id+"LabelLine"+i,o.renderer.attr(o._barGaugeLabelLines[i],{id:n}),o.renderer.attr(o._barGaugeLabelLines[i],{class:"jqx-bar-gauge-label-line"})},_drawLabelsText:function(e,t,i){var s,r,n=this,o=n._label.font.color||n._colors[t],a=(n.formatFunction&&(o=n.formatFunction(n.values[t],t,o)),n._calculatePrecision(n._label.precision,n.values[t]));void 0!==i&&(a=new Number(i).toFixed(n._label.precision),a=n._calculatePrecision(n._label.precision,a)),void 0!==n._label.formatFunction&&null!==n._label.formatFunction&&"function"==typeof n._label.formatFunction&&(a=n._label.formatFunction(a,t)),n._cachedMeasurements||(n._cachedMeasurements=[]),n._cachedMeasurements[a.length]?r=n._cachedMeasurements[a.length]:(r=n._measureText(a,n._label.font.size,n._label.font.family,n._label.font.weight),n._cachedMeasurements[a.length]=r),e<0?e=360+e:360<e&&(e%=360),i=(360-e)*Math.PI/180,s=n._centerX+(n._labelPositioningRadius+.3*r.height)*Math.cos(i),i=n._centerY+(n._labelPositioningRadius+.3*r.height)*Math.sin(i),e=n._calculateLabelOffset(e,r.height,r.width),!0===n._label.visible&&!1===n.disabled&&(n._barGaugeLabelText[t]=n.renderer.text(a,s-e.x,i-e.y,void 0,void 0,0,{class:"jqx-bargauge-label",fill:o,"font-size":n._label.font.size+"px","font-family":n._label.font.family,"font-weight":n._label.font.weight},!1,"left","top","lefttop")),r=n.element.id+"Label"+t,n.renderer.attr(n._barGaugeLabelText[t],{id:r}),n.renderer.attr(n._barGaugeLabelText[t],{class:"jqx-bar-gauge-label-text"}),(n._ie7||n._ie8)&&$("#"+r+" .jqx-bargauge-label").css({color:o,"white-space":"nowrap","font-size":n._label.font.size+"px","font-family":n._label.font.family,"font-weight":n._label.font.weight})},_calculatePrecision:function(e,t){e+=Math.abs(t).toString().split(".")[0].length;return e=15<e?15:e,t=parseFloat(t).toPrecision(e)},_createTooltip:function(){var e=this,t=e.element.id+"tooltip";e._barGaugeTooltip.attr("id",t),$(e._barGaugeTooltip).addClass(e.toThemeProperty("jqx-bar-gauge-tooltip")),0<e._tooltip.classname.length&&$(e._barGaugeTooltip).addClass(e.toThemeProperty(e._tooltip.classname)),$(document.body).append(e._barGaugeTooltip),!0===e._tooltip.visible&&!1===e.disabled&&0<e._valuesLength&&e._addTooltipHandlers()},_refreshTooltipHandlers:function(){!0===this._tooltip.visible&&!1===this.disabled&&(this._removeTooltipHandlers(),this._addTooltipHandlers())},_addTooltipHandlers:function(){var e,t,i=this;i.addHandler($("#"+i.element.id+" .jqx-bar-gauge-slice"),"mouseenter",function(){!0===i._tooltip.visible&&0<i._valuesLength&&(e=i.renderer.getAttr(this,"id").substr(i.element.id.length+5),t=i._calculatePrecision(i._tooltip.precision,i.values[e]),i._barGaugeTooltip.css({display:"block",color:i._colors[e],"border-color":i._colors[e]}),void 0!==i._tooltip.formatFunction&&null!==i._tooltip.formatFunction&&"function"==typeof i._tooltip.formatFunction&&(t=i._tooltip.formatFunction(t,parseInt(e))),i._barGaugeTooltip.html(t),i._raiseEvent("2",{layer:e}))}),i.addHandler($("#"+i.element.id+" .jqx-bar-gauge-slice"),"mouseleave",function(){i._barGaugeTooltip.css({display:"none"}),i._raiseEvent("3",{layer:e})}),i.addHandler($("#"+i.element.id+" .jqx-bar-gauge-slice"),"mouseup",function(){i._barGaugeTooltip.css({display:"none"})}),0<$("#"+i.element.id+" .jqx-bar-gauge-slice").length&&i.addHandler($("#"+i.element.id+" .jqx-bar-gauge-slice"),"mousemove",function(){!0===i._tooltip.visible&&0<i._valuesLength&&(e=i.renderer.getAttr(this,"id").substr(i.element.id.length+5),t=i._calculatePrecision(i._tooltip.precision,i.values[e]),i._barGaugeTooltip.css({display:"block",color:i._colors[e],"border-color":i._colors[e]}),void 0!==i._tooltip.formatFunction&&null!==i._tooltip.formatFunction&&"function"==typeof i._tooltip.formatFunction&&(t=i._tooltip.formatFunction(t,parseInt(e))),i._barGaugeTooltip.html(t))}),i.addHandler($(i.host),"mousemove",function(e){i._barGaugeTooltip.css({top:e.pageY-10+"px",left:e.pageX+15+"px"})})},_removeTooltipHandlers:function(){var e=this;0<e._barGaugeSlices.length&&(e.removeHandler($(e._barGaugeSlices),"mouseenter"),e.removeHandler($(e._barGaugeSlices),"mouseleave"),e.removeHandler($(e._barGaugeSlices),"mouseup"),e.removeHandler($(e._barGaugeSlices),"mousemove"),e.removeHandler($("#"+e.element.id+" .jqx-bar-gauge-slice"),"mouseenter mouseleave mouseup mousemove")),e.removeHandler($(e.host),"mousemove")},_drawBarGaugeTitle:function(){var e,t,i,s,r,n,o,a,l,d=this,h=(d._alignmentIE=d._alignmentIE||d._title.horizontalAlignment,0);if((d._ie7||d._ie8)&&(d._title.horizontalAlignment="left"),1<d._titleLines){for(e=d._title.text.split("<br>"),a=0;a<d._titleLines;a++)for(i=d._measureText(e[a]+"_",d._title.font.size,d._title.font.family,d._title.font.weight),n=e[a];i.width>d.width;)n=n.slice(0,-1),e[a]=n+"...",i=d._measureText(e[a]+"_",d._title.font.size,d._title.font.family,d._title.font.weight);d._title.text=e.join("<br>")}else for(i=d._measureText(d._title.text+"_",d._title.font.size,d._title.font.family,d._title.font.weight),n=d._title.text;i.width>d.width;)n=n.slice(0,-1),d._title.text=n+"...",i=d._measureText(d._title.text+"_",d._title.font.size,d._title.font.family,d._title.font.weight);if(("bottom"===d._title.verticalAlignment&&(h=d.height-d._title.placeholderSize),null!==d.title&&void 0!==d.title&&""!==d._title.text)&&(d._barGaugeTitle=d.renderer.text(d._title.text,d._title.margin.left,h+d._title.margin.top,d.width-d._title.margin.right,0,void 0,{fill:d._title.font.color,"fill-opacity":d._title.font.opacity,"font-size":d._title.font.size,"font-family":d._title.font.family,"font-weight":d._title.font.weight},!1,d._title.horizontalAlignment,d._title.verticalAlignment,"centertop"),o=d.element.id+"Title",d.renderer.attr(d._barGaugeTitle,{id:o}),d.renderer.attr(d._barGaugeTitle,{class:"jqx-bar-gauge-title"}),(d._ie7||d._ie8)&&($("#"+o+" textbox").css({width:d.width+"px !important","padding-left":"10px",position:"relative"}),l=0,i.width<d.width&&("center"===d._alignmentIE?l=(d.width-i.width)/2:"right"===d._alignmentIE&&(l=d.width-i.width)),$("#"+o+" span").css({color:d._title.font.color,"margin-left":l+"px","white-space":"nowrap","text-align":"center","font-size":d._title.font.size+"px","font-family":d._title.font.family,"font-weight":d._title.font.weight})),""!==d._title.subtitle.text&&void 0!==d._title.subtitle.text)){if(1<d._subTitleLines){for(t=d._title.subtitle.text.split("<br>"),a=0;a<d._subTitleLines;a++)for(s=d._measureText(t[a]+"_",d._title.subtitle.font.size,d._title.subtitle.font.family,d._title.subtitle.font.weight),r=t[a];s.width>d.width;)r=r.slice(0,-1),t[a]=r+"...",s=d._measureText(t[a]+"_",d._title.subtitle.font.size,d._title.subtitle.font.family,d._title.subtitle.font.weight);d._title.subtitle.text=t.join("<br>")}else for(s=d._measureText(d._title.subtitle.text+"_",d._title.subtitle.font.size,d._title.subtitle.font.family,d._title.subtitle.font.weight),r=d._title.subtitle.text;s.width>d.width;)r=r.slice(0,-1),d._title.subtitle.text=r+"...",s=d._measureText(d._title.subtitle.text+"_",d._title.subtitle.font.size,d._title.subtitle.font.family,d._title.subtitle.font.weight);d._barGaugeSubTitle=d.renderer.text(d._title.subtitle.text,d._title.margin.left,h+d._title.font.size*d._titleLines+d._title.margin.top,d.width-d._title.margin.right,0,void 0,{fill:d._title.subtitle.font.color,"fill-opacity":d._title.subtitle.font.opacity,"font-size":d._title.subtitle.font.size,"font-family":d._title.subtitle.font.family,"font-weight":d._title.subtitle.font.weight,"margin-top":d._title.margin.top},!1,d._title.horizontalAlignment,d._title.verticalAlignment,"centertop"),o=d.element.id+"SubTitle",d.renderer.attr(d._barGaugeSubTitle,{id:o}),d.renderer.attr(d._barGaugeSubTitle,{class:"jqx-bar-gauge-subtitle"}),(d._ie7||d._ie8)&&(l=0,s.width<d.width&&("center"===d._alignmentIE?l=(d.width-s.width)/2:"right"===d._alignmentIE&&(l=d.width-s.width)),$("#"+o+" textbox").css({width:d.width+"px !important",left:l+"px !important",position:"relative"}),$("#"+o+" span").css({width:"100%",color:d._title.subtitle.font.color,"margin-left":l+"px","white-space":"nowrap","text-align":"center","font-size":d._title.subtitle.font.size+"px","font-family":d._title.subtitle.font.family,"font-weight":d._title.subtitle.font.weight}))}},_measureText:function(e,t,i,s){var r=this,n={};return $("#"+r._measuredTextId).length||(r._measuredText.attr("id",r._measuredTextId),$(r.host).append(r._measuredText),r._measuredText.css({"z-index":-999999,"white-space":"nowrap","font-size":t+"px","font-family":i,"font-weight":s})),r._measuredText[0].style.fontSize!=t+"px"&&(r._measuredText[0].style.fontSize=t+"px"),r._measuredText[0].style.fontFamily!=i+"px"&&(r._measuredText[0].style.fontFamily=i),r._measuredText[0].style.fontWeight!=s&&(r._measuredText[0].style.fontWeight=s+"px"),r._measuredText.text(e),n.width=r._measuredText[0].offsetWidth,n.height=r._measuredText[0].offsetHeight,n},_calculateBarGaugeRadius:function(){this.width>this.height-this._title.placeholderSize?this._barGaugeRadius=(this.height-this._title.placeholderSize)/2:this._barGaugeRadius=this.width/2},_addCSS:function(){$(this.host).addClass(this.toThemeProperty("jqx-widget")),$(this.host).addClass(this.toThemeProperty("jqx-bar-gauge")),$(this.host).addClass(this.toThemeProperty("jqx-widget-content")),this.disabled&&$(this.host).addClass(this.toThemeProperty("jqx-fill-state-disabled"))},_rendered:function(){var e=this;!0===e._rendering&&(null!==e.rendered&&"function"==typeof e.rendered&&e.rendered(),e._rendering=!1,e.clearIntervals(),e._temporaryOldAngle.length=0,e._temporaryValuesToDegrees.length=0,e._temporaryValues.length=0,e._raiseEvent("0"),e._raiseEvent("5"))},_render:function(){var e=this;e._removeAllGraphicElements(),0<e.values.length?0===e.animationDuration||e._ie8||e._ie7?e._drawStaticBarGauge():e._drawDynamicBarGauge():(e._getLiquidDimensions(),e.host.width(e.width),e.host.height(e.height),e._validateValues(),e._transformValuesToAngles(),e._drawStaticBarGauge())},render:function(){var e=this;e.clearIntervals(),e._getLiquidDimensions(),e.host.width(e.width),e.host.height(e.height),e._validateValues(),e._transformValuesToAngles(),e._getColorScheme(),!0===e._rendering&&e._staticRefresh(),e._render()},refresh:function(e){!0!==e&&this.render()},_removeAllGraphicElements:function(){this._removeLabels(),this._removeBarGaugeSlices(),this._removeBarGaugeTitle(),this._removeBarGaugeSubTitle()},_drawStaticBarGauge:function(){var e=this;e._rendering=!0,e._drawBarGaugeTitle(),e._drawBarGaugeLayout(),e.disabled||(e._getLiquidDimensions(),e.host.width(e.width),e.host.height(e.height),e._validateValues(),e._measureRadius(),e._drawStaticBarGaugeElementsWithBase()),e._rendered()},_drawDynamicBarGauge:function(){this._drawBarGaugeTitle(),this._drawBarGaugeLayout(),this.disabled?this._rendered():this._drawBarGaugeElementsWithBase()},val:function(e){var t=this;return null!=e&&"object"==typeof e&&0<Object.keys(e).length?(t._raiseEvent("4","api"),e.length!=t.values.length?(t.values=e,t.render()):t._redrawWithNewValuesArray(e,t.values)):null!=e&&"object"==typeof e&&0===e.length&&(t._raiseEvent("4"),t._removeLabels(),t._removeBarGaugeSlices(),t._transformValuesToAngles(),t._drawEmptyBarGauge(),t._removeLabels(),t.values.length=0,t._refreshTooltipHandlers()),t.values},_redrawWithNewValuesArray:function(e,t){var i,s=this;if(!1===s._rendering)s._userValues=e.slice(),s._oldValues=(t||s.values).slice(),s._oldValuesToDegrees=s._valuesToDegrees.slice(),s._oldValuesLength=s._valuesLength,1<Object.keys(e).length?s.values=e.slice():null===e[0]||void 0===e[0]?s.values=[]:(s.values=[],s.values[0]=parseFloat(e)),s._lastChange=new Date;else if(!0===s._rendering){for(s._userValues=e.slice(),s._oldValues.length=0,i=s._oldValuesToDegrees.length=0;i<s.values.length;i++)s._oldValues[i]=(null!=s._temporaryValues[i]?s._temporaryValues:s.values)[i],s._oldValuesToDegrees[i]=(null!=s._temporaryValuesToDegrees[i]?s._temporaryValuesToDegrees:s._valuesToDegrees)[i];s._oldValuesLength=s.values.length,1<e.length?s.values=e.slice():null===e[0]||void 0===e[0]?s.values=[]:(s.values=[],s.values[0]=parseFloat(e))}else if(null==e)s.values=[];else{if("string"!=typeof e&&"number"!=typeof e)return s.values;s.values=[],s.values[0]=parseFloat(e)}if(s._valuesLength=s.values.length,s._getColorScheme(),s._valuesLength>s._oldValuesLength)for(var r=s._oldValuesLength;r<s._valuesLength;r++)s._oldValuesToDegrees[r]=s._geometry.baseAngle,s._oldValues[r]=s.baseValue;for(i=0;i<s._valuesLength;i++){s.values[i]<s.min?s.values[i]=s.min:s.values[i]>s.max&&(s.values[i]=s.max);var n=s.values[i],n=((n=0==n?.03:n)-s.min)/(s.max-s.min)*(s._geometry.endAngle-s._geometry.startAngle)+s._geometry.startAngle;s._valuesToDegrees[i]=n%360}s._renderElements(),s._refreshTooltipHandlers(),s._raiseEvent("1")},_staticRefresh:function(){var e=this,t=e.animationDuration;"string"==typeof e.width&&-1!==e.width.indexOf("%")&&(e._dimensions.width=e.width),"string"==typeof e.height&&-1!==e.height.indexOf("%")&&(e._dimensions.height=e.height),e._getLiquidDimensions(),e.host.width(e.width),e.host.height(e.height),$("#"+e.element.id+" .chartContainer").width(e.width),$("#"+e.element.id+" .chartContainer").height(e.height),e._removeBarGaugeTitle(),e._removeBarGaugeSubTitle(),e._validateGeometry(),e._validateTitle(),e._validateLabel(),e._validateValues(),e._validateTooltip(),e._measureRadius(),e.animationDuration=0,e._render(),e.animationDuration=t},propertyChangedHandler:function(e,t,i,s){var r,n=e;if(n._cachedMeasurements=[],void 0!==e.isInitialized&&null!==e.isInitialized&&!1!==e.isInitialized&&(n.ie7||!e.batchUpdate||!e.batchUpdate.width||!e.batchUpdate.height||2!==Object.keys(e.batchUpdate).length)&&(s!==i||"colorScheme"===t||"tooltip"===t))switch(n.animationDuration,n._titleTemplate=n._title,n._labelTemplate=n._label,n._tooltipTemplate=n._tooltip,t){case"width":case"height":n._staticRefresh();break;case"values":n.values=i,n.val(s);break;case"animationDuration":break;case"disabled":n.disabled?$(n.host).addClass(n.toThemeProperty("jqx-fill-state-disabled")):$(n.host).removeClass(n.toThemeProperty("jqx-fill-state-disabled")),n._render();break;case"geometry":case"min":case"baseValue":case"max":case"barSpacing":case"startAngle":case"endAngle":case"relativeInnerRadius":n.geometry.startAngle=n.startAngle,n.geometry.endAngle=n.endAngle,n.values=n._userValues.slice(),n._validateValues(),n._transformValuesToAngles(),n._render();break;case"tooltip":n._validateTooltip();break;case"rendered":break;case"backgroundColor":if(n._backgroundColor=n._validateColor(n.backgroundColor,n._backgroundColor),n._ie7||n._ie8)for(r=0;r<n._valuesLength;r++)n.renderer.attr(n._barGaugeBackgroundSlices[r],{fillcolor:n._backgroundColor,strokecolor:n._backgroundColor,"stroke-width":n._barGaugeSlicesStrokeWidth});else $("#"+n.element.id+" .jqx-bar-gauge-background-slice").attr({fill:n._backgroundColor,stroke:n._backgroundColor,"stroke-width":n._barGaugeSlicesStrokeWidth});break;case"customColorScheme":n._attachCustomColors();break;case"colorScheme":for(n._getColorScheme(),r=0;r<n._valuesLength;r++){var o=n._label.connectorColor||n._colors[r],a=n._label.font.color||n._colors[r],l=n._colors[r];n.useGradient&&(l=n.renderer._toLinearGradient(l,!0,[[0,1.4],[100,1]])),n.renderer.attr(n._barGaugeSlices[r],{fill:l}),n.renderer.attr(n._barGaugeLabelLines[r],{fill:o,stroke:o}),n.renderer.attr(n._barGaugeLabelText[r],{fill:a}),(n._ie7||n._ie8)&&(n.renderer.attr(n._barGaugeSlices[r],{fillcolor:n._colors[r],strokecolor:n._colors[r],"stroke-width":n._barGaugeSlicesStrokeWidth}),n.renderer.attr(n._barGaugeLabelLines[r],{fillcolor:o,strokecolor:o}),l=n.element.id+"Label"+r,$("#"+l+" .jqx-bargauge-label").css({color:a}))}break;default:n._staticRefresh()}},_compareArrays:function(e,t){var i=e.length;if(i!==t.length)return!1;for(var s=0;s<i;s++)if(e[s]!==t[s])return!1;return!0},_addIEPolyfills:function(){var r,n,o,a;Object.keys||(Object.keys=(r=Object.prototype.hasOwnProperty,n=!{toString:null}.propertyIsEnumerable("toString"),a=(o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t,i,s=[];for(t in e)r.call(e,t)&&s.push(t);if(n)for(i=0;i<a;i++)r.call(e,o[i])&&s.push(o[i]);return s}))},destroy:function(){var e=this;$("#"+e._measuredTextId).remove(),e.renderer.clear(),e.renderer=null,e._removeEventHandlers(),e._removeTooltipHandlers(),e.host.children().remove(),e.host.removeData(),e.host.removeClass(),e.host.remove(),e.host=null,e.element=null,delete e.element,delete e.host},_addEventHandlers:function(){var t=this;t.addHandler($(t.host),"drawStart",function(){}),t.addHandler($(t.host),"drawEnd",function(){t._refreshTooltipHandlers()}),t.addHandler($(window),"resize.jqxBarGauge"+t.host[0].id,function(){var e=!1;t._dimensions.width&&0<=t._dimensions.width.toString().indexOf("%")&&(e=!0),(e=t._dimensions.height&&0<=t._dimensions.height.toString().indexOf("%")?!0:e)&&t._staticRefresh()})},_removeEventHandlers:function(){this.removeHandler($(this.host),"drawStart"),this.removeHandler($(this.host),"drawEnd"),this.removeHandler($(window),"resize.jqxBarGauge"+this.host[0].id)},_refreshEventHandlers:function(){this._removeEventHandlers(),this._addEventHandlers()},_raiseEvent:function(e,t){e=$.Event(this._events[e]);return e.args=t,this.host.trigger(e)},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e}})}(jqxBaseFramework),!function(g){g.jqx.jqxWidget("jqxBulletChart","",{}),g.extend(g.jqx._jqxBulletChart.prototype,{defineInstance:function(){var e={width:500,height:100,barSize:"50%",ranges:[{startValue:0,endValue:50,color:"#000000",opacity:.7},{startValue:50,endValue:80,color:"#000000",opacity:.5},{startValue:80,endValue:100,color:"#000000",opacity:.3}],pointer:{value:65,label:"Value",size:"25%",color:""},target:{value:85,label:"Target",size:4,color:""},ticks:{position:"far",interval:20,size:10},title:"Title",description:"Description",orientation:"horizontal",labelsFormat:null,labelsFormatFunction:null,animationDuration:400,showTooltip:!0,tooltipFormatFunction:null,disabled:!1,rtl:!1,events:["change"]};return this===g.jqx._jqxBulletChart.prototype||g.extend(!0,this,e),e},createInstance:function(e){if(!g.jqx.dataAdapter)throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxdata.js'.");this._setDefaultValues(),this.render();var t=this;g.jqx.utilities.resize(this.host,function(){t._timer&&clearTimeout(t._timer),t._timer=setTimeout(function(){var e=t.animationDuration;t.animationDuration=0,t.render(),setTimeout(function(){t.animationDuration=e},0)},10)},!1,!0)},render:function(){0<this.host.children().length&&(this._removeHandlers(),1==this.showTooltip&&this.host.jqxTooltip("destroy"),this.host.empty()),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-bulletchart")),this.host.width(this.width),this.host.height(this.height);var e,t,i,s,r,n,o,a,l,d=this.host.width(),h=this.host.height(),c=this.rtl?"rtl":"ltr",c=("horizontal"==this.orientation?e=g("<div style='position: absolute; visibility: hidden; padding: 5px;'><div class='"+this.toThemeProperty("jqx-bulletchart-title")+"' style='direction: "+c+";'>"+this.title+"</div><div class='"+this.toThemeProperty("jqx-bulletchart-description")+"' style='direction: "+c+";'>"+this.description+"</div></div>"):"vertical"==this.orientation&&(e=g("<div style='position: absolute; visibility: hidden; padding-bottom: 15px;'><div class='"+this.toThemeProperty("jqx-bulletchart-title")+"' style='width: "+d+"px; direction: "+c+";'>"+this.title+"</div><div class='"+this.toThemeProperty("jqx-bulletchart-description")+"' style='direction: "+c+";'>"+this.description+"</div></div>")),this.host.append(e),e.outerWidth()),u=e.outerHeight();if(e.remove(),"horizontal"==this.orientation?(n="jqx-bulletchart-title-container-horizontal",o="jqx-bulletchart-chart-container-horizontal",a=this._checkPercentage(this.barSize,this.host),l=0,s=d-(r=c),i=t=this.barSize,this.width&&0<=this.width.toString().indexOf("%")&&(s=parseFloat(parseFloat(100*s)/d).toString()+"%",r=parseFloat(parseFloat(100*r)/d).toString()+"%",this._percentageWidth=!0)):"vertical"==this.orientation&&(n="jqx-bulletchart-title-container-vertical",o="jqx-bulletchart-chart-container-vertical",a=0,r="100%",t=u,l=this._checkPercentage(this.barSize,this.host),s=this.barSize,i=h-t),(0==this.rtl||1==this.rtl&&"vertical"==this.orientation)&&this.host.append("<div id='"+this.element.id+"titleContainer' class='"+n+"' style='top: "+a+";'></div>"),this.host.append("<div id='"+this.element.id+"ChartContainer' class='"+o+"' style='top: "+a+"; left: "+l+";'></div>"),1==this.rtl&&"horizontal"==this.orientation&&this.host.append("<div id='"+this.element.id+"titleContainer' class='"+n+"' style='top: "+a+";'></div>"),this._titleContainer=g("#"+this.element.id+"titleContainer"),this._chartContainer=g("#"+this.element.id+"ChartContainer"),this._titleContainer.css({width:r,height:t}),this._chartContainer.css({width:s,height:i}),this._min=this.ranges[0].startValue,this._max=this.ranges[this.ranges.length-1].endValue,this._interval=this._max-this._min,this._valueToPixelsHorizontal=this._chartContainer.width()/this._interval,this._valueToPixelsVertical=this._chartContainer.height()/this._interval,this._checkValues(),this._appendRanges(),this._appendPointerAndTarget(),this._appendTitleAndDescription(),"none"!=this.ticks.position&&this._appendTicksAndLabels(),1==this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),1==this.showTooltip){if(null==this.host.jqxTooltip)throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxtooltip.js'.");this._initializeTooltip(),this.host.data().jqxWidget=this}this._updateValue(this.pointer.value,0,!0)},refresh:function(e){e||this.render()},val:function(e){if(0==arguments.length||null!=e&&"object"==typeof e)return this.pointer.value;e>this._max?e=this._max:e<this._min&&(e=this._min),e!=this.pointer.value&&(this._updateValue(e,this.pointer.value),this.pointer.value=e,1==this.showTooltip&&this._updateTooltip())},destroy:function(){g.jqx.utilities.resize(this.host,null,!0),this._removeHandlers(),1==this.showTooltip&&this.host.jqxTooltip("destroy"),this.host.remove()},propertyChangedHandler:function(s,r,i,n){if(i!=n||n instanceof Object){function e(){g.each(i,function(e,t){null==n[e]&&(s[r][e]=t)})}var o=!0;switch(r){case"barSize":break;case"ranges":g.each(i,function(i,e){g.each(e,function(e,t){void 0!==n[i]&&null==n[i][e]&&(s[r][i][e]=t)})}),this._setDefaultValues();break;case"pointer":return e(),void this._updatePointer(n,i);case"target":return e(),void this._updateTarget(n,i);case"ticks":o=!1,e(),g.each(i,function(e,t){i[e]!=s[r][e]&&(o=!0)});break;case"showTooltip":if(1==n){if(null==this.host.jqxTooltip)throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxtooltip.js'.");this._initializeTooltip()}else this._removeHandlers(),this.host.jqxTooltip("destroy");break;case"animationDuration":return;case"tooltipFormatFunction":return void this._updateTooltip();case"disabled":return void(1==n?this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")))}1==o&&this.render()}},_raiseEvent:function(e,t){e=this.events[e],e=new g.Event(e);e.owner=this,e.args=t;try{var i=this.host.trigger(e)}catch(e){}return i},_removeHandlers:function(){var e=g("#"+this.element.id+"Pointer, #"+this.element.id+"Target");this.removeHandler(e,"mouseenter.bulletchart"+this.element.id),this.removeHandler(e,"mouseleave.bulletchart"+this.element.id)},_setDefaultValues:function(){for(var e=this.ranges,t=this.ranges.length,i=0;i<t;i++){if(null==e[i].startValue||null==e[i].endValue)throw new Error("jqxBulletChart: Each range must have its startValue and endValue set.");null==e[i].color&&(this.ranges[i].color="#000000"),null==e[i].opacity&&(this.ranges[i].opacity=1-1/t*i)}var s=this.pointer,s=(null==s.value&&(this.pointer.value=65),null==s.label&&(this.pointer.label="Value"),null==s.size&&(this.pointer.size="25%"),null==s.color&&(this.pointer.color=""),this.target),s=(null==s.value&&(this.target.value=85),null==s.label&&(this.target.label="Target"),null==s.size&&(this.target.size=5),null==s.color&&(this.target.color=""),this.ticks);null==s.position&&(this.ticks.position="near"),null==s.interval&&(this.ticks.interval=20),null==s.size&&(this.ticks.size=10)},_checkValues:function(){this.pointer.value>this._max?this.pointer.value=this._max:this.pointer.value<this._min&&(this.pointer.value=this._min),this.target.value>this._max?this.target.value=this._max:this.target.value<this._min&&(this.target.value=this._min)},_appendRanges:function(){for(var e="",t=this.ranges.length,i=0;i<t;i++){var s,r,n,o=this.ranges[i];"horizontal"==this.orientation?(s=this.rtl?"right":"left",r=(o.startValue-this._min)*this._valueToPixelsHorizontal,n=(o.endValue-o.startValue)*this._valueToPixelsHorizontal,s="<div class='"+this.toThemeProperty("jqx-bulletchart-range")+" "+this.toThemeProperty("jqx-bulletchart-range-horizontal")+"' style='"+s+": "+r+"px; width: "+n+"px; background-color: "+o.color+"; opacity: "+o.opacity+"'></div>"):"vertical"==this.orientation&&(r=(o.startValue-this._min)*this._valueToPixelsVertical,n=(o.endValue-o.startValue)*this._valueToPixelsVertical,s="<div class='"+this.toThemeProperty("jqx-bulletchart-range")+" "+this.toThemeProperty("jqx-bulletchart-range-vertical")+"' style='bottom: "+r+"px; height: "+n+"px; background-color: "+o.color+"; opacity: "+o.opacity+"'></div>"),e+=s}this._chartContainer.append(e)},_appendPointerAndTarget:function(){var e,t,i,s,r,n,o="",a=this.element.id+"Pointer",l=this.element.id+"Target",d=this.pointer.size,h=this.target.value,c=this.target.size,u=0<h?0:parseInt(c),p=0<this.pointer.color.length?"":this.toThemeProperty("jqx-fill-state-pressed"),m=0<this.target.color.length?"":this.toThemeProperty("jqx-fill-state-pressed");"horizontal"==this.orientation?(e=this._normaliseValue(d),n=this._checkPercentage(d,this._chartContainer),t=this.rtl?"right":"left",r=(i=(h-this._min)*this._valueToPixelsHorizontal-u)+parseInt(c)-this._chartContainer.width(),i<0?i=0:0<r&&(i-=r),s=this._normaliseValue(c),o=(o+="<div class='"+m+" "+this.toThemeProperty("jqx-bulletchart-target")+" "+this.toThemeProperty("jqx-bulletchart-target-horizontal")+"' id='"+l+"' style='"+t+": "+i+"px; width: "+s+"; background-color: "+this.target.color+"'></div>")+"<div class='"+p+" "+this.toThemeProperty("jqx-bulletchart-pointer")+"' id='"+a+"' style='top: "+n+"; height: "+e+"; background-color: "+this.pointer.color+"'></div>"):"vertical"==this.orientation&&(this._chartContainer.width(),t=this._normaliseValue(d),i=this._checkPercentage(d,this._chartContainer),r=(s=(h-this._min)*this._valueToPixelsVertical-u)+parseInt(c)-this._chartContainer.height(),s<0?s=0:0<r&&(s-=r),n=this._normaliseValue(c),o=(o+="<div class='"+m+" "+this.toThemeProperty("jqx-bulletchart-target")+" "+this.toThemeProperty("jqx-bulletchart-target-vertical")+"' id='"+l+"' style='bottom: "+s+"px; height: "+n+"; background-color: "+this.target.color+"'></div>")+"<div class='"+p+" "+this.toThemeProperty("jqx-bulletchart-pointer")+"' id='"+a+"' style='left: "+i+"; width: "+t+"; background-color: "+this.pointer.color+"'></div>"),this._chartContainer.append(o)},_updatePointer:function(e,t){var i,s,r,n=g("#"+this.element.id+"Pointer");e.value>this._max?this.pointer.value=this._max:e.value<this._min&&(this.pointer.value=this._min),e.value!=t.value&&(this._updateValue(e.value,t.value),1==this.showTooltip&&this._updateTooltip()),e.label!=t.label&&1==this.showTooltip&&this._updateTooltip(),e.size!=t.size&&(i=e.size,"horizontal"==this.orientation?(s=this._checkPercentage(i,this._chartContainer),r=this._normaliseValue(i),n.css({top:s,height:r})):"vertical"==this.orientation&&(s=this._checkPercentage(i,this._chartContainer),r=this._normaliseValue(i),n.css({left:s,width:r}))),e.color!=t.color&&(""==e.color?(n.css("background-color",""),n.addClass(this.toThemeProperty("jqx-fill-state-pressed"))):(n.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),n.css("background-color",e.color)))},_updateTarget:function(e,t){var i,s,r,n,o,a=g("#"+this.element.id+"Target");e.value>this._max?this.target.value=this._max:e.value<this._min&&(this.target.value=this._min),e.value==t.value&&e.size==t.size||(i=e.value,s=parseInt(e.size),r=0<i?0:s,"horizontal"==this.orientation?(this.rtl,o=(n=(i-this._min)*this._valueToPixelsHorizontal-r)+s-this._chartContainer.width(),n<0?n=0:0<o&&(n-=o),0==this.rtl?a.css("left",n):a.css("right",n),a.width(s)):"vertical"==this.orientation&&(o=(n=(i-this._min)*this._valueToPixelsVertical-r)+s-this._chartContainer.height(),n<0?n=0:0<o&&(n-=o),a.css({bottom:n,height:s})),1==this.showTooltip&&this._updateTooltip()),e.label!=t.label&&1==this.showTooltip&&this._updateTooltip(),e.color!=t.color&&(""==e.color?(a.css("background-color",""),a.addClass(this.toThemeProperty("jqx-fill-state-pressed"))):(a.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),a.css("background-color",e.color)))},_appendTitleAndDescription:function(){var e="horizontal"==this.orientation?1==this.rtl?this.toThemeProperty("jqx-bulletchart-title-description-rtl"):this.toThemeProperty("jqx-bulletchart-title-description-ltr"):this.toThemeProperty("jqx-bulletchart-title-description-vertical"),t=this.rtl?"rtl":"ltr",e="<div id='"+this.element.id+"Title' class='"+this.toThemeProperty("jqx-bulletchart-title")+" "+e+"' style='direction: "+t+";'>"+this.title+"</div><div id='"+this.element.id+"Description' class='"+this.toThemeProperty("jqx-bulletchart-description")+" "+e+"' style='direction: "+t+";'>"+this.description+"</div>",t=g("<div style='position: absolute; visibility: hidden;'>"+e+"</div>"),i=(this._titleContainer.append(t),t.children()),i=g(i[0]).height()+g(i[1]).height();t.remove(),t="horizontal"==this.orientation?0==this.rtl?this.toThemeProperty("jqx-bulletchart-title-inner-container")+" "+this.toThemeProperty("jqx-bulletchart-title-inner-container-ltr"):this.toThemeProperty("jqx-bulletchart-title-inner-container")+" "+this.toThemeProperty("jqx-bulletchart-title-inner-container-rtl"):"",this._titleContainer.append("<div class='"+t+"' style='height: "+i+"px;'>"+e+"</div>")},_appendTicksAndLabels:function(){var e=g("<div style='position: absolute; visibility: hidden;'></div>"),t=(this._chartContainer.append(e),""),i=this._min<0,s=this.ticks.size;if("horizontal"==this.orientation){var r,n=this._titleContainer.width(),o=this._chartContainer.offset().top-this.host.offset().top;"both"!=this.ticks.position&&"far"!=this.ticks.position||(r=this._chartContainer.height()+o);for(var a=0;a<=this._interval;a+=this.ticks.interval){var l=a*this._valueToPixelsHorizontal+n,d=(a+this.ticks.interval>this._interval&&--l,i&&a+this._min==0&&(t+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+" "+this.toThemeProperty("jqx-bulletchart-zero-tick")+"' style='top: "+o+"px; "+c+": "+l+"px; height: "+this._chartContainer.height()+"px;'></div>",i=!1),this._labelValue(a)),h=(e.html(d),l-e.width()/2),c=this.rtl?"right":"left";"both"!=this.ticks.position&&"far"!=this.ticks.position||(t=(t+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+"' style='top: "+r+"px; "+c+": "+l+"px; height: "+s+"px;'></div>")+"<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='top: "+(r+s+2)+"px; "+c+": "+h+"px;'>"+d+"</div>"),"both"!=this.ticks.position&&"near"!=this.ticks.position||(t=(t+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+"' style='top: "+(o-s)+"px; "+c+": "+l+"px; height: "+s+"px;'></div>")+"<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='top: "+(o-(s+e.height()+2))+"px; "+c+": "+h+"px;'>"+d+"</div>")}}else if("vertical"==this.orientation){var u,p=this._chartContainer.offset().left-this.host.offset().left;"both"!=this.ticks.position&&"far"!=this.ticks.position||(u=this._chartContainer.width());for(a=0;a<=this._interval;a+=this.ticks.interval){var m=a*this._valueToPixelsVertical;a+this.ticks.interval>this._interval&&--m,i&&a+this._min==0&&(t+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+" "+this.toThemeProperty("jqx-bulletchart-zero-tick")+"' style='left: "+p+"px; bottom: "+m+"px; width: "+u+"px;'></div>",i=!1),"both"!=this.ticks.position&&"near"!=this.ticks.position||(t+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+"' style='left: "+(p-s)+"px; bottom: "+m+"px; width: "+s+"px;'></div>",d=this._labelValue(a,"near"),e.html(d),h=e.height()/2-1,t+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='left: "+(p-(s+e.width()+2))+"px; bottom: "+(m-h)+"px;'>"+d+"</div>"),"both"!=this.ticks.position&&"far"!=this.ticks.position||(t+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+"' style='left: "+(u+p)+"px; bottom: "+m+"px; width: "+s+"px;'></div>",d=this._labelValue(a,"far"),e.html(d),h=e.height()/2-1,t+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='left: "+(u+p+s+2)+"px; bottom: "+(m-h)+"px;'>"+d+"</div>")}}this.host.append(t),e.remove()},_labelValue:function(e,t){e+=this._min,t=this.labelsFormatFunction?this.labelsFormatFunction(e,t):g.jqx.dataFormat.formatnumber(e,this.labelsFormat);return t},_initializeTooltip:function(){var t=this,e=this._tooltipContent(),e=(this.host.jqxTooltip({theme:this.theme,position:"mouse",content:e,trigger:"none",autoHide:!1,rtl:this.rtl}),this.host.jqxTooltip("getInstance").val=g.proxy(this.val,this),g("#"+this.element.id+"Pointer, #"+this.element.id+"Target"));this.addHandler(e,"mouseenter.bulletchart"+this.element.id,function(e){0==t.disabled&&(t.host.jqxTooltip("open",e.pageX,e.pageY),(e.target.id==t.element.id+"Pointer"&&""==t.pointer.color||e.target.id==t.element.id+"Target"&&""==t.target.color)&&(g(e.target).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),g(e.target).addClass(t.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(e,"mouseleave.bulletchart"+this.element.id,function(e){0==t.disabled&&(t.host.jqxTooltip("close"),(e.target.id==t.element.id+"Pointer"&&""==t.pointer.color||e.target.id==t.element.id+"Target"&&""==t.target.color)&&(g(e.target).removeClass(t.toThemeProperty("jqx-fill-state-hover")),g(e.target).addClass(t.toThemeProperty("jqx-fill-state-pressed"))))})},_updateTooltip:function(){this.host.jqxTooltip({content:this._tooltipContent()})},_tooltipContent:function(){var e,t;return this.tooltipFormatFunction?this.tooltipFormatFunction(this.pointer.value,this.target.value):(e=g.jqx.dataFormat.formatnumber(this.pointer.value,this.labelsFormat),t=g.jqx.dataFormat.formatnumber(this.target.value,this.labelsFormat),"<div>"+this.pointer.label+": "+e+"</div><div>"+this.target.label+": "+t+"</div>")},_updateValue:function(s,r,e){function t(e,t,i){return 0<=d._min?("vertical"==e?h.css("bottom",0):1==d.rtl&&"horizontal"==e&&h.css("right",0),(s-d._min)*t):(i=0<=s?("horizontal"==e?1==d.rtl?(n="right",o="left"):n="left":"vertical"==e&&(n="bottom",o="top"),-d._min*t):("horizontal"==e?1==d.rtl?n="left":(n="right",o="left"):"vertical"==e&&(n="top"),i+d._min*t),h.css(n,i),o&&h.css(o,""),s*r<0&&("horizontal"==e?h.width(0):"vertical"==e&&h.height(0)),Math.abs(s*t))}function i(){e||d._raiseEvent("0")}var n,o,a,l,d=this,h=g("#"+this.element.id+"Pointer");"horizontal"==this.orientation?(a=t("horizontal",this._valueToPixelsHorizontal,this._chartContainer.width()),setTimeout(function(){h.animate({width:a},d.animationDuration,i)},0)):"vertical"==this.orientation&&(l=t("vertical",this._valueToPixelsVertical,this._chartContainer.height()),setTimeout(function(){h.animate({height:l},d.animationDuration,i)},0))},_checkPercentage:function(e,t){var i,s=-1;return-1==(s=e.indexOf?e.indexOf("%"):s)?("horizontal"==this.orientation?i=t.height():"vertical"==this.orientation&&(i=t.width()),(i-((t=e).indexOf&&-1!=e.indexOf("px")?parseFloat(t.slice(0,e.indexOf("px"))):t))/2+"px"):(100-parseFloat(e.slice(0,s)))/2+"%"},_normaliseValue:function(e){return!e.indexOf||-1==e.indexOf("px")&&-1==e.indexOf("%")?e+"px":e}})}(jqxBaseFramework),!function(o){o.jqx.jqxWidget("jqxButtonGroup","",{}),o.extend(o.jqx._jqxButtonGroup.prototype,{defineInstance:function(){var e={mode:"default",roundedCorners:!0,disabled:!1,enableHover:!1,orientation:"horizontal",width:null,height:null,_eventsMap:{mousedown:o.jqx.mobile.getTouchEventName("touchstart"),mouseup:o.jqx.mobile.getTouchEventName("touchend")},_events:["selected","unselected","buttonclick"],_buttonId:{},_selected:null,_pressed:null,rtl:!1,template:"",_baseId:"group_button",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===o.jqx._jqxButtonGroup.prototype||o.extend(!0,this,e),e},createInstance:function(e){var t=this;t._isTouchDevice=o.jqx.mobile.isTouchDevice(),o.jqx.aria(t),t._baseId=t._baseId+t.element.id,t.addHandler(t.host,"selectstart",function(e){t.disabled||e.preventDefault()})},refresh:function(){var e=this;e.width&&(e.width.toString()&&0<=e.width.toString().indexOf("%")?e.element.style.width=e.width:e.host.width(e.width)),e.height&&e.host.height(e.height),e._refreshButtons()},render:function(){this.refresh()},resize:function(){this.refresh()},_getEvent:function(e){return this._isTouchDevice?(this._eventsMap[e]||e)+("."+this.element.id):e+("."+this.element.id)},_refreshButtons:function(){var e,t=this,i=(t.lastElement&&t.lastElement.remove(),t.lastElement=o("<div style='clear: both;'></div>"),t.host.children()),s=i.length;switch(t.mode){case"radio":t.host.attr("role","radiogroup");break;case"checkbox":case"default":t.host.attr("role","group")}for(var r=new Number(100/s).toFixed(2),n=0;n<s;n+=1)e=o(i[n]),t.width&&("horizontal"===t.orientation?(e.css("width",r+"%"),e.css("box-sizing","border-box"),e.css("-moz-box-sizing","border-box"),e.css("white-space","nowrap"),e.css("text-overflow","ellipsis"),e.css("overflow","hidden")):(e.css("box-sizing","border-box"),e.css("-moz-box-sizing","border-box"),e.css("width","100%"))),t._refreshButton(e,n,s);t.lastElement.appendTo(t.host)},_refreshButton:function(e,i,s){!function(e){var t=this;e=t._render(e),t._removeStyles(e),t._addStyles(e,i,s),t._performLayout(e),t._removeButtonListeners(e),t._addButtonListeners(e),t._handleButtonId(e,i),"radio"===t.mode?e.attr("role","radio"):e.attr("role","button"),e.attr("disabled",t.disabled),t.disabled?e.addClass(t.toThemeProperty("jqx-fill-state-disabled")):e.removeClass(t.toThemeProperty("jqx-fill-state-disabled"))}.apply(this,[e])},destroy:function(e){for(var t,i=this.host.children(),s=i.length,r=0;r<s;r+=1)t=o(i[r]),this._removeStyles(t),this._removeButtonListeners(t);!1!==e&&this.host.remove()},_render:function(e){return"button"===e[0].tagName.toLowerCase()?this._renderFromButton(e):this._renderButton(e)},_renderButton:function(e){return e.wrapInner("<div/>"),e},_removeStyles:function(e){var t=this.toThemeProperty;this.host.removeClass("jqx-widget"),this.host.removeClass("jqx-rc-all"),e.removeClass(t.call(this,"jqx-fill-state-normal")),e.removeClass(t.call(this,"jqx-group-button-normal")),e.removeClass(t.call(this,"jqx-rc-tl")),e.removeClass(t.call(this,"jqx-rc-bl")),e.removeClass(t.call(this,"jqx-rc-tr")),e.removeClass(t.call(this,"jqx-rc-br")),e.css("margin-left",0)},_addStyles:function(e,t,i){var s=this.toThemeProperty;this.host.addClass(s.call(this,"jqx-widget")),this.host.addClass(s.call(this,"jqx-rc-all")),this.host.addClass(s.call(this,"jqx-buttongroup")),e.addClass(s.call(this,"jqx-button")),e.addClass(s.call(this,"jqx-group-button-normal")),e.addClass(s.call(this,"jqx-fill-state-normal")),this.template&&e.addClass(s.call(this,"jqx-"+this.template)),this.roundedCorners&&(0===t?this._addRoundedCorners(e,!0):t===i-1&&this._addRoundedCorners(e,!1)),"horizontal"===this.orientation?e.css("margin-left",-parseInt(e.css("border-left-width"),10)):e.css("margin-top",-parseInt(e.css("border-left-width"),10))},_addRoundedCorners:function(e,t){var i=this.toThemeProperty;"horizontal"===this.orientation?t?(e.addClass(i.call(this,"jqx-rc-tl")),e.addClass(i.call(this,"jqx-rc-bl"))):(e.addClass(i.call(this,"jqx-rc-tr")),e.addClass(i.call(this,"jqx-rc-br"))):t?(e.addClass(i.call(this,"jqx-rc-tl")),e.addClass(i.call(this,"jqx-rc-tr"))):(e.addClass(i.call(this,"jqx-rc-bl")),e.addClass(i.call(this,"jqx-rc-br")))},_centerContent:function(e,t){return e.css({"margin-top":(t.height()-e.height())/2,"margin-left":(t.width()-e.width())/2}),e},_renderFromButton:function(e){var t,i=e.val(),s=(""===i&&(i=e.html()),e[0].id);return e.wrap("<div/>"),(t=e.parent()).attr("style",e.attr("style")),e.remove(),o.jqx.utilities.html(t,i),t[0].id=s,t},_performLayout:function(e){"horizontal"===this.orientation?this.rtl?e.css("float","right"):e.css("float","left"):e.css("float","none"),this._centerContent(o(e.children()),e)},_mouseEnterHandler:function(e){var t,i=e.data.self,e=o(e.currentTarget);!i._isDisabled(e)&&i.enableHover&&(t=i.toThemeProperty,e.addClass(t.call(i,"jqx-group-button-hover")),e.addClass(t.call(i,"jqx-fill-state-hover")))},_mouseLeaveHandler:function(e){var t,i=e.data.self,e=o(e.currentTarget);!i._isDisabled(e)&&i.enableHover&&(t=i.toThemeProperty,e.removeClass(t.call(i,"jqx-group-button-hover")),e.removeClass(t.call(i,"jqx-fill-state-hover")))},_mouseDownHandler:function(e){var t,i=e.data.self,e=o(e.currentTarget);i._isDisabled(e)||(i._pressed=e,t=i.toThemeProperty,e.addClass(t.call(i,"jqx-group-button-pressed")),e.addClass(t.call(i,"jqx-fill-state-pressed")))},_mouseUpHandler:function(e){var t=e.data.self,e=o(e.currentTarget);t._isDisabled(e)||(t._handleSelection(e),t._pressed=null,e=t._buttonId[e[0].id],t._raiseEvent(2,{index:e.num,button:e.btn}))},_isDisabled:function(e){return!(!e||!e[0])&&this._buttonId[e[0].id].disabled},_documentUpHandler:function(e){var e=e.data.self,t=e._pressed;t&&!e._buttonId[t[0].id].selected&&(t.removeClass(e.toThemeProperty("jqx-fill-state-pressed")),e._pressed=null)},_addButtonListeners:function(e){var t=this,i=t.addHandler,s=t._getEvent;i(e,s.call(t,"mouseenter"),t._mouseEnterHandler,{self:t}),i(e,s.call(t,"mouseleave"),t._mouseLeaveHandler,{self:t}),i(e,s.call(t,"mousedown"),t._mouseDownHandler,{self:t}),i(e,s.call(t,"mouseup"),t._mouseUpHandler,{self:t}),i(o(document),s.call(t,"mouseup"),t._documentUpHandler,{self:t})},_removeButtonListeners:function(e){var t=this,i=t.removeHandler,s=t._getEvent;i(e,s.call(t,"mouseenter"),t._mouseEnterHandler),i(e,s.call(t,"mouseleave"),t._mouseLeaveHandler),i(e,s.call(t,"mousedown"),t._mouseDownHandler),i(e,s.call(t,"mouseup"),t._mouseUpHandler),i(o(document),s.call(t,"mouseup"),t._documentUpHandler)},_handleSelection:function(e){"radio"===this.mode?this._handleRadio(e):"checkbox"===this.mode?this._handleCheckbox(e):this._handleDefault(e)},_handleRadio:function(e){var t,i=this._getSelectedButton();for(t in i&&i.btn[0].id!==e[0].id&&this._unselectButton(i.btn,!0),this._buttonId)this._buttonId[t].selected=!0,this._unselectButton(this._buttonId[t].btn,!1);this._selectButton(e,!0)},_handleCheckbox:function(e){var t=this._buttonId[e[0].id];t.selected?this._unselectButton(t.btn,!0):this._selectButton(e,!0)},_handleDefault:function(e){for(var t in this._selectButton(e,!1),this._buttonId)this._buttonId[t].selected=!0,this._unselectButton(this._buttonId[t].btn,!1)},_getSelectedButton:function(){for(var e in this._buttonId)if(this._buttonId[e].selected)return this._buttonId[e];return null},_getSelectedButtons:function(){var e,t=[];for(e in this._buttonId)this._buttonId[e].selected&&t.push(this._buttonId[e].num);return t},_getButtonByIndex:function(e){for(var t in this._buttonId)if(this._buttonId[t].num===e)return this._buttonId[t];return null},_selectButton:function(e,t){var i,e=this._buttonId[e[0].id];e.selected||(i=this.toThemeProperty,e.btn.addClass(i.call(this,"jqx-group-button-pressed")),e.btn.addClass(i.call(this,"jqx-fill-state-pressed")),e.selected=!0,t&&this._raiseEvent(0,{index:e.num,button:e.btn}),o.jqx.aria(e.btn,"aria-checked",!0))},_unselectButton:function(e,t){var i,e=this._buttonId[e[0].id];e.selected&&(i=this.toThemeProperty,e.btn.removeClass(i.call(this,"jqx-group-button-pressed")),e.btn.removeClass(i.call(this,"jqx-fill-state-pressed")),e.selected=!1,t&&this._raiseEvent(1,{index:e.num,button:e.btn}),o.jqx.aria(e.btn,"aria-checked",!1))},setSelection:function(e){if(-1===e)this.clearSelection();else if("checkbox"===this.mode)if("number"==typeof e)this._setSelection(e);else for(var t=0;t<e.length;t+=1)this._setSelection(e[t]);else"number"==typeof e&&"radio"===this.mode&&this._setSelection(e)},_setSelection:function(e){e=this._getButtonByIndex(e);e&&this._handleSelection(e.btn)},getSelection:function(){if("radio"===this.mode){if(this._getSelectedButton())return this._getSelectedButton().num}else if("checkbox"===this.mode)return this._getSelectedButtons()},disable:function(){var e,t;for(t in this.disabled=!0,this._buttonId)e=this._buttonId[t],this.disableAt(e.num);o.jqx.aria(this,"aria-disabled",!0)},enable:function(){var e,t;for(t in this.disabled=!1,this._buttonId)e=this._buttonId[t],this.enableAt(e.num);o.jqx.aria(this,"aria-disabled",!1)},disableAt:function(e){e=this._getButtonByIndex(e);e.disabled||(e.disabled=!0,e.btn.addClass(this.toThemeProperty("jqx-fill-state-disabled")))},enableAt:function(e){e=this._getButtonByIndex(e);e.disabled&&(e.disabled=!1,e.btn.removeClass(this.toThemeProperty("jqx-fill-state-disabled")))},_handleButtonId:function(e,t){var t={btn:e,num:t,selected:!1},i=(i=e[0].id)||this._baseId+e.index();return e[0].id=i,this._buttonId[i]=t,i},_raiseEvent:function(e,t){e=o.Event(this._events[e]);return e.args=t,this.host.trigger(e)},_unselectAll:function(){for(var e in this._buttonId)this._unselectButton(this._buttonId[e].btn,!1)},clearSelection:function(){this._unselectAll()},propertyChangedHandler:function(e,t,i,s){"theme"===t&&null!==s&&o.jqx.utilities.setTheme(i,s,e.host),"rtl"===t&&e.refresh(),"template"===t&&e.refresh(),"mode"===t?(e._unselectAll(),e.refresh()):"disabled"===t?s?e.disable():e.enable():e.refresh()}})}(jqxBaseFramework),!function(n){n.jqx.cssroundedcorners=function(e){var t,i={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(t in i)if(i.hasOwnProperty(t)&&e==t)return i[t]},n.jqx.jqxWidget("jqxButton","",{}),n.extend(n.jqx._jqxButton.prototype,{defineInstance:function(){var e={type:"",cursor:"arrow",roundedCorners:"all",disabled:!1,height:null,width:null,overrideTheme:!1,enableHover:!0,enableDefault:!0,enablePressed:!0,imgPosition:"center",imgSrc:"",imgWidth:16,imgHeight:16,value:null,textPosition:"",textImageRelation:"overlay",rtl:!1,_ariaDisabled:!1,_scrollAreaButton:!1,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===n.jqx._jqxButton.prototype||n.extend(!0,this,e),e},_addImage:function(e){var t,i,s,r=this;"input"!=r.element.nodeName.toLowerCase()&&"button"!=r.element.nodeName.toLowerCase()&&"div"!=r.element.nodeName.toLowerCase()||(r._img?(r._img.setAttribute("src",r.imgSrc),r._img.setAttribute("width",r.imgWidth),r._img.setAttribute("height",r.imgHeight),r._text.innerHTML=r.value):(r.field=r.element,r.field.className&&(r._className=r.field.className),t={title:r.field.title},s=null,r.field.getAttribute("value")?s=r.field.getAttribute("value"):"input"!=r.element.nodeName.toLowerCase()&&(s=r.element.innerHTML),r.value&&(s=r.value),r.field.id.length?t.id=r.field.id.replace(/[^\w]/g,"_")+"_"+e:t.id=n.jqx.utilities.createId()+"_"+e,(e=document.createElement("div")).id=t.id,e.title=t.title,e.style.cssText=r.field.style.cssText,e.style.boxSizing="border-box",(i=document.createElement("img")).setAttribute("src",r.imgSrc),i.setAttribute("width",r.imgWidth),i.setAttribute("height",r.imgHeight),e.appendChild(i),r._img=i,i=document.createElement("span"),s&&(i.innerHTML=s,r.value=s),e.appendChild(i),r._text=i,r.field.style.display="none",r.field.parentNode&&r.field.parentNode.insertBefore(e,r.field.nextSibling),s=r.host.data(),r.host=n(e),r.host.data(s),r.element=e,r.element.id=r.field.id,r.field.id=t.id,i=new n(r.element),s=new n(r.field),r._className&&(i.addClass(r._className),s.removeClass(r._className)),r.field.tabIndex&&(e=r.field.tabIndex,r.field.tabIndex=-1,r.element.tabIndex=e)),r.imgSrc?r._img.style.display="inline":r._img.style.display="none",r.value?r._text.style.display="inline":r._text.style.display="none",r._positionTextAndImage())},_positionTextAndImage:function(){var e=this,t=e.element.offsetWidth,i=e.element.offsetHeight,s=e.imgWidth,r=e.imgHeight,n=(""==e.imgSrc&&(r=s=0),e._text.offsetWidth),o=e._text.offsetHeight,a=0,l=0;switch(e.textImageRelation){case"imageBeforeText":case"textBeforeImage":a=s+n+8+4+8,l=Math.max(r,o)+8+4+8;break;case"imageAboveText":case"textAboveImage":a=Math.max(s,n)+8,l=r+o+4+8+8;break;case"overlay":a=Math.max(s,n)+8,l=Math.max(r,o)+8}e.width||(e.element.style.width=a+"px",t=a),e.height||(e.element.style.height=l+"px",i=l),e._img.style.position="absolute",e._text.style.position="absolute",e.element.style.position="relative",e.element.style.overflow="hidden";function d(e,t,i,s,r){switch(t.width<s&&(t.width=s),t.height<r&&(t.height=r),i){case"left":e.style.left=t.left+"px",e.style.top=t.top+t.height/2-r/2+"px";break;case"topLeft":e.style.left=t.left+"px",e.style.top=t.top+"px";break;case"bottomLeft":e.style.left=t.left+"px",e.style.top=t.top+t.height-r+"px";break;default:case"center":e.style.left=t.left+t.width/2-s/2+"px",e.style.top=t.top+t.height/2-r/2+"px";break;case"top":e.style.left=t.left+t.width/2-s/2+"px",e.style.top=t.top+"px";break;case"bottom":e.style.left=t.left+t.width/2-s/2+"px",e.style.top=t.top+t.height-r+"px";break;case"right":e.style.left=t.left+t.width-s+"px",e.style.top=t.top+t.height/2-r/2+"px";break;case"topRight":e.style.left=t.left+t.width-s+"px",e.style.top=t.top+"px";break;case"bottomRight":e.style.left=t.left+t.width-s+"px",e.style.top=t.top+t.height-r+"px"}}var h,c={},u={},p=t,m=i,g=+p/2,f=+m/2,v=e._img,x=e._text,y=+p;switch(p=p-4-2,y=y-8-2,h=+m-8-2,e.textImageRelation){case"imageBeforeText":switch(e.imgPosition){case"left":case"topLeft":case"bottomLeft":u={left:4,top:4,width:4+s,height:h},c={left:4+s+4,top:4,width:y-s-4,height:h};break;case"center":case"top":case"bottom":c={left:(u={left:g-n/2-s/2-2,top:4,width:s,height:h}).left+s+4,top:4,width:p-u.left-s-4,height:h};break;case"right":case"topRight":case"bottomRight":c={left:(u={left:p-n-s-4,top:4,width:s,height:h}).left+s+4,top:4,width:p-u.left-s-4,height:h}}d(v,u,e.imgPosition,s,r),d(x,c,e.textPosition,n,o);break;case"textBeforeImage":switch(e.textPosition){case"left":case"topLeft":case"bottomLeft":c={left:4,top:4,width:4+n,height:h},u={left:4+n+4,top:4,width:y-n-4,height:h};break;case"center":case"top":case"bottom":u={left:(c={left:g-n/2-s/2-2,top:4,width:n,height:h}).left+n+4,top:4,width:p-c.left-n-4,height:h};break;case"right":case"topRight":case"bottomRight":u={left:(c={left:p-n-s-4,top:4,width:n,height:h}).left+n+4,top:4,width:p-c.left-n-4,height:h}}d(v,u,e.imgPosition,s,r),d(x,c,e.textPosition,n,o);break;case"imageAboveText":switch(e.imgPosition){case"topRight":case"top":case"topLeft":u={left:4,top:4,width:y,height:r},c={left:4,top:4+r+4,width:y,height:h-r-4};break;case"left":case"center":case"right":c={left:4,top:(u={left:4,top:f-r/2-o/2-2,width:y,height:r}).top+4+r,width:y,height:h-u.top-4-r};break;case"bottomLeft":case"bottom":case"bottomRight":c={left:4,top:(u={left:4,top:m-r-o-4,width:y,height:r}).top+4+r,width:y,height:o}}d(v,u,e.imgPosition,s,r),d(x,c,e.textPosition,n,o);break;case"textAboveImage":switch(e.textPosition){case"topRight":case"top":case"topLeft":c={left:4,top:4,width:y,height:o},u={left:4,top:4+o+4,width:y,height:h-o-4};break;case"left":case"center":case"right":u={left:4,top:(c={left:4,top:f-r/2-o/2-2,width:y,height:o}).top+4+o,width:y,height:h-c.top-4-o};break;case"bottomLeft":case"bottom":case"bottomRight":u={left:4,top:(c={left:4,top:m-r-o-4,width:y,height:o}).top+4+o,width:y,height:r}}d(v,u,e.imgPosition,s,r),d(x,c,e.textPosition,n,o);break;default:c={left:4,top:4,width:y,height:h},d(v,u={left:4,top:4,width:y,height:h},e.imgPosition,s,r),d(x,c,e.textPosition,n,o)}},createInstance:function(e){var t,i=this,s=(i._setSize(),i.isMaterialized(),i.buttonObj=new n(i.element),(""!=i.imgSrc||""!=i.textPosition||i.element.value&&0<=i.element.value.indexOf("<")||null!=i.value)&&(i.refresh(),i._addImage("jqxButton"),i.buttonObj=new n(i.element)),i._ariaDisabled||i.element.setAttribute("role","button"),""!==i.type&&i.element.setAttribute("type",i.type),i.overrideTheme||(i.buttonObj.addClass(i.toThemeProperty(n.jqx.cssroundedcorners(i.roundedCorners))),i.enableDefault&&i.buttonObj.addClass(i.toThemeProperty("jqx-button")),i.buttonObj.addClass(i.toThemeProperty("jqx-widget"))),i.isTouchDevice=n.jqx.mobile.isTouchDevice(),i._ariaDisabled||n.jqx.aria(this),"arrow"!=i.cursor&&(i.disabled?i.element.style.cursor="arrow":i.element.style.cursor=i.cursor),"mouseenter mouseleave mousedown focus blur");i._scrollAreaButton&&(s="mousedown"),i.isTouchDevice&&(i.addHandler(i.host,n.jqx.mobile.getTouchEventName("touchstart"),function(e){i.isPressed=!0,i.refresh()}),i.addHandler(n(document),n.jqx.mobile.getTouchEventName("touchend")+"."+i.element.id,function(e){i.isPressed=!1,i.refresh()})),i.addHandler(i.host,s,function(e){switch(e.type){case"mouseenter":i.isTouchDevice||!i.disabled&&i.enableHover&&(i.isMouseOver=!0,i.refresh());break;case"mouseleave":i.isTouchDevice||!i.disabled&&i.enableHover&&(i.isMouseOver=!1,i.refresh());break;case"mousedown":i.disabled||(i.isPressed=!0,i.refresh());break;case"focus":i.disabled||(i.isFocused=!0,i.refresh());break;case"blur":i.disabled||(i.isFocused=!1,i.refresh())}}),i.mouseupfunc=function(e){i.disabled||(i.isPressed||i.isMouseOver)&&(i.isPressed=!1,i.refresh())},i.addHandler(document,"mouseup.button"+i.element.id,i.mouseupfunc);try{""==document.referrer&&!window.frameElement||null==window.top||window.top==window.that||(t="",-1!=(t=window.parent&&document.referrer?document.referrer:t).indexOf(document.location.host)&&window.top.document&&window.top.document.addEventListener("mouseup",i._topDocumentMouseupHandler))}catch(e){}i.propertyChangeMap.roundedCorners=function(e,t,i,s){e.buttonObj.removeClass(e.toThemeProperty(n.jqx.cssroundedcorners(i))),e.buttonObj.addClass(e.toThemeProperty(n.jqx.cssroundedcorners(s)))},i.propertyChangeMap.disabled=function(e,t,i,s){i!=s&&(e.refresh(),e.element.setAttribute("disabled",s),e.element.disabled=s,e.element.style.cursor=s?"default":e.cursor,n.jqx.aria(e,"aria-disabled",e.disabled))},i.propertyChangeMap.rtl=function(e,t,i,s){i!=s&&e.refresh()},i.propertyChangeMap.template=function(e,t,i,s){i!=s&&(e.buttonObj.removeClass(e.toThemeProperty("jqx-"+i)),e.refresh())},i.propertyChangeMap.theme=function(e,t,i,s){e.buttonObj.removeClass(e.element),i&&(e.buttonObj.removeClass("jqx-button-"+i),e.buttonObj.removeClass("jqx-widget-"+i),e.buttonObj.removeClass("jqx-fill-state-normal-"+i),e.buttonObj.removeClass(e.toThemeProperty(n.jqx.cssroundedcorners(e.roundedCorners))+"-"+i)),e.enableDefault&&e.buttonObj.addClass(e.toThemeProperty("jqx-button")),e.buttonObj.addClass(e.toThemeProperty("jqx-widget")),e.overrideTheme||e.buttonObj.addClass(e.toThemeProperty(n.jqx.cssroundedcorners(e.roundedCorners))),e._oldCSSCurrent=null,e.refresh()},i.disabled&&(i.element.disabled=!0,i.element.setAttribute("disabled","true"))},resize:function(e,t){this.width=e,this.height=t,this._setSize()},val:function(e){var t=this,i=t.host.find("input");return 0<i.length?(0==arguments.length||"object"==typeof e||(i.val(e),t.refresh()),i.val()):0==arguments.length||"object"==typeof e?"button"==t.element.nodeName.toLowerCase()?n(t.element).text():t.element.value:(0<arguments.length&&t._text?t._text.innerHTML=e:(0<arguments.length&&"DIV"===t.element.nodeName&&(t.element.innerHTML=e,t.refresh()),t.element.value=e,"button"==t.element.nodeName.toLowerCase()&&n(t.element).html(e)),void t.refresh())},_setSize:function(){var e=this.height,t=this.width;e&&(isNaN(e)||(e+="px"),this.element.style.height=e),t&&(isNaN(t)||(t+="px"),this.element.style.width=t)},_removeHandlers:function(){var e=this;e.removeHandler(e.host,"selectstart"),e.removeHandler(e.host,"click"),e.removeHandler(e.host,"focus"),e.removeHandler(e.host,"blur"),e.removeHandler(e.host,"mouseenter"),e.removeHandler(e.host,"mouseleave"),e.removeHandler(e.host,"mousedown"),e.removeHandler(n(document),"mouseup.button"+e.element.id,e.mouseupfunc),e.isTouchDevice&&(e.removeHandler(e.host,n.jqx.mobile.getTouchEventName("touchstart")),e.removeHandler(n(document),n.jqx.mobile.getTouchEventName("touchend")+"."+e.element.id)),e.mouseupfunc=null,delete e.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){var e=this,t=(e._removeHandlers(),n.data(e.element,"jqxButton"));t&&delete t.instance,e.host.removeClass(),e.host.removeData(),e.host.remove(),delete e.set,delete e.get,delete e.call,delete e.element,delete e.host},render:function(){this.refresh()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),e.refresh())},propertyChangedHandler:function(e,t,i,s){null==this.isInitialized||0==this.isInitialized||s==i||e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("type"===t&&e.element.setAttribute("type",s),"textImageRelation"!=t&&"textPosition"!=t&&"imgPosition"!=t||(e._img?e._positionTextAndImage():e._addImage("jqxButton")),"imgSrc"!=t&&"imgWidth"!=t&&"imgHeight"!=t||e._addImage("jqxButton"),"value"===t&&e.val(s),"width"!=t&&"height"!=t||(e._setSize(),e.refresh()))},refresh:function(){var e=this;if(!e.overrideTheme){var t=e.toThemeProperty("jqx-fill-state-focus"),i=e.toThemeProperty("jqx-fill-state-disabled"),s=e.toThemeProperty("jqx-fill-state-normal"),r=(e.enableDefault||(s=""),e.toThemeProperty("jqx-fill-state-hover")),n=e.toThemeProperty("jqx-fill-state-pressed"),o=e.toThemeProperty("jqx-fill-state-pressed"),a=(e.enablePressed||(n=""),"");if(e.host){if(e.element.disabled=e.disabled,e.disabled)return e._oldCSSCurrent&&e.buttonObj.removeClass(e._oldCSSCurrent),a=s+" "+i,"default"!==e.template&&""!==e.template&&(a+=" jqx-"+e.template,""!=e.theme&&(a+=" jqx-"+e.template+"-"+e.theme)),e.buttonObj.addClass(a),void(e._oldCSSCurrent=a);a=e.isMouseOver&&!e.isTouchDevice?e.isPressed?o:r:e.isPressed?n:s,e.isFocused&&(a+=" "+t),"default"!==e.template&&""!==e.template&&(a+=" jqx-"+e.template,""!=e.theme&&(a+=" jqx-"+e.template+"-"+e.theme)),a!=e._oldCSSCurrent&&(e._oldCSSCurrent&&e.buttonObj.removeClass(e._oldCSSCurrent),e.buttonObj.addClass(a),e._oldCSSCurrent=a),e.rtl&&(e.buttonObj.addClass(e.toThemeProperty("jqx-rtl")),e.element.style.direction="rtl"),e.isMaterialized()&&e.host.addClass("buttonRipple")}}}}),n.jqx.jqxWidget("jqxLinkButton","",{}),n.extend(n.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=!1,this.height=null,this.width=null,this.rtl=!1,this.href=null},createInstance:function(e){var t=this,i=(this.host.onselectstart=function(){return!1},this.host.attr("role","button"),this.height||this.element.offsetHeight),s=this.width||this.element.offsetWidth,r=(this.href=this.element.getAttribute("href"),this.target=this.element.getAttribute("target"),this.content=this.host.text(),this.element.innerHTML="",document.createElement("input"));r.type="button",r.className="jqx-wrapper "+this.toThemeProperty("jqx-reset"),this._setSize(r,s,i),r.value=this.content;new n(this.element).addClass(this.toThemeProperty("jqx-link")),this.element.style.color="inherit",this.element.appendChild(r),this._setSize(r,s,i);s=null!=e&&e[0]||{};n(r).jqxButton(s),this.wrapElement=r,this.disabled&&(this.element.disabled=!0),this.propertyChangeMap.disabled=function(e,t,i,s){e.element.disabled=s,e.wrapElement.jqxButton({disabled:s})},this.addHandler(n(r),"click",function(e){return this.disabled||t.onclick(e),!1})},_setSize:function(e,t,i){i&&(isNaN(i)||(i+="px"),e.style.height=i),t&&(isNaN(t)||(t+="px"),e.style.width=t)},onclick:function(e){null!=this.target?window.open(this.href,this.target):window.location=this.href}}),n.jqx.jqxWidget("jqxRepeatButton","jqxButton",{}),n.extend(n.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(e){var t=this,i=n.jqx.mobile.isTouchDevice(),s=i?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,r=i?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.addHandler(n(document),s,function(e){null!=t.timeout&&(clearTimeout(t.timeout),t.timeout=null,t.refresh()),null!=t.timer&&(clearInterval(t.timer),t.timer=null,t.refresh())}),this.addHandler(this.base.host,r,function(e){null!=t.timer&&clearInterval(t.timer),t.timeout=setTimeout(function(){clearInterval(t.timer),t.timer=setInterval(function(e){t.ontimer(e)},t.delay)},150)}),this.mousemovefunc=function(e){i||0==e.which&&null!=t.timer&&(clearInterval(t.timer),t.timer=null)},this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var e=n.jqx.mobile.isTouchDevice(),t=e?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,e=e?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id,e=(this.removeHandler(this.base.host,"mousemove",this.mousemovefunc),this.removeHandler(this.base.host,e),this.removeHandler(n(document),t),this.timer=null,delete this.mousemovefunc,delete this.timer,n.data(this.base.element,"jqxRepeatButton"));e&&delete e.instance,n(this.base.element).removeData(),this.base.destroy(),delete this.base},stop:function(){clearInterval(this.timer),this.timer=null},ontimer:function(e){e=new n.Event("click");null!=this.base&&null!=this.base.host&&this.base.host.trigger(e)}}),n.jqx.jqxWidget("jqxToggleButton","jqxButton",{}),n.extend(n.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=!1,this.uiToggle=!0,this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(e){var t=this;t.base.overrideTheme=!0,t.isTouchDevice=n.jqx.mobile.isTouchDevice(),n.jqx.aria(this),t.propertyChangeMap.roundedCorners=function(e,t,i,s){e.base.buttonObj.removeClass(e.toThemeProperty(n.jqx.cssroundedcorners(i))),e.base.buttonObj.addClass(e.toThemeProperty(n.jqx.cssroundedcorners(s)))},t.propertyChangeMap.toggled=function(e,t,i,s){e.refresh()},t.propertyChangeMap.disabled=function(e,t,i,s){e.base.disabled=s,e.refresh()},t.addHandler(t.base.host,"click",function(e){!t.base.disabled&&t.uiToggle&&t.toggle()}),t.isTouchDevice||(t.addHandler(t.base.host,"mouseenter",function(e){t.base.disabled||t.refresh()}),t.addHandler(t.base.host,"mouseleave",function(e){t.base.disabled||t.refresh()})),t.addHandler(t.base.host,"mousedown",function(e){t.base.disabled||t.refresh()}),t.addHandler(n(document),"mouseup.togglebutton"+t.base.element.id,function(e){t.base.disabled||t.refresh()})},destroy:function(){this._removeHandlers(),this.base.destroy()},_removeHandlers:function(){this.removeHandler(this.base.host,"click"),this.removeHandler(this.base.host,"mouseenter"),this.removeHandler(this.base.host,"mouseleave"),this.removeHandler(this.base.host,"mousedown"),this.removeHandler(n(document),"mouseup.togglebutton"+this.base.element.id)},toggle:function(){this.toggled=!this.toggled,this.refresh(),n.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=!1,this.refresh()},check:function(){this.toggled=!0,this.refresh()},refresh:function(){var e=this,t=e.base.toThemeProperty("jqx-fill-state-disabled"),i=e.base.toThemeProperty("jqx-fill-state-normal"),s=(e.base.enableDefault||(i=""),e.base.toThemeProperty("jqx-fill-state-hover")),r=e.base.toThemeProperty("jqx-fill-state-pressed"),n=e.base.toThemeProperty("jqx-fill-state-pressed"),o="";e.base.element.disabled=e.base.disabled,e.base.disabled?e.base.buttonObj.addClass(o=i+" "+t):(o=e.base.isMouseOver&&!e.isTouchDevice?e.base.isPressed||e.toggled?n:s:e.base.isPressed||e.toggled?r:i,"default"!==e.base.template&&""!==e.base.template&&(o+=" jqx-"+e.base.template,""!=e.base.theme&&(o+=" jqx-"+e.template+"-"+e.base.theme)),e.base.buttonObj.hasClass(t)&&t!=o&&e.base.buttonObj.removeClass(t),e.base.buttonObj.hasClass(i)&&i!=o&&e.base.buttonObj.removeClass(i),e.base.buttonObj.hasClass(s)&&s!=o&&e.base.buttonObj.removeClass(s),e.base.buttonObj.hasClass(r)&&r!=o&&e.base.buttonObj.removeClass(r),e.base.buttonObj.hasClass(n)&&n!=o&&e.base.buttonObj.removeClass(n),e.base.buttonObj.hasClass(o)||e.base.buttonObj.addClass(o))},_topDocumentMouseupHandler:function(e){this.isPressed=!1,this.refresh()}})}(jqxBaseFramework),!function(_){_.jqx.jqxWidget("jqxCalendar","",{}),_.extend(_.jqx._jqxCalendar.prototype,{defineInstance:function(){var e={disabled:!1,restrictedDates:new Array,multipleMonthRows:1,multipleMonthColumns:1,minDate:_.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:_.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),navigationDelay:400,stepMonths:1,width:null,height:null,value:_.jqx._jqxDateTimeInput.getDateTime(new Date),firstDayOfWeek:0,showWeekNumbers:!1,showDayNames:!0,enableWeekend:!1,enableOtherMonthDays:!0,showOtherMonthDays:!0,rowHeaderWidth:25,columnHeaderHeight:25,titleHeight:30,dayNameFormat:"firstTwoLetters",monthNameFormat:"default",titleFormat:["MMMM yyyy","yyyy","yyyy","yyyy"],enableViews:!0,readOnly:!1,culture:"default",enableFastNavigation:!0,enableHover:!0,enableAutoNavigation:!0,enableTooltips:!1,backText:"Back",forwardText:"Forward",specialDates:new Array,keyboardNavigation:!0,selectionMode:"default",selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],todayString:"Today",clearString:"Clear",showFooter:!1,selection:{from:null,to:null},canRender:!0,_checkForHiddenParent:!0,height:null,rtl:!1,view:"month",views:["month","year","decade"],changing:null,change:null,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["backButtonClick","nextButtonClick","valuechanged","cellMouseDown","cellMouseUp","cellSelected","cellUnselected","change","viewChange"]};return this===_.jqx._jqxCalendar.prototype||(_.extend(!0,this,e),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(0),this.minDate._setMinutes(0),this.minDate._setSeconds(0),this.minDate._setMilliseconds(0),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(0),this.maxDate._setMinutes(0),this.maxDate._setSeconds(0),this.maxDate._setMilliseconds(0),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),e},_createFromInput:function(e){var t,i,s=this;"input"==s.element.nodeName.toLowerCase()&&(s.field=s.element,s.field.className&&(s._className=s.field.className),t={title:s.field.title},s.field.value&&(t.value=s.field.value),s.field.checked&&(t.checked=!0),s.field.id.length?t.id=s.field.id.replace(/[^\w]/g,"_")+"_"+e:t.id=_.jqx.utilities.createId()+"_"+e,s.field.getAttribute("min")&&"Invalid Date"!=(e=new Date(s.field.getAttribute("min")))&&(s.min=e),s.field.getAttribute("max")&&"Invalid Date"!=(e=new Date(s.field.getAttribute("max")))&&(s.max=e),(e=_("<div></div>",t))[0].style.cssText=s.field.style.cssText,s.width||(s.width=_(s.field).width()),s.height||(s.height=_(s.field).outerHeight()),_(s.field).hide().after(e),i=s.host.data(),s.host=e,s.host.data(i),s.element=e[0],s.element.id=s.field.id,s.field.id=t.id,s._className&&(s.host.addClass(s._className),_(s.field).removeClass(s._className)),s.field.tabIndex&&(i=s.field.tabIndex,s.field.tabIndex=-1,s.element.tabIndex=i))},createInstance:function(e){var t,i,s=this,r=(s._createFromInput("jqxCalendar"),s.isMaterialized()&&(i=(t=window.getComputedStyle(this.element)).getPropertyValue("--jqx-calendar-title-height"),t=t.getPropertyValue("--jqx-calendar-column-header-height"),i&&(this.titleHeight=parseInt(i)),t&&(this.columnHeaderHeight=parseInt(t)),"fluent"===this.theme&&(this.navigationDelay=0),setTimeout(function(){s.refreshControl()},200)),this.setCalendarSize(),""===this.element.id&&(this.element.id=_.jqx.utilities.createId()),"date"==_.type(this.value)&&(this.value=_.jqx._jqxDateTimeInput.getDateTime(this.value)),this.element.innerHTML="",this.host.attr("data-role","calendar"),this.element.id,this),n=(this.propertyChangeMap.width=function(e,t,i,s){r.setCalendarSize()},this.propertyChangeMap.height=function(e,t,i,s){r.setCalendarSize()},_.global&&_.global.preferCulture(this.culture),"default"!=this.culture&&(_.global?(_.global.preferCulture(this.culture),this.localization.calendar=_.global.culture.calendar):window.Globalize&&(i=window.Globalize.culture(this.culture),this.localization.calendar=i.calendar),this.firstDayOfWeek=this.localization.calendar.firstDay),"Back"!=this.localization.backString&&(this.backText=this.localization.backString),"Forward"!=this.localization.forwardString&&(this.forwardText=this.localization.forwardString),"Today"!=this.localization.todayString&&this.localization.todayString&&(this.todayString=this.localization.todayString),"Clear"!=this.localization.clearString&&this.localization.clearString&&(this.clearString=this.localization.clearString),this.localization.calendar&&null!=this.localization.calendar.firstDay&&"default"!=this.culture&&(this.firstDayOfWeek=this.localization.calendar.firstDay),this.setMaxDate(this.max,!1),this.setMinDate(this.min,!1),this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.host.css("outline","none"),this.host.addClass(this.toThemeProperty("jqx-calendar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this._addInput(),-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&-1==this.views.indexOf("month")&&(this.view="decade"),this.addHandler(this.host,"keydown",function(e){var t=!0;return r.keyboardNavigation&&null!=r._handleKey&&!(t=r._handleKey(e))&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()),t}),!1),o=this,a=!1;null!=r.width&&-1!=r.width.toString().indexOf("%")&&(a=!0),null!=r.height&&-1!=r.height.toString().indexOf("%")&&(a=!0),_.jqx.utilities.resize(this.host,function(){var e=o.host.find("#View"+r.element.id);n?o.refreshTitle(e):(n=!0,o.render()),a&&(r.refreshTimer&&clearTimeout(r.refreshTimer),r.refreshTimer=setTimeout(function(){r.refreshControl()},1))},!1,this._checkForHiddenParent);this.propertyChangeMap.disabled=function(e,t,i,s){s?e.host.addClass(r.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(r.toThemeProperty("jqx-fill-state-disabled")),r.refreshControl()}},_addInput:function(){var e=this.host.attr("name");this.input=_("<input type='hidden'/>"),this.host.append(this.input),e&&this.input.attr("name",e),this.input.val(this.getDate().toString())},setCalendarSize:function(){(null!=this.width&&-1!=this.width.toString().indexOf("px")||null!=this.width&&!isNaN(this.width))&&this.host.width(this.width),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.css("width",this.width),(null!=this.height&&-1!=this.height.toString().indexOf("px")||null!=this.height&&!isNaN(this.height))&&this.host.height(this.height),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.css("height",this.height)},_getYearAndMonthPart:function(e){return e?new Date(e.getFullYear(),e.getMonth(),1):new Date(1900,0,1)},_handleKey:function(e){if(this.readOnly)return!0;var t=e.keyCode,i=this._getSelectedDate();if(null==i){if("month"!=this.view||37!=t&&38!=t&&39!=t&&40!=t)return!0;this.selectedDate=new Date(this.value.year,this.value.month-1,1),this._selectDate(this.selectedDate,"key"),i=this.selectedDate}if(e.altKey)return!0;if(this._animating)return!1;if("month"!=this.view&&13==t&&(w=this._getSelectedCell(),this._setDateAndSwitchViews(w,e,"keyboard")),"year"==this.view){var s,r=i.getMonth(),n=this._getYearAndMonthPart(this.getMinDate()),o=this._getYearAndMonthPart(this.getMaxDate());switch(t){case 37:return 0==r?n<=(s=new Date(i.getFullYear()-1,11,1))?(this.selectedDate=s,this.navigateBackward()):this.selectedDate!=n&&(this.selectedDate=n,this.navigateBackward()):n<=(s=new Date(i.getFullYear(),r-1,1))&&this._selectDate(s,"key"),!1;case 38:return(s=new Date(i.getFullYear(),r-4,1))<n&&(s=n),r-4<0?(this.selectedDate=s,this.navigateBackward()):this._selectDate(s,"key"),!1;case 40:return o<(s=new Date(i.getFullYear(),r+4,1))&&(s=o),11<r+4?(this.selectedDate=s,this.navigateForward()):this._selectDate(s,"key"),!1;case 39:return 11==r?(s=new Date(i.getFullYear()+1,0,1))<=o?(this.selectedDate=s,this.navigateForward()):this.selectedDate!=o&&(this.selectedDate=o,this.navigateForward()):(s=new Date(i.getFullYear(),r+1,1))<=o&&this._selectDate(s,"key"),!1}return!0}if("decade"==this.view){var a,l=this._renderStartDate.getFullYear(),d=this._renderEndDate.getFullYear(),h=i.getFullYear(),c=this.getMinDate().getFullYear(),u=this.getMaxDate().getFullYear();switch(t){case 37:return c<=h-1&&(h<=l?(this.selectedDate=new Date(h-1,i.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(h-1,i.getMonth(),1),"key")),!1;case 38:return(a=h-4<c?c:h-4)<l?(this.selectedDate=new Date(a,i.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(a,i.getMonth(),1),"key"),!1;case 40:return d<(a=u<(a=h+4)?u:a)?(this.selectedDate=new Date(a,i.getMonth(),1),this.navigateForward()):this._selectDate(new Date(a,i.getMonth(),1),"key"),!1;case 39:return h+1<=u&&(h==d?(this.selectedDate=new Date(h+1,i.getMonth(),1),this.navigateForward()):this._selectDate(new Date(h+1,i.getMonth(),1),"key")),!1}return!0}var p=new _.jqx._jqxDateTimeInput.getDateTime(i),m=this.getViewStart(),g=this.getViewEnd(),f=_.data(this.element,"View"+this.element.id);if(null==f)return!0;if(36==t)return p._setDay(1),this._isDisabled(p.dateTime)||this._selectDate(p.dateTime,"key"),!1;if(35==t)return v=this.value._daysInMonth(this.value.year,this.value.month),p._setDay(v),this._isDisabled(p.dateTime)||this._selectDate(p.dateTime,"key"),!1;var v=1;if(e.ctrlKey&&(v=12),34==t){if(this.navigateForward(v)){if(p._addMonths(v),this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key")}return!1}if(33==t){if(this.navigateBackward(v)){if(p._addMonths(-v),this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key")}return!1}if(38==t){if(p._addDays(-7),p.dateTime<this.getMinDate())return!1;if(p.dateTime<m)if(!this.navigateBackward())return!1;if(this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key");for(var x=0;x<f.cells.length;x++){var y=(w=f.cells[x]).getDate();if(w.isOtherMonth&&w.isSelected&&y<=p.dateTime){this.value.day=y.getDate(),this.navigateBackward(),this._selectDate(p.dateTime,"key");break}}return!1}if(40==t){if(p._addDays(7),p.dateTime>this.getMaxDate())return!1;if(p.dateTime>g)if(!this.navigateForward())return!1;if(this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key");for(x=0;x<f.cells.length;x++){y=(w=f.cells[x]).getDate();if(w.isOtherMonth&&w.isSelected&&y>=p.dateTime){this.value.day=y.getDate(),this.navigateForward(),this._selectDate(p.dateTime,"key");break}}return!1}if(37==t){if(p._addDays(-1),p.dateTime<this.getMinDate())return!1;if(p.dateTime<m)if(!this.navigateBackward())return!1;if(this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key");for(x=0;x<f.cells.length;x++){y=(w=f.cells[x]).getDate();if(w.isOtherMonth&&w.isSelected&&y<=p.dateTime){if(p.dateTime<this.getMinDate()||p.dateTime>this.getMaxDate())return!1;if(this._isDisabled(p.dateTime))return!1;this.navigateBackward(),this._selectDate(p.dateTime,"key");break}}return!1}if(39!=t)return!0;if(p._addDays(1),p.dateTime>this.getMaxDate())return!1;if(p.dateTime>g&&!this.navigateForward())return!1;if(this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key");for(x=0;x<f.cells.length;x++){var w,y=(w=f.cells[x]).getDate();if(w.isOtherMonth&&w.isSelected&&y>=p.dateTime){if(p.dateTime<this.getMinDate()||p.dateTime>this.getMaxDate())return!1;this.navigateForward(),this._selectDate(p.dateTime,"key");break}}return!1},render:function(){var e;this.canRender&&(this.host.children().remove(),e=this._renderSingleCalendar("View"+this.element.id),this.host.append(e))},addSpecialDate:function(e,t,i){var s;1==this.multipleMonthRows&&1==this.multipleMonthColumns&&(s=this.specialDates.length,this.specialDates[s]={Date:e,Class:t,Tooltip:i},this.refreshControl())},refresh:function(e){var t=this;this.render(),setTimeout(function(){t.refreshControl()})},invalidate:function(){this.refreshControl()},refreshControl:function(){1==this.multipleMonthRows&&1==this.multipleMonthColumns&&this.refreshSingleCalendar("View"+this.element.id,null)},getViewStart:function(){var e=this.getVisibleDate();return this.getFirstDayOfWeek(e).dateTime},getViewEnd:function(){var e=this.getViewStart(),e=new _.jqx._jqxDateTimeInput.getDateTime(e);return e._addDays(41),e.dateTime},refreshSingleCalendar:function(e,t){var i,s,r;this.canRender&&(r=this.host.find("#"+e),i=this.getVisibleDate(),i=this.getFirstDayOfWeek(i),this.refreshCalendarCells(r,i,e),this.refreshTitle(r),this.refreshRowHeader(r,e),null!=this.selectedDate&&this._selectDate(this.selectedDate),i=parseInt(this.month.css("padding-top")),i=this.host.height()-2*i-this.titleHeight-this.columnHeaderHeight,this.showDayNames||(i=this.month.height()-this.titleHeight),this.showFooter&&(i-=20),s=r.find("#cellsTable"+e),r=r.find("#calendarRowHeader"+e),s.height(i),r.height(i))},refreshRowHeader:function(e,t){if(this.showWeekNumbers){for(var i=this.getVisibleDate(),i=this.getFirstDayOfWeek(i),s=(i.dayOfWeek,this.getWeekOfYear(i)),r=new _.jqx._jqxDateTimeInput.getDateTime(new Date(i.dateTime)),n=(r._addDays(5),r.dayOfWeek=r.dateTime.getDay(),this.getWeekOfYear(r),this.rowHeader.find("table")),o=(n.width(this.rowHeaderWidth),i),a=new Array,l=0;l<6;l++){s.toString();var d=new _.jqx._jqxCalendar.cell(o.dateTime),h=l+1+this.element.id,c=_(n[0].rows[l].cells[0]),c=(d.element=c,d.row=l,d.column=0,c.find("#headerCellContent"+h));c.addClass(this.toThemeProperty("jqx-calendar-row-cell")),c[0].innerHTML=s,a[l]=d,o=new _.jqx._jqxDateTimeInput.getDateTime(new Date(o._addWeeks(1))),s=this.getWeekOfYear(o)}r=_.data(this.element,e[0].id);r.rowCells=a,this._refreshOtherMonthRows(r,t)}},_refreshOtherMonthRows:function(e,t){if(!this.showOtherMonthDays){this._displayLastRow(!0,t),this._displayFirstRow(!0,t);for(var i=!1,s=!1,r=0;r<e.cells.length;r++){var n=e.cells[r];n.isVisible&&r<7?i=!0:n.isVisible&&r>=e.cells.length-7&&(s=!0)}i||this._displayFirstRow(!1,t),s||this._displayLastRow(!1,t)}},_displayLastRow:function(e,t){var t=this.host.find("#"+t),i=t.find("#calendarRowHeader"+t[0].id).find("table"),s=null,i=(this.showWeekNumbers&&i[0].cells&&(s=_(i[0].rows[5])),_(t.find("#cellTable"+t[0].id)[0].rows[5]));e?(this.showWeekNumbers&&s&&s.css("display","table-row"),i.css("display","table-row")):(this.showWeekNumbers&&s&&s.css("display","none"),i.css("display","none"))},_displayFirstRow:function(e,t){var t=this.host.find("#"+t),i=t.find("#calendarRowHeader"+t[0].id).find("table"),s=null,i=(this.showWeekNumbers&&i[0].cells&&(s=_(i[0].rows[0])),_(t.find("#cellTable"+t[0].id)[0].rows[0]));e?(this.showWeekNumbers&&s&&s.css("display","table-row"),i.css("display","table-row")):(this.showWeekNumbers&&s&&s.css("display","none"),i.css("display","none"))},_renderSingleCalendar:function(e,t){var i,s,r,n,o,a,l,d,h;if(this.canRender)return i=this.host.find("#"+e.toString()),null!=i&&i.remove(),i=_("<div id='"+e.toString()+"'></div>"),s=this.getVisibleDate(),s=this.getFirstDayOfWeek(s),r=new _.jqx._jqxDateTimeInput.getDateTime(s.dateTime),r._addMonths(1),r=_.jqx._jqxCalendar.monthView(s,r,null,null,null,i),null==t?(this.host.append(i),i[0].style.width="100%",i[0].style.height="100%"):t.append(i),_.data(this.element,e,r),o=parseInt(i.css("padding-top")),o=this.host.height()-2*o,a=o-this.titleHeight-this.columnHeaderHeight,this.showDayNames||(a=o-this.titleHeight),this.showFooter&&(a-=20),this.rowHeaderWidth<0&&(this.rowHeaderWidth=0),this.columnHeaderHeight<0&&(this.columnHeaderHeight=0),this.titleHeight<0&&(this.titleHeight=0),o=this.rowHeaderWidth,n=this.columnHeaderHeight,this.showWeekNumbers||(o=0),this.showDayNames||(n=0),d="<div style='height:"+this.titleHeight+"px;'><table role='grid' style='margin: 0px; width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarTitle' width='100%'><td role='gridcell' NOWRAP id='leftNavigationArrow'></td><td aria-live='assertive' aria-atomic='true' role='gridcell' align='center' NOWRAP id='calendarTitleHeader'></td><td role='gridcell' NOWRAP id='rightNavigationArrow'></td></tr></table></div>",n="<table role='grid' class='"+this.toThemeProperty("jqx-calendar-month")+"' style='margin: 0px; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarHeader' height='"+n+"'><td role='gridcell' id='selectCell' width='"+o+"'></td><td role='gridcell' colspan='2' style='border: none; padding-left: 2px; padding-right: 2px' id='calendarColumnHeader'></td></tr><tr role='row' id='calendarContent'><td role='gridcell' id='calendarRowHeader' valign='top' height='"+a+"' width='"+o+"'></td><td role='gridcell' valign='top' colspan='2' style='padding-left: 2px; padding-right: 2px' id='cellsTable' height='"+a+"'></td></tr></table>",i[0].innerHTML=d+n+"<div id='footer' style='margin: 0px; display: none; height:undefinedpx;'><table style='width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr id='calendarFooter'><td align='right' id='todayButton'></td><td align='left' colspan='2' id=doneButton></td></tr></table></div>",this.header=i.find("#calendarHeader"),this.header[0].id="calendarHeader"+e,this.header.addClass(this.toThemeProperty("calendar-header")),this.columnHeader=i.find("#calendarColumnHeader"),this.columnHeader[0].id="calendarColumnHeader"+e,this.table=i.find("#cellsTable"),this.table[0].id="cellsTable"+e,this.rowHeader=i.find("#calendarRowHeader"),this.rowHeader[0].id="calendarRowHeader"+e,this.selectCell=i.find("#selectCell"),this.selectCell[0].id="selectCell"+e,this.title=i.find("#calendarTitle"),this.title[0].id="calendarTitle"+e,this.leftButton=i.find("#leftNavigationArrow"),this.leftButton[0].id="leftNavigationArrow"+e,this.titleHeader=i.find("#calendarTitleHeader"),this.titleHeader[0].id="calendarTitleHeader"+e,this.rightButton=i.find("#rightNavigationArrow"),this.rightButton[0].id="rightNavigationArrow"+e,this.footer=i.find("#calendarFooter"),this._footer=i.find("#footer"),this._footer[0].id="footer"+e,this.footer[0].id="calendarFooter"+e,this.todayButton=i.find("#todayButton"),this.todayButton[0].id="todayButton"+e,this.doneButton=i.find("#doneButton"),this.doneButton[0].id="doneButton"+e,this.title.addClass(this.toThemeProperty("jqx-calendar-title-container")),this.showFooter&&this._footer.css("display","block"),i.find("tr").addClass(this.toThemeProperty("jqx-reset")),i.addClass(this.toThemeProperty("jqx-widget-content")),i.addClass(this.toThemeProperty("jqx-calendar-month-container")),this.month=i,this.selectCell.addClass(this.toThemeProperty("jqx-reset")),this.selectCell.addClass(this.toThemeProperty("jqx-calendar-top-left-header")),this.showWeekNumbers?this._renderRowHeader(i):(this.table[0].colSpan=3,this.columnHeader[0].colSpan=3,this.rowHeader.css("display","none"),this.selectCell.css("display","none")),this.showFooter&&(this.footer.height(20),(o=_("<a href='javascript:;'>"+this.todayString+"</a>")).appendTo(this.todayButton),(a=_("<a href='javascript:;'>"+this.clearString+"</a>")).appendTo(this.doneButton),a.addClass(this.toThemeProperty("jqx-calendar-footer")),o.addClass(this.toThemeProperty("jqx-calendar-footer")),l=this,d="mousedown",_.jqx.mobile.isTouchDevice()&&(d=_.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(o,d,function(){return l.today?l.today():l.setDate(new Date,"mouse"),!1}),this.addHandler(a,d,function(){return l.clear?l.clear():l.setDate(null,"mouse"),!1})),"month"!=this.view&&this.header.hide(),this.showDayNames&&"month"==this.view&&this.renderColumnHeader(i),this.oldView=this.view,this.renderCalendarCells(i,s,e),null==t&&this.renderTitle(i),this._refreshOtherMonthRows(r,e),i.find("tbody").css({border:"none",background:"transparent"}),null!=this.selectedDate&&this._selectDate(this.selectedDate),h=this,this.addHandler(this.host,"focus",function(){h.focus()}),i},_getTitleFormat:function(){switch(this.view){case"month":return this.titleFormat[0];case"year":return this.titleFormat[1];case"decade":return this.titleFormat[2];case"centuries":return this.titleFormat[3]}},renderTitle:function(e){var r,i=_("<div role='button' style='float: left;'></div>"),s=_("<div role='button' style='float: right;'></div>"),t=this.title,n=(t.addClass(this.toThemeProperty("jqx-reset")),t.addClass(this.toThemeProperty("jqx-widget-header")),t.addClass(this.toThemeProperty("jqx-calendar-title-header")),t.find("td")),o=(_.jqx.browser.msie&&_.jqx.browser.version<8?("transparent"!=n.css("background-color")&&(o=t.css("background-color"),n.css("background-color",o)),"transparent"!=n.css("background-image")&&(o=t.css("background-image"),a=t.css("background-repeat"),t.css("background-position"),n.css("background-image",o),n.css("background-repeat",a),n.css("background-position","left center scroll"))):n.css("background-color","transparent"),this.disabled&&t.addClass(this.toThemeProperty("jqx-calendar-title-header-disabled")),i.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),i.appendTo(this.leftButton),this.leftButton),a=(s.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),s.addClass(this.toThemeProperty("jqx-icon-arrow-right")),s.appendTo(this.rightButton),this.rightButton),n=(this.enableTooltips&&_(o).jqxTooltip&&(_(o).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.backText}),_(a).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.forwardText})),this.titleHeader),t=this._format(this.value.dateTime,this._getTitleFormat(),this.culture),o=("decade"==this.view?t=this._format(this._renderStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderEndDate,this._getTitleFormat(),this.culture):"centuries"==this.view&&(t=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture)),_("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+t+"</div>")),a=(n.append(o),o.addClass(this.toThemeProperty("jqx-calendar-title-content")),parseInt(i.width())),t=e.width()-2*a,l=(n.find(".jqx-calendar-title-content").width(t),_.data(i,"navigateLeft",this),_.data(s,"navigateRight",this),_.jqx.mobile.isTouchDevice());this.disabled||((r=this).addHandler(n,"mousedown",function(e){if(r.enableViews){if(!r._viewAnimating&&!r._animating){var t,i,s=r.view;switch(r.oldView=s,r.view){case"month":r.view="year";break;case"year":r.view="decade"}-1==r.views.indexOf("year")&&"year"==r.view&&(r.view="decade"),-1==r.views.indexOf("decade")&&"decade"==r.view&&(r.view=s),s!=r.view&&(s="View"+r.element.id,t=r.host.find("#"+s),i=r.getVisibleDate(),i=r.getFirstDayOfWeek(i),r.renderCalendarCells(t,i,s,!0),r.refreshTitle(t),r._raiseEvent("8"))}return!1}}),this.addHandler(i,"mousedown",function(e){var t;return!r._animating&&(_.data(i,"navigateLeftRepeat",!0),(t=_.data(i,"navigateLeft")).enableFastNavigation&&!l&&t.startRepeat(t,i,!0,r.navigationDelay+200),t.navigateBackward(r.stepMonths,"arrow"),e.stopPropagation(),e.preventDefault(),t._raiseEvent(0,e))}),this.addHandler(i,"mouseup",function(e){_.data(i,"navigateLeftRepeat",!1)}),this.addHandler(i,"mouseleave",function(e){_.data(i,"navigateLeftRepeat",!1)}),this.addHandler(s,"mousedown",function(e){var t;return!r._animating&&(_.data(s,"navigateRightRepeat",!0),(t=_.data(s,"navigateRight")).enableFastNavigation&&!l&&t.startRepeat(t,s,!1,r.navigationDelay+200),t.navigateForward(r.stepMonths,"arrow"),e.stopPropagation(),e.preventDefault(),t._raiseEvent(1,e))}),this.addHandler(s,"mouseup",function(e){_.data(s,"navigateRightRepeat",!1)}),this.addHandler(s,"mouseleave",function(e){_.data(s,"navigateRightRepeat",!1)}))},refreshTitle:function(e){var t,i=this._format(this.value.dateTime,this._getTitleFormat(),this.culture),s=("decade"==this.view?i=this._format(this._renderStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderEndDate,this._getTitleFormat(),this.culture):"centuries"==this.view&&(i=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture)),this.titleHeader);this.titleHeader&&(t=s.find(".jqx-calendar-title-content"),i=_("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+i+"</div>"),s.append(i),i.addClass(this.toThemeProperty("jqx-calendar-title-content")),null!=t&&t.remove())},startRepeat:function(t,i,s,r){var n=window.setTimeout(function(){var e=_.data(i,"navigateLeftRepeat");(e=s?e:_.data(i,"navigateRightRepeat"))?(r<25&&(r=25),s?(t.navigateBackward(1,"arrow"),t.startRepeat(t,i,!0,r)):(t.navigateForward(1,"arrow"),n=t.startRepeat(t,i,!1,r))):window.clearTimeout(n)},r)},navigateForward:function(e,t){null==e&&(e=this.stepMonths);var i=this.value.year;if("decade"==this.view){if(i=this._renderStartDate.getFullYear()+12,this._renderEndDate.getFullYear()>=this.getMaxDate().getFullYear())return}else"year"==this.view?i=this.value.year+1:"centuries"==this.view&&(i=this.value.year+100);if("month"!=this.view){var s=this.getMaxDate().getFullYear();if(this.value.year==(i=s<i?s:i)){if("decade"!==this.view)return;if(!(this.value.year>this._renderEndDate.getFullYear()))return;this.value.year=i,this.value.month=1,this.value.day=1}this.value.year=i,this.value.month=1,this.value.day=1}var r,s=this.value.day;return this.value.month+e<=12&&((i=this.value._daysInMonth(this.value.year,this.value.month+e))<s&&(s=i)),"month"==this.view?(r=new Date(this.value.year,this.value.month-1+e,s),"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1+e,1))):r=new Date(this.value.year,this.value.month-1,s),this.navigateTo(r)},navigateBackward:function(e,t){null==e&&(e=this.stepMonths);var i=this.value.year;if("decade"==this.view?i=this._renderStartDate.getFullYear()-12:"year"==this.view?i=this.value.year-1:"centuries"==this.view&&(i=this.value.year-100),"month"!=this.view){var s=this.getMinDate().getFullYear();if(i<s&&(i=s),"decade"==this.view&&this._renderStartDate&&this._renderStartDate.getFullYear()==i)return;this.value.year=i,this.value.month=1,this.value.day=1}var r,s=this.value.day;return 1<=this.value.month-e&&((i=this.value._daysInMonth(this.value.year,this.value.month-e))<s&&(s=i)),"month"==this.view?(r=new Date(this.value.year,this.value.month-1-e,s),"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1-e,1))):r=new Date(this.value.year,this.value.month-1,s),this.navigateTo(r)},_isRestrictedRange:function(e,t){if(t<e)return!0;for(var i=e;i.valueOf()<=t.valueOf();){if(this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_hasUnrestrictedRanges:function(e,t){if(t<e)return!1;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_getNextUnrestrictedDay:function(e,t){if(t<e)return null;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return i;i.setDate(i.getDate()+1)}return null},_isRestrictedDate:function(e){if(!_.isArray(this.restrictedDates))return!1;for(var t=0;t<this.restrictedDates.length;t++){var i=this.restrictedDates[t];if("object"==typeof i&&null!=i.from&&null!=i.to){var s=i.from,r=i.to;if(e.valueOf()>=s.valueOf()&&e.valueOf()<=r.valueOf())return!0}else if(i.getMonth()==e.getMonth()&&i.getDate()==e.getDate()&&i.getFullYear()==e.getFullYear())return!0}return!1},_isDisabled:function(e){var t=e.getDay();return-1==this.selectableDays.indexOf(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t])||!!this._isRestrictedDate(e)},refreshCalendarCells:function(e,t,i){if("year"==this.view||"decade"==this.view||"centuries"==this.view)this.refreshViews(e,t,i);else{for(var s=this.table.find("#cellTable"+i.toString()),r=t,n=new Array,o=0,a=new _.jqx._jqxDateTimeInput.getDateTime(new Date),l=0;l<6;l++)for(var d=0;d<7;d++){var h=d,h=(h=this.rtl?6-h:h)+1,c="#cell"+(l+1)+h+this.element.id,u=new Date(r.dateTime.getFullYear(),r.dateTime.getMonth(),r.dateTime.getDate()),p=new _.jqx._jqxCalendar.cell(u),h=_(s[0].rows[l].cells[h-1]);h[0].id=c.substring(1),p.element=h,p.row=l,p.column=d,p.isVisible=!0,p.isOtherMonth=!1,p.isToday=!1,p.isWeekend=!1,p.isHighlighted=!1,p.isSelected=!1,r.month!=this.value.month&&(p.isOtherMonth=!0,p.isVisible=this.showOtherMonthDays),this._isRestrictedDate(u)&&(p.isRestricted=!0,p.isDisabled=!0),p.isDisabled||(u<this.getMinDate()||u>this.getMaxDate()||this._isDisabled(u))&&(p.isDisabled=!0),r.month==a.month&&r.day==a.day&&r.year==a.year&&(p.isToday=!0),r.isWeekend()&&(p.isWeekend=!0),_.data(this.element,"cellContent"+c.substring(1),p),_.data(this.element,c.substring(1),p),n[o]=p,o++,_.jqx.utilities.html(h,r.day),this._applyCellStyle(p,h,h),r=new _.jqx._jqxDateTimeInput.getDateTime(new Date(r._addDays(1)))}t=_.data(this.element,e[0].id);null!=t&&(t.cells=n),this.renderedCells=n,this._refreshOtherMonthRows(t,i)}},_getDecadeAndCenturiesData:function(){var e=new Array,t=new Array,i=this.getMaxDate().getFullYear()-this.getMinDate().getFullYear(),s=(i<12&&(i=12),this.getMinDate()),r=this.getMaxDate(),n=this.value.dateTime.getFullYear();if("decade"==this.view){(n=n+12>r.getFullYear()?r.getFullYear()-11:n)<s.getFullYear()&&(n=s.getFullYear());for(var o=0;o<i;o++){var a=new Date(s.getFullYear()+o,0,1);if(s.getFullYear()<=n&&n<=a.getFullYear()){for(var l=new Date(a.getFullYear(),a.getMonth(),1),d=0;d<12;d++){var h=new Date(l.getFullYear()+d,this.value.dateTime.getMonth(),this.value.dateTime.getDate()),c=h.getFullYear();s.getFullYear()<=c&&c<=r.getFullYear()?(e.push(c),t.push(h),0==d&&(this._renderStartDate=h),this._renderEndDate=h):(e.push(c),t.push(h))}break}}}else if("centuries"==this.view)for(o=0;o<i;o+=120){a=new Date(s.getFullYear()+o+120,0,1);if(s.getFullYear()<=n&&n<=a.getFullYear()){(l=new Date(a.getFullYear()-130,a.getMonth(),1))<s&&(l=s);for(d=0;d<12;d++){var u=new Date(l.getFullYear()+10*d,l.getMonth(),1);l.getFullYear()>=s.getFullYear()&&u.getFullYear()<=r.getFullYear()&&(e.push("<span style='visibility: hidden;'>-</span>"+u.getFullYear()+"-"+(u.getFullYear()+9)),t.push(u),0==d&&(this._renderCenturyStartDate=u),this._renderCenturyEndDate=new Date(u.getFullYear()+9,0,1))}break}}return{years:e,dates:t}},refreshViews:function(e,t,i){for(var s=new Array,r=e.find("#cellTable"+i.toString()),i=this._getDecadeAndCenturiesData(),n=i.years,o=i.dates,a=0,l=this.getMinDate(),d=this.getMaxDate(),h=0;h<3;h++)for(var c=0;c<4;c++){var u=c,p=(u=this.rtl?3-u:u,(v=new Date(this.value.dateTime)).setDate(1),v.setMonth(4*h+u),new _.jqx._jqxCalendar.cell(v)),m=r[0].rows["row"+(1+h)+this.element.id],m=_(m.cells[c]),g=(p.isSelected=!1,p.isVisible=!0,p.element=m,p.row=h,p.column=c,p.index=s.length,"");if("year"==this.view){var f=this.localization.calendar.months.names[4*h+u];switch(this.monthNameFormat){case"default":f=this.localization.calendar.months.namesAbbr[4*h+u];break;case"shortest":f=this.localization.calendar.months.namesShort[4*h+u];break;case"firstTwoLetters":f=f.substring(0,2);break;case"firstLetter":f=f.substring(0,1)}g=f}else"decade"!=this.view&&"centuries"!=this.view||(null==(g=n[4*h+u])&&(g="<span style='cursor: default; visibility: hidden;'>2013</span>"),p.setDate(o[4*h+u]));var v=p.getDate();"year"==this.view?v.getMonth()==this.getDate().getMonth()&&v.getFullYear()==this.getDate().getFullYear()&&(p.isSelected=!0):v.getFullYear()==this.getDate().getFullYear()&&(p.isSelected=!0),"year"==this.view?(this._getYearAndMonthPart(v)<this._getYearAndMonthPart(l)&&(p.isDisabled=!0),this._getYearAndMonthPart(v)>this._getYearAndMonthPart(d)&&(p.isDisabled=!0)):(v.getFullYear()<l.getFullYear()&&(p.isDisabled=!0),v.getFullYear()>d.getFullYear()&&(p.isDisabled=!0)),_.jqx.utilities.html(m,g),s[a]=p,a++}i=_.data(this.element,e[0].id);null!=i&&(i.cells=s),this.renderedCells=s,this._applyCellStyles()},_createViewClone:function(){var e=this.host.find(".jqx-calendar-month"),t=e.clone();return t.css("position","absolute"),t.css("top",e.position().top),t.width(this.month.width()),t},_addCellsTable:function(e,t){var i=this,s=this.showFooter?20:0,s=("month"!=this.view?-1===this.views.indexOf("month")?t.height(this.host.height()-this.titleHeight):t.height(this.month.height()-this.titleHeight):t.height(this.month.height()-this.titleHeight-this.columnHeaderHeight-s),this._viewAnimating=!0,this.host.find(".jqx-calendar-month-container")),r=(s.css("position","relative"),this.host.find(".jqx-calendar-month"),this._createViewClone());s.append(r),"month"!=this.view?(this.header.fadeOut(0),this.showWeekNumbers&&this.rowHeader.fadeOut(0),this.showFooter&&this._footer.fadeOut(0)):(this.header.fadeIn(this.navigationDelay+200),this.showWeekNumbers&&this.rowHeader.fadeIn(this.navigationDelay+200),this.showFooter&&this._footer.fadeIn(this.navigationDelay+200)),e.children().remove(),e.append(t),this._animateViews(r,t,function(){i.selectedDate||"range"==i.selectionMode||(i.selectedDate=i.renderedCells[0].getDate());try{i.renderedCells[0].element.focus(),setTimeout(function(){i.renderedCells[0].element.focus()},10)}catch(e){}i._viewAnimating=!1}),t.addClass(this.toThemeProperty("jqx-calendar-view"))},_animateViews:function(e,t,i){if(this._viewAnimating=!0,this.oldView==this.view)return e.remove(),t.fadeOut(0),t.fadeIn(0),void i();e.fadeOut(this.navigationDelay+100,function(){e.remove()}),t.fadeOut(0),t.fadeIn(this.navigationDelay+200,function(){i()})},focus:function(){if(!this.disabled)try{this.renderedCells&&0<this.renderedCells.length&&(this.selectedDate||"range"==this.selectionMode||this.setDate(new Date,"mouse"),this.element.focus())}catch(e){}},renderViews:function(e,t,i){var s=this,r=new Array,n=_("<table role='grid' style='border-color: transparent; width: 100%; height: 100%;' cellspacing='2' cellpadding='0' id=cellTable"+i.toString()+"><tr role='row' id='row1"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row2"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row3"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),i=(this.host.find(".jqx-calendar-month-container").css("position","relative"),e.find("#cellsTable"+e[0].id)),o=(i[0].style.borderColor="transparent",this._getDecadeAndCenturiesData()),a=o.years,l=o.dates,d=0,h=this.getMinDate(),c=this.getMaxDate(),u=new Date(this.value.dateTime);u.setDate(1);for(var p=0;p<3;p++)for(var m=0;m<4;m++){var g=m,f=(g=this.rtl?3-g:g,n[0].rows["row"+(1+p)+this.element.id]),v=((b=new Date(u)).setMonth(4*p+g),new _.jqx._jqxCalendar.cell(b)),f=_(f.cells[m]),x=(v.isVisible=!0,v.element=f,v.row=p,v.column=m,v.index=r.length,v.isSelected=!1,"");if("year"==this.view){b.getMonth()==this.getDate().getMonth()&&b.getFullYear()==this.getDate().getFullYear()&&(v.isSelected=!0);var y=this.localization.calendar.months.names[4*p+g];switch(this.monthNameFormat){case"default":y=this.localization.calendar.months.namesAbbr[4*p+g];break;case"shortest":y=this.localization.calendar.months.namesShort[4*p+g];break;case"firstTwoLetters":y=y.substring(0,2);break;case"firstLetter":y=y.substring(0,1)}x=y}else"decade"!=this.view&&"centuries"!=this.view||(x=a[4*p+g],v.setDate(l[4*p+g]),v.getDate().getFullYear()==this.getDate().getFullYear()&&(v.isSelected=!0),null==x&&(x="<span style='cursor: default; visibility: hidden;'>2013</span>"));var w,b=v.getDate();"year"==this.view?((w=new Date(b)).setDate(1),w.setHours(0,0,0,0),w.setMonth(b.getMonth()+1),w=new Date(w.valueOf()-1),(this._getYearAndMonthPart(b)<this._getYearAndMonthPart(h)||this._getYearAndMonthPart(b)>this._getYearAndMonthPart(c)||!this._hasUnrestrictedRanges(b,w))&&(v.isDisabled=!0)):((w=new Date(b)).setMonth(0),w.setDate(1),w.setHours(0,0,0,0),w.setFullYear(b.getFullYear()+1),w=new Date(w.valueOf()-1),(b.getFullYear()<h.getFullYear()||b.getFullYear()>c.getFullYear()||!this._hasUnrestrictedRanges(b,w))&&(v.isDisabled=!0)),_.jqx.utilities.html(f,x),r[d]=v,d++}_.each(r,function(){var e=this.element,i=this;s.disabled||(s.addHandler(e,"mousedown",function(e){s._setDateAndSwitchViews(i,e,"mouse")}),s.addHandler(e,"mouseover",function(e){var t=s.renderedCells[i.index];"centuries"!=s.view&&-1!=t.element.html().toLowerCase().indexOf("span")||(t.isHighlighted=!0,s._applyCellStyle(t,t.element,t.element))}),s.addHandler(e,"mouseout",function(e){var t=s.renderedCells[i.index];"centuries"!=s.view&&-1!=t.element.html().toLowerCase().indexOf("span")||(t.isHighlighted=!1,s._applyCellStyle(t,t.element,t.element))}))});o=_.data(this.element,e[0].id);null!=o&&(o.cells=r),this.renderedCells=r,this._addCellsTable(i,n),this._applyCellStyles()},_setDateAndSwitchViews:function(e,t,i){if(!this._viewAnimating&&!this._animating){this.getDate();var n=this.renderedCells[e.index].getDate(),e=this.value.dateTime.getDate(),s=new Date(n),e=(-1!=this.views.indexOf("month")?s.setDate(e):(s.setDate(1),n.setDate(1)),s.getMonth()==n.getMonth()&&(n=s),this.getMinDate()),s=this.getMaxDate();if("year"==this.view){if(this._getYearAndMonthPart(n)<this._getYearAndMonthPart(e))return;if(this._getYearAndMonthPart(n)>this._getYearAndMonthPart(s))return}else{if(n.getFullYear()<e.getFullYear())return;if(n.getFullYear()>s.getFullYear())return}switch("range"!=this.selectionMode&&this._selectDate(n,i),this.oldView=this.view,this.view){case"year":this.view="month";break;case"decade":this.view="year"}-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&(this.view="decade"),"year"==this.view?(this._getYearAndMonthPart(n)<this._getYearAndMonthPart(e)&&(n=e),this._getYearAndMonthPart(n)>this._getYearAndMonthPart(s)&&(n=s)):(n=n.getFullYear()<e.getFullYear()?e:n).getFullYear()>s.getFullYear()&&(n=s),this.changing&&this.selectedDate&&(this.selectedDate.getFullYear()!=n.getFullYear()||this.selectedDate.getMonth()!=n.getMonth()||this.selectedDate.getDate()!=n.getDate())&&(n=this.selectedDate),this.value._setYear(n.getFullYear()),this.value._setDay(n.getDate()),this.value._setMonth(n.getMonth()+1),this.value._setDay(n.getDate());var o,e=this.getVisibleDate(),s=this.getFirstDayOfWeek(e),e="View"+this.element.id;this.renderCalendarCells(this.month,s,e,!0),this.refreshTitle(this.month),this.showWeekNumbers&&this.refreshRowHeader(this.month,e),3==this.views.length&&"month"==this.view&&("range"!=this.selectionMode?this._selectDate(this.selectedDate,"view"):(_.each((o=this).renderedCells,function(e){var t=this,i=t.getDate(),s=_(t.element);if(0==s.length)return!1;function r(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t}t.isOtherMonth||r(i).toString()!=r(n).toString()||(o.value._setMonth(n.getMonth()+1),o.value._setDay(n.getDate()),o.value._setYear(n.getFullYear())),t.isSelected=!1,t.isDisabled=!1,r(i)<r(o.selection.from)&&1==o._clicks&&(t.isDisabled=!0),o.getMaxDate()<i&&(t.isDisabled=!0),o.getMinDate()>i&&(t.isDisabled=!0),o._isDisabled(i)&&(t.isDisabled=!0),t.isDisabled||r(i)>=r(o.selection.from)&&r(i)<=r(o.selection.to)&&(t.isSelected=!0)}),this._applyCellStyles())),"month"!=this.view&&("year"==this.oldView||-1==this.views.indexOf("year")&&"decade"==this.view)&&("keyboard"!=i&&this._raiseEvent("3"),this._raiseEvent("5",{selectionType:"mouse"})),this._raiseEvent("8")}},renderCalendarCells:function(e,t,i,s){if("year"==this.view||"decade"==this.view||"centuries"==this.view)this.renderViews(e,t,i);else{for(var r=_("<table role='grid' style='width: 100%; height: 100%; border-color: transparent;' cellspacing='2' cellpadding='1' id=cellTable"+i.toString()+"><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),n=this.table,o=(n[0].style.borderColor="transparent",null==s&&(null!=(c=n.find("#cellTable"+i.toString()))&&c.remove(),n.append(r)),t),a=this.showDayNames?1:0,l=this.showWeekNumbers?1:0,d=new Array,h=0,c=(e.width()-this.rowHeaderWidth-2)/7,u=(this.showWeekNumbers||(c=(e.width()-2)/7),c=parseInt(c),new _.jqx._jqxDateTimeInput.getDateTime(new Date)),p=0;p<6;p++){for(var m=0;m<7;m++){var g,f=m,f=(f=this.rtl?6-f:f)+1,v="#cell"+(p+1)+f+this.element.id,x=new Date(o.dateTime.getFullYear(),o.dateTime.getMonth(),o.dateTime.getDate()),y=new _.jqx._jqxCalendar.cell(x),f=_(r[0].rows[p].cells[f-1]),w=(f[0].id=v.substring(1),y.isVisible=!0,y.isDisabled=!1,o.month!=this.value.month&&(y.isOtherMonth=!0,y.isVisible=this.showOtherMonthDays),this._isRestrictedDate(x)&&(y.isRestricted=!0,y.isDisabled=!0),y.isDisabled||(x<this.getMinDate()||x>this.getMaxDate()||this._isDisabled(x))&&(y.isDisabled=!0),o.month==u.month&&o.day==u.day&&o.year==u.year&&(y.isToday=!0),o.isWeekend()&&(y.isWeekend=!0),y.element=f,y.row=a,y.column=l,_.jqx.utilities.html(f,o.day),o=new _.jqx._jqxDateTimeInput.getDateTime(new Date(o._addDays(1))),_.data(this.element,"cellContent"+v.substring(1),y),_.data(this.element,""+v.substring(1),y),this);w.isMaterialized()&&(_(f).addClass("ripple"),_.jqx.ripple(_(f))),this.addHandler(f,"mousedown",function(e){var t,i;if(!w.readOnly&&!w.disabled)return t=_(e.target),t=_.data(w.element,t[0].id),w._raiseEvent(3,e),null!=t&&(i=t.getDate(),w.getMinDate()<=i&&i<=w.getMaxDate()&&(t.isDisabled||(t.isOtherMonth&&w.enableAutoNavigation?(t.row<2?w.navigateBackward():w.navigateForward(),w._selectDate(t.getDate(),"mouse",e.shiftKey)):(new Date(w.getDate()),w._selectDate(t.getDate(),"mouse",e.shiftKey),w.value._setYear(i.getFullYear()),w.value._setDay(1),w.value._setMonth(i.getMonth()+1),w.value._setDay(i.getDate()),(e=w.host.find(".jqx-calendar-month")).stop(),e.css("margin-left","0px"),w.getDate(),w._raiseEvent("2"),t.isOtherMonth&&w._raiseEvent("5",{selectionType:"mouse"}))))),!1}),w.disabled||(g=function(e,t){var i,s;w.readOnly||(e=_(e.target),null!=(i=_.data(w.element,e[0].id))&&(s=i.getDate(),w.getMinDate()<=s&&s<=w.getMaxDate()&&(i.isHighlighted=t,w._applyCellStyle(i,i.element,e))))},this.addHandler(f,"mouseenter",function(e){return g(e,!0),!1}),this.addHandler(f,"mouseleave",function(e){return g(e,!1),!1})),l++,d[h]=y,h++}l=0,a++}t=_.data(this.element,e[0].id);null!=t&&(t.cells=d),this.renderedCells=d,null!=s&&this._addCellsTable(n,r),this._applyCellStyles(),this._refreshOtherMonthRows(t,i)}},setMaxDate:function(e,t){null!=e&&"string"==typeof e&&"Invalid Date"==(e=new Date(e))||(this.maxDate=_.jqx._jqxDateTimeInput.getDateTime(e),!1!==t&&this.render())},getMaxDate:function(){return null!=this.maxDate&&null!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(e,t){null!=e&&"string"==typeof e&&"Invalid Date"==(e=new Date(e))||(this.minDate=_.jqx._jqxDateTimeInput.getDateTime(e),!1!==t&&this.render())},getMinDate:function(){return null!=this.minDate&&null!=this.minDate?this.minDate.dateTime:null},navigateTo:function(e,t){if("month"==this.view){var i=this.getMinDate(),s=new Date(this.getMaxDate().getFullYear(),this.getMaxDate().getMonth()+1,this.getMaxDate().getDate());if(e<this._getYearAndMonthPart(i)||e>this._getYearAndMonthPart(s))return!1}else if(e&&(e.getFullYear()<this.getMinDate().getFullYear()||e.getFullYear()>this.getMaxDate().getFullYear()))return!1;if(null==e)return!1;if(null==t){var r=this;if(this._animating)return;this._animating=!0;var i=this.host.find(".jqx-calendar-month-container"),n=_("<div></div>");n[0].style.width="100%",n[0].style.height="100%",n[0].style.overflow="hidden",n[0].style.position="relative",n[0].style.left="0px",n[0].style.top="-100%",i.append(n),this._viewClone&&(this._viewClone.stop(),this._viewClone.remove()),this._newViewClone&&(this._newViewClone.stop(),this._newViewClone.remove());(l=this.host.find(".jqx-calendar-month")).stop(),l.css("margin-left","0px");var o=l.clone(),s=(this._viewClone=o,new Date(this.value.dateTime)),t=(this.value._setYear(e.getFullYear()),this.value._setDay(e.getDate()),this.value._setMonth(e.getMonth()+1),parseInt(this.month.css("padding-top"))),i=(r.refreshControl(),n.css("overflow","hidden"),i.css("position","relative"),i.css("overflow","hidden"),o.css("position","absolute"),o.css("top",l.position().top-t),n.append(o),_.jqx.browser.msie&&_.jqx.browser.version<8&&(this.month.css("position","relative"),this.month.css("overflow","hidden"),this.table.css("position","relative"),this.table.css("overflow","hidden")),-this.month.width()),a=(e<s&&("month"==this.view&&e.getMonth()!=s.getMonth()||e.getFullYear()!=s.getFullYear())&&(i=this.month.width()),o.animate({marginLeft:parseInt(i)+"px"},this.navigationDelay,function(){o.remove()}),l.clone());(this._newViewClone=a).css("position","absolute"),a.css("top",l.position().top-t),n.append(a),a.css("margin-left",-i),l.css("visibility","hidden"),a.animate({marginLeft:"0px"},this.navigationDelay,function(){a.remove(),l.css("visibility","inherit"),n.remove(),r._animating=!1})}else{var l;this.value._setYear(e.getFullYear()),this.value._setDay(e.getDate()),this.value._setMonth(e.getMonth()+1),(l=this.host.find(".jqx-calendar-month")).stop(),l.css("margin-left","0px"),this.refreshControl()}return this._raiseEvent("2"),this._raiseEvent("8"),!0},setDate:function(e){return null!=e&&"string"==typeof e&&(e=new Date(e)),0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e),"range"==this.selectionMode&&this._selectDate(e,"mouse"),!0},val:function(e){return 0!=arguments.length&&(null==e&&this.setDate(null),e instanceof Date&&this.setDate(e),"string"==typeof e&&this.setDate(e)),this.getDate()},getDate:function(){return null==this.selectedDate?new Date:this.selectedDate},getValue:function(){return null==this.value?new Date:this.value.dateTime},setRange:function(e,t){0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e,"mouse"),this._selectDate(t,"mouse")},getRange:function(){return this.selection},_selectDate:function(d,h,c){if("none"!=this.selectionMode){null==h&&(h="none"),null==c&&(c=!1);var e=_.data(this.element,"View"+this.element.id);if(null!=e){this.changing&&d&&this.selectedDate&&(t=this.selectedDate.getFullYear()==d.getFullYear()&&this.selectedDate.getDate()==d.getDate()&&this.selectedDate.getMonth()==d.getMonth()?t:this.changing(this.selectedDate,d))&&(d=t);var t,u=this,e=(this.input&&(null!=d?this.input.val(d.toString()):this.input.val("")),this.selectedDate);if(this.selectedDate=d,"month"!=this.view)return e!=d&&this._raiseEvent(7,{selectionType:h}),_.each(this.renderedCells,function(e){var t=this.getDate(),i=_(this.element);i.find("#cellContent"+i[0].id);if(null==d)this.isSelected=!1,this.isDisabled=!1;else if(this.isSelected=!1,t&&(t.getMonth()==d.getMonth()&&"year"==u.view&&t.getFullYear()==d.getFullYear()||"decade"==u.view&&t.getFullYear()==d.getFullYear())){this.isSelected=!0;try{"none"!=h&&this.element.focus()}catch(e){}}u._applyCellStyle(this,i,i)}),void(this.change&&this.change(d));"month"==this.view&&"range"==this.selectionMode&&"key"==h&&(t=this.getVisibleDate(),t=this.getFirstDayOfWeek(t),this.refreshCalendarCells(this.month,t,"View"+this.element.id));var p=!1;_.each(this.renderedCells,function(e){var t=this,i=t.getDate(),s=_(t.element),r=s;if(0==s.length)return!1;if(null==d)t.isSelected=!1,t.isDisabled=!1,0==e&&(u.selection={from:null,to:null},u._raiseEvent("2"),u._raiseEvent("5",{selectionType:h}));else if("range"!=u.selectionMode||"key"==h){if(i.getDate()==d.getDate()&&i.getMonth()==d.getMonth()&&i.getFullYear()==d.getFullYear()&&t.isSelected)return u._applyCellStyle(t,s,r),void u._raiseEvent("5",{selectionType:h});if(t.isSelected&&u._raiseEvent("6",{selectionType:h}),t.isSelected=!1,i.getDate()==d.getDate()&&i.getMonth()==d.getMonth()&&i.getFullYear()==d.getFullYear()){t.isSelected=!0,0==e&&(u.selection={date:d});try{"none"!=h&&(t.element.focus(),u.host.focus())}catch(e){}t.isOtherMonth||(u.value._setMonth(d.getMonth()+1),u.value._setDay(d.getDate()),u.value._setYear(d.getFullYear()),u._raiseEvent("2"),u._raiseEvent("5",{selectionType:h}))}"range"==u.selectionMode&&(u._clicks=0,u.selection={from:d,to:d})}else if("range"==u.selectionMode){if("view"==h)return t.isSelected=!1,t.isDisabled=!1,u.getMaxDate()<i&&(t.isDisabled=!0),u.getMinDate()>i&&(t.isDisabled=!0),u._isRestrictedDate(i)&&(t.isDisabled=!0,t.isRestricted=!0),!t.isDisabled&&u._isDisabled(i)&&(t.isDisabled=!0),u._applyCellStyle(t,s,r),!0;function n(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t}var o,a,l;0==e&&("none"!=h?(null==u._clicks&&(u._clicks=0),u._clicks++,c&&u._clicks++,1==u._clicks?u.selection={from:d,to:d}:(o=(e=u.selection.from)<=d?d:e,(e=e<=d?e:d)&&(a=new Date(e.getFullYear(),e.getMonth(),e.getDate())),o&&(l=new Date(o.getFullYear(),o.getMonth(),o.getDate(),23,59,59)),u.selection={from:a,to:l},u._clicks=0)):null!=u.selection&&null!=u.selection.from||(u.selection={from:d,to:d},null==u._clicks&&(u._clicks=0),u._clicks++,2==u._clicks&&(u._clicks=0)));t.isOtherMonth||n(i).toString()!=n(d).toString()||(u.value._setMonth(d.getMonth()+1),u.value._setDay(d.getDate()),u.value._setYear(d.getFullYear()),u._raiseEvent("2"),u._raiseEvent("5",{selectionType:h})),t.isSelected=!1,t.isDisabled=p,n(i)<n(u.selection.from)&&1==u._clicks&&(t.isDisabled=!0),u.getMaxDate()<i&&(t.isDisabled=!0),u.getMinDate()>i&&(t.isDisabled=!0),u._isRestrictedDate(i)&&(t.isRestricted=!0,t.isDisabled=!0),!t.isDisabled&&u._isDisabled(i)&&(t.isDisabled=!0),t.isDisabled?!u.allowRestrictedDaysInRange&&n(i)>=n(u.selection.from)&&u.selection.to==u.selection.from&&(p=!0):n(i)>=n(u.selection.from)&&n(i)<=n(u.selection.to)&&(t.isSelected=!0)}u._applyCellStyle(t,s,r)}),"range"==u.selectionMode&&0==u._clicks?u._raiseEvent(7,{selectionType:h}):"range"!=u.selectionMode&&e!=d&&(u._raiseEvent(7,{selectionType:h}),this.change&&this.change(d))}}},_getSelectedDate:function(){var e=_.data(this.element,"View"+this.element.id);if(null!=e){if("month"!=this.view)return this.selectedDate;for(var t=0;t<e.cells.length;t++){var i=e.cells[t],s=i.getDate();if(i.isSelected)return s}return this.selectedDate||void 0}},_getSelectedCell:function(){var e=_.data(this.element,"View"+this.element.id);if(null!=e)for(var t=0;t<e.cells.length;t++){var i=e.cells[t];i.getDate();if(i.isSelected)return i}},_applyCellStyle:function(i,e,s){var t,r,n=this,e=((null==s||null!=s&&0==s.length)&&(s=e),""),e=this.toThemeProperty("jqx-rc-all");e+=" "+this.toThemeProperty("jqx-item"),(this.disabled||i.isDisabled&&!i.isRestricted)&&(e=(e+=" "+this.toThemeProperty("jqx-calendar-cell-disabled"))+" "+this.toThemeProperty("jqx-fill-state-disabled")),!this.disabled&&i.isRestricted&&(e+=" "+this.toThemeProperty("jqx-calendar-cell-restrictedDate")),i.isOtherMonth&&this.enableOtherMonthDays&&i.isVisible&&(e+=" "+this.toThemeProperty("jqx-calendar-cell-othermonth")),i.isWeekend&&this.enableWeekend&&i.isVisible&&i.isVisible&&(e+=" "+this.toThemeProperty("jqx-calendar-cell-weekend")),this.isMaterialized()&&(e+=" ripple"),i.isVisible?(e+=" "+this.toThemeProperty("jqx-calendar-cell"),"month"!=this.view&&0<s.length&&-1!=s.html().toLowerCase().indexOf("span")&&s.css("cursor","default")):e+=" "+this.toThemeProperty("jqx-calendar-cell-hidden"),s.removeAttr("aria-selected"),i.isSelected&&i.isVisible&&(e=(e+=" "+this.toThemeProperty("jqx-calendar-cell-selected"))+" "+this.toThemeProperty("jqx-fill-state-pressed"),s.attr("aria-selected",!0),this.host.removeAttr("aria-activedescendant").attr("aria-activedescendant",s[0].id),t=i.getDate(),this._isDisabled(t)&&(e+=" "+this.toThemeProperty("jqx-calendar-cell-selected-invalid"))),i.isHighlighted&&i.isVisible&&this.enableHover&&(i.isDisabled||(e=(e+=" "+this.toThemeProperty("jqx-calendar-cell-hover"))+" "+this.toThemeProperty("jqx-fill-state-hover"))),e+=" "+this.toThemeProperty("jqx-calendar-cell-"+this.view),i.isToday&&i.isVisible&&(e+=" "+this.toThemeProperty("jqx-calendar-cell-today")),s[0].className=e,0<this.specialDates.length&&_.each((r=this).specialDates,function(){null!=this.Class&&null!=this.Class&&""!=this.Class?s.removeClass(this.Class):s.removeClass(n.toThemeProperty("jqx-calendar-cell-specialDate"));var t,e=i.getDate();if(e.getFullYear()==this.Date.getFullYear()&&e.getMonth()==this.Date.getMonth()&&e.getDate()==this.Date.getDate())return null==i.tooltip&&null!=this.Tooltip&&(i.tooltip=this.Tooltip,_(s).jqxTooltip&&(t=this.Class,_(s).jqxTooltip({value:{cell:i,specialDate:this.Date},name:r.element.id,content:this.Tooltip,position:"mouse",theme:r.theme,opening:function(e){return!!s.hasClass(n.toThemeProperty("jqx-calendar-cell-specialDate"))||!!s.hasClass(t)}}))),s.removeClass(n.toThemeProperty("jqx-calendar-cell-othermonth")),s.removeClass(n.toThemeProperty("jqx-calendar-cell-weekend")),null==this.Class||""==this.Class?s.addClass(n.toThemeProperty("jqx-calendar-cell-specialDate")):s.addClass(this.Class),!1})},_applyCellStyles:function(){var e=_.data(this.element,"View"+this.element.id);if(null!=e)for(var t=0;t<e.cells.length;t++){var i=e.cells[t],s=_(i.element),r=s.find("#cellContent"+s[0].id);0==r.length&&(r=s),this._applyCellStyle(i,s,r)}},getWeekOfYear:function(e){var t,e=new Date(e.dateTime),i=this.firstDayOfWeek,s=new Date(e.getFullYear(),0,1),r=0<=(r=s.getDay()-i)?r:r+7,s=Math.floor((e.getTime()-s.getTime()-6e4*(e.getTimezoneOffset()-s.getTimezoneOffset()))/864e5)+1;return r<4?52<(t=Math.floor((s+r-1)/7)+1)&&(t=(e=0<=(e=new Date(e.getFullYear()+1,0,1).getDay()-i)?e:e+7)<4?1:53):t=Math.floor((s+r-1)/7),t},renderColumnHeader:function(e){if(this.showDayNames){var t=_("<table role='grid' style='border-spacing: 0px; border-collapse: collapse; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),i=(t.find("table").addClass(this.toThemeProperty("jqx-reset")),t.find("tr").addClass(this.toThemeProperty("jqx-reset")),t.find("td").css({background:"transparent",padding:1,margin:0,border:"none"}),t.addClass(this.toThemeProperty("jqx-reset")),t.addClass(this.toThemeProperty("jqx-widget-content")),t.addClass(this.toThemeProperty("jqx-calendar-column-header")),this.columnHeader.append(t),this.getVisibleDate()),i=this.getFirstDayOfWeek(i),s=(i.dayOfWeek,this.getWeekOfYear(i),this.firstDayOfWeek),r=this.localization.calendar.days.names,n=new Array,o=i,a=(e.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(a=(e.width()-2)/7);for(var l=0;l<7;l++){var d=r[s];switch(this.rtl&&(d=r[6-s]),this.dayNameFormat){case"default":d=this.localization.calendar.days.namesAbbr[s],this.rtl&&(d=this.localization.calendar.days.namesAbbr[6-s]);break;case"shortest":d=this.localization.calendar.days.namesShort[s],this.rtl&&(d=this.localization.calendar.days.namesShort[6-s]);break;case"firstTwoLetters":d=d.substring(0,2);break;case"firstLetter":d=d.substring(0,1)}var h=new _.jqx._jqxCalendar.cell(o.dateTime),c=l+1+this.element.id,u=_(t[0].rows[0].cells[l]),p=l,m=(this.enableTooltips&&_(u).jqxTooltip&&_(u).jqxTooltip({name:this.element.id,content:r[s],theme:this.theme,position:"mouse"}),6<=s?s=0:s++,l=p,h.element=u,h.row=0,h.column=l+1,this._textwidth(d));if(u.append("<div style='padding: 0; margin: 0; border: none; background: transparent;' id='columnCell"+c+"'>"+d+"</div>"),u.find("#columnCell"+c).addClass(this.toThemeProperty("jqx-calendar-column-cell")),u.width(a),this.disabled&&u.find("#columnCell"+c).addClass(this.toThemeProperty("jqx-calendar-column-cell-disabled")),0<m&&0<a)for(;m>u.width()&&0!=d.length;)d=d.substring(0,d.length-1),_.jqx.utilities.html(u.find("#columnCell"+c),d),m=this._textwidth(d);n[l]=h,o=new _.jqx._jqxDateTimeInput.getDateTime(new Date(o._addDays(1)))}parseInt(this.columnHeader.width())>parseInt(this.month.width())&&this.columnHeader.width(this.month.width()),_.data(this.element,e[0].id).columnCells=n}},_format:function(t,i,e){var s=!1;try{null!=window.Globalize?s=!0:document.Globalize&&(window.Globalize=document.Globalize,s=!0)}catch(e){document.Globalize&&(window.Globalize=document.Globalize,s=!0)}if(document.Globalize&&(window.Globalize=document.Globalize,s=!0),_.global)return _.global.culture.calendar=this.localization.calendar,_.global.format(t,i,this.culture);if(s)try{return window.Globalize.cultures[this.culture]&&(window.Globalize.cultures[this.culture].calendar=this.localization.calendar),window.Globalize.format(t,i,this.culture)}catch(e){return window.Globalize.format(t,i)}else if(_.jqx.dataFormat)return _.jqx.dataFormat.formatdate(t,i,this.localization.calendar)},_textwidth:function(e){var e=_("<span>"+e+"</span>"),t=(e.addClass(this.toThemeProperty("jqx-calendar-column-cell")),_(this.host).append(e),e.width());return e.remove(),t},_textheight:function(e){var e=_("<span>"+e+"</span>"),t=(_(this.host).append(e),e.height());return e.remove(),t},_renderRowHeader:function(e){for(var t=this.getVisibleDate(),t=this.getFirstDayOfWeek(t),i=(t.dayOfWeek,this.getWeekOfYear(t)),s=new _.jqx._jqxDateTimeInput.getDateTime(new Date(t.dateTime)),r=(s._addDays(5),s.dayOfWeek=s.dateTime.getDay(),this.getWeekOfYear(s),53==i&&0==s.dateTime.getMonth()&&(i=1),_("<table style='overflow: hidden; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr><td></td></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr></table>")),n=(r.find("table").addClass(this.toThemeProperty("jqx-reset")),r.find("td").addClass(this.toThemeProperty("jqx-reset")),r.find("tr").addClass(this.toThemeProperty("jqx-reset")),r.addClass(this.toThemeProperty("jqx-calendar-row-header")),r.width(this.rowHeaderWidth),this.rowHeader.append(r),t),o=new Array,a=0;a<6;a++){var l=i.toString(),d=new _.jqx._jqxCalendar.cell(n.dateTime),h=a+1+this.element.id,c=_(r[0].rows[a].cells[0]),l=(d.element=c,d.row=a,d.column=0,"<div style='background: transparent; border: none; padding: 0; margin: 0;' id ='headerCellContent"+h+"'>"+l+"</div>");c.append(l),c.find("#headerCellContent"+h).addClass(this.toThemeProperty("jqx-calendar-row-cell")),o[a]=d,n=new _.jqx._jqxDateTimeInput.getDateTime(new Date(n._addWeeks(1))),i=this.getWeekOfYear(n)}_.data(this.element,e[0].id).rowCells=o},getFirstDayOfWeek:function(e){(this.firstDayOfWeek<0||6<this.firstDayOfWeek)&&(this.firstDayOfWeek=6);var t=e.dayOfWeek-this.firstDayOfWeek;return t<=0&&(t+=7),_.jqx._jqxDateTimeInput.getDateTime(e._addDays(-t))},getVisibleDate:function(){var e=new _.jqx._jqxDateTimeInput.getDateTime(new Date(this.value.dateTime)),t=((e=e<this.minDate?this.minDate:e)>this.maxDate&&(this.visibleDate=this.maxDate),e.dateTime.setHours(0),e.day);return e=_.jqx._jqxDateTimeInput.getDateTime(e._addDays(1-t))},destroy:function(e){_.jqx.utilities.resize(this.host,null,!0),this.host.removeClass(),0!=e&&this.host.remove()},_raiseEvent:function(e,t){var i,s=this.events[e],t=(t=null==t?{owner:null}:t)||{},s=(t.owner=this,new _.Event(s)),r=(s.owner=this,s.args=t,0!=e&&1!=e&&2!=e&&3!=e&&4!=e&&5!=e&&6!=e&&7!=e&&8!=e||(s.args.date=s.args.selectedDate=this.getDate(),s.args.range=this.getRange(),i=this.getViewStart(),r=this.getViewEnd(),s.args.view={from:i,to:r}),7==e&&(i=t.selectionType||null,t.type=i="none"==(i="key"==i?"keyboard":i)?null:i),this.host.trigger(s));return r=0!=e&&1!=e?r:!1},propertyMap:function(e){return"value"==e?"range"!=this.selectionMode?this.getDate():this.getRange():null},_setSize:function(){var e,t,i=this.host.find("#View"+this.element.id);0<i.length&&(this.setCalendarSize(),i[0].style.height="100%",i[0].style.width="100%",e=this.month.height()-this.titleHeight-this.columnHeaderHeight,t="View"+this.element.id,i.find("#cellsTable"+t).height(e),i.find("#calendarRowHeader"+t).height(e),this.refreshControl())},resize:function(){this._setSize()},clear:function(){"range"==this.selectionMode?(this._clicks=1,this.setRange(null,null),this._raiseEvent(7)):this.setDate(null,"mouse"),this._clicks=0,this.selection={from:null,to:null}},today:function(){"range"==this.selectionMode?this.setRange(new Date,new Date):this.setDate(new Date,"mouse")},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(e,t,i,s){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)&&"enableHover"!=t&&"keyboardNavigation"!=t){if("localization"==t&&this.localization&&(this.localization.backString&&(this.backText=this.localization.backString),this.localization.forwardString&&(this.forwardText=this.localization.forwardString),this.localization.todayString&&(this.todayString=this.localization.todayString),this.localization.clearString&&(this.clearString=this.localization.clearString),this.firstDayOfWeek=this.localization.calendar.firstDay),"culture"==t)try{var r;_.global?(_.global.preferCulture(e.culture),e.localization.calendar=_.global.culture.calendar):window.Globalize&&(r=window.Globalize.culture(e.culture),e.localization.calendar=r.calendar),e.localization.calendar&&null!=e.localization.calendar.firstDay&&"default"!=e.culture&&(e.firstDayOfWeek=e.localization.calendar.firstDay)}catch(e){}if("views"==t)return-1==e.views.indexOf("month")&&(e.view="year"),-1==e.views.indexOf("year")&&-1==e.views.indexOf("month")&&(e.view="decade"),void e.render();"showFooter"==t&&e.render(),"width"==t||"height"==t?e._setSize():("theme"==t?_.jqx.utilities.setTheme(i,s,e.host):"rowHeaderWidth"==t||"showWeekNumbers"==t?e.render():(e.view="month",e.render(),e.refreshControl()),"firstDayOfWeek"===t&&e.refreshControl())}}})}(jqxBaseFramework),!function(t){t.jqx._jqxCalendar.cell=function(e){return{dateTime:new t.jqx._jqxDateTimeInput.getDateTime(e),_date:e,getDate:function(){return this._date},setDate:function(e){this.dateTime=new t.jqx._jqxDateTimeInput.getDateTime(e),this._date=e},isToday:!1,isWeekend:!1,isOtherMonth:!1,isVisible:!0,isSelected:!1,isHighlighted:!1,element:null,row:-1,column:-1,tooltip:null}},t.jqx._jqxCalendar.monthView=function(e,t,i,s,r,n){return{start:e,end:t,cells:i,rowCells:s,columnCells:r,element:n}}}(jqxBaseFramework),!function(ae){ae.jqx.jqxWidget("jqxChart","",{}),ae.extend(ae.jqx._jqxChart.prototype,{defineInstance:function(){return ae.extend(!0,this,this._defaultSettings),this._createColorsCache(),this._defaultSettings},_defaultSettings:{title:"Title",description:"Description",source:[],seriesGroups:[],categoryAxis:null,xAxis:{},valueAxis:null,renderEngine:"",enableAnimations:!0,enableAxisTextAnimation:!1,backgroundImage:"",background:"#FFFFFF",padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#FFFFFF",showBorderLine:!0,borderLineWidth:1,borderLineColor:null,borderColor:null,titlePadding:{left:5,top:5,right:5,bottom:10},showLegend:!0,legendLayout:null,enabled:!0,colorScheme:"scheme01",animationDuration:500,showToolTips:!0,showToolTipsOnAllSeries:!1,toolTipShowDelay:300,toolTipDelay:500,toolTipHideDelay:4e3,toolTipMoveDuration:300,toolTipFormatFunction:null,toolTipAlignment:"dataPoint",localization:null,columnSeriesOverlap:!1,rtl:!1,legendPosition:null,greyScale:!1,axisPadding:5,enableCrosshairs:!1,crosshairsColor:"#BCBCBC",crosshairsDashStyle:"2,2",crosshairsLineWidth:1,enableEvents:!0,_itemsToggleState:[],_isToggleRefresh:!1,_isSelectorRefresh:!1,_sliders:[],_selectorRange:[],_rangeSelectorInstances:{},_resizeState:{},renderer:null,_isRangeSelectorInstance:!1,drawBefore:null,draw:null,_renderData:{},enableSampling:!0},_defaultLineColor:"#BCBCBC",_touchEvents:{mousedown:ae.jqx.mobile.getTouchEventName("touchstart"),click:ae.jqx.mobile.getTouchEventName("touchstart"),mouseup:ae.jqx.mobile.getTouchEventName("touchend"),mousemove:ae.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},destroy:function(){this.host.remove()},_jqxPlot:null,createInstance:function(e){if(!ae.jqx.dataAdapter)throw"jqxdata.js is not loaded";var t,n=this,i=(n._refreshOnDownloadComlete(),n._isTouchDevice=ae.jqx.mobile.isTouchDevice(),n._jqxPlot||(n._jqxPlot=new jqxPlot),n.addHandler(n.host,n._getEvent("mousemove"),function(e){var t,i,s;0!=n.enabled&&(n._isRangeSelectorInstance||n.host.css("cursor","default"),i=e.pageX||e.clientX||e.screenX,s=e.pageY||e.clientY||e.screenY,t=n.host.offset(),n._isTouchDevice&&(i=(e=ae.jqx.position(e)).left,s=e.top),i-=t.left,s-=t.top,n.onmousemove(i,s))}),n.addHandler(n.host,n._getEvent("mouseleave"),function(e){var t,i,s;0!=n.enabled&&(t=n._mouseX,i=n._mouseY,(s=n._plotRect)&&t>=s.x&&t<=s.x+s.width&&i>=s.y&&i<=s.y+s.height||(n._cancelTooltipTimer(),n._hideToolTip(0),n._unselect()))}),n.addHandler(n.host,"click",function(i){var e,t,s,r;0!=n.enabled&&(s=i.pageX||i.clientX||i.screenX,r=i.pageY||i.clientY||i.screenY,e=n.host.offset(),n._isTouchDevice&&(s=(t=ae.jqx.position(i)).left,r=t.top),s-=e.left,r-=e.top,n._mouseX=s,n._mouseY=r,!isNaN(n._lastClickTs)&&(new Date).valueOf()-n._lastClickTs<100||(this._hostClickTimer=setTimeout(function(){var e,t;n._isTouchDevice||(n._cancelTooltipTimer(),n._hideToolTip(),n._unselect()),n._pointMarker&&n._pointMarker.element&&(t=(e=n.seriesGroups[n._pointMarker.gidx]).series[n._pointMarker.sidx],i.stopImmediatePropagation(),n._raiseItemEvent("click",e,t,n._pointMarker.iidx))},100)))}),n.element.style);i&&(t=!1,null!=i.width&&(t|=-1!=i.width.toString().indexOf("%")),null!=i.height&&(t|=-1!=i.height.toString().indexOf("%")),t&&ae.jqx.utilities.resize(this.host,function(){n.timer&&clearTimeout(n.timer);n.timer=setTimeout(function(){var e=n.enableAnimations;n.enableAnimations=!1,n.refresh(),n.enableAnimations=e},1)},!1,!0))},_refreshOnDownloadComlete:function(){var e,t=this,i=this.source;i instanceof ae.jqx.dataAdapter&&(null!=(e=i._options)&&(null==e||e.autoBind)||(i.autoSync=!1,i.dataBind()),e=this.element.id,0==i.records.length?(i.unbindDownloadComplete(e),i.bindDownloadComplete(e,function(){t.ready&&t.ready(),t.refresh()})):t.ready&&t.ready(),i.unbindBindingUpdate(e),i.bindBindingUpdate(e,function(){t._supressBindingRefresh||t.refresh()}))},propertyChangedHandler:function(e,t,i,s){null!=this.isInitialized&&0!=this.isInitialized&&("source"==t&&this._refreshOnDownloadComlete(),this.refresh())},_initRenderer:function(e){if(ae.jqx.createRenderer)return ae.jqx.createRenderer(this,e);throw"Please include jqxdraw.js"},_internalRefresh:function(){var e,t,i=this;ae.jqx.isHidden(i.host)||(i._stopAnimations(),i.renderer&&(i._isToggleRefresh||i._isUpdate)||(i._hideToolTip(0),i._isVML=!1,i.host.empty(),i._measureDiv=void 0,i._initRenderer(i.host)),(e=i.renderer)&&(t=e.getRect(),i._render({x:1,y:1,width:t.width,height:t.height}),this._raiseEvent("refreshBegin",{instance:this}),e instanceof ae.jqx.HTML5Renderer&&e.refresh(),i._isUpdate=!1,this._raiseEvent("refreshEnd",{instance:this})))},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)},saveAsPDF:function(e,t,i){return this._saveAsImage("pdf",e,t,i)},_saveAsImage:function(e,t,i,s){for(var r=!1,n=0;n<this.seriesGroups.length&&!r;n++){var o=this._getXAxis(n);o&&o.rangeSelector&&(r=!0)}return ae.jqx._widgetToImage(this,e,t,i,s,r?this._selectorSaveAsImageCallback:void 0)},_selectorSaveAsImageCallback:function(e,t){for(var i=e,s=0;s<i.seriesGroups.length;s++){var r=i._getXAxis(s);if(r&&r.rangeSelector&&!r.rangeSelector.renderTo){var n=i._rangeSelectorInstances[s];if(n){var o=n.jqxChart("getInstance"),a=(o.renderEngine,o.renderer.getRect()),l=o.renderer.getContainer().find("canvas")[0].getContext("2d"),d=i._sliders[s],h="horizontal"==i.seriesGroups[s].orientation,c=h?"height":"width",u=h?"width":"height",p=h?"y":"x",m=h?"x":"y",g={},p=(g[p]=d.startOffset+d.rect[p],g[m]=d.rect[m],g[c]=d.endOffset-d.startOffset,g[u]=d.rect[u],r.rangeSelector.colorSelectedRange||"blue"),m=(r.rangeSelector.colorUnselectedRange,r.rangeSelector.colorRangeLine||"grey"),f=[],c=(f.push(o.renderer.rect(g.x,g.y,g.width,g.height,{fill:p,opacity:.1})),h?(f.push(o.renderer.line(ae.jqx._ptrnd(d.rect.x+d.rect.width),ae.jqx._ptrnd(d.rect.y),ae.jqx._ptrnd(d.rect.x+d.rect.width),ae.jqx._ptrnd(g.y),{stroke:m,opacity:.5})),f.push(o.renderer.line(ae.jqx._ptrnd(d.rect.x+d.rect.width),ae.jqx._ptrnd(g.y+g.height),ae.jqx._ptrnd(d.rect.x+d.rect.width),ae.jqx._ptrnd(d.rect.y+d.rect.height),{stroke:m,opacity:.5})),f.push(o.renderer.line(ae.jqx._ptrnd(d.rect.x),ae.jqx._ptrnd(g.y),ae.jqx._ptrnd(d.rect.x+d.rect.width),ae.jqx._ptrnd(g.y),{stroke:m,opacity:.5})),f.push(o.renderer.line(ae.jqx._ptrnd(d.rect.x),ae.jqx._ptrnd(g.y+g.height),ae.jqx._ptrnd(d.rect.x+d.rect.width),ae.jqx._ptrnd(g.y+g.height),{stroke:m,opacity:.5}))):(f.push(o.renderer.line(ae.jqx._ptrnd(d.rect.x),ae.jqx._ptrnd(d.rect.y),ae.jqx._ptrnd(g.x),ae.jqx._ptrnd(d.rect.y),{stroke:m,opacity:.5})),f.push(o.renderer.line(ae.jqx._ptrnd(g.x+g.width),ae.jqx._ptrnd(d.rect.y),ae.jqx._ptrnd(d.rect.x+d.rect.width),ae.jqx._ptrnd(d.rect.y),{stroke:m,opacity:.5})),f.push(o.renderer.line(ae.jqx._ptrnd(g.x),ae.jqx._ptrnd(d.rect.y),ae.jqx._ptrnd(g.x),ae.jqx._ptrnd(d.rect.y+d.rect.height),{stroke:m,opacity:.5})),f.push(o.renderer.line(ae.jqx._ptrnd(g.x+g.width),ae.jqx._ptrnd(d.rect.y),ae.jqx._ptrnd(g.x+g.width),ae.jqx._ptrnd(d.rect.y+d.rect.height),{stroke:m,opacity:.5}))),o.renderer.refresh(),l.getImageData(a.x,a.y,a.width,a.height));t.getContext("2d").putImageData(c,parseInt(n.css("left")),parseInt(n.css("top")),1,1,a.width,a.height);for(var v=0;v<f.length;v++)o.renderer.removeElement(f[v]);o.renderer.refresh()}}}return!0},refresh:function(){this._internalRefresh()},update:function(){this._isUpdate=!0,this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","scatter","stackedscatter","stackedscatter100","bubble","stackedbubble","stackedbubble100","pie","donut","candlestick","ohlc","waterfall","stackedwaterfall"],clear:function(){for(var e in this._defaultSettings)this[e]=this._defaultSettings[e];this.title="",this.description="",this.refresh()},_validateSeriesGroups:function(){if(!ae.isArray(this.seriesGroups))throw"Invalid property: 'seriesGroups' property is required and must be a valid array.";for(var e=0;e<this.seriesGroups.length;e++){var t=this.seriesGroups[e];if(!t.type)throw"Invalid property: Each series group must have a valid 'type' property.";if(!ae.isArray(t.series))throw"Invalid property: Each series group must have a 'series' property which must be a valid array."}},_render:function(e){for(var t=this,i=t.renderer,s=(t._validateSeriesGroups(),t._colorsCache.clear(),!t._isToggleRefresh&&t._isUpdate&&t._renderData&&t._renderDataClone(),t._renderData=[],i.clear(),t._unselect(),t._hideToolTip(0),t.backgroundImage),r=(null==s||""==s?t.host.css({"background-image":""}):t.host.css({"background-image":-1!=s.indexOf("(")?s:"url('"+s+"')"}),t._rect=e,t.padding||{left:5,top:5,right:5,bottom:5}),n=i.createClipRect(e),o=i.beginGroup(),o=(i.setClip(o,n),i.rect(e.x,e.y,e.width-2,e.height-2)),s=(null==s||""==s?i.attr(o,{fill:t.backgroundColor||t.background||"white"}):i.attr(o,{fill:"transparent"}),0!=t.showBorderLine?(null==(n=null==t.borderLineColor?t.borderColor:t.borderLineColor)&&(n=t._defaultLineColor),s=this.borderLineWidth,(isNaN(s)||s<0||10<s)&&(s=1),i.attr(o,{"stroke-width":s,stroke:n})):ae.jqx.browser.msie&&ae.jqx.browser.version<9&&i.attr(o,{"stroke-width":1,stroke:t.backgroundColor||"white"}),ae.isFunction(t.drawBefore)&&t.drawBefore(i,e),{x:r.left,y:r.top,width:e.width-r.left-r.right,height:e.height-r.top-r.bottom}),n=(t._paddedRect=s,t.titlePadding||{left:2,top:2,right:2,bottom:2}),a=(t.title&&0<t.title.length&&(o=t.toThemeProperty("jqx-chart-title-text",null),k=i.measureText(t.title,0,{class:o}),i.text(t.title,s.x+n.left,s.y+n.top,s.width-(n.left+n.right),k.height,0,{class:o},!0,"center","center"),s.y+=k.height,s.height-=k.height),t.description&&0<t.description.length&&(r=t.toThemeProperty("jqx-chart-title-description",null),k=i.measureText(t.description,0,{class:r}),i.text(t.description,s.x+n.left,s.y+n.top,s.width-(n.left+n.right),k.height,0,{class:r},!0,"center","center"),s.y+=k.height,s.height-=k.height),(t.title||t.description)&&(s.y+=n.bottom+n.top,s.height-=n.bottom+n.top),{x:s.x,y:s.y,width:s.width,height:s.height}),l=(t._plotRect=a,t._buildStats(a),t._isPieOnlySeries()),d=t.seriesGroups,h={xAxis:{},valueAxis:{}},c=0;c<d.length&&!l;c++)if("pie"!=d[c].type&&"donut"!=d[c].type){if(!(M=t._getXAxis(c)))throw"seriesGroup["+c+"] is missing xAxis definition";var u=M==t._getXAxis()?-1:c;h.xAxis[u]=0}var p,m=t.axisPadding,g=(isNaN(m)&&(m=5),{left:0,right:0,leftCount:0,rightCount:0}),f=[];for(c=0;c<d.length;c++)"pie"==(D=d[c]).type||"donut"==D.type||1==D.spider||1==D.polar?f.push({width:0,position:0,xRel:0}):(p="horizontal"==D.orientation,u=(M=t._getXAxis(c))==t._getXAxis()?-1:c,T=(v=t._getValueAxis(c))==t._getValueAxis()?-1:c,_=(p?M:v).axisSize,C={x:0,y:a.y,width:a.width,height:a.height},x=(p?t._getXAxis(c):v).position,_&&"auto"!=_||(p?(_=this._renderXAxis(c,C,!0,a).width,1==(1&h.xAxis[u])?_=0:0<_&&(h.xAxis[u]|=1)):(_=t._renderValueAxis(c,C,!0,a).width,1==(1&h.valueAxis[T])?_=0:0<_&&(h.valueAxis[T]|=1))),0<g[(x="right"!=(x="left"!=x&&1==t.rtl?"right":x)?"left":x)+"Count"]&&0<g[x]&&0<_&&(g[x]+=m),f.push({width:_,position:x,xRel:g[x]}),g[x]+=_,g[x+"Count"]++);var v,x,y=Math.max(1,Math.max(e.width,e.height)),w={top:0,bottom:0,topCount:0,bottomCount:0},b=[];for(c=0;c<d.length;c++)"pie"==(D=d[c]).type||"donut"==D.type||1==D.spider||1==D.polar?b.push({height:0,position:0,yRel:0}):(p="horizontal"==D.orientation,T=(v=this._getValueAxis(c))==t._getValueAxis()?-1:c,u=(M=t._getXAxis(c))==t._getXAxis()?-1:c,q=(p?v:M).axisSize,x=(p?v:M).position,q&&"auto"!=q||(p?(q=t._renderValueAxis(c,{x:0,y:0,width:y,height:0},!0,a).height,2==(2&h.valueAxis[T])?q=0:0<q&&(h.valueAxis[T]|=2)):(q=t._renderXAxis(c,{x:0,y:0,width:y,height:0},!0).height,2==(2&h.xAxis[u])?q=0:0<q&&(h.xAxis[u]|=2))),0<w[(x="top"!=x?"bottom":x)+"Count"]&&0<w[x]&&0<q&&(w[x]+=m),b.push({height:q,position:x,yRel:w[x]}),w[x]+=q,w[x+"Count"]++);t._createAnimationGroup("series");o=0!=t.showLegend,r=o?t._renderLegend(t.legendLayout?t._rect:s,!0):{width:0,height:0};if(!this.legendLayout||isNaN(this.legendLayout.left)&&isNaN(this.legendLayout.top)||(r={width:0,height:0}),s.height<w.top+w.bottom+r.height||s.width<g.left+g.right)i.endGroup();else{a.height-=w.top+w.bottom+r.height,a.x+=g.left,a.width-=g.left+g.right,a.y+=w.top;var _,q,j=[];if(!l){var T,C;t._getXAxis().tickMarksColor||t._defaultLineColor;for(c=0;c<d.length;c++)1!=(D=d[c]).polar&&1!=D.spider&&"pie"!=D.type&&"donut"!=D.type&&(p="horizontal"==D.orientation,u=t._getXAxis(c)==t._getXAxis()?-1:c,T=t._getValueAxis(c)==t._getValueAxis()?-1:c,C={x:a.x,y:0,width:a.width,height:b[c].height},"top"!=b[c].position?C.y=a.y+a.height+b[c].yRel:C.y=a.y-b[c].yRel-b[c].height,p?4!=(4&h.valueAxis[T])&&t._isGroupVisible(c)&&(t._renderValueAxis(c,C,!1,a),h.valueAxis[T]|=4):(j.push(C),4!=(4&h.xAxis[u])&&t._isGroupVisible(c)&&(t._renderXAxis(c,C,!1,a),h.xAxis[u]|=4)))}if(o&&(k=t.legendLayout?t._rect:s,n=s.x+ae.jqx._ptrnd((s.width-r.width)/2),o=a.y+a.height+w.bottom,_=s.width,q=r.height,t.legendLayout&&(isNaN(t.legendLayout.left)||(n=t.legendLayout.left),isNaN(t.legendLayout.top)||(o=t.legendLayout.top),isNaN(t.legendLayout.width)||(_=t.legendLayout.width),isNaN(t.legendLayout.height)||(q=t.legendLayout.height)),n+_>k.x+k.width&&(_=k.x+k.width-n),o+q>k.y+k.height&&(q=k.y+k.height-o),t._renderLegend({x:n,y:o,width:_,height:q})),t._hasHorizontalLines=!1,!l)for(c=0;c<d.length;c++)1!=(D=d[c]).polar&&1!=D.spider&&"pie"!=D.type&&"donut"!=D.type&&(p="horizontal"==d[c].orientation,C={x:a.x-f[c].xRel-f[c].width,y:a.y,width:f[c].width,height:a.height},"left"!=f[c].position&&(C.x=a.x+a.width+f[c].xRel),u=t._getXAxis(c)==t._getXAxis()?-1:c,T=t._getValueAxis(c)==t._getValueAxis()?-1:c,p?(j.push(C),8!=(8&h.xAxis[u])&&t._isGroupVisible(c)&&(t._renderXAxis(c,C,!1,a),h.xAxis[u]|=8)):8!=(8&h.valueAxis[T])&&t._isGroupVisible(c)&&(t._renderValueAxis(c,C,!1,a),h.valueAxis[T]|=8));if(!(a.width<=0||a.height<=0)){for(t._plotRect={x:a.x,y:a.y,width:a.width,height:a.height},c=0;c<d.length;c++)this._drawPlotAreaLines(c,!0,{gridLines:!1,tickMarks:!1,alternatingBackground:!0}),this._drawPlotAreaLines(c,!1,{gridLines:!1,tickMarks:!1,alternatingBackground:!0});for(c=0;c<d.length;c++)this._drawPlotAreaLines(c,!0,{gridLines:!0,tickMarks:!0,alternatingBackground:!1}),this._drawPlotAreaLines(c,!1,{gridLines:!0,tickMarks:!0,alternatingBackground:!1});var S=!1;for(c=0;c<d.length&&!S;c++)if(void 0!==(D=d[c]).annotations||ae.isFunction(D.draw)||ae.isFunction(D.drawBefore)){S=!0;break}var k,s=i.beginGroup();for(S||(r=i.createClipRect({x:a.x-2,y:a.y,width:a.width+4,height:a.height}),i.setClip(s,r)),c=0;c<d.length;c++){var I,D=d[c],P=!1;for(I in t._seriesTypes)if(t._seriesTypes[I]==D.type){P=!0;break}if(!P)throw'Invalid serie type "'+D.type+'"';ae.isFunction(D.drawBefore)&&D.drawBefore(i,e,c,this),1!=D.polar&&1!=D.spider||-1==D.type.indexOf("pie")&&-1==D.type.indexOf("donut")&&t._renderSpiderAxis(c,a),t._renderAxisBands(c,a,!0),t._renderAxisBands(c,a,!1)}for(c=0;c<d.length;c++){D=d[c];if(t._isColumnType(D.type)?t._renderColumnSeries(c,a):-1!=D.type.indexOf("pie")||-1!=D.type.indexOf("donut")?t._renderPieSeries(c,a):-1!=D.type.indexOf("line")||-1!=D.type.indexOf("area")?t._renderLineSeries(c,a):-1!=D.type.indexOf("scatter")||-1!=D.type.indexOf("bubble")?t._renderScatterSeries(c,a):-1==D.type.indexOf("candlestick")&&-1==D.type.indexOf("ohlc")||t._renderCandleStickSeries(c,a,-1!=D.type.indexOf("ohlc")),D.annotations){if(!this._moduleAnnotations)throw"Please include 'jqxchart.annotations.js'";for(var A=0;A<D.annotations.length;A++)t._renderAnnotation(c,D.annotations[A],a)}ae.isFunction(D.draw)&&t.draw(i,e,c,this)}i.endGroup(),0==t.enabled&&(k=i.rect(e.x,e.y,e.width,e.height),i.attr(k,{fill:"#777777",opacity:.5,stroke:"#00FFFFFF"})),ae.isFunction(t.draw)&&t.draw(i,e),i.endGroup(),t._startAnimation("series"),t._credits&&t._credits();for(var M,H=!1,c=0;c<t.seriesGroups.length&&!H;c++)(M=t._getXAxis(c))&&M.rangeSelector&&(H=!0);if(H){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";var B=[];for(this._isSelectorRefresh||(t.removeHandler(ae(document),t._getEvent("mousemove"),t._onSliderMouseMove),t.removeHandler(ae(document),t._getEvent("mousedown"),t._onSliderMouseDown),t.removeHandler(ae(document),t._getEvent("mouseup"),t._onSliderMouseUp)),t._isSelectorRefresh||(t._rangeSelectorInstances={}),c=0;c<t.seriesGroups.length;c++){var z=this._getXAxis(c);-1==B.indexOf(z)&&this._renderXAxisRangeSelector(c,j[c])&&B.push(z)}}}}},_credits:function(){var e,t,i,s,r,n;"10208878-FCD1-4EC7-9249-BA0F153A5DE8"!==ae.jqx.credits&&(e=this,t=String.fromCharCode(119,119,119,46,106,113,119,105,100,103,101,116,115,46,99,111,109),e._isRangeSelectorInstance||-1!=location.hostname.indexOf(t.substring(4))||(n=e.renderer,i=e._rect,s={class:e.toThemeProperty("jqx-chart-legend-text",null),opacity:.5},r=n.measureText(t,0,s),n=n.text(t,i.x+i.width-r.width-5,i.y+i.height-r.height-5,r.width,r.height,0,s),ae(n).on("click",function(){location.href="http://"+t+"/?ref="+e.widgetName})))},_isPieOnlySeries:function(){var e=this.seriesGroups;if(0==e.length)return!1;for(var t=0;t<e.length;t++)if("pie"!=e[t].type&&"donut"!=e[t].type)return!1;return!0},_renderChartLegend:function(e,t,i,s){for(var r=this,n=r.renderer,o={x:t.x,y:t.y,width:t.width,height:t.height},a=(6<=o.width&&(o.x+=3,o.width-=6),6<=o.height&&(o.y+=3,o.height-=6),{width:o.width,height:0}),l=0,d=0,h=20,c=0,u=0,p=0;p<e.length;p++){var m=(m=e[p].css)||r.toThemeProperty("jqx-chart-legend-text",null),h=20,g=e[p].text,f=n.measureText(g,0,{class:m}),z=(f.height>h&&(h=f.height),f.width>u&&(u=f.width),s?(0!=p&&(d+=h),d>o.height&&(d=0,l+=u+20+10,u=f.width,a.width=l+u)):(0!=l&&(l+=10),l+20+f.width>o.width&&f.width<o.width&&(l=0,d+=h,c=o.width,a.height=d+(h=20))),!1);if(f.width>o.width){for(var z=!0,v=o.width,x=(M=g).split(/\s+/),y=[],w="",b=0;b<x.length;b++){var _=w+(0<w.length?" ":"")+x[b];w=(C=r.renderer.measureText(_,0,{class:m})).width>v&&0<_.length&&0<w.length?(y.push({text:w}),x[b]):_,b+1==x.length&&y.push({text:w})}for(var q=f.width=0,j=0;j<y.length;j++){var T=y[j].text,C=r.renderer.measureText(T,0,{class:m});f.width=Math.max(f.width,C.width),q+=f.height}f.height=q}var S=l+f.width<o.width&&d+f.height<t.height;if(r.legendLayout&&(S=o.x+l+f.width<r._rect.x+r._rect.width&&o.y+d+f.height<r._rect.y+r._rect.height),!i&&S){var S=e[p].seriesIndex,k=e[p].groupIndex,I=e[p].itemIndex,D=e[p].fillColor,P=e[p].lineColor,A=r._isSerieVisible(k,S,I),E=n.beginGroup(),A=A?e[p].opacity:.1;if(z){for(var M=g,v=o.width,x=M.split(/\s+/),H=0,y=[],w="",b=0;b<x.length;b++){_=w+(0<w.length?" ":"")+x[b];w=(C=r.renderer.measureText(_,0,{class:m})).width>v&&0<_.length&&0<w.length?(y.push({text:w,dy:H}),H+=C.height,x[b]):_,b+1==x.length&&y.push({text:w,dy:H})}for(j=0;j<y.length;j++){T=y[j].text,H=y[j].dy,C=r.renderer.measureText(T,0,{class:m});s?r.renderer.text(T,o.x+l+15,o.y+d+H,f.width,h,0,{class:m},!1,"left","center"):r.renderer.text(T,o.x+l+15,o.y+d+H,f.width,h,0,{class:m},!1,"center","center")}var B=n.rect(o.x+l,o.y+d+5+H/2,10,10);s&&(d+=H),r.renderer.attr(B,{fill:D,"fill-opacity":A,stroke:P,"stroke-width":1,"stroke-opacity":e[p].opacity})}else{B=n.rect(o.x+l,o.y+d+5,10,10);r.renderer.attr(B,{fill:D,"fill-opacity":A,stroke:P,"stroke-width":1,"stroke-opacity":e[p].opacity}),s?r.renderer.text(g,o.x+l+15,o.y+d,f.width,f.height+5,0,{class:m},!1,"left","center"):r.renderer.text(g,o.x+l+15,o.y+d,f.width,h,0,{class:m},!1,"center","center")}r.renderer.endGroup(),r._setLegendToggleHandler(k,S,I,E)}s||c<(l+=f.width+20)&&(c=l)}if(i)return a.height=ae.jqx._ptrnd(d+h+5),a.width=ae.jqx._ptrnd(c),a},isSerieVisible:function(e,t,i){return this._isSerieVisible(e,t,i)},_isSerieVisible:function(e,t,i){for(;this._itemsToggleState.length<e+1;)this._itemsToggleState.push([]);for(var s=this._itemsToggleState[e];s.length<t+1;)s.push(!!isNaN(i)||[]);var r=s[t];if(isNaN(i))return r;for(ae.isArray(r)||(s[t]=r=[]);r.length<i+1;)r.push(!0);return r[i]},isGroupVisible:function(e){return this._isGroupVisible(e)},_isGroupVisible:function(e){var t=!1,i=this.seriesGroups[e].series;if(!i)return t;for(var s=0;s<i.length;s++)if(this._isSerieVisible(e,s)){t=!0;break}return t},_toggleSerie:function(e,t,i,s){var r=!this._isSerieVisible(e,t,i),n=this.seriesGroups[e],o=n.series[t];if(this._raiseEvent("toggle",{state:r=null!=s?s:r,seriesGroup:n,serie:o,elementIndex:i}),isNaN(i))this._itemsToggleState[e][t]=r;else{var a=this._itemsToggleState[e][t];for(ae.isArray(a)||(a=[]);a.length<i;)a.push(!0);a[i]=r}this._isToggleRefresh=!0,this.update(),this._isToggleRefresh=!1},showSerie:function(e,t,i){this._toggleSerie(e,t,i,!0)},hideSerie:function(e,t,i){this._toggleSerie(e,t,i,!1)},_setLegendToggleHandler:function(t,i,s,e){var r,n=this.seriesGroups[t],o=n.series[i].enableSeriesToggle;(o=null==o?0!=n.enableSeriesToggle:o)&&(r=this).renderer.addHandler(e,"click",function(e){r._toggleSerie(t,i,s)})},_renderLegend:function(e,t){for(var i=this,s=[],r=0;r<i.seriesGroups.length;r++){var n=i.seriesGroups[r];if(0!=n.showLegend)for(var o=0;o<n.series.length;o++){var a=n.series[o];if(0!=a.showLegend){var l=i._getSerieSettings(r,o);if("pie"==n.type||"donut"==n.type)for(var d=i._getXAxis(r),h=a.legendFormatSettings||n.legendFormatSettings||d.formatSettings||a.formatSettings||n.formatSettings,c=a.legendFormatFunction||n.legendFormatFunction||d.formatFunction||a.formatFunction||n.formatFunction,u=i._getDataLen(r),p=0;p<u;p++){m=i._getDataValue(p,a.displayText,r);var m=i._formatValue(m,h,c,r,o,p),g=i._getColors(r,o,p);s.push({groupIndex:r,seriesIndex:o,itemIndex:p,text:m,css:a.displayTextClass,fillColor:g.fillColor,lineColor:g.lineColor,opacity:l.opacity})}else{var h=a.legendFormatSettings||n.legendFormatSettings,c=a.legendFormatFunction||n.legendFormatFunction,g=(m=i._formatValue(a.displayText||a.dataField||"",h,c,r,o,NaN),i._getSeriesColors(r,o)),d=this._get([a.legendFillColor,a.legendColor,g.fillColor]),f=this._get([a.legendLineColor,a.legendColor,g.lineColor]);s.push({groupIndex:r,seriesIndex:o,text:m,css:a.displayTextClass,fillColor:d,lineColor:f,opacity:l.opacity})}}}}return i._renderChartLegend(s,e,t,i.legendLayout&&"vertical"==i.legendLayout.flow)},_getInterval:function(e,t){if(!e)return t;var i=this._get([e.unitInterval,t]);return i=isNaN(e.step)?i:e.step*t},_getOffsets:function(e,t,i,s,r,n,o,a,l){var d,h,c=this._getInterval(r[e],a),u=[],p=((""==e||r[e].visible&&"custom"!=r[e].visible)&&(u=this._generateIntervalValues(s,c,a,o,l)),"labels"!=e?(h=o?n.left:0,!o&&1<a&&(h=n.left*(a+1)),1==u.length&&(h*=2),d=this._valuesToOffsets(u,t,s,i,n,!1,h),o||(r=(n.left+n.right)*c/a,t.flip?d.unshift(d[0]+r):d.push(d[d.length-1]+r))):(h=n.left,1==u.length&&(h*=2),d=this._valuesToOffsets(u,t,s,i,n,o,h)),this._arraysToObjectsArray([u,d],["value","offset"]));if(t[e]&&t[e].custom)for(var m=this._objectsArraysToArray(t[e].custom,"value"),g=this._objectsArraysToArray(t[e].custom,"offset"),f=this._valuesToOffsets(m,t,s,i,n,o,n.left),v=0;v<t[e].custom.length;v++)p.push({value:m[v],offset:(isNaN(g[v])?f:g)[v]});return p},_renderXAxis:function(e,t,i,s){var r=this,n=r._getXAxis(e),o=r.seriesGroups[e],a="horizontal"==o.orientation,l={width:0,height:0},d=r._getAxisSettings(n);if(!n||!d.visible||"spider"==o.type)return l;if(!r._isGroupVisible(e)||this._isPieGroup(e))return l;for(o=r._alignValuesWithTicks(e);r._renderData.length<e+1;)r._renderData.push({});r.rtl&&(n.flip=!0);var h=a?t.height:t.width,c=n.text,u=r._calculateXOffsets(e,h),p=u.axisStats,m=n.rangeSelector,g=0;if(m){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";g=this._selectorGetSize(n)}var f=a&&"right"==n.position||!a&&"top"==n.position,m=(!i&&m&&(a?(t.width-=g,"right"!=n.position&&(t.x+=g)):(t.height-=g,"top"==n.position&&(t.y+=g))),{rangeLength:u.rangeLength,itemWidth:u.itemWidth,intervalWidth:u.intervalWidth,data:u,settings:d,isMirror:f,rect:t}),v=(r._renderData[e].xAxis=m,p.interval);if(isNaN(v))return l;a&&(d.title.angle-=90,d.labels.angle-=90);var x,y,w,l=this._getInterval(d.gridLines,v),b=this._getInterval(d.tickMarks,v),_=this._getInterval(d.labels,v),q=p.min,j=p.max,u=u.padding,T=1==n.flip||r.rtl,C={min:q,max:j},S=(p.logAxis.enabled&&(C.min=p.logAxis.minPow,C.max=p.logAxis.maxPow),"date"==n.type?(d.gridLines.offsets=this._generateDTOffsets(q,j,h,u,l,v,p.dateTimeUnit,o,NaN,!1,T),d.tickMarks.offsets=this._generateDTOffsets(q,j,h,u,b,v,p.dateTimeUnit,o,NaN,!1,T),this._generateDTOffsets(q,j,h,u,_,v,p.dateTimeUnit,o,NaN,!0,T)):(d.gridLines.offsets=this._getOffsets("gridLines",n,h,p,d,u,o,v),d.tickMarks.offsets=this._getOffsets("tickMarks",n,h,p,d,u,o,v),this._getOffsets("labels",n,h,p,d,u,o,v))),k=(r.renderer.getRect().width,t.x,t.width,r._getDataLen(e),r._elementRenderInfo&&r._elementRenderInfo.length>e&&(x=r._elementRenderInfo[e].xAxis),[]);d.labels.formatFunction&&(y=d.labels.formatFunction),d.labels.formatSettings&&(w=ae.extend({},d.labels.formatSettings)),"date"==n.type&&(n.dateFormat&&!y?w?w.dateFormat=w.dateFormat||n.dateFormat:w={dateFormat:n.dateFormat}:y||w&&w.dateFormat||(y=this._getDefaultDTFormatFn(n.baseUnit||"day")));for(var I=0;I<S.length;I++){var D,P=S[I].value,A=S[I].offset;isNaN(A)||(D=void 0,"date"!=n.type&&p.useIndeces&&n.dataField&&(D=Math.round(P),null==(P=r._getDataValue(D,n.dataField))&&(P="")),null!=(c=r._formatValue(P,w,y,e,void 0,D))&&""!=c.toString()||(D=isNaN(D)?I:D)>=p.filterRange.min&&D<=p.filterRange.max&&(c=p.useIndeces?(p.min+D).toString():null==P?"":P.toString()),D={key:P,text:c,targetX:A,x:A},x&&x.itemOffsets[P]&&(D.x=x.itemOffsets[P].x,D.y=x.itemOffsets[P].y),k.push(D))}C=r._getAnimProps(e),l=C.enabled&&k.length<500?C.duration:0;0==r.enableAxisTextAnimation&&(l=0);b=r._renderAxis(a,f,d,{x:t.x,y:t.y,width:t.width,height:t.height},s,v,!1,!0,{items:k,renderData:m},i,l);return a?b.width+=g:b.height+=g,b},_animateAxisText:function(e,t){for(var i=e.items,s=e.textSettings,r=0;r<i.length;r++){var n,o,a=i[r];a&&a.visible&&(n=a.targetX,o=a.targetY,isNaN(a.x)||isNaN(a.y)||(n=a.x+(n-a.x)*t,o=a.y+(o-a.y)*t),a.element&&(this.renderer.removeElement(a.element),a.element=void 0),a.element=this.renderer.text(a.text,n,o,a.width,a.height,s.angle,{class:s.style},!1,s.halign,s.valign,s.textRotationPoint))}},_getPolarAxisCoords:function(e,t){var i,s,r=this.seriesGroups[e],n=t.x+ae.jqx.getNum([r.offsetX,t.width/2]),o=t.y+ae.jqx.getNum([r.offsetY,t.height/2]),a=Math.min(t.width,t.height),l=r.radius,a=(this._isPercent(l)&&(l=parseFloat(l)/100*a/2),isNaN(l)&&(l=a/2*.6),this._alignValuesWithTicks(e)),d=this._get([r.startAngle,r.minAngle,0])-90,h=(d=isNaN(d)?0:2*Math.PI*d/360,this._get([r.endAngle,r.maxAngle,360])-90),c=((h=isNaN(h)?2*Math.PI:2*Math.PI*h/360)<d&&(c=d,d=h,h=c),ae.jqx._rnd(Math.abs(d-h)/(2*Math.PI),.001,!0)),c=2*Math.PI*l*c,t=this._calcGroupOffsets(e,t).xoffsets;if(t)return i=!(1e-5<Math.abs(Math.abs(h-d)-2*Math.PI)),r.spider&&(e=(r=this._getXAxisStats(e,this._getXAxis(e),c)).interval,!isNaN(e)&&0!=e||(e=1),r=(r.max-r.min)/e+(i?1:0),2<(r=Math.round(r))&&(e=Math.cos(Math.abs(h-d)/2/r),l<(s=l/(e=0==(e=ae.jqx._rnd(e,.01))?1:e))&&a&&(l=s))),{x:n,y:o,r:l=ae.jqx._ptrnd(l),adjR:this._get([s,l]),itemWidth:t.itemWidth,rangeLength:t.rangeLength,valuesOnTicks:a,startAngle:d,endAngle:h,isClosedCircle:i,axisSize:c}},_toPolarCoord:function(e,t,i,s){var r=Math.abs(e.startAngle-e.endAngle)/(2*Math.PI),i=2*(i-t.x)*Math.PI*r/Math.max(1,t.width)+e.startAngle,r=(t.height+t.y-s)*e.r/Math.max(1,t.height),s=e.x+r*Math.cos(i),t=e.y+r*Math.sin(i);return{x:ae.jqx._ptrnd(s),y:ae.jqx._ptrnd(t)}},_renderSpiderAxis:function(e,t){var i=this,s=i._getXAxis(e),r=this._getAxisSettings(s);if(s&&r.visible){var n=i.seriesGroups[e],o=i._getPolarAxisCoords(e,t);if(o){var a=ae.jqx._ptrnd(o.x),l=ae.jqx._ptrnd(o.y),d=o.adjR,z=o.startAngle,h=o.endAngle;if(!(d<1)){var c=ae.jqx._rnd(Math.abs(z-h)/(2*Math.PI),.001,!0),u=2*Math.PI*d*c,p=o.isClosedCircle,m=this._renderData[e].xoffsets;if(m.rangeLength){var g=m.axisStats.interval,f=((isNaN(g)||g<1)&&(g=1),"horizontal"==n.orientation);for(f&&"right"==s.position||(f||s.position);i._renderData.length<e+1;)i._renderData.push({});for(var v={rangeLength:m.rangeLength,itemWidth:m.itemWidth,data:m,rect:t,settings:r},E=(i._renderData[e].xAxis=v,i._renderData[e].polarCoords=o,!0),x=0;x<e;x++){i._renderData[x].xAxis;var L,N=i._renderData[x].polarCoords,O=i._getXAxis(x),R=!1;for(L in o)if(o[L]!=N[L]){R=!0;break}R&&O==s||(E=!1)}for(var y,w=r.gridLines,b=r.tickMarks,F=r.labels,f=this._getInterval(w,g),W=this._getInterval(b,g),V=this._getInterval(F,g),_=i._alignValuesWithTicks(e),q=i.renderer,j=m.axisStats,G=j.min,U=j.max,T=this._getPaddingSize(m.axisStats,s,_,u,!0,p,!1),m=1==s.flip||i.rtl,Y="date"==s.type?(w.offsets=this._generateDTOffsets(G,U,u,T,f,g,s.baseUnit,!0,0,!1,m),b.offsets=this._generateDTOffsets(G,U,u,T,W,g,s.baseUnit,!0,0,!1,m),this._generateDTOffsets(G,U,u,T,V,g,s.baseUnit,!0,0,!0,m)):(r.gridLines.offsets=this._getOffsets("gridLines",s,u,j,r,T,!0,g),r.tickMarks.offsets=this._getOffsets("tickMarks",s,u,j,r,T,!0,g),this._getOffsets("labels",s,u,j,r,T,!0,g)),C=(i.renderer.getRect().width,t.x,t.width,i._getDataLen(e),i._elementRenderInfo&&i._elementRenderInfo.length>e&&(y=i._elementRenderInfo[e].xAxis),[]),K=this._getDataLen(e),x=0;x<Y.length;x++){var X=Y[x].offset,S=Y[x].value;if("date"!=s.type&&j.useIndeces&&s.dataField){var $=Math.round(S);if(K<=$)continue;null==(S=i._getDataValue($,s.dataField))&&(S="")}var k=i._formatValue(S,F.formatSettings,F.formatFunction,e,void 0,$),k=(null!=k&&""!=k.toString()||(k=j.useIndeces?(j.min+x).toString():null==S?"":S.toString()),{key:S,text:k,targetX:X,x:X});y&&y.itemOffsets[S]&&(k.x=y.itemOffsets[S].x,k.y=y.itemOffsets[S].y),C.push(k)}var Z={stroke:w.color,fill:"none","stroke-width":w.width,"stroke-dasharray":w.dashStyle||""},J=(n.spider||(1==c?q.circle(a,l,d,Z):(f=-z/Math.PI*180,W=-h/Math.PI*180,this.renderer.pieslice(a,l,0,d,Math.min(f,W),Math.max(f,W),void 0,Z))),C.length,Math.PI,z);if(w.visible&&E){_||p||w.offsets.unshift({offset:-T.right});for(x=0;x<w.offsets.length;x++){var Q,ee,I=w.offsets[x].offset;_||(I+=p?T.right/2:T.right),.01<(P=J+2*I*Math.PI*c/Math.max(1,u))-h||(Q=ae.jqx._ptrnd(a+d*Math.cos(P)),ee=ae.jqx._ptrnd(l+d*Math.sin(P)),q.line(a,l,Q,ee,Z))}}if(b.visible&&E){var te={stroke:b.color,fill:"none","stroke-width":b.width,"stroke-dasharray":b.dashStyle||""};_||p||b.offsets.unshift({offset:-T.right});for(x=0;x<b.offsets.length;x++){var ie,se,I=b.offsets[x].offset;_||(I+=p?T.right/2:T.right),.01<(P=J+2*I*Math.PI*c/Math.max(1,u))-h||(ie={x:a+d*Math.cos(P),y:l+d*Math.sin(P)},se={x:a+(d+5)*Math.cos(P),y:l+(d+5)*Math.sin(P)},q.line(ae.jqx._ptrnd(ie.x),ae.jqx._ptrnd(ie.y),ae.jqx._ptrnd(se.x),ae.jqx._ptrnd(se.y),te))}}var re=[];if(n.spider){var ne=[],ne="date"==s.type?this._generateDTOffsets(G,U,u,T,g,g,s.baseUnit,!0,0,!1,m):this._getOffsets("",s,u,j,r,T,!0,g);_||p||ne.unshift({offset:-T.right});for(x=0;x<ne.length;x++){I=ne[x].offset;_||(I+=p?T.right/2:T.right),.01<(P=J+2*I*Math.PI*c/Math.max(1,u))-h||re.push(P)}v.offsetAngles=re}var D=(D=i._renderSpiderValueAxis(e,t,_?o.adjR:o.r,re))||[];if(n.spider){if(!_)for(x=0;x<D.length;x++)D[x]=D[x]*o.adjR/o.r;D.push(d),this._renderSpiderLines(a,l,D,o,re,Z)}if(E&&F.visible){v.polarLabels=[];for(x=0;x<C.length;x++){(P=(360-(P=J+2*(I=C[x].x)*Math.PI*c/Math.max(1,u))/(2*Math.PI)*360)%360)<0&&(P=360+P);var P,A,M=q.measureText(C[x].text,0,{class:r.labels.style}),oe=(_?o.adjR:o.r)+(b.visible?7:2),H=r.labels,B=H.autoRotate?(B=ae.jqx._ptRotate(a-M.width/2,l-oe-M.height,a,l,-P/180*Math.PI),A=ae.jqx._ptRotate(a+M.width/2,l-oe,a,l,-P/180*Math.PI),M.width=Math.abs(B.x-A.x),M.height=Math.abs(B.y-A.y),{x:Math.min(B.x,A.x),y:Math.min(B.y,A.y)}):this._adjustTextBoxPosition(a,l,M,oe,P,!1,!1,!1);v.polarLabels.push({x:B.x,y:B.y,value:C[x].text}),q.text(C[x].text,B.x,B.y,M.width,M.height,H.autoRotate?90-P:H.angle,{class:H.style},!1,H.halign,H.valign)}}}}}}},_renderSpiderLines:function(e,t,i,s,r,n){for(var o=this.renderer,a=(s.startAngle,s.endAngle,s.isClosedCircle),l=0;l<i.length;l++){for(var d=i[l],h=void 0,c=void 0,u=0;u<r.length;u++){var p=r[u],m=ae.jqx._ptrnd(e+d*Math.cos(p)),p=ae.jqx._ptrnd(t+d*Math.sin(p));h&&o.line(h.x,h.y,m,p,n),h={x:m,y:p},c=c||{x:m,y:p}}c&&a&&o.line(h.x,h.y,c.x,c.y,n)}},_renderSpiderValueAxis:function(e,t,i,s){var r=this.seriesGroups[e],t=this._getPolarAxisCoords(e,t);if(t){var n=ae.jqx._ptrnd(t.x),o=ae.jqx._ptrnd(t.y),a=(i=i||t.r,t.startAngle),l=t.endAngle,d=ae.jqx._rnd(Math.abs(a-l)/(2*Math.PI),.001,!0);if(!(i<1)){i=ae.jqx._ptrnd(i);var h=this._getValueAxis(e),c=this._getAxisSettings(h);if(h&&0!=c.visible){var t=this._stats.seriesGroups[e].mu,u=c.labels,p=u.formatSettings,u=(-1!=r.type.indexOf("stacked")&&-1!=r.type.indexOf("100")&&!p&&(p={sufix:"%"}),this._get([u.step,u.unitInterval/t])),m=(isNaN(u)&&(u=1),u=Math.max(1,Math.round(u)),this._calcValueAxisItems(e,i,u),c.gridLines),g=c.tickMarks,f=(this._getInterval(m,t),this._getInterval(g,t),c.labels),v={stroke:m.color,fill:"none","stroke-width":1,"stroke-dasharray":m.dashStyle||""},x=this._renderData[e].valueAxis,y=x.items,w=a,b=(y.length&&c.line.visible&&(isNaN(c.line.angle)||(w=2*Math.PI*c.line.angle/360),u=n+Math.cos(w)*i,t=o+Math.sin(w)*i,-1==s.indexOf(w)&&((s=ae.extend({},v))["stroke-width"]=c.line.lineWidth,s.stroke=c.line.color,s["stroke-dasharray"]=c.line.dashStyle,this.renderer.line(n,o,u,t,s))),y=y.reverse(),this.renderer);x.polarLabels=[];for(var _=0;_<y.length-1;_++){var q,j,T=y[_];isNaN(T)||(T=f.formatFunction?f.formatFunction(T):this._formatNumber(T,p),q=b.measureText(T,0,{class:f.style}),j=n+(0!=h.showTickMarks?3:2),S=o-x.itemWidth*_-q.height/2,A=ae.jqx._ptRotate(j,S,n,o,w),M=ae.jqx._ptRotate(j+q.width,S+q.height,n,o,w),j=Math.min(A.x,M.x),S=Math.min(A.y,M.y),q.width=Math.abs(A.x-M.x),q.height=Math.abs(A.y-M.y),j+=c.labels.textOffset.x,S+=c.labels.textOffset.y,x.polarLabels.push({x:j,y:S,value:T}),b.text(T,j,S,q.width,q.height,f.autoRotate?90+180*a/Math.PI:f.angle,{class:f.style},!1,f.halign,f.valign))}1==h.logarithmicScale?y.length:x.rangeLength;Math.PI;var u=0!=h.valuesOnTicks,t=this._stats.seriesGroups[e],s=t.mu,e=1==h.logarithmicScale,e=(h.logarithmicScaleBase,e&&(s=1),{min:t.min,max:t.max,logAxis:{enabled:1==e,base:h.logarithmicScaleBase,minPow:t.minPow,maxPow:t.maxPow}}),C=((m.visible||r.spider||h.alternatingBackgroundColor||h.alternatingBackgroundColor2)&&(m.offsets=this._getOffsets("gridLines",h,i,e,c,{left:0,right:0},u,s)),[]);if(m.visible||r.spider)for(var S,k,I,v={stroke:m.color,fill:"none","stroke-width":1,"stroke-dasharray":m.dashStyle||""},_=0;_<m.offsets.length;_++)(S=ae.jqx._ptrnd(m.offsets[_].offset))!=i&&(r.spider?C.push(S):1!=d?(k=-a/Math.PI*180,I=-l/Math.PI*180,this.renderer.pieslice(n,o,0,S,Math.min(k,I),Math.max(k,I),void 0,v)):b.circle(n,o,S,v));if(h.tickMarks&&(h.tickMarks.visible||h.showTickMarks)||(g.visible=!1),g.visible){g.offsets=this._getOffsets("tickMarks",h,i,e,c,{left:0,right:0},u,s);for(var D=2*g.size,v={stroke:g.color,fill:"none","stroke-width":1,"stroke-dasharray":g.dashStyle||""},_=0;_<g.offsets.length;_++){var P=g.offsets[_].offset,A={x:n+P*Math.cos(w)-D/2*Math.sin(w+Math.PI/2),y:o+P*Math.sin(w)-D/2*Math.cos(w+Math.PI/2)},M={x:n+P*Math.cos(w)+D/2*Math.sin(w+Math.PI/2),y:o+P*Math.sin(w)+D/2*Math.cos(w+Math.PI/2)};b.line(ae.jqx._ptrnd(A.x),ae.jqx._ptrnd(A.y),ae.jqx._ptrnd(M.x),ae.jqx._ptrnd(M.y),v)}}return C}}}},_renderAxis:function(e,t,i,s,r,n,o,a,l,d,h){if(i.customDraw&&!d)return{width:NaN,height:NaN};for(var c,u,p,m=i.title,g=i.labels,f=(i.gridLines,i.tickMarks),v=i.padding,x=f.visible?f.size:0,f={width:0,height:0},y={width:0,height:0},w=(e?f.height=y.height=s.height:f.width=y.width=s.width,!d&&t&&e&&(s.x-=s.width),l.renderData),b=w.itemWidth,_=(m.visible&&null!=m.text&&""!=m&&(q=m.angle,u=this.renderer.measureText(m.text,q,{class:m.style}),y.width=u.width,y.height=u.height,d||this.renderer.text(m.text,s.x+m.offset.x+(e?t?-v.right-2+2*s.width-y.width:2+v.left:0),s.y+m.offset.y+(e?0:t?v.top+2:s.height-2-y.height-v.bottom),(e?y:s).width,(e?s:y).height,q,{class:m.style},!0,m.halign,m.valign,m.rotationPoint)),0),q=a?-b/2:0,j=(a&&!e&&(g.halign="center"),s.x),T=s.y,m=g.textOffset,C=(m&&(isNaN(m.x)||(j+=m.x),isNaN(m.y)||(T+=m.y)),e?(j+=v.left+2+(0<y.width?y.width+2:0)+(t?s.width-y.width:0),T+=q):(j+=q,t?T=T+(0<y.height?y.height+6:4)+(x-(a?x:x/4)):T+=a?x:x/4,T+=v.top),0),S=0,k=l.items,I=(w.itemOffsets={},!this._isToggleRefresh&&this._isUpdate||(h=0),!1),D=0,P=0;P<k.length&&g.visible;P++,_+=b)k[P]&&!isNaN(b)&&(c=k[P].text,isNaN(k[P].targetX)||(_=k[P].targetX),(u=this.renderer.measureText(c,g.angle,{class:g.style})).width>S&&(S=u.width),u.height>C&&(C=u.height),D+=e?C:S,d||e&&_>s.height+2||!e&&_>s.width+2||(A=e?j+(t?0==y.width?x:x-2:0):j+_,w.itemOffsets[k[P].key]={x:A,y:M=e?T+_:T},I||isNaN(k[P].x)&&(isNaN(k[P].y)||!h)||(I=!0),k[P].targetX=A,k[P].targetY=M,k[P].width=e?s.width-v.left-v.right-4-x-(0<y.width?y.width+2:0):b,k[P].height=e?b:s.height-v.top-v.bottom-4-x-(0<y.height?y.height+2:0),k[P].visible=!0));w.avgWidth=0==k.length?0:D/k.length,d||(m={items:k,textSettings:g},!isNaN(h)&&I||(h=0),this._animateAxisText(m,0==h?1:0),0!=h&&(p=this)._enqueueAnimation("series",void 0,void 0,h,function(e,t,i){p._animateAxisText(t,i)},m)),f.width+=4+x+y.width+S+(e&&0<y.width?2:0),f.height+=4+x+y.height+C+(!e&&0<y.height?2:0),e?f.width+=v.left+v.right:f.height+=v.top+v.bottom;var A,M;return!d&&i.line.visible&&(q={stroke:i.line.color,"stroke-width":i.line.width,"stroke-dasharray":i.line.dashStyle||""},e?(A=s.x+s.width+(t?v.left:-v.right),A=ae.jqx._ptrnd(A),this.renderer.line(A,s.y,A,s.y+s.height,q)):(M=ae.jqx._ptrnd(s.y+(t?s.height-v.bottom:v.top)),this.renderer.line(ae.jqx._ptrnd(s.x),M,ae.jqx._ptrnd(s.x+s.width+1),M,q))),f.width=ae.jqx._rup(f.width),f.height=ae.jqx._rup(f.height),f},_drawPlotAreaLines:function(e,t,i){var s=this.seriesGroups[e],r="horizontal"!=s.orientation;if(this._renderData&&!(this._renderData.length<=e)){var n=this._renderData[e][t?"valueAxis":"xAxis"];if(n){var o=(o=this._renderData.axisDrawState)||(this._renderData.axisDrawState={}),a="",l=t?(a="valueAxis_"+(s.valueAxis?e:"")+(r?"swap":""),this._getValueAxis(e)):(a="xAxis_"+(s.xAxis||s.categoryAxis?e:"")+(r?"swap":""),this._getXAxis(e)),s=(o=o[a]||(o[a]={}),t||(r=!r),n.settings);if(s&&!s.customDraw){var d=s.gridLines,e=s.tickMarks,h=s.padding,c=n.rect,u=this._plotRect;if(d&&e){var p={},m={stroke:d.color,"stroke-width":d.width,"stroke-dasharray":d.dashStyle||""},g=t?c.y+c.height:c.x,f=d.offsets;if((f=t&&!l.flip?(f=ae.extend([],f)).reverse():f)&&0<f.length)for(var v,x,y,w=NaN,b=(f.length,0);b<f.length;b++)r?(v=(v=ae.jqx._ptrnd(c.y+f[b].offset))<c.y-.5?ae.jqx._ptrnd(c.y):v)>c.y+c.height&&(v=c.y+c.height):(v=ae.jqx._ptrnd(c.x+f[b].offset))>c.x+c.width+.5&&(v=ae.jqx._ptrnd(c.x+c.width)),isNaN(v)||!isNaN(w)&&Math.abs(v-w)<2||(w=v,i.gridLines&&0!=d.visible&&1!=o.gridLines&&(r?this.renderer.line(ae.jqx._ptrnd(u.x),v,ae.jqx._ptrnd(u.x+u.width),v,m):this.renderer.line(v,ae.jqx._ptrnd(u.y),v,ae.jqx._ptrnd(u.y+u.height),m)),p[v]=!0,i.alternatingBackground&&(d.alternatingBackgroundColor||d.alternatingBackgroundColor2)&&1!=o.alternatingBackground&&(x=b%2==0?d.alternatingBackgroundColor2:d.alternatingBackgroundColor,0<b&&x&&(y=r?this.renderer.rect(ae.jqx._ptrnd(u.x),g,ae.jqx._ptrnd(u.width-1),v-g,m):this.renderer.rect(g,ae.jqx._ptrnd(u.y),v-g,ae.jqx._ptrnd(u.height),m),this.renderer.attr(y,{"stroke-width":0,fill:x,opacity:d.alternatingBackgroundOpacity||1}))),g=v);m={stroke:e.color,"stroke-width":e.width,"stroke-dasharray":e.dashStyle||""};if(i.tickMarks&&e.visible&&1!=o.tickMarks)for(var _=e.size,f=e.offsets,w=NaN,b=0;b<f.length;b++)if(r?(v=(v=ae.jqx._ptrnd(c.y+f[b].offset))<c.y-.5?ae.jqx._ptrnd(c.y):v)>c.y+c.height&&(v=c.y+c.height):(v=ae.jqx._ptrnd(c.x+f[b].offset))>c.x+c.width+.5&&(v=ae.jqx._ptrnd(c.x+c.width)),!isNaN(v)&&(isNaN(w)||!(Math.abs(v-w)<2))){if(p[v-1]?v--:p[v+1]&&v++,r){if(v>c.y+c.height+.5)break}else if(v>c.x+c.width+.5)break;w=v;var q,j=n.isMirror?_:-_;r?(q=c.x+c.width+("right"==l.position?h.left:-h.right),t||(q=c.x+(n.isMirror?h.left:-h.right+c.width)),this.renderer.line(q,v,q+j,v,m)):(q=c.y+(n.isMirror?c.height:0),q+=n.isMirror?-h.bottom:h.top,q=ae.jqx._ptrnd(q),this.renderer.line(v,q,v,q-j,m))}o.tickMarks=o.tickMarks||i.tickMarks,o.gridLines=o.gridLines||i.gridLines,o.alternatingBackground=o.alternatingBackground||i.alternatingBackground}}}}},_calcValueAxisItems:function(e,t,i){var s=this._stats.seriesGroups[e];if(!s||!s.isValid)return!1;var r=this.seriesGroups[e],n=(r.orientation,this._getValueAxis(e)),o=0!=n.valuesOnTicks,a=(n.dataField,s.intervals),t=t/a,l=s.min,d=s.mu,h=(.1===d&&.9===l&&1===n.minValue&&(s.min=l=1),1==n.logarithmicScale),c=n.logarithmicScaleBase||10,u=-1!=r.type.indexOf("stacked")&&-1!=r.type.indexOf("100");for(h&&(d=isNaN(n.unitInterval)?1:n.unitInterval),o||(a=Math.max(a-1,1));this._renderData.length<e+1;)this._renderData.push({});this._renderData[e].valueAxis={};for(var r=this._renderData[e].valueAxis,p=(r.itemWidth=r.intervalWidth=t,r.items=[],r.items),m=0;m<=a;m++){var g=0,g=h?u?s.max/Math.pow(c,a-m):l*Math.pow(c,m):o?l+m*d:l+(m+.5)*d;m%i!=0?p.push(NaN):p.push(g)}return r.rangeLength=h&&!u?s.intervals:s.intervals*d,1!=n.flip&&(p=p.reverse()),!0},_getDecimalPlaces:function(e,t,i){var s=0;isNaN(i)&&(i=10);for(var r=0;r<e.length;r++){var n=void 0===t?e[r]:e[r][t];if(!isNaN(n)){for(var o=n.toString(),a=0;a<o.length;a++)if((o[a]<"0"||"9"<o[a])&&0<=(s=o.length-(a+1)))return Math.min(s,i);for(0<s&&(n*=Math.pow(10,s));Math.round(n)!=n&&s<i;)s++,n*=10}}return s},_renderValueAxis:function(e,t,i,s){var r=this.seriesGroups[e],n="horizontal"==r.orientation,o=this._getValueAxis(e);if(!o)throw"SeriesGroup "+e+" is missing valueAxis definition";var a={width:0,height:0};if(!this._isGroupVisible(e)||this._isPieOnlySeries()||"spider"==r.type)return a;var l=0!=o.valuesOnTicks,d=this._stats.seriesGroups[e],h=d.mu,c=1==o.logarithmicScale,u=o.logarithmicScaleBase||10;if(0==(h=c?isNaN(o.unitInterval)?1:o.unitInterval:h)&&(h=1),isNaN(h))return a;var p=this._getAxisSettings(o),m=p.title,g=p.labels,f=o.labels||{},f=(this._get([o.horizontalTextAlignment,f.horizontalAlignment])||0!=g.angle||(g.halign=n?"center":"right"==o.position?"left":"right"),this._get([g.step,g.unitInterval/h]));if(isNaN(f)&&(f=1),f=Math.max(1,Math.round(f)),!this._calcValueAxisItems(e,n?t.width:t.height,f)||!p.visible)return a;n||(m.angle=this.rtl?90:-90,"centercenter"==m.rotationPoint&&("top"==m.valign?m.rotationPoint="rightcenter":"bottom"==m.valign&&(m.rotationPoint="leftcenter")));var v,f=this._renderData[e].valueAxis,x=g.formatSettings,a=(-1!=r.type.indexOf("stacked")&&-1!=r.type.indexOf("100")&&!x&&(x={sufix:"%"}),g.formatFunction||x&&x.decimalPlaces||((x=x||{}).decimalPlaces=this._getDecimalPlaces([d.min,d.max,h],void 0,3)),p.gridLines),m=(c||this._getInterval(a,h),n?t.width:t.height),r=1==o.flip,u=(o.flip=!r,{min:d.min,max:d.max,logAxis:{enabled:1==c,base:u,minPow:d.minPow,maxPow:d.maxPow}}),d=((a.visible||o.alternatingBackgroundColor||o.alternatingBackgroundColor2)&&(a.offsets=this._getOffsets("gridLines",o,m,u,p,{left:0,right:0},l,h)),p.tickMarks),y=(d.visible&&(d.offsets=this._getOffsets("tickMarks",o,m,u,p,{left:0,right:0},l,h)),this._getOffsets("labels",o,m,u,p,{left:0,right:0},l,h,!l)),w=(o.flip=r,[]);this._elementRenderInfo&&this._elementRenderInfo.length>e&&(v=this._elementRenderInfo[e].valueAxis);for(var b=0;b<y.length;b++){var _,q=y[b].value;isNaN(y[b].offset)?w.push(void 0):(_={key:q,text:g.formatFunction?g.formatFunction(q):isNaN(q)?q:this._formatNumber(q,x)},v&&v.itemOffsets[q]&&(_.x=v.itemOffsets[q].x,_.y=v.itemOffsets[q].y),_.targetX=y[b].offset,isNaN(_.targetX)||w.push(_))}a=n&&"top"==o.position||!n&&"right"==o.position||!n&&this.rtl&&"left"!=o.position,d={items:w,renderData:f},m=this._getAnimProps(e),u=m.enabled&&w.length<500?m.duration:0;return 0==this.enableAxisTextAnimation&&(u=0),f.settings=p,f.isMirror=a,f.rect=t,this._renderAxis(!n,a,p,t,s,h,c,!0,d,i,u)},_objectsArraysToArray:function(e,t){var i=[];if(!ae.isArray(e))return i;for(var s=0;s<e.length;s++)i.push(e[s][t]);return i},_arraysToObjectsArray:function(e,t){var i=[];if(e.length!=t.length)return i;for(var s=0;s<e.length;s++)for(var r=0;r<e[s].length;r++)i.length<=r&&i.push({}),i[r][t[s]]=e[s][r];return i},_valuesToOffsets:function(e,t,i,s,r,n,o){var a=[];if(!t||!ae.isArray(e))return a;var l,d=i.logAxis.base,h=i.logAxis.enabled?"logarithmic":"linear",c=t.flip,u=0,p=0;s=l=s-(u=r&&!isNaN(r.left)?r.left:u)-(p=r&&!isNaN(r.right)?r.right:p);for(var m=0;m<e.length;m++){var g=this._jqxPlot.scale(e[m],{min:i.min.valueOf(),max:i.max.valueOf(),type:h,base:d},{min:0,max:n?s:l,flip:c},{});isNaN(g)?a.push(NaN):(isNaN(o)||(g+=o),g<=s+u+p+1?a.push(ae.jqx._ptrnd(g)):a.push(NaN))}return a},_generateIntervalValues:function(e,t,i,s,r){var n=[],o=e.min,a=e.max;if(e.logAxis&&e.logAxis.enabled&&(o=e.logAxis.minPow,a=e.logAxis.maxPow),null==o||null==a)return n;if(o==a)return e.logAxis&&e.logAxis.enabled?[Math.pow(e.logAxis.base,o)]:[o];var l=1;i<1&&(o*=l=1e6,a*=l,i*=l);for(var d=o;d<=a;d+=i)n.push(d/l+(r?i/2:0));if(i<t){for(var h=[],c=Math.round(t/i),d=0;d<n.length;d++)d%c==0&&h.push(n[d]);n=h}if(e.logAxis&&e.logAxis.enabled)for(d=0;d<n.length;d++)n[d]=Math.pow(e.logAxis.base,n[d]);return n},_generateDTOffsets:function(e,t,i,s,r,n,o,a,l,d,h){o=o||"day";var c=[];if(t<e)return c;if(e==t)return d?c.push({offset:a?i/2:s.left,value:e}):a&&c.push({offset:i/2,value:e}),c;var u=i-s.left-s.right,p=e,m=s.left,g=m,f=n=Math.max(n,1),v=Math.min(1,n);for(1<n&&"millisecond"!=o&&(n=1);ae.jqx._ptrnd(g)<=ae.jqx._ptrnd(s.left+u+(a?0:s.right));){c.push({offset:g,value:p});var x,y=new Date(p.valueOf());"millisecond"==o?y.setMilliseconds(p.getMilliseconds()+n):"second"==o?y.setSeconds(p.getSeconds()+n):"minute"==o?y.setMinutes(p.getMinutes()+n):"hour"==o?(x=y.valueOf(),y.setHours(p.getHours()+n),x==y.valueOf()&&y.setHours(p.getHours()+n+1)):"day"==o?y.setDate(p.getDate()+n):"month"==o?y.setMonth(p.getMonth()+n):"year"==o&&y.setFullYear(p.getFullYear()+n),g=m+((p=y).valueOf()-e.valueOf())*v/(t.valueOf()-e.valueOf())*u}if(h)for(var w=0;w<c.length;w++)c[w].offset=i-c[w].offset;if(1<f&&"millisecond"!=o){for(var b=[],w=0;w<c.length;w+=f)b.push({offset:c[w].offset,value:c[w].value});c=b}if(!a&&!d&&1<c.length){(b=[]).push({offset:0,value:void 0});for(w=1;w<c.length;w++)b.push({offset:c[w-1].offset+(c[w].offset-c[w-1].offset)/2,value:void 0});h=b.length;1<h?b.push({offset:b[h-1].offset+(b[h-1].offset-b[h-2].offset)}):b.push({offset:i,value:void 0}),c=b}if(n<r){for(var b=[],_=Math.round(r/f),w=0;w<c.length;w++)w%_==0&&b.push({offset:c[w].offset,value:c[w].value});c=b}return c},_hasStackValueReversal:function(e,t){var i=this.seriesGroups[e];if(!(-1!=i.type.indexOf("stacked")))return!1;for(var s=-1!=i.type.indexOf("waterfall"),r=this._getDataLen(e),n=!1,o=[],a=0;a<i.series.length;a++)o[a]=this._isSerieVisible(e,a);for(var l=0;l<r;l++){var d=void 0;s||(n=!1);for(var h=0;h<i.series.length;h++)if(o[h]){var c=this._getDataValueAsNumber(l,i.series[h].dataField,e);if(!isNaN(c)){if(i.series[h].summary)if(void 0!==this._getDataValue(l,i.series[h].summary,e))continue;c=n?c<0:c<t,n=!0;if(c!=(d=null==d?c:d))return!0;d=c,0}}}return!1},_getValueAxis:function(e){return null!=e&&this.seriesGroups[e].valueAxis||this.valueAxis||(this.valueAxis={})},_buildStats:function(e){var t={seriesGroups:[]};this._stats=t;for(var i=0;i<this.seriesGroups.length;i++){var s=this.seriesGroups[i],r=(t.seriesGroups[i]={},this._getXAxis(i)),n=this._getValueAxis(i),o=this._getXAxisStats(i,r,"horizontal"!=s.orientation?e.width:e.height),z=((H=t.seriesGroups[i]).isValid=!0,"horizontal"==s.orientation?e.width:e.height),a=1==n.logarithmicScale,l=n.logarithmicScaleBase,d=(isNaN(l)&&(l=10),-1!=s.type.indexOf("stacked")),h=d&&-1!=s.type.indexOf("100"),E=-1!=s.type.indexOf("range"),c=-1!=s.type.indexOf("waterfall");if(c&&!this._moduleWaterfall)throw"Please include 'jqxchart.waterfall.js'";h&&(H.psums=[],H.nsums=[]);var u=NaN,p=NaN,m=NaN,g=NaN,f=n?n.baselineValue:NaN,v=!1,L=(0!=(f=isNaN(f)?a&&!h?1:0:f)&&d&&(v=this._hasStackValueReversal(i,f))&&(f=0),d&&c&&(v=this._hasStackValueReversal(i,f)),this._getDataLen(i)),x=0,y=NaN,w=[];if(c)for(var b=0;b<s.series.length;b++)w.push(NaN);for(var _=NaN,q=0;q<L&&H.isValid;q++){if(r.rangeSelector){var j=r.dataField?this._getDataValue(q,r.dataField,i):q;if(j&&o.isDateTime&&(j=this._castAsDate(j,r.dateFormat)),(j=o.useIndeces?q:j)&&(j.valueOf()<o.min.valueOf()||j.valueOf()>o.max.valueOf()))continue}for(var T=n.minValue,C=n.maxValue,S=(n.baselineValue&&(T=isNaN(T)?f:Math.min(f,T),C=isNaN(C)?f:Math.max(f,C)),0),k=0,b=0;s.series&&b<s.series.length;b++)if(this._isSerieVisible(i,b)){var I=NaN,D=NaN,P=NaN;if(-1!=s.type.indexOf("candle")||-1!=s.type.indexOf("ohlc")){var N=["Open","Low","Close","High"];for(B in N){var A=this._getDataValueAsNumber(q,s.series[b]["dataField"+N[B]],i);isNaN(A)||(P=isNaN(D)?A:Math.min(P,A),D=isNaN(D)?A:Math.max(D,A))}}else if(E)var O=this._getDataValueAsNumber(q,s.series[b].dataFieldFrom,i),R=this._getDataValueAsNumber(q,s.series[b].dataFieldTo,i),D=Math.max(O,R),P=Math.min(O,R);else{if(I=this._getDataValueAsNumber(q,s.series[b].dataField,i),c){if(this._isSummary(i,q))if(void 0!==this._getDataValue(q,s.series[b].summary,i))continue;d?(isNaN(_)||(I+=_),_=I):(isNaN(w[b])?w[b]=I:I+=w[b],w[b]=I)}if(isNaN(I)||a&&I<=0)continue;P=D=I}(isNaN(C)||C<D)&&(isNaN(n.maxValue)||D<=n.maxValue)&&(C=D),(isNaN(T)||P<T)&&(isNaN(n.minValue)||P>=n.minValue)&&(T=P),isNaN(I)||!d||c||(f<I?S+=I:I<f&&(k+=I))}if(h||(isNaN(n.maxValue)||(S=Math.min(n.maxValue,S)),isNaN(n.minValue)||(k=Math.max(n.minValue,k))),a&&h)for(var M,b=0;b<s.series.length;b++)this._isSerieVisible(i,b)?(I=this._getDataValueAsNumber(q,s.series[b].dataField,i),isNaN(I)||I<=0?y=.01:(M=0==S?0:I/S,(isNaN(y)||M<y)&&(y=M))):y=.01;j=S-k;x<j&&(x=j),h&&(H.psums[q]=S,H.nsums[q]=k),(p<C||isNaN(p))&&(p=C),(T<u||isNaN(u))&&(u=T),(m<S||isNaN(m))&&(m=S),(k<g||isNaN(g))&&(g=k)}h&&(m=0==m?0:Math.max(m,-g),g=0==g?0:Math.min(g,-m)),u==p&&(!isNaN(n.minValue)&&isNaN(n.maxValue)?(u=n.minValue,p=a?u*l:u+1):isNaN(n.minValue)&&!isNaN(n.maxValue)&&(p=n.maxValue,u=a?p/l:p-1)),u==p&&(0==u?(u=-1,p=1):u<0?p=0:a?1==u&&(u/=l,p*=l):u=0);l={gmin:u,gmax:p,gsumP:m,gsumN:g,gbase:f,isLogAxis:a,logBase:l,minPercent:y,gMaxRange:x,isStacked:d,isStacked100:h,isWaterfall:c,hasStackValueReversal:v,valueAxis:n,valueAxisSize:z};l.isStacked&&(l.gsumN<0&&(l.gmin=Math.min(l.gmin,l.gbase+l.gsumN)),0<l.gsumP&&(l.gmax=Math.max(l.gmax,l.gbase+l.gsumP))),H.context=l}this._mergeCommonValueAxisStats();for(var H,q=0;q<t.seriesGroups.length;q++)if((H=t.seriesGroups[q]).isValid){var B,F=this._calcOutputGroupStats(H.context);for(B in F)H[B]=F[B];delete H.context}},_mergeCommonValueAxisStats:function(){for(var e,t={},i=0;i<this.seriesGroups.length;i++)this._isGroupVisible(i)&&!this.seriesGroups[i].valueAxis&&(e=this._stats.seriesGroups[i].context,t.gbase=e.gbase,(isNaN(t.gmin)||e.gmin<t.gmin)&&(t.gmin=e.gmin),(isNaN(t.gmax)||e.gmax>t.gmax)&&(t.gmax=e.gmax),(isNaN(t.gsumP)||e.gsumP>t.gsumP)&&(t.gsumP=e.gsumP),(isNaN(t.gsumN)||e.gsumN<t.gsumN)&&(t.gsumN=e.gsumN),(isNaN(t.logBase)||e.logBase<t.logBase)&&(t.logBase=e.logBase),(isNaN(t.minPercent)||e.minPercent<t.minPercent)&&(t.minPercent=e.minPercent),0<t.gsumN&&(t.gmin=Math.min(t.gmin,t.gbase+t.gsumN)),0<t.gsumP&&(t.gmax=Math.max(t.gmax,t.gbase+t.gsumP)));for(i=0;i<this.seriesGroups.length;i++)if(!this.seriesGroups[i].valueAxis){var s,r=this._stats.seriesGroups[i].context;for(s in t)r[s]=t[s]}},_calcOutputGroupStats:function(e){var t=e.gmin,i=e.gmax,s=e.gsumP,r=e.gsumN,n=e.gbase,o=e.isLogAxis,a=e.logBase,l=e.minPercent,d=e.gMaxRange,h=e.isStacked,c=e.isStacked100,u=e.isWaterfall,p=e.hasStackValueReversal,m=e.valueAxis,g=e.valueAxisSize,f=(f=e.valueAxis.unitInterval)||this._calcInterval(t,i,Math.max(g/80,2)),v=(t==i&&(t=n,i*=2),NaN),x=0,e=0;if(o){if(c){for(var v=0,y=1,x=e=ae.jqx.log(100,a);l<y;)y/=a,x--,v++;t=Math.pow(a,x)}else h&&!u&&(i=Math.max(i,s)),e=ae.jqx._rnd(ae.jqx.log(i,a),1,!0),i=Math.pow(a,e),x=ae.jqx._rnd(ae.jqx.log(t,a),1,!1),t=Math.pow(a,x);f=a}t<r&&(r=t),s<i&&(s=i);g=t,h=i;if(o||0!=Math.abs(h-g)%f&&(g=ae.jqx._rnd(t,f,!1),h=ae.jqx._rnd(i,f,!0)),c&&100<h&&(h=100),c&&!o&&(h=0<h?100:0,g=g<0?-100:0,f=m.unitInterval,100%(f=isNaN(f)||f<=0||100<=f?10:f)!=0))for(;1<=f&&100%f!=0;f--);return isNaN(h)||isNaN(g)||isNaN(f)?{}:(isNaN(v)&&(v=parseInt(((h-g)/(0==f?1:f)).toFixed())),o&&!c&&(v=e-x,d=Math.pow(a,v)),v<1?{}:{min:g,max:h,logarithmic:o,logBase:a,base:o?g:n,minPow:x,maxPow:e,sumP:s,sumN:r,mu:f,maxRange:d,intervals:v,hasStackValueReversal:p})},_getDataLen:function(e){var t=this.source;return(t=(t=null!=e&&-1!=e&&this.seriesGroups[e].source?this.seriesGroups[e].source:t)instanceof ae.jqx.dataAdapter?t.records:t)?t.length:0},_getDataValue:function(e,t,i){var s=this.source;if(!(!(s=(s=null!=i&&-1!=i?this.seriesGroups[i].source||s:s)instanceof ae.jqx.dataAdapter?s.records:s)||e<0||e>s.length-1))return ae.isFunction(t)?t(e,s):t&&""!=t?s[e][t]:s[e]},_getDataValueAsNumber:function(e,t,i){e=this._getDataValue(e,t,i);return this._isDate(e)?e.valueOf():"number"!=typeof(e="number"!=typeof e?parseFloat(e):e)?void 0:e},_isPieGroup:function(e){e=this.seriesGroups[e];return!(!e||!e.type)&&(-1!=e.type.indexOf("pie")||-1!=e.type.indexOf("donut"))},_renderPieSeries:function(e,t){for(var i=this._getDataLen(e),s=this.seriesGroups[e],r=this._calcGroupOffsets(e,t).offsets,n=0;n<s.series.length;n++){var o=s.series[n];if(!o.customDraw){for(var a=this._getSerieSettings(e,n),l=(o.colorScheme||s.colorScheme||this.colorScheme,this._getAnimProps(e,n)),d=l.enabled&&i<5e3&&!this._isToggleRefresh&&1!=this._isVML?l.duration:0,l=(ae.jqx.mobile.isMobileBrowser()&&this.renderer instanceof ae.jqx.HTML5Renderer&&(d=0),this._get([o.minAngle,o.startAngle])),o=((isNaN(l)||l<0||360<l)&&(l=0),this._get([o.maxAngle,o.endAngle])),h={rect:t,minAngle:l,maxAngle:o=isNaN(o)||o<0||360<o?360:o,groupIndex:e,serieIndex:n,settings:a,items:[]},c=0;c<i;c++){var u,p,m,g=r[n][c];g.visible&&(u=g.fromAngle,p=Math.round(g.toAngle),m=this.renderer.pieslice(g.x,g.y,g.innerRadius,g.outerRadius,u,0==d?p:u,g.centerOffset),this._setRenderInfo(e,n,c,{element:m}),m={displayValue:g.displayValue,itemIndex:c,visible:g.visible,x:g.x,y:g.y,innerRadius:g.innerRadius,outerRadius:g.outerRadius,fromAngle:u,toAngle:p,centerOffset:g.centerOffset},h.items.push(m))}this._animatePieSlices(h,0);var f=this;this._enqueueAnimation("series",void 0,void 0,d,function(e,t,i){f._animatePieSlices(t,i)},h)}}},_sliceSortFunction:function(e,t){return e.fromAngle-t.fromAngle},_animatePieSlices:function(e,t){this._elementRenderInfo&&this._elementRenderInfo.length>e.groupIndex&&this._elementRenderInfo[e.groupIndex].series&&this._elementRenderInfo[e.groupIndex].series.length>e.serieIndex&&(i=this._elementRenderInfo[e.groupIndex].series[e.serieIndex]);for(var i,s,r=this.seriesGroups[e.groupIndex],n=this._getLabelsSettings(e.groupIndex,e.serieIndex,NaN),o=n.visible,a=[],l=0;l<e.items.length;l++)(h=e.items[l]).visible&&(u=h.fromAngle,p=h.fromAngle+t*(h.toAngle-h.fromAngle),i&&i[h.displayValue]&&(u=(s=i[h.displayValue].fromAngle)+(u-s)*t,p=(s=i[h.displayValue].toAngle)+(p-s)*t),a.push({index:l,from:u,to:p}));i&&a.sort(this._sliceSortFunction);for(var d=NaN,l=0;l<a.length;l++){var h=e.items[a[l].index],c=this._getRenderInfo(e.groupIndex,e.serieIndex,h.itemIndex),u=a[l].from,p=a[l].to,m=(i&&(!isNaN(d)&&d<u&&(u=d),d=p,l==a.length-1&&p!=a[0].from&&(p=e.maxAngle+a[0].from)),this.renderer.pieSlicePath(h.x,h.y,h.innerRadius,h.outerRadius,u,p,h.centerOffset)),m=(this.renderer.attr(c.element,{d:m}),this._getColors(e.groupIndex,e.serieIndex,h.itemIndex,"radialGradient",h.outerRadius)),g=e.settings;c.colors=m,c.settings=g,this.renderer.attr(c.element,{fill:m.fillColor,stroke:m.lineColor,"stroke-width":g.stroke,"fill-opacity":g.opacity,"stroke-opacity":g.opacity,"stroke-dasharray":"none"}),r.series[e.serieIndex];o&&this._showPieLabel(e.groupIndex,e.serieIndex,h.itemIndex,n),1==t&&this._installHandlers(c.element,"pieslice",e.groupIndex,e.serieIndex,h.itemIndex)}},_showPieLabel:function(e,t,i,s,r){var n,o,a,l,d,h,c,u,p,m=this._renderData[e].offsets[t][i];m.elementInfo.labelElement&&this.renderer.removeElement(m.elementInfo.labelElement),(s=s||this._getLabelsSettings(e,t,NaN)).visible&&(a=m.fromAngle,p=m.toAngle,n=Math.abs(a-p),360<n&&(a=0,p=360),Math.PI,Math.PI,p=n/2+a,n=(p%=360)*Math.PI*2/360,1==s.autoRotate&&(o=p<90||270<p?360-p:180-p),a=s.linesEnabled,l=this._showLabel(e,t,i,{x:0,y:0,width:0,height:0},"center","center",!0,!1,!1,o),d=s.radius||m.outerRadius+Math.max(l.width,l.height),this._isPercent(d)&&(d=parseFloat(d)/100*Math.min(this._plotRect.width,this._plotRect.height)/2),d=(d+=m.centerOffset)+(r=isNaN(r)?0:r),u=(h=this.seriesGroups[e]).series[t],c=ae.jqx.getNum([u.offsetX,h.offsetX,this._plotRect.width/2]),u=ae.jqx.getNum([u.offsetY,h.offsetY,this._plotRect.height/2]),h=this._plotRect.x+c,c=this._plotRect.y+u,u=this._adjustTextBoxPosition(h,c,l,d,p,m.outerRadius>d,0!=s.linesAngles,1==s.autoRotate),m.elementInfo.labelElement=this._showLabel(e,t,i,{x:u.x,y:u.y,width:l.width,height:l.height},"left","top",!(p={}),!1,!1,o,p),d>m.outerRadius+5&&0!=a&&(e={lineColor:m.elementInfo.colors.lineColor,stroke:m.elementInfo.settings.stroke,opacity:m.elementInfo.settings.opacity,dashStyle:m.elementInfo.settings.dashStyle},m.elementInfo.labelArrowPath=this._updateLebelArrowPath(m.elementInfo.labelArrowPath,h,c,d,m.outerRadius+r,n,0!=s.linesAngles,e,p)))},_updateLebelArrowPath:function(e,i,s,t,r,n,o,a,l){ae.jqx._ptrnd(i+ +t*Math.cos(n)),ae.jqx._ptrnd(s-+t*Math.sin(n));t=ae.jqx._ptrnd(i+(r+2)*Math.cos(n)),r=ae.jqx._ptrnd(s-(r+2)*Math.sin(n));(d=[]).push({x:l.x+l.width/2,y:l.y}),d.push({x:l.x+l.width/2,y:l.y+l.height}),d.push({x:l.x,y:l.y+l.height/2}),d.push({x:l.x+l.width,y:l.y+l.height/2}),o||(d.push({x:l.x,y:l.y}),d.push({x:l.x+l.width,y:l.y}),d.push({x:l.x+l.width,y:l.y+l.height}),d.push({x:l.x,y:l.y+l.height}));for(var d=(d=d.sort(function(e,t){return ae.jqx._ptdist(e.x,e.y,i,s)-ae.jqx._ptdist(t.x,t.y,i,s)})).sort(function(e,t){return Math.abs(e.x-i)+Math.abs(e.y-s)-(Math.abs(t.x-i)+Math.abs(t.y-s))}),h=0;h<d.length;h++)d[h].x=ae.jqx._ptrnd(d[h].x),d[h].y=ae.jqx._ptrnd(d[h].y);n=d[0].x,l=d[0].y,o=o?"M "+n+","+l+" L"+t+","+l+" L"+t+","+r:"M "+n+","+l+" L"+t+","+r;return e?this.renderer.attr(e,{d:o}):e=this.renderer.path(o,{}),this.renderer.attr(e,{fill:"none",stroke:a.lineColor,"stroke-width":a.stroke,"stroke-opacity":a.opacity,"stroke-dasharray":"none"}),e},_adjustTextBoxPosition:function(e,t,i,s,r,n,o,a){var l,d,h,c,u=r*Math.PI*2/360,p=ae.jqx._ptrnd(e+s*Math.cos(u)),m=ae.jqx._ptrnd(t-s*Math.sin(u));return a?(a=i.width,l=i.height,d=Math.atan(l/a)%(2*Math.PI),c=0,(h=u%(2*Math.PI))<=d?c=a/2*Math.cos(u):d<=h&&h<Math.PI-d?c=l/2*Math.sin(u):h>=Math.PI-d&&h<Math.PI+d?c=a/2*Math.cos(u):h>=Math.PI+d&&h<2*Math.PI-d?c=l/2*Math.sin(u):h>=2*Math.PI-d&&h<2*Math.PI&&(c=a/2*Math.cos(u)),s+=Math.abs(c)+3,p=ae.jqx._ptrnd(e+s*Math.cos(u)),m=ae.jqx._ptrnd(t-s*Math.sin(u)),{x:p-=i.width/2,y:m-=i.height/2}):(n?(p-=i.width/2,m-=i.height/2):o?90<=r&&r<270?(m-=i.height/2,p-=i.width):m-=i.height/2:0<=r&&r<45||315<=r&&r<360?m-=i.height/2:45<=r&&r<135?(m-=i.height,p-=i.width/2):135<=r&&r<225?(m-=i.height/2,p-=i.width):225<=r&&r<315&&(p-=i.width/2),{x:p,y:m})},_isColumnType:function(e){return-1!=e.indexOf("column")||-1!=e.indexOf("waterfall")},_getColumnGroupsCount:function(e){for(var t=0,i=(e=e||"vertical",this.seriesGroups),s=0;s<i.length;s++){var r=i[s].orientation||"vertical";this._isColumnType(i[s].type)&&r==e&&t++}return t=this.columnSeriesOverlap?1:t},_getColumnGroupIndex:function(e){for(var t=0,i=this.seriesGroups[e].orientation||"vertical",s=0;s<e;s++){var r=this.seriesGroups[s],n=r.orientation||"vertical";this._isColumnType(r.type)&&n==i&&t++}return t},_renderAxisBands:function(e,t,i){var s=i?this._getXAxis(e):this._getValueAxis(e),r=this.seriesGroups[e],n=i?void 0:r.bands;if(!n){for(var o=0;o<e;o++)if((i?this._getXAxis(o):this._getValueAxis(o))==s)return;n=s.bands}if(ae.isArray(n)){var a=t,l="horizontal"==r.orientation;l&&(a={x:t.y,y:t.x,width:t.height,height:t.width}),this._calcGroupOffsets(e,a);for(o=0;o<n.length;o++){var d=n[o],h=this._get([d.minValue,d.from]),c=this._get([d.maxValue,d.to]),u=i?this.getXAxisDataPointOffset(h,e):this.getValueAxisDataPointOffset(h,e),p=i?this.getXAxisDataPointOffset(c,e):this.getValueAxisDataPointOffset(c,e);if(!isNaN(u)&&!isNaN(p)){var m=Math.abs(u-p);if(r.polar||r.spider){var g=this._renderData[e],f=g.polarCoords;if(i)var v=r.spider?(h=this.getPolarDataPointOffset(h,this._stats.seriesGroups[e].max,e),c=this.getPolarDataPointOffset(c,this._stats.seriesGroups[e].max,e),_="M "+f.x+","+f.y,_=(_+=" L "+h.x+","+h.y)+" L "+c.x+","+c.y,this.renderer.path(_)):(h={},c={x:Math.min(u,p),y:t.y,width:m,height:t.height},this._columnAsPieSlice(h,t,f,c),h.element);else{var c=this._toPolarCoord(f,t,t.x,g.baseOffset),h=this._toPolarCoord(f,t,t.x,u),x=this._toPolarCoord(f,t,t.x,p),h=ae.jqx._ptdist(c.x,c.y,h.x,h.y),c=ae.jqx._ptdist(c.x,c.y,x.x,x.y),x=Math.round(360*-f.startAngle/(2*Math.PI)),y=Math.round(360*-f.endAngle/(2*Math.PI));if(y<x&&(I=x,x=y,y=I),r.spider){var w,b=g.xAxis.offsetAngles,_="",q=[c,h],j=b;for(w in f.isClosedCircle&&(j=ae.extend([],b)).push(j[0]),q){for(var T=0;T<j.length;T++){var C=0==w?T:b.length-T-1,S=f.x+q[w]*Math.cos(j[C]),k=f.y+q[w]*Math.sin(j[C]);_=(_+=""==_?"M ":" L")+(ae.jqx._ptrnd(S)+","+ae.jqx._ptrnd(k))}0==w&&(S=f.x+q[1]*Math.cos(j[C]),k=f.y+q[1]*Math.sin(j[C]),_+=" L"+ae.jqx._ptrnd(S)+","+ae.jqx._ptrnd(k))}_+=" Z",v=this.renderer.path(_)}else v=this.renderer.pieslice(f.x,f.y,h,c,x,y)}}else{var I,g={x:Math.min(u,p),y:a.y,width:m,height:a.height};i||(g={x:a.x,y:Math.min(u,p),width:a.width,height:m}),l&&(I=g.x,g.x=g.y,g.y=I,I=g.width,g.width=g.height,g.height=I),v=0==m||1==m?this.renderer.line(ae.jqx._ptrnd(g.x),ae.jqx._ptrnd(g.y),ae.jqx._ptrnd(g.x+(l?0:g.width)),ae.jqx._ptrnd(g.y+(l?g.height:0))):this.renderer.rect(g.x,g.y,g.width,g.height)}h=d.fillColor||d.color||"#AAAAAA",c=d.lineColor||h,x=d.lineWidth,y=(isNaN(x)&&(x=1),d.opacity);(isNaN(y)||y<0||1<y)&&(y=1),this.renderer.attr(v,{fill:h,"fill-opacity":y,stroke:c,"stroke-opacity":y,"stroke-width":x,"stroke-dasharray":d.dashStyle})}}}},_getColumnGroupWidth:function(e,t,i){var e=this.seriesGroups[e],s=-1!=e.type.indexOf("stacked"),r=(s||e.series.length,this._getColumnGroupsCount(e.orientation)),n=(!isNaN(r)&&0!=r||(r=1),1<=t.rangeLength?t.itemWidth:.9*i),o=e.columnsMinWidth,i=(isNaN(o)&&(o=1),n<(o=isNaN(e.columnsMaxWidth)?o:Math.min(e.columnsMaxWidth,o))&&0<t.length&&(n=Math.max(n,.9*i/t.length)),o),o=(s||(t=e.seriesGapPercent,(isNaN(t)||t<0)&&(t=10),s=o,i+=e.series.length*(s*=1+(t/=100))),Math.max(n/r,i));return{requiredWidth:i,availableWidth:n,targetWidth:o}},_getColumnSerieWidthAndOffset:function(e,t){var i,s,r,n,o=this.seriesGroups[e],a=(o.series[t],"horizontal"==o.orientation),l=this._plotRect,d=(a&&(l={x:l.y,y:l.x,width:l.height,height:l.width}),this._calcGroupOffsets(e,l));if(d&&0!=d.xoffsets.length)return i=this._getColumnGroupsCount(o.orientation),"candlestick"!=o.type&&"ohlc"!=o.type||(i=1),s=this._getColumnGroupIndex(e),e=this._getColumnGroupWidth(e,d.xoffsets,a?l.height:l.width),d=0,a=e.targetWidth,(1==this.columnSeriesOverlap||Math.round(a)>Math.round(e.availableWidth/i))&&(i=1,s=0),d=d-a*i/2+a*s,l=o.columnsGapPercent,l<=0&&(l=0),(isNaN(l)||100<=l)&&(l=25),i=a*(l/=100),i+e.requiredWidth>e.targetWidth&&(i=Math.max(0,e.targetWidth-e.requiredWidth)),a-=i=Math.round(a)>Math.round(e.availableWidth)?0:i,d+=i/2,s=o.seriesGapPercent,(isNaN(s)||s<0)&&(s=10),l=-1!=o.type.indexOf("stacked"),e=a,l||(e/=o.series.length),i=this._get([o.seriesGap,a*s/100/(o.series.length-1)]),s=(i=1==o.polar||1==o.spider||l||o.series.length<=1?0:i)*(o.series.length-1),1<o.series.length&&s>a-+o.series.length&&(i=(s=a-+o.series.length)/Math.max(1,o.series.length-1)),e-=s/o.series.length,r=0,n=o.columnsMaxWidth,isNaN(n)||n<e&&(r=e-n,e=n),{width:e,offset:d+(l?r/2:(a-e*o.series.length-s)/2+e*t+Math.max(0,t)*i)}},_renderColumnSeries:function(e,t){var i=this.seriesGroups[e];if(i.series&&0!=i.series.length){this._getDataLen(e);var s="horizontal"==i.orientation,r=t,n=(s&&(r={x:t.y,y:t.x,width:t.height,height:t.width}),this._calcGroupOffsets(e,r));if(n&&0!=n.xoffsets.length){for(var o,a={groupIndex:e,rect:t,vertical:!s,seriesCtx:[],renderData:n,polarAxisCoords:o=1!=i.polar&&1!=i.spider?o:this._getPolarAxisCoords(e,r)},l=(a.columnGroupWidth=this._getColumnGroupWidth(e,n.xoffsets,s?r.height:r.width),this._getGroupGradientType(e)),d=0;d<i.series.length;d++){var h=i.series[d];if(!h.customDraw){h.dataField;var c=this._getAnimProps(e,d),u=c.enabled&&!this._isToggleRefresh&&n.xoffsets.length<100?c.duration:0,c=this._getColumnSerieWidthAndOffset(e,d),p=this._isSerieVisible(e,d),m=this._getSerieSettings(e,d),g=this._getColors(e,d,NaN,this._getGroupGradientType(e),4),f=[];if(ae.isFunction(h.colorFunction)&&!o)for(var v=n.xoffsets.first;v<=n.xoffsets.last;v++)f.push(this._getColors(e,d,v,l,4));h={seriesIndex:d,serieColors:g,itemsColors:f,settings:m,columnWidth:c.width,xAdjust:c.offset,isVisible:p};a.seriesCtx.push(h)}}this._animColumns(a,0==u?1:0);var x=this;this._enqueueAnimation("series",void 0,void 0,u,function(e,t,i){x._animColumns(t,i)},a)}}},_getPercent:function(e,t,i,s){return isNaN(e)&&(e=t),!isNaN(i)&&!isNaN(e)&&e<i&&(e=i),!isNaN(s)&&!isNaN(e)&&s<e&&(e=s),isNaN(e)?NaN:e},_getColumnVOffsets:function(e,t,i,s,r,n){for(var o=this.seriesGroups[t],a=this._getPercent(o.columnsTopWidthPercent,100,0,100),l=this._getPercent(o.columnsBottomWidthPercent,100,0,100),d=(0==a&&0==l&&(l=100),this._getPercent(o.columnsNeckHeightPercent,NaN,0,100)/100),h=this._getPercent(o.columnsNeckWidthPercent,100,0,100)/100,c=[],u=NaN,p=0;p<i.length;p++){var m,g=(b=i[p]).seriesIndex,f=(o.series[g],e.offsets[g][s].from),v=e.offsets[g][s].to,x=e.xoffsets.data[s],y=b.isVisible,w=(y||(v=f),this._elementRenderInfo),w=(y&&w&&w.length>t&&w[t].series.length>g&&(y=e.xoffsets.xvalues[s],!(m=w[t].series[g][y])||isNaN(m.from)||isNaN(m.to)||(f=m.from+(f-m.from)*n,v=m.to+(v-m.to)*n,x=m.xoffset+(x-m.xoffset)*n)),m||(v=f+(v-f)*(r?1:n)),isNaN(f)&&(f=isNaN(u)?e.baseOffset:u),u=!isNaN(v)&&r?v:f,{from:f,to:v=isNaN(v)?f:v,xOffset:x});100==a&&100==l||(w.funnel=!0,w.toWidthPercent=a,w.fromWidthPercent=l),c.push(w)}if(r&&1<c.length&&!(this._elementRenderInfo&&this._elementRenderInfo.length>t)){for(var b,_=0,q=0,j=-1/0,T=1/0,C=1/0,S=-1/0,k=0;k<c.length;k++)(b=i[k]).isVisible&&(c[k].to>=c[k].from?(q+=c[k].to-c[k].from,C=Math.min(C,c[k].from),S=Math.max(S,c[k].to)):(_+=c[k].from-c[k].to,j=Math.max(j,c[k].from),T=Math.min(T,c[k].to)));for(var I,D=_,P=q,A=(_*=n,q*=n,0),M=0,k=0;k<c.length;k++)c[k].to>=c[k].from?(q<(I=c[k].to-c[k].from)+M&&(I=Math.max(0,q-M),c[k].to=c[k].from+I),100==a&&100==l||(c[k].funnel=!0,!isNaN(d)&&M<=P*d?c[k].fromWidthPercent=100*h:c[k].fromWidthPercent=Math.abs(c[k].from-C)/P*(a-l)+l,!isNaN(d)&&0+(M+I)<=P*d?c[k].toWidthPercent=100*h:c[k].toWidthPercent=Math.abs(c[k].to-C)/P*(a-l)+l),M+=I):(_<(I=c[k].from-c[k].to)+A&&(I=Math.max(0,_-A),c[k].to=c[k].from-I),100==a&&100==l||(c[k].funnel=!0,!isNaN(d)&&A<=D*d?c[k].fromWidthPercent=100*h:c[k].fromWidthPercent=Math.abs(c[k].from-j)/D*(a-l)+l,!isNaN(d)&&0+(A+I)<=D*d?c[k].toWidthPercent=100*h:c[k].toWidthPercent=Math.abs(c[k].to-j)/D*(a-l)+l),A+=I)}return c},_columnAsPieSlice:function(e,t,i,s){var r=this._toPolarCoord(i,t,s.x,s.y),n=this._toPolarCoord(i,t,s.x,s.y+s.height),n=ae.jqx._ptdist(i.x,i.y,n.x,n.y),r=ae.jqx._ptdist(i.x,i.y,r.x,r.y),o=t.width,a=180*Math.abs(i.startAngle-i.endAngle)/Math.PI,l=-(s.x-t.x)*a/o,s=-(s.x+s.width-t.x)*a/o;return l-=t=360*i.startAngle/(2*Math.PI),s-=t,e&&(null!=e.element?(a=this.renderer.pieSlicePath(i.x,i.y,n,r,s,l,0),this.renderer.attr(e.element,{d:a+=" Z"})):e.element=this.renderer.pieslice(i.x,i.y,n,r,s,l,0)),{fromAngle:s,toAngle:l,innerRadius:n,outerRadius:r}},_setRenderInfo:function(e,t,i,s){this._renderData[e].offsets[t][i].elementInfo=s},_getRenderInfo:function(e,t,i){return this._renderData[e].offsets[t][i].elementInfo||{}},_animColumns:function(e,t){for(var i=e.groupIndex,s=this.seriesGroups[i],r=e.renderData,n=-1!=s.type.indexOf("waterfall"),z=this._getXAxis(i),o=-1!=s.type.indexOf("stacked"),a=e.polarAxisCoords,E=(this._getGroupGradientType(i),e.columnGroupWidth.targetWidth,-1),l=0;l<s.series.length;l++)if(this._isSerieVisible(i,l)){E=l;break}for(var d=NaN,h=NaN,l=0;l<e.seriesCtx.length;l++){var c=e.seriesCtx[l];(isNaN(d)||d>c.xAdjust)&&(d=c.xAdjust),(isNaN(h)||h<c.xAdjust+c.columnWidth)&&(h=c.xAdjust+c.columnWidth)}for(var L=Math.abs(h-d),u=this._get([s.columnsGapPercent,25])/100,N=(u=isNaN(u)<0||1<=u?.25:u)*L,p=e.renderData.xoffsets,O=-1,R={},F=1==s.skipOverlappingPoints,m=p.first;m<=p.last;m++){var g=p.data[m];if(!isNaN(g)&&!(-1!=O&&Math.abs(g-O)<L-1+N&&F)){var O=g,f=this._getColumnVOffsets(r,i,e.seriesCtx,m,o,t),W=!1;if(n)for(var v=0;v<s.series.length;v++)s.series[v].summary&&p.xvalues[m][s.series[v].summary]&&(W=!0);for(v=0;v<e.seriesCtx.length;v++){var x,y,w,b,_,q,j,T,C,S=(c=e.seriesCtx[v]).seriesIndex,k=s.series[S],I=f[v].from,D=f[v].to,P=f[v].xOffset,A=(e.vertical?e.rect.x:e.rect.y)+c.xAdjust,M=c.settings,H=0!=c.itemsColors.length?c.itemsColors[m-r.xoffsets.first]:c.serieColors,B=this._isSerieVisible(i,S);B&&(A={x:g=ae.jqx._ptrnd(A+P),width:c.columnWidth},f[v].funnel&&(A.fromWidthPercent=f[v].fromWidthPercent,A.toWidthPercent=f[v].toWidthPercent),P=!0,e.vertical?(A.y=I,A.height=D-I,A.height<0&&(A.y+=A.height,A.height=-A.height,P=!1)):(A.x=I<D?I:D,A.width=Math.abs(I-D),P=I-D<0,A.y=g,A.height=c.columnWidth),I=I-D,isNaN(I)||(I=Math.abs(I),y=void 0,_=null==(w=(x=this._getRenderInfo(i,S,m)).element),(C=x.labelElement)&&(this.renderer.removeElement(C),C=void 0),a?(y=this._columnAsPieSlice(b={element:w},e.rect,a,A),w=b.element,H=this._getColors(i,S,void 0,"radialGradient",y.outerRadius)):f[v].funnel?(b=this._getTrapezoidPath(ae.extend({},A),e.vertical,P),_?w=this.renderer.path(b,{}):this.renderer.attr(w,{d:b})):_?w=this.renderer.rect(A.x,A.y,e.vertical?A.width:0,e.vertical?0:A.height):1==e.vertical?this.renderer.attr(w,{x:A.x,y:A.y,height:I}):this.renderer.attr(w,{x:A.x,y:A.y,width:I}),I<1&&(1!=t||a)?this.renderer.attr(w,{display:"none"}):this.renderer.attr(w,{display:"block"}),_&&this.renderer.attr(w,{fill:H.fillColor,"fill-opacity":M.opacity,"stroke-opacity":M.opacity,stroke:H.lineColor,"stroke-width":M.stroke,"stroke-dasharray":M.dashStyle}),C&&this.renderer.removeElement(C),!B||0==I&&t<1?this._setRenderInfo(i,S,m,x={element:w,labelElement:C}):(n&&0!=this._get([k.showWaterfallLines,s.showWaterfallLines])&&(o&&v!=E||(_=o?-1:v,1!=t||isNaN(r.offsets[v][m].from)||isNaN(r.offsets[v][m].to)||null!=(B=R[_])&&(_={x:g,y:(k={x:B.x,y:ae.jqx._ptrnd(B.y)}).y},T=s.columnsTopWidthPercent/100,(isNaN(T)||1<T||T<0)&&(T=1),j=s.columnsBottomWidthPercent/100,(isNaN(j)||1<j||j<0)&&(j=1),q=e.vertical?A.width:A.height,k.x=k.x-q/2+q/2*T,T=W?q*T/2:q*j/2,_.x=_.x+q/2-(z.flip?-T:T),e.vertical||(this._swapXY([k]),this._swapXY([_])),this.renderer.line(k.x,k.y,_.x,_.y,{stroke:B.color,"stroke-width":M.stroke,"stroke-opacity":M.opacity,"fill-opacity":M.opacity,"stroke-dasharray":M.dashStyle}))),1==t&&0!=I&&(R[o?-1:v]={y:D,x:e.vertical?A.x+A.width:A.y+A.height,color:H.lineColor})),C=a?(this._toPolarCoord(a,e.rect,A.x+A.width/2,A.y),q=this._showLabel(i,S,m,A,void 0,void 0,!0),j=y.outerRadius+10,T=this._adjustTextBoxPosition(a.x,a.y,q,j,(y.fromAngle+y.toAngle)/2,!0,!1,!1),this._showLabel(i,S,m,{x:T.x,y:T.y},void 0,void 0,!1,!1,!1)):this._showLabel(i,S,m,A,void 0,void 0,!1,!1,P),this._setRenderInfo(i,S,m,x={element:w,labelElement:C}),1==t&&this._installHandlers(w,"column",i,S,m))))}}}},_getTrapezoidPath:function(e,t,i){var s="",r=e.fromWidthPercent/100,n=e.toWidthPercent/100,o=(t||(o=e.width,e.width=e.height,e.height=o,o=e.x,e.x=e.y,e.y=o),e.x+e.width/2),a=[{x:o-e.width*(i?n:r)/2,y:e.y+e.height},{x:o-e.width*(i?r:n)/2,y:e.y},{x:o+e.width*(i?r:n)/2,y:e.y},{x:o+e.width*(i?n:r)/2,y:e.y+e.height}];t||this._swapXY(a),s+="M "+ae.jqx._ptrnd(a[0].x)+","+ae.jqx._ptrnd(a[0].y);for(var l=1;l<a.length;l++)s+=" L "+ae.jqx._ptrnd(a[l].x)+","+ae.jqx._ptrnd(a[l].y);return s+=" Z"},_swapXY:function(e){for(var t=0;t<e.length;t++){var i=e[t].x;e[t].x=e[t].y,e[t].y=i}},_renderCandleStickSeries:function(e,t,i){var s=this,r=s.seriesGroups[e];if(r.series&&0!=r.series.length){var n="horizontal"==r.orientation,o=t,a=(n&&(o={x:t.y,y:t.x,width:t.height,height:t.width}),s._calcGroupOffsets(e,o));if(a&&0!=a.xoffsets.length){o.width,(r.polar||r.spider)&&(l=s._getPolarAxisCoords(e,o)).r,s._alignValuesWithTicks(e);for(var l,d=s._getGroupGradientType(e),h=[],c=0;c<r.series.length;c++)h[c]=s._getColumnSerieWidthAndOffset(e,c);for(var u,p,m,c=0;c<r.series.length;c++)this._isSerieVisible(e,c)&&(p=s._getSerieSettings(e,c),(u=r.series[c]).customDraw||(m=ae.isFunction(u.colorFunction)?void 0:s._getColors(e,c,NaN,d),u={rect:t,inverse:n,groupIndex:e,seriesIndex:c,symbolType:u.symbolType,symbolSize:u.symbolSize,"fill-opacity":p.opacity,"stroke-opacity":p.opacity,"stroke-width":p.stroke,"stroke-dasharray":p.dashStyle,gradientType:d,colors:m,renderData:a,polarAxisCoords:l,columnsInfo:h,isOHLC:i,items:[],self:s},m=(p=s._getAnimProps(e,c)).enabled&&!s._isToggleRefresh&&a.xoffsets.length<5e3?p.duration:0,s._animCandleStick(u,0),s._enqueueAnimation("series",void 0,void 0,m,function(e,t,i){s._animCandleStick(t,i)},u)))}}},_animCandleStick:function(e,t){for(var i=["Open","Low","Close","High"],s=e.columnsInfo[e.seriesIndex].width,r=e.self.seriesGroups[e.groupIndex],n=e.renderData.xoffsets,o=-1,a=Math.abs(n.data[n.last]-n.data[n.first]),l=(a*=t,NaN),d=NaN,h=0;h<e.columnsInfo.length;h++){var c=e.columnsInfo[h];(isNaN(l)||l>c.offset)&&(l=c.offset),(isNaN(d)||d<c.offset+c.width)&&(d=c.offset+c.width)}for(var u=Math.abs(d-l),p=0!=r.skipOverlappingPoints,m=n.first;m<=n.last;m++){var g=n.data[m];if(!isNaN(g)&&!(-1!=o&&Math.abs(g-o)<u&&p)){if(a<Math.abs(n.data[m]-n.data[n.first]))break;var f,o=g,v=e.items[m]=e.items[m]||{};for(h in i){var x=e.self._getDataValueAsNumber(m,r.series[e.seriesIndex]["dataField"+i[h]],e.groupIndex);if(isNaN(x))break;var y=e.renderData.offsets[e.seriesIndex][m][i[h]];if(isNaN(y))break;v[i[h]]=y}for(f in g+=e.inverse?e.rect.y:e.rect.x,e.polarAxisCoords&&(g=(q=this._toPolarCoord(e.polarAxisCoords,this._plotRect,g,y)).x,y=q.y),g=ae.jqx._ptrnd(g),i)v[f]=ae.jqx._ptrnd(v[f]);var w,b,_,q=(q=e.colors)||e.self._getColors(e.groupIndex,e.seriesIndex,m,e.gradientType);e.isOHLC?(b="M"+g+","+v.Low+" L"+g+","+v.High+" M"+(g-s/2)+","+v.Open+" L"+g+","+v.Open+" M"+(g+s/2)+","+v.Close+" L"+g+","+v.Close,e.inverse&&(b="M"+v.Low+","+g+" L"+v.High+","+g+" M"+v.Open+","+(g-s/2)+" L"+v.Open+","+g+" M"+v.Close+","+g+" L"+v.Close+","+(g+s/2)),(w=v.lineElement)||(w=this.renderer.path(b,{}),this.renderer.attr(w,{fill:q.fillColor,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:q.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),v.lineElement=w),1==t&&this._installHandlers(w,"column",e.groupIndex,e.seriesIndex,m)):((w=v.lineElement)||(w=e.inverse?this.renderer.line(v.Low,g,v.High,g):this.renderer.line(g,v.Low,g,v.High),this.renderer.attr(w,{fill:q.fillColor,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:q.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),v.lineElement=w),g-=s/2,(b=v.stickElement)||(_=q.fillColor,v.Close<=v.Open&&q.fillColorAlt&&(_=q.fillColorAlt),b=e.inverse?this.renderer.rect(Math.min(v.Open,v.Close),g,Math.abs(v.Close-v.Open),s):this.renderer.rect(g,Math.min(v.Open,v.Close),s,Math.abs(v.Close-v.Open)),this.renderer.attr(b,{fill:_,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:q.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),v.stickElement=b),1==t&&this._installHandlers(b,"column",e.groupIndex,e.seriesIndex,m))}}},_renderScatterSeries:function(e,t,i){var s=this.seriesGroups[e];if(s.series&&0!=s.series.length){var r=-1!=s.type.indexOf("bubble"),n="horizontal"==s.orientation,o=t,a=(n&&(o={x:t.y,y:t.x,width:t.height,height:t.width}),this._calcGroupOffsets(e,o));if(a&&0!=a.xoffsets.length){var l,d=o.width,h=((s.polar||s.spider)&&(d=2*(l=this._getPolarAxisCoords(e,o)).r),this._alignValuesWithTicks(e),this._getGroupGradientType(e));i=i||"to";for(var c=0;c<s.series.length;c++){var u=this._getSerieSettings(e,c),p=s.series[c];if(!p.customDraw){var m=p.dataField,g=ae.isFunction(p.colorFunction),f=this._getColors(e,c,NaN,h),v=NaN,x=NaN;if(r)for(var y=a.xoffsets.first;y<=a.xoffsets.last;y++){if("number"!=typeof(C=this._getDataValueAsNumber(y,p.radiusDataField||p.sizeDataField,e)))throw"Invalid radiusDataField value at ["+y+"]";isNaN(C)||((isNaN(v)||C<v)&&(v=C),(isNaN(x)||x<C)&&(x=C))}for(var w=p.minRadius||p.minSymbolSize,b=(isNaN(w)&&(w=d/50),p.maxRadius||p.maxSymbolSize),_=((b=isNaN(b)?d/25:b)<w&&(b=w),p.radius),_=isNaN(_)&&!isNaN(p.symbolSize)?"circle"==p.symbolType?p.symbolSize/2:p.symbolSize:5,q=this._getAnimProps(e,c),q=q.enabled&&!this._isToggleRefresh&&a.xoffsets.length<5e3?q.duration:0,j={groupIndex:e,seriesIndex:c,symbolType:p.symbolType,symbolSize:p.symbolSize,"fill-opacity":u.opacity,"stroke-opacity":u.opacity,"stroke-width":u.stroke,"stroke-width-symbol":u.strokeSymbol,"stroke-dasharray":u.dashStyle,items:[],polarAxisCoords:l},T=void 0,y=a.xoffsets.first;y<=a.xoffsets.last;y++){var C=this._getDataValueAsNumber(y,m,e);if("number"==typeof C){var S=a.xoffsets.data[y],k=a.xoffsets.xvalues[y],I=a.offsets[c][y][i];if(!(I<o.y||I>o.y+o.height))if(!isNaN(S)&&!isNaN(I))if(n?(A=S,S=I,I=A+t.y):S+=t.x,!(!g&&T&&this.enableSampling&&ae.jqx._ptdist(T.x,T.y,S,I)<1)){var T={x:S,y:I},D=_;if(r){var P=this._getDataValueAsNumber(y,p.radiusDataField||p.sizeDataField,e);if("number"!=typeof P)continue;D=w+(b-w)*(P-v)/Math.max(1,x-v),isNaN(D)&&(D=w)}a.offsets[c][y].radius=D;var A,P=NaN,M=NaN,H=0,B=this._elementRenderInfo;null!=k&&B&&B.length>e&&B[e].series.length>c&&((B=B[e].series[c][k])&&!isNaN(B.to)&&(P=B.to,M=B.xoffset,H=_,n?(A=M,M=P,P=A+t.y):M+=t.x,r&&(H=w+(b-w)*(B.valueRadius-v)/Math.max(1,x-v),isNaN(H)&&(H=w)))),g&&(f=this._getColors(e,c,y,h)),j.items.push({from:H,to:D,itemIndex:y,fill:f.fillColor,stroke:f.lineColor,x:S,y:I,xFrom:M,yFrom:P})}}}this._animR(j,0);var z=this;this._enqueueAnimation("series",void 0,void 0,q,function(e,t,i){z._animR(t,i)},j)}}}}},_animR:function(e,t){for(var i=e.items,s=e.symbolType||"circle",r=e.symbolSize,n=0;n<i.length;n++){var o=i[n],a=o.x,l=o.y,d=Math.round((o.to-o.from)*t+o.from),h=(isNaN(o.yFrom)||(l=o.yFrom+(l-o.yFrom)*t),isNaN(o.xFrom)||(a=o.xFrom+(a-o.xFrom)*t),e.polarAxisCoords&&(a=(h=this._toPolarCoord(e.polarAxisCoords,this._plotRect,a,l)).x,l=h.y),a=ae.jqx._ptrnd(a),l=ae.jqx._ptrnd(l),d=ae.jqx._ptrnd(d),this._getRenderInfo(e.groupIndex,e.seriesIndex,i[n].itemIndex)),c=h.element,u=h.labelElement;"circle"==s?(c||(c=this.renderer.circle(a,l,d),this.renderer.attr(c,{fill:o.fill,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:o.stroke,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]})),this._isVML?this.renderer.updateCircle(c,void 0,void 0,d):this.renderer.attr(c,{r:d,cy:l,cx:a})):(c&&this.renderer.removeElement(c),c=this._drawSymbol(s,a,l,o.fill,e["fill-opacity"],o.stroke,e["stroke-opacity"]||e["fill-opacity"],e["stroke-width-symbol"],e["stroke-dasharray"],r||d)),u&&this.renderer.removeElement(u),u=this._showLabel(e.groupIndex,e.seriesIndex,o.itemIndex,{x:a-d,y:l-d,width:2*d,height:2*d}),1<=t&&this._installHandlers(c,"circle",e.groupIndex,e.seriesIndex,o.itemIndex),this._setRenderInfo(e.groupIndex,e.seriesIndex,i[n].itemIndex,{element:c,labelElement:u})}},_showMultiSeriesToolTip:function(e,t,i){for(var s=this,r='<div style="text-align:left">',n="",o=0;o<s.seriesGroups.length;o++)if(!s._isPieGroup(o)){var a=s._getXAxis(o),l=s._getValueAxis(o),d=s.seriesGroups[o],h=this._getAxisSettings(a),c=h.toolTipFormatSettings,h=h.toolTipFormatFunction,u=s._getDataValue(i,a.dataField,o),a=(null!=a.dataField&&""!=a.dataField||(u=i),"date"==a.type&&(u=s._castAsDate(u,(c?c.dateFormat:void 0)||a.dateFormat)),h||c||"date"!=a.type||(h=this._getDefaultDTFormatFn(a.baseUnit||"day")),a.displayText||a.dataField||""),a=(""!=a&&(a+=": "),a+s._formatValue(u,c,h,o,p,i));n!=a&&(""!=n&&(r+="<br />"),r+=a+"<br /><br />",n=a);for(var p=0;p<d.series.length;p++){var m,g=d.series[p];0!=d.showToolTips&&0!=g.showToolTips&&s._isSerieVisible(o,p)&&(m=s._get([g.toolTipFormatSettings,d.toolTipFormatSettings,l.toolTipFormatSettings,s.toolTipFormatSettings]),g=s._get([g.toolTipFormatFunction,d.toolTipFormatFunction,l.toolTipFormatFunction,s.toolTipFormatFunction]),m=s._getFormattedValue(o,p,i,m,g),r+="<span style='color:"+s._getColors(o,p,i).lineColor+";'>"+m+"</span><br />\n")}}var f=this._get([s.toolTipClass,this.toThemeProperty("jqx-chart-tooltip-text",null)]),v=this._get([s.toolTipBackground,"#FFFFFF"]),x=this._get([s.toolTipLineColor,s._defaultLineColor]),y=this._get([s.toolTipOpacity,1]),w=(r+="</div>",this.getItemCoord(s._ttEl.gidx,s._ttEl.sidx,s._ttEl.iidx));s._createTooltip(w,s.seriesGroups[s._ttEl.gidx],r,{css:f,fill:v,stroke:x,fillOpacity:y,symbolSize:3})},_showToolTip:function(e,t,i,s,r){var n=this,o=n._getXAxis(i),a=n._getValueAxis(i);if(!n._ttEl||i!=n._ttEl.gidx||s!=n._ttEl.sidx||r!=n._ttEl.iidx){var l=n.seriesGroups[i],d=l.series[s],h=n.enableCrosshairs,c=(n._pointMarker?(e=parseInt(n._pointMarker.x+5),t=parseInt(n._pointMarker.y-5)):h=!1,h&&0==n.showToolTips);e=ae.jqx._ptrnd(e),t=ae.jqx._ptrnd(t),n._ttEl;if(0!=l.showToolTips&&0!=d.showToolTips){n._ttEl||(n._ttEl={}),n._ttEl.sidx=s,n._ttEl.gidx=i,n._ttEl.iidx=r;for(var u=0,p=0;p<n.seriesGroups.length;p++)for(var m=0;m<n.seriesGroups[p].series.length;m++)u++;if(n.showToolTipsOnAllSeries&&!n._isPieGroup(i)&&1<u)n._showMultiSeriesToolTip(e,t,r);else{var e=n._get([d.toolTipFormatSettings,l.toolTipFormatSettings,a.toolTipFormatSettings,n.toolTipFormatSettings]),t=n._get([d.toolTipFormatFunction,l.toolTipFormatFunction,a.toolTipFormatFunction,n.toolTipFormatFunction]),a=n._getColors(i,s,r),g=n._getDataValue(r,o.dataField,i),f=(null!=o.dataField&&""!=o.dataField||(g=r),"date"==o.type&&(g=n._castAsDate(g,(e?e.dateFormat:void 0)||o.dateFormat)),"");if(ae.isFunction(t)){var v,x={},y=0;for(v in d)0==v.indexOf("dataField")&&(x[v.substring(9,v.length).toLowerCase()]=n._getDataValue(r,d[v],i),y++);0==y?x=n._getDataValue(r,void 0,i):1==y&&(x=x[""]),f=t(x,r,d,l,g,o)}else{f=n._getFormattedValue(i,s,r,e,t);var e=this._getAxisSettings(o),t=e.toolTipFormatSettings,e=e.toolTipFormatFunction,w=(e||t||"date"!=o.type||(e=this._getDefaultDTFormatFn(o.baseUnit||"day")),n._formatValue(g,t,e,i,s,r));f=n._isPieGroup(i)?(g=n._getDataValue(r,d.displayText||d.dataField,i),(w=n._formatValue(g,t,e,i,s,r))+": "+f):0<(g=o.displayText||o.dataField||"").length?g+": "+w+"<br>"+f:w+"<br>"+f}n.renderer.getRect();if(h){var t=ae.jqx._ptrnd(n._pointMarker.x),e=ae.jqx._ptrnd(n._pointMarker.y),o=n.crosshairsColor||n._defaultLineColor;if(l.polar||l.spider){var g=this._getPolarAxisCoords(i,this._plotRect);if(ae.jqx._ptdist(t,e,g.x,g.y)>g.r)return;var w=Math.atan2(e-g.y,t-g.x),h=Math.cos(w)*g.r+g.x,w=Math.sin(w)*g.r+g.y;n._ttEl.vLine?n.renderer.attr(n._ttEl.vLine,{x1:g.x,y1:g.y,x2:h,y2:w}):n._ttEl.vLine=n.renderer.line(g.x,g.y,h,w,{stroke:o,"stroke-width":n.crosshairsLineWidth||1,"stroke-dasharray":n.crosshairsDashStyle||""})}else n._ttEl.vLine&&n._ttEl.hLine?(n.renderer.attr(n._ttEl.vLine,{x1:t,x2:t}),n.renderer.attr(n._ttEl.hLine,{y1:e,y2:e})):(n._ttEl.vLine=n.renderer.line(t,n._plotRect.y,t,n._plotRect.y+n._plotRect.height,{stroke:o,"stroke-width":n.crosshairsLineWidth||1,"stroke-dasharray":n.crosshairsDashStyle||""}),n._ttEl.hLine=n.renderer.line(n._plotRect.x,e,n._plotRect.x+n._plotRect.width,e,{stroke:o,"stroke-width":n.crosshairsLineWidth||1,"stroke-dasharray":n.crosshairsDashStyle||""}))}c||0==n.showToolTips||(g=this._get([d.toolTipClass,l.toolTipClass,n.toolTipClass,this.toThemeProperty("jqx-chart-tooltip-text",null)]),h=this._get([d.toolTipBackground,l.toolTipBackground,n.toolTipBackground,"#FFFFFF"]),w=this._get([d.toolTipLineColor,l.toolTipLineColor,n.toolTipLineColor,a.lineColor]),t=this._get([d.toolTipOpacity,l.toolTipOpacity,n.toolTipOpacity,1]),e=this.getItemCoord(i,s,r),o=0,n._pointMarker&&n._pointMarker.element&&(o=d.symbolSizeSelected,isNaN(o)&&(o=d.symbolSize),(isNaN(o)||50<o||o<0)&&(o=l.symbolSize),(isNaN(o)||50<o||o<0)&&(o=8)),n._createTooltip(e,l,f,{css:g,fill:h,stroke:w,fillOpacity:t,symbolSize:o}))}}}},_fitTooltip:function(e,t,i,s,r){var n,o={},r=2+r/2;if(t.x-i.width-7-r>e.x&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(o.left={arrowLocation:"right",x:t.x-i.width-7-r,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.x+t.width+i.width+7+r<e.x+e.width&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(o.right={arrowLocation:"left",x:t.x+t.width+r,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.y-i.height-r-7>e.y&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(o.top={arrowLocation:"bottom",x:t.x+t.width/2-i.width/2,y:t.y-i.height-r-7,width:i.width,height:i.height+7}),t.y+t.height+i.height+7+r<e.y+e.height&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(o.bottom={arrowLocation:"top",x:t.x+t.width/2-i.width/2,y:t.y+t.height+r,width:i.width,height:i.height+7}),t.width>t.height||(-1!=s.type.indexOf("stackedcolumn")||-1!=s.type.indexOf("stackedwaterfall"))&&"horizontal"!=s.orientation){if(o.left)return o.left;if(o.right)return o.right}else{if(o.top)return o.top;if(o.bottom)return o.bottom}for(n in o)if(o[n])return o[n];return{arrowLocation:""}},_createTooltip:function(e,t,i,s){var r,n,o,a=t.type,l=!1,d=this._ttEl.box;if(d||(l=!0,(d=this._ttEl.box=document.createElement("div")).style.position="absolute",d.style.cursor="default",ae(r).css({"z-index":1e7,"box-sizing":"content-box"}),ae(d).css({"z-index":1e7}),ae(document.body).append(d),(r=document.createElement("div")).id="arrowOuterDiv",r.style.width="0px",r.style.height="0px",r.style.position="absolute",ae(r).css({"z-index":1e7+1,"box-sizing":"content-box"}),(n=document.createElement("div")).id="arrowInnerDiv",n.style.width="0px",n.style.height="0px",n.style.position="absolute",(o=document.createElement("div")).id="contentDiv",o.style.position="absolute",ae(o).css({"box-sizing":"content-box",outline:"none",border:"1px solid transparent",padding:"3px","text-align":"center","vertical-align":"middle",margin:"0 0 0 0",cursor:"default"}),ae(o).addClass("jqx-rc-all"),ae(o).appendTo(ae(d)),ae(r).appendTo(ae(d)),ae(n).appendTo(ae(d)),ae(n).css({"z-index":1e7+2,"box-sizing":"content-box"})),i&&0!=i.length){o=ae(d).find("#contentDiv")[0],r=ae(d).find("#arrowOuterDiv")[0],(n=ae(d).find("#arrowInnerDiv")[0]).style.opacity=r.style.opacity=s.fillOpacity,o.style.backgroundColor=s.fill,o.style.borderColor=s.stroke,o.style.opacity=s.fillOpacity;var i="<span class='"+s.css+"'>"+i+"</span>",h=(ae(o).html(i),this._measureHtml(i,"jqx-rc-all jqx-button")),i=this._plotRect;if(!(h.width>i.width||h.height>i.height)){var c={width:h.width,height:h.height},u="",p=this._isColumnType(a),m=Math.max(e.x,i.x),g=Math.max(e.y,i.y),f=("dataPoint"==this.toolTipAlignment?(-1!=a.indexOf("pie")||-1!=a.indexOf("donut")?(a=(e.fromAngle+e.toAngle)/2,a*=Math.PI/180,y=!isNaN(e.innerRadius)&&0<e.innerRadius?(e.innerRadius+e.outerRadius)/2:.75*e.outerRadius,m=e.x=e.center.x+Math.cos(a)*y,g=e.y=e.center.y-Math.sin(a)*y,e.width=e.height=1):p&&(t.polar||t.spider)&&(e.width=e.height=1),""!=(a=this._fitTooltip(this._plotRect,e,c,t,s.symbolSize)).arrowLocation&&(u=a.arrowLocation,m=a.x,g=a.y,c.width=a.width,c.height=a.height)):u="","top"==u||"bottom"==u?(c.height+=7,m-=3.5,"bottom"==u&&(g-=7)):"left"!=u&&"right"!=u||(c.width+=7,g-=3.5,"right"==u&&(m-=7)),m+c.width>i.x+i.width&&(u="",m=i.x+i.width-c.width),g+c.height>i.y+i.height&&(u="",g=i.y+i.height-c.height),{x:0,y:0}),v=(ae(o).css({width:h.width,height:h.height,left:0,top:0}),r.style["margin-top"]=r.style["margin-left"]=0,n.style["margin-top"]=n.style["margin-left"]=0,o.style["margin-top"]=o.style["margin-left"]=0,"7px solid"),x="7px solid transparent";switch(u){case"left":f={x:0,y:(h.height-7)/2},o.style["margin-left"]="7px",r.style["margin-left"]="0px",r.style["margin-top"]=f.y+"px",r.style["border-left"]="",r.style["border-right"]=v+" "+s.stroke,r.style["border-top"]=x,r.style["border-bottom"]=x,n.style["margin-left"]="1px",n.style["margin-top"]=f.y+"px",n.style["border-left"]="",n.style["border-right"]=v+" "+s.fill,n.style["border-top"]=x,n.style["border-bottom"]=x;break;case"right":f={x:c.width-7,y:(h.height-7)/2},r.style["margin-left"]=f.x+"px",r.style["margin-top"]=f.y+"px",r.style["border-left"]=v+" "+s.stroke,r.style["border-right"]="",r.style["border-top"]=x,r.style["border-bottom"]=x,n.style["margin-left"]=f.x-1+"px",n.style["margin-top"]=f.y+"px",n.style["border-left"]=v+" "+s.fill,n.style["border-right"]="",n.style["border-top"]=x,n.style["border-bottom"]=x;break;case"top":f={x:c.width/2-3.5,y:0},o.style["margin-top"]={x:0,y:7}.y+"px",r.style["margin-left"]=f.x+"px",r.style["border-top"]="",r.style["border-bottom"]=v+" "+s.stroke,r.style["border-left"]=x,r.style["border-right"]=x,n.style["margin-left"]=f.x+"px",n.style["margin-top"]="1px",n.style["border-top"]="",n.style["border-bottom"]=v+" "+s.fill,n.style["border-left"]=x,n.style["border-right"]=x;break;case"bottom":f={x:c.width/2-3.5,y:c.height-7},r.style["margin-left"]=f.x+"px",r.style["margin-top"]=f.y+"px",r.style["border-top"]=v+" "+s.stroke,r.style["border-bottom"]="",r.style["border-left"]=x,r.style["border-right"]=x,n.style["margin-left"]=f.x+"px",n.style["margin-top"]=f.y-1+"px",n.style["border-top"]=v+" "+s.fill,n.style["border-bottom"]="",n.style["border-left"]=x,n.style["border-right"]=x}""==u?(ae(r).hide(),ae(n).hide()):(ae(r).show(),ae(n).show()),ae(d).css({width:c.width+"px",height:c.height+"px"});var y=this.host.coord();l&&(ae(d).fadeOut(0,0),d.style.left=m+y.left+"px",d.style.top=g+y.top+"px"),ae(d).clearQueue(),ae(d).animate({left:m+y.left,top:g+y.top,opacity:1},this.toolTipMoveDuration,"easeInOutCirc"),ae(d).fadeTo(400,1)}}else ae(d).fadeTo(0,0)},_measureHtml:function(e,t){var i=this._measureDiv,t=(i||(this._measureDiv=i=document.createElement("div"),i.style.position="absolute",i.style.cursor="default",i.style.overflow="hidden",i.style.display="none",ae(i).addClass(t),this.host.append(i)),ae(i).html(e),{width:ae(i).width()+2,height:ae(i).height()+2});return ae.jqx.browser&&ae.jqx.browser.mozilla&&(t.height+=3),t},_hideToolTip:function(e){this._ttEl&&(this._ttEl.box&&(0==e?ae(this._ttEl.box).hide():ae(this._ttEl.box).fadeOut()),this._hideCrosshairs(),this._ttEl.gidx=void 0)},_hideCrosshairs:function(){this._ttEl&&(this._ttEl.vLine&&(this.renderer.removeElement(this._ttEl.vLine),this._ttEl.vLine=void 0),this._ttEl.hLine&&(this.renderer.removeElement(this._ttEl.hLine),this._ttEl.hLine=void 0))},_get:function(e){return ae.jqx.getByPriority(e)},_getAxisSettings:function(e){if(!e)return{};var t=this,i=e.gridLines||{},i={visible:this._get([i.visible,e.showGridLines,!0]),color:t._get([i.color,e.gridLinesColor,t._defaultLineColor]),unitInterval:t._get([i.unitInterval,i.interval,e.gridLinesInterval]),step:t._get([i.step,e.gridLinesStep]),dashStyle:t._get([i.dashStyle,e.gridLinesDashStyle]),width:t._get([i.lineWidth,1]),offsets:[],alternatingBackgroundColor:e.alternatingBackgroundColor,alternatingBackgroundColor2:e.alternatingBackgroundColor2,alternatingBackgroundOpacity:e.alternatingBackgroundOpacity},s=e.tickMarks||{},s={visible:this._get([s.visible,e.showTickMarks,!0]),color:t._get([s.color,e.tickMarksColor,t._defaultLineColor]),unitInterval:t._get([s.unitInterval,s.interval,e.tickMarksInterval]),step:t._get([s.step,e.tickMarksStep]),dashStyle:t._get([s.dashStyle,e.tickMarksDashStyle]),width:t._get([s.lineWidth,1]),size:t._get([s.size,4]),offsets:[]},r=e.title||{},r={visible:t._get([r.visible,!0]),text:t._get([e.description,r.text]),style:t._get([e.descriptionClass,r.class,t.toThemeProperty("jqx-chart-axis-description",null)]),halign:t._get([e.horizontalDescriptionAlignment,r.horizontalAlignment,"center"]),valign:t._get([e.verticalDescriptionAlignment,r.verticalAlignment,"center"]),angle:0,rotationPoint:t._get([r.rotationPoint,"centercenter"]),offset:t._get([r.offset,{x:0,y:0}])},n=e.line||{},t={visible:t._get([n.visible,!0]),color:t._get([n.color,i.color,t._defaultLineColor]),dashStyle:t._get([n.dashStyle,i.dashStyle,""]),width:t._get([n.lineWidth,1]),angle:t._get([n.angle,NaN])},n={left:(n=e.padding||{}).left||0,right:n.right||0,top:n.top||0,bottom:n.bottom||0},o=this._getAxisLabelsSettings(e);return{visible:this._get([e.visible,e.showValueAxis,e.showXAxis,e.showCategoryAxis,!0]),customDraw:this._get([e.customDraw,!1]),gridLines:i,tickMarks:s,line:t,title:r,labels:o,padding:n,toolTipFormatFunction:this._get([e.toolTipFormatFunction,e.formatFunction,o.formatFunction]),toolTipFormatSettings:this._get([e.toolTipFormatSettings,e.formatSettings,o.formatSettings])}},_getAxisLabelsSettings:function(e){var t=this,i=e.labels||{};return{visible:t._get([e.showLabels,i.visible,!0]),unitInterval:t._get([i.unitInterval,i.interval,e.labelsInterval]),step:t._get([i.step,e.labelsStep]),angle:t._get([e.textRotationAngle,i.angle,0]),style:t._get([e.class,i.class,t.toThemeProperty("jqx-chart-axis-text",null)]),halign:t._get([e.horizontalTextAlignment,i.horizontalAlignment,"center"]),valign:t._get([e.verticalTextAlignment,i.verticalAlignment,"center"]),textRotationPoint:t._get([e.textRotationPoint,i.rotationPoint,"auto"]),textOffset:t._get([e.textOffset,i.offset,{x:0,y:0}]),autoRotate:t._get([e.labelsAutoRotate,i.autoRotate,!1]),formatSettings:t._get([e.formatSettings,i.formatSettings,void 0]),formatFunction:t._get([e.formatFunction,i.formatFunction,void 0])}},_getLabelsSettings:function(e,t,i,s){for(var r=this.seriesGroups[e],n=r.series[t],o=isNaN(i)?void 0:this._getDataValue(i,n.dataField,e),a=s||["Visible","Offset","Angle","HorizontalAlignment","VerticalAlignment","Class","BackgroundColor","BorderColor","BorderOpacity","Padding","Opacity","BackgroundOpacity","LinesAngles","LinesEnabled","AutoRotate","Radius"],l={},d=0;d<a.length;d++){var h=a[d],c="labels"+h,u="label"+h,h=h.substring(0,1).toLowerCase()+h.substring(1),p=void 0;r.labels&&"object"==typeof r.labels&&(p=r.labels[h]),n.labels&&"object"==typeof n.labels&&null!=n.labels[h]&&(p=n.labels[h]),p=this._get([n[c],n[u],p,r[c],r[u]]),ae.isFunction(p)?l[h]=p(o,i,n,r):l[h]=p}l.class=l.class||this.toThemeProperty("jqx-chart-label-text",null),l.visible=this._get([l.visible,n.showLabels,r.showLabels,null!=n.labels||void 0,null!=r.labels||void 0]);t=l.padding||1;return l.padding={left:this._get([t.left,isNaN(t)?1:t]),right:this._get([t.right,isNaN(t)?1:t]),top:this._get([t.top,isNaN(t)?1:t]),bottom:this._get([t.bottom,isNaN(t)?1:t])},l},_showLabel:function(e,t,i,s,r,n,o,a,l,d,h){this.seriesGroups[e].series[t];var c={width:0,height:0};if(!isNaN(i)){var u=this._getLabelsSettings(e,t,i);if(!u.visible)return o?c:void 0;if(s.width<0||s.height<0)return o?c:void 0;var p=u.angle,d=(isNaN(d)||(p=d),u.offset||{}),d={x:d.x,y:d.y},e=(isNaN(d.x)&&(d.x=0),isNaN(d.y)&&(d.y=0),r=r||u.horizontalAlignment||"center",n=n||u.verticalAlignment||"center",this._getFormattedValue(e,t,i,void 0,void 0,!0)),t=s.width,i=s.height;if(1==a&&"center"!=r&&(r="right"==r?"left":"right"),1==l&&"center"!=n&&"middle"!=n&&(n="top"==n?"bottom":"top",d.y*=-1),c=this.renderer.measureText(e,p,{class:u.class}),o)return c;a=0,l=0,o=(0<t&&(""==r||"center"==r?a+=(t-c.width)/2:"right"==r&&(a+=t-c.width)),0<i&&(""==n||"center"==n?l+=(i-c.height)/2:"bottom"==n&&(l+=i-c.height)),a+=s.x+d.x,l+=s.y+d.y,this._plotRect);a<=o.x&&(a=o.x+2),l<=o.y&&(l=o.y+2);var m,r=Math.max(c.width,1),t=Math.max(c.height,1),n=(l+t>=o.y+o.height&&(l=o.y+o.height-t-2),a+r>=o.x+o.width&&(a=o.x+o.width-r-2),u.backgroundColor),i=u.borderColor,d=u.padding,t=((n||i)&&(m=this.renderer.beginGroup(),s=this.renderer.rect(a-d.left,l-d.top,c.width+d.left+d.right,c.height+d.bottom+d.bottom,{fill:n||"transparent","fill-opacity":u.backgroundOpacity||1,stroke:i||"transparent","stroke-opacity":u.borderOpacity,"stroke-width":1})),this.renderer.text(e,a,l,c.width,c.height,p,{class:u.class,opacity:u.opacity||1},!1,"center","center"));return h&&(h.x=a-d.left,h.y=l-d.top,h.width=c.width+d.left+d.right,h.height=c.height+d.bottom+d.bottom),this._isVML&&(this.renderer.removeElement(t),this.renderer.getContainer()[0].appendChild(t)),m&&this.renderer.endGroup(),m||t}},_getAnimProps:function(e,t){var e=this.seriesGroups[e],t=isNaN(t)?void 0:e.series[t],i=1==this.enableAnimations,s=(e.enableAnimations&&(i=1==e.enableAnimations),t&&t.enableAnimations&&(i=1==t.enableAnimations),this.animationDuration),e=(isNaN(s)&&(s=1e3),e.animationDuration);return isNaN(e)||(s=e),t&&(e=t.animationDuration,isNaN(e)||(s=e)),{enabled:i,duration:s=5e3<s?1e3:s}},_isColorTransition:function(e,t,i,s){if(s-1<i.xoffsets.first)return!1;i=this._getColors(e,t,s,this._getGroupGradientType(e)),t=this._getColors(e,t,s-1,this._getGroupGradientType(e));return i.fillColor!=t.fillColor},_renderLineSeries:function(e,t){var i=this.seriesGroups[e];if(i.series&&0!=i.series.length){var s=-1!=i.type.indexOf("area"),r=-1!=i.type.indexOf("stacked"),z=r&&-1!=i.type.indexOf("100"),n=-1!=i.type.indexOf("spline"),o=-1!=i.type.indexOf("step"),a=-1!=i.type.indexOf("range"),l=1==i.polar||1==i.spider;if(!(o=l?!1:o)||!n){this._getDataLen(e);t.width;var d="horizontal"==i.orientation,E=1==this._getXAxis(e).flip,h=t,c=(d&&(h={x:t.y,y:t.x,width:t.height,height:t.width}),this._calcGroupOffsets(e,h));if(c&&0!=c.xoffsets.length){this._linesRenderInfo||(this._linesRenderInfo={}),this._linesRenderInfo[e]={};for(var u=i.series.length-1;0<=u;u--){var p=this._getSerieSettings(e,u),m={groupIndex:e,rect:h,serieIndex:u,swapXY:d,isArea:s,isSpline:n,isRange:a,isPolar:l,settings:p,segments:[],pointsLength:0};if(this._isSerieVisible(e,u)){var g=i.series[u];if(!g.customDraw){var f=ae.isFunction(g.colorFunction),v=D=c.xoffsets.first,L=this._getColors(e,u,NaN,this._getGroupGradientType(e));do{var x=[],N=[],O=[],y=0,w=0,b=NaN,_=NaN,q=NaN;if(!(c.xoffsets.length<1)){for(var j,T,C,R,S=this._getAnimProps(e,u),F=S.enabled&&!this._isToggleRefresh&&c.xoffsets.length<1e4&&1!=this._isVML?S.duration:0,S=D,W=!1,k=(this._getColors(e,u,D,this._getGroupGradientType(e)),void 0),I=D;I<=c.xoffsets.last;I++){var D=I,P=c.xoffsets.data[I],A=c.xoffsets.xvalues[I];if(!isNaN(P)&&(y=P=Math.max(P,1),w=c.offsets[u][I].to,!(!f&&k&&this.enableSampling&&ae.jqx._ptdist(k.x,k.y,y,w)<1))){var k={x:y,y:w},M=c.offsets[u][I].from;if(isNaN(w)||isNaN(M)){if("connect"==g.emptyPointsDisplay)continue;if("zero"!=g.emptyPointsDisplay){W=!0;break}isNaN(w)&&(w=c.baseOffset),isNaN(M)&&(M=c.baseOffset)}if(f&&this._isColorTransition(e,u,c,D)&&1<x.length){D--;break}var H=this._elementRenderInfo;H&&H.length>e&&H[e].series.length>u&&(H=H[e].series[u][A],q=ae.jqx._ptrnd(H?H.to:void 0),A=ae.jqx._ptrnd(h.x+(H?H.xoffset:void 0)),O.push(d?{y:A,x:q,index:I}:{x:A,y:q,index:I})),v=I,p.stroke<2&&(w-h.y<=1&&(w=h.y+1),M-h.y<=1&&(M=h.y+1),h.y+h.height-w<=1&&(w=h.y+h.height-1),h.y+h.height-M<=1&&(M=h.y+h.height-1)),!s&&z&&((w=w<=h.y?h.y+1:w)>=h.y+h.height&&(w=h.y+h.height-1),(M=M<=h.y?h.y+1:M)>=h.y+h.height&&(M=h.y+h.height-1)),y=Math.max(P,1)+h.x,1==i.skipOverlappingPoints&&!isNaN(b)&&Math.abs(b-y)<=1||(!o||isNaN(b)||isNaN(_)||_!=w&&x.push(d?{y:y,x:ae.jqx._ptrnd(_)}:{x:y,y:ae.jqx._ptrnd(_)}),x.push(d?{y:y,x:ae.jqx._ptrnd(w),index:I}:{x:y,y:ae.jqx._ptrnd(w),index:I}),N.push(d?{y:y,x:ae.jqx._ptrnd(M),index:I}:{x:y,y:ae.jqx._ptrnd(M),index:I}),b=y,_=w,isNaN(q)&&(q=w))}}0==x.length?D++:(j=x[x.length-1].index,f&&(L=this._getColors(e,u,j,this._getGroupGradientType(e))),S=h.x+c.xoffsets.data[S],T=h.x+c.xoffsets.data[v],s&&1==i.alignEndPointsWithIntervals&&(S>h.x&&(S=h.x),T<h.x+h.width&&(T=h.x+h.width),E&&(C=S,S=T,T=C)),T=ae.jqx._ptrnd(T),S=ae.jqx._ptrnd(S),C=c.baseOffset,q=ae.jqx._ptrnd(q),R=ae.jqx._ptrnd(w)||C,a&&(x=x.concat(N.reverse())),m.pointsLength+=x.length,m.segments.push({lastItemIndex:j,colorSettings:L,pointsArray:x,pointsStart:O,left:S,right:T,pyStart:q,pyEnd:R,yBase:C,labelElements:[],symbolElements:[]}))}}while(D<c.xoffsets.first+c.xoffsets.length-1||W);this._linesRenderInfo[e][u]=m}}else this._linesRenderInfo[e][u]=m}var V=this._linesRenderInfo[e],B=[];for(I in V)B.push(V[I]);B=B.sort(function(e,t){return e.serieIndex-t.serieIndex}),s&&r&&B.reverse();for(I=0;I<B.length;I++){var m=B[I],G=(this._animateLine(m,0==F?1:0),this);this._enqueueAnimation("series",void 0,void 0,F,function(e,t,i){G._animateLine(t,i)},m)}}}}},_animateLine:function(e,t){for(var i=e.settings,s=e.groupIndex,r=e.serieIndex,n=this.seriesGroups[s],o=n.series[r],a=this._getSymbol(s,r),l=this._getLabelsSettings(s,r,NaN,["Visible"]).visible,d=!0,h=(!e.isPolar||isNaN(n.endAngle)||360==Math.round(Math.abs((isNaN(n.startAngle)?0:n.startAngle)-n.endAngle))||(d=!1),0==o.endPointsConnect&&(d=!1),0),c=0;c<e.segments.length;c++){var u=e.segments[c],p=this._calculateLine(s,e.pointsLength,h,u.pointsArray,u.pointsStart,u.yBase,t,e.isArea,e.swapXY);if(h+=u.pointsArray.length,""!=p){var m=p.split(" "),g=(m.length,""!=(g=p)?this._buildLineCmd(p,e.isRange,u.left,u.right,u.pyStart,u.pyEnd,u.yBase,e.isArea,e.isPolar,d,e.isSpline,e.swapXY):"M 0 0"),p=u.colorSettings;if(u.pathElement?this.renderer.attr(u.pathElement,{d:g}):(u.pathElement=this.renderer.path(g,{"stroke-width":i.stroke,stroke:p.lineColor,"stroke-opacity":i.opacity,"fill-opacity":i.opacity,"stroke-dasharray":i.dashStyle,fill:e.isArea?p.fillColor:"none"}),this._installHandlers(u.pathElement,"path",s,r,u.lastItemIndex)),u.labelElements){for(var f=0;f<u.labelElements.length;f++)this.renderer.removeElement(u.labelElements[f]);u.labelElements=[]}if(u.symbolElements){for(f=0;f<u.symbolElements.length;f++)this.renderer.removeElement(u.symbolElements[f]);u.symbolElements=[]}if(u.pointsArray.length==m.length&&("none"!=a||l))for(var v=o.symbolSize,x=this._plotRect,f=0;f<m.length;f++){var y,w,b=m[f].split(",");(b={x:parseFloat(b[0]),y:parseFloat(b[1])}).x<x.x||b.x>x.x+x.width||b.y<x.y||b.y>x.y+x.height||("none"!=a&&(y=this._getColors(s,r,u.pointsArray[f].index,this._getGroupGradientType(s)),y=this._drawSymbol(a,b.x,b.y,y.fillColorSymbol,i.opacity,y.lineColorSymbol,i.opacity,i.strokeSymbol,void 0,v),u.symbolElements.push(y)),l&&(y=(0<f?m[f-1]:m[f]).split(","),y={x:parseFloat(y[0]),y:parseFloat(y[1])},w=(f<m.length-1?m[f+1]:m[f]).split(","),w={x:parseFloat(w[0]),y:parseFloat(w[1])},(b=this._adjustLineLabelPosition(s,r,u.pointsArray[f].index,b,y,w))&&(w=this._showLabel(s,r,u.pointsArray[f].index,{x:b.x,y:b.y,width:0,height:0}),u.labelElements.push(w))))}if(1==t&&"none"!=a)for(f=0;f<u.symbolElements.length;f++)isNaN(u.pointsArray[f].index)||this._installHandlers(u.symbolElements[f],"symbol",s,r,u.pointsArray[f].index)}}},_adjustLineLabelPosition:function(e,t,i,s,r,n){e=this._showLabel(e,t,i,{width:0,height:0},"","",!0);if(e)return t={x:s.x-e.width/2,y:0},t.y=s.y-1.5*e.height,t},_calculateLine:function(e,t,i,s,r,n,o,a,l){for(var d,h=this.seriesGroups[e],c=(1!=h.polar&&1!=h.spider||(d=this._getPolarAxisCoords(e,this._plotRect)),""),u=s.length,p=(a||0!=r.length||(u=t*o-i),0);p<u+1&&p<s.length;p++){0<p&&(c+=" ");var m=s[p].y,g=s[p].x,f=a?n:m,v=g;r&&r.length>p&&(f=r[p].y,v=r[p].x,(isNaN(f)||isNaN(v))&&(f=m,v=g)),u<=s.length&&0<p&&p==u&&(v=s[p-1].x,f=s[p-1].y),m=l?(g=ae.jqx._ptrnd((g-f)*(a?o:1)+f),ae.jqx._ptrnd(m)):(g=ae.jqx._ptrnd((g-v)*o+v),ae.jqx._ptrnd((m-f)*o+f)),d&&(g=(v=this._toPolarCoord(d,this._plotRect,g,m)).x,m=v.y),c+=g+","+m}return c},_buildLineCmd:function(e,t,i,s,r,n,o,a,l,d,h,c){var u=e,i=c?o+","+i:i+","+o,e=(!a||l||t||(u=i+" "+e+" "+(c?o+","+s:s+","+o)),(u=h?this._getBezierPoints(u):u).split(" "));if(0==e.length)return"";if(1==e.length)return c=e[0].split(","),"M "+e[0]+" L"+(parseFloat(c[0])+1)+","+(parseFloat(c[1])+1);s=e[0].replace("M","");return a&&!l?u=t?"M "+s+" L "+s+(h?"":" L "+s+" ")+u:"M "+i+" L "+s+" "+u:h||(u="M "+s+" L "+s+" "+u),(l&&d||t)&&(u+=" Z"),u},_getSerieSettings:function(e,t){var e=this.seriesGroups[e],i=-1!=e.type.indexOf("area"),s=-1!=e.type.indexOf("line"),t=e.series[t],r=t.dashStyle||e.dashStyle||"",n=t.opacity||e.opacity,o=((isNaN(n)||n<0||1<n)&&(n=1),t.lineWidth),e=(("auto"==(o=isNaN(o)&&"auto"!=o?e.lineWidth:o)||isNaN(o)||o<0||15<o)&&(o=i?2:s?3:1),t.lineWidthSymbol);return{stroke:o,strokeSymbol:e=isNaN(e)?1:e,opacity:n,dashStyle:r}},_getColors:function(e,t,i,s,r){var n=this.seriesGroups[e],o=n.series[t],o=this._get([o.useGradientColors,n.useGradientColors,n.useGradient,!0]),a=this._getSeriesColors(e,t,i),l=(a.fillColor||(a.fillColor=v,a.fillColorSelected=ae.jqx.adjustColor(v,1.1),a.fillColorAlt=ae.jqx.adjustColor(v,4),a.fillColorAltSelected=ae.jqx.adjustColor(v,3),a.lineColor=a.symbolColor=ae.jqx.adjustColor(v,.9),a.lineColorSelected=a.symbolColorSelected=ae.jqx.adjustColor(v,.9)),[[0,1.4],[100,1]]),d=[[0,1],[25,1.1],[50,1.4],[100,1]],h=NaN;if(isNaN(r)||(h=2==r?l:d),o){var c,u,p={};for(c in a)p[c]=a[c];if(a=p,"verticalLinearGradient"==s||"horizontalLinearGradient"==s){var m,g="verticalLinearGradient"==s?h||l:h||d,f=["fillColor","fillColorSelected","fillColorAlt","fillColorAltSelected"];for(m in f){var v=a[f[m]];v&&(a[f[m]]=this.renderer._toLinearGradient(v,"verticalLinearGradient"==s,g))}}else"radialGradient"==s&&(h=l,("pie"==n.type||"donut"==n.type||n.polar)&&null!=i&&this._renderData[e]&&this._renderData[e].offsets[t]&&(u=this._renderData[e].offsets[t][i],h=[[0,1.3],[90,1.2],[100,1]]),a.fillColor=this.renderer._toRadialGradient(a.fillColor,h,u),a.fillColorSelected=this.renderer._toRadialGradient(a.fillColorSelected,h,u))}return a},_installHandlers:function(i,s,r,n,o){if(!this.enableEvents)return!1;var a=this,t=this.seriesGroups[r],l=this.seriesGroups[r].series[n],d=-1!=t.type.indexOf("line")||-1!=t.type.indexOf("area");d||0==t.enableSelection||0==l.enableSelection||this.renderer.addHandler(i,"mousemove",function(e){var t,i=a._selected;i&&i.isLineType&&"click"==i.linesUnselectMode&&(i.group!=r||i.series!=n)||(i=e.pageX||e.clientX||e.screenX,e=e.pageY||e.clientY||e.screenY,i-=(t=a.host.offset()).left,e-=t.top,a._mouseX==i&&a._mouseY==e||a._ttEl&&a._ttEl.gidx==r&&a._ttEl.sidx==n&&a._ttEl.iidx==o||a._startTooltipTimer(r,n,o))}),0!=t.enableSelection&&0!=l.enableSelection&&this.renderer.addHandler(i,"mouseover",function(e){var t=a._selected;t&&t.isLineType&&"click"==t.linesUnselectMode&&(t.group!=r||t.series!=n)||a._select(i,s,r,n,o,o)}),this.renderer.addHandler(i,"click",function(e){clearTimeout(a._hostClickTimer),a._lastClickTs=(new Date).valueOf(),d&&"symbol"!=s&&"pointMarker"!=s||(a._isColumnType(t.type)&&a._unselect(),isNaN(o)||(e.stopImmediatePropagation(),a._raiseItemEvent("click",t,l,o)))})},_getHorizontalOffset:function(e,t,i,s){var r=this._plotRect;if(0==this._getDataLen(e))return{index:void 0,value:i};var n=this._calcGroupOffsets(e,this._plotRect);if(0==n.xoffsets.length)return{index:void 0,value:void 0};for(var o,a,l,d,h,c=i,u=s,p=this.seriesGroups[e],m=((p.polar||p.spider)&&(o=this._getPolarAxisCoords(e,r)),this._getXAxis(e).flip,n.xoffsets.first);m<=n.xoffsets.last;m++){var g,f=n.xoffsets.data[m],v=n.offsets[t][m].to,x=0;x=o?(f=(g=this._toPolarCoord(o,r,f+r.x,v)).x,v=g.y,ae.jqx._ptdist(c,u,f,v)):"horizontal"==p.orientation?(g=v,v=f+=r.y,ae.jqx._ptdist(c,u,f=g,v)):(f+=r.x,Math.abs(c-f)),(isNaN(a)||x<a)&&(a=x,l=m,d=f,h=v)}return{index:l,value:n.xoffsets.data[l],polarAxisCoords:o,x:d,y:h}},onmousemove:function(e,t){if((this._mouseX!=e||this._mouseY!=t)&&(this._mouseX=e,this._mouseY=t,this._selected)){var i=this._selected.group,s=this._selected.series,r=this.seriesGroups[i],n=r.series[s],o=this._plotRect;if(this.renderer&&((o=this.renderer.getRect()).x+=5,o.y+=5,o.width-=10,o.height-=10),e<o.x||e>o.x+o.width||t<o.y||t>o.y+o.height)return this._hideToolTip(),void this._unselect();var a="horizontal"==r.orientation,o=this._plotRect;if(-1!=r.type.indexOf("line")||-1!=r.type.indexOf("area")){var l=this._getHorizontalOffset(i,this._selected.series,e,t),d=l.index;if(null!=d){if(this._selected.item!=d){for(var h=this._linesRenderInfo[i][s].segments,c=0;d>h[c].lastItemIndex;)if(++c>=h.length)return;var u=h[c].pathElement,p=h[c].lastItemIndex;this._unselect(!1),this._select(u,"path",i,s,d,p)}var u=this._getSymbol(this._selected.group,this._selected.series),p=("none"==u&&(u="circle"),this._calcGroupOffsets(i,o)),m=p.offsets[this._selected.series][d].to,g=m,p=(-1!=r.type.indexOf("range")&&(g=p.offsets[this._selected.series][d].from),a?e:t);t=!isNaN(g)&&Math.abs(p-g)<Math.abs(p-m)?g:m,isNaN(t)||(e=l.value,a?(p=e,e=t,t=p+o.y):e+=o.x,l.polarAxisCoords&&(e=l.x,t=l.y),t=ae.jqx._ptrnd(t),e=ae.jqx._ptrnd(e),this._pointMarker&&this._pointMarker.element&&(this.renderer.removeElement(this._pointMarker.element),this._pointMarker.element=void 0),isNaN(e)||isNaN(t)||(g=this._getSeriesColors(i,s,d),m=this._getSerieSettings(i,s),a=n.symbolSizeSelected,isNaN(a)&&(a=n.symbolSize),(isNaN(a)||50<a||a<0)&&(a=r.symbolSize),(isNaN(a)||50<a||a<0)&&(a=8),(this.showToolTips||this.enableCrosshairs)&&(this._pointMarker={type:u,x:e,y:t,gidx:i,sidx:s,iidx:d},this._pointMarker.element=this._drawSymbol(u,e,t,g.fillColorSymbolSelected,m.opacity,g.lineColorSymbolSelected,m.opacity,m.strokeSymbol,m.dashStyle,a),this._installHandlers(this._pointMarker.element,"pointMarker",i,s,d)),this._startTooltipTimer(i,this._selected.series,d)))}}}},_drawSymbol:function(e,t,i,s,r,n,o,a,l,d){var h=d||6,c=h/2;switch(e){case"none":return;case"circle":p=this.renderer.circle(t,i,h/2);break;case"square":p=this.renderer.rect(t-(c=(h-=1)/2),i-c,h,h);break;case"diamond":var u="M "+(t-c)+","+i+" L"+t+","+(i-c)+" L"+(t+c)+","+i+" L"+t+","+(i+c)+" Z",p=this.renderer.path(u);break;case"triangle_up":case"triangle":u="M "+(t-c)+","+(i+c)+" L "+(t+c)+","+(i+c)+" L "+t+","+(i-c)+" Z";p=this.renderer.path(u);break;case"triangle_down":u="M "+(t-c)+","+(i-c)+" L "+t+","+(i+c)+" L "+(t+c)+","+(i-c)+" Z";p=this.renderer.path(u);break;case"triangle_left":u="M "+(t-c)+","+i+" L "+(t+c)+","+(i+c)+" L "+(t+c)+","+(i-c)+" Z";p=this.renderer.path(u);break;case"triangle_right":u="M "+(t-c)+","+(i-c)+" L "+(t-c)+","+(i+c)+" L "+(t+c)+","+i+" Z";p=this.renderer.path(u);break;default:p=this.renderer.circle(t,i,h)}return this.renderer.attr(p,{fill:s,"fill-opacity":r,stroke:n,"stroke-width":a,"stroke-opacity":o,"stroke-dasharray":l||""}),"circle"!=e&&(this.renderer.attr(p,{r:h/2}),"square"!=e&&this.renderer.attr(p,{x:t,y:i})),p},_getSymbol:function(e,t){var i,s=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"],e=this.seriesGroups[e],r=e.series[t];return"default"==(i=null==(i=null!=r.symbolType?r.symbolType:i)?e.symbolType:i)?s[t%s.length]:null!=i?i:"none"},_startTooltipTimer:function(t,i,s,r,n,e,o){this._cancelTooltipTimer();var a=this,l=(a.seriesGroups[t],this.toolTipShowDelay||this.toolTipDelay);(isNaN(l)||1e4<l||l<0)&&(l=500),(this._ttEl||1==this.enableCrosshairs&&0==this.showToolTips)&&(l=0),isNaN(e)||(l=e),clearTimeout(this._tttimerHide),isNaN(r)&&(r=a._mouseX),isNaN(n)&&(n=a._mouseY-3),0==l&&a._showToolTip(r,n,t,i,s),this._tttimer=setTimeout(function(){0!=l&&a._showToolTip(r,n,t,i,s);var e=a.toolTipHideDelay;isNaN(o)||(e=o),isNaN(e)&&(e=4e3),a._tttimerHide=setTimeout(function(){a._hideToolTip(),a._unselect()},e)},l)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(e){var t=this.seriesGroups[e];return-1!=t.type.indexOf("area")?"horizontal"==t.orientation?"horizontalLinearGradient":"verticalLinearGradient":this._isColumnType(t.type)||-1!=t.type.indexOf("candle")?t.polar?"radialGradient":"horizontal"==t.orientation?"verticalLinearGradient":"horizontalLinearGradient":-1!=t.type.indexOf("scatter")||-1!=t.type.indexOf("bubble")||this._isPieGroup(e)?"radialGradient":void 0},_select:function(e,t,i,s,r,n){if(this._selected){if(this._selected.item==r&&this._selected.series==s&&this._selected.group==i)return;this._unselect()}var o,a,l=this.seriesGroups[i],d=l.series[s];0!=l.enableSelection&&0!=d.enableSelection&&(o=-1!=l.type.indexOf("line")&&-1==l.type.indexOf("area"),this._selected={element:e,type:t,group:i,series:s,item:r,iidxBase:n,isLineType:o,linesUnselectMode:d.linesUnselectMode||l.linesUnselectMode},a=(n=this._getColors(i,s,n||r,this._getGroupGradientType(i))).fillColorSelected,o&&(a="none"),o=this._getSerieSettings(i,s),i="symbol"==t?n.lineColorSymbolSelected:n.lineColorSelected,a="symbol"==t?n.fillColorSymbolSelected:a,s="symbol"==t?1:o.stroke,this.renderer.getAttr(e,"fill")==n.fillColorAlt&&(a=n.fillColorAltSelected),this.renderer.attr(e,{stroke:i,fill:a,"stroke-width":s}),-1==l.type.indexOf("pie")&&-1==l.type.indexOf("donut")||this._applyPieSelect(),this._raiseItemEvent("mouseover",l,d,r))},_applyPieSelect:function(){var e,t,r=this,n=(r._createAnimationGroup("animPieSlice"),this._selected);!n||(e=this.getItemCoord(n.group,n.series,n.item))&&(t=this._getRenderInfo(n.group,n.series,n.item),this._enqueueAnimation("animPieSlice",void 0,void 0,300,function(e,t,i){var s=t.coord,i=s.selectedRadiusChange*i,s=r.renderer.pieSlicePath(s.center.x,s.center.y,0==s.innerRadius?0:s.innerRadius+i,s.outerRadius+i,s.fromAngle,s.toAngle,s.centerOffset);r.renderer.attr(t.element.element,{d:s}),r._showPieLabel(n.group,n.series,n.item,void 0,i)},{element:t,coord:e}),r._startAnimation("animPieSlice"))},_applyPieUnselect:function(){this._stopAnimations();var e,t=this._selected;!t||(e=this.getItemCoord(t.group,t.series,t.item))&&e.center&&(e=this.renderer.pieSlicePath(e.center.x,e.center.y,e.innerRadius,e.outerRadius,e.fromAngle,e.toAngle,e.centerOffset),this.renderer.attr(t.element,{d:e}),this._showPieLabel(t.group,t.series,t.item,void 0,0))},_unselect:function(){var e,t,i,s,r,n,o,a,l,d=this;d._selected&&(o=d._selected.group,l=d._selected.series,e=d._selected.item,r=d._selected.iidxBase,t=d._selected.type,s=(i=d.seriesGroups[o]).series[l],n=-1!=i.type.indexOf("line")&&-1==i.type.indexOf("area"),a=(r=d._getColors(o,l,r||e,d._getGroupGradientType(o))).fillColor,n&&(a="none"),n=d._getSerieSettings(o,l),o="symbol"==t?r.lineColorSymbol:r.lineColor,a="symbol"==t?r.fillColorSymbol:a,this.renderer.getAttr(d._selected.element,"fill")==r.fillColorAltSelected&&(a=r.fillColorAlt),l="symbol"==t?1:n.stroke,d.renderer.attr(d._selected.element,{stroke:o,fill:a,"stroke-width":l}),-1==i.type.indexOf("pie")&&-1==i.type.indexOf("donut")||this._applyPieUnselect(),d._selected=void 0,isNaN(e)||d._raiseItemEvent("mouseout",i,s,e)),d._pointMarker&&(d._pointMarker.element&&(d.renderer.removeElement(d._pointMarker.element),d._pointMarker.element=void 0),d._pointMarker=void 0,d._hideCrosshairs())},_raiseItemEvent:function(e,t,i,s){for(var r=i[e]||t[e],n=0;n<this.seriesGroups.length&&this.seriesGroups[n]!=t;n++);n!=this.seriesGroups.length&&(s={event:e,seriesGroup:t,serie:i,elementIndex:s,elementValue:this._getDataValue(s,i.dataField,n)},r&&ae.isFunction(r)&&r(s),this._raiseEvent(e,s))},_raiseEvent:function(e,t){var i=new ae.Event(e);return i.owner=this,t.event=e,i.args=t,this.host.trigger(i)},_calcInterval:function(e,t,i){var s=Math.abs(t-e)/i,r=.1,n=[1,2,3,4,5,10,15,20,25,50,100],o=(s<1&&(n=[.5,.25,.125,.1],r=10),0);do{o=0,1<=s?r*=10:r/=10;for(var a=1;a<n.length&&Math.abs(n[o]*r-s)>Math.abs(n[a]*r-s);a++)o=a}while(o==n.length-1);return n[o]*r},_renderDataClone:function(){if(this._renderData&&!this._isToggleRefresh){var e=this._elementRenderInfo=[];if(!this._isSelectorRefresh)for(var t=0;t<this._renderData.length;t++){for(this._getXAxis(t).dataField;e.length<=t;)e.push({});var i=e[t],s=this._renderData[t];if(s.offsets){if(s.valueAxis)for(var r in i.valueAxis={itemOffsets:{}},s.valueAxis.itemOffsets)i.valueAxis.itemOffsets[r]=s.valueAxis.itemOffsets[r];if(s.xAxis)for(var r in i.xAxis={itemOffsets:{}},s.xAxis.itemOffsets)i.xAxis.itemOffsets[r]=s.xAxis.itemOffsets[r];i.series=[];for(var n=i.series,o=this._isPieGroup(t),a=0;a<s.offsets.length;a++){n.push({});for(var l,d=0;d<s.offsets[a].length;d++)o?(l=s.offsets[a][d],n[a][l.displayValue]={value:l.value,x:l.x,y:l.y,fromAngle:l.fromAngle,toAngle:l.toAngle}):n[a][s.xoffsets.xvalues[d]]={value:s.offsets[a][d].value,valueRadius:s.offsets[a][d].valueRadius,xoffset:s.xoffsets.data[d],from:s.offsets[a][d].from,to:s.offsets[a][d].to}}}}}},getPolarDataPointOffset:function(e,t,i){var s=this._renderData[i];if(!s)return{x:NaN,y:NaN};t=this.getValueAxisDataPointOffset(t,i),e=this.getXAxisDataPointOffset(e,i),i=this._toPolarCoord(s.polarCoords,s.xAxis.rect,e,t);return{x:i.x,y:i.y}},_getDataPointOffsetDiff:function(e,t,i,s,r,n,o){e=this._getDataPointOffset(e,i,s,r,n,o),t=this._getDataPointOffset(t,i,s,r,n,o);return Math.abs(e-t)},_getXAxisRenderData:function(e){if(!(e>=this._renderData.length)){var t=this.seriesGroups[e],i=this._renderData[e].xAxis;if(i){if(null==t.xAxis){for(var s=0;s<=e&&null!=this.seriesGroups[s].xAxis;s++);i=this._renderData[s].xAxis}return i}}},getXAxisDataPointOffset:function(e,t){var i=this.seriesGroups[t];if(isNaN(e))return NaN;var s=this._getXAxisRenderData(t);if(!s)return NaN;var r=s.data.axisStats,n=r.min.valueOf(),r=r.max.valueOf(),o=r-n;if(0==o&&(o=1),e.valueOf()>r||e.valueOf()<n)return NaN;var r=this._getXAxis(t),a="horizontal"==i.orientation?"height":"width",l="horizontal"==i.orientation?"y":"x",e=(e.valueOf()-n)/o,n=s.rect[a]-s.data.padding.left-s.data.padding.right;return(i.polar||i.spider)&&this._renderData[t].polarCoords.isClosedCircle&&(n=s.data.axisSize),this._plotRect[l]+s.data.padding.left+n*(r.flip?1-e:e)},getValueAxisDataPointOffset:function(e,t){var i=this._getValueAxis(t);if(!i)return NaN;t=this._renderData[t];if(!t)return NaN;var i=1==i.flip,s=t.logBase,r=t.scale,n=t.gbase,t=t.baseOffset;return this._getDataPointOffset(e,n,s,r,t,i)},_getDataPointOffset:function(e,t,i,s,r,n){return isNaN(e)&&(e=t),e=isNaN(i)?(e-t)*s:(ae.jqx.log(e,i)-ae.jqx.log(t,i))*s,this._isVML&&(e=Math.round(e)),e=n?r+e:r-e},_calcGroupOffsets:function(e,t){for(var i=this.seriesGroups[e];this._renderData.length<e+1;)this._renderData.push({});if(null!=this._renderData[e]&&null!=this._renderData[e].offsets)return this._renderData[e];if(this._isPieGroup(e))return this._calcPieSeriesGroupOffsets(e,t);var s=this._getValueAxis(e);if(!s||!i.series||0==i.series.length)return this._renderData[e];var r=1==s.flip,n=1==s.logarithmicScale,o=s.logarithmicScaleBase||10,a=[],l=-1!=i.type.indexOf("stacked"),d=l&&-1!=i.type.indexOf("100"),h=-1!=i.type.indexOf("range"),z=this._isColumnType(i.type),c=-1!=i.type.indexOf("waterfall"),u=this._getDataLen(e),p=i.baselineValue||s.baselineValue||0,m=(d&&(p=0),this._stats.seriesGroups[e]);if(m&&m.isValid){s=m.hasStackValueReversal;if(s&&(p=0),c&&l){if(s)return;p=m.base}(p=p>m.max?m.max:p)<m.min&&(p=m.min);var s=d||n?m.maxRange:m.max-m.min,g=m.min,f=m.max,v=t.height/(n?m.intervals:s),x=0,x=d?g*f<0?-((s/=2)+p)*v:-p*v:-(p-g)*v;r?x=t.y-x:x+=t.y+t.height;for(var E=[],L=[],y=[],w=(n&&(s=ae.jqx.log(f,o)-ae.jqx.log(p,o),l&&(s=m.intervals,p=d?0:g),m.intervals,r||(x=t.y+s/m.intervals*t.height)),x=ae.jqx._ptrnd(x),g*f<0?t.height/2:t.height),b=[],_=[],q=l&&(z||n),N=[],a=new Array(i.series.length),j=0;j<i.series.length;j++)a[j]=new Array(u);for(var T=0;T<u;T++){!c&&l&&(_=[]);for(j=0;j<i.series.length;j++){!l&&n&&(b=[]);var C=i.series[j],S=C.dataField,k=C.dataFieldFrom,O=C.dataFieldTo,I=C.radiusDataField||C.sizeDataField,D=(a[j][T]={},this._isSerieVisible(e,j));if(-1!=i.type.indexOf("candle")||-1!=i.type.indexOf("ohlc")){var R,F=["Open","Close","High","Low"];for(R in F){var W="dataField"+F[R];C[W]&&(a[j][T][F[R]]=this._getDataPointOffset(this._getDataValueAsNumber(T,C[W],e),p,n?o:NaN,v,x,r))}}else{if(l)for(;_.length<=T;)_.push(0);var P=NaN,k=(h&&(P=this._getDataValueAsNumber(T,k,e),isNaN(P)&&(P=p)),NaN),k=h?this._getDataValueAsNumber(T,O,e):this._getDataValueAsNumber(T,S,e),O=this._getDataValueAsNumber(T,I,e);if(l&&(_[T]+=D?k:0),D||(k=NaN),isNaN(k)||n&&k<=0)a[j][T]={from:void 0,to:void 0};else{l&&(q?A=p<=k?E:L:k=_[T]);var A,S=v*(k-p);if(h&&(S=v*(k-P)),l&&q&&(S=N[T]?v*k:(N[T]=!0,v*(k-p))),n){for(;b.length<=T;)b.push({p:{value:0,height:0},n:{value:0,height:0}});I=h?P:p,D=I<k?b[T].p:b[T].n;D.value+=k,d?(k=D.value/(m.psums[T]+m.nsums[T])*100,S=(ae.jqx.log(k,o)-m.minPow)*v):(S=ae.jqx.log(D.value,o)-ae.jqx.log(I,o),S*=v),S-=D.height,D.height+=S}var I=x,D=(h&&(D=0,D=n?(ae.jqx.log(P,o)-ae.jqx.log(p,o))*v:(P-p)*v,I+=r?D:-D),l&&(d&&!n&&(D=m.psums[T]-m.nsums[T],p<k?(S=m.psums[T]/D*w,0!=m.psums[T]&&(S*=k/m.psums[T])):(S=m.nsums[T]/D*w,0!=m.nsums[T]&&(S*=k/m.nsums[T]))),q&&(isNaN(A[T])&&(A[T]=I),I=A[T])),isNaN(y[T])&&(y[T]=0),y[T]),V=S=Math.abs(S);if(1<=S&&(B=this._isVML?Math.round(S):ae.jqx._ptrnd(S)-1,S=.5<Math.abs(S-B)?Math.round(S):B),D+=S-V,l||(D=0),.5<Math.abs(D)&&(0<D?(--S,--D):(S+=1,D+=1)),y[T]=D,j==i.series.length-1&&d){for(var M=0,H=0;H<j;H++)M+=Math.abs(a[H][T].to-a[H][T].from);if((M+=S)<w)if(.5<S)S=ae.jqx._ptrnd(S+w-M);else for(H=j-1;0<=H;){if(1<Math.abs(a[H][T].to-a[H][T].from)){a[H][T].from>a[H][T].to&&(a[H][T].from+=w-M);break}H--}}r&&(S*=-1);var B=k<p,V=(h&&(B=k<P),isNaN(P)?k:{from:P,to:k});B?(q&&(A[T]+=S),a[j][T]={from:I,to:I+S,value:V,valueRadius:O}):(q&&(A[T]-=S),a[j][T]={from:I,to:I-S,value:V,valueRadius:O})}}}}s=this._renderData[e];return s.baseOffset=x,s.gbase=p,s.logBase=n?o:NaN,s.scale=v,s.offsets=c?this._applyWaterfall(a,u,e,x,p,n?o:NaN,v,r,l):a,s.xoffsets=this._calculateXOffsets(e,t.width),this._renderData[e]}},_isPercent:function(e){return"string"==typeof e&&0<e.length&&e.indexOf("%")==e.length-1},_calcPieSeriesGroupOffsets:function(e,t){for(var i=this._getDataLen(e),s=this.seriesGroups[e],r=this._renderData[e]={},n=r.offsets=[],o=0;o<s.series.length;o++){for(var a=s.series[o],l=this._get([a.minAngle,a.startAngle]),d=((isNaN(l)||l<0||360<l)&&(l=0),this._get([a.maxAngle,a.endAngle])),h=(d=isNaN(d)||d<0||360<d?360:d)-l,c=a.initialAngle||0,u=(d<(c=c<l?l:c)&&(c=d),a.centerOffset||0),p=ae.jqx.getNum([a.offsetX,s.offsetX,t.width/2]),m=ae.jqx.getNum([a.offsetY,s.offsetY,t.height/2]),l=Math.min(t.width,t.height)/2,g=c,f=a.radius,v=(this._isPercent(f)&&(f=parseFloat(f)/100*l),isNaN(f)&&(f=.4*l),a.innerRadius),x=(this._isPercent(v)&&(v=parseFloat(v)/100*l),(isNaN(v)||f<=v)&&(v=0),a.selectedRadiusChange),y=(this._isPercent(x)&&(x=parseFloat(x)/100*(f-v)),isNaN(x)&&(x=.1*(f-v)),n.push([]),0),w=0,b=0;b<i;b++){var _=this._getDataValueAsNumber(b,a.dataField,e);isNaN(_)||!this._isSerieVisible(e,o,b)&&1!=a.hiddenPointsDisplay||(0<_?y+=_:w+=_)}var q=y-w;0==q&&(q=1);for(b=0;b<i;b++){var j,T,C,S,k,I,_=this._getDataValueAsNumber(b,a.dataField,e);isNaN(_)?n[o].push({}):(I=a.displayText||a.displayField,j=(null==(I=this._getDataValue(b,I,e))&&(I=b),0),C=(!(T=this._isSerieVisible(e,o,b))&&1!=a.hiddenPointsDisplay||(j=Math.abs(_)/q*h),t.x+p),S=t.y+m,I=(ae.isFunction(k=u)&&(k=u({seriesIndex:o,seriesGroupIndex:e,itemIndex:b})),{key:e+"_"+o+"_"+b,value:_,displayValue:I,x:C,y:S,fromAngle:g,toAngle:g+j,centerOffset:k=isNaN(k)?0:k,innerRadius:v,outerRadius:f,selectedRadiusChange:x,visible:T}),n[o].push(I),g+=j)}}return r},_isPointSeriesOnly:function(){for(var e=0;e<this.seriesGroups.length;e++){var t=this.seriesGroups[e];if(-1==t.type.indexOf("line")&&-1==t.type.indexOf("area")&&-1==t.type.indexOf("scatter")&&-1==t.type.indexOf("bubble"))return!1}return!0},_hasColumnSeries:function(){for(var e=["column","ohlc","candlestick","waterfall"],t=0;t<this.seriesGroups.length;t++){var i,s=this.seriesGroups[t];for(i in e)if(-1!=s.type.indexOf(e[i]))return!0}return!1},_alignValuesWithTicks:function(e){var t=this._isPointSeriesOnly(),i=this.seriesGroups[e],s=this._getXAxis(e),t=null==s.valuesOnTicks?t:0!=s.valuesOnTicks;return s.logarithmicScale&&(t=!0),null==e||null==i.valuesOnTicks?t:i.valuesOnTicks},_getYearsDiff:function(e,t){return t.getFullYear()-e.getFullYear()},_getMonthsDiff:function(e,t){return 12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth()},_getDateDiff:function(e,t,i,s){var r=0;switch("year"!=i&&"month"!=i&&(r=t.valueOf()-e.valueOf()),i){case"year":r=this._getYearsDiff(e,t);break;case"month":r=this._getMonthsDiff(e,t);break;case"day":r/=864e5;break;case"hour":r/=36e5;break;case"minute":r/=6e4;break;case"second":r/=1e3}return r="year"!=i&&"month"!=i&&0!=s?ae.jqx._rnd(r,1,!0):r},_getBestDTUnit:function(e,t,i,s,r){for(var n="day",o=t.valueOf()-e.valueOf(),n=o<1e3?"second":o<36e5?"minute":o<864e5?"hour":o<2592e6?"day":o<31104e6?"month":"year",a=[{key:"year",cnt:o/31536e6},{key:"month",cnt:o/2592e6},{key:"day",cnt:o/864e5},{key:"hour",cnt:o/36e5},{key:"minute",cnt:o/6e4},{key:"second",cnt:o/1e3},{key:"millisecond",cnt:o}],l=-1,d=0;d<a.length;d++)if(a[d].key==n){l=d;break}for(var h=-1,c=-1;l<a.length&&!(a[l].cnt/100>s);l++){var u=this._estAxisInterval(e,t,i,s,a[l].key,r),u=this._getDTIntCnt(e,t,u,a[l].key);(-1==h||h<u)&&(h=u,c=l)}return n=a[c].key},_getXAxisStats:function(e,t,i){for(var s,r,n=this._getDataLen(e),o="date"==t.type||"time"==t.type,a=(o&&!this._autoDateFormats&&(this._autoDateFormats||(this._autoDateFormats=[]),(a=this._testXAxisDateFormat())&&this._autoDateFormats.push(a)),o?this._castAsDate(t.minValue,t.dateFormat):this._castAsNumber(t.minValue)),l=o?this._castAsDate(t.maxValue,t.dateFormat):this._castAsNumber(t.maxValue),d=(this._selectorRange&&this._selectorRange[e]&&(d=this._selectorRange[e].min,isNaN(d)||(a=o?this._castAsDate(d,t.dateFormat):this._castAsNumber(d)),d=this._selectorRange[e].max,isNaN(d)||(l=o?this._castAsDate(d,t.dateFormat):this._castAsNumber(d))),a),a=l,l=null==t.type||"auto"==t.type,h=l||"basic"==t.type,c=0,u=0,p=0;p<n&&t.dataField;p++){var m=this._getDataValue(p,t.dataField,e),m=o?this._castAsDate(m,t.dateFormat):this._castAsNumber(m);isNaN(m)||(o?c++:u++,(isNaN(s)||m<s)&&(s=m),(isNaN(r)||r<=m)&&(r=m))}(h=l&&(!o&&u==n||o&&c==n)?!1:h)&&(s=0,r=Math.max(0,n-1)),isNaN(d)&&(d=s),isNaN(a)&&(a=r),o?(this._isDate(d)||(d=this._isDate(a)?a:new Date),this._isDate(a)||(a=this._isDate(d)?d:new Date)):(isNaN(d)&&(d=0),isNaN(a)&&(a=h?Math.max(0,n-1):d)),null==s&&(s=d),null==r&&(r=a);var g,f,v,x,l=t.rangeSelector,l=(l&&((y=l.minValue||d)&&o&&(y=this._castAsDate(y,l.dateFormat||t.dateFormat)),(w=(w=l.maxValue||a)&&o?this._castAsDate(w,l.dateFormat||t.rangeSelector):w)<(d=d<y?y:d)&&(d=y),w<(a=a<y?w:a)&&(a=w)),t.unitInterval),y=(o&&(f="hour"==(g=(g=t.baseUnit)||this._getBestDTUnit(d,a,e,i))||"minute"==g||"second"==g||"millisecond"==g),1==t.logarithmicScale),w=t.logarithmicScaleBase,l=((isNaN(w)||w<=1)&&(w=10),t.unitInterval),i=(y?l=1:(isNaN(l)||l<=0)&&(l=this._estAxisInterval(d,a,e,i,g)),{min:d,max:a}),b=this.seriesGroups[e];return y?(d||(d=1,a&&a<d&&(d=a)),i={min:d,max:a=a||d},v=ae.jqx._rnd(ae.jqx.log(d,w),1,!1),x=ae.jqx._rnd(ae.jqx.log(a,w),1,!0),a=Math.pow(w,x),d=Math.pow(w,v)):o||!b.polar&&!b.spider||(d=ae.jqx._rnd(d,l,!1),a=ae.jqx._rnd(a,l,!0)),{min:d,max:a,logAxis:{enabled:y,base:w,minPow:v,maxPow:x},dsRange:{min:s,max:r},filterRange:i,useIndeces:h,isDateTime:o,isTimeUnit:f,dateTimeUnit:g,interval:l}},_getDefaultDTFormatFn:function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e="year"==e||"month"==e||"day"==e?function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()}:function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()+"<br>"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()};return e},_getDTIntCnt:function(e,t,i,s){var r=0,n=new Date(e),o=(o=new Date(t)).valueOf();if(i<=0)return 1;for(;n.valueOf()<o;)"millisecond"==s?n=new Date(n.valueOf()+i):"second"==s?n=new Date(n.valueOf()+1e3*i):"minute"==s?n=new Date(n.valueOf()+6e4*i):"hour"==s?n=new Date(n.valueOf()+6e4*i*24):"day"==s?n.setDate(n.getDate()+i):"month"==s?n.setMonth(n.getMonth()+i):"year"==s&&n.setFullYear(n.getFullYear()+i),r++;return r},_estAxisInterval:function(e,t,i,s,r,n){if(isNaN(e)||isNaN(t))return NaN;var o,a=[1,2,5,10,15,20,50,100,200,500],l=0,d=s/(!isNaN(n)&&0<n?n:50);if(this._renderData&&this._renderData.length>i&&this._renderData[i].xAxis&&!isNaN(this._renderData[i].xAxis.avgWidth)&&(0!=(o=Math.max(1,this._renderData[i].xAxis.avgWidth))&&isNaN(n)&&(d=.9*s/o)),d<=1)return Math.abs(t-e);for(;;){var h=a.length<=l?Math.pow(10,3+l-a.length):a[l];if((this._isDate(e)&&this._isDate(t)?this._getDTIntCnt(e,t,h,r):(t-e)/h)<=d)break;l++}n=this.seriesGroups[i];return h=(n.spider||n.polar)&&t-e<2*h?t-e:h},_getPaddingSize:function(e,t,i,s,r,n,o){var a,l,d=e.min,h=e.max,c=(e.logAxis.enabled&&(d=e.logAxis.minPow,h=e.logAxis.maxPow),e.interval),e=e.dateTimeUnit;return r?(r=s/Math.max(1,h-d+c)*c,n?{left:0,right:r}:i?{left:0,right:0}:{left:r/2,right:r/2}):i&&!o?{left:0,right:0}:this._isDate(d)&&this._isDate(h)?(a=this._getDTIntCnt(d,h,Math.min(c,h-d),e),{left:(l=s/Math.max(2,a))/2,right:l/2}):1==(a=Math.max(1,h-d))?{left:n=s/4,right:n}:{left:(l=s/(a+1))/2,right:l/2}},_calculateXOffsets:function(e,t){for(var i=this.seriesGroups[e],s=this._getXAxis(e),r=[],n=[],o=this._getDataLen(e),a=this._getXAxisStats(e,s,t),l=a.min,d=a.max,h=a.isDateTime,c=a.isTimeUnit,u=this._hasColumnSeries(),p=i.polar||i.spider,m=this._get([i.startAngle,i.minAngle,0]),i=this._get([i.endAngle,i.maxAngle,360]),i=p&&!(1e-4<Math.abs(Math.abs(i-m)-360)),m=this._alignValuesWithTicks(e),g=this._getPaddingSize(a,s,m,t,p,i,u),f=d-l,v=a.filterRange,x=(0==f&&(f=1),t-g.left-g.right),y=(p&&m&&!i&&(g.left=g.right=0),-1),w=-1,b=0;b<o;b++){var _,q,j=void 0===s.dataField?b:this._getDataValue(b,s.dataField,e);a.useIndeces?b<v.min||b>v.max?(r.push(NaN),n.push(void 0)):(_=g.left+(b-l)/f*x,1==a.logAxis.enabled&&(q=a.logAxis.base,_=this._jqxPlot.scale(j,{min:l.valueOf(),max:d.valueOf(),type:"logarithmic",base:q},{min:0,max:x,flip:!1})),r.push(ae.jqx._ptrnd(_)),n.push(j),-1==y&&(y=b),(-1==w||w<b)&&(w=b)):(j=h?this._castAsDate(j,s.dateFormat):this._castAsNumber(j),isNaN(j)||j<v.min||j>v.max?(r.push(NaN),n.push(void 0)):(_=0,_=1==a.logAxis.enabled?(q=a.logAxis.base,this._jqxPlot.scale(j,{min:l.valueOf(),max:d.valueOf(),type:"logarithmic",base:q},{min:0,max:x,flip:!1})):!h||c?(j-l)*x/f:(j.valueOf()-l.valueOf())/(d.valueOf()-l.valueOf())*x,_=ae.jqx._ptrnd(g.left+_),r.push(_),n.push(j),-1==y&&(y=b),(-1==w||w<b)&&(w=b)))}if(1==s.flip)for(b=0;b<r.length;b++)isNaN(r[b])||(r[b]=t-r[b]);(c||h)&&(f=this._getDateDiff(l,d,s.baseUnit),f=ae.jqx._rnd(f,1,!1));u=Math.max(1,f),p=x/u;return y==w&&1==u&&(r[y]=g.left+x/2),{axisStats:a,data:r,xvalues:n,first:y,last:w,length:-1==w?0:w-y+1,itemWidth:p,intervalWidth:p*a.interval,rangeLength:f,useIndeces:a.useIndeces,padding:g,axisSize:x}},_getXAxis:function(e){return null==e||this.seriesGroups.length<=e?this.categoryAxis||this.xAxis:this.seriesGroups[e].categoryAxis||this.seriesGroups[e].xAxis||this.categoryAxis||this.xAxis},_isGreyScale:function(e,t){e=this.seriesGroups[e],t=e.series[t];return 1==t.greyScale||0!=t.greyScale&&(1==e.greyScale||0!=e.greyScale&&1==this.greyScale)},_getSeriesColors:function(e,t,i){var s=this._getSeriesColorsInternal(e,t,i);if(this._isGreyScale(e,t))for(var r in s)s[r]=ae.jqx.toGreyScale(s[r]);return s},_getColorFromScheme:function(e,t,i){var s="#000000",r=this.seriesGroups[e],n=r.series[t];if(this._isPieGroup(e))var o=this._getDataLen(e),s=this._getItemColorFromScheme(n.colorScheme||r.colorScheme||this.colorScheme,t*o+i,e,t);else{for(var a=0,l=0;l<=e;l++)for(var d in this.seriesGroups[l].series){if(l==e&&d==t)break;a++}var h=this.colorScheme;if(r.colorScheme&&(h=r.colorScheme,0),!(h=null!=h&&""!=h?h:this.colorSchemes[0].name))return s;for(l=0;l<this.colorSchemes.length;l++){var c=this.colorSchemes[l];if(c.name==h){for(;a>c.colors.length;)a-=c.colors.length,++l>=this.colorSchemes.length&&(l=0),c=this.colorSchemes[l];s=c.colors[a%c.colors.length]}}}return s},_createColorsCache:function(){this._colorsCache={get:function(e){if(this._store[e])return this._store[e]},set:function(e,t){this._size<1e4&&(this._store[e]=t,this._size++)},clear:function(){this._store={},this._size=0},_size:0,_store:{}}},_getSeriesColorsInternal:function(e,t,i){var s=this.seriesGroups[e],r=s.series[t],n=(ae.isFunction(r.colorFunction)||"pie"==s.type||"donut"==s.type||(i=NaN),e+"_"+t+"_"+(isNaN(i)?"NaN":i));if(this._colorsCache.get(n))return this._colorsCache.get(n);var o,a={lineColor:"#222222",lineColorSelected:"#151515",lineColorSymbol:"#222222",lineColorSymbolSelected:"#151515",fillColor:"#222222",fillColorSelected:"#333333",fillColorSymbol:"#222222",fillColorSymbolSelected:"#333333",fillColorAlt:"#222222",fillColorAltSelected:"#333333"};if(ae.isFunction(r.colorFunction)){var l=isNaN(i)?NaN:this._getDataValue(i,r.dataField,e);if(-1==s.type.indexOf("range")||isNaN(i)||(l={from:this._getDataValue(i,r.dataFieldFrom,e),to:this._getDataValue(i,r.dataFieldTo,e)}),"object"==typeof(o=r.colorFunction(l,i,r,s)))for(var d in o)a[d]=o[d];else a.fillColor=o}else{for(var d in a)r[d]&&(a[d]=r[d]);r.fillColor||r.color?r.fillColor=r.fillColor||r.color:a.fillColor=this._getColorFromScheme(e,t,i)}var h={fillColor:{baseColor:"fillColor",adjust:1},fillColorSelected:{baseColor:"fillColor",adjust:1.1},fillColorSymbol:{baseColor:"fillColor",adjust:1},fillColorSymbolSelected:{baseColor:"fillColorSymbol",adjust:2},fillColorAlt:{baseColor:"fillColor",adjust:4},fillColorAltSelected:{baseColor:"fillColor",adjust:3},lineColor:{baseColor:"fillColor",adjust:.95},lineColorSelected:{baseColor:"lineColor",adjust:.95},lineColorSymbol:{baseColor:"lineColor",adjust:1},lineColorSymbolSelected:{baseColor:"lineColorSelected",adjust:1}};for(d in a)"object"==typeof o&&o[d]||r[d]&&(a[d]=r[d]);for(d in a)"object"==typeof o&&o[d]||r[d]||(a[d]=ae.jqx.adjustColor(a[h[d].baseColor],h[d].adjust));return this._colorsCache.set(n,a),a},_getItemColorFromScheme:function(e,t,i,s){null!=e&&""!=e||(e=this.colorSchemes[0].name);for(var r=0;r<this.colorSchemes.length&&e!=this.colorSchemes[r].name;r++);for(var n=0;n<=t;){r==this.colorSchemes.length&&(r=0);var o,a=this.colorSchemes[r].colors.length;if(!(n+a<=t))return o=this.colorSchemes[r].colors[t-n],this._isGreyScale(i,s)&&0==o.indexOf("#")?ae.jqx.toGreyScale(o):o;n+=a,r++}},getColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e)return this.colorSchemes[t].colors},addColorScheme:function(e,t){for(var i=0;i<this.colorSchemes.length;i++)if(this.colorSchemes[i].name==e)return void(this.colorSchemes[i].colors=t);this.colorSchemes.push({name:e,colors:t})},removeColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e){this.colorSchemes.splice(t,1);break}},colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_formatValue:function(e,t,i,s,r,n){if(null==e)return"";if(this._isObject(e)&&!this._isDate(e)&&!i)return"";if(i){if(!ae.isFunction(i))return e.toString();try{return i(e,n,r,s)}catch(e){return e.message}}return this._isNumber(e)?this._formatNumber(e,t):this._isDate(e)?this._formatDate(e,t):t?(t.prefix||"")+e.toString()+(t.sufix||""):e.toString()},_getFormattedValue:function(e,t,i,s,r,n){var o=this.seriesGroups[e],a=o.series[t],l="",d=s,h=(h=r)||(a.formatFunction||o.formatFunction),d=d||(a.formatSettings||o.formatSettings),c=(!a.formatFunction&&a.formatSettings&&(h=void 0),{}),u=0;for(p in a)0==p.indexOf("dataField")&&(c[p.substring(9).toLowerCase()]=this._getDataValue(i,a[p],e),u++);if(0==u&&(c=this._getDataValue(i,void 0,e)),-1!=o.type.indexOf("waterfall")&&this._isSummary(e,i)&&(c=this._renderData[e].offsets[t][i].value,u=0),h&&ae.isFunction(h))try{return h(1==u?c[""]:c,i,a,o)}catch(e){return e.message}if(1==u&&this._isPieGroup(e))return this._formatValue(c[""],d,h,e,t,i);if(0<u){var p,m=0;for(p in c){0<m&&""!=l&&(l+="<br>");var g="dataField"+(0<p.length?p.substring(0,1).toUpperCase()+p.substring(1):""),g=a["displayText"+(0<p.length?p.substring(0,1).toUpperCase()+p.substring(1):"")]||a[g],f=c[p];null!=f&&(f=this._formatValue(f,d,h,e,t,i),l+=!0===n?f:g+": "+f,m++)}}else null!=c&&(l=this._formatValue(c,d,h,e,t,i));return l||""},_isNumberAsString:function(e){if("string"!=typeof e)return!1;e=ae.trim(e);for(var t=0;t<e.length;t++){var i=e.charAt(t);if(!("0"<=i&&i<="9"||","==i||"."==i)&&(("-"!=i||0!=t)&&!("("==i&&0==t||")"==i&&t==e.length-1)))return!1}return!0},_castAsDate:function(e,t){if(e instanceof Date&&!isNaN(e))return e;if("string"==typeof e){var i;if(t&&(i=ae.jqx.dataFormat.parsedate(e,t),this._isDate(i)))return i;if(this._autoDateFormats)for(var s=0;s<this._autoDateFormats.length;s++)if(i=ae.jqx.dataFormat.parsedate(e,this._autoDateFormats[s]),this._isDate(i))return i;t=this._detectDateFormat(e);return t&&(i=ae.jqx.dataFormat.parsedate(e,t),this._isDate(i))?(this._autoDateFormats.push(t),i):(i=new Date(e),this._isDate(i)&&-1==e.indexOf(":")&&i.setHours(0,0,0,0),i)}},_castAsNumber:function(e){return e instanceof Date&&!isNaN(e)?e.valueOf():("string"==typeof e&&(this._isNumber(e)?e=parseFloat(e):/[a-zA-Z]/.test(e)||null!=(t=new Date(e))&&(e=t.valueOf())),e);var t},_isNumber:function(e){return"number"==typeof(e="string"==typeof e&&this._isNumberAsString(e)?parseFloat(e):e)&&isFinite(e)},_isDate:function(e){return e instanceof Date&&!isNaN(e.getDate())},_isBoolean:function(e){return"boolean"==typeof e},_isObject:function(e){return e&&("object"==typeof e||ae.isFunction(e))||!1},_formatDate:function(e,t){var i=e.toString();return t&&(t.dateFormat&&(i=ae.jqx.dataFormat.formatDate(e,t.dateFormat)),i=(t.prefix||"")+i+(t.sufix||"")),i},_formatNumber:function(e,t){if(!this._isNumber(e))return e;var i=".",s="",r=(this.localization&&(i=this.localization.decimalSeparator||this.localization.decimalseparator||i,s=this.localization.thousandsSeparator||this.localization.thousandsseparator||s),(t=t||{}).decimalSeparator&&(i=t.decimalSeparator),t.thousandsSeparator&&(s=t.thousandsSeparator),t.prefix||""),n=t.sufix||"",o=t.decimalPlaces,a=(isNaN(o)&&(o=this._getDecimalPlaces([e],void 0,3)),t.negativeWithBrackets||!1),l=e<0,d=(l&&a&&(e*=-1),e.toString()),t=Math.pow(10,o),d=(Math.round(e*t)/t).toString();if(h=(d=isNaN(d)?"":d).lastIndexOf("."),0<o)for(h<0?h=(d+=i).length-1:"."!==i&&(d=d.replace(".",i));d.length-1-h<o;)d+="0";for(var h=-1<(h=d.lastIndexOf(i))?h:d.length,c=d.substring(h),u=0,p=h;0<p;p--,u++)u%3==0&&p!==h&&(!l||1<p||l&&a)&&(c=s+c),c=d.charAt(p-1)+c;return d=c,r+(d=l&&a?"("+d+")":d)+n},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_calculateControlPoints:function(e,t){var i=e[t],s=e[t+1],r=e[t+2],n=e[t+3],o=e[t+4],e=e[t+5],t=Math.sqrt(Math.pow(r-i,2)+Math.pow(n-s,2)),a=t+Math.sqrt(Math.pow(o-r,2)+Math.pow(e-n,2)),t=.4*t/(a=0==a?1:a),a=.4-t;return[r+t*(i-o),n+t*(s-e),r-a*(i-o),n-a*(s-e)]},_getBezierPoints:function(e){for(var t="",i=[],s=[],r=e.split(" "),n=0;n<r.length;n++){var o=r[n].split(",");i.push(parseFloat(o[0])),i.push(parseFloat(o[1])),isNaN(i[i.length-1])||isNaN(i[i.length-2])}var a=i.length;if(a<=1)return"";if(2==a)return t="M"+ae.jqx._ptrnd(i[0])+","+ae.jqx._ptrnd(i[1])+" L"+ae.jqx._ptrnd(i[0]+1)+","+ae.jqx._ptrnd(i[1]+1)+" ";for(n=0;n<a-4;n+=2)s=s.concat(this._calculateControlPoints(i,n));for(n=2;n<a-5;n+=2)t+=" C"+ae.jqx._ptrnd(s[2*n-2])+","+ae.jqx._ptrnd(s[2*n-1])+" "+ae.jqx._ptrnd(s[2*n])+","+ae.jqx._ptrnd(s[2*n+1])+" "+ae.jqx._ptrnd(i[n+2])+","+ae.jqx._ptrnd(i[n+3])+" ";return t=a<=4||Math.abs(i[0]-i[2])<3||Math.abs(i[1]-i[3])<3||this._isVML?"M"+ae.jqx._ptrnd(i[0])+","+ae.jqx._ptrnd(i[1])+" L"+ae.jqx._ptrnd(i[2])+","+ae.jqx._ptrnd(i[3])+" "+t:"M"+ae.jqx._ptrnd(i[0])+","+ae.jqx._ptrnd(i[1])+" Q"+ae.jqx._ptrnd(s[0])+","+ae.jqx._ptrnd(s[1])+" "+ae.jqx._ptrnd(i[2])+","+ae.jqx._ptrnd(i[3])+" "+t,4<=a&&(Math.abs(i[a-2]-i[a-4])<3||Math.abs(i[a-1]-i[a-3])<3||this._isVML)?t+=" L"+ae.jqx._ptrnd(i[a-2])+","+ae.jqx._ptrnd(i[a-1])+" ":5<=a&&(t+=" Q"+ae.jqx._ptrnd(s[2*a-10])+","+ae.jqx._ptrnd(s[2*a-9])+" "+ae.jqx._ptrnd(i[a-2])+","+ae.jqx._ptrnd(i[a-1])+" "),t},_animTickInt:50,_createAnimationGroup:function(e){this._animGroups||(this._animGroups={}),this._animGroups[e]={animations:[],startTick:NaN}},_startAnimation:function(e){var t=(new Date).getTime();this._animGroups[e].startTick=t,this._runAnimation(),this._enableAnimTimer()},_enqueueAnimation:function(e,t,i,s,r,n,o){this._animGroups[e].animations.push({key:t,properties:i,duration:s=s<0?0:s,fn:r,context:n,easing:o=null==o?"easeInOutSine":o})},_stopAnimations:function(){clearTimeout(this._animtimer),this._animtimer=void 0,this._animGroups=void 0},_enableAnimTimer:function(){var e;this._animtimer||((e=this)._animtimer=setTimeout(function(){e._runAnimation()},this._animTickInt))},_runAnimation:function(e){if(this._animGroups){var t=(new Date).getTime(),i={};for(u in this._animGroups){for(var s=this._animGroups[u].animations,r=this._animGroups[u].startTick,n=0,o=0;o<s.length;o++){var a=s[o],l=t-r,d=(a.duration>n&&(n=a.duration),0<a.duration?l/a.duration:1),h=d;if(a.easing&&0!=a.duration&&(h=ae.easing[a.easing](d,l,0,1,a.duration)),1<d&&(h=d=1),a.fn)a.fn(a.key,a.context,h);else{for(var c={},u=0;u<a.properties.length;u++){var p=a.properties[u],m=0,m=1==d?p.to:h*(p.to-p.from)+p.from;c[p.key]=m}this.renderer.attr(a.key,c)}}t<r+n&&(i[u]={startTick:r,animations:s})}this._animGroups=i,this.renderer instanceof ae.jqx.HTML5Renderer&&this.renderer.refresh()}for(var u in this._animtimer=null,this._animGroups){this._enableAnimTimer();break}},_fixCoords:function(e,t){if(!("horizontal"==this.seriesGroups[t].orientation))return e;t=e.x,e.x=e.y,e.y=t+this._plotRect.y-this._plotRect.x,t=e.width;return e.width=e.height,e.height=t,e},getItemCoord:function(e,t,i){var s=this;if(s._isPieGroup(e)&&(!s._isSerieVisible(e,t,i)||!s._renderData||s._renderData.length<=e))return{x:NaN,y:NaN};if(!s._isSerieVisible(e,t)||!s._renderData||s._renderData.length<=e)return{x:NaN,y:NaN};var r,n,o=s.seriesGroups[e],a=o.series[t],i=s._getItemCoord(e,t,i);if(s._isPieGroup(e)){if(isNaN(i.x)||isNaN(i.y)||isNaN(i.fromAngle)||isNaN(i.toAngle))return{x:NaN,y:NaN};var s=this._plotRect,l=i.fromAngle*(Math.PI/180),d=i.toAngle*(Math.PI/180),h=s.x+i.center.x+Math.cos(l)*i.outerRadius,c=s.x+i.center.x+Math.cos(d)*i.outerRadius,l=s.y+i.center.y-Math.sin(l)*i.outerRadius,s=s.y+i.center.y-Math.sin(d)*i.outerRadius,d=Math.min(h,c),c=Math.abs(c-h);return i={x:d,y:h=Math.min(l,s),width:c,height:Math.abs(s-l),center:i.center,centerOffset:i.centerOffset,innerRadius:i.innerRadius,outerRadius:i.outerRadius,selectedRadiusChange:i.selectedRadiusChange,fromAngle:i.fromAngle,toAngle:i.toAngle}}return-1!=o.type.indexOf("column")||-1!=o.type.indexOf("waterfall")?(r=this._getColumnSerieWidthAndOffset(e,t),i.height=Math.abs(i.y.to-i.y.from),i.y=Math.min(i.y.to,i.y.from),i.x+=r.offset,i.width=r.width):-1!=o.type.indexOf("ohlc")||-1!=o.type.indexOf("candlestick")?(r=this._getColumnSerieWidthAndOffset(e,t),h=i.y,d=Math.min(h.Open,h.Close,h.Low,h.High),c=Math.max(h.Open,h.Close,h.Low,h.High),i.height=Math.abs(c-d),i.y=d,i.x+=r.offset,i.width=r.width):-1!=o.type.indexOf("line")||-1!=o.type.indexOf("area")?(i.width=i.height=0,i.y=i.y.to):-1==o.type.indexOf("bubble")&&-1==o.type.indexOf("scatter")||(i.center={x:i.x,y:i.y.to},n=i.y.radius,"circle"!=a.symbolType&&null!=a.symbolType&&(n/=2),i.y=i.y.to,i.radius=n,i.width=2*n,i.height=2*n),i=this._fixCoords(i,e),(o.polar||o.spider)&&(s=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,i.x,i.y),i.x=s.x,i.y=s.y,i.center&&(i.center=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,i.center.x,i.center.y))),-1==o.type.indexOf("bubble")&&-1==o.type.indexOf("scatter")||(i.x-=n,i.y-=n),i},_getItemCoord:function(e,t,i){var s=this.seriesGroups[e];if(!s||!this._renderData)return{x:NaN,y:NaN};if(!s.series[t])return{x:NaN,y:NaN};s=this._plotRect;if(this._isPieGroup(e)){var r=this._renderData[e].offsets[t][i];if(!r)return{x:NaN,y:NaN};var n,o,a=(r.fromAngle+r.toAngle)/2*(Math.PI/180);return{x:n=s.x+r.x+Math.cos(a)*r.outerRadius,y:o=s.y+r.y-Math.sin(a)*r.outerRadius,center:{x:r.x,y:r.y},centerOffset:r.centerOffset,innerRadius:r.innerRadius,outerRadius:r.outerRadius,selectedRadiusChange:r.selectedRadiusChange,fromAngle:r.fromAngle,toAngle:r.toAngle}}if(n=s.x+this._renderData[e].xoffsets.data[i],o=this._renderData[e].offsets[t][i],isNaN(n)||!o)return{x:NaN,y:NaN};var l,d={};for(l in o)d[l]=o[l];return{x:n,y:d}},getXAxisValue:function(e,t){var i=this.seriesGroups[t];if(i){var s=this._getXAxis(t),r=this._plotRect,n=0,o=NaN,a=this._renderData[0].xoffsets.axisStats,l=0,d=0;if(i.polar||i.spider){if(isNaN(e.x)||isNaN(e.y))return NaN;var h=this._getPolarAxisCoords(t,r);if(ae.jqx._ptdist(e.x,e.y,h.x,h.y)>h.r)return NaN;var c=Math.atan2(h.y-e.y,e.x-h.x),o=(c=(c=Math.PI/2-c)<0?2*Math.PI+c:c)*h.r,c=h.startAngle+Math.PI/2,u=h.endAngle+Math.PI/2,l=c*h.r,d=u*h.r,n=(u-c)*h.r,u=this._getPaddingSize(a,s,s.valuesOnTicks,n,!0,h.isClosedCircle,this._hasColumnSeries());h.isClosedCircle?(n-=u.left+u.right,d-=u.left+u.right):s.valuesOnTicks||(l+=u.left,d-=u.right)}else{if("horizontal"!=i.orientation){if(e<r.x||e>r.x+r.width)return NaN;o=e-r.x,n=r.width}else{if(e<r.y||e>r.y+r.height)return NaN;o=e-r.y,n=r.height}this._renderData[t]&&this._renderData[t].xoffsets&&(n-=(u=this._renderData[t].xoffsets.padding).left+u.right,o-=u.left),d=n}return this._jqxPlot.scale(o,{min:l,max:d},{min:a.min.valueOf(),max:a.max.valueOf(),type:a.logAxis.enabled?"logarithmic":"linear",base:a.logAxis.base,flip:s.flip})}},getValueAxisValue:function(e,t){var i=this.seriesGroups[t];if(i){var s=this._getValueAxis(t),r=this._plotRect,n=0,o=NaN;if(i.polar||i.spider){if(isNaN(e.x)||isNaN(e.y))return NaN;var a=this._getPolarAxisCoords(t,r),o=ae.jqx._ptdist(e.x,e.y,a.x,a.y);o=(n=a.r)-o}else if("horizontal"==i.orientation){if(e<r.x||e>r.x+r.width)return NaN;o=e-r.x,n=r.width}else{if(e<r.y||e>r.y+r.height)return NaN;o=e-r.y,n=r.height}a=this._stats.seriesGroups[t];return this._jqxPlot.scale(o,{min:0,max:n},{min:a.min.valueOf(),max:a.max.valueOf(),type:a.logarithmic?"logarithmic":"linear",base:a.logBase,flip:!s.flip})}},_detectDateFormat:function(e,t){var i={en_US_d:"M/d/yyyy",en_US_D:"dddd, MMMM dd, yyyy",en_US_t:"h:mm tt",en_US_T:"h:mm:ss tt",en_US_f:"dddd, MMMM dd, yyyy h:mm tt",en_US_F:"dddd, MMMM dd, yyyy h:mm:ss tt",en_US_M:"MMMM dd",en_US_Y:"yyyy MMMM",en_US_S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",en_CA_d:"dd/MM/yyyy",en_CA_D:"MMMM-dd-yy",en_CA_f:"MMMM-dd-yy h:mm tt",en_CA_F:"MMMM-dd-yy h:mm:ss tt",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",de_DE_d:"dd.MM.yyyy",de_DE_D:"dddd, d. MMMM yyyy",de_DE_t:"HH:mm",de_DE_T:"HH:mm:ss",de_DE_f:"dddd, d. MMMM yyyy HH:mm",de_DE_F:"dddd, d. MMMM yyyy HH:mm:ss",de_DE_M:"dd MMMM",de_DE_Y:"MMMM yyyy",fr_FR_d:"dd/MM/yyyy",fr_FR_D:"dddd d MMMM yyyy",fr_FR_t:"HH:mm",fr_FR_T:"HH:mm:ss",fr_FR_f:"dddd d MMMM yyyy HH:mm",fr_FR_F:"dddd d MMMM yyyy HH:mm:ss",fr_FR_M:"d MMMM",fr_FR_Y:"MMMM yyyy",it_IT_d:"dd/MM/yyyy",it_IT_D:"dddd d MMMM yyyy",it_IT_t:"HH:mm",it_IT_T:"HH:mm:ss",it_IT_f:"dddd d MMMM yyyy HH:mm",it_IT_F:"dddd d MMMM yyyy HH:mm:ss",it_IT_M:"dd MMMM",it_IT_Y:"MMMM yyyy",ru_RU_d:"dd.MM.yyyy",ru_RU_D:"d MMMM yyyy '?.'",ru_RU_t:"H:mm",ru_RU_T:"H:mm:ss",ru_RU_f:"d MMMM yyyy '?.' H:mm",ru_RU_F:"d MMMM yyyy '?.' H:mm:ss",ru_RU_Y:"MMMM yyyy",cs_CZ_d:"d.M.yyyy",cs_CZ_D:"d. MMMM yyyy",cs_CZ_t:"H:mm",cs_CZ_T:"H:mm:ss",cs_CZ_f:"d. MMMM yyyy H:mm",cs_CZ_F:"d. MMMM yyyy H:mm:ss",cs_CZ_M:"dd MMMM",cs_CZ_Y:"MMMM yyyy",he_IL_d:"dd MMMM yyyy",he_IL_D:"dddd dd MMMM yyyy",he_IL_t:"HH:mm",he_IL_T:"HH:mm:ss",he_IL_f:"dddd dd MMMM yyyy HH:mm",he_IL_F:"dddd dd MMMM yyyy HH:mm:ss",he_IL_M:"dd MMMM",he_IL_Y:"MMMM yyyy",hr_HR_d:"d.M.yyyy.",hr_HR_D:"d. MMMM yyyy.",hr_HR_t:"H:mm",hr_HR_T:"H:mm:ss",hr_HR_f:"d. MMMM yyyy. H:mm",hr_HR_F:"d. MMMM yyyy. H:mm:ss",hr_HR_M:"d. MMMM",hu_HU_d:"yyyy.MM.dd.",hu_HU_D:"yyyy. MMMM d.",hu_HU_t:"H:mm",hu_HU_T:"H:mm:ss",hu_HU_f:"yyyy. MMMM d. H:mm",hu_HU_F:"yyyy. MMMM d. H:mm:ss",hu_HU_M:"MMMM d.",hu_HU_Y:"yyyy. MMMM",jp_JP_d:"gg y/M/d",jp_JP_D:"gg y'?'M'?'d'?'",jp_JP_t:"H:mm",jp_JP_T:"H:mm:ss",jp_JP_f:"gg y'?'M'?'d'?' H:mm",jp_JP_F:"gg y'?'M'?'d'?' H:mm:ss",jp_JP_M:"M'?'d'?'",jp_JP_Y:"gg y'?'M'?'",lt_LT_d:"yyyy.MM.dd",lt_LT_D:"yyyy 'm.' MMMM d 'd.'",lt_LT_t:"HH:mm",lt_LT_T:"HH:mm:ss",lt_LT_f:"yyyy 'm.' MMMM d 'd.' HH:mm",lt_LT_F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",lt_LT_M:"MMMM d 'd.'",lt_LT_Y:"yyyy 'm.' MMMM",sa_IN_d:"dd-MM-yyyy",sa_IN_D:"dd MMMM yyyy dddd",sa_IN_t:"HH:mm",sa_IN_T:"HH:mm:ss",sa_IN_f:"dd MMMM yyyy dddd HH:mm",sa_IN_F:"dd MMMM yyyy dddd HH:mm:ss",sa_IN_M:"dd MMMM",basic_y:"yyyy",basic_ym:"yyyy-MM",basic_d:"yyyy-MM-dd",basic_dhm:"yyyy-MM-dd hh:mm",basic_bhms:"yyyy-MM-dd hh:mm:ss",basic2_ym:"MM-yyyy",basic2_d:"MM-dd-yyyy",basic2_dhm:"MM-dd-yyyy hh:mm",basic2_dhms:"MM-dd-yyyy hh:mm:ss",basic3_ym:"yyyy/MM",basic3_d:"yyyy/MM/dd",basic3_dhm:"yyyy/MM/dd hh:mm",basic3_bhms:"yyyy/MM/dd hh:mm:ss",basic4_ym:"MM/yyyy",basic4_d:"MM/dd/yyyy",basic4_dhm:"MM/dd/yyyy hh:mm",basic4_dhms:"MM/dd/yyyy hh:mm:ss"},s=(t&&(i=ae.extend({},i,t)),[]);for(o in ae.isArray(e)?s=e:s.push(e),i)i[o]={format:i[o],count:0};for(var r=0;r<s.length;r++){var n=s[r];if(null!=n)for(var o in i)null!=ae.jqx.dataFormat.parsedate(n,i[o].format)&&i[o].count++}var a={key:void 0,count:0};for(o in i)i[o].count>a.count&&(a.key=o,a.count=i[o].count);return a.key?i[a.key].format:""},_testXAxisDateFormat:function(e){var t=this._getXAxis(e),i=this._getDataLen(e),s={};if(this.localization&&this.localization.patterns)for(var r in this.localization.patterns)s["local_"+r]=this.localization.patterns[r];for(var n=[],o=0;o<i&&o<10;o++){var a=this._getDataValue(o,t.dataField,e);null!=a&&n.push(a)}return this._detectDateFormat(n,s)}})}(jqxBaseFramework),!function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleApi:!0,getItemsCount:function(e,t){var i=this.seriesGroups[e];if(!this._isSerieVisible(e,t))return 0;var s=this._renderData;return i&&s&&!(s.length<=e)&&i.series[t]?s[e].offsets[t].length:0},getXAxisRect:function(e){var t=this._renderData;if(t&&!(t.length<=e)&&t[e].xAxis)return t[e].xAxis.rect},getXAxisLabels:function(e){var t=[],i=this._renderData;if(!i||i.length<=e)return t;if(!(i=i[e].xAxis))return t;var s=this.seriesGroups[e];if(s.polar||s.spider){for(var r=0;r<i.polarLabels.length;r++){var n=i.polarLabels[r];t.push({offset:{x:n.x,y:n.y},value:n.value})}return t}for(var o=this._getXAxis(e),a=this.getXAxisRect(e),l="top"==o.position||"right"==o.position,d="horizontal"==s.orientation,r=0;r<i.data.length;r++)d?t.push({offset:{x:a.x+(l?0:a.width),y:a.y+i.data.data[r]},value:i.data.xvalues[r]}):t.push({offset:{x:a.x+i.data.data[r],y:a.y+(l?a.height:0)},value:i.data.xvalues[r]});return t},getValueAxisRect:function(e){var t=this._renderData;if(t&&!(t.length<=e)&&t[e].valueAxis)return t[e].valueAxis.rect},getValueAxisLabels:function(e){var t=[],i=this._renderData;if(!i||i.length<=e)return t;if(!(i=i[e].valueAxis))return t;var s=this._getValueAxis(e),r="top"==s.position||"right"==s.position,s=this.seriesGroups[e],n="horizontal"==s.orientation;if(s.polar||s.spider){for(var o=0;o<i.polarLabels.length;o++){var a=i.polarLabels[o];t.push({offset:{x:a.x,y:a.y},value:a.value})}return t}for(o=0;o<i.items.length;o++)n?t.push({offset:{x:i.itemOffsets[i.items[o]].x+i.itemWidth/2,y:i.rect.y+(r?i.rect.height:0)},value:i.items[o]}):t.push({offset:{x:i.rect.x+i.rect.width,y:i.itemOffsets[i.items[o]].y+i.itemWidth/2},value:i.items[o]});return t},getPlotAreaRect:function(){return this._plotRect},getRect:function(){return this._rect},showToolTip:function(e,t,i,s,r){var n=this.getItemCoord(e,t,i);isNaN(n.x)||isNaN(n.y)||this._startTooltipTimer(e,t,i,n.x,n.y,s,r)},hideToolTip:function(e){isNaN(e)&&(e=0);var t=this;t._cancelTooltipTimer(),setTimeout(function(){t._hideToolTip(0)},e)}})}(jqxBaseFramework),!function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleAnnotations:!0,_renderAnnotation:function(e,t,i){var s=this.seriesGroups[e],r=this.renderer;if(!isNaN(e)){var n=this._get([this.getXAxisDataPointOffset(t.xValue,e),t.x]),o=this._get([this.getValueAxisDataPointOffset(t.yValue,e),t.y]),a=this._get([this.getXAxisDataPointOffset(t.xValue2,e),t.x2]),l=this._get([this.getValueAxisDataPointOffset(t.yValue2,e),t.y2]);if((s.polar||s.spider)&&(o=!(e=this.getPolarDataPointOffset(t.xValue,t.yValue,e))||isNaN(e.x)||isNaN(e.y)?(n=t.x,t.y):(n=e.x,e.y)),isNaN(o)||isNaN(n))return!1;"horizontal"==s.orientation&&(e=n,n=o,o=e,e=a,a=l,l=e),t.offset&&(isNaN(t.offset.x)||(n+=t.offset.x,a+=t.offset.x),isNaN(t.offset.y)||(o+=t.offset.y,l+=t.offset.y));var d,h,c,u=this._get([t.width,a-n]),p=this._get([t.height,l-o]);switch(isNaN(u)&&(u=90,p=20),t.type){case"rect":d=r.rect(n,o,u,p);break;case"circle":d=r.rect(n,o,t.radius);break;case"line":d=r.rect(n,o,a,l);break;case"path":d=r.path(t.path)}r.attr(d,{fill:t.fillColor,stroke:t.lineColor,opacity:this._get([t.fillOpacity,t.opacity]),"stroke-opacity":this._get([t.lineOpacity,t.opacity]),"stroke-width":t.lineWidth,"stroke-dasharray":t.dashStyle||"none"}),t.text&&(e=s=0,(c=t.text).offset&&(isNaN(c.offset.x)||(s+=c.offset.x),isNaN(c.offset.y)||(e+=c.offset.y)),h=r.text(c.value,n+s,o+e,NaN,NaN,c.angle,{},!0===c.clip,c.horizontalAlignment||"center",c.verticalAlignment||"center",c.rotationPoint||"centermiddle"),r.attr(h,{fill:c.fillColor,stroke:c.lineColor,class:c.class}));for(var m=["click","mouseenter","mouseleave"],g=this,f=0;f<m.length;f++){var v=this._getEvent(m[f])||m[f];d&&this.renderer.addHandler(d,v,function(){g._raiseAnnotationEvent(t,v)}),h&&this.renderer.addHandler(h,v,function(){g._raiseAnnotationEvent(t,v)})}}},_raiseAnnotationEvent:function(e,t){this._raiseEvent("annotation_"+t,{annotation:e})}})}(jqxBaseFramework),!function(v){v.extend(v.jqx._jqxChart.prototype,{_moduleRangeSelector:!0,_renderXAxisRangeSelector:function(e,t){this._isTouchDevice=v.jqx.mobile.isTouchDevice();var i=this.seriesGroups[e],s=this._getXAxis(e),r=s?s.rangeSelector:void 0;if(this._isSelectorRefresh||(r&&r.renderTo?r.renderTo:this.host).find(".rangeSelector").remove(),!s||0==s.visible||"spider"==i.type)return!1;if(!this._isGroupVisible(e))return!1;if(!r)return!1;var n,o,i="horizontal"==i.orientation,a=(r.renderTo&&(i=!1),this.rtl&&(s.flip=!0),i?this.host.height():this.host.width()),l=this._getXAxisStats(e,s,a-=4),d=s.position;return r.renderTo&&r.position&&(d=r.position),this._isSelectorRefresh||(r=r.renderTo,n=v("<div class='rangeSelector jqx-disableselect' style='position: absolute; background-color: transparent;' onselectstart='return false;'></div>").appendTo(r||this.renderer.getContainer()),r?(n.css({width:r.width(),height:r.height()}),t.width=r.width(),t.height=r.height()):((r=this.host.coord()).top=0,r.left=0,o=this._selectorGetSize(s),i?(n.css("left",r.left+1+t.x+("right"!=d?-o:t.width)),n.css("top",r.top),n.css("height",a),n.css("width",o),t.height=o):(n.css("left",r.left+1),n.css("top",r.top+t.y+("top"!=d?t.height:-o)),n.css("height",o),n.css("width",a))),this._refreshSelector(e,s,l,n,t,i)),!(this._isSelectorRefresh=!1)},_refreshSelector:function(e,t,i,s,r,n){var o={},a=t.rangeSelector;this.seriesGroups[e];for(p in a)o[p]=a[p];delete o.padding;var l=o.minValue,d=o.maxValue,i=(null==l&&(l=Math.min(i.min.valueOf(),i.dsRange.min.valueOf())),null==d&&(d=Math.max(i.max.valueOf(),i.dsRange.max.valueOf())),this._isDate(i.min)&&(l=new Date(l)),this._isDate(i.max)&&(d=new Date(d)),t.position),l=(a.renderTo&&a.position&&(i=a.position),o.dataField=t.dataField,delete o.rangeSelector,o.type=t.type,o.baseUnit=a.baseUnit||t.baseUnit,o.minValue=l,o.maxValue=d,o.flip=t.flip,o.position=i,2),d=2,h=2,c=2;a.renderTo||(l=n?0:r.x,d=n?0:this._rect.width-r.x-r.width,h=n?r.y:5,c=n?this._paddedRect.height-this._plotRect.height:5);for(var r=null!=(r=a.padding)||a.renderTo?{left:r&&r.left?r.left:l,top:r&&r.top?r.top:h,right:r&&r.right?r.right:d,bottom:r&&r.bottom?r.bottom:c}:{left:l,top:h,right:d,bottom:c},u=t.rangeSelector.dataField,p=0;null==u&&p<this.seriesGroups.length;p++)for(var m=0;null==u&&m<this.seriesGroups[p].series.length;m++)u=this.seriesGroups[p].series[m].dataField;var l={padding:r,_isRangeSelectorInstance:!0,title:a.title||"",description:a.description||"",titlePadding:a.titlePadding,colorScheme:a.colorScheme||this.colorScheme,backgroundColor:a.backgroundColor||this.backgroundColor||"transparent",backgroundImage:a.backgroundImage||"",showBorderLine:a.showBorderLine||!!a.renderTo,borderLineWidth:a.borderLineWidth||this.borderLineWidth,borderLineColor:a.borderLineColor||this.borderLineColor,rtl:a.rtl||this.rtl,greyScale:a.greyScale||this.greyScale,renderEngine:this.renderEngine,showLegend:!1,enableAnimations:!1,enableEvents:!1,showToolTips:!1,source:this.source,xAxis:o,seriesGroups:[{orientation:n?"horizontal":"vertical",valueAxis:{visible:!1},type:t.rangeSelector.serieType||"area",skipOverlappingPoints:v.jqx.getByPriority([t.rangeSelector.skipOverlappingPoints,!0]),columnSeriesOverlap:v.jqx.getByPriority([t.rangeSelector.columnSeriesOverlap,!1]),columnsGapPercent:v.jqx.getByPriority([t.rangeSelector.columnsGapPercent,25]),seriesGapPercent:v.jqx.getByPriority([t.rangeSelector.seriesGapPercent,25]),series:[{dataField:u,opacity:.8,lineWidth:1}]}]},g=(t.rangeSelector.seriesGroups&&(l.seriesGroups=t.rangeSelector.seriesGroups),t.rangeSelector.valueAxis&&(l.valueAxis=t.rangeSelector.valueAxis),l.showBorderLine||(l.borderLineWidth=1,l.borderLineColor=v.jqx.getByPriority([this.backgroundColor,this.background,"#FFFFFF"]),l.showBorderLine=!0),this),h=(g._supressBindingRefresh=!0,s.empty(),s.jqxChart(l),g._rangeSelectorInstances[e]=s,g._supressBindingRefresh=!1,s.on(g._getEvent("mousemove"),function(){g._unselect(),g._hideToolTip()}),s.jqxChart("getInstance"));h._plotRect&&((d=h._paddedRect).height=h._plotRect.height,n||"top"!=i?n&&(c=h._renderData[0].xAxis.rect.width,d.width-=c,"right"!=i&&(d.x+=c)):d.y+=h._renderData[0].xAxis.rect.height,g._createSliderElements(e,s,d,a),g.removeHandler(v(document),g._getEvent("mousemove")+"."+this.element.id,g._onSliderMouseMove),g.removeHandler(v(document),g._getEvent("mousedown"),g._onSliderMouseDown),g.removeHandler(v(document),g._getEvent("mouseup")+"."+this.element.id,g._onSliderMouseUp),g.addHandler(v(document),g._getEvent("mousemove")+"."+this.element.id,g._onSliderMouseMove,{self:this,groupIndex:e,renderTo:s,swapXY:n}),g.addHandler(v(s),g._getEvent("mousedown"),this._onSliderMouseDown,{self:this,groupIndex:e,renderTo:s,swapXY:n}),g.addHandler(v(document),g._getEvent("mouseup")+"."+this.element.id,g._onSliderMouseUp,{element:this.element.id,self:this,groupIndex:e,renderTo:s,swapXY:n}))},_createSliderElements:function(e,t,i,s){t.find(".slider").remove();var r=s.selectedRangeColor||"blue",n=v.jqx.getByPriority([s.selectedRangeOpacity,.1]),o=v.jqx.getByPriority([s.unselectedRangeOpacity,.5]),a=s.unselectedRangeColor||"white",s=s.rangeLineColor||"grey",l=v("<div class='slider' style='position: absolute;'></div>");for(l.css({background:r,opacity:n,left:i.x,top:i.y,width:i.width,height:i.height}),l.appendTo(t);this._sliders.length<e+1;)this._sliders.push({});r="<div class='slider' style='position: absolute;  background: "+a+"; opacity: "+o+";'></div>",n="<div class='slider' style='position: absolute; background:"+s+"; opacity: "+o+";'></div>",a="<div class='slider jqx-rc-all' style='position: absolute; background: white; border-style: solid; border-width: 1px; border-color: "+s+";'></div>";this._sliders[e]={element:l,host:t,_sliderInitialAbsoluteRect:{x:l.coord().left,y:l.coord().top,width:i.width,height:i.height},_hostInitialAbsolutePos:{x:t.coord().left,y:t.coord().top},getRect:function(){return{x:this.host.coord().left-this._hostInitialAbsolutePos.x+this._sliderInitialAbsoluteRect.x,y:this.host.coord().top-this._hostInitialAbsolutePos.y+this._sliderInitialAbsoluteRect.y,width:this._sliderInitialAbsoluteRect.width,height:this._sliderInitialAbsoluteRect.height}},rect:i,left:v(r),right:v(r),leftTop:v(n),rightTop:v(n),leftBorder:v(n),leftBar:v(a),rightBorder:v(n),rightBar:v(a)},this._sliders[e].left.appendTo(t),this._sliders[e].right.appendTo(t),this._sliders[e].leftTop.appendTo(t),this._sliders[e].rightTop.appendTo(t),this._sliders[e].leftBorder.appendTo(t),this._sliders[e].rightBorder.appendTo(t),this._sliders[e].leftBar.appendTo(t),this._sliders[e].rightBar.appendTo(t);o=this._renderData[e].xAxis.data.axisStats,s=o.min.valueOf(),r=o.max.valueOf(),n=this._valueToOffset(e,s),a=this._valueToOffset(e,r);a<n&&(t=a,a=n,n=t),"horizontal"!=this.seriesGroups[e].orientation?l.css({left:Math.round(i.x+n),top:i.y,width:Math.round(a-n),height:i.height}):l.css({top:Math.round(i.y+n),left:i.x,height:Math.round(a-n),width:i.width}),this._setSliderPositions(e,n,a)},_setSliderPositions:function(e,t,i){var s=this.seriesGroups[e],r=this._getXAxis(e),n=r.rangeSelector,s="horizontal"==s.orientation,r=(r.rangeSelector.renderTo&&(s=!1),r.position),n=(n.renderTo&&n.position&&(r=n.position),this._sliders[e]),e=s?"top":"left",o=s?"left":"top",a=s?"height":"width",l=s?"width":"height",d=s?"y":"x",h=s?"x":"y",c=n.rect,s=(n.startOffset=t,n.endOffset=i,n.left.css(e,c[d]),n.left.css(o,c[h]),n.left.css(a,t),n.left.css(l,c[l]),n.right.css(e,c[d]+i),n.right.css(o,c[h]),n.right.css(a,c[a]-i+1),n.right.css(l,c[l]),n.leftTop.css(e,c[d]),n.leftTop.css(o,c[h]+(s&&"right"==r||!s&&"top"!=r?0:c[l])),n.leftTop.css(a,t),n.leftTop.css(l,1),n.rightTop.css(e,c[d]+i),n.rightTop.css(o,c[h]+(s&&"right"==r||!s&&"top"!=r?0:c[l])),n.rightTop.css(a,c[a]-i+1),n.rightTop.css(l,1),n.leftBorder.css(e,c[d]+t),n.leftBorder.css(o,c[h]),n.leftBorder.css(a,1),n.leftBorder.css(l,c[l]),c[l]/4);(s=20<s?20:s)<3&&(s=3),n.leftBar.css(e,c[d]+t-3),n.leftBar.css(o,c[h]+c[l]/2-s/2),n.leftBar.css(a,5),n.leftBar.css(l,s),n.rightBorder.css(e,c[d]+i),n.rightBorder.css(o,c[h]),n.rightBorder.css(a,1),n.rightBorder.css(l,c[l]),n.rightBar.css(e,c[d]+i-3),n.rightBar.css(o,c[h]+c[l]/2-s/2),n.rightBar.css(a,5),n.rightBar.css(l,s)},_resizeState:{},_onSliderMouseDown:function(e){e.stopImmediatePropagation(),e.stopPropagation();var t=e.data.self;t._sliders[e.data.groupIndex]&&(null==t._resizeState.state&&t._testAndSetReadyResize(e),"ready"==t._resizeState.state&&((v.jqx._rangeSelectorTarget=t)._resizeState.state="resizing"))},_valueToOffset:function(e,t){var i=this.seriesGroups[e],s=this._sliders[e],r=s.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats,n=r.min.valueOf(),r=r.max.valueOf()-n,e=(0==r&&(r=1),this._getXAxis(e)),i="horizontal"==i.orientation?"height":"width",t=(t.valueOf()-n)/r;return s.getRect()[i]*(e.flip?1-t:t)},_offsetToValue:function(e,t){var i=this._sliders[e],s=this.seriesGroups[e],e=this._getXAxis(e),s="horizontal"==s.orientation?"height":"width",s=i.getRect()[s],i=(s=0==s?1:s,i.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats),r=i.min.valueOf(),n=i.max.valueOf(),o=t/s*(n-r)+r;return 1==e.flip&&(o=n-t/s*(n-r)),this._isDate(i.min)||this._isDate(i.max)?o=new Date(o):(o=(o=null!=e.dataField&&!i.useIndeces?o:Math.round(o))<i.min?i.min:o)>i.max&&(o=i.max),o},_onSliderMouseUp:function(e){var t=v.jqx._rangeSelectorTarget;if(t){var i=e.data.groupIndex,s=e.data.swapXY,r=t._sliders[i];if(r&&"resizing"==t._resizeState.state){e.stopImmediatePropagation(),e.stopPropagation(),t._resizeState={},t.host.css("cursor","default");var e=s?"top":"left",n=s?"y":"x",e=r.element.coord()[e],s=e+(s?r.element.height():r.element.width()),o=r.getRect(),a=t._offsetToValue(i,e-o[n]),l=t._offsetToValue(i,s-o[n]),d=(!r.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats.isTimeUnit&&864e5<l.valueOf()-a.valueOf()&&(a.setHours(0,0,0,0),l.setDate(l.getDate()+1),l.setHours(0,0,0,0)),t._getXAxis(i));d.flip&&(e=a,a=l,l=e);for(var h=0;h<t.seriesGroups.length;h++)t._getXAxis(h)==d&&(t._selectorRange[h]={min:a,max:l});t._isSelectorRefresh=!0;s=t.enableAnimations;t._raiseEvent("rangeSelectionChanging",{instance:t,minValue:a,maxValue:l}),t.enableAnimations=!1,t.update(),t.enableAnimations=s,t._raiseEvent("rangeSelectionChanged",{instance:t,minValue:a,maxValue:l})}}},_onSliderMouseMove:function(e){var t,i,s,r,n,o,a,l,d,h,c,u,p=e.data.self,m=(e.data.renderTo,e.data.groupIndex),g=p._sliders[m],f=e.data.swapXY;g&&(t=g.getRect(),i=g.element,s=v.jqx.position(e),r=i.coord(),n=f?"top":"left",o=f?"height":"width",a=f?"y":"x","resizing"==p._resizeState.state?(e.stopImmediatePropagation(),e.stopPropagation(),"left"==p._resizeState.side?(h=Math.round(s[n]-r[n]),c=t[a],r[n]+h>=c&&r[n]+h<=c+t[o]&&(d=parseInt(i.css(n)),u=Math.max(2,(f?i.height():i.width())-h),i.css(o,u),i.css(n,d+h))):"right"==p._resizeState.side?(l=f?i.height():i.width(),h=Math.round(s[n]-r[n]-l),c=t[a],r[n]+l+h>=c&&r[n]+h+l<=c+t[o]&&(u=Math.max(2,l+h),i.css(o,u))):"move"==p._resizeState.side&&(l=f?i.height():i.width(),d=parseInt(i.css(n)),h=Math.round(s[n]-p._resizeState.startPos),r[n]+h>=t[a]&&r[n]+h+l<=t[a]+t[o]&&(p._resizeState.startPos=s[n],i.css(n,d+h))),u=(c=parseInt(i.css(n))-g.rect[a])+(f?i.height():i.width()),p._setSliderPositions(m,c,u)):p._testAndSetReadyResize(e))},_testAndSetReadyResize:function(e){var t=e.data.self,i=e.data.renderTo,s=e.data.groupIndex,s=t._sliders[s],r=e.data.swapXY,n=s.getRect(),s=s.element,e=v.jqx.position(e),o=s.coord(),a=r?"left":"top",l=r?"top":"left",d=t._isTouchDevice?30:5;e[a]>=o[a]&&e[a]<=o[a]+n[r?"width":"height"]?Math.abs(e[l]-o[l])<=d?(i.css("cursor",r?"row-resize":"col-resize"),t._resizeState={state:"ready",side:"left"}):Math.abs(e[l]-o[l]-(r?s.height():s.width()))<=d?(i.css("cursor",r?"row-resize":"col-resize"),t._resizeState={state:"ready",side:"right"}):e[l]+d>o[l]&&e[l]-d<o[l]+(r?s.height():s.width())?(i.css("cursor","pointer"),t._resizeState={state:"ready",side:"move",startPos:e[l]}):(i.css("cursor","default"),t._resizeState={}):(i.css("cursor","default"),t._resizeState={})},_selectorGetSize:function(e){return e.rangeSelector.renderTo?0:e.rangeSelector.size||this._paddedRect.height/3}})}(jqxBaseFramework),!function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleWaterfall:!0,_isSummary:function(e,t){for(var i=this.seriesGroups[e],s=0;s<i.series.length;s++)if(void 0!==i.series[s].summary&&void 0!==this._getDataValue(t,i.series[s].summary,e))return!0;return!1},_applyWaterfall:function(e,t,i,s,r,n,o,a,l){var d=this.seriesGroups[i];if(0==e.length)return e;for(var h=s,c={},u=[],p=void 0,m=[],g=0;g<d.series.length;g++)m.push(this._isSerieVisible(i,g));for(var f={},v=0;v<t;v++)for(var x,y,w,b,_=s,q=0,j=this._isSummary(i,v),g=0;g<e.length;g++)m[g]&&(x=0,j?(x=_==s?r:0,e[g][v].value=c[g],e[g][v].summary=!0,p=e[g][v].value<x,a&&(p=!p),b=0,b=isNaN(n)?this._getDataPointOffsetDiff(e[g][v].value,x,x,NaN,o,s,a):this._getDataPointOffsetDiff(e[g][v].value+q,0==q?r:q,x||r,n,o,s,a),e[g][v].to=_+(p?b:-b),e[g][v].from=_,l&&(q+=e[g][v].value,_=e[g][v].to)):(y=l?-1:g,isNaN(e[g][v].value)||(void 0===f[y]&&(x=r,f[y]=!0),p=e[g][v].value<x,a&&(p=!p),b=w=NaN,w=l?h:0==v?s:e[g][u[g]].to,b=0,b=isNaN(n)?this._getDataPointOffsetDiff(e[g][v].value,x,x,NaN,o,s,a):this._getDataPointOffsetDiff(e[g][v].value+(isNaN(c[y])?0:c[y]),isNaN(c[y])?r:c[y],x||r,n,o,w,a),e[g][v].to=h=w+(p?b:-b),e[g][v].from=w,isNaN(c[y])?c[y]=e[g][v].value:c[y]+=e[g][v].value,-1==y&&(isNaN(c[g])?c[g]=e[g][v].value:c[g]+=e[g][v].value),l||(u[g]=v))));return e}})}(jqxBaseFramework),!function(o){o.jqx.jqxWidget("jqxCheckBox","",{}),o.extend(o.jqx._jqxCheckBox.prototype,{defineInstance:function(){var e={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"16px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",keyboardCheck:!0,enableHover:!0,hasInput:!0,rtl:!1,updated:null,disabledContainer:!1,changeType:null,_canFocus:!0,rippleEffect:!0,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};return this===o.jqx._jqxCheckBox.prototype||o.extend(!0,this,e),e},createInstance:function(e){this._createFromInput("CheckBox"),this.render()},_createFromInput:function(e){var t,i,s,r,n=this;"input"==n.element.nodeName.toLowerCase()&&(n.field=n.element,n.field.className&&(n._className=n.field.className),t={title:n.field.title},n.field.value&&(t.value=n.field.value),n.field.checked&&(t.checked=!0),n.field.id.length?t.id=n.field.id.replace(/[^\w]/g,"_")+"_"+e:t.id=o.jqx.utilities.createId()+"_"+e,e=!1,!(r=n.element.nextSibling)||"#text"!=r.nodeName&&"span"!=r.nodeName||(e=!0),i=0,s=o("<div></div>",t),e&&(s.append(r),(e=o("<span>"+o(r).text()+"</span>")).appendTo(o(document.body)),i+=e.width(),e.remove()),s[0].style.cssText=n.field.style.cssText,n.width||(n.width=o(n.field).width()+i+10),n.height||(n.height=o(n.field).outerHeight()+10),o(n.field).hide().after(s),r=n.host.data(),n.host=s,n.host.data(r),n.element=s[0],n.element.id=n.field.id,n.field.id=t.id,n._className&&(n.host.addClass(n._className),o(n.field).removeClass(n._className)),n.field.tabIndex&&(e=n.field.tabIndex,n.field.tabIndex=-1,n.element.tabIndex=e))},_addInput:function(){var e;this.hasInput&&(this.input&&this.input.remove(),e=this.host.attr("name"),this.input=o("<input type='hidden'/>"),this.host.append(this.input),e&&this.input.attr("name",e),this.input.val(this.checked),this.host.attr("role","checkbox"),o.jqx.aria(this))},render:function(){this.init=!0;var r=this,e=(this.setSize(),this.propertyChangeMap.width=function(e,t,i,s){r.setSize()},this.propertyChangeMap.height=function(e,t,i,s){r.setSize()},this._removeHandlers(),this.width||this.host.css("overflow-x","visible"),this.height||this.host.css("overflow-y","visible"),this.checkbox&&(this.checkbox.remove(),this.checkbox=null),this.checkMark&&(this.checkMark.remove(),this.checkMark=null),this.box&&(this.box.remove(),this.box=null),this.clear&&(this.clear.remove(),this.clear=null),null==this.boxSize&&(this.boxSize=16),parseInt(this.boxSize)+"px"),t=Math.floor((parseInt(this.boxSize)-16)/2),i=t,t=(t+="px",i+="px",16!=parseInt(this.boxSize)?this.checkbox=o('<div><div style="width: '+e+"; height: "+e+';"><span style="position: relative; left: '+t+"; top: "+i+'; width: 16px; height: 16px;"></span></div></div>'):this.checkbox=o('<div><div style="width: '+e+"; height: "+e+';"><span style="width: '+e+"; height: "+e+';"></span></div></div>'),this.host.prepend(this.checkbox),this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=o('<div style="clear: both;"></div>'),this.host.append(this.clear)),this.checkMark=o(this.checkbox[0].firstChild.firstChild),this.box=this.checkbox,this.box.addClass(this.toThemeProperty("jqx-checkbox-default")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-rc-all")),this.disabled&&this.disable(),this.disabledContainer||(this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-checkbox"))),this.locked&&!this.disabledContainer&&this.host.css("cursor","auto"),this.element.getAttribute("checked"));"checked"!=t&&"true"!=t&&1!=t||(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),this.init=!1,this._centerBox(),this.isMaterialized()&&this.rippleEffect&&(o(this.checkbox).addClass("ripple"),o.jqx.ripple(o(this.checkbox),this.host,"checkbox"))},_centerBox:function(){var e;this.height&&-1==this.height.toString().indexOf("%")&&this.box&&(e=parseInt(this.height),this.host.css("line-height",e+"px"),e=e-parseInt(this.boxSize)-1,e/=2,this.box.css("margin-top",parseInt(e)))},refresh:function(e){e||(this.setSize(),this._render())},resize:function(e,t){this.width=e,this.height=t,this.refresh()},setSize:function(){(null==this.width||-1==this.width.toString().indexOf("px"))&&(null==this.width||isNaN(this.width))?null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.element.style.width=this.width):this.host.width(this.width),(null==this.height||-1==this.height.toString().indexOf("px"))&&(null==this.height||isNaN(this.height))?null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.element.style.height=this.height):this.host.height(this.height),this._centerBox()},_addHandlers:function(){var t=this,e="mousedown";o.jqx.mobile.isTouchDevice()&&(e=o.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.box,e,function(e){if(!t.disabled&&!t.enableContainerClick&&!t.locked)return t.changeType="mouse",t.toggle(),t.updated&&(e.owner=t).updated(e,t.checked,t.oldChecked),e.preventDefault&&e.preventDefault(),!1}),this.disabledContainer||(this.addHandler(this.host,"keydown",function(e){if(!t.disabled&&!t.locked&&t.keyboardCheck&&32==e.keyCode)return!t._canFocus||(t.changeType="keyboard",t.toggle(),t.updated&&(e.owner=t).updated(e,t.checked,t.oldChecked),e.preventDefault&&e.preventDefault(),!1)}),this.addHandler(this.host,e,function(e){if(!t.disabled&&t.enableContainerClick&&!t.locked)return t.clickTime=new Date,t.changeType="mouse",t.toggle(),e.preventDefault&&e.preventDefault(),t._canFocus&&t.focus(),!1}),this.addHandler(this.host,"selectstart",function(e){if(!t.disabled&&t.enableContainerClick)return e.preventDefault&&e.preventDefault(),!1}),this.addHandler(this.host,"mouseup",function(e){!t.disabled&&t.enableContainerClick&&e.preventDefault&&e.preventDefault()}),this.addHandler(this.host,"focus",function(e){if(!t.disabled&&!t.locked)return!t._canFocus||(t.enableHover&&t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault&&e.preventDefault(),o(t.checkbox).removeClass("active"),(!t.clickTime||t.clickTime&&300<new Date-t.clickTime)&&o(t.checkbox).addClass("active"),!(t.hovered=!0))}),this.addHandler(this.host,"blur",function(e){if(o(t.checkbox).removeClass("active"),!t.disabled&&!t.locked)return!t._canFocus||(t.enableHover&&t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault&&e.preventDefault(),t.hovered=!1)}),this.addHandler(this.host,"mouseenter",function(e){if(t.locked&&t.host.css("cursor","arrow"),t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),!(t.hovered=!0)}),this.addHandler(this.host,"mouseleave",function(e){if(t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),t.hovered=!1}),this.addHandler(this.box,"mouseenter",function(){t.locked||t.disabled||t.enableContainerClick||(t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){t.disabled||t.enableContainerClick||(t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}))},focus:function(){try{this.host.focus()}catch(e){}},_removeHandlers:function(){var e=o.jqx.mobile.isTouchDevice()?"touchend":"mousedown";this.box&&(this.removeHandler(this.box,e),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave")),this.removeHandler(this.host,e),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus")},_render:function(){this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.init||this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-checkbox-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates(),this.host.attr("checked",this.checked)},_setState:function(e,t){this.checked!=e&&(this.checked=e,this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-checked"):null==this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-indeterminate"):this.checkMark[0].className=""),!1!==t&&!0!==t||(this.locked=t),e?this.element.setAttribute("checked",!0):this.element.removeAttribute("checked")},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e||("string"==typeof e?("true"==e&&this.check(),"false"==e&&this.uncheck(),""==e&&this.indeterminate()):(1==e&&this.check(),0==e&&this.uncheck(),null==e&&this.indeterminate())),this.checked},check:function(){this.checked=!0;var e=this,t=(this.checkMark.removeClass(),this.element.setAttribute("checked",!0),o.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=this.groupName&&0<this.groupName.length&&(t=o.find(this.toThemeProperty(".jqx-checkbox",!0)),o.each(t,function(){o(this).jqxCheckBox("groupName")==e.groupName&&this!=e.element&&o(this).jqxCheckBox("uncheck")})),this.changeType);this._raiseEvent("0",{checked:!0}),this.changeType=t,this._raiseEvent("3",{checked:!0}),null!=this.input&&(this.input.val(this.checked),o.jqx.aria(this,"aria-checked",this.checked),this.host.attr("checked",this.checked))},uncheck:function(){this.checked=!1;var e=this,t=(this.element.removeAttribute("checked"),o.jqx.browser.msie||0==this.animationHideDelay?""!=e.checkMark[0].className&&(e.checkMark[0].className=""):(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){""!=e.checkMark[0].className&&(e.checkMark[0].className="")})),this.changeType);this._raiseEvent("1"),this.changeType=t,this._raiseEvent("3",{checked:!1}),null!=this.input&&(this.input.val(this.checked),o.jqx.aria(this,"aria-checked",this.checked),this.host.attr("checked",this.checked))},indeterminate:function(){this.checked=null,this.checkMark.removeClass(),o.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){}));this.changeType;this._raiseEvent("2"),this._raiseEvent("3",{checked:null}),null!=this.input&&(this.input.val(this.checked),o.jqx.aria(this,"aria-checked","undefined"),this.host.attr("checked","undefined"))},toggle:function(){this.disabled||this.locked||(null!=this.groupName&&0<this.groupName.length?1!=this.checked&&(this.checked=!0,this.updateStates()):(this.oldChecked=this.checked,1==this.checked?this.checked=!!this.hasThreeStates&&null:this.checked=null!=this.checked,this.updateStates(),null!=this.input&&this.input.val(this.checked)))},updateStates:function(){this.checked?this.check():0==this.checked?this.uncheck():null==this.checked&&this.indeterminate()},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.addClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled")),o.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.disabled=!1,o.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this.host.remove()},_raiseEvent:function(e,t){if(!this.init){e=this.events[e],e=new o.Event(e);e.owner=this,(t=t||{}).type=this.changeType,this.changeType=null,e.args=t;try{var i=this.host.trigger(e)}catch(e){}return i}},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.setSize()},propertyChangedHandler:function(e,t,i,s){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){if("enableContainerClick"!=t||e.disabled||e.locked||(s?e.host.css("cursor","pointer"):e.host.css("cursor","auto")),"rtl"==t&&(s?(e.box.addClass(e.toThemeProperty("jqx-checkbox-rtl")),e.host.addClass(e.toThemeProperty("jqx-rtl"))):(e.box.removeClass(e.toThemeProperty("jqx-checkbox-rtl")),e.host.removeClass(e.toThemeProperty("jqx-rtl")))),"boxSize"==t&&e.render(),"theme"==t&&o.jqx.utilities.setTheme(i,s,e.host),"checked"==t&&s!=i)switch(s){case!0:e.check();break;case!1:e.uncheck();break;case null:e.indeterminate()}"disabled"==t&&s!=i&&(s?e.disable():e.enable())}}})}(jqxBaseFramework),!function(h){h.jqx.jqxWidget("jqxColorPicker","",{}),h.extend(h.jqx._jqxColorPicker.prototype,{defineInstance:function(){var e={disabled:!1,height:null,width:null,color:new h.jqx.color({hex:"ff0000"}),redString:"R:",greenString:"G:",blueString:"B:",showTransparent:!1,colorMode:"saturation",_delayLoading:!1,events:["colorchange"]};return this===h.jqx._jqxColorPicker.prototype||h.extend(!0,this,e),e},_createFromInput:function(e){var t,i,s=this;"input"==s.element.nodeName.toLowerCase()&&(s.field=s.element,s.field.className&&(s._className=s.field.className),t={title:s.field.title},s.field.getAttribute("value")&&(i=s.field.getAttribute("value"),s.color=new h.jqx.color({hex:i})),s.field.id.length?t.id=s.field.id.replace(/[^\w]/g,"_")+"_"+e:t.id=h.jqx.utilities.createId()+"_"+e,(i=h("<div></div>",t))[0].style.cssText=s.field.style.cssText,s.width||(s.width=h(s.field).width()),s.height||(s.height=h(s.field).outerHeight()),h(s.field).hide().after(i),e=s.host.data(),s.host=i,s.host.data(e),s.element=i[0],s.element.id=s.field.id,s.field.id=t.id,s._className&&(s.host.addClass(s._className),h(s.field).removeClass(s._className)),s.field.tabIndex&&(e=s.field.tabIndex,s.field.tabIndex=-1,s.element.tabIndex=e))},createInstance:function(e){this._createFromInput("jqxColorPicker"),this.render();var t=this;h.jqx.utilities.resize(this.host,function(){t._setSize(),t.refresh()},!1,!this._delayLoading)},render:function(){this.element.innerHTML="";this._isTouchDevice=h.jqx.mobile.isTouchDevice(),"string"==typeof this.color&&(this.color=new h.jqx.color({hex:this.color})),this._setSize(),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-color-picker")),this.container=h("<div style='width: 100%; height: 100%; position: relative;'></div>"),this.container.appendTo(this.host),this.colorMap=h("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorMap.appendTo(this.container),this.colorBar=h("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorBar.appendTo(this.container),this.colorPanel=h("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorPanel.appendTo(this.container),this.hexPanel=h("<div style='float: left;'></div>"),this.hexPanel.appendTo(this.colorPanel),this.hexPanel.append('<span style="text-align: left;" >#</span>'),this.hex=h("<input maxlength='6' style='height: 18px;'/>"),this.hex.addClass(this.toThemeProperty("jqx-input")),this.hex.addClass(this.toThemeProperty("jqx-widget-content")),this.hex.appendTo(this.hexPanel),this.colorPanel.append('<div style="font-size: 1px; clear: both;"></div>'),this.rgb=h("<div style='margin-top: 2px;'></div>"),this.rgb.appendTo(this.colorPanel),this.red=h("<input style='width: 25px; height: 18px;' maxlength='3'/>"),this.red.addClass(this.toThemeProperty("jqx-input")),this.red.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.redString+"</span>"),this.red.appendTo(this.rgb),this.green=h("<input style='margin-right: 2px; height: 18px; width: 25px;' maxlength='3'/>"),this.green.addClass(this.toThemeProperty("jqx-input")),this.green.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.greenString+"</span>"),this.green.appendTo(this.rgb),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this._mapImageOverlayURL=this._getImageUrl(this.colorPanel),this.colorPanel.removeClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this.blue=h("<input style='height: 18px; width: 25px;' maxlength='3'/>"),this.blue.addClass(this.toThemeProperty("jqx-input")),this.blue.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.blueString+"</span>"),this.blue.appendTo(this.rgb),this.preview=h("<div style='background: red; position: absolute;'></div>"),this.preview.addClass(this.toThemeProperty("jqx-widget-content")),this.preview.appendTo(this.colorPanel),this.colorBarPointer=h("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorBarPointer.addClass(this.toThemeProperty("jqx-color-picker-bar-pointer")),this.colorMapPointer=h("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")),this.transparent=h("<div style='text-align: center; clear: both;'><a style='text-align: center;' href='#'>transparent</a></div>"),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.element.disabled=!0),this._addHandlers()},val:function(e){return 0==arguments.length?"#"+this.color.hex:(this.setColor(e),this.color.hex)},_setPositionFromValue:function(){var e,t=this,i=t.color.h,s=100-t.color.v,r=t.colorMap.height(),n=t.colorMap.width(),i=i*n/360,o=s*r/100;"saturation"==this.colorMode?(e=(e=100-t.color.s)*r/100,t._saturation=100-t.color.s,t.colorMapPointer.css("margin-left",i-8),t.colorMapPointer.css("margin-top",o-8),t.colorBarPointer.css("margin-top",e-8),t.colorMapImageOverlay.css("opacity",(100-t.color.s)/100)):(i=t.color.s*n/100,o=s*r/100,e=(e=360-t.color.h)*r/360,t._hue=t.color.h,t.colorMapPointer.css("margin-left",i-8),t.colorMapPointer.css("margin-top",o-8),t.colorBarPointer.css("margin-top",e-8))},updateRGB:function(){this.color.setRgb(this.red.val(),this.green.val(),this.blue.val()),this._updateUI(),this._raiseEvent("0",{color:this.color}),this.color.transparent=!1},_setPosition:function(e,t,i){var s=parseInt(e.pageX),r=parseInt(t.offset().left),n=parseInt(e.pageY),o=parseInt(t.offset().top);this._isTouchDevice&&(s=(e=h.jqx.position(e)).left,n=e.top),-1==i[0].className.indexOf("jqx-color-picker-bar")&&i.css("margin-left",s-8-r),o<=n&&n<=o+t.height()&&i.css("margin-top",n-8-o)},_handleKeyInput:function(e,t,i){if(!e.disabled){if(!e._validateKey(t))return t;i.val(e._setValueInRange(i.val(),0,255)),this.updateRGB(),this._setPositionFromValue()}},_addHandlers:function(){function t(e){var t;s._setPosition(e,s.colorMap,s.colorMapPointer),"saturation"==s.colorMode?(360<(t=s._valuesFromMouse(e,s.colorMap,360,100)).x&&(t.x=360),s.color.setHsv(t.x,null!=s._saturation?100-s._saturation:100,100-t.y)):(100<(t=s._valuesFromMouse(e,s.colorMap,100,100)).x&&(t.x=100),s.color.setHsv(null!=s._hue?s._hue:360,t.x,100-t.y)),s._updateUI(),s._raiseEvent("0",{color:s.color}),s.color.transparent=!1}function i(e){var t;s._setPosition(e,s.colorBar,s.colorBarPointer),"saturation"==s.colorMode?(t=s._valuesFromMouse(e,s.colorBar,100,100),s.color.s=t.y,s._saturation=t.y,s.colorMapImageOverlay.css("opacity",s.color.s/100),s.color.setHsv(s.color.h,100-s.color.s,s.color.v)):(t=s._valuesFromMouse(e,s.colorBar,100,360),s.color.h=360-t.y,s._hue=s.color.h,s.color.setHsv(s.color.h,s.color.s,s.color.v)),s._updateUI(),s._raiseEvent("0",{color:s.color}),s.color.transparent=!1}var s=this,e=(this.addHandler(this.colorMapPointer,"dragStart",function(e){return e.preventDefault(),!1}),this.addHandler(this.colorBarPointer,"dragStart",function(e){return e.preventDefault(),!1}),this.addHandler(this.transparent,"click",function(e){s._raiseEvent("0",{color:"transparent"}),e.preventDefault(),s.color.transparent=!0}),this.addHandler(this.host,"selectionstart",function(e){return e.preventDefault(),!1}),this.addHandler(this.blue,"keyup blur",function(e){s._handleKeyInput(s,e,s.blue)}),this.addHandler(this.green,"keyup blur",function(e){s._handleKeyInput(s,e,s.green)}),this.addHandler(this.red,"keyup blur",function(e){s._handleKeyInput(s,e,s.red)}),this.addHandler(this.hex,"keyup blur",function(e){if(!s.disabled)return s._validateKey(e)?void(6==s.hex.val().toString().length&&(s.hex.val(s.color.validateHex(s.hex.val())),s.color.setHex(s.hex.val()),s._updateUI(),s._setPositionFromValue(),s._raiseEvent("0",{color:s.color}))):e}),this.addHandler(this.colorMap,"dragstart",function(e){return e.preventDefault(),!1}),"mousedown.picker"+this.element.id),e=(this._isTouchDevice&&(e=h.jqx.mobile.getTouchEventName("touchstart")+".picker"+this.element.id),this.addHandler(this.colorMap,e,function(e){s.disabled||(s.beginDrag=!0,t(e))}),"mousemove.picker"+this.element.id),e=(this._isTouchDevice&&(e=h.jqx.mobile.getTouchEventName("touchmove")+".picker"+this.element.id),this.addHandler(h(document),e,function(e){s.disabled||1==s.beginDrag&&(t(e),s._isTouchDevice&&e.preventDefault())}),this._isTouchDevice||this.addHandler(this.colorBar,"dragstart",function(e){return e.preventDefault(),!1}),"mousemove.colorBar"+this.element.id),r="mousedown.colorBar"+this.element.id,n="mouseup.colorBar"+this.element.id;this._isTouchDevice&&(e=h.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+this.element.id,r=h.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+this.element.id,n=h.jqx.mobile.getTouchEventName("touchend")+".colorBar"+this.element.id),this.addHandler(this.colorBar,r,function(e){s.disabled||(s.beginDragBar=!0,i(e))}),this.addHandler(h(document),e,function(e){s.disabled||1==s.beginDragBar&&(i(e),s._isTouchDevice&&e.preventDefault())}),this.addHandler(h(document),n,function(e){s.disabled||(s.beginDrag=!1,s.beginDragBar=!1)})},_removeHandlers:function(){this.removeHandler(this.transparent,"click"),this.removeHandler(this.host,"selectionstart"),this.removeHandler(this.blue,"keyup blur"),this.removeHandler(this.green,"keyup blur"),this.removeHandler(this.red,"keyup blur"),this.removeHandler(this.hex,"keyup blur"),this.removeHandler(this.colorMap,"dragstart"),this.removeHandler(this.colorBar,"dragstart"),this.removeHandler(this.colorMapPointer,"dragStart"),this.removeHandler(this.colorBarPointer,"dragStart");var e=this.element.id,t="mousemove.colorBar"+e,i="mousedown.colorBar"+e,s="mouseup.colorBar"+e,r="mousedown.picker"+e,n="mousemove.picker"+e;this._isTouchDevice&&(t=h.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+e,i=h.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+e,s=h.jqx.mobile.getTouchEventName("touchend")+".colorBar"+e,r=h.jqx.mobile.getTouchEventName("touchstart")+".picker"+e,n=h.jqx.mobile.getTouchEventName("touchmove")+".picker"+e),this.removeHandler(this.colorMap,r),this.removeHandler(this.colorMap,n),this.removeHandler(this.colorBar,i),this.removeHandler(this.colorBar,t),this.removeHandler(h(document),n),this.removeHandler(h(document),t),this.removeHandler(h(document),s)},_raiseEvent:function(e,t){e=this.events[e],t=(t=null==t?{owner:null}:t)||{},t.owner=this,e=new h.Event(e);return e.owner=this,e.args=t,this.host.trigger(e)},setColor:function(e){e&&("transparent"==e?(this.color.transparent=!0,this.color.hex="000",this.color.r=0,this.color.g=0,this.color.b=0):e.r?this.color=new h.jqx.color({rgb:e}):"#"==e.substring(0,1)?this.color=new h.jqx.color({hex:e.substring(1)}):this.color=new h.jqx.color({hex:e}),this._updateUI(),this._setPositionFromValue(),this._raiseEvent("0",{color:this.color}))},getColor:function(){return this.color},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this.refresh()},propertyChangedHandler:function(e,t,i,s){null!=e.isInitialized&&0!=e.isInitialized&&("colorMode"==t&&e.refresh(),"color"==t&&(e._updateUI(),e._setPositionFromValue(),e._raiseEvent("0",{color:s})),"width"!=t&&"height"!=t||(e._setSize(),e.refresh()),"showTransparent"==t&&e.refresh(),"disabled"==t&&((this.element.disabled=s)?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled"))))},_valuesFromMouse:function(e,t,i,s){var r=0,n=0,o=t.offset(),a=t.height(),t=t.width(),l=e.pageX,d=e.pageY;return this._isTouchDevice&&(l=(e=h.jqx.position(e)).left,d=e.top),r=l<o.left?0:l>o.left+t?t:l-o.left+1,n=d<o.top?0:d>o.top+a?a:d-o.top+1,{x:parseInt(r/t*i),y:parseInt(n/a*s)}},_validateKey:function(e){return 9!=e.keyCode&&16!=e.keyCode&&38!=e.keyCode&&29!=e.keyCode&&40!=e.keyCode&&17!=e.keyCode&&37!=e.keyCode&&(!e.ctrlKey||e.keyCode!="c".charCodeAt()&&e.keyCode!="v".charCodeAt())&&(!e.ctrlKey||e.keyCode!="C".charCodeAt()&&e.keyCode!="V".charCodeAt())&&(!e.ctrlKey&&!e.shiftKey)},_setValueInRange:function(e,t,i){return""==e||isNaN(e)?t:i<(e=parseInt(e))?i:e<t?t:e},destroy:function(){h.jqx.utilities.resize(this.host,null,!0),this.host.removeClass(),this._removeHandlers(),this.host.remove()},setPointerStyle:function(e){this.colorMapPointer.removeClass(),"transparent"!=e&&""!=e.hex||this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer"));"Black"==(255-(.299*e.r+.587*e.g+.114*e.b)<105?"Black":"White")?this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")):this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer-alt"))},_updateUI:function(){var e=this,t=(e.red.val(e.color.r),e.green.val(e.color.g),e.blue.val(e.color.b),e.hex.val(e.color.hex),new h.jqx.color({hex:"fff"}));"saturation"==this.colorMode?(t.setHsv(this.color.h,100,this.color.v),e.colorBar.css("background","#"+t.hex)):(t.setHsv(this.color.h,100,100),e.colorMap.css("background-color","#"+t.hex)),e.preview.css("background","#"+this.color.hex),e.setPointerStyle(this.color)},_setSize:function(){(null!=this.width&&-1!=this.width.toString().indexOf("px")||null!=this.width&&!isNaN(this.width))&&this.host.width(this.width),(null!=this.height&&-1!=this.height.toString().indexOf("px")||null!=this.height&&!isNaN(this.height))&&this.host.height(this.height),this.host.width()<130&&this.host.width(150),this.host.height()<70&&this.host.height(70),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.height(this.height)},_arrange:function(){var e=this.host.height(),t=this.host.width(),i=e-44;(i=this.showTransparent?e-64:i)<=0||(this.colorMap.width(85*t/100),this.colorMap.height(i),this.colorBar.height(i),this.colorBar.css("left",this.colorMap.width()+4),this.colorBar.width(8*t/100),this.colorBarPointer.width(this.colorBar.width()),this.colorPanel.width(t),this.colorPanel.height(40),this.showTransparent&&this.colorPanel.height(60),this.colorPanel.css("top",i+4),this.colorPanel.css("text-align","left"),this.hex.width(this.colorMap.width()-this.colorBar.width()-4),e=this.red.prev().outerWidth()-this.hex.prev().outerWidth(),this.hex.css("margin-left",(e=e<4?4:e)+"px"),this.preview.width(this.colorBar.width()+7),this.preview.height(25),this.preview.addClass(this.toThemeProperty("jqx-rc-all")),this.preview.addClass(this.toThemeProperty("jqx-color-picker-preview")),this.preview.css("left",this.colorMap.width()-2),this.preview.css("top","5px"),0<(t=this.hex.width()-this.blue.prev().outerWidth()-this.green.prev().outerWidth()-6)&&(this.blue.width(t/3),this.green.width(t/3),this.red.width(t/3)))},_getColorPointer:function(){var e=h("<div></div>");return e.addClass(this.toThemeProperty("jqx-color-picker-pointer")),e},_getImageUrl:function(e){e=e.css("backgroundImage");return e=(e=(e=(e=e.replace('url("',"")).replace('")',"")).replace("url(","")).replace(")","")},refresh:function(){this._delayLoading||(this._saturation=null,this._hue=null,this.colorMap.removeClass(),this.colorBar.removeClass(),this.colorMap.addClass(this.toThemeProperty("jqx-disableselect")),this.colorBar.addClass(this.toThemeProperty("jqx-disableselect")),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-panel")),this.colorBar.css("background-image",""),this.colorMap.css("background-image",""),"saturation"==this.colorMode?(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar"))):(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map-hue")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar-hue"))),this._barImageURL=this._getImageUrl(this.colorBar),this._mapImageURL=this._getImageUrl(this.colorMap),this._arrange(),this.colorBar.children().remove(),this.colorBarImageContainer=h("<div style='overflow: hidden;'></div>"),this.colorBarImageContainer.width(this.colorBar.width()),this.colorBarImageContainer.height(this.colorBar.height()),this.colorBarImageContainer.appendTo(this.colorBar),this.colorBarImage=h("<img/>"),this.colorBarImage.appendTo(this.colorBarImageContainer),this.colorBarImage.attr("src",this._barImageURL),this.colorBar.css("background-image","none"),this.colorBarImage.attr("width",this.colorBar.width()),this.colorBarImage.attr("height",this.colorBar.height()),this.colorBarPointer.appendTo(this.colorBar),this.colorMap.children().remove(),this.colorMapImage=h("<img/>"),this.colorMapImage.appendTo(this.colorMap),this.colorMapImage.attr("src",this._mapImageURL),this.colorMap.css("background-image","none"),this.colorMapImage.attr("width",this.colorMap.width()),this.colorMapImage.attr("height",this.colorMap.height()),this.colorMapImageOverlay=h("<img style='position: absolute; left: 0; top: 0;'/>"),this.colorMapImageOverlay.prependTo(this.colorMap),this.colorMapImageOverlay.attr("src",this._mapImageOverlayURL),this.colorMapImageOverlay.attr("width",this.colorMap.width()),this.colorMapImageOverlay.attr("height",this.colorMap.height()),this.colorMapImageOverlay.css("opacity",0),this.colorMapPointer.appendTo(this.colorMap),this.showTransparent&&this.transparent.appendTo(this.colorPanel),this._updateUI(),this._setPositionFromValue())}}),h.jqx.color=function(e){var t,i={r:0,g:0,b:0,h:0,s:0,v:0,hex:"",hexToRgb:function(e){var t="00",i="00",s="00";return 6==(e=this.validateHex(e)).length?(t=e.substring(0,2),i=e.substring(2,4),s=e.substring(4,6)):(4<e.length&&(t=e.substring(4,e.length),e=e.substring(0,4)),2<e.length&&(i=e.substring(2,e.length),e=e.substring(0,2)),0<e.length&&(s=e.substring(0,e.length))),{r:this.hexToInt(t),g:this.hexToInt(i),b:this.hexToInt(s)}},validateHex:function(e){return e=6<(e=(e=new String(e).toUpperCase()).replace(/[^A-F0-9]/g,"0")).length?e.substring(0,6):e},webSafeDec:function(e){return e=Math.round(e/51),e*=51},hexToWebSafe:function(e){var t,i,e=3==e.length?(t=e.substring(0,1),i=e.substring(1,1),e.substring(2,1)):(t=e.substring(0,2),i=e.substring(2,4),e.substring(4,6));return this.intToHex(this.webSafeDec(this.hexToInt(t)))+this.intToHex(this.webSafeDec(this.hexToInt(i)))+this.intToHex(this.webSafeDec(this.hexToInt(e)))},rgbToWebSafe:function(e){return{r:this.webSafeDec(e.r),g:this.webSafeDec(e.g),b:this.webSafeDec(e.b)}},rgbToHex:function(e){return this.intToHex(e.r)+this.intToHex(e.g)+this.intToHex(e.b)},intToHex:function(e){e=parseInt(e).toString(16);return(e=1==e.length?"0"+e:e).toUpperCase()},hexToInt:function(e){return parseInt(e,16)},hslToRgb:function(e){var t=parseInt(e.h)/360,i=parseInt(e.s)/100,e=parseInt(e.l)/100,i=2*e-(e=e<=.5?e*(1+i):e+i-e*i),s=t,r=t-1/3;return{r:Math.round(255*this.hueToRgb(i,e,t+1/3)),g:Math.round(255*this.hueToRgb(i,e,s)),b:Math.round(255*this.hueToRgb(i,e,r))}},hueToRgb:function(e,t,i){return i<0?i+=1:1<i&&--i,6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e},rgbToHsv:function(e){var t=e.r/255,i=e.g/255,e=e.b/255,s={h:0,s:0,v:0},r=0,n=0,r=i<=t&&e<=t?(n=t,e<i?e:i):e<=i&&t<=i?(n=i,e<t?e:t):(n=e,t<i?t:i);return s.v=n,s.s=n?(n-r)/n:0,s.s?(r=n-r,s.h=t==n?(i-e)/r:i==n?2+(e-t)/r:4+(t-i)/r,s.h=parseInt(60*s.h),s.h<0&&(s.h+=360)):s.h=0,s.s=parseInt(100*s.s),s.v=parseInt(100*s.v),s},hsvToRgb:function(e){var t={r:0,g:0,b:0},i=e.h,s=e.s,r=e.v;if(0==s)t.r=t.g=t.b=0==r?0:parseInt(255*r/100);else{360==i&&(i=0),i/=60,s/=100,r/=100;var e=parseInt(i),i=i-e,n=r*(1-s),o=r*(1-s*i),a=r*(1-s*(1-i));switch(e){case 0:t.r=r,t.g=a,t.b=n;break;case 1:t.r=o,t.g=r,t.b=n;break;case 2:t.r=n,t.g=r,t.b=a;break;case 3:t.r=n,t.g=o,t.b=r;break;case 4:t.r=a,t.g=n,t.b=r;break;case 5:t.r=r,t.g=n,t.b=o}t.r=parseInt(255*t.r),t.g=parseInt(255*t.g),t.b=parseInt(255*t.b)}return t},setRgb:function(e,t,i){function s(e){return e<0||255<e||isNaN(parseInt(e))?0:e}this.r=s(e),this.g=s(t),this.b=s(i);e=this.rgbToHsv(this);this.h=e.h,this.s=e.s,this.v=e.v,this.hex=this.rgbToHex(this)},setHsl:function(e,t,i){this.h=e,this.s=t,this.l=i;e=this.hslToRgb(this);this.r=e.r,this.g=e.g,this.b=e.b,this.hex=this.rgbToHex(e)},setHsv:function(e,t,i){this.h=e,this.s=t,this.v=i;e=this.hsvToRgb(this);this.r=e.r,this.g=e.g,this.b=e.b,this.hex=this.rgbToHex(e)},setHex:function(e){this.hex=e;e=this.hexToRgb(this.hex),this.r=e.r,this.g=e.g,this.b=e.b,e=this.rgbToHsv(e);this.h=e.h,this.s=e.s,this.v=e.v}};return e&&(e.hex?(t=i.validateHex(e.hex),i.setHex(t)):e.r?i.setRgb(e.r,e.g,e.b):e.h?i.setHsv(e.h,e.s,e.v):e.rgb&&i.setRgb(e.rgb.r,e.rgb.g,e.rgb.b)),i}}(jqxBaseFramework),!function(i){i.jqx.jqxWidget("jqxMaterialColorPicker","",{}),i.extend(i.jqx._jqxMaterialColorPicker.prototype,{defineInstance:function(){var e={events:["colorchange"]};return this===i.jqx._jqxMaterialColorPicker.prototype||i.extend(!0,this,e),e},createInstance:function(){this._renderGrid(),this._addHandlers()},_renderGrid:function(){var e=document.createElement("div");this._renderShades(),this._renderColorPalette(),this._renderColorLabels(),e.classList="jqx-labels-and-palette",e.appendChild(this._colorLabelsContainer),e.appendChild(this._paletteContainer),this.element.appendChild(e)},_renderColorPalette:function(){for(var e=[["#ffebee","#ffcdd2","#ef9a9a","#e57373","#ef5350","#f44336","#e53935","#d32f2f","#c62828","#b71c1c","#ff8a80","#ff5252","#ff1744","#d50000"],["#fce4ec","#f8bbd0","#f48fb1","#f06292","#ec407a","#e91e63","#d81b60","#c2185b","#ad1457","#880e4f","#ff80ab","#ff4081","#f50057","#c51162"],["#f3e5f5","#e1bee7","#ce93d8","#ba68c8","#ab47bc","#9c27b0","#8e24aa","#7b1fa2","#6a1b9a","#4a148c","#ea80fc","#e040fb","#d500f9","#aa00ff"],["#ede7f6","#d1c4e9","#b39ddb","#9575cd","#7e57c2","#673ab7","#5e35b1","#512da8","#4527a0","#311b92","#b388ff","#7c4dff","#651fff","#6200ea"],["#e8eaf6","#c5cae9","#9fa8da","#7986cb","#5c6bc0","#3f51b5","#3949ab","#303f9f","#283593","#1a237e","#8c9eff","#536dfe","#3d5afe","#304ffe"],["#e3f2fd","#bbdefb","#90caf9","#64b5f6","#42a5f5","#2196f3","#1e88e5","#1976d2","#1565c0","#0d47a1","#82b1ff","#448aff","#2979ff","#2962ff"],["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b","#80d8ff","#40c4ff","#00b0ff","#0091ea"],["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064","#84ffff","#18ffff","#00e5ff","#00b8d4"],["#e0f2f1","#b2dfdb","#80cbc4","#4db6ac","#26a69a","#009688","#00897b","#00796b","#00695c","#004d40","#a7ffeb","#64ffda","#1de9b6","#00bfa5"],["#e8f5e9","#c8e6c9","#a5d6a7","#81c784","#66bb6a","#4caf50","#43a047","#388e3c","#2e7d32","#1b5e20","#b9f6ca","#69f0ae","#00e676","#00c853"],["#f1f8e9","#dcedc8","#c5e1a5","#aed581","#9ccc65","#8bc34a","#7cb342","#689f38","#558b2f","#33691e","#ccff90","#b2ff59","#76ff03","#64dd17"],["#f9fbe7","#f0f4c3","#e6ee9c","#dce775","#d4e157","#cddc39","#c0ca33","#afb42b","#9e9d24","#827717","#f4ff81","#eeff41","#c6ff00","#aeea00"],["#fffde7","#fff9c4","#fff59d","#fff176","#ffee58","#ffeb3b","#fdd835","#fbc02d","#f9a825","#f57f17","#ffff8d","#ffff00","#ffea00","#ffd600"],["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00","#ffe57f","#ffd740","#ffc400","#ffab00"],["#fff3e0","#ffe0b2","#ffcc80","#ffb74d","#ffa726","#ff9800","#fb8c00","#f57c00","#ef6c00","#e65100","#ffd180","#ffab40","#ff9100","#ff6d00"],["#fbe9e7","#ffccbc","#ffab91","#ff8a65","#ff7043","#ff5722","#f4511e","#e64a19","#d84315","#bf360c","#ff9e80","#ff6e40","#ff3d00","#dd2c00"],["#efebe9","#d7ccc8","#bcaaa4","#a1887f","#8d6e63","#795548","#6d4c41","#5d4037","#4e342e","#3e2723"],["#fafafa","#f5f5f5","#eeeeee","#e0e0e0","#bdbdbd","#9e9e9e","#757575","#616161","#424242","#212121"],["#eceff1","#cfd8dc","#b0bec5","#90a4ae","#78909c","#607d8b","#546e7a","#455a64","#37474f","#263238"]],t=document.createElement("div"),i=0,s=e.length;i<s;i++){var r=this._renderRow(e[i],"jqx-color-cell",!1);t.appendChild(r)}t.className="jqx-palette",this._paletteContainer=t},_renderShades:function(){var e=document.createElement("div"),t=this._renderRow([50,100,200,300,400,500,600,700,800,900,"A 100","A 200","A 400","A 700"],"jqx-shade-cell",!0);e.className="jqx-shades",e.appendChild(t),this.element.appendChild(e)},_renderColorLabels:function(){var e=document.createElement("div"),t=this._renderRow(["Red","Pink","Purple","Deep Purple","Indigo","Blue","Light Blue","Cyan","Teal","Green","Light Green","Lime","Yellow","Amber","Orange","Deep Orange","Brown","Grey","Blue Grey"],"jqx-color-label",!0);e.className="jqx-color-labels",e.appendChild(t),this._colorLabelsContainer=e},_renderRow:function(e,t,i){for(var s=document.createElement("ul"),r=0,n=e.length;r<n;r++){var o=e[r],a=document.createElement("li");i?a.innerHTML=o:(a.style.background=o,a.setAttribute("data-color",o)),a.className=t,s.appendChild(a)}return s},_addHandlers:function(){var e=this;this.host.find(".jqx-color-cell").on("click",function(){e._currentColorHex=event.target.getAttribute("data-color"),e._currentColorRgb=event.target.style.background,e._raiseEvent(0,{color:e.getColor()})})},_raiseEvent:function(e,t){e=this.events[e],t=(t=null==t?{owner:null}:t)||{},t.owner=this,e=new i.Event(e);return e.owner=this,e.args=t,this.host.trigger(e)},getColor:function(){var e=this._currentColorRgb.match(/\d+/g);return{hex:this._currentColorHex.substring(1),r:parseInt(e[0]),g:parseInt(e[1]),b:parseInt(e[2])}},destroy:function(){this.host.remove()}})}(jqxBaseFramework),!function(h){h.jqx.jqxWidget("jqxComboBox","",{}),h.extend(h.jqx._jqxComboBox.prototype,{defineInstance:function(){var e={disabled:!1,width:200,height:25,items:new Array,selectedIndex:-1,selectedItems:new Array,_selectedItems:new Array,source:null,autoItemsHeight:!1,scrollBarSize:h.jqx.utilities.scrollBarSize,arrowSize:17,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,hint:!0,emptyGroupText:"Group",emptyString:"",ready:null,openDelay:250,closeDelay:300,animationType:"default",dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",dropDownContainer:"default",searchMode:"startswithignorecase",autoComplete:!1,remoteAutoComplete:!1,remoteAutoCompleteDelay:500,selectionMode:"default",minLength:2,displayMember:"",valueMember:"",groupMember:"",searchMember:"",keyboardSelection:!0,renderer:null,autoOpen:!1,template:"",checkboxes:!1,promptText:"",placeHolder:"",rtl:!1,listBox:null,validateSelection:null,showCloseButtons:!0,renderSelectedItem:null,search:null,popupZIndex:2e3,searchString:null,multiSelect:!1,showArrow:!0,_disabledItems:new Array,touchMode:"auto",autoBind:!0,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===h.jqx._jqxComboBox.prototype||h.extend(!0,this,e),e},createInstance:function(e){var t,i,s;if(this.host.attr("role","combobox"),h.jqx.aria(this,"aria-autocomplete","both"),null==h.jqx._jqxListBox||null==h.jqx._jqxListBox)throw new Error("jqxComboBox: Missing reference to jqxlistbox.js.");h.jqx.aria(this),this.isMaterialized()&&(t=(s=window.getComputedStyle(this.element)).getPropertyValue("--jqx-dropdown-animation"),i=s.getPropertyValue("--jqx-list-item-height"),s=s.getPropertyValue("--jqx-action-button-size"),this.arrowSize=s?parseInt(s):25,t&&"default"==this.animationType&&(this.animationType=t.trim()),i&&-1===this.itemHeight&&(this.itemHeight=parseInt(i))),""!=this.promptText&&(this.placeHolder=this.promptText),this.render()},render:function(){var e=(r=this).element.nodeName.toLowerCase(),t=("select"==e||"ul"==e||"ol"==e?(r.field=r.element,r.field.className&&(r._className=r.field.className),e={title:r.field.title},r.field.id.length?e.id=r.field.id.replace(/[^\w]/g,"_")+"_jqxComboBox":e.id=h.jqx.utilities.createId()+"_jqxComboBox",t=h("<div></div>",e),r.width||(r.width=h(r.field).width()),r.height||(r.height=h(r.field).outerHeight()),r.element.style.cssText=r.field.style.cssText,h(r.field).hide().after(t),s=r.host.data(),r.host=t,r.host.data(s),r.element=t[0],r.element.id=r.field.id,r.field.id=e.id,r._className&&(r.host.addClass(r._className),h(r.field).removeClass(r._className)),r.field.tabIndex&&(s=r.field.tabIndex,r.field.tabIndex=-1,r.element.tabIndex=s),""!=r.field.innerHTML&&(i=h.jqx.parseSourceTag(r.field),r.source=i.items,-1==r.selectedIndex&&(r.selectedIndex=i.index))):(0<r.host.find("li").length||0<r.host.find("option").length)&&(i=h.jqx.parseSourceTag(r.element),r.source=i.items),r.removeHandlers(),r.isanimating=!1,r.id=h.jqx.utilities.createId(),r.element.innerHTML="",h("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='padding: 0; margin: 0; border: none; background-color: transparent; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' style='padding: 0; margin: 0; border-top: none; border-bottom: none; float: left; position: absolute;'></div><div id='dropdownlistArrow' role='button' style='padding: 0; margin: 0; border-left-width: 1px; border-bottom-width: 0px; border-top-width: 0px; border-right-width: 0px; float: right; position: absolute;'></div></div></div>"));if(r.comboStructure=t,null==h.jqx._jqxListBox||null==h.jqx._jqxListBox)throw"jqxComboBox: Missing reference to jqxlistbox.js.";r.touch=h.jqx.mobile.isTouchDevice(),!0===r.touchMode&&(r.touch=!0),r.host.append(t),r.dropdownlistWrapper=r.host.find("#dropdownlistWrapper"),r.dropdownlistArrow=r.host.find("#dropdownlistArrow"),r.dropdownlistContent=r.host.find("#dropdownlistContent"),r.dropdownlistContent.addClass(r.toThemeProperty("jqx-combobox-content")),r.dropdownlistContent.addClass(r.toThemeProperty("jqx-widget-content")),r.dropdownlistWrapper[0].id="dropdownlistWrapper"+r.element.id,r.dropdownlistArrow[0].id="dropdownlistArrow"+r.element.id,r.dropdownlistContent[0].id="dropdownlistContent"+r.element.id,r.template&&r.dropdownlistArrow.addClass(r.toThemeProperty("jqx-"+r.template)),r.dropdownlistContent.append(h('<input autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" style="box-sizing: border-box; margin: 0; padding: 0; padding-left: 3px; padding-right: 3px; border: 0;" type="textarea"/>')),r.input=r.dropdownlistContent.find("input"),r.input.addClass(r.toThemeProperty("jqx-combobox-input")),r.input.addClass(r.toThemeProperty("jqx-widget-content")),r.host.attr("tabindex")&&(r.input.attr("tabindex",r.host.attr("tabindex")),r.host.removeAttr("tabindex"));var r,i,e=h("<label></label>"),s=(this.hint&&(e[0].innerHTML=this.placeHolder),e.addClass(r.toThemeProperty("jqx-input-label")),r.dropdownlistWrapper.append(e),r.label=e,h("<span></span>"));r.dropdownlistWrapper.append(s),s.addClass(r.toThemeProperty("jqx-input-bar")),r.bar=s,(r=this).template&&(r.bar.addClass(r.toThemeProperty("jqx-"+r.template)),r.label.addClass(r.toThemeProperty("jqx-"+r.template))),r._addInput(),r.rtl&&(r.input.css({direction:"rtl"}),r.dropdownlistContent.addClass(r.toThemeProperty("jqx-combobox-content-rtl")));try{var n="listBox"+r.id,o=h(h.find("#"+n)),a=(0<o.length&&o.remove(),h.jqx.aria(this,"aria-owns",n),h.jqx.aria(this,"aria-haspopup",!0),h.jqx.aria(this,"aria-multiline",!1),r.listBoxContainer&&r.listBoxContainer.jqxListBox("destroy"),r.container&&r.container.remove(),h("<div style='overflow: hidden; border: none; background-color: transparent; position: absolute;' id='listBox"+r.id+"'><div id='innerListBox"+r.id+"'></div></div>")),l=(a.hide(),"element"==r.dropDownContainer?a.appendTo(r.host):a.appendTo(document.body),a.addClass(r.toThemeProperty("jqx-listbox-container")),r.container=a,r.listBoxContainer=h(h.find("#innerListBox"+r.id)),r.width);"auto"!=r.dropDownWidth&&(l=r.dropDownWidth),null==r.dropDownHeight&&(r.dropDownHeight=200),r.container.width(parseInt(l)+25),r.container.height(parseInt(r.dropDownHeight)+25),r._ready=!1,r.addHandler(r.listBoxContainer,"bindingComplete",function(e){r.listBox||(r.listBox=h.data(r.listBoxContainer[0],"jqxListBox").instance),r._ready||(r.ready&&r.ready(),r._ready=!0),r._raiseEvent("6")}),r.addHandler(r.listBoxContainer,"itemAdd",function(e){r._raiseEvent("7",e.args)}),r.addHandler(r.listBoxContainer,"itemRemove",function(e){r._raiseEvent("8",e.args)}),r.addHandler(r.listBoxContainer,"itemUpdate",function(e){r._raiseEvent("9",e.args)});r.listBoxContainer.jqxListBox({autoItemsHeight:r.autoItemsHeight,_checkForHiddenParent:!1,allowDrop:!1,allowDrag:!1,checkboxes:r.checkboxes,emptyString:r.emptyString,autoBind:!r.remoteAutoComplete&&r.autoBind,renderer:r.renderer,rtl:r.rtl,itemHeight:r.itemHeight,selectedIndex:r.selectedIndex,incrementalSearch:!1,width:l,scrollBarSize:r.scrollBarSize,autoHeight:r.autoDropDownHeight,height:r.dropDownHeight,groupMember:r.groupMember,searchMember:r.searchMember,displayMember:r.displayMember,valueMember:r.valueMember,source:r.source,theme:r.theme,rendered:function(){var e;r.listBox=h.data(r.listBoxContainer[0],"jqxListBox").instance,r.remoteAutoComplete?(r.autoDropDownHeight?(r.container.height(r.listBox.virtualSize.height+25),r.listBoxContainer.height(r.listBox.virtualSize.height),r.listBox._arrange()):(r.listBox._arrange(),r.listBox.ensureVisible(0),r.listBox._renderItems(),r.container.height(r.listBoxContainer.height()+25)),null!=r.searchString&&r.searchString.length>=r.minLength&&(e=r.listBoxContainer.jqxListBox("items"))&&0<e.length?r.isOpened()||r.open():r.close()):(r.renderSelection("mouse"),r.multiSelect&&r.doMultiSelect(!1)),r.rendered&&r.rendered()}}),"element"==r.dropDownContainer?r.listBoxContainer.css({position:"absolute",top:0,left:0}):r.listBoxContainer.css({position:"absolute",zIndex:r.popupZIndex,top:0,left:0}),r.listBoxContainer.css("border-top-width","1px"),r.listBoxContainer.addClass(r.toThemeProperty("jqx-popup")),h.jqx.browser.msie&&r.listBoxContainer.addClass(r.toThemeProperty("jqx-noshadow")),r.template&&r.listBoxContainer.addClass(r.toThemeProperty("jqx-"+r.template+"-item")),r.listBox=h.data(r.listBoxContainer[0],"jqxListBox").instance,r.listBox.enableSelection=r.enableSelection,r.listBox.enableHover=r.enableHover,r.listBox.equalItemsWidth=r.equalItemsWidth,r.listBox._arrange(),r.addHandler(r.listBoxContainer,"unselect",function(e){r.multiSelect||r._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})}),r.addHandler(r.listBoxContainer,"change",function(e){r.multiSelect||(r.selectedIndex=r.listBox.selectedIndex,r._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}))}),"none"==r.animationType?r.container.css("display","none"):r.container.hide()}catch(e){throw e}(r=this).input.attr("disabled",r.disabled),h.jqx.browser.msie&&h.jqx.browser.version<8||(r.isMaterialized()&&r.hint?r.label[0].innerHTML=r.placeHolder:r.input.attr("placeholder",r.placeHolder)),r.propertyChangeMap.disabled=function(e,t,i,s){s?(e.host.addClass(r.toThemeProperty("jqx-combobox-state-disabled")),e.host.addClass(r.toThemeProperty("jqx-fill-state-disabled")),e.dropdownlistContent.addClass(r.toThemeProperty("jqx-combobox-content-disabled"))):(e.host.removeClass(r.toThemeProperty("jqx-combobox-state-disabled")),e.host.removeClass(r.toThemeProperty("jqx-fill-state-disabled")),e.dropdownlistContent.removeClass(r.toThemeProperty("jqx-combobox-content-disabled"))),e.input.attr("disabled",e.disabled),h.jqx.aria(e,"aria-disabled",e.disabled),e.input.attr("disabled",e.disabled)},r.disabled&&(r.host.addClass(r.toThemeProperty("jqx-combobox-state-disabled")),r.host.addClass(r.toThemeProperty("jqx-fill-state-disabled")),r.dropdownlistContent.addClass(r.toThemeProperty("jqx-combobox-content-disabled"))),r.host.addClass(r.toThemeProperty("jqx-combobox-state-normal")),r.host.addClass(r.toThemeProperty("jqx-combobox")),r.host.addClass(r.toThemeProperty("jqx-rc-all")),r.host.addClass(r.toThemeProperty("jqx-widget")),r.host.addClass(r.toThemeProperty("jqx-widget-content")),r.dropdownlistArrowIcon=h("<div></div>"),"top"==r.dropDownVerticalAlignment?r.dropdownlistArrowIcon.addClass(r.toThemeProperty("jqx-icon-arrow-up")):r.dropdownlistArrowIcon.addClass(r.toThemeProperty("jqx-icon-arrow-down")),r.dropdownlistArrowIcon.addClass(r.toThemeProperty("jqx-icon")),r.dropdownlistArrow.append(r.dropdownlistArrowIcon),r.dropdownlistArrow.addClass(r.toThemeProperty("jqx-combobox-arrow-normal")),r.dropdownlistArrow.addClass(r.toThemeProperty("jqx-fill-state-normal")),r.rtl?r.dropdownlistArrow.addClass(r.toThemeProperty("jqx-rc-l")):r.dropdownlistArrow.addClass(r.toThemeProperty("jqx-rc-r")),r._setSize(),r._updateHandlers(),r.addHandler(r.input,"keyup.textchange",function(e){r._writeTimer&&clearTimeout(r._writeTimer),r._writeTimer=setTimeout(function(){r._search(e);r.cinput&&r.input&&(r.displayMember?r._updateInputSelection():r.cinput[0].value=r.input[0].value)},50)}),h.jqx.browser.msie&&h.jqx.browser.version<8&&0<r.host.parents(".jqx-window").length&&(i=r.host.parents(".jqx-window").css("z-index"),a.css("z-index",i+10),r.listBoxContainer.css("z-index",i+10)),r.checkboxes?(r.input.attr("readonly",!0),h.jqx.aria(this,"aria-readonly",!0)):h.jqx.aria(this,"aria-readonly",!1),r.remoteAutoComplete||(r.searchString=""),this.bar.css("top",this.host.height())},_addInput:function(){var e=this.host.attr("name");this.cinput=h("<input type='hidden'/>"),this.host.append(this.cinput),e&&this.cinput.attr("name",e)},_updateInputSelection:function(){if(this.cinput){var e,i=new Array;if(-1==this.selectedIndex?this.cinput.val(""):null!=(e=this.getSelectedItem())?(this.cinput.val(e.value),i.push(e.value)):this.cinput.val(this.dropdownlistContent.text()),this.checkboxes||this.multiSelect){var t,s="";if(null!=(t=this.multiSelect?this.getSelectedItems():this.getCheckedItems()))for(var r=0;r<t.length;r++)r==t.length-1?s+=t[r].value:s+=t[r].value+",",i.push(t[r].value);this.cinput.val(s)}this.field&&this.cinput&&("select"==this.field.nodeName.toLowerCase()?h.each(this.field,function(e,t){h(this).removeAttr("selected"),this.selected=0<=i.indexOf(this.value),this.selected&&h(this).attr("selected",!0)}):h.each(this.items,function(e,t){h(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=0<=i.indexOf(this.value),this.selected&&h(this.originalItem.originalItem).attr("data-selected",!0)}))}},_search:function(e){var t=this;if(9!=e.keyCode&&"none"!=t.searchMode&&null!=t.searchMode&&"undefined"!=t.searchMode&&16!=e.keyCode&&17!=e.keyCode&&20!=e.keyCode&&!t.checkboxes){if(t.multiSelect&&((s=h("<span style='visibility: hidden; white-space: nowrap;'>"+document.createTextNode(t.input.val())+"</span>")).addClass(t.toThemeProperty("jqx-widget")),h(document.body).append(s),r=s.width()+15,s.remove(),r>t.host.width()&&(r=t.host.width()),t.input.css("width",(r=r<25?25:r)+"px"),0==t.selectedItems.length?(t.input.css("width","100%"),t.isMaterialized()||t.input.attr("placeholder",t.placeHolder)):t.isMaterialized()||t.input.attr("placeholder",""),s=parseInt(this._findPos(t.host[0])[1])+parseInt(t.host.outerHeight())-1+"px",t.container.css("top",s),r=parseInt(t.host.height()),t.dropdownlistArrow.height(r)),!t.isanimating){if(e.altKey&&38==e.keyCode)return t.hideListBox("altKey"),!1;if(e.altKey&&40==e.keyCode)return t.isOpened()||t.showListBox("altKey"),!1}if(37==e.keyCode||39==e.keyCode)return!1;if(!e.altKey&&18!=e.keyCode&&!(33<=e.keyCode&&e.keyCode<=40||(e.ctrlKey||t.ctrlKey)&&88!=e.keyCode&&86!=e.keyCode)){var i,s=t.input.val();if(0==s.length&&!t.autoComplete)return t.listBox.searchString=t.input.val(),t.listBox.clearSelection(),t.hideListBox("search"),void(t.searchString=t.input.val());if(t.remoteAutoComplete)return t=this,i=function(){t.listBox.vScrollInstance.value=0},void(s.length>=t.minLength?e.ctrlKey||e.altKey||(t.searchString!=s&&(null==t.listBoxContainer.jqxListBox("source")&&t.listBoxContainer.jqxListBox({source:t.source}),t._searchTimer&&clearTimeout(t._searchTimer),13!=e.keyCode&&27!=e.keyCode&&(t._searchTimer=setTimeout(function(){if(i(),t.autoDropDownHeight&&(t.listBox.autoHeight=!0),t.searchString=t.input.val(),null==t.search)throw"'search' function is not defined";t.search(t.input.val())},t.remoteAutoCompleteDelay))),t.searchString=s):(t._searchTimer&&clearTimeout(t._searchTimer),i(),t.searchString="",t.search(""),t.listBoxContainer.jqxListBox({source:null})));var r,n,o,a,t=this;if(s!==t.searchString)if("27"!=e.keyCode&&"13"!=e.keyCode&&(r=t.input[0].value,n=(s=t._updateItemsVisibility(s)).matchItems,t.autoComplete&&t.autoItemsHeight&&(t.input[0].value=r),o=s.index,t.autoComplete||t.remoteAutoComplete||(!t.multiSelect||t.multiSelect&&0<=o)&&(t.listBox.selectIndex(o),t.listBox.isIndexInView(o)?t.listBox._renderItems():t.listBox.ensureVisible(o)),t.autoComplete&&0===n.length&&t.hideListBox("search")),"13"==e.keyCode)"block"==t.container.css("display")&&!t.isanimating&&(t.hideListBox("keyboard"),t._oldvalue=t.listBox.selectedValue);else if("27"==e.keyCode){if("block"==t.container.css("display")&&!t.isanimating)return t.multiSelect?(t.input.val(""),t.listBox.selectedValue=null):(a=t.listBox.getVisibleItem(t._oldvalue))?(t=this,setTimeout(function(){t.autoComplete&&t._updateItemsVisibility(""),t.listBox.selectIndex(a.index),t.renderSelection("api")},t.closeDelay)):t.clearSelection(),t.hideListBox("keyboard"),t.renderSelection("api"),e.preventDefault(),!1}else t.isOpened()||t.opening||e.ctrlKey||t.listBox.visibleItems&&0<t.listBox.visibleItems.length&&t.input.val()!=t.searchString&&null!=t.searchString&&-1!=o&&t.showListBox("search"),t.searchString=t.input.val(),""!=t.searchString||t.listBox.itemsByValue[""]||(o=-1,t.multiSelect||t.clearSelection()),null!=(a=t.listBox.getVisibleItem(o))&&t._updateInputSelection()}}},val:function(i){if(!this.input)return"";var e;return function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return"number"!=typeof i&&("date"!=typeof i&&("boolean"!=typeof i&&"string"!=typeof i))}(i)||0==arguments.length?(e=this.getSelectedItem())?e.value:this.input.val():(null!=(e=this.getItemByValue(i))?this.selectItem(e):this.input.val(i),this.input.val())},focus:function(){function e(){t.input.focus();var e=t.input.val();t._setSelection(0,e.length)}var t=this;e(),setTimeout(function(){e()},10)},_setSelection:function(e,t){try{var i;"selectionStart"in this.input[0]?(this.input[0].focus(),this.input[0].setSelectionRange(e,t)):((i=this.input[0].createTextRange()).collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())}catch(e){}},setContent:function(e){this.input.val(e)},_updateItemsVisibility:function(s){var e=this.getItems();if(null==e)return{index:-1,matchItem:new Array};function t(){if(!r.multiSelect){for(var e=0,t=!1,i=null,s=0;s<r.listBox.items.length;s++)r.listBox.selectedIndexes[s]=-1,r.listBox.items[s].disabled||0==t&&(e=(i=r.listBox.items[s]).visibleIndex,t=!0);r.listBox.selectedIndex=-1,r.listBox.selectedIndex=e,r.listBox.selectedIndexes[e]=e,0<r.listBox.visibleItems.length?r.listBox.selectedValue=i?i.value:null:r.listBox.selectedValue=null,r.listBox.ensureVisible(0)}}var r=this,n=-1,o=new Array,a=0,r=(h.each(e,function(e){var t="";if(!this.isGroup){var t=(t=this.searchLabel||this.label||this.value||this.title||"jqxItem").toString(),i=!1;switch(r.searchMode){case"containsignorecase":i=h.jqx.string.containsIgnoreCase(t,s);break;case"contains":i=h.jqx.string.contains(t,s);break;case"equals":i=h.jqx.string.equals(t,s);break;case"equalsignorecase":i=h.jqx.string.equalsIgnoreCase(t,s);break;case"startswith":i=h.jqx.string.startsWith(t,s);break;case"startswithignorecase":i=h.jqx.string.startsWithIgnoreCase(t,s);break;case"endswith":i=h.jqx.string.endsWith(t,s);break;case"endswithignorecase":i=h.jqx.string.endsWithIgnoreCase(t,s)}if(r.autoComplete&&!i&&(this.visible=!1),i&&r.autoComplete&&((o[a++]=this).visible=!0,n=this.visibleIndex),""==s&&r.autoComplete&&(i=!(this.visible=!0)),r.multiSelect&&(this.disabled=!1,(0<=r.selectedItems.indexOf(this.value)||0<=r._disabledItems.indexOf(this.value))&&(i=!(this.disabled=!0))),r.multiSelect){if(i&&!r.autoComplete)return-1===n&&(n=this.visibleIndex),!0}else if(i&&!r.autoComplete)return n=this.visibleIndex,!1}}),this.listBox.searchString=s,this);if(!this.autoComplete)return t(),{index:n,matchItems:o};this.listBox.renderedVisibleItems=new Array;var e=this.listBox.vScrollInstance.value,i=(this.listBox.vScrollInstance.value=0,this.listBox.visibleItems=new Array,this.listBox._renderItems(),this.listBox.selectedValue),i=this.listBox.getItemByValue(i);if(this.multiSelect)t();else if(i)if(i.visible){this.listBox.selectedIndex=i.visibleIndex;for(var l=0;l<this.listBox.items.length;l++)this.listBox.selectedIndexes[l]=-1;this.listBox.selectedIndexes[i.visibleIndex]=i.visibleIndex}else{for(l=0;l<this.listBox.items.length;l++)this.listBox.selectedIndexes[l]=-1;this.listBox.selectedIndex=-1}this.listBox._renderItems();var d,i=this.listBox._calculateVirtualSize().height;return i<e&&(e=0,this.listBox.vScrollInstance.refresh()),this.autoDropDownHeight?(this._disableSelection=!0,this.listBox.autoHeight!=this.autoDropDownHeight&&this.listBoxContainer.jqxListBox({autoHeight:this.autoDropDownHeight}),this.container.height(i+25),this.listBox.invalidate(),this._disableSelection=!1):(i<parseInt(this.dropDownHeight)?(d="hidden"==this.listBox.hScrollBar[0].style.visibility?0:20,this.listBox.height=d+i,this.container.height(i+25+d)):(this.listBox.height=parseInt(this.dropDownHeight),this.container.height(parseInt(this.dropDownHeight)+25)),this.listBox.invalidate()),this.listBox.vScrollInstance.setPosition(e),{index:n,matchItems:o}},findItems:function(s){var e=this.getItems(),r=this,n=0,o=new Array;return h.each(e,function(e){var t="";if(!this.isGroup){var t=this.label||this.value||this.title||"jqxItem",i=!1;switch(r.searchMode){case"containsignorecase":i=h.jqx.string.containsIgnoreCase(t,s);break;case"contains":i=h.jqx.string.contains(t,s);break;case"equals":i=h.jqx.string.equals(t,s);break;case"equalsignorecase":i=h.jqx.string.equalsIgnoreCase(t,s);break;case"startswith":i=h.jqx.string.startsWith(t,s);break;case"startswithignorecase":i=h.jqx.string.startsWithIgnoreCase(t,s);break;case"endswith":i=h.jqx.string.endsWith(t,s);break;case"endswithignorecase":i=h.jqx.string.endsWithIgnoreCase(t,s)}i&&(o[n++]=this)}}),o},_resetautocomplete:function(){h.each(this.listBox.items,function(e){this.visible=!0}),this.listBox.vScrollInstance.value=0,this.listBox._addItems(),this.listBox.autoHeight=!1,this.listBox.height=this.dropDownHeight,this.container.height(parseInt(this.dropDownHeight)+25),this.listBoxContainer.height(parseInt(this.dropDownHeight)),this.listBox._arrange(),this.listBox._addItems(),this.listBox._renderItems()},getItems:function(){return this.listBox.items},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){var e=window.getComputedStyle(this.element),t=2*parseInt(e.borderLeftWidth),e=("border-box"!==e.boxSizing&&!isNaN(t)||(t=0),(null==this.width||-1==this.width.toString().indexOf("px"))&&(null==this.width||isNaN(this.width))||(this.element.style.width=parseInt(this.width)-t+"px"),(null==this.height||-1==this.height.toString().indexOf("px"))&&(null==this.height||isNaN(this.height))||(this.element.style.height=parseInt(this.height)-t+"px"),!1),i=(null!=this.width&&-1!=this.width.toString().indexOf("%")&&(e=!0,this.element.style.width=this.width,0<t&&this.host.css("box-sizing","border-box")),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(e=!0,this.element.style.height=this.height),e&&(t=(i=this).host.width(),"auto"!=this.dropDownWidth&&(t=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:t}),this.container.width(parseInt(t)+25),this._arrange()),this);i.oldWidth=i.host.width(),i.oldHeight=i.host.height(),h.jqx.utilities.resize(this.host,function(){var e=i.host.width(),t=i.host.height();e==i.oldWidth&&t==i.oldHeight||(i.multiSelect&&i.host.height(i.height),i._arrange(),i.multiSelect&&i.host.height("auto"),i.hideListBox("api")),i.oldWidth=e,i.oldHeight=t})},isOpened:function(){var e=h.data(document.body,"openedCombojqxListBox"+this.element.id);return"block"==this.container.css("display")&&(null!=e&&e==this.listBoxContainer)},_updateHandlers:function(){var o=this,e=(this.removeHandlers(),this.multiSelect&&(this.addHandler(this.dropdownlistContent,"click",function(e){if(e.target.href)return!1;o.input.focus(),setTimeout(function(){o.input.focus()},10)}),this.addHandler(this.dropdownlistContent,"focus",function(e){if(e.target.href)return!1;o.input.focus(),setTimeout(function(){o.input.focus()},10)})),this.touch||(this.host.parents()&&this.addHandler(this.host.parents(),"scroll.combobox"+this.element.id,function(e){o.isOpened()&&o.close()}),this.addHandler(this.host,"mouseenter",function(){!o.disabled&&o.enableHover&&(o.host.addClass(o.toThemeProperty("jqx-combobox-state-hover")),"top"==o.dropDownVerticalAlignment?o.dropdownlistArrowIcon.addClass(o.toThemeProperty("jqx-icon-arrow-up")):o.dropdownlistArrowIcon.addClass(o.toThemeProperty("jqx-icon-arrow-down-hover")),o.dropdownlistArrow.addClass(o.toThemeProperty("jqx-combobox-arrow-hover")),o.dropdownlistArrow.addClass(o.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!o.disabled&&o.enableHover&&(o.host.removeClass(o.toThemeProperty("jqx-combobox-state-hover")),o.dropdownlistArrowIcon.removeClass(o.toThemeProperty("jqx-icon-arrow-down-hover")),o.dropdownlistArrowIcon.removeClass(o.toThemeProperty("jqx-icon-arrow-up-hover")),o.dropdownlistArrow.removeClass(o.toThemeProperty("jqx-combobox-arrow-hover")),o.dropdownlistArrow.removeClass(o.toThemeProperty("jqx-fill-state-hover")),0)})),o.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){!o.isOpened()&&o.autoOpen&&(o.open(),o.host.focus())}),this.addHandler(h(document),"mousemove."+o.id,function(e){var t,i,s,r,n;o.isOpened()&&o.autoOpen&&(t=(i=o.host.coord()).top,i=i.left,s=(r=o.container.coord()).left,r=r.top,n=!0,e.pageY>=t&&e.pageY<=t+o.host.height()+2&&e.pageX>=i&&e.pageX<i+o.host.width()&&(n=!1),(n=e.pageY>=r&&e.pageY<=r+o.container.height()-20&&e.pageX>=s&&e.pageX<s+o.container.width()?!1:n)&&o.close())})),"mousedown");this.touch&&(e=h.jqx.mobile.getTouchEventName("touchstart"));this.addHandler(this.dropdownlistArrow,e,function(e){if(!o.disabled){var t="block"==o.container.css("display");if(!o.isanimating)t?(o.hideListBox("api"),h.jqx.mobile.isTouchDevice()||(o.input.focus(),setTimeout(function(){o.input.focus()},10))):(o.autoDropDownHeight&&(o.container.height(o.listBoxContainer.height()+25),o.listBoxContainer.jqxListBox("autoHeight")||(o.listBoxContainer.jqxListBox({autoHeight:o.autoDropDownHeight}),o.listBox._arrange(),o.listBox.ensureVisible(0),o.listBox._renderItems(),o.container.height(o.listBoxContainer.height()+25))),o.showListBox("api"),!h.jqx.mobile.isTouchDevice()&&setTimeout(function(){o.input.focus()},10))}}),this.addHandler(this.dropdownlistArrowIcon,e,function(e){}),this.addHandler(this.host,"focus",function(){o.focus()}),this.addHandler(this.input,"focus",function(e){o.focused=!0,o.host.addClass(o.toThemeProperty("jqx-combobox-state-focus")),o.host.addClass(o.toThemeProperty("jqx-fill-state-focus")),o.bar.addClass("focused"),o.label.addClass("focused"),o.dropdownlistContent.addClass(o.toThemeProperty("jqx-combobox-content-focus")),e.stopPropagation&&e.stopPropagation()}),this.addHandler(this.input,"blur",function(){o.focused=!1,o.bar.removeClass("focused"),o.label.removeClass("focused"),o.isOpened()||o.opening||("dropDownList"==o.selectionMode&&o._selectOldValue(),o.host.removeClass(o.toThemeProperty("jqx-combobox-state-focus")),o.host.removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.dropdownlistContent.removeClass(o.toThemeProperty("jqx-combobox-content-focus"))),o._searchTimer&&clearTimeout(o._searchTimer)}),this.addHandler(h(document),"mousedown."+this.id,o.closeOpenedListBox,{that:this,listbox:this.listBox,id:this.id}),this.touch&&this.addHandler(h(document),h.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,o.closeOpenedListBox,{that:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(e){var t,i="block"==o.container.css("display");if(o.ctrlKey=e.ctrlKey,"none"==o.host.css("display"))return!0;if(("13"==e.keyCode||"9"==e.keyCode)&&(i&&!o.isanimating))return-1!=o.listBox.selectedIndex&&(o.renderSelection("mouse"),s=o.listBox.selectedIndex,(t=o.listBox.getVisibleItem(s))&&(o.listBox.selectedValue=t.value),o._setSelection(o.input.val().length,o.input.val().length),o.hideListBox("keyboard")),"13"==e.keyCode&&(o._oldvalue=o.listBox.selectedValue),o.keyboardSelection||o._raiseEvent("2",{index:o.selectedIndex,type:"keyboard",item:o.getItem(o.selectedIndex)}),"9"==e.keyCode;if(115==e.keyCode)return o.isanimating||(o.isOpened()?o.isOpened()&&o.hideListBox("keyboard"):o.showListBox("keyboard")),!1;if((e.altKey&&"block"==o.host.css("display")&&!o.isanimating&&(38==e.keyCode?o.isOpened()&&o.hideListBox("altKey"):40!=e.keyCode||o.isOpened()||o.showListBox("altKey")),"27"==e.keyCode||"9"==e.keyCode)&&(o.isOpened()&&!o.isanimating))return"27"==e.keyCode&&(o.multiSelect?(o.listBox.selectedValue=null,o.input.val("")):(t=o.listBox.getItemByValue(o._oldvalue))?setTimeout(function(){o.autoComplete&&o._updateItemsVisibility(""),o.listBox.selectIndex(t.index),o.renderSelection("api")},o.closeDelay):o.clearSelection()),o.hideListBox("keyboard"),"9"==e.keyCode||(o.renderSelection("api"),e.preventDefault(),!1);var s=e.keyCode;if(i&&!o.disabled&&8!=s)return o.listBox._handleKeyDown(e);if(!(o.disabled||i||33!=(s=e.keyCode)&&34!=s&&35!=s&&36!=s&&38!=s&&40!=s))return o.listBox._handleKeyDown(e);if(8===s&&o.multiSelect&&0===o.input.val().length)return i=o.selectedItems[o.selectedItems.length-1],o.selectedItems.pop(),o._selectedItems.pop(),i&&(o._raiseEvent("3",{index:i.index,type:"keyboard",item:i}),o._raiseEvent("4",{index:i.index,type:"keyboard",item:i})),o.listBox.selectedValue=null,o.doMultiSelect(),!1;o.isMaterialized()&&o.hint&&setTimeout(function(){0===o.input[0].value.length?(o.element.removeAttribute("hint"),o.label[0].innerHTML=o.placeHolder):o.hint&&o.element.setAttribute("hint",!0)})}),this.addHandler(this.listBoxContainer,"checkChange",function(e){o.renderSelection("mouse"),o._updateInputSelection(),o._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})}),this.addHandler(this.listBoxContainer,"select",function(e){if(!o.disabled&&("keyboard"!=e.args.type||o.keyboardSelection)&&(o.renderSelection(e.args.type),o.multiSelect||o._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item}),"mouse"==e.args.type&&(o._oldvalue=o.listBox.selectedValue,!o.checkboxes))){if(o.hideListBox("mouse"),o.touch)return!1;o.input.focus()}}),null!=this.listBox&&null!=this.listBox.content&&this.addHandler(this.listBox.content,"click",function(e){if(!o.disabled)return!(!o.listBox.itemswrapper||e.target!==o.listBox.itemswrapper[0])||(!!(e.target&&e.target.className&&0<=e.target.className.indexOf("jqx-fill-state-disabled"))||(o.renderSelection("mouse"),o._oldvalue=o.listBox.selectedValue,o.touch||o.ishiding||o.checkboxes||(o.hideListBox("mouse"),o.input.focus()),void(!0!==o.touch||o.checkboxes||o.hideListBox("mouse"))))})},_selectOldValue:function(){var e,t=this;-1==t.listBox.selectedIndex?t.multiSelect?(t.listBox.selectedValue=null,t.input.val("")):(e=t.listBox.getItemByValue(t._oldvalue))?setTimeout(function(){t.autoComplete&&t._updateItemsVisibility(""),t.listBox.selectIndex(e.index),t.renderSelection("api")},t.closeDelay):(t.clearSelection(),t.listBox.selectIndex(0),t.renderSelection("api")):t.renderSelection("api")},removeHandlers:function(){var e;null!=this.dropdownlistWrapper&&this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.dropdownlistContent&&(this.removeHandler(this.dropdownlistContent,"click"),this.removeHandler(this.dropdownlistContent,"focus")),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),null!=this.input&&(this.removeHandler(this.input,"focus"),this.removeHandler(this.input,"blur")),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(h(document),"mousemove."+this.id),this.listBoxContainer&&(this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.listBoxContainer,"select")),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.combobox"+this.element.id),this.dropdownlistArrowIcon&&this.dropdownlistArrow&&(e="mousedown",this.touch&&(e=h.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistArrowIcon,e),this.removeHandler(this.dropdownlistArrow,e))},getItem:function(e){return this.listBox.getItem(e)},getItemByValue:function(e){return this.listBox.getItemByValue(e)},getVisibleItem:function(e){return this.listBox.getVisibleItem(e)},renderSelection:function(e){if(null!=e&&"none"!=e&&!0!==this._disableSelection&&null!=this.listBox&&!this.multiSelect){e=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.autoComplete&&!this.checkboxes&&void 0!==this.listBox.selectedValue&&(e=this.getItemByValue(this.listBox.selectedValue)),this.checkboxes&&(e=null!=(t=this.getCheckedItems())&&0<t.length?t[0]:null),this.hint&&(this.label[0].innerHTML=this.placeHolder),null!=e?this.hint&&this.element.setAttribute("hint",!0):this.element.removeAttribute("hint"),this.bar.css("top",this.host.height()),null==e)return t=h.jqx.browser.msie&&h.jqx.browser.version<8,this.input.val(""),this.input.attr("value",""),t||(this.isMaterialized()?(this.label[0].innerHTML=this.placeHolder,this.input.removeAttr("placeholder")):this.input.attr("placeholder",this.placeHolder)),void this._updateInputSelection();this.selectedIndex=this.listBox.selectedIndex;var t=h("<span></span>");null!=e.label&&null!=e.label&&0<e.label.toString().length?h.jqx.utilities.html(t,e.label):null!=e.value&&null!=e.value&&0<e.value.toString().length?h.jqx.utilities.html(t,e.value):null!=e.title&&null!=e.title&&0<e.title.toString().length?h.jqx.utilities.html(t,e.title):h.jqx.utilities.html(t,this.emptyString),t.outerHeight();if(this.checkboxes){for(var i=this.getCheckedItems(),s="",r=0;r<i.length;r++)r==i.length-1?s+=i[r].label:s+=i[r].label+", ";this.input.val(s)}else this.input.val(t.text());t.remove(),this._updateInputSelection(),!this.renderSelectedItem||null!=(t=this.renderSelectedItem(this.listBox.selectedIndex,e))&&(this.input[0].value=t),this.input.attr("value",this.input.val()),this.listBox&&this.listBox._activeElement&&h.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id)}},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(e){this.selectedIndex=-1,this.listBox.clearSelection(),this.input.val(""),this.multiSelect&&(this.listBox.selectedValue="",this.selectedItems=new Array,this._selectedItems=new Array,this.doMultiSelect(!1))},unselectIndex:function(e,t){isNaN(e)||(this.autoComplete&&this._updateItemsVisibility(""),this.listBox.unselectIndex(e,t),this.renderSelection("mouse"),this.multiSelect&&(0<=e&&(t=this.getItem(e),0<=(e=this.selectedItems.indexOf(t.value))&&(t.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(e,1),this._selectedItems.splice(e,1))),this.doMultiSelect(!1)))},selectIndex:function(e,t,i,s){this.autoComplete&&this._updateItemsVisibility(""),this.listBox.selectIndex(e,t,i,s),this.renderSelection("mouse"),this.selectedIndex=e,this.multiSelect&&this.doMultiSelect()},selectItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&(this.listBox.selectedIndex=-1,this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"),this.multiSelect&&this.doMultiSelect(!1))},unselectItem:function(e){var t;this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"),this.multiSelect&&((e=this.getItemByValue(e))&&0<=(t=this.selectedItems.indexOf(e.value))&&(e.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(t,1),this._selectedItems.splice(t,1)),this.doMultiSelect(!1)))},checkItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&this.listBox.indeterminateItem(e)},getSelectedValue:function(){return this.listBox.selectedValue},getSelectedIndex:function(){return this.multiSelect?this.remoteAutoComplete&&this.multiSelect&&0<this._selectedItems.length||this._selectedItems&&0<this._selectedItems.length?this.getSelectedItems()[0].index:void 0:this.listBox.selectedIndex},getSelectedItem:function(){return this.multiSelect?this.remoteAutoComplete&&this.multiSelect&&0<this._selectedItems.length||this._selectedItems&&0<this._selectedItems.length?this.getSelectedItems()[0]:null:this.getVisibleItem(this.listBox.selectedIndex)},getSelectedItems:function(){if(this.remoteAutoComplete&&this.multiSelect)return this._selectedItems;var t=new Array,i=this;return h.each(this.selectedItems,function(){var e=i.getItemByValue(this);(e=e||i._selectedItems[this])&&t.push(e)}),t},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},insertAt:function(e,t){return null!=e&&this.listBox.insertAt(e,t)},addItem:function(e){return this.listBox.addItem(e)},removeAt:function(e){e=this.listBox.removeAt(e);return this.renderSelection("mouse"),e},removeItem:function(e){e=this.listBox.removeItem(e);return this.renderSelection("mouse"),e},updateItem:function(e,t){e=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),e},updateAt:function(e,t){e=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),e},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){var t=this.getVisibleItem(e);return t&&this._disabledItems.push(t.value),this.listBox.disableAt(e)},enableAt:function(e){var t=this.getVisibleItem(e);return t&&this._disabledItems.splice(this._disabledItems.indexOf(t.value),1),this.listBox.enableAt(e)},disableItem:function(e){return(e=this.getVisibleItem(e))&&this._disabledItems.push(e.value),this.listBox.disableItem(e)},enableItem:function(e){return(e=this.getVisibleItem(e))&&this._disabledItems.splice(this._disabledItems.indexOf(e.value),1),this.listBox.enableItem(e)},_findPos:function(e){for(;e&&("hidden"==e.type||1!=e.nodeType||h.expr.filters.hidden(e));)e=e.nextSibling;var t;if(e)return[(t=h(e).coord(!0)).left,t.top]},testOffset:function(e,t,i){var s=e.outerWidth(),e=e.outerHeight(),r=h(window).width()+h(window).scrollLeft(),n=h(window).height()+h(window).scrollTop();return t.left+s>r&&s>this.host.width()&&(r=this.host.coord().left,s=s-this.host.width(),t.left=r-s+2),t.left<0&&(t.left=parseInt(this.host.coord().left)+"px"),t.top-=Math.min(t.top,t.top+e>n&&e<n?Math.abs(e+i+23):0),t},open:function(){this.isOpened()||this.opening||this.showListBox("api")},close:function(){this.isOpened()&&this.hideListBox("api")},_getBodyOffset:function(){var e=0,t=0;return"0px"!=h("body").css("border-top-width")&&(e=parseInt(h("body").css("border-top-width")),isNaN(e)&&(e=0)),"0px"!=h("body").css("border-left-width")&&(t=parseInt(h("body").css("border-left-width")),isNaN(t)&&(t=0)),{left:t,top:e}},showListBox:function(e){if(!this.listBox.items||0!=this.listBox.items.length){if("search"!=e||this.autoComplete||this.remoteAutoComplete||this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),this.element.setAttribute("opened",!0),(this.autoComplete||this.multiSelect&&!this.remoteAutoComplete)&&"search"!=e&&(this._updateItemsVisibility(""),this.multiSelect))for(var t=this.getVisibleItems(),i=0;i<t.length;i++)if(!t[i].disabled){this.ensureVisible(i);break}this.remoteAutoComplete&&this.listBox.clearSelection(),"search"!=e&&(this._oldvalue=this.listBox.selectedValue),h.jqx.aria(this,"aria-expanded",!0),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&-1!=this.width.indexOf("%")&&this.listBox.host.width()!=this.host.width()&&(n=this.element.offsetWidth,this.listBoxContainer.jqxListBox({width:n}),this.listBoxContainer[0].style.width=n+"px",this.container.width(parseInt(n)+25)),"auto"==this.dropDownWidth&&"0px"===this.host.css("border-left-width")&&(n=this.element.offsetWidth,this.listBoxContainer.jqxListBox({width:n+1}),this.container.width(parseInt(n)+25));var s=this,r=this.listBoxContainer,e=this.listBox,n=(h(window).scrollTop(),h(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),o=parseInt(Math.round(this.host.coord(!0).left)),a=o+"px",l=("element"===this.dropDownContainer&&(n=parseInt(this.host.outerHeight())-1+"px",a=0),h.jqx.mobile.isSafariMobileBrowser()||h.jqx.mobile.isWindowsPhone());this.ishiding=!1;(h.jqx.utilities.hasTransform(this.host)||null!=l&&l)&&(a=h.jqx.mobile.getLeftPos(this.element),n=h.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=h("body").css("border-top-width")&&(n=parseInt(n)-this._getBodyOffset().top+"px"),"0px"!=h("body").css("border-left-width")&&(a=parseInt(a)-this._getBodyOffset().left+"px")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-selected")),"top"==this.dropDownVerticalAlignment?this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")):this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-focus")),this.container.css("left",a),this.container.css("top",n),e._arrange();var d,l=!1;"right"!=this.dropDownHorizontalAlignment&&!this.rtl||(a=this.container.outerWidth(),d=Math.abs(a-this.host.width()),a>this.host.width()?this.container.css("left",25+parseInt(Math.round(o))-d+"px"):this.container.css("left",25+parseInt(Math.round(o))+d+"px")),"top"==this.dropDownVerticalAlignment&&(a=r.height(),l=!0,r.css("top",23),r.addClass(this.toThemeProperty("jqx-popup-up")),o=parseInt(this.host.outerHeight()),d=parseInt(n)-Math.abs(a+o+23),this.container.css("top",d)),this.enableBrowserBoundsDetection&&(a=this.testOffset(r,{left:parseInt(this.container.css("left")),top:parseInt(n)},parseInt(this.host.outerHeight())),parseInt(this.container.css("top"))!=a.top?(l=!0,r.css("top",23),r.addClass(this.toThemeProperty("jqx-popup-up"))):r.css("top",0),this.container.css("top",a.top),this.container.css("top",a.top),parseInt(this.container.css("left"))!=a.left&&this.container.css("left",a.left)),"none"==this.animationType||"transform"===this.animationType?(this.container.css("display","block"),h.data(document.body,"openedCombojqxListBoxParent",s),h.data(document.body,"openedCombojqxListBox"+s.element.id,r),r.css("margin-top",0),r.css("opacity",1)):(this.container.css("display","block"),o=r.outerHeight(),r.stop(),"fade"==this.animationType?(r.css("margin-top",0),r.css("opacity",0),r.animate({opacity:1},this.openDelay,function(){s.isanimating=!1,s.opening=!1,h.data(document.body,"openedCombojqxListBoxParent",s),h.data(document.body,"openedCombojqxListBox"+s.element.id,r)})):(r.css("opacity",1),l?r.css("margin-top",o):r.css("margin-top",-o),this.isanimating=!0,this.opening=!0,r.animate({"margin-top":0},this.openDelay,function(){s.isanimating=!1,s.opening=!1,h.data(document.body,"openedCombojqxListBoxParent",s),h.data(document.body,"openedCombojqxListBox"+s.element.id,r)}))),e._renderItems(),l?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),r.addClass(this.toThemeProperty("jqx-rc-b-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-t-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),r.addClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-b-expanded"))),r.addClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("0",e),r.addClass(this.toThemeProperty("jqx-popup-show"))}},doMultiSelect:function(e){this.checkboxes&&(this.multiSelect=!1);var o=this;if(!this.multiSelect){var t=o.dropdownlistContent.find(".jqx-button"),i="mousedown";if(this.touch&&(i=h.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(t,i),this.removeHandler(t.find(".jqx-icon-close"),i),t.remove(),!(n=this.listBox.items))return;for(var s=0;s<n.length;s++)n[s].disabled=!1;return this.listBox._renderItems(),this.selectedItems=new Array,void(this._selectedItems=new Array)}if(this.validateSelection&&!this.validateSelection(this.listBox.selectedValue))return;var r;this.selectedItems;if(this.listBox.selectedValue&&(-1===this.selectedItems.indexOf(this.listBox.selectedValue)&&(r=this.getItemByValue(this.listBox.selectedValue))&&r.visible&&(this.selectedItems.push(this.listBox.selectedValue),this._selectedItems.push(r),this._raiseEvent("2",{index:r.index,item:r}),this._raiseEvent("4",{index:r.index,item:r})),this.listBox.selectedIndex=-1),n=this.listBox.items){for(s=0;s<n.length;s++)n[s].disabled=!1,(0<=this.selectedItems.indexOf(n[s].value)||0<=this._disabledItems.indexOf(this.value))&&(n[s].disabled=!0);this.listBox._renderItems(),this.searchString="",this.input.val("");var n="",i="mousedown",t=o.dropdownlistContent.find(".jqx-button"),t=(this.touch&&(i=h.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(t,i),this.removeHandler(t.find(".jqx-icon-close"),i),t.remove(),o.input.detach(),0<this.selectedItems.length?(o.input.css("width","25px"),this.isMaterialized()&&o.hint?o.label[0].innerHTML=this.placeHolder:o.input.attr("placeholder","")):(o.input.css("width","100%"),o.isMaterialized()&&o.hint?o.label[0].innerHTML=this.placeHolder:o.input.attr("placeholder",this.placeHolder)),o.isMaterialized()&&o.hint&&setTimeout(function(){0===o.selectedItems.length?(o.element.removeAttribute("hint"),o.label[0].innerHTML=o.placeHolder):o.hint&&o.element.setAttribute("hint",!0)}),h.each(this.selectedItems,function(e){var t,i=o.getItemByValue(this),s=(i&&!o.remoteAutoComplete||(i=o._selectedItems[e]),h('<div style="overflow: hidden; float: left;"></div>'));s.addClass(o.toThemeProperty("jqx-button")),s.addClass(o.toThemeProperty("jqx-combobox-multi-item")),s.addClass(o.toThemeProperty("jqx-fill-state-normal")),s.addClass(o.toThemeProperty("jqx-rc-all")),i?(t=i.label,o.renderSelectedItem&&(e=o.renderSelectedItem(e,i))&&(t=e),""==s[0].innerHTML&&(s[0].innerHTML='<a data-value="'+i.value+'" style="float: left;" href="#">'+t+"</a>"),o.rtl&&(s[0].innerHTML='<a data-value="'+i.value+'" style="float: right;" href="#">'+t+"</a>"),e=o.rtl?"left":"right",o.showCloseButtons&&(i='<div style="position: relative; overflow: hidden; float: '+e+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+o.toThemeProperty("jqx-icon-close")+'"></div></div>',h.jqx.browser.msie&&h.jqx.browser.version<8&&(i='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+o.toThemeProperty("jqx-icon-close")+'"></div></div>'),o.rtl&&(i='<div style="position: relative; overflow: hidden; float: '+e+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+o.toThemeProperty("jqx-icon-close")+'"></div></div>',h.jqx.browser.msie&&h.jqx.browser.version<8&&(i='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+o.toThemeProperty("jqx-icon-close")+'"></div></div>')),s[0].innerHTML+=i)):""==s[0].innerHTML&&(s[0].innerHTML='<a href="#"></a>'),o.dropdownlistContent.append(s)}),o.dropdownlistContent.append(o.input),o.input.val(""),!1!==e&&(o.input.focus(),setTimeout(function(){o.input.focus()},10)),o.dropdownlistContent.find(".jqx-button"));!0===this.touchMode&&(i="mousedown"),this.addHandler(t,i,function(e){if(0<=e.target.className.indexOf("jqx-icon-close"))return!0;if(o.disabled)return!0;var t=h(e.target).attr("data-value");return o.getItemByValue(t)&&(o.listBox.selectedValue=null,o.listBox.clearSelection()),o.listBox.scrollTo(0,0),o.open(),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1}),this.addHandler(t.find(".jqx-icon-close"),i,function(e){if(!o.disabled){var t=h(e.target).parent().parent().find("a").attr("data-value"),i=o.getItemByValue(t);if(i||o.remoteAutoComplete&&!i&&0<=o.selectedItems.indexOf(t)){o.listBox.selectedValue=null;var e=o.selectedItems.indexOf(t),s=i&&0<=i.index?i.index:e;if(0<=e)o.selectedItems.splice(e,1),r=(r=o._selectedItems[e])||i,o._selectedItems.splice(e,1),o._raiseEvent("3",{index:s,type:"mouse",item:r}),o._raiseEvent("4",{index:s,type:"mouse",item:r}),o.doMultiSelect();else for(var r,n=0;n<o.selectedItems.length;n++)if((r=o.selectedItems[n])==t){o.selectedItems.splice(n,1),o._selectedItems.splice(n,1),o._raiseEvent("3",{index:s,type:"mouse",item:i}),o._raiseEvent("4",{index:s,type:"mouse",item:i}),o.doMultiSelect();break}}}}),this.isMaterialized()&&this.host.height(this.dropdownlistContent.height()),this.bar.css("top",this.host.height()),o.dropdownlistArrow.height(this.host.height()),o._updateInputSelection()}},hideListBox:function(e){var t,i,s=this.listBoxContainer,r=this.listBox,n=this.container;"none"!=this.container[0].style.display&&(this.element.setAttribute("opened",!1),h.jqx.aria(this,"aria-expanded",!1),"keyboard"!=e&&"mouse"!=e||(this.listBox.searchString=""),s.removeClass("jqx-popup-show"),("keyboard"==e||"mouse"==e&&this.multiSelect)&&this.doMultiSelect(),t=this,h.data(document.body,"openedCombojqxListBox"+this.element.id,null),"none"==this.animationType?(this.opening=!1,this.container.css("display","none")):"transform"===this.animationType?setTimeout(function(){n.css("display","none")},this.closeDelay):this.ishiding||(e=s.outerHeight(),s.css("margin-top",0),s.stop(),this.opening=!1,this.isanimating=!0,i=-e,parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(i=e),"fade"==this.animationType?(s.css({opacity:1}),s.animate({opacity:0},this.closeDelay,function(){t.isanimating=!1,n.css("display","none"),t.ishiding=!1})):s.animate({"margin-top":i},this.closeDelay,function(){t.isanimating=!1,n.css("display","none"),t.ishiding=!1})),this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-combobox-state-selected")),this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.focused||(this.host.removeClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.removeClass(this.toThemeProperty("jqx-combobox-content-focus"))),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),s.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),s.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),s.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),this._raiseEvent("1",r))},closeOpenedListBox:function(e){var t,i=e.data.that,s=h(e.target),r=e.data.listbox;if(null==r)return!0;if(!h(e.target).ischildof(i.host))return t=!1,h.each(s.parents(),function(){if("undefined"!=this.className&&this.className.indexOf)return-1!=this.className.indexOf("jqx-listbox")?!(t=!0):-1!=this.className.indexOf("jqx-combobox")?(i.element.id==this.id&&(t=!0),!1):void 0}),null==r||t||i.isOpened()&&(i.hideListBox("api"),i.input.blur()),!0},loadFromSelect:function(e){this.listBox.loadFromSelect(e),this.clearSelection()},refresh:function(e){this._setSize(),this._arrange(),this.listBox&&this.renderSelection()},resize:function(){this._setSize(),this._arrange()},_arrange:function(){var e=parseInt(this.host.width()),t=parseInt(this.host.height()),i=(this.arrowSize,this.arrowSize),s=1,e=(this.showArrow?"none"===this.dropdownlistArrow[0].style.display&&this.dropdownlistArrow.show():(i=0,this.dropdownlistArrow.hide(),s=0,this.host.css("cursor","arrow"),"fluent"===this.theme&&(s=1)),e-i-+s),s=(0<e&&(this.dropdownlistContent[0].style.width=e+"px"),this.rtl&&(this.dropdownlistContent[0].style.width=e-1+"px"),this.dropdownlistContent[0].style.height=t+"px",this.dropdownlistContent[0].style.left="0px",this.dropdownlistContent[0].style.top="0px",this.dropdownlistArrow[0].style.width=i+"px",this.dropdownlistArrow[0].style.height=t+"px",this.dropdownlistArrow[0].style.left=1+e+"px",this.input[0].style.width="100%",this.multiSelect||this.input.height(t),this.input.height());0==s&&(s=parseInt(this.input.css("font-size"))+3),-1==this.input[0].className.indexOf("jqx-rc-all")&&this.input.addClass(this.toThemeProperty("jqx-rc-all")),parseInt(t),parseInt(s);this.rtl&&(this.dropdownlistArrow.css("left","0px"),this.dropdownlistContent.css("left",this.dropdownlistArrow.width()),h.jqx.browser.msie&&h.jqx.browser.version<=8&&this.dropdownlistContent.css("left",1+this.dropdownlistArrow.width())),this.multiSelect&&(this.input.css("float","left"),this.input.width(25),this.dropdownlistWrapper.parent().css("height","auto"),this.dropdownlistContent.css("height","auto"),this.dropdownlistWrapper.css("height","auto"),this.dropdownlistContent.css("position","relative"),this.dropdownlistContent.css("cursor","text"),this.host.css("height","auto"),this.host.css("min-height",this.height),this.dropdownlistContent.css("min-height",this.height),t=parseInt(this.host.height()),this.dropdownlistArrow.height(t),i=parseInt(this.host.css("min-height")),0<(e=parseInt(i)/2-parseInt(s)/2)&&this.input.css("margin-top",e),this.isMaterialized()&&this.host.height(this.dropdownlistContent.height()),this.bar.css("top",this.host.height()),this.dropdownlistArrow.height(this.host.height()))},destroy:function(){this.source&&this.source.unbindBindingUpdate&&(this.source.unbindBindingUpdate(this.element.id),this.source.unbindBindingUpdate(this.listBoxContainer[0].id),this.source.unbindDownloadComplete(this.element.id),this.source.unbindDownloadComplete(this.listBoxContainer[0].id)),h.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandlers(),this.removeHandler(this.input,"keyup.textchange"),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(h(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(h(document),h.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.cinput.remove(),delete this.cinput,this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,this.dropdownlistArrowIcon.remove(),delete this.dropdownlistArrowIcon,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.dropdownlistContent,delete this.comboStructure,this.container.remove(),delete this.listBox,delete this.container;var e=h.data(this.element,"jqxComboBox");e&&delete e.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_raiseEvent:function(e,t){var i=this.events[e],i=((t=null==t?{owner:null}:t).owner=this,new h.Event(i));return i.owner=this,2!=e&&3!=e&&4!=e&&5!=e&&6!=e&&7!=e&&8!=e&&9!=e||(i.args=t),this.host.trigger(i)},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),"width"==t&&"auto"==e.dropDownWidth&&(i=e.host.width(),e.listBoxContainer.jqxListBox({width:i}),e.container.width(parseInt(i)+25)),e._arrange(),e.close())},propertyChangedHandler:function(e,t,i,s){if(null!=e.isInitialized&&0!=e.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){var r,n;if("template"==t&&(e.listBoxContainer.removeClass(e.toThemeProperty("jqx-"+i+"-item")),e.listBoxContainer.addClass(e.toThemeProperty("jqx-"+e.template+"-item")),e.dropDownListArrow.removeClass(e.toThemeProperty("jqx-"+i)),e.dropDownListArrow.addClass(e.toThemeProperty("jqx-"+e.template)),(r=this).bar.removeClass(r.toThemeProperty("jqx-"+i)),r.label.removeClass(r.toThemeProperty("jqx-"+i)),r.bar.addClass(r.toThemeProperty("jqx-"+r.template)),r.label.addClass(r.toThemeProperty("jqx-"+r.template))),"dropDownVerticalAlignment"==t&&(e.close(),e.dropdownlistArrowIcon.removeClass(e.toThemeProperty("jqx-icon-arrow-up")),e.dropdownlistArrowIcon.removeClass(e.toThemeProperty("jqx-icon-arrow-down")),"top"==e.dropDownVerticalAlignment?e.dropdownlistArrowIcon.addClass(e.toThemeProperty("jqx-icon-arrow-up")):e.dropdownlistArrowIcon.addClass(e.toThemeProperty("jqx-icon-arrow-down")),e.listBoxContainer.css("top",0),e.listBoxContainer.removeClass(this.toThemeProperty("jqx-popup-up"))),"autoItemsHeight"==t&&e.listBoxContainer.jqxListBox({autoItemsHeight:s}),"itemHeight"==t&&e.listBoxContainer.jqxListBox({itemHeight:s}),"renderSelectedItem"==t&&e.renderSelection("mouse"),"renderer"==t&&e.listBoxContainer.jqxListBox({renderer:s}),"enableSelection"==t&&e.listBoxContainer.jqxListBox({enableSelection:s}),"enableHover"==t&&e.listBoxContainer.jqxListBox({enableHover:s}),"touchMode"===t&&(e.listBoxContainer.jqxListBox({touchMode:s}),e.touch=h.jqx.mobile.isTouchDevice(),!0===e.touchMode&&(e.touch=!0),e._updateHandlers()),"multiSelect"==t)if(s)e.doMultiSelect(!1);else{for(var o=e.listBox.items,a=-1,l=0;l<o.length;l++)o[l].disabled=!1,(0<=e.selectedItems.indexOf(o[l].value)||0<=e._disabledItems.indexOf(e.value))&&(o[l].disabled=!0,a=o[l].index);if(e.doMultiSelect(!1),e.listBox._renderItems(),!o)return;e.listBox.selectedIndex=a,e.renderSelection("mouse"),e.dropdownlistWrapper.parent().css("height","100%"),e.dropdownlistContent.css("height","100"),e.dropdownlistWrapper.css("height","100"),e.dropdownlistContent.css("position","relative"),e.host.css("min-height",null),e._setSize(),e._arrange()}"showArrow"==t&&(e._arrange(),e.multiSelect&&e.doMultiSelect(!1)),"placeHolder"==t&&(e.isMaterialized()?e.label.innerHTML=e.placeHolder:e.input.attr("placeholder",e.placeHolder)),"popupZIndex"==t&&e.listBoxContainer.css({zIndex:e.popupZIndex}),"promptText"==t&&(e.placeHolder=s),"autoOpen"==t&&e._updateHandlers(),"renderer"==t&&(e.listBox.renderer=e.renderer),"itemHeight"==t&&(e.listBox.itemHeight=s),"source"==t&&(e.input.val(""),e.listBoxContainer.jqxListBox({source:e.source}),e.renderSelection("mouse"),null==e.source&&e.clearSelection(),e.multiSelect&&(e.selectedItems=new Array,e._selectedItems=new Array,e.doMultiSelect(!1))),"rtl"==t&&(s?(e.dropdownlistArrow.css("float","left"),e.dropdownlistContent.css("float","right")):(e.dropdownlistArrow.css("float","right"),e.dropdownlistContent.css("float","left")),e.listBoxContainer.jqxListBox({rtl:e.rtl})),"displayMember"!=t&&"valueMember"!=t||(e.listBoxContainer.jqxListBox({displayMember:e.displayMember,valueMember:e.valueMember}),e.renderSelection("mouse")),"autoDropDownHeight"==t&&(e.listBoxContainer.jqxListBox({autoHeight:e.autoDropDownHeight}),e.autoDropDownHeight?e.container.height(e.listBoxContainer.height()+25):(e.listBoxContainer.jqxListBox({height:e.dropDownHeight}),e.container.height(parseInt(e.dropDownHeight)+25)),e.listBox._arrange(),e.listBox._updatescrollbars()),"dropDownHeight"!=t||e.autoDropDownHeight||(e.listBoxContainer.jqxListBox({height:e.dropDownHeight}),e.container.height(parseInt(e.dropDownHeight)+25)),"dropDownWidth"!=t&&"scrollBarSize"!=t||(n=e.width,"auto"!=e.dropDownWidth&&(n=e.dropDownWidth),e.listBoxContainer.jqxListBox({width:n,scrollBarSize:e.scrollBarSize}),e.container.width(parseInt(n)+25)),"autoComplete"==t&&e._resetautocomplete(),"checkboxes"==t&&(e.listBoxContainer.jqxListBox({checkboxes:e.checkboxes}),e.checkboxes?(e.input.attr("readonly",!0),h.jqx.aria(e,"aria-readonly",!0)):h.jqx.aria(e,"aria-readonly",!1)),"theme"==t&&null!=s&&(e.listBoxContainer.jqxListBox({theme:s}),e.listBoxContainer.addClass(e.toThemeProperty("jqx-popup")),h.jqx.browser.msie&&e.listBoxContainer.addClass(e.toThemeProperty("jqx-noshadow")),h.jqx.utilities.setTheme(i,s,e.host)),"rtl"==t&&(e.render(),e.refresh()),"width"!=t&&"height"!=t||(e._setSize(),"width"==t&&"auto"==e.dropDownWidth&&(n=e.host.width(),e.listBoxContainer.jqxListBox({width:n}),e.container.width(parseInt(n)+25)),e._arrange(),e.close()),"selectedIndex"==t&&(e.listBox.selectIndex(s),e.renderSelection("mouse"))}}})}(jqxBaseFramework),!function(a){a.jqx.jqxWidget("jqxComplexInput","",{}),a.extend(a.jqx._jqxComplexInput.prototype,{defineInstance:function(){var e={width:null,height:null,decimalNotation:"default",value:"",spinButtons:!1,spinButtonsStep:1,placeHolder:"",roundedCorners:!0,disabled:!1,rtl:!1,changeType:null,hint:!0,template:"",events:["change"]};return this===a.jqx._jqxComplexInput.prototype||a.extend(!0,this,e),e},createInstance:function(){this._firefox="mozilla"===a.jqx.browser.browser,this._currentNumber={},this._allowedCharacters=new RegExp(/([\+\-\.0-9i])/i),this.render()},render:function(){var e,t,i,s,r,n=this;if(n.isMaterialized()&&(r=a("<label></label"),this.hint&&(r[0].innerHTML=this.placeHolder),r.addClass(n.toThemeProperty("jqx-input-label")),(s=a("<span></span>")).addClass(n.toThemeProperty("jqx-input-bar")),"INPUT"===n.element.nodeName.toUpperCase()?((i=a("<div></div>")).addClass(n.toThemeProperty("jqx-input-group jqx-complex-input-group")),this.host.after(i),t=this.element,e=this.host.data(),i.append(t),i.append(r),i.append(s),0<=n.element.className.indexOf("underlined")&&i.addClass("underlined")):(this.host.append(r),this.host.append(s),this.host.addClass(n.toThemeProperty("jqx-input-group jqx-complex-input-group")),s.css("top",6+this.element.offsetHeight)),n.bar=s,n.label=r),"DIV"===n.element.nodeName.toUpperCase()&&(n.baseHost=n.host,e=n.host.data(),n.host=n.baseHost.children("input"),n.element=n.host[0],n.host.data(e)),!0===n.spinButtons){if(!n.baseHost)throw new Error("jqxComplexInput: Invalid HTML structure. Please initialize the complex input from a div with an input and another div inside.");n._appendSpinButtons()}n._addClasses(),n._setSize(),n._removeHandlers(),n._addHandlers(),"exponential"===n.decimalNotation&&-1!==n.value.toLowerCase().indexOf("e")?(r=(i=(t=n._exponentialToDecimal(n.value)).realPart)+" "+((s=t.imaginaryPart)<0?"-":"+")+" "+Math.abs(s)+"i",n._currentNumber={value:r,realPart:i,imaginaryPart:s}):n._currentNumber={value:n.value,realPart:n._getReal(n.value),imaginaryPart:n._getImaginary(n.value)},"default"===n.decimalNotation?n.element.value=n.value:n._setNotation(),n._refreshPlaceHolder()},refresh:function(e){!0!==e&&this.render()},destroy:function(){this._removeHandlers(),this.host.destroy()},val:function(e){var t=this;if("string"!=typeof e&&("object"!=typeof e||!1!==a.isEmptyObject(e)))return t.element.value;"string"==typeof e?i=-1===(e=e.toLowerCase()).indexOf("e")?(s=t._getReal(e),t._getImaginary(e)):(s=+(i=t._exponentialToDecimal(e)).realPart,+i.imaginaryPart):"object"==typeof e&&!1===a.isEmptyObject(e)&&(s=e.real,i=e.imaginary);var i,e=0<=i?"+":"-",s=s+" "+e+" "+Math.abs(i)+"i";s!==t._currentNumber.value&&(t.element.value=s,t._onChange(t.value),"default"!==t.decimalNotation&&t._setNotation())},getReal:function(){return this._currentNumber.realPart},_getReal:function(e){e&&("object"!=typeof e||!0!==a.isEmptyObject(e))||(e=this.element.value);var t=a.trim(e),i="";if(0===(e.match(/i/g)||[]).length)return parseFloat(t);function s(e){return t=t.slice(0,e),t=a.trim(t),parseFloat(i+""+t)}"+"===e.charAt(0)?t=t.slice(1,e.length):"-"===e.charAt(0)&&(t=t.slice(1,e.length),i="-");e=t.indexOf("+");if(-1!==e)return s(e);e=t.indexOf("-");return-1!==e?s(e):0},getImaginary:function(){return this._currentNumber.imaginaryPart},_getImaginary:function(e){if(0===((e=e&&("object"!=typeof e||!0!==a.isEmptyObject(e))?e:this.element.value).match(/i/g)||[]).length)return 0;var i=a.trim(e),t="";function s(e,t){return i=i.slice(e+1,i.indexOf("i")),""===(i=a.trim(i))&&(i=1),parseFloat(t+""+i)}"-"!==i.charAt(0)&&"+"!==i.charAt(0)||(t="-"===i.charAt(0)?"-":"+",i=a.trim(i.slice(1,e.length)));e=i.indexOf("+");if(-1!==e)return s(e,"+");e=i.indexOf("-");return-1!==e?s(e,"-"):""===(i=t+""+i.slice(0,i.indexOf("i")))||"+"===i?1:"-"===i?-1:parseFloat(i)},getDecimalNotation:function(e,t){var i=this;"real"===e?e=i._currentNumber.realPart:"imaginary"===e&&(e=i._currentNumber.imaginaryPart);var s,r,n,o,e=e.toExponential();return"scientific"===t?(n=(r=e).indexOf("e"),o=r.slice(n+1),r=(r=r.slice(0,n+1)).replace("e","Ã10"),r=(r+=i._toSuperScript(o)).replace("+","")):"engineering"===t?(o=(n=e).indexOf("e"),r=n.slice(o+1),t=n.slice(0,o),s=parseInt(r,10)%3,t*=Math.pow(10,s),(t=0<=(n=n.slice(0,o).length-s-2)?t.toFixed(n):t)+"Ã10"+i._toSuperScript((parseInt(r,10)-s).toString())):e},propertyChangedHandler:function(e,t,i,s){if(s!==i)switch(t){case"template":e.template&&(e._upbutton.removeClass(this.toThemeProperty("jqx-"+i)),e._downbutton.removeClass(this.toThemeProperty("jqx-"+i)),e._upbutton.addClass(this.toThemeProperty("jqx-"+e.template)),e._downbutton.addClass(this.toThemeProperty("jqx-"+e.template)));break;case"width":case"height":e._setSize();break;case"decimalNotation":"default"===s?e.element.value=e._currentNumber.value:e._setNotation();break;case"value":e.element.value=s,e._onChange(i);break;case"spinButtons":function r(){e.host.removeClass(e.toThemeProperty("jqx-rc-all")),!1===e.rtl?(e.host.addClass(e.toThemeProperty("jqx-rc-l")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-rc-r"))):(e.host.addClass(e.toThemeProperty("jqx-rc-r")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-rc-l")))}var n,o;e._spinButtonsContainer?(o=e.host.width(),n=e._spinButtonsContainer.outerWidth(),!1===s?(e.host.width(o+n),e._spinButtonsContainer.hide(),e.host.addClass(e.toThemeProperty("jqx-rc-all"))):(e.host.width(o-n),e._spinButtonsContainer.show(),r())):!0===s&&(o=a("<div></div>"),e.baseHost?e.host.after(o):(n=e.element.id,e.host.removeAttr("id"),e.host.wrap('<div id="'+n+'" style="display: inline-block;"></div>'),(n=a("#"+n)).append(o),(o=e.host.data()).jqxComplexInput.host=n,o.jqxComplexInput.element=n[0],e.baseHost=n,e.baseHost.data(o)),e.render(),r());break;case"placeHolder":e._refreshPlaceHolder(i);break;case"roundedCorners":e._spinButtonsContainer?!0===s?!1===e.rtl?(e.host.addClass(e.toThemeProperty("jqx-rc-l")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-rc-r"))):(e.host.addClass(e.toThemeProperty("jqx-rc-r")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-rc-l"))):!1===e.rtl?(e.host.removeClass(e.toThemeProperty("jqx-rc-l")),e._spinButtonsContainer.removeClass(e.toThemeProperty("jqx-rc-r"))):(e.host.removeClass(e.toThemeProperty("jqx-rc-r")),e._spinButtonsContainer.removeClass(e.toThemeProperty("jqx-rc-l"))):!0===s?e.host.addClass(e.toThemeProperty("jqx-rc-all")):e.host.removeClass(e.toThemeProperty("jqx-rc-all"));break;case"disabled":!0===s?(e.host.attr("disabled",!0),e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled")),e._spinButtonsContainer&&e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-fill-state-disabled"))):(e.host.removeAttr("disabled"),e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled")),e._spinButtonsContainer&&e._spinButtonsContainer.removeClass(e.toThemeProperty("jqx-fill-state-disabled")));break;case"rtl":e._spinButtonsContainer&&(!0===s?(e.host.addClass(e.toThemeProperty("jqx-complex-input-child-rtl")),e._spinButtonsContainer.removeClass(e.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl")),!0===e.roundedCorners&&(e.host.removeClass(e.toThemeProperty("jqx-rc-l")),e.host.addClass(e.toThemeProperty("jqx-rc-r")),e._spinButtonsContainer.removeClass(e.toThemeProperty("jqx-rc-r")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-rc-l")))):(e.host.removeClass(e.toThemeProperty("jqx-complex-input-child-rtl")),e._spinButtonsContainer.removeClass(e.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr")),!0===e.roundedCorners&&(e.host.removeClass(e.toThemeProperty("jqx-rc-r")),e.host.addClass(e.toThemeProperty("jqx-rc-l")),e._spinButtonsContainer.removeClass(e.toThemeProperty("jqx-rc-l")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-rc-r")))));break;case"theme":a.jqx.utilities.setTheme(i,s,e.host)}},_raiseEvent:function(e,t){e=this.events[e],(t=void 0===t?{owner:null}:t).owner=this,e=new a.Event(e);return e.owner=this,t.type=this.changeType,this.changeType=null,e.args=t,e.preventDefault&&e.preventDefault(),this.host.trigger(e)},_appendSpinButtons:function(){var e=this,t=(e._spinButtonsContainer=a(e.baseHost.children("div")),e._spinButtonsContainer.attr("unselectable","on"),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-fill-state-normal jqx-complex-input-child jqx-formatted-input-spin-buttons-container jqx-complex-input-spin-buttons-container")),!1===e.rtl?e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr")):e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl")),'<div unselectable="on" class="'+e.toThemeProperty("jqx-fill-state-normal jqx-formatted-input-spin-button")+'"><div class="'+e.toThemeProperty("jqx-input-icon")+'"></div></div>');e._upbutton=a(t),e._spinButtonsContainer.append(e._upbutton),e._downbutton=a(t),e._spinButtonsContainer.append(e._downbutton),e._upArrow=e._upbutton.find("div"),e._upArrow.addClass(e.toThemeProperty("jqx-icon-arrow-up")),e._downArrow=e._downbutton.find("div"),e._downArrow.addClass(e.toThemeProperty("jqx-icon-arrow-down")),e._upArrow.add(e._downArrow).attr("unselectable","on"),e.template&&(e._upbutton.addClass(e.toThemeProperty("jqx-"+e.template)),e._downbutton.addClass(e.toThemeProperty("jqx-"+e.template)))},_addClasses:function(){var e=this;e.host.addClass(e.toThemeProperty("jqx-widget jqx-input jqx-complex-input jqx-widget-content")),e.baseHost&&(e.baseHost.addClass(e.toThemeProperty("jqx-widget jqx-complex-input-parent")),e.host.addClass(e.toThemeProperty("jqx-complex-input-child"))),!0===e.roundedCorners&&(e._spinButtonsContainer?!1===e.rtl?(e.host.addClass(e.toThemeProperty("jqx-rc-l")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-rc-r"))):(e.host.addClass(e.toThemeProperty("jqx-rc-r")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-rc-l"))):e.host.addClass(e.toThemeProperty("jqx-rc-all"))),!0===e.disabled&&(e.host.attr("disabled",!0),e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled")),e._spinButtonsContainer&&e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-fill-state-disabled"))),!0===e.rtl&&e.host.add(e._spinButtonsContainer).addClass(e.toThemeProperty("jqx-complex-input-child-rtl"))},_refreshPlaceHolder:function(e){"placeholder"in this.element?this.host.attr("placeHolder",this.placeHolder):""!==this.element.value&&this.element.value!==e||(this.element.value=this.placeHolder)},_setSize:function(){var r=this;function e(){var e,t=r.baseHost.height(),i=parseInt(r.host.css("border-left-width"),10)+parseInt(r.host.css("border-right-width"),10)+parseInt(r.host.css("padding-left"),10)+parseInt(r.host.css("padding-right"),10),s=0;a.jqx.browser.msie&&a.jqx.browser.version<8&&(s=i,r.host.height(r.baseHost.height()-2*(parseInt(r.host.css("border-top-width"),10)+parseInt(r.host.css("border-bottom-width"),10)+parseInt(r.host.css("padding-top"),10)+parseInt(r.host.css("padding-bottom"),10)))),r._spinButtonsContainer?(e="string"==typeof r.width&&"%"===r.width.charAt(r.width.length-1)?1:0,r.host.width(r.baseHost.width()-i-r._spinButtonsContainer.outerWidth()-s-e),a.jqx.browser.msie&&a.jqx.browser.version<8&&r._spinButtonsContainer.height(t-2*(parseInt(r._spinButtonsContainer.css("border-top-width"),10)+parseInt(r._spinButtonsContainer.css("border-bottom-width"),10)+parseInt(r._spinButtonsContainer.css("padding-top"),10)+parseInt(r._spinButtonsContainer.css("padding-bottom"),10)))):r.host.width(r.baseHost.width()-i-s)}r.baseHost?(r.baseHost.width(r.width),r.baseHost.height(r.height),e()):(r.host.width(r.width),r.host.height(r.height)),a.jqx.browser.msie&&a.jqx.browser.version<9&&r.host.css("line-height",r.host.height()+"px");var t=r.baseHost||r.host;a.jqx.utilities.resize(t,function(){e(),(a.jqx.browser.msie&&a.jqx.browser.version<9||!a.jqx.browser.msie)&&"string"==typeof r.height&&"%"===r.height.charAt(r.height.length-1)&&r.host.css("line-height",r.host.height()+"px")})},_addHandlers:function(){var e,s=this,t=(s.baseHost?s.baseHost[0]:s.element).id,r=[8,9,13,32,35,36,37,38,39,40,46];s.addHandler(s.host,"focus.jqxComplexInput"+t,function(){var e;s.host.addClass(s.toThemeProperty("jqx-fill-state-focus")),s._spinButtonsContainer&&s._spinButtonsContainer.addClass(s.toThemeProperty("jqx-fill-state-focus")),s.bar&&s.bar.addClass("focused"),s.label&&s.label.addClass("focused"),"placeholder"in s.element||s.element.value!==s.placeHolder||(s.element.value=""),"default"!==s.decimalNotation&&(e=s._getCaretPosition(),s.element.value=s._currentNumber.value,s._setCaretPosition(e))}),s.addHandler(s.host,"blur.jqxComplexInput"+t,function(){s.host.removeClass(s.toThemeProperty("jqx-fill-state-focus")),s._spinButtonsContainer&&s._spinButtonsContainer.removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.bar&&s.bar.removeClass("focused"),s.label&&s.label.removeClass("focused"),(s.element.value!==s.value||"placeholder"in s.element||!("placeholder"in s.element)&&""===s.element.value)&&s._onChange(s.value),"placeholder"in s.element||""!==s.element.value&&s.element.value!==s.placeHolder||(s.element.value=s.placeHolder),"default"!==s.decimalNotation&&s._setNotation()}),s.addHandler(s.host,"keydown.jqxComplexInput"+t,function(e){var t=e.charCode||e.which;if(s.changeType="keyboard",!0!==e.ctrlKey||67!==t&&86!==t&&88!==t){var i=String.fromCharCode(t),e=(96<=t&&t<=105&&(i=(t-96).toString(),t-=48),(!s._firefox&&187===t||s._firefox&&61===t)&&!0===e.shiftKey?i="+":(!s._firefox&&189===t||s._firefox&&173===t)&&!1===e.shiftKey?i="-":190===t&&!1===e.shiftKey&&(i="."),s._allowedCharacters.test(i));if(!0===e){if("+"===i||"-"===i){if(1<(s.element.value.match(/-/g)||[]).length+(s.element.value.match(/\+/g)||[]).length)return!1}else if("."===i){if(1<(s.element.value.match(/\./g)||[]).length)return!1}else if("i"===i.toLowerCase()&&-1!==s.element.value.indexOf(i.toLowerCase()))return!1}else if(-1===r.indexOf(t))return!1}}),s.addHandler(s.host,"keypress.jqxComplexInput"+t,function(e){13===(e.charCode||e.which)&&s.element.value!==s.value&&s._onChange(s.value)}),s._spinButtonsContainer&&(e=s._upbutton.add(s._downbutton),s.addHandler(s._upbutton,"mousedown.jqxComplexInputSpinButtonUp"+t,function(){s.disabled||""===s.value||null===s.value||(s._upbutton.addClass(s.toThemeProperty("jqx-fill-state-pressed")),s.changeType="mouse",s._incrementOrDecrement(!0))}),s.addHandler(s._upbutton,"mouseup.jqxComplexInputSpinButtonUp"+t,function(){s.disabled||""===s.value||null===s.value||s._upbutton.removeClass(s.toThemeProperty("jqx-fill-state-pressed"))}),s.addHandler(s._downbutton,"mousedown.jqxComplexInputSpinButtonDown"+t,function(){s.disabled||""===s.value||null===s.value||(s._downbutton.addClass(s.toThemeProperty("jqx-fill-state-pressed")),s.changeType="mouse",s._incrementOrDecrement(!1))}),s.addHandler(s._downbutton,"mouseup.jqxComplexInputSpinButtonDown"+t,function(){s.disabled||""===s.value||null===s.value||s._downbutton.removeClass(s.toThemeProperty("jqx-fill-state-pressed"))}),s.addHandler(e,"mouseenter.jqxComplexInputSpinButtons"+t,function(e){s.disabled||""===s.value||null===s.value||((e=a(e.target)).hasClass("jqx-icon-arrow-up")||e.children().hasClass("jqx-icon-arrow-up")?(s._upbutton.addClass(s.toThemeProperty("jqx-fill-state-hover")),s._upArrow.addClass(s.toThemeProperty("jqx-icon-arrow-up-hover"))):(s._downbutton.addClass(s.toThemeProperty("jqx-fill-state-hover")),s._downArrow.addClass(s.toThemeProperty("jqx-icon-arrow-down-hover"))))}),s.addHandler(e,"mouseleave.jqxComplexInputSpinButtons"+t,function(e){s.disabled||""===s.value||null===s.value||((e=a(e.target)).hasClass("jqx-icon-arrow-up")||e.children().hasClass("jqx-icon-arrow-up")?(s._upbutton.removeClass(s.toThemeProperty("jqx-fill-state-hover")),s._upArrow.removeClass(s.toThemeProperty("jqx-icon-arrow-up-hover"))):(s._downbutton.removeClass(s.toThemeProperty("jqx-fill-state-hover")),s._downArrow.removeClass(s.toThemeProperty("jqx-icon-arrow-down-hover"))))}),s.addHandler(a("body"),"mouseup.jqxComplexInputSpinButtons"+t,function(){s._upbutton.add(s._downbutton).removeClass(s.toThemeProperty("jqx-fill-state-pressed"))}))},_removeHandlers:function(){var e,t=this,i=(t.baseHost?t.baseHost[0]:t.element).id;t.removeHandler(t.host,"focus.jqxComplexInput"+i),t.removeHandler(t.host,"blur.jqxComplexInput"+i),t.removeHandler(t.host,"keydown.jqxComplexInput"+i),t.removeHandler(t.host,"keypress.jqxComplexInput"+i),t._spinButtonsContainer&&(e=t._upbutton.add(t._downbutton),t.removeHandler(t._upbutton,"mousedown.jqxComplexInputSpinButtonUp"+i),t.removeHandler(t._upbutton,"mouseup.jqxComplexInputSpinButtonUp"+i),t.removeHandler(t._downbutton,"mousedown.jqxComplexInputSpinButtonDown"+i),t.removeHandler(t._downbutton,"mouseup.jqxComplexInputSpinButtonDown"+i),t.removeHandler(e,"mouseenter.jqxComplexInputSpinButtons"+i),t.removeHandler(e,"mouseleave.jqxComplexInputSpinButtons"+i),t.removeHandler(a("body"),"mouseup.jqxComplexInputSpinButtons"+i))},_onChange:function(e){var t=this,i=t.element.value.toLowerCase();if(""!==a.trim(i)&&a.trim(i)!==t.placeHolder){-1!==i.indexOf("++")||-1!==i.indexOf("+-")?(s=i.indexOf("+"),i=i.slice(0,s+1)+""+i.slice(s+2,i.length)):-1===i.indexOf("--")&&-1===i.indexOf("-+")||(s=i.indexOf("-"),i=i.slice(0,s+1)+""+i.slice(s+2,i.length)),-1!==i.indexOf("..")&&(s=i.indexOf("."),i=i.slice(0,s+1)+""+i.slice(s+2,i.length));var s=t._getReal(i),i=t._getImaginary(i),r=0<=i?"+":"-",n=s,o=i;if(isNaN(n)||isNaN(o))return void(t.element.value=e);t.element.value=s+" "+r+" "+Math.abs(i)+"i",t.value=t.element.value}else o=n=0,t.value="";t.value!==e&&(t._currentNumber={value:t.value,realPart:n,imaginaryPart:o},t._raiseEvent("0",{value:t.value,oldValue:e,realPart:n,imaginaryPart:o}))},_incrementOrDecrement:function(n){var e,o=this,t=o.host.is(":focus"),i=o.element.value,s=o._currentNumber.realPart,r=o._currentNumber.imaginaryPart;function a(e){var t,i,s=e.toString(),r=s.indexOf("."),r=-1!==r?(t=parseInt(s.slice(0,r),10),i=s.slice(s.indexOf(".")+1),"."):(t=e,i="");return e=!0===n?t+o.spinButtonsStep:t-o.spinButtonsStep,e=parseFloat(e+""+r+i)}t&&(e=o._getCaretPosition()),i=0<=r?i.indexOf("+"):(i="-"===i.charAt(0)?i.slice(1,i.length):i).indexOf("-"),void 0===e||e<=i?s=a(s):r=a(r);i=s+" "+(0<=r?"+":"-")+" "+Math.abs(r)+"i";o.element.value=i,o._onChange(o.value),t?o._setCaretPosition(e):"default"!==o.decimalNotation&&o._setNotation()},_getCaretPosition:function(){var e,t,i=this.element;return"selectionStart"in i?i.selectionStart:document.selection?(i.focus(),e=document.selection.createRange(),t=document.selection.createRange().text.length,e.moveStart("character",-i.value.length),e.text.length-t):void 0},_setCaretPosition:function(t){var i=this.element;setTimeout(function(){var e;"selectionStart"in i?(i.focus(),i.setSelectionRange(t,t)):((e=i.createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select())},10)},_exponentialToDecimal:function(e){var t=e.indexOf("e")+2,i=e.slice(t),s=i.indexOf("+"),r=i.indexOf("-"),t=-1!==s&&(s<r||-1===r)?s:r,s=i.slice(t),r=e.replace(s,""),i=(s=s.slice(0,s.length-1)).charAt(0);return s=a.trim(s.slice(1)),"-"===i&&(s="-"+s),{realPart:+parseFloat(r).toFixed(20),imaginaryPart:s=+parseFloat(s).toFixed(20)}},_setNotation:function(){var e=this.getDecimalNotation(this._currentNumber.realPart,this.decimalNotation),t=this.getDecimalNotation(Math.abs(this._currentNumber.imaginaryPart),this.decimalNotation),i=0<=this._currentNumber.imaginaryPart?"+":"-";this.element.value=e+" "+i+" "+t+"i"},_toSuperScript:function(e,t){for(var i,s="-0123456789",r="â»â°Â¹Â²Â³â´âµâ¶â·â¸â¹",n="",o=0;o<e.length;o++)n+=!0===t?-1!==(i=r.indexOf(e.charAt(o)))?s[i]:e[o]:-1!==(i=s.indexOf(e.charAt(o)))?r[i]:e[o];return n}})}(jqxBaseFramework),!function(Y){function R(i,e){return this.owner=i,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.editable=!0,this.hidden=!1,this.hideable=!0,this.groupable=!0,this.renderer=null,this.cellsRenderer=null,this.columntype=null,this.cellsFormat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.resizable=!0,this.draggable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.autoCellHeight=!0,this.validation=null,this.classname="",this.cellclassname="",this.aggregates=null,this.aggregatesRenderer=null,this.rendered=null,this.exportable=!0,this.nullable=!0,this.columngroup=null,this.columntype="textbox",this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsFormat:this.cellsFormat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){var i;this[e]?(i=this[e],this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)):this[e.toLowerCase()]&&(i=this[e.toLowerCase()],this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i))},this._initfields=function(e){if(null!=e)if(Y.jqx.hasProperty(e,"dataField")&&(this.datafield=Y.jqx.get(e,"dataField")),Y.jqx.hasProperty(e,"displayField")?this.displayfield=Y.jqx.get(e,"displayField"):this.displayfield=this.datafield,Y.jqx.hasProperty(e,"columnType")&&(this.columntype=Y.jqx.get(e,"columnType")),Y.jqx.hasProperty(e,"validation")&&(this.validation=Y.jqx.get(e,"validation")),Y.jqx.hasProperty(e,"autoCellHeight")&&(this.autoCellHeight=Y.jqx.get(e,"autoCellHeight")),Y.jqx.hasProperty(e,"text")?this.text=Y.jqx.get(e,"text"):this.text=this.displayfield,Y.jqx.hasProperty(e,"sortable")&&(this.sortable=Y.jqx.get(e,"sortable")),Y.jqx.hasProperty(e,"hidden")&&(this.hidden=Y.jqx.get(e,"hidden")),Y.jqx.hasProperty(e,"groupable")&&(this.groupable=Y.jqx.get(e,"groupable")),Y.jqx.hasProperty(e,"renderer")&&(this.renderer=Y.jqx.get(e,"renderer")),Y.jqx.hasProperty(e,"align")&&(this.align=Y.jqx.get(e,"align")),Y.jqx.hasProperty(e,"cellsAlign")&&(this.cellsalign=Y.jqx.get(e,"cellsAlign")),Y.jqx.hasProperty(e,"cellsFormat")&&(this.cellsFormat=Y.jqx.get(e,"cellsFormat")),Y.jqx.hasProperty(e,"width")&&(this.width=Y.jqx.get(e,"width")),Y.jqx.hasProperty(e,"minWidth")&&(this.minwidth=Y.jqx.get(e,"minWidth")),Y.jqx.hasProperty(e,"maxWidth")&&(this.maxwidth=Y.jqx.get(e,"maxWidth")),Y.jqx.hasProperty(e,"cellsRenderer")&&(this.cellsRenderer=Y.jqx.get(e,"cellsRenderer")),Y.jqx.hasProperty(e,"columnType")&&(this.columntype=Y.jqx.get(e,"columnType")),Y.jqx.hasProperty(e,"pinned")&&(this.pinned=Y.jqx.get(e,"pinned")),Y.jqx.hasProperty(e,"filterable")&&(this.filterable=Y.jqx.get(e,"filterable")),Y.jqx.hasProperty(e,"filter")&&(this.filter=Y.jqx.get(e,"filter")),Y.jqx.hasProperty(e,"resizable")&&(this.resizable=Y.jqx.get(e,"resizable")),Y.jqx.hasProperty(e,"draggable")&&(this.draggable=Y.jqx.get(e,"draggable")),Y.jqx.hasProperty(e,"editable")&&(this.editable=Y.jqx.get(e,"editable")),Y.jqx.hasProperty(e,"initEditor")&&(this.initeditor=Y.jqx.get(e,"initEditor")),Y.jqx.hasProperty(e,"createEditor")&&(this.createeditor=Y.jqx.get(e,"createEditor")),Y.jqx.hasProperty(e,"destroyEditor")&&(this.destroyeditor=Y.jqx.get(e,"destroyEditor")),Y.jqx.hasProperty(e,"getEditorValue")&&(this.geteditorvalue=Y.jqx.get(e,"getEditorValue")),Y.jqx.hasProperty(e,"className")&&(this.classname=Y.jqx.get(e,"className")),Y.jqx.hasProperty(e,"cellClassName")&&(this.cellclassname=Y.jqx.get(e,"cellClassName")),Y.jqx.hasProperty(e,"aggregates")&&(this.aggregates=Y.jqx.get(e,"aggregates")),Y.jqx.hasProperty(e,"aggregatesRenderer")&&(this.aggregatesRenderer=Y.jqx.get(e,"aggregatesRenderer")),Y.jqx.hasProperty(e,"rendered")&&(this.rendered=Y.jqx.get(e,"rendered")),Y.jqx.hasProperty(e,"exportable")&&(this.exportable=Y.jqx.get(e,"exportable")),Y.jqx.hasProperty(e,"nullable")&&(this.nullable=Y.jqx.get(e,"nullable")),Y.jqx.hasProperty(e,"columnGroup")&&(this.columngroup=Y.jqx.get(e,"columnGroup")),!e instanceof String&&"string"!=typeof e)for(var t in e)if(!this.hasOwnProperty(t)&&!this.hasOwnProperty(t.toLowerCase()))throw i.host.remove(),new Error("jqxDataTable: Invalid property name - "+t+".")},this._initfields(e),this}Y.jqx.jqxWidget("jqxDataTable","",{}),Y.extend(Y.jqx._jqxDataTable.prototype,{defineInstance:function(){var e={altRows:!1,aggregatesHeight:34,autoShowLoadElement:!0,autoRowHeight:!0,columnsHeight:36,columns:[],columnGroups:null,columnsResize:!1,columnsReorder:!1,dataview:null,disabled:!1,editable:!1,editSettings:{saveOnPageChange:!0,saveOnBlur:!0,saveOnSelectionChange:!0,cancelOnEsc:!0,saveOnEnter:!0,editSingleCell:!1,editOnDoubleClick:!0,editOnF2:!0},enableHover:!0,enableBrowserSelection:!1,filterHeight:35,filterable:!1,filterMode:"default",groupsRenderer:null,groups:new Array,headerZIndex:359,height:null,handleKeyboardNavigation:null,indentWidth:25,initRowDetails:!1,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed.",localization:null,pagerHeight:40,pageSize:10,pageSizeOptions:["5","10","20"],pageable:!1,pagerPosition:"bottom",pagerMode:"default",pageSizeMode:"default",pagerButtonsCount:5,pagerRenderer:null,ready:null,rendertoolbar:null,rowDetails:!1,renderStatusBar:null,rendered:null,rendering:null,rtl:!1,sortable:!1,showtoolbar:!1,showstatusbar:!1,statusBarHeight:34,serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:Y.jqx.utilities.scrollBarSize,touchScrollBarSize:Y.jqx.utilities.touchScrollBarSize,showAggregates:!1,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,beginEdit:null,endEdit:null,autokoupdates:!0,columnsVirtualization:!1,exportSettings:{columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,recordsInView:!0,fileName:"jqxDataTable"},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},toolbarHeight:34,tableZIndex:369,_updating:!1,touchmode:"auto",enableSanitizeAll:!1,width:null,that:this,incrementalSearch:!0,events:["bindingComplete","sort","filter","pageChanged","pageSizeChanged","rowClick","rowDoubleClick","cellValueChanged","rowBeginEdit","rowEndEdit","rowSelect","rowUnselect","rowCheck","rowUncheck","columnResized","columnReordered","rowExpand","rowCollapse","cellBeginEdit","cellEndEdit"]};return this===Y.jqx._jqxDataTable.prototype||(Y.extend(!0,this,e),this.that=this),e},createInstance:function(e){var r=this;if(13!=Y.jqx.utilities.scrollBarSize&&(r.scrollBarSize=Y.jqx.utilities.scrollBarSize),r.isMaterialized()&&(p=(m=window.getComputedStyle(r.element)).getPropertyValue("--jqx-grid-column-height"),m=m.getPropertyValue("--jqx-scrollbar-size"),p&&36===this.columnsHeight&&(r.columnsHeight=parseInt(p))),m&&(r.scrollbarsize=m,Y.jqx.utilities.scrollBarSize=m),"table"==r.element.nodeName.toLowerCase()||0<Y(r.element).children("table").length){for(var t=r.host.find("tbody tr"),i=r.host.find("th"),s=new Array,n=(0===i.length&&(i=t[0],t.splice(0,1)),r.localizestrings&&(r.localizestrings(),null!=r.localization&&r.localizestrings(r.localization,!1)),[]),o=0;o<t.length;o++){for(var a=t[o],l={},d=0;d<i.length;d++){var h,c=Y.trim(Y(i[d]).text()),u=(0===o&&(h={name:c},r.columns[d]&&r.columns[d].cellsFormat&&(-1==(u=r.columns[d].cellsFormat.toLowerCase()).indexOf("p")&&-1==u.indexOf("c")&&-1==u.indexOf("n")&&-1==u.indexOf("f")||(h.type="number"),-1==u.indexOf("d")&&-1==u.indexOf("m")&&-1==u.indexOf("y")&&-1==u.indexOf("h")&&-1==u.indexOf("m")&&-1==u.indexOf("s")&&-1==u.indexOf("t")||(h.type="date")),s.push(h)),Y(a).find("td:eq("+d+")"));s[d].type?(h=r.getvaluebytype(Y.trim(u.text()),s[d]),l[c]=h):l[c]=Y.trim(u.text())}n[n.length]=l}r.host.wrap("<div></div>");var p=r.host.parent(),m=r.host.data();m.jqxDataTable.host=p,m.jqxDataTable.element=p[0],r.host.parent()[0].id=r.element.id;try{r.host.parent()[0].style=r.element.style}catch(e){}r.element=p[0],r.host=p,r.host.data(m);p=new Y.jqx.dataAdapter({dataFields:s,localdata:n,datatype:"array"});r.source=p}r.source&&!r.source.dataBind&&(r.source=new Y.jqx.dataAdapter(r.source));m=r.source._source.datafields;m&&0<m.length&&(r._camelCase=void 0!==r.source._source.dataFields,r.selectionMode=r.selectionMode.toLowerCase()),null==r.host.attr("tabindex")&&r.host.attr("tabindex","0"),r.host.attr("role","grid"),r.host.attr("align","left"),r.host.addClass(r.toTP("jqx-datatable")),r.host.addClass(r.toTP("jqx-grid")),r.host.addClass(r.toTP("jqx-reset")),r.host.addClass(r.toTP("jqx-rc-all")),r.host.addClass(r.toTP("jqx-widget")),r.host.addClass(r.toTP("jqx-widget-content")),r._testmodules()||(r.render(!0),Y.jqx.utilities.resize(r.host,function(){var e=Y(window).width(),t=Y(window).height(),i=r.host.width(),s=r.host.height();r._lastHostWidth==i&&r._lastHostHeight==s||r._updatesize(r._lastHostWidth!=i,r._lastHostHeight!=s),r._lastWidth=e,r._lastHeight=t,r._lastHostWidth=i,r._lastHostHeight=s}))},getvaluebytype:function(e,t){var i,s,r=e;if(null==e)return e;if(0<=(e=0<=(e=","==this.gridlocalization.decimalseparator&&0<=e.indexOf(this.gridlocalization.decimalseparator)?e.replace(this.gridlocalization.decimalseparator,"."):e).indexOf(this.gridlocalization.currencysymbol)?e.replace(this.gridlocalization.currencysymbol,""):e).indexOf(this.gridlocalization.percentagesymbol)&&(e=e.replace(this.gridlocalization.percentagesymbol,"")),Y.isArray(e)&&"array"!=t.type){for(var n=0;n<e.length;n++)e[n]=this.getvaluebytype(e[n],t);return e}return"date"==t.type?"NaN"==e?e="":(i=new Date(e),null==(e=("NaN"==(i="string"==typeof e&&t.format&&null!=(s=Y.jqx.dataFormat.parsedate(e,t.format))?s:i).toString()||"Invalid Date"==i.toString())&&Y.jqx.dataFormat?Y.jqx.dataFormat.tryparsedate(e):i)&&(e=r)):"float"==t.type||"number"==t.type||"decimal"==t.type?"NaN"==e?e="":(e=parseFloat(e),isNaN(e)&&(e=r)):"int"==t.type||"integer"==t.type?(e=parseInt(e),isNaN(e)&&(e=r)):"bool"!=t.type&&"boolean"!=t.type||(null!=e&&null!=e.toLowerCase&&("false"==e.toLowerCase()?e=!1:"true"==e.toLowerCase()&&(e=!0)),e=1==e||(0!=e||""===e)&&""),e},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=Y('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var e=Y('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"></div><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");e.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),e.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(e),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url&&(e=!1,(e="auto"!==this.height&&null!==this.height&&!this.autoheight||999999!=this.maxHeight?e:!0)?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height)),e=!1,(e="auto"!==this.width&&null!==this.width&&!this.autoWidth?e:!0)?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width)))},_measureElement:function(e){var t=Y("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");t.addClass(this.toTP("jqx-widget")),Y(document.body).append(t),"cell"==e?this._cellheight=t.height():this._columnheight=t.height(),t.remove()},_testmodules:function(){function e(){""!=t.length&&(t+=",")}var t="",i=this;if(this.host.jqxScrollBar||(e(),t+=" jqxscrollbar.js"),this.host.jqxButton||(e(),t+=" jqxbuttons.js"),Y.jqx.dataAdapter||(e(),t+=" jqxdata.js"),""!=t||this.editable||this.filterable||this.pageable){var s=[];if(this.filterable&&"simple"!=this.filterMode||"advanced"==this.pagerMode&&this.pageable)switch("dropdownlist"){case"checkbox":i.host.jqxCheckBox||s.checkbox||(s.checkbox=!0,e(),t+=" jqxcheckbox.js");break;case"dropdownlist":i.host.jqxDropDownList||s.dropdownlist?i.host.jqxListBox||s.listbox||(e(),s.listbox=!0,t+=" jqxlistbox.js"):(e(),s.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}if(""!=t)throw new Error("jqxDataTable: Missing references to the following module(s): "+t)}return!1},focus:function(){try{this.wrapper.focus(),this.host.focus();var e=this;setTimeout(function(){e.wrapper.focus(),e.host.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return Y.jqx.isHidden(this.host)},isBindingCompleted:function(){return!this._loading},_updatesize:function(e,t){var i,s,r,n;this._loading||(s=(i=this).host.width(),r=i.host.height(),i._oldWidth||(i._oldWidth=s),i._oldHeight||(i._oldHeight=r),null!=i._resizeTimer&&(clearTimeout(i._resizeTimer),i._resizeTimer=null),(n=function(){i._resizeTimer&&clearTimeout(i._resizeTimer),i.resizingGrid=!0,Y.jqx.isHidden(i.host)||(i._updatecolumnwidths(),i.refresh(),i._oldWidth=s,i._oldHeight=r,i.resizingGrid=!1)})(),i._resizeTimer=setTimeout(function(){var e=i.host.width(),t=i.host.height();i._oldWidth==e&&i._oldHeight==t||n()},300))},resize:function(e,t){null!=e&&(this.width=e),null!=t&&(this.height=t),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var e=Y.jqx.mobile.isTouchDevice();return this.touchDevice=e,1==this.touchmode?(e=!0,Y.jqx.mobile.setMobileSimulator(this.table[0]),this.touchDevice=e):0==this.touchmode&&(e=!1),e&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),e},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(e,t){if(this._cellscache=new Array,Y.jqx.dataFormat&&Y.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);if(null!=e){for(var i in e)i.toLowerCase()!==i&&(e[i.toLowerCase()]=e[i]);for(var s=["pagergotopagestring","pagershowrowsstring","pagerrangestring","pagernextbuttonstring","pagerpreviousbuttonstring","pagerfirstbuttonstring","pagerlastbuttonstring","toppagerstring","firstDay","days","months","AM","PM","patterns","percentsymbol","currencysymbol","currencysymbolposition","decimalseparator","thousandsseparator","filterapplystring","filteraddnew","filtercancelstring","filterclearstring","filterstring","filterstringcomparisonoperators","filternumericcomparisonoperators","filterdatecomparisonoperators","filterbooleancomparisonoperators","emptydatastring","filterselectstring","todaystring","clearstring","validationstring","loadtext","filtersearchstring","loadingErrorMessage"],r=0;r<s.length;r++){var n=s[r];void 0!==e[n]&&(this.gridlocalization[n]=e[n])}e.loadingErrorMessage&&(this.loadingErrorMessage=e.loadingErrorMessage),!1!==t&&(this._builddataloadelement(),Y(this.dataloadelement).css("visibility","hidden"),Y(this.dataloadelement).css("display","none"))}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",filterapplystring:"Apply",filtercancelstring:"Cancel",filterclearstring:"Clear Filter",filterstring:"advanced",filtersearchstring:"Search:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed."}},_updateScrollbars:function(e){var t=!1,i=("auto"!==this.width&&null!==this.width&&!this.autowidth||999999!=this.maxWidth||(t=!0),parseInt(this.scrollBarSize)),s=this.table?this.table.height():0,r=0,n="inherit",o=this.vScrollBar[0].style.visibility,a=(this.hScrollBar[0].style.visibility,e=e||this.host.height(),this.columnGroups?e-=this.showHeader?this.columnsheader.height():0:e-=this.showHeader?this.columnsHeight:0,this.filterable&&(e-=this.filter.height()),this.pageable&&(e-=this.pagerHeight,"both"===this.pagerPosition&&(e-=this.pagerHeight)),this.showtoolbar&&(e-=this.toolbarHeight),this.showstatusbar&&(e-=this.statusBarHeight),this.showAggregates&&(e-=this.aggregatesHeight),!1),o=(!(a="auto"!==this.height&&null!==this.height&&!this.autoheight||999999!=this.maxHeight?a:!0)&&e<s&&(0<this.source.records.length||this.source.hierarchy&&0<this.source.hierarchy.length)?(this.vScrollBar[0].style.visibility=n,r=4+parseInt(i),this.vScrollBar.jqxScrollBar({max:s-e})):this.vScrollBar[0].style.visibility="hidden",o!=this.vScrollBar[0].style.visibility&&(this._updatecolumnwidths(),s!=(o=this.table.height())&&(s=o,!a&&e<s&&(0<this.source.records.length||this.source.hierarchy&&0<this.source.hierarchy.length)&&(this.vScrollBar[0].style.visibility=n,r=4+parseInt(i),this.vScrollBar.jqxScrollBar({max:s-e})))),0==this.scrollBarSize&&(r=0),this.table?this.table.width():0),l=(3<o&&(o-=3),parseInt(this.host.css("border-left-width"))+parseInt(this.host.css("border-right-width"))),d=l+this.host.width()-r;d<o&&!t?(this.hScrollBar[0].style.visibility=n,this.hScrollBar.jqxScrollBar({max:o-d}),r=4+parseInt(i),0==i&&(r=0),a||(e-r+4<s&&(0<this.source.records.length||this.source.hierarchy&&0<this.source.hierarchy.length)&&(this.hScrollBar.jqxScrollBar({max:l+o-d}),t="hidden"===this.vScrollBar[0].style.visibility,this.vScrollBar[0].style.visibility=n,this._updatecolumnwidths(),t&&this.hScrollBar.jqxScrollBar({max:o-d+r+l}),3<(i=this.table?this.table.width():0)&&(i-=3),i!=o&&i<d&&(this.hScrollBar.jqxScrollBar({max:l+i-d}),this.hScrollBar[0].style.visibility="hidden",r=0)),this.vScrollBar.jqxScrollBar({max:s-e+r}))):this.hScrollBar[0].style.visibility="hidden",0===this.source.records.length&&this.source.hierarchy&&0===this.source.hierarchy.length&&(this.vScrollBar[0].style.visibility="hidden",this.bottomRight[0].style.visibility="hidden"),"hidden"==this.vScrollBar[0].style.visibility&&0!=this.vScrollInstance.value&&this.vScrollInstance.setPosition(0)},_measureElementWidth:function(e){var e=Y("<span style='visibility: hidden; white-space: nowrap;'>"+e+"</span>"),t=(e.addClass(this.toTP("jqx-widget")),e.addClass(this.toTP("jqx-grid")),e.addClass(this.toTP("jqx-grid-column-header")),e.addClass(this.toTP("jqx-widget-header")),Y(document.body).append(e),e.outerWidth()+20);return e.remove(),t},_arrangeAutoHeight:function(e){var t,i,s;return e=e||0,!("auto"!==this.height&&null!==this.height&&!this.autoheight)&&(i=this.table.height(),t=0,this.columnGroups?t+=this.showHeader?this.columnsheader.height():-1:t+=this.showHeader?this.columnsHeight:-1,t=(t=(t=(t+=this.showstatusbar?this.statusBarHeight:0)+(this.showAggregates?this.aggregatesHeight:0))+(this.showtoolbar?this.toolbarHeight:0))+(this.pageable?this.pagerHeight:0),"both"===this.pagerPosition&&(t+=this.pageable?this.pagerHeight:0),t+=i,this.filterable&&(i=this.filter.find(".filterrow"),s=1,0<this.filter.find(".filterrow-hidden").length&&(s=0),t+=this.filterHeight-1+this.filterHeight*i.length*s),t+e>this.maxHeight?this.host.height(this.maxHeight):this.host.height(t+e),!0)},escapeHTML:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,function(e){return t[e]})},sanitizeHTML:function(e){var t=this,i=new RegExp("<s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)[^>]*>(.*?)<s*/s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)>","ig");return String(e).replace(i,function(e){return t.escapeHTML(e)})},escape_HTML:function(e){return this.enableSanitizeAll||e&&(0<=e.indexOf("onclick")||0<=e.indexOf("onload")||0<=e.indexOf("onerror"))?this.escapeHTML(e):this.sanitizeHTML(e)},_arrangeAutoWidth:function(e){if(e=e||0,"auto"===this.width||null===this.width||this.autowidth){for(var t=0,i=0;i<this.columns.records.length;i++){var s=this.columns.records[i].width;this.columns.records[i].hidden||(t+="auto"==s?s=this._measureElementWidth(this.escape_HTML(this.columns.records[i].text)):s)}var r=t;return r+e>this.maxWidth?this.host.width(this.maxWidth):this.host.width(r+e),!0}return!1},_measureTopAndHeight:function(){var e,t,i=this.host.height(),s=0;return this.showtoolbar&&(s+=this.toolbarHeight,i-=parseInt(this.toolbarHeight)),this.filterable&&(e=this.filter.find(".filterrow"),t=1,0<this.filter.find(".filterrow-hidden").length&&(t=0),s+=this.filterHeight,i-=parseInt(this.filterHeight),t=1==t?e.length:0,s+=this.filterHeight*t,i-=this.filterHeight*t),this.pageable&&"bottom"!=this.pagerPosition&&(s+=parseInt(this.pagerHeight)+1,i>this.pagerHeight&&"both"===this.pagerPosition&&(i-=parseInt(this.pagerHeight))),{top:s,height:i}},_arrange:function(){var t,e,i,s,r,n,o,a,l,d,h;this.table&&(this._arrangeAutoHeight(),this._arrangeAutoWidth(),s=this.host.width(),o=n=this.host.height(),this.pageable?"bottom"===this.pagerPosition?(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="inherit"):"both"===this.pagerPosition?(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="inherit"):"top"===this.pagerPosition&&(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="hidden"):(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="hidden"),r=0,this.showtoolbar?(this.toolbar.width(s),this.toolbar.height(this.toolbarHeight-1),this.toolbar.css("top",0),r+=this.toolbarHeight,n-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.filterable&&(this.filter.width(s),this.filter.css("top",r),i=this.filter.find(".filterrow"),e=1,0<this.filter.find(".filterrow-hidden").length&&(e=0),this.filter.height(this.filterHeight-1+this.filterHeight*i.length*e),r+=this.filterHeight,n-=parseInt(this.filterHeight),e=1==e?i.length:0,r+=this.filterHeight*e,n-=this.filterHeight*e),this.showstatusbar?(this.statusbar.width(this.table?Math.max(s,this.table.width()):s),this.statusbar.height(this.statusBarHeight-1)):this.statusbar[0].style.height="0px",this.showAggregates?this.aggregates.height(this.aggregatesHeight-1):this.aggregates[0].style.height="0px",this.pageable&&"bottom"!=this.pagerPosition?(this.toppager[0].style.width=s+"px",this.toppager[0].style.height=parseInt(this.pagerHeight)+"px",this.toppager[0].style.top=parseInt(r)+"px",r+=parseInt(this.pagerHeight)+1,n>this.pagerHeight&&(n-=parseInt(this.pagerHeight))):(this.toppager[0].style.width!=s+"px"&&(this.toppager[0].style.width=parseInt(s)+"px"),this.toppager[0].style.height!=this.pagerHeight+"px"&&(this.toppager[0].style.height=parseInt(this.pagerHeight)+"px"),this.toppager[0].style.top!=r+"px"&&(this.toppager[0].style.top=r+"px"),i="bottom"!=this.pagerPosition?this.pagerHeight:0,this.content[0].style.top!=r+i+"px"&&(this.content[0].style.top=r+this.pagerHeight+"px")),this._updateScrollbars(o),t=parseInt(this.scrollBarSize),e=2,"hidden"!=this.vScrollBar[i=0].style.visibility&&(i=t+4),"hidden"!=this.hScrollBar[0].style.visibility&&(e=t+4+2),0==t&&(e=i=0),this.showAggregates&&("hidden"===this.hScrollBar[0].style.visibility?this.aggregates.width(this.table?Math.max(s,this.table.width())+4:s):this.aggregates.width("auto")),"hidden"==this.vScrollBar[0].style.visibility&&"hidden"==this.hScrollBar[0].style.visibility||(o=this._arrangeAutoHeight(e-2),l=this._arrangeAutoWidth(i+1),(o||l)&&(s=this.host.width(),this.toppager[0].style.width=parseInt(s)+"px",this.toolbar[0].style.width=parseInt(s)+"px",this.statusbar[0].style.width=parseInt(s)+"px",this.filter[0].style.width=parseInt(s)+"px"),o&&(r=(l=this._measureTopAndHeight()).top,n=l.height)),o=0,this.pageable&&(o=this.pagerHeight,"top"!=this.pagerPosition&&(e+=this.pagerHeight)),this.showAggregates&&(e+=this.aggregatesHeight,o+=this.aggregatesHeight),this.showstatusbar&&(e+=this.statusBarHeight,o+=this.statusBarHeight),this.hScrollBar[0].style.height!=t+"px"&&(this.hScrollBar[0].style.height=parseInt(t)+"px"),this.hScrollBar[0].style.top==r+n-4-t-o+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=r+n-4-t-o-1+"px",this.hScrollBar[0].style.left="0px"),l=this.hScrollBar[0].style.width,a=d=!1,0==i?l!=s-2+"px"&&(this.hScrollBar[0].style.width=s-2+"px",d=!0):l!=s-t-4+"px"&&(this.hScrollBar[0].style.width=s-t-4+"px",d=!0),this.vScrollBar[0].style.width!=t+"px"&&(this.vScrollBar[0].style.width=t+"px",a=!0),this.vScrollBar[0].style.height!=parseInt(n)-e+"px"&&(this.vScrollBar[0].style.height=parseInt(n)-e+"px",a=!0),this.vScrollBar[0].style.left==parseInt(s)-parseInt(t)-4+"px"&&this.vScrollBar[0].style.top==r+"px"||(this.vScrollBar[0].style.top=r+"px",this.vScrollBar[0].style.left=parseInt(s)-parseInt(t)-4+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:r}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:t+2})),(l=this.vScrollInstance).disabled=this.disabled,(h=this.hScrollInstance).disabled=this.disabled,d&&h.refresh(),a&&l.refresh(),(d=function(e){"hidden"!=e.vScrollBar[0].style.visibility&&"hidden"!=e.hScrollBar[0].style.visibility?(e.bottomRight[0].style.visibility="inherit",e.bottomRight[0].style.left=1+parseInt(e.vScrollBar.css("left"))+"px",e.bottomRight[0].style.top=parseInt(e.hScrollBar.css("top"))+"px",e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight[0].style.width=parseInt(t)+3+"px",e.bottomRight[0].style.height=parseInt(t)+4+"px",e.showAggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(t)+4+e.aggregatesHeight),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.aggregatesHeight}))):e.bottomRight[0].style.visibility="hidden"})(this),this.content[0].style.width!=s-i+"px"&&(this.content[0].style.width=s-i+"px"),this.content[0].style.height!=n-e+3+"px"&&(this.content[0].style.height=n-e+3+"px"),this.content[0].style.top!=r+"px"&&(this.content[0].style.top=parseInt(r)+"px"),this.rtl&&(this.content.css("left",i),this.filter&&0<this.filter.children().length&&Y(this.filter.children()).css("left",i),this.table&&(h=this.table.width())<s-i&&(this.content.css("left",s-h+2),this.filter&&0<this.filter.children().length&&Y(this.filter.children()).css("left",s-h+2))),this.showAggregates&&(this.aggregates.css("top",r+n-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0)),this.rtl&&this.aggregates.css("left","0px"),"hidden"!=this.hScrollBar.css("visibility")&&(this.hScrollBar.css({top:r+n-4-t-o+this.aggregatesHeight+"px"}),this.aggregates.css("top",1+r+n-t-5-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0))),d(this)),this.showstatusbar&&(this.statusbar.css("top",r+n-this.statusBarHeight-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.statusbar.css("left",this.content.css("left")):this.statusbar.css("left","0px"))),this.pageable?(this.pager[0].style.width=s+"px",this.pager[0].style.height=this.pagerHeight+"px",this.pager[0].style.top=parseInt(r)+parseInt(n)-parseInt(this.pagerHeight)-1+"px"):this.pager[0].style.height="0px",this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,s!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),n!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostwidth=s)},scrollOffset:function(e,t){if(0==arguments.length||null!=e&&"object"==typeof e&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};null!=e&&"object"==typeof e&&(t=e.left,e=e.top),null!=e&&null!=t&&null!=e&&null!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){(this._updating=!1)!==e&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(e,v,x){var y,w,t,i;!0!==this.loadingstate&&(y=window,"block"==this.host.css("display")&&(this.autoShowLoadElement?(Y(this.dataloadelement).css("visibility","visible"),Y(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(Y(this.dataloadelement).css("visibility","hidden"),Y(this.dataloadelement).css("display","none"))),w=this,null!=(e=null==e?{}:e).sortcomparer&&null!=e.sortcomparer||(e.sortcomparer=null),null!=e.filter&&null!=e.filter||(e.filter=null),null!=e.sort&&null!=e.sort||(e.sort=null),null!=e.data&&null!=e.data||(e.data=null),null!=e&&(null!=e._source?e._source:e).url,this.dataview=this.dataview||new Y.jqx.dataView,this.dataview.pageable=this.pageable,this.dataview.grid=this,w.initializedcall||(e._source&&this.sortable&&(null!=e._source.sortcolumn&&(this.sortcolumn=e._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=e._source.sortcolumn,e._source.sortcolumn=null),null!=e._source.sortdirection&&(this.dataview.sortfielddirection=e._source.sortdirection,i="a"==(t=e._source.sortdirection)||"asc"==t||"ascending"==t||1==t,this.sortdirection=null!=t?{ascending:i,descending:!i}:{ascending:!1,descending:!1})),this.pageable&&e._source&&(null!=e._source.pagenum&&(this.dataview.pagenum=e._source.pagenum),null!=e._source.pagesize?(this.pageSize=e._source.pagesize,this.dataview.pagesize=e._source.pagesize):(this.dataview.pagesize=e._source.pagesize,null==this.dataview.pagesize&&(this.dataview.pagesize=this.pageSize))),this.sortable&&(e.sortcolumn&&(this.dataview.sortfield=e.sortcolumn),e.sortdirection&&(this.dataview.sortfielddirection=e.sortdirection))),this._loading=!0,this.dataview.update=function(e){w._loading=!1,w.rowsByKey=new Array;var t,i,s,r=w.source._source.datafields;w.groups&&0<w.groups.length&&(n=Object.prototype.toString,t=w.groups[0],Object.prototype.toString="function"==typeof t?t:function(){return this[t]},w.source.records.sort||(i=new Array,s=0,Y.each({},function(){i[0+s++]=this})),w.source.records.sort(function(e,t){if(void 0===t&&(t=null),null===(e=void 0===e?null:e)&&null===t)return 0;if(null===e&&null!==t)return-1;if(null!==e&&null===t)return 1;var i=0,s=0;if(e&&e.uid&&(i=e.uid),t&&t.uid&&(s=t.uid),e=e.toString(),t=t.toString(),Y.jqx.dataFormat.isNumber(e)&&Y.jqx.dataFormat.isNumber(t))return e<t?-1:t<e?1:0;if(Y.jqx.dataFormat.isDate(e)&&Y.jqx.dataFormat.isDate(t))return e<t?-1:t<e?1:0;Y.jqx.dataFormat.isNumber(e)||Y.jqx.dataFormat.isNumber(t)||(e=String(e).toLowerCase(),t=String(t).toLowerCase());try{if(e<t)return-1;if(t<e)return 1}catch(e){}if("number"==typeof i){if(i<s)return-1;if(s<i)return 1}return 0}),Object.prototype.toString=n);for(var n,o,a=0;a<w.source.records.length;a++){var l,d=w.source.records[a];if((w.rowsByKey[d.uid]=d).records&&0<d.records.length&&(l=function(e){for(var t=0;t<e.length;t++)e[t]&&(w.rowsByKey[e[t].uid]=e[t],e[t].records&&0<e[t].records.length&&l(e[t].records))})(d.records),0===a){var h=!1;if(r)for(var c,u,p,m=0;m<r.length;m++)!r[m]||r[m].type||(h=!0,r[m].type="string",null!=(c=d[r[m].name])&&(!0!==c&&!1!==c||(r[m].type="boolean"),(null!=c&&-1<c.toString().indexOf(w.gridlocalization.currencysymbol)||-1<c.toString().indexOf(w.gridlocalization.percentsymbol))&&(u=c.toString().split(" ").length,p=new Number(w._toNumber(c.toString())),isNaN(p)||1!=u||(r[m].type="number")),(Y.jqx.dataFormat.isNumber(c)||!isNaN(parseFloat(c))&&isFinite(c))&&(r[m].type="number"),Y.jqx.dataFormat.isDate(c)&&(r[m].type="date")));if(h)for(m=0;m<r.length;m++){var g,f=w.source.getvaluebytype(d[r[m].name],r[m]);null!=f&&"number"==r[m].type&&(g=f,g=new Number(w._toNumber(g.toString())),isNaN(g)||(f=g)),d[r[m].name]=f}}}"pager"===v||"filter"===v||"sort"===v?w.refresh():w._render(),w.autoShowLoadElement&&!w._loading&&(Y(w.dataloadelement).css("visibility","hidden"),Y(w.dataloadelement).css("display","none")),w.pageable&&!w.disabled&&w.pagernexttop&&(w.pagerfirsttop.jqxButton({disabled:!1}),w.pagerfirstbottom.jqxButton({disabled:!1}),w.pagerlasttop.jqxButton({disabled:!1}),w.pagerlastbottom.jqxButton({disabled:!1}),w.pagernexttop.jqxButton({disabled:!1}),w.pagerprevioustop.jqxButton({disabled:!1}),w.pagershowrowscombotop.jqxDropDownList&&"advanced"==w.pagerMode&&(w.pagershowrowscombotop.jqxDropDownList({disabled:!1}),w.pagershowrowscombobottom.jqxDropDownList({disabled:!1})),w.pagernextbottom.jqxButton({disabled:!1}),w.pagerpreviousbottom.jqxButton({disabled:!1})),w._updateTouchScrolling(),w._raiseEvent("bindingComplete"),x&&x(),w.initializedcall||(w.initializedcall=!0,w.isInitialized=!0,w.ready&&w.ready(),(null!=w.width&&-1!=w.width.toString().indexOf("%")||null!=w.height&&-1!=w.height.toString().indexOf("%"))&&w._updatesize(!0),w._rendercelltexts&&w._rendercelltexts(),w._gridRenderElement&&(Y(w._gridRenderElement).show("slow"),n=6e3+Math.floor(4e3*Math.random()+1),o=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase(),y[Y.camelCase(o)](function(){Y(w._gridRenderElement).hide("slow",function(){Y(w._gridRenderElement).remove()})},n)),"hidden"==w.host.css("visibility")&&(Y.jqx.browser.msie&&Y.jqx.browser.version,"visible"==w.vScrollBar.css("visibility")&&w.vScrollBar.css("visibility","inherit"),"visible"==w.hScrollBar.css("visibility")&&w.hScrollBar.css("visibility","inherit"),w._intervalTimer=setInterval(function(){"visible"==w.host.css("visibility")&&(w._updatesize(!0),clearInterval(w._intervalTimer))},100)))},this.dataview.databind(e))},_raiseEvent:function(e,t){var i=t=null==t?{owner:null}:t,e=(i.owner=this,new Y.Event(e)),i=(e.owner=this,e.args=i,this.host.trigger(e));return t=e.args,i},ensureColumnVisible:function(e){for(var t,i,s=0,r=0,n=0;n<this.columns.records.length;n++){if(this.columns.records[n].datafield==e){s+=this.columns.records[n].width,r=this.columns.records[n].width;break}s+=this.columns.records[n].width}"hidden"!=this.hScrollBar.css("visibility")&&(i=(t=this.hScrollBar.jqxScrollBar("value"))+this.host.width(),s-r<t?this.hScrollBar.jqxScrollBar("setPosition",s-r):i<s&&this.hScrollBar.jqxScrollBar("setPosition",t+s-i))},ensurerowvisiblebykey:function(e){if("hidden"===this.vScrollBar[0].style.visibility)return!1;e=this._getuirow(e);if(e){var t=this.vScrollBar.jqxScrollBar("value"),i=this.host.height(),s=0,s=(this.columnGroups?s+=this.showHeader?this.columnsheader.height():0:s+=this.showHeader?this.columnsHeight:0,this.filterable&&(s+=this.filter.height()),this.pageable&&"top"===this.pagerPosition&&(s+=this.pagerHeight),this.showtoolbar&&(s+=this.toolbarHeight),i-=s,this.pageable&&"top"!==this.pagerPosition&&(i-=this.pagerHeight),this.showstatusbar&&(i-=this.statusBarHeight),this.showAggregates&&(i-=this.aggregatesHeight),"hidden"!=this.hScrollBar.css("visibility")&&(i-=20),this.host.coord().top+s),r=t,n=i+r,t=e.coord().top+t-s,s=(t=Math.round(t))+e.outerHeight(),s=Math.round(s);if(0===Math.round(e.position().top))return this.vScrollBar.jqxScrollBar("setPosition",0);var o=Y(this._table.children()[1]).children().length-1,o=this._getuikey(o),o=this._getuirow(o);return o&&o[0]===e[0]?this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max")):t<r?(o=t-e.height(),this.vScrollBar.jqxScrollBar("setPosition",o=o<0?0:o)):n<s?this.vScrollBar.jqxScrollBar("setPosition",4+s-i):void 0}},ensureRowVisible:function(e){e=this._getkey(e);this.ensurerowvisiblebykey(e)},getColumn:function(e){var t=null;return this.columns.records&&Y.each(this.columns.records,function(){if(this.datafield==e||this.displayfield==e)return t=this,!1}),t},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;var s=t,r=(t=t.toLowerCase(),this.getColumn(e));if(null!=r){r[t];r[t]=i,r[s]=i;s=this.getColumn(e);switch(null!=s&&(s[t]=i),t){case"filteritems":case"text":case"editable":case"resizable":case"draggable":case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==t||"text"==t||"class"==t||"hidden"==t||"pinned"==t||"resizable"==t||"renderer"==t?this._rendercolumnheaders():"width"!=t&&"maxwidth"!=t&&"minwidth"!=t||(r._width=null,r._percentagewidth=null,this._updatecolumnwidths()),this.refresh()}}},getColumnProperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getColumn(e)[t])},setColumnProperty:function(e,t,i){this._setcolumnproperty(e,t,i)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,t){this.databind(this.source,e,t)},refresh:function(e){1==e||Y.jqx.isHidden(this.host)||(this.vScrollInstance.setPosition(0),this._renderrows(),this.updatepagerdetails(),this._arrange(),this._arrangeFilterRow&&this._arrangeFilterRow(),this._renderhorizontalscroll(),this._showicons(),this.showAggregates&&this._updateaggregates(),this._updateTouchScrolling())},_rendercelltexts:function(){var e,t,i;"10208878-FCD1-4EC7-9249-BA0F153A5DE8"!==Y.jqx.credits&&(e="www.jqwidgets.com",-1==location.hostname.indexOf(e.substring(4))&&(this._gridRenderElement&&Y(this._gridRenderElement).remove(),i=String.fromCharCode(83,80,65,78),t=String.fromCharCode(72,84,84,80,58,47,47),(i=document.createElement(i)).id=Y.jqx.utilities.createId(),i.innerHTML=e,i.style.position="absolute",i.style.right="5px",i.style.bottom="5px",i.style.color="#909090",i.style.cursor="pointer",i.style.zIndex="999999",i.style.display="none",i.style.fontSize="9px",i.onmousedown=function(){open(t+e)},this.content[0].appendChild(i),this._gridRenderElement=i))},_updateTouchScrolling:function(){var e,t,i,s=this.that;s.isTouchDevice()&&(e=Y.jqx.mobile.getTouchEventName("touchstart"),t=Y.jqx.mobile.getTouchEventName("touchend"),i=Y.jqx.mobile.getTouchEventName("touchmove"),s.table&&(s.removeHandler(s.table,e+".touchScroll"),s.removeHandler(s.table,i+".touchScroll"),s.removeHandler(s.table,t+".touchScroll"),s.removeHandler(s.table,"touchcancel.touchScroll"),Y.jqx.mobile.touchScroll(s.table[0],Math.max(s.vScrollInstance.max,s.hScrollInstance.max),function(e,t){null!=t&&"hidden"!=s.vScrollBar.css("visibility")&&(s.vScrollInstance.value,s.vScrollInstance.setPosition(t)),null!=e&&"hidden"!=s.hScrollBar.css("visibility")&&(s.hScrollInstance.value,s.hScrollInstance.setPosition(e)),s.scrolled=new Date,s.vScrollInstance.thumbCapture=!0},this.element.id,this.hScrollBar,this.vScrollBar)))},_showicons:function(){if(this.table)for(var e=0;e<this.columns.records.length;e++){var t,i,s=this.columns.records[e];if(Y(s.filtericon).hide(),Y(s.sortasc).hide(),Y(s.sortdesc).hide(),"simple"!==this.filterMode)for(var r=0;r<this.dataview.filters.length;r++)if(this.dataview.filters[r].datafield===s.displayfield){Y(s.filtericon).show();break}null!==this.sortcolumn&&this.sortcolumn===s.displayfield&&null!=this.sortdirection&&(this.sortdirection.ascending?Y(s.sortasc):Y(s.sortdesc)).show(),("left"!=s.align&&"center"!=s.align&&!this.rtl||this.rtl&&"right"!=s.align&&"center"!=s.align)&&(t=Y.jqx.isHidden(Y(s.filtericon))?0:16,t=(t+=Y.jqx.isHidden(Y(s.sortasc))?0:16)+(Y.jqx.isHidden(Y(s.sortdesc))?0:16),i=Y(Y(Y(s.element).children()[0]).children()[0]),this.rtl?0<t?i.css("margin-left",4+t+"px"):i.css("margin-left","4px"):0<t?i.css("margin-right",4+t+"px"):i.css("margin-right","4px"))}},render:function(e){var t="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='toppager' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='statusbar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>",t=(this.element.innerText="",this.element.innerHTML=t,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset")),this.host.find("#verticalScrollBar"+this.element.id)),i=this.host.find("#horizontalScrollBar"+this.element.id),s=(this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=t.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=i.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=Y.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=Y.data(this.hScrollBar[0],"jqxScrollBar").instance,this.filter=this.host.find("#filter"),this.filter[0].id="filter"+this.element.id,this.filter.addClass(this.toTP("jqx-widget-header")),this.filter.addClass(this.toTP("jqx-grid-toolbar")),this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-grid-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.aggregates=this.host.find("#aggregates"),this.aggregates[0].id="aggregates"+this.element.id,this.aggregates.addClass(this.toTP("jqx-grid-statusbar")),this.aggregates.addClass(this.toTP("jqx-widget-header")),this.statusbar=this.host.find("#statusbar"),this.statusbar[0].id="statusbar"+this.element.id,this.statusbar.addClass(this.toTP("jqx-grid-statusbar")),this.statusbar.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.toppager=this.host.find("#toppager"),this.toppager.addClass(this.toTP("jqx-grid-pager-top")),this.toppager.addClass(this.toTP("jqx-widget-header")),this.gridtable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns,this.source.datafields);if(s=null==s&&this.source._source?this.source._source.datafields:s)for(var r=0;r<this.columns.length;r++){var n=this.columns[r];if(n&&n.cellsFormat&&2<n.cellsFormat.length)for(var o=0;o<s.length;o++)if(s[o].name==n.datafield&&!s[o].format){s[o].format=n.cellsFormat;break}}this.databind(this.source),this.showtoolbar&&this.toolbar.css("visibility","inherit"),this.showstatusbar&&this.statusbar.css("visibility","inherit"),this.showAggregates&&this.aggregates.css("visibility","inherit"),this.tableheight=null;var a=this;this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(e){return a.content&&(a.content[0].scrollTop=0,a.content[0].scrollLeft=0),a.gridcontent&&(a.gridcontent[0].scrollLeft=0,a.gridcontent[0].scrollTop=0),!1}),!0!==e&&this._render()},_render:function(){var e,t,i=this;null==i.dataview||i._loading||(25==i.columnsHeight&&!i.columnGroups||i._measureElement("column"),i.filterable?i.filter[0].style.visibility="inherit":i.filter[0].style.visibility="hidden",i.rowinfo=new Array,i._removeHandlers(),null==i.columns?i.columns=new Y.jqx.dataCollection(i.element):i._initializeColumns(),e=t=!1,(t=null!=i.width&&-1!=i.width.toString().indexOf("%")?!0:t)?i.element.style.width=i.width:i.host.width(i.width),(e=null!=i.height&&-1!=i.height.toString().indexOf("%")?!0:e)?i.element.style.height=i.height:i.host.height(i.height),i._lastHostWidth=i.host.width(),i._lastHostHeight=i.host.height(),Y.jqx.utilities.html(i.content,""),i.columnsheader=i.columnsheader||Y('<div style="overflow: hidden;"></div>'),i.columnsheader.remove(),i.columnsheader.addClass(i.toTP("jqx-widget-header")),i.columnsheader.addClass(i.toTP("jqx-grid-header")),i.showHeader?i.columnsheader&&i.columnsheader.css("display","block"):i.columnsheader.css("display","none"),i.gridcontent=i.gridcontent||Y('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),i.gridcontent.remove(),t=i.columnsHeight,t=i._preparecolumnGroups(),i.columnsheader.height(t),i.content.append(i.columnsheader),i.content.append(i.gridcontent),i._rendercolumnheaders(),i.tableheight=null,i.gridcontent.find("#contenttable"+i.element.id).remove(),null!=i.table&&(i.table.remove(),i.table=null),i.table=Y('<div id="contenttable'+i.element.id+'" style="overflow: hidden; position: relative;"></div>'),i.gridcontent.addClass(i.toTP("jqx-grid-content")),i.gridcontent.addClass(i.toTP("jqx-widget-content")),i.gridcontent.append(i.table),i._renderrows(),i.filterable&&i._renderfilter(),i.pageable&&i._initpager(),i._arrange(),i.renderStatusBar&&i.renderStatusBar(i.statusbar),i.rendertoolbar&&i.rendertoolbar(i.toolbar),i.showAggregates&&i._updateaggregates(),i.disabled&&i.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")),i._renderhorizontalscroll(),i._showicons(),i._addHandlers())},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},_initpager:function(){var e,b=this.gridlocalization.pagergotopagestring,_=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),t=(this.pagerHeight-28)/2;if(this.pagerdiv=this.pagerdiv||Y('<div style="line-height: 28px; width: 100%; height: 100%; position: relative;"></div>'),this.toppagerdiv=this.toppagerdiv||Y('<div style="line-height: 28px; width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.toppagerdiv.remove();this.pagerRenderer?(this.pagerdiv.children().remove(),this.toppager.children().remove(),null!=(e=this.pagerRenderer())&&this.pagerdiv.append(Y(e)),this.pager.append(this.pagerdiv),null!=(e=this.pagerRenderer())&&this.toppagerdiv.append(Y(e)),this.toppager.append(this.toppagerdiv)):(this.pagerdiv.css("top",t),this.toppagerdiv.css("top",t),e=function(e,t){var i,s,r,n=this,o=Y('<div style="margin-right: 12px; height: 28px; float: right;"><input style="height:100%; box-sizing: border-box; text-align: right; width: 36px;" type="text"/></div>'),a=Y('<div style="float: right; margin-right: 7px;"></div>'),l=Y('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),d=Y('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),h=Y('<div type="button" style="margin-left: 3px; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),c=Y('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),u=Y('<div style="margin-right: 7px; float: right;"></div>'),p=Y('<div style="margin-right: 7px; float: right;"></div>'),m=Y('<div style="padding-bottom: 3px; margin-right: 3px; float: right;"></div>'),g=(o.attr("disabled",n.disabled),Y('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>')),f=(g[0].id="gridpagerlist"+t+n.element.id,n.removeHandler(l,"mousedown"),n.removeHandler(l,"mouseup"),n.removeHandler(l,"click"),n.removeHandler(d,"mousedown"),n.removeHandler(d,"mouseup"),n.removeHandler(d,"click"),n.removeHandler(h,"mousedown"),n.removeHandler(h,"mouseup"),n.removeHandler(h,"click"),n.removeHandler(c,"mousedown"),n.removeHandler(c,"mouseup"),n.removeHandler(c,"click"),n.rtl?(l.attr("title",n.gridlocalization.pagerpreviousbuttonstring),d.attr("title",n.gridlocalization.pagernextbuttonstring)):(d.attr("title",n.gridlocalization.pagerpreviousbuttonstring),l.attr("title",n.gridlocalization.pagernextbuttonstring)),Y.jqx.browser.msie&&Y.jqx.browser.version<8&&m.css("padding-top","3px"),this["pagerfirst"+t]=h,this["pagerlast"+t]=c,this["pagernext"+t]=l,this["pagerprevious"+t]=d,this["pagergotoinput"+t]=o,this["pagerdetails"+t]=u,this["pagershowrows"+t]=p,this["pagergotolabel"+t]=a,this["pagershowrowscombo"+t]=g,this["pagerbuttons"+t]=m,"default"==n.pagerMode?(n.rtl?(c.attr("title",n.gridlocalization.pagerfirstbuttonstring),h.attr("title",n.gridlocalization.pagerlastbuttonstring)):(h.attr("title",n.gridlocalization.pagerfirstbuttonstring),c.attr("title",n.gridlocalization.pagerlastbuttonstring)),(i=Y("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>")).addClass(n.toThemeProperty("jqx-icon-arrow-first")),h.wrapInner(i),(s=Y("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>")).addClass(n.toThemeProperty("jqx-icon-arrow-last")),c.wrapInner(s),n.rtl?(e.append(c),e.append(l),e.append(m),e.append(d),e.append(h)):(e.append(h),e.append(d),e.append(m),e.append(l),e.append(c)),c.jqxButton({cursor:"pointer",disabled:n.disabled,theme:n.theme}),h.jqxButton({cursor:"pointer",disabled:n.disabled,theme:n.theme}),r=n.rtl?"right":"left",m.css("float",r),c.css("float",r),h.css("float",r),l.css("float",r),d.css("float",r),u.css("float",n.rtl?"left":"right"),n.rtl?(u.css("margin-left","7px"),u.css("margin-right","0px")):(u.css("margin-left","0px"),u.css("margin-right","7px"))):n.rtl||(e.append(l),e.append(d)),l.jqxButton({cursor:"pointer",disabled:n.disabled,theme:n.theme}),d.jqxButton({cursor:"pointer",disabled:n.disabled,theme:n.theme}),Y("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>")),v=(f.addClass(n.toThemeProperty("jqx-icon-arrow-left")),d.wrapInner(f),Y("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>"));if(v.addClass(n.toThemeProperty("jqx-icon-arrow-right")),l.wrapInner(v),n.rtl||e.append(u),"default"!=n.pagerMode){n.rtl?(e.append(a),e.append(o),e.append(p),e.append(g),e.append(u),e.append(l),e.append(d)):(e.append(g),e.append(p),e.append(o),e.append(a));for(var x=n.pageSizeOptions,y=(g.jqxDropDownList({_checkForHiddenParent:!1,rtl:n.rtl,disabled:n.disabled,source:x,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:28,theme:n.theme}),0),w=0;w<x.length;w++)this.pageSize>=x[w]&&(y=w);a[0].innerHTML=b,g.jqxDropDownList({selectedIndex:y});m=o.find("input"),n=(m.addClass(n.toThemeProperty("jqx-input")),m.addClass(n.toThemeProperty("jqx-widget-content")),this.rtl&&m.css("direction","rtl"),this);this.removeHandler(g,"select"),this.addHandler(g,"select",function(e){var t,i;e.args&&(n.vScrollInstance&&n.vScrollInstance.setPosition(0),e=e.args.index,n.pagershowrowscombotop.data().jqxDropDownList.instance.selectIndex(e),n.pagershowrowscombobottom.data().jqxDropDownList.instance.selectIndex(e),n.pagershowrowscombobottom.data().jqxDropDownList.instance.renderSelection("mouse"),n.pagershowrowscombotop.data().jqxDropDownList.instance.renderSelection("mouse"),i=n.dataview.pagenum*n.dataview.pagesize,e=x[e],t=n.pageSize,n.pageSize=parseInt(e),isNaN(n.pageSize)&&(n.pageSize=10),100<=e?(n.pagershowrowscombotop.jqxDropDownList({width:55}),n.pagershowrowscombobottom.jqxDropDownList({width:55})):(n.pagershowrowscombotop.jqxDropDownList({width:44}),n.pagershowrowscombobottom.jqxDropDownList({width:44})),n.dataview.pagesize=n.pageSize,(i=Math.floor(i/n.dataview.pagesize))===n.dataview.pagenum&&parseInt(e)===parseInt(t)||(n._raiseEvent("pageSizeChanged",{pagenum:i,oldpageSize:t,pageSize:n.dataview.pagesize}),n.goToPage(i)||(n.serverProcessing?n.updateBoundData("pager"):n.refresh())))}),(o=o.find("input")).addClass(n.toThemeProperty("jqx-grid-pager-input")),o.addClass(n.toThemeProperty("jqx-rc-all")),this.removeHandler(o,"keydown"),this.removeHandler(o,"change"),n.addHandler(o,"keydown",function(e){return!(65<=e.keyCode&&e.keyCode<=90)&&("13"==e.keyCode?(e=o.val(),e=parseInt(e),isNaN(e)||n.goToPage(e-1),!1):void 0)}),n.addHandler(o,"change",function(){var e=o.val(),e=parseInt(e);isNaN(e)||n.goToPage(e-1)})}p[0].innerHTML=_,n.addHandler(l,"mouseenter",function(){v.addClass(n.toThemeProperty("jqx-icon-arrow-right-hover"))}),n.addHandler(d,"mouseenter",function(){f.addClass(n.toThemeProperty("jqx-icon-arrow-left-hover"))}),n.addHandler(l,"mouseleave",function(){v.removeClass(n.toThemeProperty("jqx-icon-arrow-right-hover"))}),n.addHandler(d,"mouseleave",function(){f.removeClass(n.toThemeProperty("jqx-icon-arrow-left-hover"))}),n.addHandler(l,"mousedown",function(){v.addClass(n.toThemeProperty("jqx-icon-arrow-right-selected"))}),n.addHandler(l,"mouseup",function(){v.removeClass(n.toThemeProperty("jqx-icon-arrow-right-selected"))}),n.addHandler(d,"mousedown",function(){f.addClass(n.toThemeProperty("jqx-icon-arrow-left-selected"))}),n.addHandler(d,"mouseup",function(){f.removeClass(n.toThemeProperty("jqx-icon-arrow-left-selected"))}),"default"===n.pagerMode&&(n.addHandler(c,"mouseenter",function(){s.addClass(n.toThemeProperty("jqx-icon-arrow-last-hover"))}),n.addHandler(h,"mouseenter",function(){i.addClass(n.toThemeProperty("jqx-icon-arrow-first-hover"))}),n.addHandler(c,"mouseleave",function(){s.removeClass(n.toThemeProperty("jqx-icon-arrow-last-hover"))}),n.addHandler(h,"mouseleave",function(){i.removeClass(n.toThemeProperty("jqx-icon-arrow-first-hover"))}),n.addHandler(c,"mousedown",function(){s.addClass(n.toThemeProperty("jqx-icon-arrow-last-selected"))}),n.addHandler(h,"mousedown",function(){i.addClass(n.toThemeProperty("jqx-icon-arrow-first-selected"))}),n.addHandler(c,"mouseup",function(){s.removeClass(n.toThemeProperty("jqx-icon-arrow-last-selected"))}),n.addHandler(h,"mouseup",function(){i.removeClass(n.toThemeProperty("jqx-icon-arrow-first-selected"))})),n.addHandler(Y(document),"mouseup.pagerbuttons"+t+this.element.id,function(){v.removeClass(n.toThemeProperty("jqx-icon-arrow-right-selected")),f.removeClass(n.toThemeProperty("jqx-icon-arrow-left-selected")),s&&(s.removeClass(n.toThemeProperty("jqx-icon-arrow-last-selected")),i.removeClass(n.toThemeProperty("jqx-icon-arrow-first-selected")))}),n.addHandler(l,"click",function(){l.jqxButton("disabled")||(n.rtl?n.goToPrevPage():n.goToNextPage())}),n.addHandler(d,"click",function(){d.jqxButton("disabled")||(n.rtl?n.goToNextPage():n.goToPrevPage())}),"default"===this.pagerMode&&(n.addHandler(h,"click",function(){var e;h.jqxButton("disabled")||(n.rtl?(e=n.dataview.totalrecords,e=Math.ceil(e/n.pageSize),n.goToPage(e-1)):n.goToPage(0))}),n.addHandler(c,"click",function(){var e;c.jqxButton("disabled")||(n.rtl?n.goToPage(0):(e=n.dataview.totalrecords,e=Math.ceil(e/n.pageSize),n.goToPage(e-1)))}))},this.pagerdiv.children().remove(),this.toppagerdiv.children().remove(),e.call(this,this.pagerdiv,"bottom"),e.call(this,this.toppagerdiv,"top"),this.pager.append(this.pagerdiv),this.toppager.append(this.toppagerdiv),this.updatepagerdetails())},_updatepagertheme:function(){},goToPage:function(e,t){if(this._loading)return!1;if(null!=this.editKey){if(!this.editSettings.saveOnPageChange)return!1;if(!this.endroweditbykey(this.editKey))return!1}if((e=-1==(e=null==e?0:e)?0:e)<0)return!1;var i=this.dataview.totalrecords,s=this.dataview.pagenum,i=Math.ceil(i/this.pageSize);return i<=e&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),0<e&&(e=i-1)),this.dataview.pagenum!=e&&(this.pageable&&(this.dataview.pagenum=e,this._raiseEvent("pageChanged",{pagenum:e,oldpagenum:s,pageSize:this.dataview.pagesize})),this.serverProcessing?this.updateBoundData("pager",t):(this.refresh(),t&&Y.isFunction(t)&&t()),!0)},goToPrevPage:function(e){return 0<this.dataview.pagenum?this.goToPage(this.dataview.pagenum-1,e):"default"!=this.pagerMode&&"advanced"!=this.pagerMode&&(t=this.dataview.totalrecords,t=Math.ceil(t/this.pageSize),this.goToPage(t-1,e));var t},goToNextPage:function(e){var t=this.dataview.totalrecords,t=(this.summaryrows&&(t+=this.summaryrows.length),Math.ceil(t/this.pageSize));return this.dataview.pagenum<t-1?this.goToPage(this.dataview.pagenum+1,e):"default"!=this.pagerMode&&"advanced"!=this.pagerMode&&this.goToPage(0,e)},updatepagerdetails:function(){if(this.pageable){var s,r,n,e,o=this,t=(this.serverProcessing||(this.source.hierarchy?(s=o._names(),(n=function(e,t){for(var i=0;i<t.length;i++)0==o.dataview.filters.length&&(t[i]._visible=!0),!1!==t[i]._visible&&r++,o.treeGrid&&"root"==o.treeGrid.pageSizeMode||t[i].records&&(t[i][s.expanded]||t[i][s.leaf])&&!1!==t[i]._visible&&(n(e+1,t[i].records),o.treeGrid&&Y(o.treeGrid).jqxTreeGrid("showSubAggregates")&&0!=e&&r--)})(r=0,this.dataview.rows),this.dataview.totalrecords=r):this.dataview.totalrecords=this.dataview.rows.length),this.dataview.pagenum*this.pageSize),i=(this.dataview.pagenum+1)*this.pageSize,a=(i>=this.dataview.totalrecords&&(i=this.dataview.totalrecords),this.dataview.totalrecords),l=(t++,Math.ceil(a/this.dataview.pagesize));if(1<=l&&l--,l++,"root"==this.pageSizeMode&&(1<=(l=Math.ceil(this.rootRecordsLength/this.dataview.pagesize))&&l--,l++,a=this.rootRecordsLength,this.dataview.totalrecords=this.rootRecordsLength),"default"!=this.pagerMode)this.pagergotoinputbottom&&((e=this.pagergotoinputbottom.find("input")).val(this.dataview.pagenum+1),e.attr("title","1 - "+l),(e=this.pagergotoinputtop.find("input")).val(this.dataview.pagenum+1),e.attr("title","1 - "+l));else{var d="",h=this.pagerButtonsCount,c=(0!=h&&h||(h=5),0);for(this.rtl&&(c=h-1);this.rtl&&0<=c||!this.rtl&&c<h;){var u=1+c,p=this.dataview.pagenum/h,p=(u+=Math.floor(p)*h,this.toTP("jqx-grid-pager-number"));if(p+=" "+this.toTP("jqx-rc-all"),l<u&&!this.rtl)break;this.rtl&&l<u?c--:(this.rtl||0==c&&h<u&&(d+="<a class='"+p+"' tabindex=-1 href='javascript:;' data-page='"+(-1+u)+"'>...</a>"),this.dataview.pagenum===u-1&&(p+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl?(c===h-1&&(p=this.toTP("jqx-grid-pager-number"),p+=" "+this.toTP("jqx-rc-all"),1+u<=l&&(d+="<a class='"+p+"' tabindex=-1 href='javascript:;' data-page='"+(1+u)+"'>...</a>")),this.dataview.pagenum===u-1&&(p+=" "+this.toTP("jqx-fill-state-pressed")),d+="<a class='"+p+"' tabindex=-1 href='javascript:;' data-page='"+u+"'>"+u+"</a>"):(d+="<a class='"+p+"' tabindex=-1 href='javascript:;' data-page='"+u+"'>"+u+"</a>",c===h-1&&(p=this.toTP("jqx-grid-pager-number"),p+=" "+this.toTP("jqx-rc-all"),1+u<=l&&(d+="<a class='"+p+"' tabindex=-1 href='javascript:;' data-page='"+(1+u)+"'>...</a>"))),this.rtl&&(p=this.toTP("jqx-grid-pager-number"),p+=" "+this.toTP("jqx-rc-all"),0==c&&h<u&&(d+="<a class='"+p+"' tabindex=-1 href='javascript:;' data-page='"+(-1+u)+"'>...</a>")),this.rtl?c--:c++)}if(!this.pagerbuttonsbottom)return;function m(){g.click(function(e){o.disabled||(e=Y(e.target).attr("data-page"),o.goToPage(parseInt(e)-1))}),g.mouseenter(function(e){o.disabled||Y(e.target).addClass(o.toTP("jqx-fill-state-hover"))}),g.mouseleave(function(e){o.disabled||Y(e.target).removeClass(o.toTP("jqx-fill-state-hover"))})}var g=this.pagerbuttonsbottom.find("a"),g=(this.removeHandler(g,"click"),this.removeHandler(g,"mouseenter"),this.removeHandler(g,"mouseleave"),this.pagerbuttonstop.find("a"));this.removeHandler(g,"click"),this.removeHandler(g,"mouseenter"),this.removeHandler(g,"mouseleave"),this.pagerbuttonsbottom[0].innerHTML=d,this.pagerbuttonstop[0].innerHTML=d,this.disabled&&this.host.find(".jqx-grid-pager-number").css("cursor","default");"both"!==this.pagerPosition&&"bottom"!==this.pagerPosition||(g=this.pagerbuttonsbottom.find("a"),m()),"both"!==this.pagerPosition&&"top"!==this.pagerPosition||(g=this.pagerbuttonstop.find("a"),m())}0==i&&i<t&&(t=0),this.pagerdetailsbottom&&(this.rtl?(this.pagerdetailsbottom[0].innerHTML=a+this.gridlocalization.pagerrangestring+i+"-"+t,this.pagerdetailstop[0].innerHTML=a+this.gridlocalization.pagerrangestring+i+"-"+t):(this.pagerdetailsbottom[0].innerHTML=t+"-"+i+this.gridlocalization.pagerrangestring+a,this.pagerdetailstop[0].innerHTML=t+"-"+i+this.gridlocalization.pagerrangestring+a)),"default"==this.pagerMode&&(e=this.pagerbuttonsbottom.width()+Y(this.pagerdetailsbottom).width()+160,this.pagerdiv.css("min-width",e),this.toppagerdiv.css("min-width",e)),i<t&&this.goToPrevPage()}},_preparecolumnGroups:function(){var e=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var s=this,t=0;t<this.columnGroups.length;t++)this.columnGroups[t].parent=null,this.columnGroups[t].groups=null;for(t=0;t<this.columns.records.length;t++)this.columns.records[t].parent=null,this.columns.records[t].groups=null;function i(e){for(var t=0;t<s.columnGroups.length;t++){var i=s.columnGroups[t];if(i.name===e)return i}return null}for(t=0;t<this.columnGroups.length;t++)(d=this.columnGroups[t]).groups||(d.groups=null),d.parentGroup&&(d.parentgroup=d.parentGroup),d.parentgroup&&(r=i(d.parentgroup))&&((d.parent=r).groups||(r.groups=new Array),-1===r.groups.indexOf(d)&&r.groups.push(d));for(var r,t=0;t<this.columns.records.length;t++)(d=this.columns.records[t]).columngroup&&(r=i(d.columngroup))&&(r.groups||(r.groups=new Array),-1===(d.parent=r).groups.indexOf(d)&&r.groups.push(d));for(var n=0,t=0;t<this.columns.records.length;t++){var o=d=this.columns.records[t];for(d.level=0;o.parent;)o=o.parent,d.level++;for(var o=d,a=d.level,n=Math.max(n,d.level);o.parent;)(o=o.parent)&&(o.level=--a)}for(var l=function(e){var t=new Array;if(e.columngroup&&t.push(e),!e.groups)return new Array;for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var s=l(e.groups[i]),r=0;r<s.length;r++)t.push(s[r]);return t},t=0;t<this.columnGroups.length;t++){for(var d=this.columnGroups[t],h=l(d),c=(d.columns=h,new Array),u=0,p=0;p<h.length;p++)c.push(this.columns.records.indexOf(h[p])),h[p].pinned&&u++;if(0!=u)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:t<e?1:0});for(var m=1;m<c.length;m++)if(c[m]!=c[m-1]+1)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+n,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,t){return t.autoheight&&"hidden"==t.hScrollBar.css("visibility")?e.returnValue=!0:(i=0,(e=e||window.event).originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i?((t=t._handleDelta(i))&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!t&&(e.returnValue=t=!1)):(e.preventDefault&&e.preventDefault(),void(e.returnValue=!1)));var i},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;if(e<0?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20),t!=this.vScrollInstance.value)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){t=this.hScrollInstance.value;if(0<e?20<this.hScrollInstance.value?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max),t!=this.hScrollInstance.value)return!0}return!1},_removeHandlers:function(){this.removeHandler(this.host,"focus"),this.removeHandler(Y(window),"jqxReady."+this.element.id),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);var e="mousedown";this.isTouchDevice()&&(e=Y.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.host,"dragstart."+this.element.id),this.removeHandler(this.host,"keydown"),this.table&&(this.removeHandler(this.table,"mouseleave"),this.removeHandler(this.table,"mousemove"),this.removeHandler(this.table,e),this.removeHandler(this.table,"selectstart."+this.element.id),Y.jqx.browser.msie&&Y.jqx.browser.version<9&&this.removeHandler(this.table,"dblclick"))},_addHandlers:function(){function u(e,t){for(var i=null,s=g._table.coord(),r=s.top,n=s.left,o=g._table[0].rows,a=0;a<o.length;a++)for(var l=o[a].cells,d=0;d<l.length;d++){var h=l[d],c=h.offsetLeft+n,u=h.offsetTop+r,p=h.offsetWidth,m=h.offsetHeight;if(0!==p&&0!==m){if(!(u<=t&&t<u+m))break;if(c<=e&&e<c+p){i=h;break}}}return i}function i(){var e,t;g.hoveredRow&&((t=function(e){for(var t=0;t<e.length;t++){var i=e[t],s=i.className;s=(s=s.replace(" "+g.toTP("jqx-fill-state-hover"),"")).replace(" "+g.toTP("jqx-grid-cell-hover"),""),i.className=s}})(e=g.hoveredRow[0].cells),g._pinnedTable&&0<e.length&&t(g._pinnedTable[0].rows[g.hoveredRow[0].rowIndex].cells)),g.hoveredRow=null}function p(e){if(g.enableHover&&(g.hoveredRow=e)){var t=e[0].cells,e=g.rowDetails&&!g.treeGrid&&!g.treeGrid?1:0,i=0;0<e&&g.rtl&&(e=0,i=1);for(var s=e;s<t.length-i;s++)t[s].className+=" "+g.toTP("jqx-fill-state-hover")+" "+g.toTP("jqx-grid-cell-hover");if(g._pinnedTable&&g._pinnedTable[0].rows.length)for(var r=g._pinnedTable[0].rows[g.hoveredRow[0].rowIndex].cells,s=e;s<r.length-i;s++)r[s].className+=" "+g.toTP("jqx-fill-state-hover")+" "+g.toTP("jqx-grid-cell-hover")}}var g=this,t=(this._mousewheelfunc=this._mousewheelfunc||function(e){return g.wheel(e,g),!1},this.addHandler(this.host,"dragstart."+this.element.id,function(e){return!1}),this.addHandler(this.table,"selectstart."+this.element.id,function(e){return!!g.enableBrowserSelection||(!(!g.filterable||!Y(e.target).ischildof(g.filterrow))||(!!(g.rowDetails&&0<Y(e.target).parents("[data-role=details]").length)||null!=g.editKey&&void 0))}),this.addHandler(Y(window),"jqxReady."+this.element.id,function(){g._updatecolumnwidths(),g.refresh()}),this.editable&&this.addHandler(Y(document),"mousedown.gridedit"+this.element.id,function(s){if(g.editable&&g.editSettings.saveOnBlur&&null!=g.editKey&&!g.vScrollInstance.isScrolling()&&!g.vScrollInstance.isScrolling()){var e=g.host.coord(),t=g.host.width(),i=g.host.height(),r=!1,n=!1;if((s.pageY<e.top||s.pageY>e.top+i)&&(n=r=!0),r=s.pageX<e.left||s.pageX>e.left+t?!0:r){var o=g._editors;if(o)for(var a=0;a<o.length;a++){var l=o[a].editor,d=function(e){var t,i=Y(e.children()[0]).data();if((i=(i=i&&!i.jqxWidget?e.data():i)||e.data()).jqxWidget&&i.jqxWidget.container&&"block"==i.jqxWidget.container[0].style.display)return i=(e=i.jqxWidget).container.coord().top,t=e.container.coord().top+e.container.height(),!(!n||!(s.pageY<i||s.pageY>t))&&(r=!0,e.close(),!0)}(l),h=l.attr("aria-owns");if(h){if(h==document.activeElement.id)return!0;if(Y(document.activeElement).ischildof(Y("#"+h)))return!0}else if(h=l.children().attr("aria-owns")){if(h==document.activeElement.id)return!0;if(Y(document.activeElement).ischildof(Y("#"+h)))return!0}if(!1===d)return}}r&&g.endroweditbykey(g.editKey)}}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"focus",function(e){e.preventDefault}),this.isTouchDevice()),e=(this.vScrollInstance.valueChanged=function(e){g._timer&&clearTimeout(g._timer),t?g.table&&(g.table[0].style.top=0-g.vScrollInstance.value+"px"):g._timer=setTimeout(function(){g.table&&(g.table[0].style.top=0-g.vScrollInstance.value+"px")},5)},this.hScrollInstance.valueChanged=function(e){g._timer&&clearTimeout(g._timer),t?g.table&&g._renderhorizontalscroll():g._timer=setTimeout(function(){g.table&&g._renderhorizontalscroll()},5)},"mousedown");this.isTouchDevice()&&(e=Y.jqx.mobile.getTouchEventName("touchend"),Y.jqx.browser.msie&&Y.jqx.browser.version<10&&(e="mousedown")),this.addHandler(this.table,"mouseleave",function(e){i(),g.wrapper&&(g.wrapper.parent().removeAttr("tabindex",0),g.wrapper.removeAttr("tabindex",1),g.content.removeAttr("tabindex",2))});g.isTouchDevice()&&(g.enableHover=!1),this.addHandler(this.table,"mousemove",function(e){var t=e.pageX,e=e.pageY;if(g.disabled)return!0;if(!g.enableHover)return!0;if(g.hScrollInstance.isScrolling()||g.vScrollInstance.isScrolling())return!0;t=u(t,e);if(!t)return!0;e=Y(t).parent();return i(),g.rowDetails&&g.treeGrid&&"row-details"==e.attr("data-role")||g.renderedRecords&&0===g.renderedRecords.length||null!=g.editKey&&g.editKey===e.attr("data-key")||p(e),!0}),this.addHandler(this.host,"keydown",function(e){return g._handleKey(e)}),Y.jqx.browser.msie&&Y.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(e){g.table.trigger("mousedown",e)}),this.addHandler(this.table,e,function(e){e.target;var t=null;if(g.disabled)return!0;if(!(g.touchmode&&e.originalEvent&&e.originalEvent._pageX)){g.table.coord();var i=e.pageX,s=e.pageY,r=(Y.jqx.browser.msie&&Y.jqx.browser.version<9&&arguments&&2==arguments.length&&(i=arguments[1].pageX,s=arguments[1].pageY),g.isTouchDevice()&&(i=(r=Y.jqx.position(e)).left,s=r.top,(isNaN(i)||isNaN(s))&&(i=(r=Y.jqx.position(e.originalEvent)).left,s=r.top)),t=u(i,s),Y(t).parent()),i=r.attr("data-key");if(g.rowDetails&&g.treeGrid&&"row-details"==r.attr("data-role"))return!0;function n(){g.enableBrowserSelection||(e.preventDefault&&e.preventDefault(),e.stopPropagation()),g.host.focus()}if(void 0!==i){var s=Y(t).index(),o=g.columns.records[s];if(i==g.editKey){if(!g.editSettings.editSingleCell)return!0;if(g.clickedTD==t)return!0;if(null!=g.editKey&&g.editSettings.saveOnSelectionChange&&!g.endroweditbykey(g.editKey))return!0}else if(null!=g.editKey&&g.editSettings.saveOnSelectionChange)if(!g.endroweditbykey(g.editKey))return!0;if(g.clickedTD=t,(d=g.rowinfo[i])&&d.group)return!0;var a,l=!1;if(d&&(c=g.getrowdisplayindex(d.row),a=g.getrowindex(d.row),g._raiseEvent("rowClick",{index:c,boundIndex:a,key:i,row:d.row,originalEvent:e,dataField:o.datafield}),h=(new Date).getTime(),g.clickTime||(g.clickTime=new Date),g._lastSelectedKey==i&&h-g.clickTime.getTime()<300&&(g._raiseEvent("rowDoubleClick",{index:c,boundIndex:a,key:i,row:d.row,originalEvent:e,dataField:o.datafield}),l=!0,e.preventDefault&&e.preventDefault())),g.clickTime=new Date,0<=t.className.indexOf("jqx-grid-group"))d.expanded?g.hidedetailsbykey(i):g.showdetailsbykey(i);else if(e.target&&e.target.className.indexOf&&0<=e.target.className.indexOf("jqx-grid-group")&&g.treeGrid)d.expanded?g.treeGrid.collapseRow(i):g.treeGrid.expandRow(i),p(g._getuirow(i)),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault();else{if(!(e.target&&e.target.className.indexOf&&0<=e.target.className.indexOf("checkbox")&&g.treeGrid)){var d,h,c,s=Y(t).index(),o=g.columns.records[s];if(e.stopPropagation&&e.stopPropagation(),g.editable&&null==g.editKey)if(g._lastSelectedKey==i&&g.editSettings.editOnDoubleClick&&l)return g.beginroweditbykey(i,o),!0;return g.isTouchDevice()&&g.scrolled&&new Date-g.scrolled<500?(g.enableBrowserSelection||e.preventDefault&&e.preventDefault(),!1):"singlerow"===g.selectionMode&&"custom"!==g.selectionMode?(g.selectrowbykey(i,"mouse",!1),g._lastSelectedKey=i,g._updateSelection(),g.enableBrowserSelection||e.preventDefault&&e.preventDefault(),n(),!0):"custom"!==g.selectionMode&&(e.ctrlKey||e.metaKey||g.clearSelection(!1),e.shiftKey&&g._lastSelectedKey)?(d=g.rowinfo[g._lastSelectedKey],g._doSelection(g._lastSelectedKey,!0,!1),h=Y(g._table.children()[1]).children("[data-key="+g._lastSelectedKey+"]").index(),c=r.index(),g._selectRange(c,h),g.selectrowbykey(i,"mouse",!1),g._updateSelection(),e.preventDefault&&e.preventDefault(),n(),!0):(g._lastSelectedKey=i,g.clickTime=new Date,"custom"===g.selectionMode||(d&&(d.selected?g.unselectrowbykey(i,"mouse",!1):g.selectrowbykey(i,"mouse",!1),n()),g._updateSelection(),g.enableBrowserSelection||e.preventDefault&&e.preventDefault()),!0)}d.checked?g.treeGrid.uncheckRow(i):g.treeGrid.checkRow(i),p(g._getuirow(i)),e.stopPropagation&&e.stopPropagation()}}}})},_updateSelection:function(){var e=this,t=Y(e._table.children()[1]).children(),i=e._pinnedTable?Y(e._pinnedTable.children()[1]).children():null,s=e.rowDetails&&!e.treeGrid?1:0,r=0;0<s&&e.rtl&&(s=0,r=1);for(var n=0;n<t.length;n++){var o,a=t[n].cells,l=(i&&(o=i[n].cells),null);if(t[n].getAttribute&&(l=t[n].getAttribute("data-key")),e.rowinfo[l]&&"none"!==e.selectionMode)if(e.rowinfo[l].selected)for(var d=s;d<a.length-r;d++){var h=a[d];Y(h).addClass(e.toTP("jqx-grid-cell-selected")+" "+e.toTP("jqx-fill-state-pressed")),o&&Y(o[d]).addClass(e.toTP("jqx-grid-cell-selected")+" "+e.toTP("jqx-fill-state-pressed"))}else for(d=s;d<a.length-r;d++){var c,h=a[d],u=(o&&(c=o[d]),h.className);u=(u=(u=(u=u.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+e.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+e.theme,""),h.className=u,c&&(c.className=u)}}},_selectRange:function(e,t){var i=Y(Y(this._table.children()[1]).children()[t]);if(t<e)for(var s=t,r=i;s<e;){var n=(r=r.next()).attr("data-key");this._doSelection(n,!0,!1),s++}else if(e<t)for(s=t,r=i;e<s;){n=(r=r.prev()).attr("data-key");this._doSelection(n,!0,!1),s--}},_getuikey:function(e,t){var i=null,s=Y(this._table.children()[1]).children(),i=Y(s[e]).attr("data-key");if(Y(s[e]).attr("data-role")){var r=Y(s[e]);if("next"==t)for(;r;){r=r.next();if(r)if(!r.attr("data-role"))return i=r.attr("data-key")}else if("prev"==t)for(;r;)if(r=r.prev())if(!r.attr("data-role"))return i=r.attr("data-key");return null}return i},getRows:function(){return this.source.records},getView:function(){var r=this,n=this._names(),e=new Array,o=function(e,t){if(t)for(var i,s=0;s<t.length;s++)t[s]&&!1!==t[s]._visible&&(i=Y.extend({},t[s]),e.push(i),(t[s][n.expanded]||0<r.dataview.filters.length)&&(i.records=new Array,o(i.records,t[s].records)))};return o(e,this.dataViewRecords),e},getKeys:function(){for(var e=new Array,t=this.source.records,i=0;i<t.length;i++)e.push(t[i].uid);return e},getKey:function(e){var t=this.getRows();return t?t[e].uid:-1},_getkey:function(a){if(this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);function e(){var e=Y(this._table.children()[1]).children(),t=null,i=0;if(this.pageable&&(i-=this.dataview.pagenum*this.dataview.pagesize),0<this.groups.length){for(var s=0,r=0;r<e.length;r++){var n=Y(e[r]),o=n.children()[0].getAttribute("colspan");if(!(0<o)){if(s===i+a)return t=n.attr("data-key");s++}}return t}if(this.rowDetails)for(r=s=0;r<e.length;r++){if(s===a+i)return t=Y(e[r]).attr("data-key");r%2==1&&s++}else t=Y(e[i+a]).attr("data-key");return t}var t=null,t=e.call(this);if(null==t&&this.pageable){var i=Math.floor(a/this.dataview.pagesize);if(this.dataview.pagenum!=i){var s=this.getRows()[a];if(s&&null!=s.uid)return s.uid;if(isNaN(i))return null;this.goToPage(i),t=e.call(this)}}return t},_getuirow:function(t){try{var e=Y(this._table.children()[1]).children("[data-key="+t+"]");if(0<e.length)return e}catch(e){for(var i=Y(this._table.children()[1]).children(),s=0;s<i.length;s++){var r=i[s];if(t==r.getAttribute("data-key"))return Y(r)}return null}return null},_getpinneduirow:function(t){if(!this._pinnedTable)return null;try{var e=Y(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(0<e.length)return e}catch(e){for(var i=Y(this._pinnedTable.children()[1]).children(),s=0;s<i.length;s++){var r=i[s];if(t==r.getAttribute("data-key"))return Y(r)}return null}return null},_names:function(){var e={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};if(!this.source||this.source&&!this.source._source.hierarchy)return e;var t=this.source._source.hierarchy.reservedNames;return t||e},_getMatches:function(i,e){if(null==i||0==i.length)return-1;var s,t=this.renderedRecords,e=(null!=e&&(t=t.slice(e)),0),r=(this.rowDetails&&!this.treeGrid&&e++,e<this.columns.records.length?s=this.columns.records[e].datafield:new Array,new Array);return Y.each(t,function(e){var t=(t=this[s])||"";Y.jqx.string.startsWithIgnoreCase(t.toString(),i)&&r.push(this.uid)}),r},_handleKey:function(e){if(this._loading)return!0;if(Y(e.target).ischildof(this.filter))return!0;if(Y(e.target).ischildof(this.toolbar))return!0;if(Y(e.target).ischildof(this.statusbar))return!0;var t=this._names(),r=this,i=e.charCode||e.keyCode||0,s=this._lastSelectedKey,n=(this.rowinfo[s],this._getuirow(s)),o=e.shiftKey&&"singlerow"!=this.selectionMode,a=e.ctrlKey||e.metaKey;if(n){if(this.handleKeyboardNavigation)if(this.handleKeyboardNavigation(i))return!0;if(this.editable&&null==this.editKey&&113===i&&this.editSettings.editOnF2&&this.beginroweditbykey(n.attr("data-key")),null==this.editKey&&!a&&!o&&this.incrementalSearch&&!(33<=i&&i<=40)){this._searchString||(this._searchString=""),(8==i||46==i)&&1<=this._searchString.length&&(this._searchString=this._searchString.substr(0,this._searchString.length-1));var l=String.fromCharCode(i),d=!isNaN(parseInt(l));if(65<=i&&i<=97||d||8==i||32==i||46==i){if(e.shiftKey||(l=l.toLocaleLowerCase()),8==i||32==i||46==i||0<this._searchString.length&&this._searchString.substr(0,1)==l||(this._searchString+=l),32==i&&(this._searchString+=" "),this._searchTime=new Date,1<=(s=this.getSelection()).length){for(var h=s[0].uid,c=-1,u=0;u<this.renderedRecords.length;u++)if(this.renderedRecords[u].uid==h){c=u;break}(0==(p=this._getMatches(this._searchString,c)).length||0<p.length&&p[0]==h)&&(p=this._getMatches(this._searchString))}else var p=this._getMatches(this._searchString);0<p.length&&(!(1<=(s=this.getSelection()).length)||-1==(d=p.indexOf(s[0].uid))?(this.clearSelection(!1),this.selectrowbykey(p[0])):((l=d+1)>=p.length&&(l=0),this.clearSelection(!1),this.selectrowbykey(p[l])),this._lastSearchString=this._searchString)}null!=this._searchTimer&&clearTimeout(this._searchTimer),27!=i&&13!=i||(this._searchString="",this._lastSearchString=""),this._searchTimer=setTimeout(function(){r._searchString="",r._lastSearchString=""},500)}if(null!=this.editKey){if(27===i&&this.editSettings.cancelOnEsc)this.endroweditbykey(this.editKey,!0);else if(13===i&&this.editSettings.saveOnEnter){if(e.target&&"div"!=e.target.nodeName.toLowerCase()&&"input"!=e.target.nodeName.toLowerCase())return!0;this.endroweditbykey(this.editKey,!1)}else if(this.editSettings.editSingleCell&&this.editColumn){d=this.columns.records.indexOf(this.editColumn);if(9==i&&d<this.columns.records.length-1&&!e.shiftKey){for(var m=this.editKey,g=null,u=d+1;u<this.columns.records.length;u++)if(this.columns.records[u].editable&&!this.columns.records[u].hidden){g=this.columns.records[u];break}g&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(m,g))}else if(9==i&&e.shiftKey&&0<d){for(var m=this.editKey,f=null,u=d-1;0<=u;u--)if(this.columns.records[u].editable&&!this.columns.records[u].hidden){f=this.columns.records[u];break}f&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(m,f))}if(9==i){var v=this.rowinfo[this.editKey],c=this.getrowindex(v),n=this._getuirow(this.editKey);if(e.shiftKey||g){if(!f&&e.shiftKey){for(x=null,u=this.columns.records.length-1;0<=u;u--)if(this.columns.records[u].editable&&!this.columns.records[u].hidden){x=this.columns.records[u];break}if(x){for(;n;)if(n=n.prev())if(!n.attr("data-role")){y=n.attr("data-key");break}y&&(this.clearSelection(!1),this._lastSelectedKey=y,v=this.rowsByKey[y],c=this.getrowindex(v),P=this.getrowdisplayindex(v),this._raiseEvent("rowSelect",{key:y,index:P,boundIndex:c,row:this.rowsByKey[y]}),this.endroweditbykey(this.editKey,!1),this._doSelection(y,!0,!0),this.beginroweditbykey(y,x))}}}else{for(var x=null,u=0;u<this.columns.records.length;u++)if(this.columns.records[u].editable&&!this.columns.records[u].hidden){x=this.columns.records[u];break}if(x){for(;n;)if(n=n.next())if(!n.attr("data-role")){var y=n.attr("data-key");break}y&&(this.clearSelection(!1),this._lastSelectedKey=y,v=this.rowsByKey[y],c=this.getrowindex(v),P=this.getrowdisplayindex(v),this._raiseEvent("rowSelect",{key:y,index:P,boundIndex:c,row:this.rowsByKey[y]}),this.endroweditbykey(this.editKey,!1)?(this._doSelection(y,!0,!0),this.beginroweditbykey(y,x)):this.beginroweditbykey(this.editKey,x))}}return!1}}return!0}if(e.ctrlKey||e.metaKey){p=String.fromCharCode(i).toLowerCase();if("c"==p||"x"==p)if(1<=(s=this.getSelection()).length){for(var w,b="",_=0;_<this.renderedRecords.length;_++)for(var q=this.renderedRecords[_],u=0;u<s.length;u++)if((v=s[u]).uid===q.uid){for(var j=0;j<this.columns.records.length;j++)b+=this.getCellTextByKey(v.uid,this.columns.records[j].displayfield),j<this.columns.records.length-1&&(b+="\t");b+="\r\n";break}""!=b&&(b=b.substring(0,b.length-1)),window.clipboardData?window.clipboardData.setData("Text",b):((w=Y('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>')).val(b),Y("body").append(w),w.select(),setTimeout(function(){document.designMode="off",w.select(),w.remove()},100))}}if(32===i&&this.treeGrid&&this.treeGrid.checkboxes){if(1<(s=this.getSelection()).length){for(u=0;u<s.length;u++){var T=s[u].uid;this.rowinfo[T].checked?this.treeGrid.uncheckRow(T,!1):this.treeGrid.checkRow(T,!1)}return this._renderrows(),!1}if(h=n.attr("data-key"))return this.rowinfo[h].checked?this.treeGrid.uncheckRow(h):this.treeGrid.checkRow(h),!1}function C(){a||o||r.clearSelection(!1),33==i||37==i?h=(h=r._getuikey(t=S,"prev"))||I():34==i||39==i?h=(h=r._getuikey(t=S,"next"))||k():38==i?h=k():40==i&&(h=I()),r._lastSelectedKey=h;var e=r.rowsByKey[h],t=r.getrowindex(e),e=r.getrowdisplayindex(e);r._raiseEvent("rowSelect",{key:h,index:e,boundIndex:t,row:r.rowsByKey[h]}),r._doSelection(h,!0,!0),r.host.focus()}var S=n.index(),k=function(e){var t=null,i=Y(r._table.children()[1]).children().length-1;if((s=Y(Y(r._table.children()[1]).children()[i])).attr("data-role"))for(;s;){var s=s.prev();if(s)if(!s.attr("data-role")){t=s.attr("data-key");break}}else t=s.attr("data-key");return"all"==e?{row:s,key:t}:t},I=function(e){var t=null;if((i=Y(Y(r._table.children()[1]).children()[0])).attr("data-role"))for(;i;){var i=i.next();if(i)if(!i.attr("data-role")){t=i.attr("data-key");break}}else t=i.attr("data-key");return"all"==e?{row:i,key:t}:t},h=null;if(this.treeGrid&&this.rtl&&(37==i?i=39:39==i&&(i=37)),36==i||a&&38==i)return r.clearSelection(!1),l=I(),o||a?r._selectRange(n.index(),0):r._lastSelectedKey=l,r.selectrowbykey(l,"keyboard"),!1;if(35==i||a&&40==i)return r.clearSelection(!1),d=k("all"),m=d.key,o||a?r._selectRange(n.index(),d.row.index()):r._lastSelectedKey=m,r.selectrowbykey(m,"keyboard"),!1;if(33==i||37==i){h=n.attr("data-key");if(this.rowDetails&&37==i&&!this.treeGrid)return this.hidedetailsbykey(h),!1;if(this.treeGrid&&37==i){if(this.rowinfo[h].row&&!this.rowinfo[h].row[t.parent]&&!this.rowinfo[h][t.leaf]&&!this.rowinfo[h].expanded)return!1;if(this.rowinfo[h].expanded&&!this.rowinfo[h][t.leaf])return this.treeGrid.collapseRow(h),!1;if(this.rowinfo[h].row&&this.rowinfo[h].row[t.parent]&&(h=this.rowinfo[h].row[t.parent].uid),this.rowinfo[h][t.leaf])return!1}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToNextPage(C):this.goToPrevPage(C),!1;if(this.treeGrid&&this.pageable&&33==i)return this.goToPrevPage(C),!1}else if(34==i||39==i){h=n.attr("data-key");if(this.rowDetails&&39==i&&!this.treeGrid)return this.showdetailsbykey(h),!1;if(this.treeGrid&&39==i){if(this.rowinfo[h][t.leaf])return!1;if(!this.rowinfo[h].expanded)return this.treeGrid.expandRow(h),!1;if(this.rowinfo[h].row&&this.rowinfo[h].row.records&&0<this.rowinfo[h].row.records.length)if(0<this.dataview.filters.length){for(var D=this.rowinfo[h].row.records,u=0;u<D.length;u++)if(D[u]._visible){h=D[u].uid;break}}else h=this.rowinfo[h].row.records[0].uid}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToPrevPage(C):this.goToNextPage(C),!1;if(this.treeGrid&&this.pageable&&34==i)return this.goToNextPage(C),!1}else if(38==i){for(;n;)if(n=n.prev())if(!n.attr("data-role")){h=n.attr("data-key");break}if(this.pageable&&null==h)return this.goToPrevPage(C),!1}else if(40==i){for(;n;)if(n=n.next())if(!n.attr("data-role")){h=n.attr("data-key");break}if(this.pageable&&null==h)return this.goToNextPage(C),!1}if(null!=h){if(a||o||this.clearSelection(!1),this.rowinfo[h])if(this.rowinfo[h].selected&&(a||o))return this._doSelection(this._lastSelectedKey,!1,!1),this._lastSelectedKey=h,v=this.rowsByKey[h],c=this.getrowindex(v),r._updateSelection(),P=this.getrowdisplayindex(v),this._raiseEvent("rowUnselect",{key:h,index:P,boundIndex:c,row:v}),!1;this._lastSelectedKey=h;var v=this.rowsByKey[h],c=this.getrowindex(v),P=(this._doSelection(h,!0,!1),r._updateSelection(),this.getrowdisplayindex(v));if(this._raiseEvent("rowSelect",{key:h,index:P,boundIndex:c,row:v}),this.treeGrid)if(37==i){var A=null;if((n=this._getuirow(h))&&!n.attr("data-role")&&(A=n.attr("data-key")),this.pageable&&null==A&&0<this.dataview.pagenum)for(;null==this._getuirow(h)&&0<this.dataview.pagenum;)this.goToPrevPage()}else 39==i&&(A=null,(n=this._getuirow(h))&&!n.attr("data-role")&&(A=n.attr("data-key")),this.pageable&&null==A&&this.goToNextPage());return!1}}},_selection:function(e){if("selectionStart"in e[0])return s=(i=e[0]).selectionEnd-i.selectionStart,{start:i.selectionStart,end:i.selectionEnd,length:s,text:i.value};var t=document.selection.createRange();if(null==t)return{start:0,end:i.value.length,length:0};var i=e[0].createTextRange(),e=i.duplicate(),s=(i.moveToBookmark(t.getBookmark()),e.setEndPoint("EndToStart",i),t.text.length);return{start:e.text.length,end:e.text.length+t.text.length,length:s,text:t.text}},_doSelection:function(e,t,i){var s;null==e?this.clearSelection():("singlerow"===this.selectionMode&&this.clearSelection(!1),(s=this.rowinfo[e])?(s.selected=t,this.ensurerowvisiblebykey(e)):(this.ensurerowvisiblebykey(e),(s=this.rowinfo[e])?s.selected=t:this.rowinfo[e]={selected:t}),"none"!=this.selectionMode&&!1!==i&&this._renderrows())},clearSelection:function(e){if(this.rowinfo){var t,i=this.getRows();for(t in this.rowinfo){var s,r,n=this.rowinfo[t];n.selected&&(n.selected=!1,s=i.indexOf(n.row),r=this.getrowdisplayindex(n.row),this._raiseEvent("rowUnselect",{key:t,index:r,boundIndex:s,row:n.row}))}}!1!==e&&this._renderrows()},exportData:function(h){if(!Y.jqx.dataAdapter.ArrayExporter){if(this.treeGrid)throw"jqxTreeGrid: Missing reference to jqxdata.export.js!";throw"jqxDataTable: Missing reference to jqxdata.export.js!"}var o,l=this.exportSettings.columnsHeader,e=(null==l&&(l=!0),this.exportSettings.hiddenColumns),t=(null==e&&(e=!1),this.exportSettings.serverURL),z=this.exportSettings.characterSet,a=this.exportSettings.collapsedRecords,i=(null==a&&(a=!1),this.exportSettings.fileName),c=(void 0===i&&(i=this.treeGrid?"jqxTreeGrid_Data":"jqxDataTable_Data"),this),u=this.getRows();if(1==this.exportSettings.recordsInView&&(u=this.getView()),this.treeGrid&&this.treeGrid.virtualModeCreateRecords&&(u=this.treeGrid.getRows()),this.groups&&0<this.groups.length&&(r=this.source.getGroupedRecords(this.groups,"records","label",null,"data",null,"parent",u),r=(o=function(e,t){for(var i=0;i<e.length;i++){var s=Y.extend({},e[i]);if(t.push(s),s.records&&0<s.records.length)for(var r=o(s.records,new Array),n=0;n<r.length;n++)r[n].leaf,t.push(r[n])}return t}).call(this,r,new Array),u=r),0==u.length)throw"No data to export.";this.exporting=!0,this.altRows&&this._renderrows();for(var p=new Array,s=0;s<this.columns.records.length;s++)!e&&this.columns.records[s].hidden||p.push(Y.extend({},this.columns.records[s]));if(this.groups&&0<this.groups.length&&0<p.length)for(var d=this._names(),s=0;s<u.length;s++)u[s][d.leaf]||(c.rtl?u[s][p[p.length-1].displayfield]=u[s].label:u[s][p[0].displayfield]=u[s].label);var m=0;if(this.treeGrid){var r=this.treeGrid.getRows(),d=(1==this.exportSettings.recordsInView&&(r=this.getView()),this._names()),n=function(e){for(var t=0;t<e.length;t++){var i=e[t],s=i[d.expanded]||!i[d.expanded]&&a;m=Math.max(m,1+i[d.level]),i.records&&0<i.records.length&&s&&n(e[t].records)}};if(n(r),"xml"!=h&&"json"!=h){for(var E=p.length,s=0;s<m;s++)(A=new R(this,this)).width=this.indentWidth,A.datafield="Level"+s,A.displayfield="Level"+s,A.align="center",A.cellsalign="center",A.text="",this.rtl?p.splice(E,0,A):p.splice(s,0,A);var g=new Array,L=!(!this.source._source.hierarchy||!this.source._source.hierarchy.groupingDataFields),f=function(e){for(var t=0;t<e.length;t++){for(var i=Y.extend({},e[t]),s=0;s<i[d.level];s++)i["Level"+s]="";var r=i[d.expanded]||!i[d.expanded]&&a;("xls"==h||"html"==h||"pdf"==h)&&i.records&&0<i.records.length?i["Level"+i[d.level]]=r?"-":"+":i["Level"+i[d.level]]="",i[d.leaf]&&(i["Level"+i[d.level]]="");for(s=i[d.level]+1;s<m;s++)i["Level"+s]="";if(L&&!i[d.leaf]&&(c.rtl?i[p[p.length-m-1].displayfield]=i.label:i[p[m].displayfield]=i.label),i.aggregate)for(var n="xls"==h?"_AG":"",s=m;s<p.length;s++){var o=s;c.rtl&&(o=p.length-s-1),null!=i[p[o].displayfield]&&(i[p[o].displayfield]=n+i[p[o].displayfield])}g.push(i),r&&!i[d.leaf]&&f(i.records)}};f(r),u=g}else u=r}for(var v,x,y,N=null!=e&&e,w={},b={},r=this.host.find(".jqx-grid-cell:first"),_=this.host.find(".jqx-grid-cell-alt:first"),q=this,j=(r.removeClass(q.toThemeProperty("jqx-grid-cell-selected")),r.removeClass(q.toThemeProperty("jqx-fill-state-pressed")),_.removeClass(q.toThemeProperty("jqx-grid-cell-selected")),_.removeClass(q.toThemeProperty("jqx-fill-state-pressed")),r.removeClass(q.toThemeProperty("jqx-grid-cell-hover")),r.removeClass(q.toThemeProperty("jqx-fill-state-hover")),_.removeClass(q.toThemeProperty("jqx-grid-cell-hover")),_.removeClass(q.toThemeProperty("jqx-fill-state-hover")),"cell"),T=1,O=1,C=[],S=0;S<p.length;S++)if(""!=(A=p[S]).cellclassname)if(A.customCellStyles=new Array,"string"==typeof A.cellclassname)A.customCellStyles.push(A.cellclassname);else for(s=0;s<u.length;s++){var k=s,k=A.cellclassname(k,A.displayfield,u[s][A.displayfield],u[s]);k&&(A.customCellStyles[s]=k)}if(Y.each(p,function(e){function t(e){if(e.removeClass(q.toThemeProperty("jqx-cell")),e.removeClass(q.toThemeProperty("jqx-grid-cell-selected")),e.removeClass(q.toThemeProperty("jqx-fill-state-pressed")),e.removeClass(q.toThemeProperty("jqx-grid-cell-hover")),e.removeClass(q.toThemeProperty("jqx-fill-state-hover")),n.customCellStyles)for(var t in n.customCellStyles)e.removeClass(n.customCellStyles[t])}var i,s=e,r=(c.treeGrid&&(m<=e?s=p.length-m-1:0<m&&e<m&&(s=0)),Y(c._table[0].rows[0].cells[s])),n=(1<c._table[0].rows.length&&(0==(i=Y(c._table[0].rows[1].cells[s])).length&&(i=Y(c._table[0].rows[1].cells[0]))),0==r.length&&(r=Y(c._table[0].rows[0].cells[0])),this);if(t(r),i&&t(i),null==this.displayfield)return!0;c.showAggregates&&c.getcolumnaggregateddata&&(c.treeGrid?C.push(c.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,function(e,t){for(var i=0;i<e.length;i++){var s=e[i];0===s.level&&t.push(s)}return t}(u,[]))):C.push(c.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,u)));var d=c._getexportcolumntype(this),s=(!this.exportable||this.hidden&&!N||(w[this.displayfield]={},w[this.displayfield].text=this.text,w[this.displayfield].width=parseInt(this.width),isNaN(w[this.displayfield].width)&&(w[this.displayfield].width=60),500<w[this.displayfield].width&&(w[this.displayfield].width=500),w[this.displayfield].formatString=this.cellsFormat,w[this.displayfield].localization=c.gridlocalization,w[this.displayfield].type=d,w[this.displayfield].cellsAlign=this.cellsalign,w[this.displayfield].hidden=!l,w[this.displayfield].index=s,w[this.displayfield].maxIndex=p.length),j="cell"+T,this.element);if("json"!=h&&"xml"!=h){function o(e,t,i,s,r,n,o,a,l){b[e]={index:1+o,maxIndex:p.length},n.rtl&&(b[e].index=p.length-o),"html"!=h&&"xls"!=h&&"pdf"!=h||(t&&(b[e]["font-size"]=t.css("font-size"),b[e]["font-weight"]=t.css("font-weight"),b[e]["font-style"]=t.css("font-style"),b[e]["background-color"]=n._getexportcolor(t.css("background-color")),b[e].color=n._getexportcolor(t.css("color")),b[e]["border-color"]=n._getexportcolor(t.css("border-top-color"))),i?b[e]["text-align"]=r.align:(b[e]["text-align"]=r.cellsalign,b[e].formatString=r.cellsFormat,b[e].dataType=d),"html"!=h&&"pdf"!=h||(b[e]["border-top-width"]="0px",n.rtl?(b[e]["border-left-width"]="1px",b[e]["border-right-width"]="0px",o==p.length-m-1&&i&&(b[e]["border-right-width"]="1px")):(b[e]["border-left-width"]="0px",b[e]["border-right-width"]="1px"),b[e]["border-bottom-width"]="1px",t&&(b[e]["border-top-style"]=t.css("border-top-style"),b[e]["border-left-style"]=t.css("border-left-style"),b[e]["border-right-style"]=t.css("border-right-style"),b[e]["border-bottom-style"]=t.css("border-bottom-style")),i?(0!=o||n.rtl?o==p.length-1&&n.rtl&&(b[e]["border-right-width"]="1px"):b[e]["border-left-width"]="1px",t&&(b[e]["border-top-width"]="1px",b[e]["border-bottom-width"]=t.css("border-bottom-width"))):0!=o||n.rtl?o==p.length-1&&n.rtl&&(b[e]["border-right-width"]="1px"):b[e]["border-left-width"]="1px",t&&(b[e].height=t.css("height")),n.treeGrid&&!i&&(b[e].index-1<m?n.rtl?b[e]["border-left-width"]="0px":b[e]["border-right-width"]="0px":b[e].index-1==m&&(n.rtl?b[e]["border-right-width"]="0px":b[e]["border-left-width"]="0px")))),!r.exportable||r.hidden&&!N||(1==a?(w[r.displayfield].customCellStyles||(w[r.displayfield].customCellStyles=new Array),w[r.displayfield].customCellStyles[l]=e):i?w[r.displayfield].style=e:s?w[r.displayfield].cellAltStyle=e:w[r.displayfield].cellStyle=e)}if(o("column"+O,s,!0,!1,this,c,e),O++,o(j,r,!1,!1,this,c,e),c.altRows&&o(j="cellalt"+T,i,!1,!0,this,c,e),this.customCellStyles){for(var a in n.customCellStyles)r.removeClass(n.customCellStyles[a]);for(var a in n.customCellStyles)r.addClass(n.customCellStyles[a]),o(j+n.customCellStyles[a],r,!1,!1,this,c,e,!0,a),r.removeClass(n.customCellStyles[a])}T++}}),"json"!=h&&"xml"!=h&&0<m&&this.treeGrid){var I=m+1;if(this.rtl&&(I=p.length-m),b["column"+I]){for(var D=b["column"+I],s=(D.merge=m,D["border-left-width"]="1px",b["cell"+I],0);s<p.length;s++){I=s+1;if(this.rtl&&(I=p.length-s),b["column"+I].level=s,b["column"+I].maxLevel=m,b["cell"+I].maxLevel=m,(A=p[s]).customCellStyles)for(var P in A.customCellStyles)b["cell"+I+A.customCellStyles[P]]&&(b["cell"+I+A.customCellStyles[P]].maxLevel=m);b["cellalt"+I]&&(b["cellalt"+I].maxLevel=m)}for(s=0;s<m;s++){var A,I=s+1,M=s,H=(this.rtl&&(I=p.length-s),b["column"+I]);if(H.disabled=!0,b["cell"+I].level=M,b["cell"+I].maxLevel=m,b["column"+I].level=M,b["cellalt"+I]&&(b["cellalt"+I].level=M,b["cellalt"+I].maxLevel=m),(A=p[s]).customCellStyles)for(var P in A.customCellStyles)b["cell"+I+A.customCellStyles[P]]&&(b["cell"+I+A.customCellStyles[P]].maxLevel=m,b["cell"+I+A.customCellStyles[P]].level=M);"html"!=h&&"pdf"!=h&&"xls"!=h||(H["font-size"]=D["font-size"],H["font-weight"]=D["font-weight"],H["font-style"]=D["font-style"],H["background-color"]=D["background-color"],H.color=D.color,H["border-color"]=D["border-color"],"html"!=h&&"pdf"!=h||(H["border-top-width"]=D["border-top-width"],H["border-left-width"]=D["border-left-width"],this.rtl&&(H["border-right-width"]=D["border-right-width"],0==s&&(H["border-right-width"]="1px")),(0==s&&!this.rtl||0==s&&this.rtl)&&(H["border-left-width"]="0px"),this.rtl?this.rtl&&(H["border-left-width"]="0px"):H["border-right-width"]="0px",H["border-bottom-width"]="0px",H=b["cell"+I],this.rtl?this.rtl&&(H["border-left-width"]="0px"):H["border-right-width"]="0px"))}}}this.showAggregates&&(v=[],x="xls"==h?"_AG":"",y=0,this.rowDetails&&!this.treeGrid&&y++,0<C.length&&(Y.each(p,function(e){if(this.aggregates)for(var t,i,s,r=0;r<this.aggregates.length;r++)v[r]||(v[r]={}),v[r]&&(t=c._getaggregatename(this.aggregates[r]),i=c._getaggregatetype(this.aggregates[r]),(s=C[e-y])&&(v[r][this.displayfield]=x+t+": "+s[i]))}),Y.each(p,function(e){for(var t=0;t<v.length;t++)null==v[t][this.displayfield]&&(v[t][this.displayfield]=x)})),Y.each(v,function(){u.push(this)}));var B,q=this,r=Y.jqx.dataAdapter.ArrayExporter(u,w,b,t,this.treeGrid&&("xml"==h||"json"==h));if(null==i)return this._renderrows(),B=this.treeGrid&&("xml"==h||"json"==h),_=r.exportTo(h,this.treeGrid&&("xml"==h||"json"==h)),this.showAggregates&&Y.each(v,function(){u.pop(this)}),setTimeout(function(){q.exporting=!1},50),_;B=this.treeGrid&&("xml"==h||"json"==h),r.exportToFile(h,i,t,z,B),this.showAggregates&&Y.each(v,function(){u.pop(this)}),this._renderrows(),setTimeout(function(){q.exporting=!1},50)},_getexportcolor:function(e){e="transparent"==e?"#FFFFFF":e;if(-1==(e=e&&e.toString()?e:"#FFFFFF").toString().indexOf("rgb"))return-1!=e.toString().indexOf("#")&&4==e.toString().length&&(t=e.toString().substring(1,4),e+=t),e;var t=e.split(",");if(-1!=e.toString().indexOf("rgba"))return i=parseInt(t[0].substring(5)),s=parseInt(t[1]),r=parseInt(t[2]),e=parseFloat(t[3].substring(1,4)),n=this._rgbToHex(o={r:i,g:s,b:r}),0==i&&0==s&&0==r&&0==e?"#ffffff":"#"+n;var i,s,r,n,o={r:i=parseInt(t[0].substring(4)),g:s=parseInt(t[1]),b:r=parseInt(t[2].substring(1,4))};return"#"+(n=this._rgbToHex(o))},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){e=parseInt(e).toString(16);return(e=1==e.length?"0"+e:e).toUpperCase()},_getexportcolumntype:function(e){var t="string",i=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(i){var s="";if(Y.each(i,function(){if(this.name==e.displayfield)return this.type&&(s=this.type),!1}),s)return s}if(null!=e){if(null==this.dataview.cachedrecords)return t;var r=null;if(this.virtualmode)Y.each(this.dataview.cachedrecords,function(){return r=this[e.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return t;if(null!=(r=this.dataview.cachedrecords[0][e.displayfield])&&""==r.toString())return"string"}if(null!=r){if(-1!=e.cellsFormat.indexOf("c"))return"number";if(-1!=e.cellsFormat.indexOf("n"))return"number";if(-1!=e.cellsFormat.indexOf("p"))return"number";if(-1!=e.cellsFormat.indexOf("d"))return"date";if(-1!=e.cellsFormat.indexOf("y"))return"date";if(-1!=e.cellsFormat.indexOf("M"))return"date";if(-1!=e.cellsFormat.indexOf("m"))return"date";if(-1!=e.cellsFormat.indexOf("t"))return"date";if("boolean"==typeof r)t="boolean";else if(Y.jqx.dataFormat.isNumber(r))t="number";else{var i=new Date(r);if("NaN"==i.toString()||"Invalid Date"==i.toString())if(Y.jqx.dataFormat){if(null!=(i=Y.jqx.dataFormat.tryparsedate(r))){if(i&&i.getFullYear())if(1970==i.getFullYear()&&0==i.getMonth()&&1==i.getDate())return i=new Number(r),isNaN(i)?"string":"number";return"date"}t="string"}else t="string";else t="date"}}}return t},showDetails:function(e){e=this._getkey(e);this.showdetailsbykey(e)},hideDetails:function(e){e=this._getkey(e);this.hidedetailsbykey(e)},setCellValueByKey:function(e,t,i){var s=this.rowsByKey[e],r=this.getrowindex(s),n=s;if(null!=n&&n[t]==i)return!1;if(null==n||null!==n[t]||""!==i){var o="";if(null!=n&&n[t]!==i){var a,l=this.getColumn(t),d="string",h=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(h&&(a="",Y.each(h,function(){if(this.name==l.displayfield)return this.type&&(a=this.type),!1}),a&&(d=a)),o=n[t],!l.nullable||null!=i&&""!==i&&l.nullable&&void 0===i.label)if(Y.jqx.dataFormat.isNumber(o)||"number"==d||"float"==d||"int"==d||"decimal"==d&&"date"!=d?(i=new Number(i),i=parseFloat(i),isNaN(i)&&(i=0)):!Y.jqx.dataFormat.isDate(o)&&"date"!=d||""==i||(d=i,"Invalid Date"!=(d=new Date(d))&&null!=d?i=d:"Invalid Date"==d&&(i=d=new Date)),n[t]===i)return;this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,n[t]=i,this.treeGrid&&(c=this.treeGrid.getRow(e))&&(c[t]=i),null!=i&&null!=i.label&&(n[(l=this.getColumn(t)).displayfield]=i.label,n[t]=i.value,this.treeGrid&&(c=this.treeGrid.getRow(e))&&(c[l.displayfield]=i.label,c[t]=i.value))}if(this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var d=r,c=this.source._source._localdata()[d],d=(this.source.suspendKO=!0,c);if(d[t]&&d[t].subscribe)null!=i&&null!=i.label?(d[l.displayfield](i.label),d[t](i.value)):d[t](i);else{var h=this.source._source.datafields,u=null;if(h&&Y.each(h,function(){if(this.name==t)return u=this.map,!1}),null==u)null!=i&&null!=i.label?(d[t]=i.value,d[l.displayfield]=i.label):d[t]=i;else{var p=u.split(this.source.mapChar);if(0<p.length){for(var m=d,g=0;g<p.length-1;g++)m=m[p[g]];m[p[p.length-1]]=i}}this.source._source._localdata.replace(c,Y.extend({},d))}this.source.suspendKO=!1}if(this.source.updaterow)try{null==this.source.updaterow(e,n,function(e){0==e&&this.setCellValue(s,t,o,!0,!1)})&&0}catch(e){return void this.setCellValue(s,t,o)}h=this.getrowdisplayindex(s),l=this.getColumn(t);this._raiseEvent("cellValueChanged",{value:i,oldValue:o,dataField:t,displayField:l.displayfield,key:e,boundIndex:r,index:h,row:this.rowsByKey[e]}),this.editable&&null!=this.editKey||this._renderrows()}},setCellValue:function(e,t,i){if(null==e||null==t)return!1;e=parseInt(e),e=this._getkey(e);this.setCellValueByKey(e,t,i)},getCellText:function(e,t){if(null==e||null==t)return!1;e=parseInt(e),e=this._getkey(e);return this.getCellTextByKey(e,t)},getCellTextByKey:function(e,t){if(null==e||null==t)return null;e=this.getCellValueByKey(e,t),t=this.getColumn(t);return t&&""!=t.cellsFormat&&Y.jqx.dataFormat&&(Y.jqx.dataFormat.isDate(e)?e=Y.jqx.dataFormat.formatdate(e,t.cellsFormat,this.gridlocalization):(Y.jqx.dataFormat.isNumber(e)||!isNaN(parseFloat(e))&&isFinite(e))&&(e=Y.jqx.dataFormat.formatnumber(e,t.cellsFormat,this.gridlocalization))),e},getCellValue:function(e,t){if(null==e||null==t)return!1;e=parseInt(e),e=this._getkey(e);return this.getCellValueByKey(e,t)},getCellValueByKey:function(e,t){var i=this.rowsByKey[e];!i&&this.treeGrid&&(i=this.treeGrid.getRow(e)),this.getrowindex(i);return null!=i?i[t]:null},beginRowEdit:function(e){e=this._getkey(e);this.beginroweditbykey(e)},beginCellEdit:function(e,t){e=this._getkey(e),t=this.getColumn(t);this.beginroweditbykey(e,t)},endCellEdit:function(e,t,i){this.endRowEdit(e,i)},endRowEdit:function(e,t){e=this._getkey(e);this.endroweditbykey(e,t)},getrowindex:function(e){var t=this.getRows().indexOf(e);if(-1!=t)return t;if(this.groups&&0<this.groups.length)for(var i=this.getRows(),s=0;s<i.length;s++)if(e.originalRecord){if(i[s].uid==e.originalRecord.uid){t=s;break}}else if(i[s].uid==e.uid){t=s;break}return t},getrowdisplayindex:function(e){if(this.treeGrid)return-1;var t=this.getView(),i=t.indexOf(e);if(-1!=i)return i;if(null==e)return i;for(var s=t,r=0;r<s.length;r++)if(s[r].uid==e.uid||e.originalRecord&&s[r].uid==e.originalRecord.uid){i=r;break}return i},beginroweditbykey:function(e,t){if(this.beginEdit&&!1===this.beginEdit(e,t))return!1;var i=this.treeGrid?this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0:this.groups.length;if(0<i){var s=this.rowsByKey[e];if((s=this.treeGrid?this.treeGrid.getRow(e):s).level<i)return!1}if(null==this._lastSelectedKey&&this.selectrowbykey(e),this.editKey===e&&null!=this.editKey)return!1;if(this.rowinfo[e]&&this.rowinfo[e].locked)return!1;if(null!=this.editKey)return this.endroweditbykey(e,!0),!1;var r=this.editSettings.editSingleCell;if(!t&&r&&this.columns.records&&0<this.columns.records.length){for(var n=0;n<this.columns.records.length&&(!(t=this.columns.records[n]).editable||t.hidden);n++);if(!t)return!1}if(r&&t&&!t.editable)return this.editKey=null,!1;r&&(this.editColumn=t);var o=this,s=this.rowsByKey[e],a=(this.treeGrid&&(s=this.treeGrid.getRow(e)),this.getrowindex(s)),i=this._getuirow(e),l=this._getpinneduirow(e),d=(this._editors=new Array,!1);if(i)for(var h=i[0].cells,c=0,n=0;n<h.length;n++){var u=this.columns.records[n],p=h[n];if(!u.rowDetailscolumn&&!(u.checkboxcolumn||(u.pinned&&(p=l[0].cells[n]),r&&t&&u.datafield!=t.datafield||(Y(p).removeClass(this.toTP("jqx-grid-cell-selected")),Y(p).removeClass(this.toTP("jqx-fill-state-pressed")),Y(p).removeClass(this.toTP("jqx-grid-cell-hover")),Y(p).removeClass(this.toTP("jqx-fill-state-hover")),"none"==u.columntype)))){var m=Y(p).outerWidth(),g=Y(p).width(),f=(0===c&&(c=Y(p).outerHeight()-1),Y(p).css("padding","0px"),"<div style='height:"+c+"px; width: 100%; overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 9999;'></div>"),v=this.getCellTextByKey(e,u.displayfield),x=(p.innerHTML=f,Y(p.firstChild));switch(u.columntype){case"textbox":case"default":var y,w,b=Y("<input style='border: none;' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox'/>").appendTo(x);this.rtl&&b.css("direction","rtl"),b.addClass(this.toThemeProperty("jqx-input")),b.addClass(this.toThemeProperty("jqx-widget-content")),b.addClass(this.toThemeProperty("jqx-cell-editor")),b[0].onfocus=function(t){setTimeout(function(){var e;t?0<=(e=Y(t.target).parent().parent().index())&&o.ensureColumnVisible(o.columns.records[e].datafield):0<=(e=Y(document.activeElement).parent().parent().index())&&o.ensureColumnVisible(o.columns.records[e].datafield),o.content&&(o.content[0].scrollTop=0,o.content[0].scrollLeft=0),o.gridcontent&&(o.gridcontent[0].scrollLeft=0,o.gridcontent[0].scrollTop=0)},10)},u.editable?d||(d=!0,(y=Y.jqx.browser.msie&&10<Y.jqx.browser.version)||b.focus(),w=b,setTimeout(function(){var e,t=w.val().length;y||w.focus();try{"selectionStart"in w[0]?w[0].setSelectionRange(0,t):((e=w[0].createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",0),e.select())}catch(e){}},10)):(b.attr("disabled",!0),b.attr("readOnly",!0),b.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),b.width(g),b.height(c),Y.jqx.browser.msie&&Y.jqx.browser.version<9&&b.css("line-height",parseInt(c)+"px"),b.css("text-align",u.cellsalign),null==(v=null===v?"":v)&&(v=""),b.val(v),u.createeditor&&(T=v,v=this.getCellValueByKey(e,u.displayfield),u.createeditor(this.treeGrid?e:a,v,b,T,g,c)),this._editors.push({column:u,editor:b}),""==u.cellsFormat||-1==u.cellsFormat.indexOf("p")&&-1==u.cellsFormat.indexOf("c")&&-1==u.cellsFormat.indexOf("n")&&-1==u.cellsFormat.indexOf("f")||b.keydown(function(e){e=e.charCode||e.keyCode||0,e=String.fromCharCode(e),e=parseInt(e);if(isNaN(e))return!0;if(0<o._selection(b).length)return!0;var t,i="",s=b.val();if(1<u.cellsFormat.length?(t=parseInt(u.cellsFormat.substring(1)),isNaN(t)&&(t=0)):t=0,0<t&&-1!=s.indexOf(o.gridlocalization.decimalseparator)&&o._selection(b).start>s.indexOf(o.gridlocalization.decimalseparator))return!0;for(var r=0;r<s.length-t;r++){var n=s.substring(r,r+1);null!=n.match(/^[0-9]+$/)&&(i+=n)}return!(11<=i.length)&&void 0}),u.initeditor&&(T=v,v=this.getCellValueByKey(e,u.displayfield),u.initeditor(this.treeGrid?e:a,v,b,T,g,c));break;case"custom":case"template":this.editorsCache||(this.editorsCache=new Array);var _=Y("<div style='width: 100%; height: 100%; border: none;'></div>").appendTo(x),q=Y.trim(u.datafield).split(" ").join(""),j=(-1!=q.indexOf(".")&&(q=q.replace(".","")),this.editorsCache["templateeditor_"+q]),T=("custom"==u.columntype&&(j=this.editorsCache["customeditor_"+q+"_"+e]),v),v=this.getCellValueByKey(e,u.displayfield);j?((b=j).width(m),b.height(c),b.appendTo(_)):((b=Y("<div style='border: none;'></div>")).width(m),b.height(c),j=b,null===v&&(v=""),"custom"!=u.columntype?this.editorsCache["templateeditor_"+q]=b:this.editorsCache["customeditor_"+q+"_"+e]=b,b.appendTo(_),u.createeditor&&u.createeditor(this.treeGrid?e:a,v,b,T,m,c)),u.initeditor&&u.initeditor(this.treeGrid?e:a,v,b,T,m,c),this._editors.push({column:u,editor:b})}}}this.editKey=e,this.beginUpdate();var C,S,i=this.getrowdisplayindex(s);this._raiseEvent("rowBeginEdit",{key:e,index:i,boundIndex:a,row:this.rowsByKey[e]}),r&&(S=C=null,(s=this.rowsByKey[e])&&(C=s[t.datafield],S=s[t.displayfield]),this._raiseEvent("cellBeginEdit",{value:C,displayValue:S,key:e,index:i,dataField:t.datafield,displayField:t.displayfield,boundIndex:a,row:this.rowsByKey[e]})),this.endUpdate(!1)},_toNumber:function(e){-1<(e=(e=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s}(e=-1<(e=e.indexOf||null==e?e:e.toString()).indexOf(this.gridlocalization.currencysymbol)?e.replace(this.gridlocalization.currencysymbol,""):e,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)&&(e=e.replace(this.gridlocalization.percentsymbol,""));for(var t="",i=0;i<e.length;i++){var s=e.substring(i,i+1);"-"===s&&(t+="-"),"."===s&&(t+="."),null!=s.match(/^[0-9]+$/)&&(t+=s)}return e=(e=t).replace(/ /g,"")},_geteditorvalue:function(e,t,i,s){var r=new String;if(t){if(!e.geteditorvalue){if(e.columntype,r=t.val(),""!=e.cellsFormat){var n,o="string",a=this.source.datafields||(this.source._source?this.source._source.datafields:null),a=(a&&(n="",Y.each(a,function(){if(this.name==e.displayfield)return this.type&&(n=this.type),!1}),n&&(o=n)),"number"===o||"float"===o||"int"===o||"integer"===o),l="date"===o||"time"===o;if(a||"string"===o&&(-1!=e.cellsFormat.indexOf("p")||-1!=e.cellsFormat.indexOf("c")||-1!=e.cellsFormat.indexOf("n")||-1!=e.cellsFormat.indexOf("f"))){if(""===r&&e.nullable)return"";r=this._toNumber(r),r=new Number(r),isNaN(r)&&(r="")}if(l||"string"===o&&(-1!=e.cellsFormat.indexOf("H")||-1!=e.cellsFormat.indexOf("m")||-1!=e.cellsFormat.indexOf("M")||-1!=e.cellsFormat.indexOf("y")||-1!=e.cellsFormat.indexOf("h")||-1!=e.cellsFormat.indexOf("d"))){if(""===r&&e.nullable)return"";a=r;!("Invalid Date"==(r=new Date(r))||null==r||1<e.cellsFormat.length)||"Invalid Date"!=(r=Y.jqx.dataFormat?Y.jqx.dataFormat.parsedate(a,e.cellsFormat,this.gridlocalization):r)&&null!=r||(r="")}}e.displayfield!=e.datafield&&(r={label:r,value:r})}e.geteditorvalue&&(l=this.getCellValueByKey(s,e.displayfield),r=e.geteditorvalue(this.treeGrid?s:i,l,t))}return r},_validateEditors:function(e){for(var t=this,i=!0,s=t.rowsByKey[e],r=t.getrowindex(s),n=t._editors,e=t.editKey,o=t._getuirow(e),a=0;a<n.length;a++){var l=n[a].editor,d=n[a].column,h=t._geteditorvalue(d,l,r,e);if(d.validation){l.removeClass(t.toThemeProperty("jqx-grid-validation-label"));var c=d.datafield;try{var u=d.validation({value:h,row:e,datafield:d.datafield,displayfield:d.displayfield,column:d},h),p=t.gridlocalization.validationstring;null!=u.message&&(p=u.message),("boolean"==typeof u?u:u.result)||(null!=u.showmessage&&1!=u.showmessage||t._showvalidationpopup(o,c,p,l),i=!1)}catch(e){t._showvalidationpopup(o,c,t.gridlocalization.validationstring,l),i=!1}}}return i},endroweditbykey:function(d,e){var h=this;if(null!==h.editKey){if(this.endEdit)if(!1===this.endEdit(d))return;var c=h.rowsByKey[d],u=h.getrowindex(c),p=h._editors,m=h.editKey;h._getuirow(m);if(!0!==e){e=!0;if(p&&(e=h._validateEditors(m))){for(var t=Y.extend({},c),g=Y.extend({},c),i=0;i<p.length;i++){var s=p[i].editor,r=p[i].column,s=h._geteditorvalue(r,s,u,m);s&&null!=s.label?(t[r.displayfield]=s.label,t[r.datafield]=s.value):t[r.displayfield]=s}h.updaterowbykey(h.editKey,t,!1,function(){h.dataview._sortHierarchyData=null,h.dataview._sortData=null;for(var e=0;e<p.length;e++){var t,i,s,r,n,o=p[e].editor,a=p[e].column,o=h._geteditorvalue(a,o,u,m),l=g[a.displayfield];o&&null!=o.label?(c[a.displayfield]=o.label,c[a.datafield]=o.value):c[a.displayfield]=o,!h.treeGrid||(t=h.treeGrid.getRow(m))&&(t[a.displayfield]=o),h.editorsCache&&(t=function(e){var t;e&&e.jqxWidget&&((0<=(t=e.jqxWidget.element.className).indexOf("dropdownlist")||0<=t.indexOf("datetimeinput")||0<=t.indexOf("combobox")||0<=t.indexOf("menu"))&&e.jqxWidget.isOpened&&e.jqxWidget.isOpened()&&e.jqxWidget.close())},i="customeditor_"+a.displayfield+"_"+d,s="templateeditor_"+a.displayfield,h.editorsCache[i]&&(r=Y(h.editorsCache[i]).data(),n=h.editorsCache[i],t(r=!r.jqxWidget&&Y(n).children()[0]&&Y(Y(n).children()[0]).data().jqxWidget?Y(Y(n).children()[0]).data():r),h.editorsCache[i].detach()),h.editorsCache[s]&&(h.editorsCache[s].detach(),r=Y(h.editorsCache[s]).data(),n=h.editorsCache[s],t(r=!r.jqxWidget&&Y(n).children()[0]&&Y(Y(n).children()[0]).data().jqxWidget?Y(Y(n).children()[0]).data():r))),o!=l&&(h.beginUpdate(),h._raiseEvent("cellValueChanged",{value:o,oldValue:l,dataField:a.datafield,displayField:a.displayfield,key:d,index:u,row:c}),h.endUpdate(!1))}})}if(!e)return!1}return h._detachEditors(m),!0}},_detachEditors:function(e){var t=this,i=t.rowsByKey[e],s=t.getrowindex(i);if(t.editorsCache)for(var r in t.editorsCache){var n,o=Y(t.editorsCache[r]).data();o&&o.jqxWidget&&((0<=(n=o.jqxWidget.element.className).indexOf("dropdownlist")||0<=n.indexOf("datetimeinput")||0<=n.indexOf("combobox")||0<=n.indexOf("menu"))&&o.jqxWidget.isOpened&&o.jqxWidget.isOpened()&&o.jqxWidget.close()),Y(t.editorsCache[r]).detach()}t.beginUpdate();var a,l,d=t.getrowdisplayindex(i);t.editSettings.editSingleCell&&(l=a=null,(i=t.rowsByKey[e])&&(a=i[t.editColumn.datafield],l=i[t.editColumn.displayfield]),t._raiseEvent("cellEndEdit",{value:a,displayValue:l,key:e,index:d,dataField:t.editColumn.datafield,displayField:t.editColumn.displayfield,boundIndex:s,row:t.rowsByKey[e]})),t._raiseEvent("rowEndEdit",{key:e,index:d,boundIndex:s,row:t.rowsByKey[e]}),t.endUpdate(!1),t.editColumn=null,t.editKey=null,t._renderrows(),t._renderhorizontalscroll(),t.host.focus(),setTimeout(function(){t.host.focus()},10)},_showvalidationpopup:function(e,t,i,s){null==i&&(i=this.gridlocalization.validationstring),s.addClass(this.toThemeProperty("jqx-grid-validation-label"));var r=Y("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),n=Y("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");r.html(i),n.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),r.addClass(this.toThemeProperty("jqx-grid-validation")),r.addClass(this.toThemeProperty("jqx-rc-all")),r.hide(),n.hide(),r.prependTo(this.table),n.prependTo(this.table);var o,a,i=this.hScrollInstance.value,i=parseInt(i),t=this.getColumn(t).uielement;e&&(e=e,r.css("top",parseInt(e.position().top)+30+"px"),a=parseInt(r.css("top")),n.css("top",a-11),n.removeClass(),n.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),o=!1,a>=this._table.height()&&(n.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),n.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),(a=parseInt(e.position().top)-e.outerHeight()-5)<0&&(a=0,n.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),o=!0),r.css("top",a+"px"),n.css("top",a+r.outerHeight()-9)),e=-i+parseInt(Y(t).position().left),a=parseInt(this._table.css("left")),isNaN(a)&&(a=0),n.css("left",(i=0!=a?0:i)+e+30),(a=r.width())+e>this.host.width()-20&&(e-=a+e-this.host.width()+40),o?r.css("left",i+parseInt(Y(t).position().left)-r.outerWidth()):r.css("left",i+e),s.mouseenter(function(){s.hasClass("jqx-grid-validation-label")&&(r.show(),n.show())}),s.mouseleave(function(){r.hide(),n.hide()}),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:r,validationrow:n})},addRow:function(s,r,i,h){if(null==r)return!1;this._datachanged=!0,null==i&&(i="last");var e,n,o,t=!1,a=this.that,c=(null==s?(e=this.dataview.filters&&0<this.dataview.filters.length,n=e?this.source.records.length:this.dataview.totalrecords,this.pageable||(this.source._source.totalrecords?this.dataview.totalrecords=this.source._source.totalrecords:this.source._source.totalRecords?this.dataview.totalrecords=this.source._source.totalRecords:0!==this.source.hierarchy.length?this.dataview.totalrecords=this.source.hierarchy.length:this.dataview.totalrecords=this.source.records.length,n=e?this.source.records.length:this.dataview.totalrecords),Y.isArray(r)?(o=new Array,Y.each(r,function(e,t){var i=a.dataview.getid(a.dataview.source.id,r[e],n+e);o.push(i),a.getColumn(a.dataview.source.id)&&(r[e][a.dataview.source.id]=i)}),s=o):(s=this.dataview.getid(this.dataview.source.id,r,n),this.getColumn(this.dataview.source.id)&&(r[this.dataview.source.id]=s))):Y.isArray(r)?Y.each(r,function(e,t){var i=s[e];a.getColumn(a.dataview.source.id)&&(r[e][a.dataview.source.id]=i)}):this.getColumn(this.dataview.source.id)&&(r[this.dataview.source.id]=s),!!this.treeGrid&&!!this.treeGrid.virtualModeCreateRecords),l=function(s,r,e,n){if(s._loading)throw new Error("jqxDataTable: "+s.loadingErrorMessage);var t,i,o,a,l=s.vScrollInstance.value,d=!1;return Y.isArray(e)?Y.each(e,function(e,t){var i=null;null!=r&&null!=r[e]&&(i=r[e]),this.uid=i,s.rowsByKey[i]=this,r==h&&(h=null),d=s.source.addRecord(this,n,h,c)}):(e.uid=r,s.rowsByKey[r]=e,r==h&&(h=null),d=s.source.addRecord(e,n,h,c)),s.groups&&0<s.groups.length&&(t=Object.prototype.toString,i=s.groups[0],Object.prototype.toString="function"==typeof i?i:function(){return this[i]},s.source.records.sort||(o=new Array,a=0,Y.each([],function(){o[0+a++]=this}),0),s.source.records.sort(function(e,t){if(void 0===t&&(t=null),null===(e=void 0===e?null:e)&&null===t)return 0;if(null===e&&null!==t)return-1;if(null!==e&&null===t)return 1;var i=0,s=0;if(e&&e.uid&&(i=e.uid),t&&t.uid&&(s=t.uid),e=e.toString(),t=t.toString(),Y.jqx.dataFormat.isNumber(e)&&Y.jqx.dataFormat.isNumber(t))return e<t?-1:t<e?1:0;if(Y.jqx.dataFormat.isDate(e)&&Y.jqx.dataFormat.isDate(t))return e<t?-1:t<e?1:0;Y.jqx.dataFormat.isNumber(e)||Y.jqx.dataFormat.isNumber(t)||(e=String(e).toLowerCase(),t=String(t).toLowerCase());try{if(e<t)return-1;if(t<e)return 1}catch(e){}if("number"==typeof i){if(i<s)return-1;if(s<i)return 1}return 0}),Object.prototype.toString=t),s.dataview._filteredData=null,s.dataview._sortData=null,(s.dataview._sortHierarchyData=null)!=s._updating&&0!=s._updating||s.refresh(),s.source&&s.source._knockoutdatasource&&!s._updateFromAdapter&&s.autokoupdates&&s.source._source._localdata&&(s.source.suspendKO=!0,s.source._source._localdata.push(e),s.source.suspendKO=!1),s.vScrollInstance.setPosition(l),d};if(this.source.addrow){function d(e,t){1!=e&&null!=e||l(a,s=null!=t?t:s,r,i)}try{null==(t=a.treeGrid?this.source.addrow(s,r,i,h,d):this.source.addrow(s,r,i,d))&&(t=!0)}catch(e){t=!1}if(0==t)return!1}else l(this,s,r,i);return t},deleteRow:function(e){e=this._getkey(e);this.deleterowbykey(e)},deleterowbykey:function(t){if(null==t)return!1;function i(r,e){if(r._loading)throw new Error("jqxDataTable: "+r.loadingErrorMessage);r.dataview._filteredData=null,r.dataview._sortData=null,r.dataview._sortHierarchyData=null;var t,i,s,n,o=!1,a=r.vScrollInstance.value;return Y.isArray(e)?Y.each(e,function(){var e,t,i,s;r.rowsByKey[this]&&(o=!0,r.rowinfo[this].selected&&r.unselectrowbykey(this,!1),r.treeGrid&&(e=r._names(),t=r.rowsByKey[this][e.parent]),delete r.rowsByKey[this],r.treeGrid&&r.rowinfo[this]&&(i=r.rowinfo[this].row.records,s=function(e){for(var t=0;t<e.length;t++){var i=e[t].uid;delete r.rowsByKey[i],delete r.rowinfo[i],e[t].records&&s(e[t].records)}},i&&(s(i),delete r.rowinfo[this])),r.source.deleteRecord(this),t&&e&&t.records&&0==t.records.length&&(t[e.leaf]=!0,r.rowinfo[t.uid][e.leaf]=!0))}):(o=!1,r.rowsByKey[e]&&(o=!0,r.rowinfo[e]&&r.rowinfo[e].selected&&r.unselectrowbykey(e,!1),r.treeGrid&&(t=r._names(),i=r.rowsByKey[e][t.parent]),delete r.rowsByKey[e],r.treeGrid&&r.rowinfo[e]&&(s=r.rowinfo[e].row.records,n=function(e){for(var t=0;t<e.length;t++){var i=e[t].uid;delete r.rowsByKey[i],delete r.rowinfo[i],e[t].records&&n(e[t].records)}},s&&n(s)),delete r.rowinfo[e],r.source.deleteRecord(e),i&&t&&i.records&&0==i.records.length&&(i[t.leaf]=!0,r.rowinfo[i.uid][t.leaf]=!0))),r.refresh(),r.source&&r.source._knockoutdatasource&&!r._updateFromAdapter&&r.autokoupdates&&r.source._source._localdata&&(r.source.suspendKO=!0,r.source._source._localdata.pop(),r.source.suspendKO=!1),r.vScrollInstance.setPosition(a),o}var s=!(this._datachanged=!0),r=this.that;if(this.source.deleterow)try{this.source.deleterow(t,function(e){1!=e&&null!=e||i(r,t)}),null==s&&(s=!0)}catch(e){s=!1}else s=i(r,t);return s},updateRow:function(e,t){e=this._getkey(e);this.updaterowbykey(e,t)},updaterowbykey:function(t,i,s,r){if(null==t||null==i)return!1;function n(r,e,n){if(r._loading)throw new Error("jqxDataTable: "+r.loadingErrorMessage);r.dataview._filteredData=null,r.dataview._sortData=null,r.dataview._sortHierarchyData=null;var t,o=!1,i=(Y.isArray(e)?Y.each(e,function(i,e){function t(e,t){s?s[this]=n[i]:o=!1,o=!0}var s=r.rowsByKey[this];t(),r.treeGrid&&(s=r.treeGrid.getRow(this),t())}):((i=function(e){if(e){for(var t=0;t<r.columns.records.length;t++)e[r.columns.records[t].datafield]=n[r.columns.records[t].datafield],0<r.groups.length&&e.originalRecord&&(e.originalRecord[r.columns.records[t].datafield]=n[r.columns.records[t].datafield]);o=!0}else o=!1})(t=r.rowsByKey[e]),r.treeGrid&&i(t=r.treeGrid.getRow(e))),r.vScrollInstance.value);return null!=s&&1!=s||null!=r._updating&&0!=r._updating||r._renderrows(),r.showAggregates&&r._updatecolumnsaggregates&&r._updatecolumnsaggregates(),r.source&&r.source._knockoutdatasource&&!r._updateFromAdapter&&r.autokoupdates&&r.source._source._localdata&&(t=r.rowsByKey[e],e=r.getrowindex(t),e=r.source._source._localdata()[e],r.source.suspendKO=!0,r.source._source._localdata.replace(e,Y.extend({},t)),r.source.suspendKO=!1),r.vScrollInstance.setPosition(i),o}var o=this.that,a=!1;if(this.source.updaterow)try{null==(a=this.source.updaterow(t,i,function(e){1!=e&&null!=e||(n(o,t,i),r&&r(),o._renderrows(!1),o.autoRowHeight&&(o._updateScrollbars(),o._arrange()))}))&&(a=!0)}catch(e){a=!1}else(a=n(o,t,i))&&r&&r(),o._renderrows(!1),o.autoRowHeight&&(o._updateScrollbars(),o._arrange());return a},lockRow:function(e){e=this._getkey(e);this.lockrowbykey(e)},unlockRow:function(e){e=this._getkey(e);this.unlockrowbykey(e)},lockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!0:this.rowinfo[e]={locked:!0},this._renderrows()},unlockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!1:this.rowinfo[e]={locked:!1},this._renderrows()},selectRow:function(e){e=this._getkey(e);this.selectrowbykey(e)},unselectRow:function(e){e=this._getkey(e);this.unselectrowbykey(e)},selectrowbykey:function(e,t,i){"keyboard"!=t&&"mouse"!=t&&(this._lastSelectedKey=e);this._doSelection(e,!0,!1!==i);t=this.rowsByKey[e],i=this.getrowindex(t),t=this.getrowdisplayindex(t);this._raiseEvent("rowSelect",{key:e,index:t,boundIndex:i,row:this.rowsByKey[e]})},unselectrowbykey:function(e,t){this._doSelection(e,!1,!1!==t);var t=this.rowsByKey[e],i=this.getrowindex(t),t=this.getrowdisplayindex(t);this._raiseEvent("rowUnselect",{key:e,index:t,boundIndex:i,row:this.rowsByKey[e]})},getSelection:function(){var e=new Array;if(this.rowinfo)for(var t in this.rowinfo){t=this.rowinfo[t];t.selected&&e.push(t.row)}return e},showdetailsbykey:function(e){var t,i,s,r,n;!this.rowDetails||(t=this.rowinfo[e])&&(t.expanded=!0,s=Y(this._table.children()[1]).children("[data-key="+e+"]"),r=Y(this._pinnedTable.children()[1]).children("[data-key="+e+"]"),s&&(i=r.children(),n=Y(i[0]),this.rtl&&(n=Y(i[i.length-1])),this.rtl?(n.removeClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),n.addClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),n.removeClass(this.toThemeProperty("jqx-icon-arrow-left"))):(n.removeClass(this.toThemeProperty("jqx-grid-group-collapse")),n.addClass(this.toThemeProperty("jqx-grid-group-expand")),n.removeClass(this.toThemeProperty("jqx-icon-arrow-right"))),n.addClass(this.toThemeProperty("jqx-icon-arrow-down")),s.next().show(),(i=r.next()).show(),Y.jqx.browser.msie&&Y.jqx.browser.version<8&&(s.next().children().show(),r.next().children().show()),t.initialized||(n=t.detailsHeight,s=this.initRowDetails(e,t.row,Y(Y(i).children().children().children()[0]),t),t.details=Y(i).children().children().children()[0],!(t.initialized=!0)!==s&&t.detailsHeight==n||(!1===s&&(t.expanded=!1,t.nodetails=!0,i.hide()),this._renderrows())),this._updateScrollbars(),"auto"!==this.height&&null!==this.height&&!this.autoheight||this._arrange(),r=this.getrowindex(t.row),n=this.getrowdisplayindex(t.row),this._raiseEvent("rowExpand",{row:t.row,index:n,boundIndex:r,rowKey:e})))},hidedetailsbykey:function(e){var t,i,s,r,n;!this.rowDetails||(t=this.rowinfo[e])&&(t.expanded=!1,i=Y(this._table.children()[1]).children("[data-key="+e+"]"),s=Y(this._pinnedTable.children()[1]).children("[data-key="+e+"]"),i&&(r=s.children(),n=Y(r[0]),this.rtl&&(n=Y(r[r.length-1])),this.rtl?(n.addClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),n.removeClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),n.addClass(this.toThemeProperty("jqx-icon-arrow-left"))):(n.addClass(this.toThemeProperty("jqx-grid-group-collapse")),n.removeClass(this.toThemeProperty("jqx-grid-group-expand")),n.addClass(this.toThemeProperty("jqx-icon-arrow-right"))),n.removeClass(this.toThemeProperty("jqx-icon-arrow-down")),i.next().hide(),s.next().hide(),Y.jqx.browser.msie&&Y.jqx.browser.version<8&&(i.next().children().hide(),s.next().children().hide()),this._updateScrollbars(),"auto"!==this.height&&null!==this.height&&!this.autoheight||this._arrange(),r=this.getrowindex(t.row),n=this.getrowdisplayindex(t.row),this._raiseEvent("rowCollapse",{row:t.row,index:n,boundIndex:r,rowKey:e})))},_getvirtualcolumnsindexes:function(e,t,i,s,r){if(this.rowDetails||this.rtl||this.editcell||this.width&&0<=this.width.toString().indexOf("%")||this.exporting)return{start:0,end:i+s};var n=0,o=-1,a=i+s;if(this.autorowheight)return{start:0,end:i+s};if(!r)for(var l=0;l<i+s;l++)if(this.columns.records[l].hidden||(n+=this.columns.records[l].width),e<=n&&-1==o&&(o=l),t+e<n){a=l;break}return{start:o=-1==o?0:o,end:a=i+s<++a?i+s:a}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value,i=("hidden"===this.hScrollBar.css("visibility")&&(t=e.value=0),parseInt(t));if(null!=this.table){var s=this.columnsrow,r=+this.columns.records.length,n=this.columns.records,o=0==this.source.records.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),o&&!this._haspinned)this.table[0].style.left=-i+"px",s[0].style.marginLeft=-i+"px";else{if(this._haspinned||null==this._haspinned){for(var a,l,d=0;d<0+r;d++)n[d].pinned&&(a=null,this.showAggregates&&this.statusbar[0].cells&&(a=this.statusbar[0].cells[d]),this.filterrow&&this.filterrow[0].cells&&(l=this.filterrow[0].cells[d]),this.rtl?(s[0].cells[d].style.marginLeft=-parseInt(t)+"px",a&&(a.style.marginLeft=-parseInt(t)+"px"),this.filterrow&&l&&(l.style.marginLeft=-parseInt(t)+"px")):(s[0].cells[d].style.marginLeft=i+"px",a&&(a.style.marginLeft=i+"px"),this.filterrow&&l&&(l.style.marginLeft=i+"px")));if(this.columnsVirtualization){for(var h=(g=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1)).start,c=g.end,u=0;u<h;u++){var p=u,m=this.columns.records[p].element[0];this.columns.records[p].pinned||(m.parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0]&&(f=this.filterrow[0].cells[p]).parentNode&&f.parentNode.removeChild(f))}for(u=c;u<this.columns.records.length;u++){p=u,m=this.columns.records[p].element[0];this.columns.records[p].pinned||(m.parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0]&&(f=this.filterrow[0].cells[p]).parentNode&&f.parentNode.removeChild(f))}for(u=h;u<c;u++){p=u;m=this.columns.records[p].element[0],this.columns.records[p].pinned||(m.parentNode||this.columnsrow[0].appendChild(m),this.filterrow&&this.filterrow[0]&&((f=this.filterrow[0].cells[p]).parentNode||this.filterrow[0].appendChild(f)))}}this._table[0].style.left=-i+"px",s[0].style.marginLeft=-i+"px"}else if(0==this._haspinned){if(this.columnsVirtualization){for(var g,h=(g=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1)).start,c=g.end,u=0;u<h;u++){p=u;(m=this.columns.records[p].element[0]).parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0]&&(f=this.filterrow[0].cells[p]).parentNode&&f.parentNode.removeChild(f)}for(u=c;u<this.columns.records.length;u++){p=u;(m=this.columns.records[p].element[0]).parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0]&&(f=this.filterrow[0].cells[p]).parentNode&&f.parentNode.removeChild(f)}for(u=h;u<c;u++){var f,p=u;(m=this.columns.records[p].element[0]).parentNode||this.columnsrow[0].appendChild(m),this.filterrow&&this.filterrow[0]&&((f=this.filterrow[0].cells[p]).parentNode||this.filterrow[0].appendChild(f))}}this.table[0].style.left=-i+"px",s[0].style.marginLeft=-i+"px"}this.filterrow&&(this.filterrow[0].style.left=-i+"px",this.rtl&&(this.filterrow[0].style.left=-i+parseInt(this.content.css("left"))+"px"))}this.showAggregates&&this.aggregates[0].cells&&(e=0,this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&(e="hidden"!=this.hScrollBar.css("visibility")?2+parseInt(this.hScrollBar.css("left")):3+parseInt(this.vScrollBar.width())),this.aggregates[0].style.marginLeft=-i+e+"px")}},_initializeColumns:function(){var e=this.source.datafields,i=!!(e=null==e&&this.source._source?this.source._source.datafields:e)&&0<e.length;if(this.columns&&this.columns.records)for(var t=0;t<this.columns.records.length;t++)this._removecolumnhandlers(this.columns.records[t]);var s,r=this,n=new Y.jqx.dataCollection(this.element),o=0,a=(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,"checkbox"==this.selectionMode&&((s=new R(r,this)).visibleindex=o++,s.width=r.indentWidth,s.checkboxcolumn=!0,s.editable=!1,s.columntype="checkbox",s.groupable=!1,s.draggable=!1,s.filterable=!1,s.resizable=!1,s.datafield="_checkboxcolumn",n.add(s)),this.rowDetails&&!this.treeGrid&&((s=new R(r,this)).visibleindex=o++,s.width=r.indentWidth,s.editable=!1,s.rowDetailscolumn=!0,s.groupable=!1,s.draggable=!1,s.pinned=!0,s.filterable=!1,s.resizable=!1,s.text="",n.add(s)),new Array);Y.each(this.columns,function(e){if(null!=r.columns[e]){var t=new R(r,this);if(t.visibleindex=o++,null!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(r._haspinned=!0),null==this.datafield)r.source&&r.source._source&&"array"==r.source._source.datatype&&(i||(r.source._source.datafields||(r.source._source.datafields=new Array),r.source._source.datafields.push({name:e.toString()})),this.datafield=e.toString(),this.displayfield=e.toString(),t.datafield=this.datafield,t.displayfield=this.displayfield);else{if(a[this.datafield])throw new Error("jqxDataTable: Invalid column 'dataField' setting. jqxDataTable's columns should be initialized with unique data fields.");a[this.datafield]=!0}n.add(t)}}),this.rtl&&n.records.reverse(),this.columns=n},addFilter:function(e,t){this.getColumn(e)&&this.dataview.addFilter(e,t)},removeFilter:function(e){this.getColumn(e)&&this.dataview.removeFilter(e)},clearFilters:function(e,t){this.dataview.filters=new Array,this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,!1!==t&&this.resetfilter(),!1!==e&&this.applyFilters()},resetfilter:function(){if(this.filterinput&&this.filterinput.val(""),this.filterrow)for(var e=0;e<this.filterrow[0].cells.length;e++){var t=this.filterrow[0].cells[e],i=Y(t).find("input:first"),t=Y(t).find(".filterconditions"),s=this.columns.records[e];if(s.filterable){i.val("");var r,i=this.getcolumntypebydatafield(s),n=new Y.jqx.filter;switch(i){case"number":case"int":case"float":case"decimal":n.getoperatorsbyfiltertype(r="numericfilter");break;case"boolean":case"bool":n.getoperatorsbyfiltertype(r="booleanfilter");break;case"date":case"time":n.getoperatorsbyfiltertype(r="datefilter");break;case"string":n.getoperatorsbyfiltertype(r="stringfilter")}0<t.length&&("stringfilter"===r?t.jqxDropDownList({selectedIndex:2}):t.jqxDropDownList({selectedIndex:0}))}}},applyFilters:function(){var e;this.editable&&null!=this.editKey&&this.endroweditbykey(this.editKey),this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this.serverProcessing?(this.dataview.pagenum=0,this.updateBoundData("filter")):(this.goToPage(0),this.refresh()),arguments&&0<arguments.length&&(this._updateSimpleFilter&&this.filtercolumnsList&&(e=this.filtercolumnsList.jqxDropDownList("getSelectedItem").value,this._updateSimpleFilter(e)),this._updateFilterRow&&this._updateFilterRow()),this._raiseEvent("filter",{filters:this.dataview.filters})},sortBy:function(e,t){if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);var i,s;this.editable&&null!=this.editKey&&this.endroweditbykey(this.editKey),null==e&&(t=null,e=this.sortcolumn),e&&(s="a"==t||"asc"==t||"ascending"==t||1==t,(i=this).sortdirection=null!=t?{ascending:s,descending:!s}:{ascending:!1,descending:!1},i.sortcolumn=null!=t?e:null,i.source.sort&&(i.dataview.sortfield=e,i.dataview.sortfielddirection=null==t?"":s?"asc":"desc",i.source.sort&&!this._loading&&i.source.sort(e,t)),i.dataview.sortBy(e,t),i._raiseEvent("sort",{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection})),this.serverProcessing?this.updateBoundData("sort"):this.refresh()},_togglesort:function(e){var t,i;this.disabled||e.sortable&&this.sortable&&(i=(i=null)==(t={sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}).sortcolumn||t.sortcolumn!=e.displayfield||1!=(i=t.sortdirection.ascending)&&null,this.sortBy(e.displayfield,i))},_renderfilter:function(){for(var a=this,e=Y("<div style='position: relative; margin: 4px;'><input style='width: 200px; height: 22px; direction: ltr;' role='textbox' type='text'/><div style='cursor: pointer; height: 100%;'><div></div></div></div>"),o=(e.height(22),e.find("input")),l=e.find("div:first"),t=(e.addClass(this.toThemeProperty("jqx-rc-all")),e.addClass(this.toThemeProperty("jqx-widget")),e.addClass(this.toThemeProperty("jqx-input-group")),o.addClass(this.toThemeProperty("jqx-input")),o.addClass(this.toThemeProperty("jqx-rc-l")),o.addClass(this.toThemeProperty("jqx-input-group-addon")),o.addClass(this.toThemeProperty("jqx-widget")),o.addClass(this.toThemeProperty("jqx-widget-content")),l.addClass(this.toThemeProperty("jqx-fill-state-normal")),l.addClass(this.toThemeProperty("jqx-rc-r")),l.addClass(this.toThemeProperty("jqx-input-group-addon")),l.find("div").addClass(this.toThemeProperty("jqx-icon-search")),this.rtl&&(o.addClass(this.toThemeProperty("jqx-rtl")),o.css("direction","rtl")),this.filter.children().remove(),this.filterbutton=l,new Array),i=0;i<a.columns.records.length;i++)a.columns.records[i].datafield&&a.columns.records[i].filterable&&t.push({label:a.columns.records[i].text,value:a.columns.records[i].displayfield});function r(e){a.filterinput.val("");for(var t=0;t<a.dataview.filters.length;t++){var i=a.dataview.filters[t];i.datafield===e&&a.filterinput.val(i.filter.getfilterat(0).filtervalue)}}function s(){if(!l.hasClass("jqx-fill-state-disabled")){function e(e,t,i){var s=new Y.jqx.filter,r=a.getcolumntypebydatafield(e),r=a._getfiltertype(r);return e="datefilter"==r?s.createfilter(r,t,"EQUAL",null,e.cellsFormat,a.gridlocalization):"numericfilter"==r||"booleanfilter"==r?("numericfilter"==r&&0<=(t=0<=(t=","==a.gridlocalization.decimalseparator&&0<=t.indexOf(a.gridlocalization.decimalseparator)?t.replace(a.gridlocalization.decimalseparator,"."):t).indexOf(a.gridlocalization.currencysymbol)?t.replace(a.gridlocalization.currencysymbol,""):t).indexOf(a.gridlocalization.percentagesymbol)&&(t=t.replace(a.gridlocalization.percentagesymbol,"")),s.createfilter(r,t,"EQUAL",null,e.cellsFormat,a.gridlocalization)):s.createfilter(r,t,"CONTAINS"),s.operator=i,s.addfilter(0,e),s}var t,i=o.val();h.jqxDropDownList&&(t=h.jqxDropDownList("getSelectedItem"));if("simple"!==a.filterMode)t&&(t=t.value,n=e(r=a.getColumn(t),i,"and"),0<i.length?(a.removeFilter(t),a.addFilter(t,n)):a.removeFilter(t),a.applyFilters(),"advanced"===a.filterMode&&a._updateFilterRow&&a._updateFilterRow(!0));else{if(a.clearFilters(!1,!1),0<i.length)for(var s=0;s<a.columns.records.length;s++){var r,n=e(r=a.columns.records[s],i,"or");a.addFilter(r.datafield,n)}a.applyFilters()}0==a.dataview.filters.length?a.filtericon.fadeOut(200):a.filtericon.fadeIn(200)}}var n=t.length<10,d=Y("<div style='position: relative; top: 50%; display: none; margin-right: 4px; margin-left: 4px; float: left;'>"+this.gridlocalization.filtersearchstring+"</div>"),h=(this.filter.append(d),Y("<div class='filtercolumns' style='position: relative; margin: 4px; float: left;'></div>")),d=(this.filter.append(h),h.jqxDropDownList&&h.jqxDropDownList({theme:this.theme,enableBrowserBoundsDetection:!0,autoDropDownHeight:n,rtl:a.rtl,dropDownWidth:220,selectedIndex:0,width:"auto",height:20,source:t,displayMember:"label",valueMember:"value"}),this.filtercolumnsList=h,35!==a.filterHeight&&(a.filtercolumnsList.css("margin-top",a.filterHeight/2-10),e.css("margin-top",a.filterHeight/2-10)),a._updateSimpleFilter=r,this.addHandler(h,"select",function(e){e=e.args.item.value;r(e)}),"simple"===this.filterMode?(this.filtercolumnsList.hide(),d.show(),d.css("margin-top",-this.filter.height()/2),e.css("float","left")):(this.filtercolumnsList.show(),d.hide()),o.keydown(function(e){if(13===e.keyCode)return s(),e.preventDefault&&e.preventDefault(),!1}),l.click(function(){s()}),this.filterinput=o,this.filter.append(e),"advanced"==this.filterMode&&(n=Y("<a style='float: left; position: relative; margin: 2px; margin-left: 10px;' href='#'>"+this.gridlocalization.filterstring+"</a>"),e.append(n),this.addHandler(n,"click",function(e){function t(e){if(a.filterrow)for(var t=0;t<a.filterrow[0].cells.length;t++){var i=a.filterrow[0].cells[t],s=Y(i).find("input:first"),r=a.columns.records[t];if(r.filterable){!0===e&&s.val("");for(var n=0;n<a.dataview.filters.length;n++){var o=a.dataview.filters[n];if(o.datafield===r.displayfield){s.val(o.filter.getfilterat(0).filtervalue);break}}}}}function i(e){if(a.filterrow)for(var t=0;t<a.filterrow[0].cells.length;t++){var i=a.filterrow[0].cells[t],s=Y(i).find("input:first"),r=a.columns.records[t];r.hidden?i.style.visibility="hidden":i.style.visibility="inherit",r.filterable&&(i.style.left=parseInt(0)+parseInt(r.uielement[0].style.left)+"px",i.style.width=6+r.width+"px",s[0]&&(s[0].style.width=r.width-6-22+"px"))}}function s(){a.filtercolumnsList.jqxDropDownList({disabled:!0}),a.filterinput.addClass(a.toThemeProperty("jqx-fill-state-disabled")),a.filterinput.attr("disabled",!0),a.filterbutton.addClass(a.toThemeProperty("jqx-fill-state-disabled"))}a._updateFilterRow=t,a._arrangeFilterRow=i;return 0===a.filter.find(".filterrow").length?(a._renderadvancedfilter(),s(),t(),a._arrange(),i()):("none"===a.filter.find(".filterrow").css("display")?(s(),a.filter.find(".filterrow").removeClass("filterrow-hidden"),t(),a.filter.find(".filterrow").show(),i()):(a.filtercolumnsList.jqxDropDownList({disabled:!1}),a.filterinput.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),a.filterinput.attr("disabled",!1),a.filterbutton.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),r(a.filtercolumnsList.jqxDropDownList("getSelectedItem").value),a.filter.find(".filterrow").addClass("filterrow-hidden"),a.filter.find(".filterrow").hide()),a._arrange()),!1})),Y("<div style='float: left; width: 16px; height: 16px; position: relative; margin: 3px;'></div>"));d.attr("title",a.gridlocalization.filterclearstring),d.addClass(a.toThemeProperty("jqx-icon-close")),e.append(d),d.hide(),(a.filtericon=d).click(function(){a.clearFilters(),a.filtericon.fadeOut(200)}),0<a.dataview.filters.length&&("advanced"!=a.filterMode?r(a.dataview.filters[0].datafield):a._updateFilterRow&&a._updateFilterRow())},_renderadvancedfilter:function(){function t(){h.clearFilters(!1,!1);for(var e=h.filtercolumnsList.jqxDropDownList("getSelectedItem").value,t=(h.filterinput.val(),0);t<h.filterrow[0].cells.length;t++){var i=h.filterrow[0].cells[t],s=Y(i).find("input:first"),i=Y(i).find(".filterconditions"),r=h.columns.records[t],n="";if(r.filterable){r.displayfield===e&&h.filterinput.val(s.val());var o,a,l=h.getcolumntypebydatafield(r),d=new Y.jqx.filter;switch(l){case"number":case"int":case"float":case"decimal":a=d.getoperatorsbyfiltertype(o="numericfilter");break;case"boolean":case"bool":a=d.getoperatorsbyfiltertype(o="booleanfilter");break;case"date":case"time":a=d.getoperatorsbyfiltertype(o="datefilter");break;case"string":a=d.getoperatorsbyfiltertype(o="stringfilter")}n=0!=i.length&&(l=i.jqxDropDownList("getSelectedItem"))?a[l.index]:"stringfilter"===o?a[2]:a[0];i=s.val();(0<i.length||0==i.length&&"NOT_NULL"==n||0==i.length&&"NOT_EMPTY"==n||0==i.length&&"EMPTY"==n||0==i.length&&"NULL"==n)&&(l=r.displayfield,s=new Y.jqx.filter,"numericfilter"==o&&0<=(i=0<=(i=","==h.gridlocalization.decimalseparator&&0<=i.indexOf(h.gridlocalization.decimalseparator)?i.replace(h.gridlocalization.decimalseparator,"."):i).indexOf(h.gridlocalization.currencysymbol)?i.replace(h.gridlocalization.currencysymbol,""):i).indexOf(h.gridlocalization.percentagesymbol)&&(i=i.replace(h.gridlocalization.percentagesymbol,"")),d=s.createfilter(o,i,n,null,r.cellsFormat,h.gridlocalization),s.addfilter(0,d),h.addFilter(l,s))}}0<h.dataview.filters.length?h.applyFilters():h.clearFilters(),0==h.dataview.filters.length?h.filtericon.fadeOut(200):h.filtericon.fadeIn(200)}var i,o,a,h=this,e=(i=Y("<div style='position: relative;' class='filterrow'></div>").appendTo(h.filter),(h.filterrow=i)[0].cells=new Array,i.height(24),i.width(h.table.width()),o=h.filtercolumnsList.jqxDropDownList("getSelectedItem").value,a=h.filterinput.val(),Y.each(h.columns.records,function(){var s=this,e=Y("<div></div>").appendTo(i);if(e.css("position","absolute"),e.css("left",0+parseInt(s.uielement[0].style.left)),s.pinned&&(e.css("z-index",h.tableZIndex+h.columns.records.length),e.addClass(h.toThemeProperty("jqx-widget-header"))),i[0].cells.push(e[0]),!this.filterable)return!0;var r=Y("<input style='margin-left: 4px; height: 20px; float: left;' role='textbox' type='text'/>").appendTo(e),n=(r.keydown(function(e){13===e.keyCode&&t()}),s.displayfield===o&&r.val(a),r.addClass(h.toThemeProperty("jqx-input")),r.addClass(h.toThemeProperty("jqx-rc-all")),r.addClass(h.toThemeProperty("jqx-widget")),r.addClass(h.toThemeProperty("jqx-widget-content")),Y("<div style='cursor: pointer; margin-left: 4px; margin-bottom: 4px; margin-top: 6px; width: 18px; position: relative; margin-top: 4px; float: left;'></div>").appendTo(e));n.append(Y("<div style='width: 16px; height: 16px;' class='"+h.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>")),r.focus(function(){h.ensureColumnVisible(s.displayfield),h.filter[0].scrollLeft=0,h.ensureColumnVisible(s.displayfield),setTimeout(function(){h.filter[0].scrollLeft=0,h.ensureColumnVisible(s.displayfield)},10)}),n.click(function(){var e=Y("<div class='filterconditions' style='position: relative; margin-top: 1px; float: left;'></div>"),t=(e.insertAfter(n),n.remove(),h.getcolumntypebydatafield(s)),i=h._getfiltersbytype(t),t="string"===t?2:0;e.jqxDropDownList({theme:h.theme,enableBrowserBoundsDetection:!0,renderMode:"simple",arrowSize:0,selectedIndex:t,rtl:h.rtl,dropDownWidth:230,dropDownHeight:180,width:20,height:20,source:i,selectionRenderer:function(){return"<div style='width: 16px; height: 16px;' class='"+h.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>"}}),h.addHandler(e,"close",function(e){r.focus(),setTimeout(function(){r.focus()},10)}),e.removeAttr("tabindex"),e.find("div").removeAttr("tabindex"),e.jqxDropDownList("open")}),r[0].style.width=s.width-6-22+"px"}),Y("<div style='clear: both;'></div>").appendTo(i),Y("<div style='position:relative;' class='filterrow'></div>").appendTo(h.filter)),s=Y("<input type='button' style='position: relative; float: left; margin-top: 4px; margin-left: 4px;' value='"+h.gridlocalization.filterapplystring+"'/>").appendTo(e),e=Y("<input type='button' style='position: relative; float: left; margin-top: 4px;  margin-left: 4px;' value='"+h.gridlocalization.filtercancelstring+"'/>").appendTo(e);s.css("left",0),e.css("left",0),s.css("top","4px"),e.css("top","4px"),s.jqxButton({theme:h.theme}),e.jqxButton({theme:h.theme}),e.click(function(){h.filtercolumnsList.jqxDropDownList({disabled:!1}),h.filterinput.removeClass(h.toThemeProperty("jqx-fill-state-disabled")),h.filterinput.attr("disabled",!1),h.filterbutton.removeClass(h.toThemeProperty("jqx-fill-state-disabled")),h.filter.find(".filterrow").addClass("filterrow-hidden"),h.filter.find(".filterrow").hide(),h._arrange()}),s.click(function(){t()}),h._renderhorizontalscroll()},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":t="datefilter";break;case"string":t="stringfilter"}return t},getcolumntypebydatafield:function(e){var t=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(t){var i="";if(Y.each(t,function(){if(this.name==e.displayfield)return this.type&&(i=this.type),!1}),i)return i}return"string"},_getfiltersbytype:function(e){var t="";switch(e){case"number":case"float":case"int":t=this.gridlocalization.filternumericcomparisonoperators;break;case"date":t=this.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":t=this.gridlocalization.filterbooleancomparisonoperators;break;default:t=this.gridlocalization.filterstringcomparisonoperators}return t},_getcellvalue:function(e,t){var i=null,i=t[e.datafield];return i=null==(i=null!=e.displayfield?t[e.displayfield]:i)?"":i},_renderrows:function(e){if(this.editable&&null!=this.editKey&&!1!==e&&this.endroweditbykey(this.editKey),this.treeGrid)this.treeGrid._renderrows();else if(!this._loading&&!this._updating){this.rendering&&this.rendering();var t,n=this,i=0,s=(this.table[0].rows=new Array,this.toTP("jqx-cell")+" "+this.toTP("jqx-widget-content")),r=(this.rtl&&(s+=" "+this.toTP("jqx-cell-rtl")),this.columns.records.length),o=Y.jqx.browser.msie&&Y.jqx.browser.version<8,a=(o&&this.host.attr("hideFocus","true"),n.groups.length),l=new Array,e=this.source.records,e=this.dataview.evaluate(e);if(this.dataViewRecords=e,"all"==this.dataview.pagesize||!this.pageable||this.serverProcessing?(t=e,this.pageable&&this.serverProcessing&&e.length>this.dataview.pagesize&&(t=e.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize))):t=e.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize),n.groups&&0<n.groups.length){var d=this.pageable?this.dataview.pagesize*this.dataview.pagenum:0,z=(w="root"===this.pageSizeMode?(w=n.source.getGroupedRecords(n.groups,"records","label",null,"data",null,"parent",e,0),n.rootRecordsLength=w.length,function(e){for(var t=0,i=new Array,s=0;s<e.length;s++){var r=e[s];if(0==r.level&&t++,t>n.dataview.pagesize*n.dataview.pagenum&&t<=n.dataview.pagesize*n.dataview.pagenum+n.dataview.pagesize&&i.push(r),t>n.dataview.pagesize*n.dataview.pagenum+n.dataview.pagesize)break}return i}(w)):n.source.getGroupedRecords(n.groups,"records","label",null,"data",null,"parent",t,d),function(e,t){for(var i=0;i<e.length;i++){var s=e[i];if(t.push(s),s.records&&0<s.records.length)for(var r=z(s.records,new Array),n=0;n<r.length;n++)r[n].leaf,t.push(r[n])}return t});t=l=z.call(n,w,new Array),this.rowsByKey=new Array;for(var h=0;h<t.length;h++){var c=t[h];this.rowsByKey[c.uid]=c}}var l=t,u=(this.renderedRecords=l).length,e=this.tableZIndex,p=0,m=0;if(o)for(var g=0;g<r;g++){(C=(C=(v=this.columns.records[g]).width)<v.minwidth?v.minwidth:C)>v.maxwidth&&(C=v.maxwidth);var f=Y('<table><tr><td role="gridcell" style="max-width: '+C+"px; width:"+C+'px;" class="'+s+'"></td></tr></table>'),E=(Y(document.body).append(f),f.find("td")),p=1+parseInt(E.css("padding-left"))+parseInt(E.css("padding-right"));f.remove();break}for(var v,d=this.rtl?" "+this.toTP("jqx-grid-table-rtl"):"",x="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+d+"' id='table"+this.element.id+"'><colgroup>",y="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+d+"' id='pinnedtable"+this.element.id+"'><colgroup>",L=0,g=0;g<r;g++)(v=this.columns.records[g]).hidden?(L++,0):((C=(C=v.width)<v.minwidth?v.minwidth:C)>v.maxwidth&&(C=v.maxwidth),(C-=p)<0&&(C=0),o?(k=C,g==L&&k++,v.rowDetailscolumn?y+="<col style='max-width: "+(k=k+4)+"px; width: "+k+"px;'>":y+="<col style='max-width: "+k+"px; width: "+k+"px;'>",x+="<col style='max-width: "+k+"px; width: "+k+"px;'>"):(y+="<col style='max-width: "+C+"px; width: "+C+"px;'>",x+="<col style='max-width: "+C+"px; width: "+C+"px;'>"),m+=C);x+="</colgroup>",y+="</colgroup>";for(var w,N=this._hiddencolumns=!1,O=(this.rowDetails&&this._pinnedTable&&(this._pinnedTable.find("[data-role=details]").detach(),this._table.find("[data-role=details]").detach()),0===u&&(j='<tr role="row">',w=this.host.height(),this.pageable&&(w-=this.pagerHeight,"both"===this.pagerPosition&&(w-=this.pagerHeight)),w-=this.columnsHeight,this.filterable&&(d=this.filter.find(".filterrow"),B=1,0<this.filter.find(".filterrow-hidden").length&&(B=0),w-=this.filterHeight+this.filterHeight*d.length*B),this.showstatusbar&&(w-=this.statusBarHeight),this.showAggregates&&(w-=this.aggregatesHeight),w<25&&(w=25),"hidden"!=this.hScrollBar[0].style.visibility&&(w-=this.hScrollBar.outerHeight()),"auto"!==this.height&&null!==this.height&&!this.autoheight||(w=300),f='<td colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+w+"px; height: "+w+"px; max-width:"+m+"px; width:"+m+"px;",s=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item"),f=f+('" class="'+(s+=" "+this.toTP("jqx-center-align")))+'">'+this.gridlocalization.emptydatastring,x+=j+=f+="</td>",y+=j,this.table[0].style.width=m+2+"px",i=m),this.getRows()),b=new Array,h=0;h<l.length;h++){for(var _,R,q=(c=l[h]).uid,j=(void 0===c.uid&&(c.uid=this.dataview.generatekey()),'<tr data-key="'+q+'" role="row" id="row'+h+this.element.id+'">'),F='<tr data-key="'+q+'" role="row" id="row'+h+this.element.id+'">',W=(0<a&&c.level<a&&(j='<tr data-role="row-group" data-key="'+q+'" role="row" id="row'+h+this.element.id+'">',F='<tr data-role="row-group" data-key="'+q+'" role="row" id="row'+h+this.element.id+'">'),0),V=0,g=0;g<r;g++){var T=this.columns.records[g];(T.pinned||this.rtl&&this.columns.records[r-1].pinned)&&(N=!0);(C=(C=T.width)<T.minwidth?T.minwidth:C)>T.maxwidth&&(C=T.maxwidth),(C-=p)<0&&(C=0);var C,s=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item"),S=(T.pinned&&(s+=" "+this.toTP("jqx-grid-cell-pinned")),this.sortcolumn===T.displayfield&&(s+=" "+this.toTP("jqx-grid-cell-sort")),this.altRows&&h%2!=0&&(s+=" "+this.toTP("jqx-grid-cell-alt")),this.rtl&&(s+=" "+this.toTP("jqx-cell-rtl")),"");if(0<a&&c.level<a)if(o)s+=" "+this.toTP("jqx-grid-cell-pinned");else{s+=" "+this.toTP("jqx-grid-cell-pinned"),S+=' colspan="'+r+'"';for(var k=0,I=0;I<r;I++){var D=n.columns.records[I],P=D.width;P<D.minwidth&&(C=D.minwidth),P>D.maxwidth&&(C=D.maxwidth),(P-=p)<0&&(P=0),D.hidden||(k+=P)}C=k}var f='<td role="gridcell" '+S+' style="max-width:'+C+"px; width:"+C+"px;",S='<td role="gridcell" '+S+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+C+"px; width:"+C+"px;",A=(g==r-1&&1==r&&(f+="border-right-color: transparent;",S+="border-right-color: transparent;"),!1),M=((A=0<a&&c.level<a?!0:A)?this.rtl&&(s+=" "+this.toTP("jqx-right-align")):"left"!=T.cellsalign&&("right"===T.cellsalign?s+=" "+this.toTP("jqx-right-align"):s+=" "+this.toTP("jqx-center-align")),this.rowinfo[c.uid]&&(this.rowinfo[c.uid].selected&&!T.rowDetailscolumn&&this.editKey!==c.uid&&"none"!==this.selectionMode&&(s=(s+=" "+this.toTP("jqx-grid-cell-selected"))+" "+this.toTP("jqx-fill-state-pressed")),this.rowinfo[c.uid].locked&&(s+=" "+this.toTP("jqx-grid-cell-locked"))),T.hidden?A||(f+="display: none;",S+="display: none;",this._hiddencolumns=!0):(W+=p+C,0==V&&(f+="border-left-width: 0px;",S+="border-left-width: 0px;"),V++),0<a&&o&&A&&a<=g&&(f+="font-size: 1px; border-color: transparent;  color: transparent;",S+="font-size: 1px; border-color: transparent; color: transparent;"),T.pinned&&(f+="pointer-events: auto;",S+="pointer-events: auto;"),!A&&T.rowDetailscolumn&&(this.rowinfo[c.uid]?this.rowinfo[c.uid].nodetails||(this.rowinfo[c.uid].expanded?(this.rtl?s+=" "+this.toTP("jqx-grid-group-expand-rtl"):s+=" "+this.toTP("jqx-grid-group-expand"),s+=" "+this.toTP("jqx-icon-arrow-down")):s=this.rtl?(s+=" "+this.toTP("jqx-grid-group-collapse-rtl"))+" "+this.toTP("jqx-icon-arrow-left"):(s+=" "+this.toTP("jqx-grid-group-collapse"))+" "+this.toTP("jqx-icon-arrow-right")):s=this.rtl?(s+=" "+this.toTP("jqx-grid-group-collapse-rtl"))+" "+this.toTP("jqx-icon-arrow-left"):(s+=" "+this.toTP("jqx-grid-group-collapse"))+" "+this.toTP("jqx-icon-arrow-right")),this.autoRowHeight&&(!this.autoRowHeight||T.autoCellHeight)||(s+=" "+this.toTP("jqx-grid-cell-nowrap ")),n._getcellvalue(T,c)),H=T.cellsFormat;if(0<a&&c.level<a&&(M=c.label,H=n.getColumn(n.groups[c.level]).cellsFormat),""!=H&&Y.jqx.dataFormat&&(Y.jqx.dataFormat.isDate(M)?M=Y.jqx.dataFormat.formatdate(M,H,n.gridlocalization):(Y.jqx.dataFormat.isNumber(M)||!isNaN(parseFloat(M))&&isFinite(M))&&(M=Y.jqx.dataFormat.formatnumber(M,H,n.gridlocalization))),A?this.groupsRenderer&&(M=this.groupsRenderer(M,c,c.level)):(""!=T.cellclassname&&T.cellclassname&&("string"==typeof T.cellclassname?s+=" "+T.cellclassname:(H=T.cellclassname(h,T.datafield,M,c))&&(s+=" "+H)),""!=T.cellsRenderer&&T.cellsRenderer&&(-1===(H=O.indexOf(c))&&c.originalRecord&&(H=O.indexOf(c.originalRecord)),(M=T.cellsRenderer(H,T.datafield,M,c))&&(0<=M.indexOf("<jqx-")||0<=M.indexOf(" ng-"))&&b.push({rowKey:c.uid,row:H,column:T.datafield,value:M,columnIndex:g}))),f=(f+='" class="'+s+'">')+M+"</td>",S=(S+='" class="'+s+'">')+M+"</td>",T.pinned?(F+=f,j+=f):(j+=f,N&&(F+=S)),0<a&&!o&&c.level<a)break}0==i&&(this.table[0].style.width=W+2+"px",i=W),x+=j+="</tr>",y+=F+="</tr>",this.rowinfo[c.uid]?("group"in this.rowinfo[c.uid]||(this.rowinfo[c.uid].group=A),"row"in this.rowinfo[c.uid]||(this.rowinfo[c.uid].row=c),"details"in this.rowinfo[c.uid]||(this.rowinfo[c.uid].details=null),"detailsHeight"in this.rowinfo[c.uid]||(this.rowinfo[c.uid].detailsHeight=200),"initialized"in this.rowinfo[c.uid]||(this.rowinfo[c.uid].initialized=!1),"expanded"in this.rowinfo[c.uid]||(this.rowinfo[c.uid].expanded=!1)):this.rowinfo[c.uid]={group:A,row:c,details:null,detailsHeight:200,initialized:!1,expanded:!1},this.serverProcessing&&(this.rowinfo[c.uid].row=c),this.rowDetails&&(_=this.rowinfo[c.uid].detailsHeight,R=this.rowinfo[c.uid]&&this.rowinfo[c.uid].expanded?'<tr data-role="row-details"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+_+"px; max-height: "+_+"px; height: "+_+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"':'<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+_+"px; max-height: "+_+"px; height: "+_+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"',s=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item"),s=(s+=" "+this.toTP("jqx-details"))+" "+this.toTP("jqx-reset"),x+=R+='" class="'+s+'"><div style="pointer-events: auto; overflow: hidden; min-height: '+_+"px; max-height: "+_+"px; height: "+_+'px;"><div data-role="details"></div></div></td></tr>',y+=R)}if(x+="</table>",y+="</table>",N){n.WinJS?MSApp.execUnsafeLocalFunction(function(){n.table.html(y+x)}):n.table[0].innerHTML=y+x;var d=this.table.find("#table"+this.element.id),B=this.table.find("#pinnedtable"+this.element.id);if(B.css("float","left"),B.css("pointer-events","none"),d.css("float","left"),B[0].style.position="absolute",d[0].style.position="relative",d[0].style.zIndex=e-10,B[0].style.zIndex=e+10,this._table=d,this._table[0].style.left="0px",this._pinnedTable=B,this._pinnedTable[0].style.left="0px",this._pinnedTable[0].style.width=i+"px",this._table[0].style.width=i+"px",this.rtl&&i>parseInt(this.element.style.width)&&this._haspinned&&(this._pinnedTable[0].style.left=3-i+parseInt(this.element.style.width)+"px"),this.rowDetails)for(h=0;h<u;h++){var G,U,q=(c=l[h]).uid;this.rowinfo[q].details&&(G=Y(this._table.children()[1]).children("[data-key="+q+"]"),U=Y(this._pinnedTable.children()[1]).children("[data-key="+q+"]"),G&&(G=U.next(),(U=Y(Y(G).children().children())).children().detach(),U.append(this.rowinfo[c.uid].details)))}}else{n.WinJS?MSApp.execUnsafeLocalFunction(function(){n.table.html(x)}):n.table[0].innerHTML=x;I=this.table.find("#table"+this.element.id);this._table=I,Y.jqx.browser.msie&&Y.jqx.browser.version<10&&(this._table[0].style.width=i+"px"),0===u&&(this._table[0].style.width=2+i+"px")}0===u&&(this._table[0].style.tableLayout="auto",this._pinnedTable&&(this._pinnedTable[0].style.tableLayout="auto")),b&&0<b.length&&(this._table[0].rows,Y.each(b,function(){this.row;var e=this.rowKey,t=(this.column,this.columnIndex),e=n._getuirow(e);e&&(e=e[0].cells[t],Y.jqx.angularCompile&&Y.jqx.angularCompile(e,"<div>"+e.innerHTML+"</div>"))})),this.rendered&&this.rendered()}},getcolumnindex:function(e){e=this.getColumn(e);return this.columns.records.indexOf(e)},setcolumnindex:function(e,t,i){var s,r,n,o,a,e=this.getColumn(e);e.pinned||e.hidden||e.checkboxcolumn||e.grouped||(s=this.columns.records.indexOf(e),this.columns.records.splice(s,1),this.columns.records.splice(t,0,e),r=0,n=this.headerZIndex,this.columnsrow.children().detach(),a=this.toThemeProperty("jqx-grid-cell"),a=(a+=" "+this.toThemeProperty("jqx-grid-cell-pinned"))+" "+this.toThemeProperty("jqx-item"),null!=(o=this).filterrow&&Y(o.filterrow.children()[0]),this.columnsrow[0].cells=[],Y.each(this.columns.records,function(e,t){var i=this.uielement,s=(o.columnsrow.append(i),o.rtl?i.css("z-index",n++):i.css("z-index",n--),o.rtl?250+n+1:250+n-1),s=(this.pinned&&i.css("z-index",s),this.width);i.css("left",r),o.columnsrow[0].cells[o.columnsrow[0].cells.length]=i[0],this.hidden,this.hidden&&this.hideable||(r+=s)}),this.groupable&&0<(a=this.groups.length)&&0<=s-a&&(s-=a,t-=a),this.rowDetails&&0<=s-1&&(s--,t--),"checkbox"==this.selectionMode&&0<=s-1&&(s--,t--),e=this._columns[s],this._columns.splice(s,1),this._columns.splice(t,0,e),this.resize(),this._rendercolumnGroups(),this._raiseEvent("columnReordered",{dataField:e.datafield,oldIndex:s,newIndex:t}))},_pinnedColumnsLength:function(){var e=0;return Y.each(this.columns.records,function(){this.pinned&&e++,this.grouped&&e++}),this.rowDetails&&e++,"checkbox"==this.selectionMode&&e++,e},_handlecolumnsReorder:function(){var e,t,i,a,l=this,d=-1,h=!1;l.columnsReorder&&(e="mousemove.reorder"+this.element.id,t="mousedown.reorder"+this.element.id,i="mouseup.reorder"+this.element.id,a=!1,this.isTouchDevice()&&!0!==this.touchmode&&(a=!0,e=Y.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,t=Y.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,i=Y.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(Y(document),e),this.addHandler(Y(document),e,function(e){if(l.resizing)return!0;if(null!=l.reordercolumn){var t=parseInt(e.pageX),i=parseInt(e.pageY),s=(!a||null!=(s=l.getTouches(e)[0])&&(t=parseInt(s.pageX),i=parseInt(s.pageY)),l.host.coord()),r=parseInt(s.left),s=parseInt(s.top),n=(null!=l.dragmousedownoffset&&null!=l.dragmousedownoffset||(l.dragmousedownoffset={left:0,top:0}),parseInt(t)-parseInt(l.dragmousedownoffset.left)),o=parseInt(i)-parseInt(l.dragmousedownoffset.top);if(l.reordercolumn.css({left:n+"px",top:o+"px"}),h=!1,r<=t&&t<=r+l.host.width()&&s<=i&&i<=s+l.host.height()&&(h=!0),d=-1,h){l.reordercolumnicon.removeClass(l.toThemeProperty("jqx-grid-dragcancel-icon")),l.reordercolumnicon.addClass(l.toThemeProperty("jqx-grid-drag-icon"));n=l.columnsheader.coord(),o=n.top+l.columnsheader.height();if(null!=l.columnsdropline)if(i>=n.top&&i<=o){if(d=l._handlereordercolumnsdroplines(t),l.columnGroups&&-1!=d){r=0,s=(r+=l._pinnedColumnsLength(),d.index);if(r<=s){n=l.columns.records[s];if(null!=n){i=l.columns.records.indexOf(l.getColumn(n.datafield)),o=(null==n.datafield&&(i=l.columns.records.indexOf(l.getcolumnbytext(n.text))),Y.data(l.reordercolumn[0],"reorderrecord")),t=n;if((t=l.columns.records.indexOf(l.getColumn(o))<i&&"before"==d.position?l.columns.records[i-1]:t).columngroup!=l.getColumn(o).columngroup)return void l.columnsdropline.hide()}}}}else l.columnsdropline.fadeOut("slow")}else null!=l.columnsdropline&&l.columnsdropline.fadeOut("slow"),l.reordercolumnicon.removeClass(l.toThemeProperty("jqx-grid-drag-icon")),l.reordercolumnicon.addClass(l.toThemeProperty("jqx-grid-dragcancel-icon"));if(e.preventDefault&&(e.preventDefault(),e.stopPropagation()),a)return e.preventDefault(),e.stopPropagation(),!1}}),this.columnsbounds=new Array,this.removeHandler(Y(document),t),this.addHandler(Y(document),t,function(e){if(l.resizing)return!0;l.columnsbounds=new Array;var i=l.host.coord().left,s=l.host.coord().top,r=(l.showtoolbar&&(s+=l.toolbarHeight),l.filter&&(s+=l.filter.height()),0);Y.each(l.columns.records,function(e){if(this.hidden)return l.columnsbounds[l.columnsbounds.length]={top:s,column:this,left:i,width:0,height:2},!0;0==r&&(i=l.rtl?parseInt(l.host.coord().left)-l.hScrollInstance.max+l.hScrollInstance.value:parseInt(l.host.coord().left)-l.hScrollInstance.value),r++;var t=2+l.columnsHeight;l.columnshierarchy&&(s=Y(this.uielement).coord().top,t=Y(this.uielement).height()),l.columnsbounds[l.columnsbounds.length]={top:s,column:this,left:i,width:this.width,height:t},i+=this.width})}),this.removeHandler(Y(document),i),this.addHandler(Y(document),i,function(e){if(l.resizing)return!0;l.__drag=!1,Y(document.body).removeClass("jqx-disableselect");parseInt(e.pageX),parseInt(e.pageY);a&&(e=l.getTouches(e)[0],parseInt(e.pageX),parseInt(e.pageY));e=l.host.coord();parseInt(e.left),parseInt(e.top);if(l.showtoolbar&&l.toolbarHeight,l.columndragstarted=!1,(l.dragmousedown=null)!=l.reordercolumn){var e=Y.data(l.reordercolumn[0],"reorderrecord"),t=l.columns.records.indexOf(l.getColumn(e)),i=(l.reordercolumn.remove(),l.reordercolumn=null,0);if(i+=l._pinnedColumnsLength(),null!=e){if(h&&-1!=d){var s=d.index;if(i<=s){i=l.columns.records[s];if(null!=i){s=l.columns.records.indexOf(l.getColumn(i.datafield));if(null==i.datafield&&(s=l.columns.records.indexOf(l.getcolumnbytext(i.text))),l.columnGroups)if((i=t<s&&"before"==d.position?l.columns.records[s-1]:i).columngroup!=l.getColumn(e).columngroup)return void(null!=l.columnsdropline&&(l.columnsdropline.remove(),l.columnsdropline=null));t<s?"before"==d.position?l.setcolumnindex(e,s-1):l.setcolumnindex(e,s):s<t&&l.setcolumnindex(e,s)}}}null!=l.columnsdropline&&(l.columnsdropline.remove(),l.columnsdropline=null)}}}))},getcolumnbytext:function(e){var t=null;return this.columns.records&&Y.each(this.columns.records,function(){if(this.text==e)return t=this,!1}),t},_handlereordercolumnsdroplines:function(t){var i=this,s=-1,r=i._pinnedColumnsLength(),n=parseInt(i.host.coord().left)+i.host.width(),o="hidden"!=i.vScrollBar.css("visibility")?19:0;return i.rtl||(o=0),Y.each(i.columnsbounds,function(e){if(r<=e){if(0==this.width)return!0;if(t<=this.left+this.width/2)return n<t?(i.columnsdropline.fadeOut(),!1):(i.columnsdropline.css("left",o+parseInt(this.left)+"px"),i.columnsdropline.css("top",parseInt(this.top)+"px"),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),!(s={index:e,position:"before"}));if(t>=this.left+this.width/2){if(this.left+this.width>n)return i.columnsdropline.fadeOut(),!1;i.columnsdropline.css("left",o+1+this.left+this.width),i.columnsdropline.css("top",this.top),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),s={index:e,position:"after"}}}}),s},_createreordercolumn:function(e,t,i){var s=this,r=(s.reordercolumn&&s.reordercolumn.remove(),s.columnsdropline&&s.columnsdropline.remove(),s.reordercolumn=Y("<div></div>"),e.clone()),n=(s.reordercolumn.css("z-index",999999),r.css("border-width","1px"),r.css("opacity","0.4"),Y(r.find("."+s.toThemeProperty("jqx-grid-column-menubutton")))),n=(0<n.length&&n.css("display","none"),Y(r.find(".jqx-icon-close")));0<n.length&&n.css("display","none"),s.reordercolumnicon=Y('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),s.reordercolumnicon.addClass(s.toThemeProperty("jqx-grid-drag-icon")),s.reordercolumn.css("float","left"),s.reordercolumn.css("position","absolute"),s.host.coord();r.width(e.width()+16),s.reordercolumn.append(r),s.reordercolumn.height(e.height()),s.reordercolumn.width(r.width()),s.reordercolumn.append(s.reordercolumnicon),Y(document.body).append(s.reordercolumn),r.css("margin-left",0),r.css("left",0),r.css("top",0),s.reordercolumn.css("left",t.left+s.dragmousedown.left),s.reordercolumn.css("top",t.top+s.dragmousedown.top),null!=i&&i&&(s.columnsdropline=Y('<div style="z-index: 9999; display: none; position: absolute;"></div>'),s.columnsdropline.width(2),s.columnsdropline.addClass(s.toThemeProperty("jqx-grid-group-drag-line")),Y(document.body).append(s.columnsdropline))},_handlecolumnsdragreorder:function(r,s){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var n=this,o=!1,e=(this.isTouchDevice()&&!0!==this.touchmode&&(o=!0),"mousedown.drag"),a="mousemove.drag";o?(e=Y.jqx.mobile.getTouchEventName("touchstart")+".drag",a=Y.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(s,"dragstart",function(e){return!1}),this.addHandler(s,e,function(e){if(0==r.draggable)return!0;if(n.resizing)return!0;n.__drag=!0;var t=e.pageX,i=e.pageY,s=(o&&(t=(s=n.getTouches(e)[0]).pageX,i=s.pageY),n.dragmousedown={left:t,top:i},Y(e.target).coord());return n.dragmousedownoffset={left:parseInt(t)-parseInt(s.left),top:parseInt(i-s.top)},e.preventDefault&&e.preventDefault(),!0}),this.addHandler(s,a,function(e){return!r.draggable||(null==r.datafield||(!!r.pinned||(!!n.resizing||void(n.dragmousedown&&(i=e.pageX,t=e.pageY,o&&null!=(e=n.getTouches(e)[0])&&(i=e.pageX,t=e.pageY),a={left:i,top:t},n.columndragstarted||null!=n.reordercolumn||(e=Math.abs(a.left-n.dragmousedown.left),i=Math.abs(a.top-n.dragmousedown.top),(3<e||3<i)&&(n._createreordercolumn(s,a,!0),Y(document.body).addClass("jqx-disableselect"),Y.data(n.reordercolumn[0],"reorderrecord",r.datafield))))))));var t,i})},getTouches:function(e){return Y.jqx.mobile.getTouches(e)},_handlecolumnsResize:function(){var a=this;if(this.columnsResize){var e,t,l=!1,i=(a.isTouchDevice()&&(l=!0),"mousemove.resize"+this.element.id),s="mousedown.resize"+this.element.id,r="mouseup.resize"+this.element.id,n=(l&&(i=Y.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,s=Y.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,r=Y.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id),this.removeHandler(Y(document),i),this.addHandler(Y(document),i,function(e){if(null!=a.resizablecolumn&&!a.disabled&&a.resizing&&null!=a.resizeline){a.resizablecolumn.columnelement;var t=a.host.coord(),i=parseInt(a.resizestartline.coord().left),s=i-a._startcolumnwidth,r="auto"==(r=a.resizablecolumn.column.minwidth)?0:parseInt(r),n="auto"==(n=a.resizablecolumn.column.maxwidth)?0:parseInt(n),o=e.pageX,r=(l&&(o=Y.jqx.mobile.getTouches(e)[0].pageX),s+=r,0<n?i+n:0),i=0==n||a._startcolumnwidth+o-i<n;if(i=a.rtl?!0:i)if(a.rtl){if(o>=t.left&&o<=t.left+a.host.width()&&(a.resizeline.css("left",o),l))return!1}else if(o>=t.left&&s<=o&&((0!=r&&e.pageX<r||0==r)&&a.resizeline.css("left",o),l))return!1}if(!l&&null!=a.resizablecolumn)return!1}),this.removeHandler(Y(document),s),this.addHandler(Y(document),s,function(e){var r,t;null==a.resizablecolumn||a.disabled||((t=a.resizablecolumn.columnelement).coord().top+t.height()+5<e.pageY||t.coord().top-5>e.pageY?a.resizablecolumn=null:(a._startcolumnwidth=a.resizablecolumn.column.width,a.resizablecolumn.column._width=null,Y(document.body).addClass("jqx-disableselect"),Y(document.body).addClass("jqx-position-reset"),a._mouseDownResize=new Date,a.resizing=!0,a._resizecolumn=a.resizablecolumn.column,a.resizeline=a.resizeline||Y('<div style="position: absolute;"></div>'),a.resizestartline=a.resizestartline||Y('<div style="position: absolute;"></div>'),a.resizebackground=a.resizebackground||Y('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),a.resizebackground.css("opacity",.01),a.resizebackground.css("cursor","col-resize"),a.resizeline.css("cursor","col-resize"),a.resizestartline.css("cursor","col-resize"),a.resizeline.addClass(a.toThemeProperty("jqx-grid-column-resizeline")),a.resizestartline.addClass(a.toThemeProperty("jqx-grid-column-resizestartline")),Y(document.body).append(a.resizeline),Y(document.body).append(a.resizestartline),Y(document.body).append(a.resizebackground),r=a.resizablecolumn.columnelement.coord(),a.resizebackground.css("left",a.host.coord().left),a.resizebackground.css("top",a.host.coord().top),a.resizebackground.width(a.host.width()),a.resizebackground.height(a.host.height()),a.resizebackground.css("z-index",999999999),(t=function(e){a.rtl?e.css("left",parseInt(r.left)):e.css("left",parseInt(r.left)+a._startcolumnwidth);var t=0,i=(t=(t+=a.showtoolbar?a.toolbarHeight:0)+(a.showstatusbar?a.statusBarHeight:0)+(a.showAggregates?a.aggregatesHeight:0),a.pageable&&"bottom"!=a.pagerPosition&&(t+=a.pagerHeight),a.filterable&&(t+=a.filter.height()),0),s=(a.pageable&&"top"!=a.pagerPosition&&(i=a.pagerHeight),"hidden"!=a.hScrollBar.css("visibility")?a.scrollBarSize:0);e.css("top",parseInt(r.top)),e.css("z-index",9999999999),a.columnGroups?e.height(a.host.height()+a.resizablecolumn.columnelement.height()-i-t-s-a.columnGroupslevel*a.columnsHeight):e.height(a.host.height()-i-t-s),e.show("fast")})(a.resizeline),t(a.resizestartline),a.dragmousedown=null))}),function(){if(Y(document.body).removeClass("jqx-disableselect"),Y(document.body).removeClass("jqx-position-reset"),a.resizing){if(a._mouseUpResize=new Date,a._mouseUpResize-a._mouseDownResize<200)return a.resizing=!1,void(null!=a._resizecolumn&&null!=a.resizeline&&"block"==a.resizeline.css("display")&&(a._resizecolumn=null,a.resizeline.hide(),a.resizestartline.hide(),a.resizebackground.remove()));if(a.resizing=!1,!a.disabled){var e=a.host.width();if("hidden"!=a.vScrollBar[0].style.visibility&&(e-=20),e<0&&(e=0),null!=a._resizecolumn&&null!=a.resizeline&&"block"==a.resizeline.css("display")){var t=parseInt(a.resizeline.css("left")),i=parseInt(a.resizestartline.css("left")),s=a._startcolumnwidth+t-i,t=(a.rtl&&(s=a._startcolumnwidth-t+i),a._resizecolumn.width);a._resizecolumn.width=s,null!=a._resizecolumn._percentagewidth&&(a._resizecolumn._percentagewidth=s/e*100);for(var r=0;r<a._columns.length;r++)if(a._columns[r].datafield===a._resizecolumn.datafield){a._columns[r].width=a._resizecolumn.width;break}a.hScrollBar[0].style.visibility;i=a._resizecolumn.displayfield;a._updatecolumnwidths(),a.refresh(),a._resizecolumn=null,a.resizeline.hide(),a.resizestartline.hide(),a.resizebackground.remove(),a.resizablecolumn=null,a._raiseEvent("columnResized",{dataField:i,oldWidth:t,newWidth:s})}else a.resizablecolumn=null}}});try{""==document.referrer&&!window.frameElement||(e=(e=null)!=window.top&&window.top!=window.self&&window.parent&&document.referrer?document.referrer:e)&&-1!=e.indexOf(document.location.host)&&(t=function(e){n()},window.top.document.addEventListener?window.top.document.addEventListener("mouseup",t,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",t))}catch(e){}this.removeHandler(Y(document),r),this.addHandler(Y(document),r,function(e){if(null!=Y.data(document.body,"contextmenu"+a.element.id)&&a.autoshowcolumnsmenubutton)return!0;n()})}},_updatecolumnwidths:function(){var o,a,e,l,d,h,c=this.host.width(),u=c,p=("hidden"!==this.vScrollBar.css("visibility")&&0<this.scrollBarSize&&(c-=parseInt(this.scrollBarSize)+6,u=c),"");null!=this.columns&&null!=this.columns.records&&(a=!1,Y.each((o=this).columns.records,function(e,t){this.hidden||(-1!=this.width.toString().indexOf("%")||null!=this._percentagewidth?("hidden"!=o.vScrollBar[t=0].style.visibility&&o.scrollBarSize,o.scrollBarSize,t=parseFloat(this.width)*u/100,(t=(t=null!=this._percentagewidth?parseFloat(this._percentagewidth)*u/100:t)<this.minwidth&&"auto"!=this.minwidth?this.minwidth:t)>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),c-=Math.round(t)):"auto"==this.width||this._width?p+=this.text:c-=this.width)}),0!=(e=this.columnsheader.find("#columntable"+this.element.id)).length&&(l=0,d=e.find(".jqx-grid-column-header"),h=0,Y.each(this.columns.records,function(e,t){var i=Y(d[e]),s=!1,r=this.width,n=this.width;-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(r=null!=this._percentagewidth?parseFloat(this._percentagewidth)*u/100:parseFloat(this.width)*u/100,r=Math.round(r),s=!0),"auto"==this.width||this._width||s?s?(r<this.minwidth&&"auto"!=this.minwidth&&(r=this.minwidth,this.width=r),r>this.maxwidth&&"auto"!=this.maxwidth&&(r=this.maxwidth,this.width=r),parseInt(i[0].style.width)!=r&&(i.width(r),this.width=r)):(s=Math.floor(c*(this.text.length/p.length)),isNaN(s)&&(s=this.minwidth),r=c*(this.text.length/p.length)-s,1<=(l+=r)&&(--l,s++),.5<=l&&e==o.columns.records.length-1&&s++,s<0&&(r=Y("<span>"+o.escape_HTML(this.text)+"</span>"),Y(document.body).append(r),s=10+r.width(),r.remove()),(s=s<this.minwidth?this.minwidth:s)>this.maxwidth&&(s=this.maxwidth),this._width="auto",this.width=s,i.width(this.width)):parseInt(i[0].style.width)!=this.width&&i.width(this.width),parseInt(i[0].style.left)!=h&&i.css("left",h),this.hidden||(h+=this.width),this._requirewidthupdate=!0,n!==this.width&&(a=!0)}),this.columnsheader.width(2+h),e.width(this.columnsheader.width()),this._resizecolumnGroups(),a&&this._renderrows(),this.showAggregates&&this._refreshcolumnsaggregates()))},_rendercolumnheaders:function(){var p=this;if(!this._updating){p.columns.records.length>p.headerZIndex&&(p.headerZIndex=p.columns.records.length+10),this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var m=Y('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>'),g=(m[0].cells=new Array,0),f="",v=this.host.width(),x=v,i=new Array,s=new Array;if(Y.each(this.columns.records,function(e,t){this.hidden||("auto"==this.width||this._width?f+=this.text:this.width<this.minwidth&&"auto"!=this.minwidth?v-=this.minwidth:this.width>this.maxwidth&&"auto"!=this.maxwidth?v-=this.maxwidth:-1!=this.width.toString().indexOf("%")?(t=0,(t=(t=parseFloat(this.width)*x/100)<this.minwidth&&"auto"!=this.minwidth?this.minwidth:t)>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),v-=t):("string"==typeof this.width&&(this.width=parseInt(this.width)),v-=this.width)),this.pinned||this.grouped||this.checkboxcolumn?(p._haspinned&&(this.pinned=!0),i[i.length]=this):s[s.length]=this}),this.rtl){var e=0;i.reverse();for(t=this.columns.records.length-1;t>=this.columns.records.length-i.length;t--)this.columns.replace(t,i[e++]);for(r=0;r<s.length;r++)this.columns.replace(r,s[r])}else{for(var t=0;t<i.length;t++)this.columns.replace(t,i[t]);for(var r=0;r<s.length;r++)this.columns.replace(i.length+r,s[r])}var y=this.headerZIndex,w=p.columnsHeight,b=0;Y.each(this.columns.records,function(e,t){this.height=p.columnsHeight,p.columnGroups&&p.columnGroups.length&&(this.height=(this.datafield,n=this,o=p.columnGroupslevel*p.columnsHeight,o-=n.level*p.columnsHeight),w=this.height);var i,s,r,n=p.toTP("jqx-grid-column-header")+" "+p.toTP("jqx-widget-header"),o=(p.rtl&&(n+=" "+p.toTP("jqx-grid-column-header-rtl")),p.enableBrowserSelection||(n+=" "+p.toTP("jqx-disableselect")),p.rtl?250+y+1:250+y-1),a=p.rtl?y++:y--,l=Y('<div role="columnheader" style="z-index: '+a+';position: absolute; height: 100%;" class="'+n+'"><div style="height: 100%; width: 100%;"></div></div>'),a=(p.rtl&&0===e&&(l[0].style.borderLeftColor="transparent"),p.columnGroups&&(l[0].style.height=w+"px",l[0].style.bottom="0px",this.pinned&&(l[0].style.zIndex=o)),this.uielement=l,this.element=l,""!=this.classname&&this.classname&&l.addClass(this.classname),this.width),d=!1,h=(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(a=null!=this._percentagewidth?parseFloat(this._percentagewidth)*x/100:parseFloat(this.width)*x/100,a=Math.round(a),d=!0),"auto"==this.width||this._width||d?d?((a=a<this.minwidth&&"auto"!=this.minwidth?this.minwidth:a)>this.maxwidth&&"auto"!=this.maxwidth&&(a=this.maxwidth),null!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),l.width(a),this.width=a):(d=Math.floor(v*(this.text.length/f.length)),s=v*(this.text.length/f.length)-d,1<=(b+=s)&&(--b,d++),.5<=b&&e==p.columns.records.length-1&&d++,(d=isNaN(d)?this.minwidth:d)<0&&(s=Y("<span>"+p.escape_HTML(this.text)+"</span>"),Y(document.body).append(s),d=10+s.width(),s.remove()),(d=d<this.minwidth?this.minwidth:d)>this.maxwidth&&(d=this.maxwidth),this._width="auto",this.width=parseInt(d),a=this.width,l.width(this.width)):((a=a<this.minwidth&&"auto"!=this.minwidth?this.minwidth:a)>this.maxwidth&&"auto"!=this.maxwidth&&(a=this.maxwidth),l[0].style.width=parseInt(a)+"px"),this.hidden&&l.css("display","none"),Y(l.children()[0])),c=(m[0].cells[e]=l[0],null!=this.renderer?this.renderer(p.escape_HTML(this.text),this.align,w):p._rendercolumnheader(p.escape_HTML(this.text),this.align,w,p)),u=(null==c&&(c=p._rendercolumnheader(p.escape_HTML(this.text),this.align,w,p)),null!=this.renderer&&(c=Y(c)),p.WinJS?MSApp.execUnsafeLocalFunction(function(){h.append(Y(c))}):this.renderer?h.append(Y(c)):c&&(h[0].innerHTML=c),null!=c&&(i=Y('<div class="iconscontainer" style="height: '+w+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+p.toTP("jqx-widget-header")+'" style="height: '+w+'px; float: right; display: none; width: 16px;"><div class="'+p.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+p.toTP("jqx-widget-header")+'" style="height: '+w+'px; float: right; display: none; width: 16px;"><div class="'+p.toTP("jqx-grid-column-sortascbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+p.toTP("jqx-widget-header")+'" style="height: '+w+'px; float: right; display: none; width: 16px;"><div class="'+p.toTP("jqx-grid-column-sortdescbutton")+'" style="width: 100%; height:100%;"></div></div></div>'),h.append(i),s=i.children(),this.sortasc=s[1],this.sortdesc=s[2],this.filtericon=s[0],this.iconscontainer=i,p.rtl&&(i.css("margin-left","0px"),i.css("left","0px"),Y(this.sortasc).css("float","left"),Y(this.filtericon).css("float","left"),Y(this.sortdesc).css("float","left"))),m.append(l),p.columnsReorder&&this.draggable&&p._handlecolumnsdragreorder&&p._handlecolumnsdragreorder(this,l),this);p.addHandler(l,"click",function(e){if(u.checkboxcolumn)return!0;p._togglesort&&!p._loading&&p._togglesort(u),e.preventDefault()}),p.columnsResize&&(r=!1,d="mousemove",p.isTouchDevice()&&(r=!0,d=Y.jqx.mobile.getTouchEventName("touchstart")),p.addHandler(l,d,function(e){if(!u.resizable)return!(p.resizablecolumn=null);var t=parseInt(e.pageX),i=5,s=parseInt(l.coord().left);if(p.hasTransform&&(s=Y.jqx.utilities.getOffset(l).left),p._handlecolumnsResize){if(r)return i=40,(t=Y.jqx.mobile.getTouches(e)[0].pageX)>=s+u.width-i?(p.resizablecolumn={columnelement:l,column:u},l.css("cursor","col-resize")):(l.css("cursor",""),p.resizablecolumn=null),!0;e=u.width;if(s+(e=p.rtl?0:e)-i<=t){if(t<=s+e+i)return p.resizablecolumn={columnelement:l,column:u},l.css("cursor","col-resize"),!1;l.css("cursor",""),p.resizablecolumn=null}else l.css("cursor",""),t<s+e-i&&(u._animating||u._menuvisible||l.mouseenter()),p.resizablecolumn=null}})),l.css("left",g),this.hidden||(g+=a),u.rendered&&u.rendered(Y(h[0].firstChild),u.align,w)&&null!=i&&i.hide()}),0<g?this.columnsheader.width(2+g):this.columnsheader.width(g),this.columnsrow=m,p.columnsheader.append(m),m.width(g),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsReorder&&this._handlecolumnsReorder(),this._handlecolumnsResize&&this._handlecolumnsResize(),this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){for(var e=0,t=0;t<this.columns.records.length;t++)this.columns.records[t].pinned&&e++;var i=this.headerZIndex-e+this.columns.records.length,s=this.toTP("jqx-grid-column-header")+" "+this.toTP("jqx-grid-columngroup-header")+" "+this.toTP("jqx-widget-header"),r=(this.rtl&&(s+=" "+this.toTP("jqx-grid-columngroup-header-rtl")),this.columnsheader.find("#columntable"+this.element.id));r.find("jqx-grid-columngroup-header").remove();for(var n=0;n<this.columnGroupslevel-1;n++)for(t=0;t<this.columnGroups.length;t++){var o,a,l,d,h,c=this.columnGroups[t],u=c.level;u===n&&(u=u*this.columnsHeight,o=99999,c.groups&&(a=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=a(s):s.hidden||(t+=s.width,o=Math.min(parseInt(s.element[0].style.left),o))}return t},c.width=a(c),c.left=o,l=this.columnsHeight,d=i--,d=Y('<div role="columnheader" style="z-index: '+d+';position: absolute;" class="'+s+'"></div>'),h=Y(this._rendercolumnheader(c.text,c.align,this.columnsHeight,this)),d.append(h),d[0].style.left=o+"px",0===o&&(d[0].style.borderLeftColor="transparent"),d[0].style.top=u+"px",d[0].style.height=l+"px",d[0].style.width=-1+c.width+"px",r.append(d),c.element=d))}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var r,t,i,s=this.columnGroups[e],n=s.level*this.columnsHeight,o=99999;s.groups&&(s.width=(r=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=r(s):s.hidden||(t+=s.width,o=Math.min(parseInt(s.element[0].style.left),o))}return t})(s),s.left=o,t=this.columnsHeight,(i=s.element)[0].style.left=o+"px",i[0].style.top=n+"px",i[0].style.height=t+"px",i[0].style.width=-1+s.width+"px")}},_removecolumnhandlers:function(e){var t=Y(e.element);0<t.length&&(this.removeHandler(t,"mouseenter"),this.removeHandler(t,"mouseleave"),e=Y(e.filtericon),this.removeHandler(e,"mousedown"),this.removeHandler(e,"click"),this.removeHandler(t,"click"))},_calculateaggregate:function(e,t,i,s){if(!e.datafield)return null;var r=e.aggregates;if(r=r||t){for(var n=new Array,o=0;o<r.length;o++)"count"!=r[o]&&(n[n.length]=e.cellsFormat);if(this.source&&this.source.getAggregatedData){null==s&&(s=this.getRows(),this.dataViewRecords&&(s=this.dataViewRecords));var a,l,d,h,c,u=s,p=-1;if(this.treeGrid&&(a=new Array,(l=function(e){for(var t=0;t<e.length;t++)null!=e[t]&&(-1==p&&(p=e[t].level),e[t].aggregate||a.push(e[t]),!e[t].leaf&&e[t].records&&0<e[t].records.length&&l(e[t].records))})(s),s=a),this.treeGrid&&this.filterable&&0<this.dataview.filters.length){for(var m=new Array,o=0;o<s.length;o++)s[o]&&!1!==s[o]._visible&&m.push(s[o]);s=m;for(var g=new Array,o=0;o<u.length;o++)u[o]&&!1!==u[o]._visible&&g.push(u[o]);u=g}return null==i||1==i?(d=this.source.getAggregatedData([{name:e.datafield,aggregates:r,formatStrings:n}],this.gridlocalization,s,p),this.treeGrid&&(0==(h=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0)||h<=p)&&d&&(null!=d[e.datafield].sum||null!=d[e.datafield].avg)&&(c=this.source.getAggregatedData([{name:e.datafield,aggregates:r,formatStrings:n}],this.gridlocalization,u,p),null!=d[e.datafield].sum&&(d[e.datafield].sum=c[e.datafield].sum),null!=d[e.datafield].avg&&(d[e.datafield].avg=c[e.datafield].avg))):(d=this.source.getAggregatedData([{name:e.datafield,aggregates:r}],this.gridlocalization,s,p),this.treeGrid&&d&&(null==d[e.datafield].sum&&null==d[e.datafield].avg||(0==(h=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0)||h<=p)&&(c=this.source.getAggregatedData([{name:e.datafield,aggregates:r}],this.gridlocalization,u,p),null!=d[e.datafield].sum&&(d[e.datafield].sum=c[e.datafield].sum),null!=d[e.datafield].avg&&(d[e.datafield].avg=c[e.datafield].avg)))),d}}return null},getcolumnaggregateddata:function(e,t,i,s){var r=this.getColumn(e);if(!r)return"";i=null!=i&&0!=i&&i;if(null==t)return"";var n=r.aggregates,t=(r.aggregates=null,this._calculateaggregate(r,t,i,s)),i={};return t&&(i=t[e],r.aggregates=n),i},_updatecolumnaggregates:function(e,t,i){var s,r,n=this;if(!t)return i.children().remove(),i.html(""),void(e.aggregatesRenderer&&(s={},e.aggregates&&(s=this.getcolumnaggregateddata(e.datafield,e.aggregates)),r=e.aggregatesRenderer({},e,i,null),i.html(r)));i.children().remove(),i.html(""),e.aggregatesRenderer?t&&(r=e.aggregatesRenderer(t[e.datafield],e,i,this.getcolumnaggregateddata(e.datafield,e.aggregates),"aggregates"),i.html(r)):Y.each(t,function(){for(s in this){var e=Y('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),t=s,t=n._getaggregatename(t);e.html(t+":"+this[s]),n.rtl&&e.addClass(n.toThemeProperty("jqx-rtl")),i.append(e)}})},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t,i=e;for(t in e){i=t;break}return i},_getaggregatename:function(e){var t=e;switch(e){case"min":t="Min";break;case"max":t="Max";break;case"count":t="Count";break;case"avg":t="Avg";break;case"product":t="Product";break;case"var":t="Var";break;case"stdevp":t="StDevP";break;case"stdev":t="StDev";break;case"varp":t="VarP";case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var i in e){t=i;break}return t},_updatecolumnsaggregates:function(){var e=this.getRows(),t=(this.dataViewRecords&&(e=this.dataViewRecords),this.columns.records.length);if(null!=this.aggregates[0].cells)for(var i=0;i<t;i++){var s=Y(this.aggregates[0].cells[i]),r=this.columns.records[i],n=this._calculateaggregate(r,null,!0,e);this._updatecolumnaggregates(r,n,s)}},_refreshcolumnsaggregates:function(){var e=this.columns.records.length;if(null!=this.aggregates[0].cells)for(var t=0,i=0;i<e;i++){var s=Y(this.aggregates[0].cells[i]),r=this.columns.records[i];s&&(s.width(r.width),s[0].style.left=t+"px",r.hidden&&r.hideable?s.css("display","none"):t+=r.width)}},_updateaggregates:function(){var e=Y('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),t=0,i=this.columns.records.length,s=this.toThemeProperty("jqx-grid-cell"),r=(this.rtl&&(s+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),t=0,e.css("border-left-width","0px"),this.aggregates.css("border-left-color","transparent")),s+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),i+10),n=new Array;this.aggregates[0].cells=n;for(var o=0;o<i;o++){var a=this.columns.records[o],l=this._calculateaggregate(a),d=a.width,h=((d=d<a.minwidth?a.minwidth:d)>a.maxwidth&&(d=a.maxwidth),s),h=(a.cellsalign&&(h+=" "+this.toThemeProperty("jqx-"+a.cellsalign+"-align")),Y('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+h+'"></div>'));e.append(h),h.css("left",t),this.rtl?(h.css("z-index",r++),0==o&&h.css("border-left-width","0px")):h.css("z-index",r--),h.width(d),h[0].style.left=t+"px",a.hidden&&a.hideable?h.css("display","none"):t+=d,n[n.length]=h[0],this._updatecolumnaggregates(a,l,h)}Y.jqx.browser.msie&&Y.jqx.browser.version<8&&e.css("z-index",r--),e.width(parseInt(t)+2),e.height(this.aggregatesHeight),this.aggregates.children().remove(),this.aggregates.append(e),this.aggregates.removeClass(this.toThemeProperty("jqx-widget-header")),this.aggregates.addClass(s),this.aggregates.css("border-bottom-color","transparent"),this.aggregates.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll()},destroy:function(){var e=this;if(e.columns&&e.columns.records)for(var t=0;t<e.columns.records.length;t++)e._removecolumnhandlers(e.columns.records[t]);e.removeHandler(Y(document),"mouseup.pagerbuttonstop"),e.removeHandler(Y(document),"mouseup.pagerbuttonsbottom"),e.removeHandler(e.content,"scroll"),e.removeHandler(e.content,"mousedown"),e.removeHandler(Y(document),"mousedown.gridedit"+e.element.id);var i="mousemove.resize"+e.element.id,s="mousedown.resize"+e.element.id,r="mouseup.resize"+e.element.id,i=(e.removeHandler(Y(document),i),e.removeHandler(Y(document),s),e.removeHandler(Y(document),r),"mousemove.reorder"+e.element.id),s="mousedown.reorder"+e.element.id,r="mouseup.reorder"+e.element.id;if(e.removeHandler(Y(document),i),e.removeHandler(Y(document),s),e.removeHandler(Y(document),r),e.filterable){if(e.filterrow)for(t=0;t<e.filterrow[0].cells.length;t++){var n=e.filterrow[0].cells[t],n=Y(n).find(".filterconditions");e.columns.records[t];0<n.length&&n.jqxDropDownList("destroy")}e.filtercolumnsList&&e.filtercolumnsList.jqxDropDownList("destroy")}e.pageable&&(e.pagershowrowscombotop&&e.pagershowrowscombotop.jqxDropDownList&&e.pagershowrowscombotop.jqxDropDownList("destroy"),e.pagershowrowscombobottom&&e.pagershowrowscombobottom.jqxDropDownList&&e.pagershowrowscombobottom.jqxDropDownList("destroy"),i=e.pagerbuttonsbottom.find("a"),e.removeHandler(i,"click"),e.removeHandler(i,"mouseenter"),e.removeHandler(i,"mouseleave"),i.remove(),i=e.pagerbuttonstop.find("a"),e.removeHandler(i,"click"),e.removeHandler(i,"mouseenter"),e.removeHandler(i,"mouseleave"),i.remove(),e.pagernexttop&&(e.pagernexttop.jqxButton("destroy"),e.pagerprevioustop.jqxButton("destroy"),e.pagernextbottom.jqxButton("destroy"),e.pagerpreviousbottom.jqxButton("destroy"),e.pagerfirsttop.jqxButton("destroy"),e.pagerfirstbottom.jqxButton("destroy"),e.pagerlasttop.jqxButton("destroy"),e.pagerlastbottom.jqxButton("destroy"))),e._removeHandlers(),e.vScrollBar.jqxScrollBar("destroy"),e.hScrollBar.jqxScrollBar("destroy"),delete e.vScrollBar,delete e.hScrollBar,delete e._mousewheelfunc,Y.jqx.utilities.resize(e.host,null,!0),e.host.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(e,t,i,s){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)&&s!==i)if("filterable"==t)e._render();else if("height"===t)e.host.height(e.height),e.host.width(e.width),e._updatesize(!1,!0);else if("width"===t)e.host.height(e.height),e.host.width(e.width),e._updatesize(!0,!1);else if("source"===t)e.updateBoundData();else if("columnGroups"===t)e._render();else if("columns"===t)e._columns=null,e._render();else if("rtl"===t)e.content.css("left",""),e.columns=e._columns,e.vScrollBar.jqxScrollBar({rtl:s}),e.hScrollBar.jqxScrollBar({rtl:s}),e._render();else if("pagerMode"===t)e.pagerMode=s,e._initpager();else if("pageSizeOptions"==t){e._initpager();for(var r=!1,n=0;n<s.length;n++)if(parseInt(s[n])==e.pageSize){r=!0;break}r||Y.jqx.set(e,[{pageSize:s[0]}])}else{var o;"pageSize"==t?(o=e.dataview.pagenum*e.dataview.pagesize,e.dataview.pagesize=e.pageSize,(o=Math.floor(o/e.dataview.pagesize))===e.dataview.pagenum&&parseInt(s)===parseInt(i)||(e._raiseEvent("pageSizeChanged",{pagenum:s,oldpageSize:i,pageSize:e.dataview.pagesize}),e.goToPage(o)||(e.serverProcessing?e.updateBoundData("pager"):e.refresh()))):"pagerPosition"===t?e.refresh():"selectionMode"===t?e.selectionMode=s.toLowerCase():"touchmode"==t?(e.touchDevice=null,e._removeHandlers(),e.touchDevice=null,e.vScrollBar.jqxScrollBar({touchMode:s}),e.hScrollBar.jqxScrollBar({touchMode:s}),e._updateTouchScrolling(),e._arrange(),e._updatecolumnwidths(),e._renderrows(),e._addHandlers()):"enableHover"!=t&&("disabled"==t?(s?e.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),e.pageable&&(e.pagernexttop&&(e.pagernexttop.jqxButton({disabled:s}),e.pagerprevioustop.jqxButton({disabled:s}),e.pagernextbottom.jqxButton({disabled:s}),e.pagerpreviousbottom.jqxButton({disabled:s}),e.pagerfirsttop.jqxButton({disabled:s}),e.pagerfirstbottom.jqxButton({disabled:s}),e.pagerlasttop.jqxButton({disabled:s}),e.pagerlastbottom.jqxButton({disabled:s}),e.pagershowrowscombotop.jqxDropDownList&&"advanced"==e.pagerMode&&(e.pagershowrowscombotop.jqxDropDownList({disabled:!1}),e.pagershowrowscombobottom.jqxDropDownList({disabled:!1}))),e.host.find(".jqx-grid-pager-number").css("cursor",s?"default":"pointer")),e.host.find(".jqx-grid-group-collapse").css("cursor",s?"default":"pointer"),e.host.find(".jqx-grid-group-expand").css("cursor",s?"default":"pointer")):"columnsHeight"==t?e._render():("theme"==t&&(Y.jqx.utilities.setTheme(i,s,e.host),e.vScrollBar.jqxScrollBar({theme:e.theme}),e.hScrollBar.jqxScrollBar({theme:e.theme}),e.pageable&&e.pagernexttop&&(e.pagernexttop.jqxButton({theme:e.theme}),e.pagerprevioustop.jqxButton({theme:e.theme}),e.pagernextbottom.jqxButton({theme:e.theme}),e.pagerpreviousbottom.jqxButton({theme:e.theme}),e.pagerfirsttop.jqxButton({theme:e.theme}),e.pagerfirstbottom.jqxButton({theme:e.theme}),e.pagerlasttop.jqxButton({theme:e.theme}),e.pagerlastbottom.jqxButton({theme:e.theme}),e.pagershowrowscombotop.jqxDropDownList&&"advanced"==e.pagerMode&&(e.pagershowrowscombotop.jqxDropDownList({theme:e.theme}),e.pagershowrowscombobottom.jqxDropDownList({theme:e.theme}))),e.filterable&&(0<(o=Y(".filterconditions")).length&&o.jqxDropDownList({theme:e.theme}),e.filtercolumnsList&&e.filtercolumnsList.jqxDropDownList({theme:e.theme}))),e.refresh()))}},_rendercolumnheader:function(e,t,i,s){var r="4px";return s.columnGroups?((r=i/2-this._columnheight/2)<0&&(r=4),r+="px"):25!=this.columnsHeight&&((r=this.columnsHeight/2-this._columnheight/2)<0&&(r=4),r+="px"),'<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>"}}),Y.jqx.dataCollection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginUpdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t},this.isempty=function(e){return null==this.records[e]},this.initialize=function(e){this.records[(e=e<1?1:e)-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,!0)},this.insertAt=function(e,t){return null!=e&&(null!=t&&(0<=e&&(e<this.records.length?(this.records.splice(e,0,t),!0):this.add(t))))},this.remove=function(e){if(null==e)return!1;e=this.records.indexOf(e);return-1!=e&&(this.records.splice(e,1),!0)},this.removeAt=function(e){return null!=e&&(!(e<0)&&(e<this.records.length&&(this.records[e],this.records.splice(e,1),!0)))},this},Y.jqx.dataView=function(){return(this.that=this).grid=null,this.records=[],this.rows=[],this.columns=[],this.filters=new Array,this.pagesize=0,this.pagenum=0,this.source=null,this.databind=function(e,t){var i=!!e._source,s=null,r=(this._sortData=null,this._sortHierarchyData=null,i?e=(s=e)._source:s=new Y.jqx.dataAdapter(e,{autoBind:!1}),function(e){e.originaldata=s.originaldata,e.records=s.records,e.hierarchy=s.hierarchy,e.grid.serverProcessing||(e._sortData=null,e._sortfield=null,e._filteredData=null,e._sortHierarchyData=null),e.hierarchy||(e.hierarchy=new Array,s.hierarchy=new Array),s._source.totalrecords?e.totalrecords=s._source.totalrecords:s._source.totalRecords?e.totalrecords=s._source.totalRecords:0!==e.hierarchy.length?e.totalrecords=e.hierarchy.length:e.totalrecords=e.records.length,e.cachedrecords=s.cachedrecords}),n=(i=this,s.recordids=[],s.records=new Array,s.cachedrecords=new Array,s.originaldata=new Array,s._options.totalrecords=i.totalrecords,s._options.originaldata=i.originaldata,s._options.recordids=i.recordids,s._options.cachedrecords=new Array,s._options.pagenum=i.pagenum,s._options.pageable=i.pageable,null!=e.type&&(s._options.type=e.type),null!=e.formatdata&&(s._options.formatData=e.formatdata),null!=e.contenttype&&(s._options.contentType=e.contenttype),null!=e.async&&(s._options.async=e.async),null!=e.updaterow&&(s._options.updaterow=e.updaterow),null!=e.addrow&&(s._options.addrow=e.addrow),null!=e.deleterow&&(s._options.deleterow=e.deleterow),0==i.pagesize&&(i.pagesize=10),s._options.pagesize=i.pagesize,this.source=e,void 0!==t&&0,this);switch(e.datatype){case"local":case"array":default:null==e.localdata&&(e.localdata=[]),null!=e.localdata&&(s.unbindBindingUpdate(n.grid.element.id),(!n.grid.autoBind&&n.grid.isInitialized||n.grid.autoBind)&&s.dataBind(),(b=function(){r(n),n.update()})(),s.bindBindingUpdate(n.grid.element.id,b));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=e.localdata)return s.unbindBindingUpdate(n.grid.element.id),(!n.grid.autoBind&&n.grid.isInitialized||n.grid.autoBind)&&s.dataBind(),(b=function(e){r(n),n.update()})(),void s.bindBindingUpdate(n.grid.element.id,b);for(var o=[],a=0,l={},d=0;d<this.filters.length;d++){var h=this.filters[d].datafield,c=this.filters[d].filter;if(c.getfilters){var u=c.getfilters();l[h+"operator"]=c.operator;for(var p=0;p<u.length;p++){u[p].datafield=h;var m,g=u[p].value,f=("datefilter"==u[p].type?u[p].value&&u[p].value.toLocaleString&&(m=this.grid.getColumn(u[p].datafield))&&m.cellsformat?(m=this.grid.source.formatDate(u[p].value,m.cellsformat,this.grid.gridlocalization),l["filtervalue"+a]=m||u[p].value.toLocaleString()):l["filtervalue"+a]=g.toString():(l["filtervalue"+a]=g.toString(),u[p].data&&(l["filterid"+a]=u[p].data.toString()),u[p].id&&(l["filterid"+a]=u[p].id.toString())),l["filtercondition"+a]=u[p].condition,l["filteroperator"+a]=u[p].operator,l["filterdatafield"+a]=h,{label:g.toString()}),v=(u[p].data&&(f.value=u[p].data.toString()),u[p].id?f.value=u[p].id.toString():f.value=g.toString(),f.condition=u[p].condition,f.operator=0==u[p].operator?"and":"or",f.field=h,f.type=u[p].type,!1);if(0<o.length)for(var x=0;x<o.length;x++){var y=o[x];if(y.field==h){y.filters.push(f),v=!0;break}}v||(o.push({field:h,filters:[]}),o[o.length-1].filters.push(f)),a++}}}l.filterGroups=o,l.filterslength=a,Y.extend(l,{sortdatafield:n.sortfield,sortorder:n.sortfielddirection,pagenum:n.pagenum,pagesize:n.grid.pageSize});var w=s._options.data,b=(s._options.data?Y.extend(s._options.data,l):(e.data&&Y.extend(l,e.data),s._options.data=l),function(){function e(){r(n),n.update()}if(Y.jqx.browser.msie&&Y.jqx.browser.version<9)try{e()}catch(e){}else e()});s.unbindDownloadComplete(n.grid.element.id),s.bindDownloadComplete(n.grid.element.id,b),s._source.loaderror=function(e,t,i){b()},(!n.grid.autoBind&&n.grid.isInitialized||n.grid.autoBind)&&s.dataBind(),s._options.data=w}},this.addFilter=function(e,t){this._sortData=null,this._sortHierarchyData=null;for(var i=-1,s=0;s<this.filters.length;s++)if(this.filters[s].datafield==e){i=s;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removeFilter=function(e){this._sortData=null,this._sortHierarchyData=null;for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this.sortBy=function(e,t){if(null==t)return this.sortfield="",void(this.sortfielddirection="");t="a"==(t=null==t?!0:t)||"asc"==t||"ascending"==t||1==t,this.sortfield=e="constructor"==e?"":e,this.sortfielddirection=t?"asc":"desc"},this._sort=function(e){if(!this.sortfield||!this.sortfielddirection)return e;if(this._sortfield==this.sortfield&&this._sortfielddirection==this.sortfielddirection&&this._sortData)return this._sortData;for(var t,i=this,s=Object.prototype.toString,r=(Object.prototype.toString="function"==typeof i.sortfield?i.sortfield:function(){return this[i.sortfield]},""),n=(this.source.datafields&&Y.each(this.source.datafields,function(){if(this.name==i.sortfield)return this.type&&(r=this.type),!1}),new Array),o=0;o<e.length;o++)n.push(Y.extend({originalRecord:e[o]},e[o]));return this._sortfield=this.sortfield,this._sortfielddirection=this.sortfielddirection,t="desc"===this.sortfielddirection?n.sort(function(e,t){return i._compare(e,t,r)}).reverse():n.sort(function(e,t){return i._compare(e,t,r)}),this._sortData=t,Object.prototype.toString=s,t},this._compare=function(e,t,i){if(void 0===(t=t)&&(t=null),null===(e=void 0===(e=e)?null:e)&&null===t)return 0;if(null===e&&null!==t)return 1;if(null!==e&&null===t)return 1;if(e=e.toString(),t=t.toString(),Y.jqx.dataFormat)if(i&&""!=i)switch(i){case"number":case"int":case"float":return e<t?-1:t<e?1:0;case"date":case"time":return e<t?-1:t<e?1:0;case"string":case"text":e=String(e).toLowerCase(),t=String(t).toLowerCase()}else{if(Y.jqx.dataFormat.isNumber(e)&&Y.jqx.dataFormat.isNumber(t))return e<t?-1:t<e?1:0;if(Y.jqx.dataFormat.isDate(e)&&Y.jqx.dataFormat.isDate(t))return e<t?-1:t<e?1:0;Y.jqx.dataFormat.isNumber(e)||Y.jqx.dataFormat.isNumber(t)||(e=String(e).toLowerCase(),t=String(t).toLowerCase())}try{if(e<t)return-1;if(t<e)return 1}catch(e){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)},this.evaluate=function(e){var t;if(this.grid.serverProcessing)return!e||""!=this.grid.source._source.id&&null!=this.grid.source._source.id||this.grid.pageable&&(t=this.grid.pageSize*this.pagenum,this.grid.rowsByKey=new Array,r=this,Y.each(e,function(e){this.uid=t,r.grid.rowsByKey[this.uid]=this,t++})),e;var r,i,n,s=new Array;if(this.filters.length){function o(e,t){for(var i=0;i<e.length;i++){for(var s=e[i],r=(s._visible=!0,void 0),n=0;n<this.filters.length;n++)var o=this.filters[n].filter,a=s[this.filters[n].datafield],a=o.evaluate(a),r=null==r?a:"or"==o.operator?r||a:r&&a;s._visible=!1,(r||s.aggregate)&&(s._visible=!0,t.push(s),l[s.uid]=s)}}var l=new Array;if(this._filteredData)this.rows=this._filteredData;else{if(this.source.hierarchy||this.grid.source.hierarchy&&0<this.grid.source.hierarchy.length){var a=new Array,d=function(e,t){for(var i=0;i<t.length;i++){var s=t[i];a.push(s),s.records&&0<s.records.length&&d(s,s.records)}};d(null,e),o.call(this,a,s);for(var h=0;h<s.length;h++)for(var c=s[h];c.parent;){var u=c.parent;l[u.uid]||(u._visible=!0,l[u.uid]=u),c=u}s=e}else o.call(this,e,s);this._filteredData=s,this.rows=s}}else this.rows=e;return this.source.hierarchy||this.grid.source.hierarchy&&0<this.grid.source.hierarchy.length?(r=this,i=new Array,this._sortData=null,n=function(e,t){var i=r._sortData=null;if(r.source.hierarchy.groupingDataFields)if(t&&0<t.length&&t[0].level<r.source.hierarchy.groupingDataFields.length)for(var i=new Array,s=0;s<t.length;s++)i.push(Y.extend({originalRecord:t[s]},t[s]));else i=r._sort(t);else i=r._sort(t);e.records?e.records=i:e=e.concat(i);for(s=0;s<i.length;s++)i[s].records&&i[s].records.length&&n(i[s],i[s].records);return e},(this.sortfield||this.sortfielddirection)&&(i=this._sortHierarchyData||n(i,e),this.rows=i,this._sortHierarchyData=i)):this.rows=this._sort(this.rows),this.rows},this.getid=function(e,t,i){if(0<Y(e,t).length)return Y(e,t).text();if(this.rows&&""!=e&&null!=e&&0<this.rows.length){null==(r=this.rows[this.rows.length-1][e])&&(r=null);for(var s=1;s<=100;s++)if(!(n=this.grid.rowsByKey[s+r])){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(n=this.grid.rowsByKey["jqx"+r+s])continue;return"jqx"+r+s}return r+s}}if(null!=e&&0<e.toString().length){t=Y(t).attr(e);if(null!=t&&0<t.toString().length)return this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords?"jqx"+t:t}var r;if(this.rows&&0<this.rows.length&&(n=this.grid.rowsByKey[i])){null==(r=this.rows[this.rows.length-1][e])&&(r="");for(s=1;s<=1e3;s++)if(!(n=this.grid.rowsByKey[s+r])){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(n=this.grid.rowsByKey["jqx"+r+s])continue;return"jqx"+r+s}return r+s}}if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(!(n=this.grid.rowsByKey["jqx"+i]))return"jqx"+i;for(s=i+1;s<=100;s++)if(!(n=this.grid.rowsByKey["jqx"+s])){var n=this.grid.rowsByKey["jqx"+s];if(!n)return"jqx"+s}}return i},this.generatekey=function(){function e(){return 16*(1+Math.random())|0}return""+e()+e()+"-"+e()+"-"+e()},this}}(jqxBaseFramework),!function(b){b.jqx.jqxWidget("jqxDateTimeInput","",{}),b.extend(b.jqx._jqxDateTimeInput.prototype,{defineInstance:function(){var e={value:b.jqx._jqxDateTimeInput.getDateTime(new Date),minDate:b.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:b.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),rowHeaderWidth:25,enableViews:!0,views:["month","year","decade"],selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],change:null,changing:null,titleFormat:["MMMM yyyy","yyyy","yyyy","yyyy"],template:"default",columnHeaderHeight:20,titleHeight:30,firstDayOfWeek:0,showWeekNumbers:!1,showTimeButton:!1,cookies:!1,cookieoptions:null,showFooter:!1,formatString:"dd/MM/yyyy",width:200,height:25,dayNameFormat:"firstTwoLetters",textAlign:"left",readonly:!1,culture:"default",activeEditor:null,showCalendarButton:!0,showDeleteButton:!1,openDelay:250,closeDelay:300,closeCalendarAfterSelection:!0,isEditing:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",enableAbsoluteSelection:!1,disabled:!1,buttonSize:21,animationType:"slide",dropDownWidth:"200px",restrictedDates:new Array,dropDownHeight:"205px",dropDownContainer:"default",selectionMode:"default",renderMode:"full",rtl:!1,timeRange:null,_editor:!1,todayString:"Today",clearString:"Clear",popupZIndex:3001,allowNullDate:!0,changeType:null,placeHolder:"",enableHover:!0,hint:!0,allowKeyboardDelete:!0,yearCutoff:null,editMode:"default",localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","open","close","change"],aria:{"aria-valuenow":{name:"getDate",type:"date"},"aria-valuetext":{name:"getText",type:"string"},"aria-valuemin":{name:"min",type:"date"},"aria-valuemax":{name:"max",type:"date"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===b.jqx._jqxDateTimeInput.prototype||(b.extend(!0,this,e),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(1),this.minDate._setMinutes(1),this.minDate._setSeconds(1),this.minDate._setMilliseconds(1),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(1),this.maxDate._setMinutes(1),this.maxDate._setSeconds(1),this.maxDate._setMilliseconds(1),this.defaultMinDate=this.minDate,this.defaultMaxDate=this.maxDate),e},createInstance:function(e){var t,i,s,r,n,o="",a=this;if(!a.host.jqxCalendar)throw new Error("jqxDateTimeInput: Missing reference to jqxcalendar.js.");if(a.isMaterialized()&&(s=(i=window.getComputedStyle(this.element)).getPropertyValue("--jqx-dropdown-animation"),r=i.getPropertyValue("--jqx-datetimeinput-dropdown-width")||280,i=i.getPropertyValue("--jqx-datetimeinput-dropdown-height")||280,s&&"default"==this.animationType&&(this.animationType=s.trim()),r&&(this.dropDownWidth=r),i&&(this.dropDownHeight=i)),"dd/MM/yyyy"!=a.formatString){var l=a.formatString.split(" ");if(l&&1<l.length){for(var d="",h=0;h<l.length;h++)"1"==l[h].length?d+=a._getFormatValue(l[h]):d+=l[h],h<l.length-1&&(d+=" ");a.formatString=d}}"input"==a.element.nodeName.toLowerCase()&&((s=a.element.getAttribute("type"))&&"dd/MM/yyyy"==a.formatString&&("date"==s&&(a.formatString="d"),"datetime"==s&&(r=a._getFormatValue("d")+" "+a._getFormatValue("t"),a.formatString=r,a.showTimeButton=!0),"time"==s&&(a.formatString="t",a.showTimeButton=!0,a.showCalendarButton=!1)),a.field=a.element,a.field.getAttribute("min")&&(i=new Date(a.field.getAttribute("min")),a._isValidDate(i)&&(a.min=i)),a.field.getAttribute("max")&&(r=new Date(a.field.getAttribute("max")),a._isValidDate(r)&&(a.max=r)),a.field.className&&(a._className=a.field.className),s={title:a.field.title},a.field.value&&(s.value=a.field.value),a.field.id.length?s.id=a.field.id.replace(/[^\w]/g,"_")+"_jqxDateTimeInput":s.id=b.jqx.utilities.createId()+"_jqxDateTimeInput",(i=b("<div></div>",s))[0].style.cssText=a.field.style.cssText,a.width||(a.width=b(a.field).width()),a.height||(a.height=b(a.field).outerHeight()),b(a.field).hide().after(i),r=a.host.data(),a.host=i,a.host.data(r),a.element=i[0],a.element.id=a.field.id,a.field.id=s.id,a._className&&(a.host.addClass(a._className),b(a.field).removeClass(a._className)),a.field.tabIndex&&(r=a.field.tabIndex,a.field.tabIndex=-1,a.element.tabIndex=r)),a.host.attr("value")&&(o=!0,t=a.host.attr("value"),"range"==a.selectionMode||null==(n=new Date(t))||isNaN(n)||(a.value=b.jqx._jqxDateTimeInput.getDateTime(n))),null!=a.value&&a.value instanceof Date?a.value=b.jqx._jqxDateTimeInput.getDateTime(a.value):null!=a.value&&"string"==typeof a.value&&(null==(n=new Date(a.value))||isNaN(n)?0<=a.value.indexOf(",")&&(a.value=a.value.replace(/\,/g,"/"),null==(n=new Date(a.value))||isNaN(n)||(a.value=b.jqx._jqxDateTimeInput.getDateTime(n))):a.value=b.jqx._jqxDateTimeInput.getDateTime(n)),this._initTimeRange(),this._validateTimeRange(),a.host.attr("data-role","input"),a.render(),b.jqx.aria(this),null!=a.getDate()?b.jqx.aria(this,"aria-label","Current focused date is "+a.getDate().toLocaleString()):b.jqx.aria(this,"aria-label","Current focused date is Null"),a.minDate!==a.defaultMinDate&&(a.min=a.minDate),a.maxDate!==a.defaultMaxDate&&(a.max=a.maxDate),a.setMaxDate(a.max,!1),a.setMinDate(a.min,!1),"range"!==a.selectionMode&&a.value&&a.value.dateTime&&a.min&&a.max&&(a.value.dateTime<a.min||a.value.dateTime>a.max)&&(a.value.dateTime<a.min&&(a.value.dateTime=a.min),a.value.dateTime>a.max&&(a.value.dateTime=a.max),a._updateText()),"range"==a.selectionMode&&(o?(i=(t=a.host.attr("value")).substring(0,t.indexOf("-")),s=t.substring(t.indexOf("-")+1),r=new Date(i),n=new Date(s),null==r||isNaN(r)||null==n||isNaN(n)||a.setRange(r,n)):null!=a.getDate()&&a.setRange(a.getDate(),a.getDate())),a._getMask(),"full"===a.editMode&&null===a.value&&void 0!==a._mask[0]&&(a.dateTimeInput[0].value=a._mask[0])},_validateTimeRange:function(){var e,t;this.timeRange&&(e=this.value.dateTime.getHours(),t=this.value.dateTime.getMinutes(),e<=this.timeRange.minHour&&(this.value._setHours(this.timeRange.minHour),t<this.timeRange.minMinute&&this.value._setMinutes(this.timeRange.minMinute),this._updateEditorsValue()),e>=this.timeRange.maxHour&&(this.value._setHours(this.timeRange.maxHour),t>this.timeRange.maxMinute&&this.value._setMinutes(this.timeRange.maxMinute),this._updateEditorsValue()))},_initTimeRange:function(){var e,t,i,s;this.timeRange&&(this.timeRange.min&&(e=null,(0<=this.timeRange.min.indexOf("AM")||0<=this.timeRange.min.indexOf("PM"))&&(e=0<=this.timeRange.min.indexOf("AM")?"AM":"PM"),s=this.timeRange.min.split(":"),i=parseInt(s[0]),s=parseInt(s[1]),e&&(this.timeRange.minDefaultHour=i,this.timeRange.minMeridian=e),e&&"PM"==e&&(i+=12),this.timeRange.minHour=i,this.timeRange.minMinute=s),this.timeRange.max&&(e=null,(0<=this.timeRange.max.indexOf("AM")||0<=this.timeRange.max.indexOf("PM"))&&(e=0<=this.timeRange.max.indexOf("AM")?"AM":"PM"),t=this.timeRange.max.split(":"),i=parseInt(t[0]),s=parseInt(t[1]),e&&(this.timeRange.maxDefaultHour=i,this.timeRange.maxMeridian=e),e&&"PM"==e&&(i+=12),this.timeRange.maxHour=i,this.timeRange.maxMinute=s))},_format:function(t,i,e){var s=!1;try{null!=window.Globalize&&(s=!0),document.Globalize&&(window.Globalize=document.Globalize,s=!0)}catch(e){document.Globalize&&(window.Globalize=document.Globalize,s=!0)}if(document.Globalize&&(window.Globalize=document.Globalize,s=!0),b.global)return b.global.format(t,i,this.culture);if(!s){if(b.jqx.dataFormat)return!(t instanceof Date)&&"number"==typeof t?b.jqx.dataFormat.formatnumber(t,i,this.localization.calendar):b.jqx.dataFormat.formatdate(t,i,this.localization.calendar);throw new Error("jqxDateTimeInput: Missing reference to globalize.js.")}try{return i=window.Globalize.format(t,i,this.culture)}catch(e){return window.Globalize.format(t,i)}},render:function(){var e=this,t=(e._removeHandlers(),e.element.innerHTML="",e.host.attr({role:"textbox"}),e.id=b.jqx.utilities.createId(),b.jqx.utilities.createId(),b.jqx.utilities.createId(),e._setSize(),null==e.width&&(e.width=e.host.width(),e.host.width(e.width)),e.touch=b.jqx.mobile.isTouchDevice(),b("<div class='jqx-max-size jqx-position-relative'></div>").appendTo(e.host)),i=(e.dateTimeInput=b("<input style='border: none; padding-left: 3px; padding-right: 3px;' class='jqx-position-absolute' id='input"+e.element.id+"' autocomplete='off' type='textarea'/>").appendTo(t),e.dateTimeInput.addClass(e.toThemeProperty("jqx-reset")),e.dateTimeInput.addClass(e.toThemeProperty("jqx-clear")),e.dateTimeInput.addClass(e.toThemeProperty("jqx-input-content")),e.dateTimeInput.addClass(e.toThemeProperty("jqx-widget-content")),e.dateTimeInput.addClass(e.toThemeProperty("jqx-rc-all")),e.touch&&(e.dateTimeInput.attr("readonly",!0),e.readonly=!0),e.isMaterialized()||e.dateTimeInput.attr("placeHolder",e.placeHolder),"full"!=e.renderMode&&e.dateTimeInput.remove(),e.host.attr("name")),r=(i&&e.dateTimeInput.attr("name",i),e.host.attr("tabindex")&&(e.dateTimeInput.attr("tabindex",e.host.attr("tabindex")),e.host.removeAttr("tabindex")),e.rtl&&(e.dateTimeInput.css("direction","rtl"),e.dateTimeInput.addClass("jqx-rtl")),e.calendarButton=b("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(t),e.rtl?e.calendarButton.addClass(e.toThemeProperty("jqx-action-button-rtl")):e.calendarButton.addClass(e.toThemeProperty("jqx-action-button")),e.calendarButtonIcon=b(e.calendarButton.children()[0]),e.calendarButtonIcon.addClass(e.toThemeProperty("jqx-icon")),e.calendarButtonIcon.addClass(e.toThemeProperty("jqx-icon-calendar")),e.calendarButton.addClass(e.toThemeProperty("jqx-fill-state-normal")),e.rtl?e.calendarButton.addClass(e.toThemeProperty("jqx-rc-l")):e.showTimeButton||e.calendarButton.addClass(e.toThemeProperty("jqx-rc-r")),e.timeButton=b("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(t),e.rtl?e.timeButton.addClass(e.toThemeProperty("jqx-action-button-rtl")):e.timeButton.addClass(e.toThemeProperty("jqx-action-button")),e.timeButtonIcon=b(e.timeButton.children()[0]),e.timeButtonIcon.addClass(e.toThemeProperty("jqx-icon")),e.timeButtonIcon.addClass(e.toThemeProperty("jqx-icon-time")),e.timeButton.addClass(e.toThemeProperty("jqx-fill-state-normal")),e.rtl?e.timeButton.addClass(e.toThemeProperty("jqx-rc-l")):e.timeButton.addClass(e.toThemeProperty("jqx-rc-r")),e.deleteButton=b("<div style='margin-left: 2px; right: 0px; height: 100%;' class='jqx-datetimeinput-delete-button jqx-position-absolute'><div></div></div>").appendTo(t),e.rtl?e.deleteButton.addClass(e.toThemeProperty("jqx-action-button-rtl")):e.deleteButton.addClass(e.toThemeProperty("jqx-action-button")),e.deleteButton[0].onclick=function(){e.setDate(null)},e.deleteButtonIcon=b(e.deleteButton.children()[0]),e.deleteButtonIcon.addClass(e.toThemeProperty("jqx-icon")),e.deleteButtonIcon.addClass(e.toThemeProperty("jqx-icon-close")),e.deleteButton.addClass(e.toThemeProperty("jqx-fill-state-normal")),e.rtl?e.deleteButton.addClass(e.toThemeProperty("jqx-rc-l")):e.deleteButton.addClass(e.toThemeProperty("jqx-rc-r")),this);if(e._arrange(),null!=b.jqx._jqxCalendar&&null!=b.jqx._jqxCalendar)try{var s="calendar"+e.id,n=b(b.find("#"+s)),o=(0<n.length&&n.remove(),b.jqx.aria(this,"aria-owns",s),b.jqx.aria(this,"aria-haspopup",!0),b.jqx.aria(this,"aria-readonly","range"==e.selectionMode),b("<div class='jqx-calendar-container' style='overflow: hidden; background: transparent; position: absolute;' id='calendar"+e.id+"'><div id='innerCalendar"+e.id+"'></div><div id='innerTime"+e.id+"'></div></div>")),r=("opera"==b.jqx.utilities.getBrowser().browser&&o.hide(),o.addClass(e.toThemeProperty("jqx-calendar-container")),"element"==e.dropDownContainer?o.appendTo(e.host):o.appendTo(document.body),e.container=o,e.calendarContainer=b(b.find("#innerCalendar"+e.id)).jqxCalendar({titleFormat:this.titleFormat,restrictedDates:this.restrictedDates,changing:e.changing,change:e.change,enableViews:e.enableViews,selectableDays:e.selectableDays,views:e.views,rowHeaderWidth:e.rowHeaderWidth,titleHeight:e.titleHeight,columnHeaderHeight:e.columnHeaderHeight,_checkForHiddenParent:!1,enableAutoNavigation:!1,canRender:!1,localization:e.localization,todayString:e.todayString,clearString:e.clearString,dayNameFormat:e.dayNameFormat,rtl:e.rtl,culture:e.culture,showFooter:e.showFooter,selectionMode:e.selectionMode,firstDayOfWeek:e.firstDayOfWeek,showWeekNumbers:e.showWeekNumbers,width:e.dropDownWidth,height:e.dropDownHeight,theme:e.theme}),"element"==e.dropDownContainer?e.calendarContainer.css({position:"absolute",top:0,left:0}):e.calendarContainer.css({position:"absolute",zIndex:e.popupZIndex,top:0,left:0}),e.calendarContainer.addClass(e.toThemeProperty("jqx-popup")),b.jqx.browser.msie&&e.calendarContainer.addClass(e.toThemeProperty("jqx-noshadow")),e.timeContainer=b(b.find("#innerTime"+e.id)),e.timeContainer.css({position:"absolute",zIndex:e.popupZIndex,top:0,left:0}),e.timeContainer.addClass(e.toThemeProperty("jqx-popup")),b.jqx.browser.msie&&e.timeContainer.addClass(e.toThemeProperty("jqx-noshadow")),e._calendar=b.data(e.calendarContainer[0],"jqxCalendar").instance,this);e._calendar.today=function(){r.today()},e._calendar.clear=function(){r.clear()},"opera"==b.jqx.utilities.getBrowser().browser&&o.show(),o.height(parseInt(e.calendarContainer.height())+25),o.width(parseInt(e.calendarContainer.width())+25),"range"==e.selectionMode&&(e.readonly=!0),"none"==e.animationType?e.container.css("display","none"):e.container.hide()}catch(e){}b.global&&b.global.preferCulture(e.culture),e.selectedText="",e._addHandlers(),e.self=this,e.oldValue=e.getDate(),e.items=new Array,e.editors=new Array,e._loadItems(),e.editorText="",1==e.readonly&&e.dateTimeInput.css("readonly",e.readonly),e.dateTimeInput.css("text-align",e.textAlign),e.host.addClass(e.toThemeProperty("jqx-widget")),e.host.addClass(e.toThemeProperty("jqx-datetimeinput")),e.host.addClass(e.toThemeProperty("jqx-input")),e.host.addClass(e.toThemeProperty("jqx-overflow-hidden")),e.host.addClass(e.toThemeProperty("jqx-rc-all")),e.host.addClass(e.toThemeProperty("jqx-reset")),e.host.addClass(e.toThemeProperty("jqx-clear")),e.host.addClass(e.toThemeProperty("jqx-widget-content")),e.propertyChangeMap.disabled=function(e,t,i,s){s?(e.host.addClass(r.toThemeProperty("jqx-input-disabled")),e.host.addClass(r.toThemeProperty("jqx-fill-state-disabled"))):(e.host.removeClass(r.toThemeProperty("jqx-fill-state-disabled")),e.host.removeClass(r.toThemeProperty("jqx-input-disabled"))),b.jqx.aria(e,"aria-disabled",s)},e.disabled&&(e.host.addClass(e.toThemeProperty("jqx-input-disabled")),e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e.dateTimeInput.attr("disabled",!0)),0<e.host.parents("form").length&&e.addHandler(e.host.parents("form"),"reset",function(){setTimeout(function(){r.setDate(new Date)},10)}),e.cookies&&null!=(i=b.jqx.cookie.cookie("jqxDateTimeInput"+e.element.id))&&e.setDate(new Date(i)),b.jqx.browser.msie&&b.jqx.browser.version<8&&0<e.host.parents(".jqx-window").length&&(t=e.host.parents(".jqx-window").css("z-index"),e.container.css("z-index",t+10),e.calendarContainer.css("z-index",t+10)),"default"!=e.culture&&e._applyCulture(),e.value&&(e.calendarContainer.jqxCalendar("_isDisabled",e.value.dateTime)?e.dateTimeInput.addClass(e.toThemeProperty("jqx-input-invalid")):e.dateTimeInput.removeClass(e.toThemeProperty("jqx-input-invalid"))),this._addBarAndLabel(this.dateTimeInput),this._updateHint(!0),e.template&&(e.bar.addClass(e.toThemeProperty("jqx-"+e.template)),e.label.addClass(e.toThemeProperty("jqx-"+e.template)),e.timeButton.addClass(e.toThemeProperty("jqx-"+e.template)),e.calendarButton.addClass(e.toThemeProperty("jqx-"+e.template))),this._setSize(),this._arrange()},val:function(e){var t=this;if(0!=arguments.length){if(null==e&&t.setDate(null),"range"==t.selectionMode)return t.setRange(e,arguments[1]),t.getText();if(e instanceof Date&&t.setDate(e),"string"==typeof e){if("date"==e)return t.getDate();t.setDate(e)}t._calendar.getDate()!=t.getDate()&&t._calendar.setDate(t.getDate())}return t.getText()},_setSize:function(){var e=window.getComputedStyle(this.element),t=2*parseInt(e.borderLeftWidth),e=e.boxSizing,e=(0===this.element.offsetWidth&&(t=2),"border-box"!==e&&!isNaN(t)||(t=0),(null==this.width||-1==this.width.toString().indexOf("px"))&&(null==this.width||isNaN(this.width))||(this.element.style.width=parseInt(this.width)-t+"px"),(null==this.height||-1==this.height.toString().indexOf("px"))&&(null==this.height||isNaN(this.height))||(this.element.style.height=parseInt(this.height)-t+"px"),!1),i=(null!=this.width&&-1!=this.width.toString().indexOf("%")&&(e=!0,this.host.width(this.width),0<t&&this.host.css("box-sizing","border-box")),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(e=!0,this.host.height(this.height)),this);e&&this.calendarContainer&&(this._arrange(),t=this.host.width(),"auto"!=this.dropDownWidth&&(t=this.dropDownWidth),this.calendarContainer.jqxCalendar({width:t}),this.container.width(parseInt(t)+25)),b.jqx.utilities.resize(this.host,function(){i.calendarContainer&&i._arrange()})},_arrange:function(){null==this.height&&(this.height=27,this.host.height(27));var e=parseInt(this.host.width()),t=parseInt(this.host.height()),i=window.getComputedStyle(this.element),s=2*parseInt(i.borderLeftWidth),i=("border-box"!==i.boxSizing&&!isNaN(s)||(s=0),this.buttonSize),s=2,r=(this.showCalendarButton||this.showTimeButton||(i=0,this.calendarButton.hide(),s=0),this.showCalendarButton?this.calendarButton.show():this.calendarButton.hide(),this.showTimeButton?this.timeButton.show():this.timeButton.hide(),this.showDeleteButton?this.deleteButton.show():this.deleteButton.hide(),e-i-+s),e=(this.showTimeButton&&this.showCalendarButton?r=e-2*i-+s:(this.showTimeButton||this.showCalendarButton)&&(r=e-i-+s),this.showDeleteButton&&(r-=i-s),0<r&&(this.dateTimeInput[0].style.width=r+"px"),this.rtl&&(this.dateTimeInput[0].style.width=-1+r+"px"),this.dateTimeInput[0].style.left="0px",this.dateTimeInput[0].style.top="0px",this.calendarButton[0].style.width=i+1+"px",this.calendarButton[0].style.left=1+r+"px",this.timeButton[0].style.width=i+1+"px",this.showCalendarButton?this.timeButton[0].style.left=1+this.calendarButton.width()+r+"px":this.timeButton[0].style.left=1+r+"px","full"!=this.renderMode&&(this.calendarButton[0].style.width="100%",this.calendarButton[0].style.left="0px",this.calendarButton.css("border","none"),this.timeButton[0].style.width="100%",this.timeButton[0].style.left="0px",this.timeButton.css("border","none")),this.dateTimeInput.height()),s=(0==e&&"full"!=this.renderMode?(e=parseInt(this.dateTimeInput.css("font-size"))+3,this.calendarButton.addClass(this.toThemeProperty("jqx-rc-all")),this.timeButton.addClass(this.toThemeProperty("jqx-rc-all"))):e=17,-1==this.dateTimeInput[0].className.indexOf("jqx-rc-all")&&this.dateTimeInput.addClass(this.toThemeProperty("jqx-rc-all")),parseInt(t)/2-parseInt(e)/2);0<s&&(""==(r=this.dateTimeInput.css("font-size"))&&(r=13),s=t-2-parseInt(r)-2,e=(s=(s=isNaN(s)?0:s)<0?0:s)/2,b.jqx.browser.msie&&b.jqx.browser.version<8&&(e=s/4),this.dateTimeInput[0].style.paddingTop=Math.round(e)+"px",this.dateTimeInput[0].style.paddingBottom=Math.round(e)+"px"),this.rtl&&(this.calendarButton[0].style.width=i+"px",this.timeButton[0].style.width=i+"px",this.calendarButton.css("left","0px"),this.showCalendarButton?this.timeButton.css("left",i+"px"):this.timeButton.css("left","0px"),this.dateTimeInput.css("left",this.calendarButton.width()),this.showTimeButton&&this.showCalendarButton&&this.dateTimeInput.css("left",this.timeButton.width()+this.calendarButton.width()),b.jqx.browser.msie&&b.jqx.browser.version<=8&&(this.dateTimeInput.css("left",1+this.calendarButton.width()),this.showTimeButton&&this.showCalendarButton&&this.dateTimeInput.css("left",1+this.timeButton.width()+this.calendarButton.width())))},_removeHandlers:function(){this.removeHandler(b(document),"mousedown."+this.id),this.dateTimeInput&&(this.removeHandler(this.dateTimeInput,"keydown."+this.id),this.removeHandler(this.dateTimeInput,"blur"),this.removeHandler(this.dateTimeInput,"focus"),this.removeHandler(this.host,"focus"),this.removeHandler(this.dateTimeInput,"mousedown"),this.removeHandler(this.dateTimeInput,"mouseup"),this.removeHandler(this.dateTimeInput,"keydown"),this.removeHandler(this.dateTimeInput,"keyup"),this.removeHandler(this.dateTimeInput,"keypress")),null!=this.calendarButton&&this.removeHandler(this.calendarButton,"mousedown"),null!=this.timeButton&&this.removeHandler(this.timeButton,"mousedown"),null!=this.calendarContainer&&(this.removeHandler(this.calendarContainer,"cellSelected"),this.removeHandler(this.calendarContainer,"cellMouseDown")),this.removeHandler(b(window),"resize."+this.id)},isOpened:function(){var e=b.data(document.body,"openedJQXCalendar"+this.id);return null!=e&&e==this.calendarContainer},wheel:function(e,t){if(t.isEditing){t.changeType="mouse";var i=0;if((e=e||window.event).originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i)return!(t=t._handleDelta(i))&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1,t);e.preventDefault&&e.preventDefault(),e.returnValue=!1}},_handleDelta:function(e){return e<0?this.spinDown():this.spinUp(),!1},focus:function(){try{var e=this;e._firstFocusDate=e.getDate(),this._setSelectionStart(0),this._selectGroup(-1),this.dateTimeInput.focus(),setTimeout(function(){e._setSelectionStart(0),e._selectGroup(-1),e.dateTimeInput.focus()},25)}catch(e){}},_addHandlers:function(){this.element.id,this.element;var i=this,e=(this.host.parents()&&this.addHandler(this.host.parents(),"scroll.datetimeinput"+this.element.id,function(e){i.isOpened()&&i.close()}),this.addHandler(this.host,"mouseenter",function(){!i.disabled&&i.enableHover&&(i.calendarButtonIcon.addClass(i.toThemeProperty("jqx-icon-calendar-hover")),i.calendarButton.addClass(i.toThemeProperty("jqx-fill-state-hover")),i.showTimeButton&&(i.timeButtonIcon.addClass(i.toThemeProperty("jqx-icon-time-hover")),i.timeButton.addClass(i.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(this.host,"mouseleave",function(){!i.disabled&&i.enableHover&&(i.calendarButtonIcon.removeClass(i.toThemeProperty("jqx-icon-calendar-hover")),i.calendarButton.removeClass(i.toThemeProperty("jqx-fill-state-hover")),i.showTimeButton&&(i.timeButtonIcon.removeClass(i.toThemeProperty("jqx-icon-time-hover")),i.timeButton.removeClass(i.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(this.host,"mousewheel",function(e){i.wheel(e,i)}),this.addHandler(b(document),"mousedown."+this.id,this._closeOpenedCalendar,{me:this}),b.jqx.mobile.isTouchDevice()&&this.addHandler(b(document),b.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,this._closeOpenedCalendar,{me:this}),this.addHandler(this.dateTimeInput,"keydown."+this.id,function(e){var t=b.data(document.body,"openedJQXCalendar"+i.id);if(null!=t&&t==i.calendarContainer)return i.handleCalendarKey(e,i)}),null!=this.calendarContainer&&(this.addHandler(this.calendarContainer,"keydown",function(e){if(13==e.keyCode)return!(i.isOpened()&&!i._calendar._viewAnimating&&"month"==i._calendar.view)||(i.hideCalendar("selected","keyboard"),i.dateTimeInput.focus(),!1);if(9==e.keyCode){if(i.isOpened())return i.hideCalendar("selected","keyboard"),!0}else if(27==e.keyCode)return!i.isOpened()||(i.hideCalendar(null,"keyboard"),i.dateTimeInput.focus(),!1);if(i.timePopup=!1,84==e.keyCode&&(i.timePopup=!0),115==e.keyCode){if(i.isOpened())return i.hideCalendar("keyboard","keyboard"),i.dateTimeInput.focus(),!1;if(!i.isOpened())return i.showCalendar("keyboard","keyboard"),i.dateTimeInput.focus(),!1}if(e.altKey)if(38==e.keyCode){if(i.isOpened())return i.hideCalendar("keyboard","keyboard"),i.dateTimeInput.focus(),!1}else if(40==e.keyCode&&!i.isOpened())return i.showCalendar("keyboard","keyboard"),i.dateTimeInput.focus(),!1}),this.addHandler(this.calendarContainer,"cellSelected",function(e){i.closeCalendarAfterSelection&&(b.data(document.body,"openedJQXCalendarValue"),"mouse"!=e.args.selectionType||"range"==i.selectionMode&&0!=i._calendar._clicks||i.hideCalendar("selected","mouse"))}),this.addHandler(this.calendarContainer,"cellMouseDown",function(e){i.closeCalendarAfterSelection&&i._calendar.value&&b.data(document.body,"openedJQXCalendarValue",new b.jqx._jqxDateTimeInput.getDateTime(i._calendar.value.dateTime))})),this.addHandler(this.dateTimeInput,"blur",function(e){i.bar.removeClass("focused"),i.label.removeClass("focused"),i._endFullEdit(),null!=i.value&&(i.isEditing=!1,i.value.dateTime.getDay(),i._oldDT,i._validateValue(!0),e.stopPropagation&&e.stopPropagation(),i._updateText(),i._raiseEvent(9,e)),i.isOpened()||i.host.removeClass(i.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(e){i.focus()}),this.addHandler(this.dateTimeInput,"focus",function(e){if(i._firstFocusDate=i.getDate(),null!=i.value?("range"!=i.selectionMode?i._oldDT=new Date(i.value.dateTime):i._oldDT=i.getRange(),setTimeout(function(){var e=i._selection();i.isEditing=!0,i._validateValue(),i._updateText(),i._setSelectionStart(0),i._selectGroup(-1,e),i.host.addClass(i.toThemeProperty("jqx-fill-state-focus"))})):(i._setSelectionStart(0),i._selectGroup(-1),i.host.addClass(i.toThemeProperty("jqx-fill-state-focus"))),e.stopPropagation&&e.stopPropagation(),i.bar.addClass("focused"),i.label.addClass("focused"),e.preventDefault)return e.preventDefault(),!1}),"mousedown");this.touch&&(e=b.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.calendarButton,e,function(e){var t="block"==i.container.css("display");if(i.timePopup=!1,i.calendarPopup=!0,!i.disabled&&!i.isanimating){if(t)return i.hideCalendar(),!1;i.showCalendar("mouse"),e.preventDefault()}}),this.addHandler(this.timeButton,e,function(e){var t="block"==i.container.css("display");if(i.timePopup=!0,i.calendarPopup=!1,!i.disabled&&!i.isanimating){if(t)return i.hideCalendar("mouse","mouse"),!1;i.showCalendar("mouse"),e.preventDefault()}}),this.addHandler(this.dateTimeInput,"mousedown",function(e){return i.touch&&(!0===i.showTimeButton&&!1===i.showCalendarButton?i.open("time"):i.open()),i._raiseEvent(2,e)}),this.addHandler(this.dateTimeInput,"mouseup",function(e){return i._raiseEvent(3,e)}),this.addHandler(this.dateTimeInput,"keydown",function(e){return i._raiseEvent(4,e)}),this.addHandler(this.dateTimeInput,"keyup",function(e){var t=this.value;return i._fullEditInProgress&&i._enteredValue&&void 0!==i._mask[t.length]&&(this.value=this.value+i._mask[t.length]),i._raiseEvent(5,e)}),this.addHandler(this.dateTimeInput,"keypress",function(e){return i._raiseEvent(6,e)})},createID:function(){var e=Math.random()+"";return"dateTimeInput"+(e=+(e="99"+(e=e.replace(".",""))))},setMaxDate:function(e,t){null==e||null!=e&&"string"==typeof e&&(e=new Date(e),!this._isValidDate(e))||(this.maxDate=b.jqx._jqxDateTimeInput.getDateTime(e),null!=this._calendar&&this._calendar.setMaxDate(e),0!=t&&(null!=this.getDate()&&this.getDate()>e&&this.setDate(e),b.jqx.aria(this,"aria-valuemax",e),this._refreshValue(),this._updateText()))},getMaxDate:function(){return null!=this.maxDate&&null!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(e,t){null==e||null!=e&&"string"==typeof e&&(e=new Date(e),!this._isValidDate(e))||(this.minDate=b.jqx._jqxDateTimeInput.getDateTime(e),null!=this._calendar&&this._calendar.setMinDate(e),0!=t&&(null!=this.getDate()&&this.getDate()<e&&this.setDate(e),b.jqx.aria(this,"aria-valuemin",e),this._refreshValue(),this._updateText()))},getMinDate:function(){return null!=this.minDate&&null!=this.minDate?this.minDate.dateTime:null},_applyCulture:function(){var e,t=!1;try{null!=window.Globalize&&(t=!0)}catch(e){}try{b.global?(b.global.preferCulture(this.culture),this.localization.calendar=b.global.culture.calendar):t&&(e=Globalize.culture(this.culture),this.localization.calendar=e.calendar),this._loadItems(),null!=this._calendar&&(this._calendar.culture=this.culture,this._calendar.localization=this.localization,this._calendar.render())}catch(e){}},propertyMap:function(e){return"value"==e?"range"!=this.selectionMode?this.getDate():this.getRange():null},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.refresh(),e.close())},propertyChangedHandler:function(e,t,i,s){if(null!=e.isInitialized&&0!=e.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){if("dropDownVerticalAlignment"==t&&e.close(),"template"==t&&(e.bar.removeClass(e.toThemeProperty("jqx-"+i)),e.label.removeClass(e.toThemeProperty("jqx-"+i)),e.timeButton.removeClass(e.toThemeProperty("jqx-"+i)),e.calendarButton.removeClass(e.toThemeProperty("jqx-"+i)),e.bar.addClass(e.toThemeProperty("jqx-"+e.template)),e.label.addClass(e.toThemeProperty("jqx-"+e.template)),e.timeButton.addClass(e.toThemeProperty("jqx-"+e.template)),e.calendarButton.addClass(e.toThemeProperty("jqx-"+e.template))),"restrictedDates"==t&&e.calendarContainer.css({restrictedDates:s}),"popupZIndex"==t&&e.calendarContainer.css({zIndex:s}),"showCalendarButton"!=t&&"showDeleteButton"!==t||e._arrange(),"showTimeButton"==t&&(e._arrange(),e.timePopupElement&&(e.timePopupElement.remove(),e.timePopupElement=null)),"selectionMode"==t&&(e._calendar.selectionMode=s,e.refreshValue()),"min"==t&&("string"==typeof s?e.setMinDate(new Date(s)):e.setMinDate(s)),"max"==t&&("string"==typeof s?e.setMaxDate(new Date(s)):e.setMaxDate(s)),"value"==t)if(null!=s&&s instanceof Date){if(isNaN(s.getFullYear())||isNaN(s.getMonth())||isNaN(s.getDate()))return void(this.value=i);s=b.jqx._jqxDateTimeInput.getDateTime(s)}else{var r;null==s||"string"!=typeof s||null==(r=new Date(s))||isNaN(r)||(this.value=b.jqx._jqxDateTimeInput.getDateTime(r))}if("views"==t&&e.calendarContainer.jqxCalendar({views:s}),"enableViews"==t&&e.calendarContainer.jqxCalendar({enableViews:s}),"selectableDays"==t&&e.calendarContainer.jqxCalendar({selectableDays:s}),"showFooter"==t&&e.calendarContainer.jqxCalendar({showFooter:s}),"rtl"==t&&(e.calendarContainer.jqxCalendar({rtl:s}),s?(e.dateTimeInput.css("direction","rtl"),e.dateTimeInput.addClass("jqx-rtl")):(e.dateTimeInput.css("direction","ltr"),e.dateTimeInput.removeClass("jqx-rtl"))),"todayString"!=t&&"clearString"!=t||e.calendarContainer.jqxCalendar({clearString:e.clearString,todayString:e.todayString}),"dayNameFormat"==t&&e.calendarContainer.jqxCalendar({dayNameFormat:s}),"firstDayOfWeek"==t&&e.calendarContainer.jqxCalendar({firstDayOfWeek:s}),"showWeekNumbers"==t&&e.calendarContainer.jqxCalendar({showWeekNumbers:s}),"culture"==t||"localization"==t?e._applyCulture():"formatString"!=t&&("yearCutoff"!==t||null!==s&&null!==i)||("formatString"===t&&e._getMask(),e.items=new Array,e._loadItems()),"theme"==t&&(b.jqx.utilities.setTheme(i,s,e.host),e.calendarContainer.jqxCalendar({theme:s})),"width"==t||"height"==t)return e.close(),void e.refresh();e._setOption(t,s,i),"dropDownWidth"!=t&&"dropDownHeight"!=t||(e.calendarContainer.jqxCalendar({width:e.dropDownWidth,height:e.dropDownHeight}),e._calendar.render(),e.container.height(e.calendarContainer.height()),e.container.width(e.calendarContainer.width()))}},clear:function(){this.allowNullDate?("range"!=this.selectionMode?this.setDate(null):(this._calendar._clicks=1,this.setRange(null,null)),this._calendar._clicks=0):"range"!=this.selectionMode?this.setDate(this.getMinDate()):(this._calendar._clicks=1,this.setRange(this.getMinDate(),this.getMinDate()),this._calendar._clicks=0),this.hideCalendar()},today:function(){var e,t=new Date;t.setHours(0,0,0,0),"range"!=this.selectionMode?this.setDate(t):(this._calendar._clicks=0,(e=new Date).setHours(23,59,59,0),this.setRange(t,e),this._calendar._clicks=0),this.hideCalendar()},_isValidDate:function(e){return null==e||"object"==typeof e&&(!(null===e||!e.getFullYear)||!("Invalid Date"==e||e.valueOf()<0||isNaN(e.valueOf())))},setDate:function(e){var t=this.getDate();if(null!=e&&"string"==typeof e){var i=e;if(0<=e.toString().indexOf(",")&&(e=e.replace(/\,/g,"/"),e=new Date(e),this._isValidDate(e)||(e=i)),0<=e.toString().indexOf("-")&&(e=e.replace(/\-/g,"/"),e=new Date(e),(e=this._isValidDate(e)?e:i).getFullYear&&isNaN(e.getFullYear)&&(e=i)),""!=e){i=e;if(null===(e=null!=window.Globalize?window.Globalize.parseDate(i,this.formatString,this.culture):b.jqx.dataFormat?b.jqx.dataFormat.parsedate(i,this.formatString,this.localization.calendar):new Date(e))&&null!==i&&this._isValidDate(i)&&(e=i),!this._isValidDate(e))return}}if(null!=e&&"null"!=e&&"undefined"!=e||this.allowNullDate||(e=this.min),null==(e=this._isValidDate(e)?e:null)||"null"==e||"undefined"==e||""===e)null!=this.value&&(this.value=null,this._calendar.setDate(null),this._refreshValue(),this.cookies&&null!=this.value&&b.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this._setSelectionStart(0),this._selectGroup(-1),this._raiseEvent("0",e,t),this._raiseEvent("9",e,t));else if(!(e<this.getMinDate()||e>this.getMaxDate()))return null==this.value&&(this.value=new b.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),e.getFullYear&&(this.value._setYear(e.getFullYear()),this.value._setDay(1),this.value._setMonth(e.getMonth()+1),this.value._setHours(e.getHours()),this.value._setMinutes(e.getMinutes()),this.value._setSeconds(e.getSeconds()),this.value._setMilliseconds(e.getMilliseconds()),this.value._setDay(e.getDate())),this._validateTimeRange(),this._refreshValue(),this.cookies&&null!=this.value&&b.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),0!=this.getDate()-t?(this._raiseEvent("0",e,t),this._raiseEvent("9",e,t),!0):void 0},getDate:function(){return null==this.value?null:new Date(this.value.dateTime)},getText:function(){return this.dateTimeInput.val()},setRange:function(e,t){"object"!=typeof e||this._isValidDate(e)||(e=null),"object"!=typeof t||this._isValidDate(t)||(t=null),null!=e&&"string"==typeof e&&(e=new Date(e),!this._isValidDate(e))||null!=t&&"string"==typeof t&&(t=new Date(t),!this._isValidDate(t))||e&&isNaN(e)&&"NaN"==e.toString()&&"string"!=typeof e||t&&isNaN(t)&&"NaN"==t.toString()&&"string"!=typeof t||(this._calendar.setRange(e,t),t&&e&&t.valueOf()!=e.valueOf()?this._range={from:e,to:t}:this._range=this._calendar.getRange(),null!=(t=e)&&t.getFullYear&&(null==this.value&&(this.value=new b.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),this.value._setYear(t.getFullYear()),this.value._setMonth(t.getMonth()+1),this.value._setHours(t.getHours()),this.value._setMinutes(t.getMinutes()),this.value._setSeconds(t.getSeconds()),this.value._setMilliseconds(t.getMilliseconds()),this.value._setDay(t.getDate())),this._refreshValue(),this.value?this._raiseEvent("0",this.value.dateTime):this._raiseEvent("0",null))},getRange:function(){var e,t,i=this._calendar.getRange();return this._range&&(e=this._range.from,(t=this._range.to)&&e&&t.valueOf()!=e.valueOf()&&(i.from&&i.from.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),i.to&&i.to.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))),i},_validateValue:function(e){for(var t=0;t<this.items.length;t++){var i=this.editors[t].value;switch(this.items[t].type){case"FORMAT_AMPM":i<0?i=0:1<i&&(i=1);break;case"Character":break;case"Day":i<1?i=1:31<i&&(i=31);break;case"FORMAT_hh":i<1?i=1:12<i&&(i=12);break;case"FORMAT_HH":i<0?i=0:23<i&&(i=23);break;case"Millisecond":i<0?i=0:999<i&&(i=999);break;case"Minute":i<0?i=0:59<i&&(i=59);break;case"Month":i<1?i=1:12<i&&(i=12);break;case"ReadOnly":break;case"Second":i<0?i=0:59<i&&(i=59);break;case"Year":i<this.minDate.year?i=this.minDate.year:i>this.maxDate.year&&(i=this.maxDate.year)}this.editors[t].value!=i&&(this.editors[t].value=i)}this.updateValue(e),null!=this.value&&!0===e&&(this.value.dateTime>this.maxDate.dateTime?(this._internalSetValue(this.maxDate),this._updateEditorsValue()):this.value.dateTime<this.minDate.dateTime&&(this._internalSetValue(this.minDate),this._updateEditorsValue()),this._updateText())},spinUp:function(){var e=this.value;if(null!=e){if(null!=this.activeEditor){e=this.editors.indexOf(this.activeEditor);if(-1==e)return;"Day"==this.items[e].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));e=this.activeEditor.positions;this.activeEditor.increaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=e}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();e=this.editors.indexOf(this.activeEditor);0<=e&&this._selectGroup(e)}},spinDown:function(){var e=this.value;if(null!=e){if(null!=this.activeEditor){e=this.editors.indexOf(this.activeEditor);if(-1==e)return;"Day"==this.items[e].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));e=this.activeEditor.positions;this.activeEditor.decreaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=e}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();e=this.editors.indexOf(this.activeEditor);0<=e&&this._selectGroup(e)}},_passKeyToCalendar:function(e){if(13==e.keyCode||9==e.keyCode)return this.hideCalendar("selected","keyboard"),!0;27==e.keyCode&&(this.calendarContainer,i=this._calendar,t=this.closeCalendarAfterSelection,this.closeCalendarAfterSelection=!1,i.setDate(this.value.dateTime),this.closeCalendarAfterSelection=t,this.hideCalendar());var t=this.closeCalendarAfterSelection,i=(this.closeCalendarAfterSelection=!1,this._calendar._handleKey(e));return this.closeCalendarAfterSelection=t,i},handleCalendarKey:function(e,t){b(e.target);var i=b.data(document.body,"openedJQXCalendar"+this.id);if(null!=i&&0<i.length)return t._passKeyToCalendar(e);return!0},_findPos:function(e){if(null!=e){for(;e&&("hidden"==e.type||1!=e.nodeType||b.expr.filters.hidden(e));)e=e.nextSibling;var t=b(e).coord(!0);return[t.left,t.top]}},testOffset:function(e,t,i){var s=e.outerWidth(),e=e.outerHeight(),r=b(window).width()+b(window).scrollLeft(),n=b(window).height()+b(window).scrollTop();return t.left+s>r&&s>this.host.width()&&(r=this.host.coord().left,s=s-this.host.width(),t.left=r-s+2),t.left<0&&(t.left=parseInt(this.host.coord().left)+"px"),t.top-=Math.min(t.top,t.top+e>n&&e<n?Math.abs(e+i+23):0),t},open:function(e){this.timePopup="time"==e,this.showCalendar()},close:function(e){this.hideCalendar()},_getBodyOffset:function(){var e=0,t=0;return"0px"!=b("body").css("border-top-width")&&(e=parseInt(b("body").css("border-top-width")),isNaN(e)&&(e=0)),"0px"!=b("body").css("border-left-width")&&(t=parseInt(b("body").css("border-left-width")),isNaN(t)&&(t=0)),{left:t,top:e}},initTimePopup:function(){this.timePopupElement=b("<div style='border-style: solid; border-width: 0px;'></div>").appendTo(this.timeContainer),this.timePopupElement.addClass(this.toThemeProperty("jqx-widget-content jqx-widget jqx-date-time-input-popup"));function e(e){e=e.find("tr"),-1==s.indexOf("mm")&&(n.minuteInput.hide(),n.minuteInput2.hide(),b(b(e[0]).children()[1]).hide(),b(b(e[0]).children()[2]).hide(),b(b(e[1]).children()[1]).hide(),b(b(e[1]).children()[2]).hide(),b(b(e[2]).children()[1]).hide(),b(b(e[2]).children()[2]).hide()),-1==s.indexOf("ss")&&(n.secondInput.hide(),n.secondInput2.hide(),b(b(e[0]).children()[3]).hide(),b(b(e[0]).children()[4]).hide(),b(b(e[1]).children()[3]).hide(),b(b(e[1]).children()[4]).hide(),b(b(e[2]).children()[3]).hide(),b(b(e[2]).children()[4]).hide()),-1==s.indexOf("tt")&&-1==s.indexOf("hh")&&(n.meridianInput.hide(),n.meridianInput2.hide(),b(b(e[0]).children()[7]).hide(),b(b(e[0]).children()[8]).hide(),b(b(e[1]).children()[7]).hide(),b(b(e[1]).children()[8]).hide(),b(b(e[2]).children()[7]).hide(),b(b(e[2]).children()[8]).hide()),-1==s.indexOf("zz")&&(n.mssecondInput.hide(),n.mssecondInput2.hide(),b(b(e[0]).children()[5]).hide(),b(b(e[0]).children()[6]).hide(),b(b(e[1]).children()[5]).hide(),b(b(e[1]).children()[6]).hide(),b(b(e[2]).children()[5]).hide(),b(b(e[2]).children()[6]).hide())}var t="",s=(t+="<table><tbody><tr><td><a class='increment-hour-column' href='javascript:;' data-action='incrementHour'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-minute-column' href='javascript:;' data-action='incrementMinute'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-second-column' href='javascript:;' data-action='incrementSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-millisecond-column' href='javascript:;' data-action='incrementMSSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td class='increment-meridian-column'><a href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-up'></div></a></td></tr><tr><td><input type='text' class='jqx-timepicker-hour' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-minute' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-second' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-millisecond' maxlength='3'></td><td class='separator'>&nbsp;</td><td><input type='text' class='jqx-timepicker-meridian' maxlength='2'></td></tr><tr><td><a class='decrement-hour-column' href='javascript:;' data-action='decrementHour'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-minute-column' href='javascript:;' data-action='decrementMinute'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-second-column' href='javascript:;' data-action='decrementSecond'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-millisecond-column' href='javascript:;' data-action='decrementMillisecond'><div class='jqx-icon-down'></div></a></td><td class='separator'>&nbsp;</td><td><a class='decrement-meridian-column' href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-down'></div></a></td></tr></tbody></table>",this._getFormatValue(this.formatString)),t=("range"!=this.selectionMode?this.timePopupElement[0].innerHTML=t:this.timePopupElement[0].innerHTML="<table><tr><td>"+t+"</td><td>-</td><td>"+t+"</td></tr></table>",this.timePopupElement.find(".jqx-icon-down").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-down")),this.timePopupElement.find(".jqx-icon-up").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-up")),this.timePopupElement.find("input")),i=(t.addClass(this.toThemeProperty("jqx-input")),t.addClass(this.toThemeProperty("jqx-rc-all")),this.addHandler(t,"mousedown",function(e){e.stopPropagation()}),function(e){0<=e.target.className.indexOf("hour")&&n._decrementHour(b(e.target)),0<=e.target.className.indexOf("minute")&&n._decrementMinuteSecond(b(e.target)),0<=e.target.className.indexOf("second")&&n._decrementMinuteSecond(b(e.target)),0<=e.target.className.indexOf("millisecond")&&n._decrementMillisecond(b(e.target)),0<=e.target.className.indexOf("meridian")&&n._decrementMeridian(b(e.target))}),r=function(e){0<=e.target.className.indexOf("hour")&&n._incrementHour(b(e.target)),0<=e.target.className.indexOf("minute")&&n._incrementMinuteSecond(b(e.target)),0<=e.target.className.indexOf("second")&&n._incrementMinuteSecond(b(e.target)),0<=e.target.className.indexOf("millisecond")&&n._incrementMillisecond(b(e.target)),0<=e.target.className.indexOf("meridian")&&n._incrementMeridian(b(e.target))},n=(this.addHandler(t,"wheel",function(e){var t;e=e,(t=n).isEditing&&(t=0,(e=e||window.event).originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.originalEvent&&null!=e.originalEvent.deltaY&&(t=-e.originalEvent.deltaY),e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t&&(document.activeElement==e.target&&"input"==e.target.nodeName.toLowerCase()&&(t<0?i:r)(e),e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.preventDefault&&e.preventDefault(),e.returnValue=!1)}),this.addHandler(t,"keydown",function(e){b(e.target);if(e.ctrlKey)if(38==e.keyCode){if(n.isOpened())return n.hideCalendar("keyboard","keyboard"),n.dateTimeInput.focus(),!1}else if(40==e.keyCode&&!n.isOpened())return n.showCalendar("keyboard","keyboard"),n.dateTimeInput.focus(),!1;40==e.keyCode?(i(e),e.preventDefault()):38==e.keyCode?(r(e),e.preventDefault()):13==e.keyCode?(e.preventDefault(),n.hideCalendar("keyboard","keyboard"),n.dateTimeInput.focus()):27==e.keyCode&&(e.preventDefault(),n.hideCalendar("cancel"),n.dateTimeInput.focus())}),this.hourInput=b(t[0]),this.minuteInput=b(t[1]),this.secondInput=b(t[2]),this.mssecondInput=b(t[3]),this.meridianInput=b(t[4]),this.hourInput2=b(t[5]),this.minuteInput2=b(t[6]),this.secondInput2=b(t[7]),this.mssecondInput2=b(t[8]),this.meridianInput2=b(t[9]),this),o=this.timePopupElement.find(".increment-hour-column"),o=(this.hourIncrement=b(o[0]),this.hourIncrement2=b(o[1]),this.addHandler(t,"change",function(e){var t=b(e.target);if(t.val().length<=1&&t.val("0"+b(e.target).val()),0<=e.target.className.indexOf("hour")){var i=parseInt(b(e.target).val());if(0<=s.indexOf("HH"))for(;24<i;)i-=24;else for(;12<i;)i-=12;i<10&&(i="0"+i),t.val()!=i&&t.val(i)}if(0<=e.target.className.indexOf("minute")||0<=e.target.className.indexOf("second")){for(i=parseInt(b(e.target).val());59<i;)i--;i<10&&(i="0"+i),t.val()!=i&&t.val(i)}}),this._incrementHour=function(e){var t=parseInt(e.val());t++,0<=s.indexOf("HH")?23<t&&(t=0):12<t&&(t=1),e.val(t=t<10?"0"+t:t)},this._incrementMinuteSecond=function(e){var t=parseInt(e.val());e.val(t=(t=59<++t?0:t)<10?"0"+t:t)},this._incrementMillisecond=function(e){var t=parseInt(e.val());e.val(t=(t=999<++t?0:t)<10?"0"+t:t)},this._incrementMeridian=function(e){var t=0<=(t=e.val()).toLowerCase().indexOf("a")?"PM":"AM";e.val(t)},this._decrementHour=function(e){var t=parseInt(e.val());t--,0<=s.indexOf("HH")?t<0&&(t=23):t<1&&(t=12),e.val(t=t<10?"0"+t:t)},this._decrementMinuteSecond=function(e){var t=parseInt(e.val());e.val(t=(t=--t<0?59:t)<10?"0"+t:t)},this._decrementMillisecond=function(e){var t=parseInt(e.val());e.val(t=(t=--t<0?999:t)<10?"0"+t:t)},this._decrementMeridian=function(e){var t=0<=(t=e.val()).toLowerCase().indexOf("a")?"PM":"AM";e.val(t)},this.addHandler(this.hourIncrement,"mousedown",function(e){e.stopPropagation(),n._incrementHour(n.hourInput)}),this.addHandler(this.hourIncrement2,"mousedown",function(e){e.stopPropagation(),n._incrementHour(n.hourInput2)}),this.timePopupElement.find(".increment-minute-column")),t=(this.minuteIncrement=b(o[0]),this.minuteIncrement2=b(o[1]),this.addHandler(this.minuteIncrement,"mousedown",function(e){e.stopPropagation(),n._incrementMinuteSecond(n.minuteInput)}),this.addHandler(this.minuteIncrement2,"mousedown",function(e){e.stopPropagation(),n._incrementMinuteSecond(n.minuteInput2)}),this.timePopupElement.find(".increment-second-column")),o=(this.secondIncrement=b(t[0]),this.secondIncrement2=b(t[1]),this.addHandler(this.secondIncrement,"mousedown",function(e){e.stopPropagation(),n._incrementMinuteSecond(n.secondInput)}),this.addHandler(this.secondIncrement2,"mousedown",function(e){e.stopPropagation(),n._incrementMinuteSecond(n.secondInput2)}),this.timePopupElement.find(".increment-millisecond-column")),t=(this.millisecondsIncrement=b(o[0]),this.millisecondsIncrement2=b(o[1]),this.addHandler(this.millisecondsIncrement,"mousedown",function(e){e.stopPropagation(),n._incrementMillisecond(n.mssecondInput)}),this.addHandler(this.millisecondsIncrement2,"mousedown",function(e){e.stopPropagation(),n._incrementMillisecond(n.mssecondInput2)}),this.timePopupElement.find(".increment-meridian-column")),o=(this.meridianIncrement=b(t[0]),this.meridianIncrement2=b(t[1]),this.addHandler(this.meridianIncrement,"mousedown",function(e){e.stopPropagation(),n._incrementMeridian(n.meridianInput)}),this.addHandler(this.meridianIncrement2,"mousedown",function(e){e.stopPropagation(),n._incrementMeridian(n.meridianInput2)}),this.timePopupElement.find(".decrement-hour-column")),t=(this.hourDecrement=b(o[0]),this.hourDecrement2=b(o[1]),this.addHandler(this.hourDecrement,"mousedown",function(e){e.stopPropagation(),n._decrementHour(n.hourInput)}),this.addHandler(this.hourDecrement2,"mousedown",function(e){e.stopPropagation(),n._decrementHour(n.hourInput2)}),this.timePopupElement.find(".decrement-minute-column")),o=(this.minuteDecrement=b(t[0]),this.minuteDecrement2=b(t[1]),this.addHandler(this.minuteDecrement,"mousedown",function(e){e.stopPropagation(),n._decrementMinuteSecond(n.minuteInput)}),this.addHandler(this.minuteDecrement2,"mousedown",function(e){e.stopPropagation(),n._decrementMinuteSecond(n.minuteInput2)}),this.timePopupElement.find(".decrement-second-column")),t=(this.secondDecrement=b(o[0]),this.secondDecrement2=b(o[1]),this.addHandler(this.secondDecrement,"mousedown",function(e){e.stopPropagation(),n._decrementMinuteSecond(n.secondInput)}),this.addHandler(this.secondDecrement2,"mousedown",function(e){e.stopPropagation(),n._decrementMinuteSecond(n.secondInput2)}),this.timePopupElement.find(".decrement-millisecond-column")),o=(this.millisecondsDecrement=b(t[0]),this.millisecondsDecrement2=b(t[1]),this.addHandler(this.millisecondsDecrement,"mousedown",function(e){e.stopPropagation(),n._decrementMillisecond(n.mssecondInput)}),this.addHandler(this.millisecondsDecrement2,"mousedown",function(e){e.stopPropagation(),n._decrementMillisecond(n.mssecondInput2)}),this.timePopupElement.find(".decrement-meridian-column")),t=(this.meridianDecrement=b(o[0]),this.meridianDecrement2=b(o[1]),this.addHandler(this.meridianDecrement,"mousedown",function(e){e.stopPropagation(),n._decrementMeridian(n.meridianInput)}),this.addHandler(this.meridianDecrement2,"mousedown",function(e){e.stopPropagation(),n._decrementMeridian(n.meridianInput2)}),this.timePopupElement.find("table"));this.addHandler(this.timePopupElement,"mousedown",function(e){e.stopPropagation()});1==t.length?e(t):(e(b(b(t)[1])),e(b(b(t)[2])))},updateTimePopup:function(){var e,t,i,s,r,n,o=this._getFormatValue(this.formatString);"range"!=this.selectionMode?(e=this.getDate(),this.hourInput&&(n=e?(t=e.getHours(),i=e.getMinutes(),s=e.getHours(),r=e.getSeconds(),e.getMilliseconds()):r=s=i=t=0,12<=t?(s="PM",-1==o.indexOf("HH")&&0==(t-=12)&&(t=12)):s="AM","none"!=this.meridianInput.css("display")&&0==t&&(t=12),i<10&&(i="0"+i),r<10&&(r="0"+r),n<10&&(n="0"+n),this.hourInput.val(t=t<10?"0"+t:t),this.minuteInput.val(i),this.secondInput.val(r),this.mssecondInput.val(n),this.meridianInput.val(s))):(e=this.getRange().from,this.hourInput&&(n=e?(t=e.getHours(),i=e.getMinutes(),s=e.getHours(),r=e.getSeconds(),e.getMilliseconds()):r=s=i=t=0,12<=t?(s="PM",-1==o.indexOf("HH")&&0==(t-=12)&&(t=12)):s="AM","none"!=this.meridianInput.css("display")&&0==t&&(t=12),i<10&&(i="0"+i),r<10&&(r="0"+r),n<10&&(n="0"+n),this.hourInput.val(t=t<10?"0"+t:t),this.minuteInput.val(i),this.secondInput.val(r),this.mssecondInput.val(n),this.meridianInput.val(s)),e=this.getRange().to,this.hourInput2&&(n=e?(t=e.getHours(),i=e.getMinutes(),s=e.getHours(),r=e.getSeconds(),e.getMilliseconds()):r=s=i=t=0,12<=t?(s="PM",-1==o.indexOf("HH")&&0==(t-=12)&&(t=12)):s="AM","none"!=this.meridianInput.css("display")&&0==t&&(t=12),i<10&&(i="0"+i),r<10&&(r="0"+r),n<10&&(n="0"+n),this.hourInput2.val(t=t<10?"0"+t:t),this.minuteInput2.val(i),this.secondInput2.val(r),this.mssecondInput2.val(n),this.meridianInput2.val(s)))},showCalendar:function(){var e=this.calendarContainer,t=this._calendar;if(b.jqx.aria(this,"aria-expanded",!0),this.showTimeButton)if(this.timePopup){this.timePopupElement||this.initTimePopup(),this.calendarContainer.css("visibility","hidden"),this.timeContainer.css("visibility","visible"),this.updateTimePopup();for(var i=this.timeContainer.find("input"),s=0,r=0;r<i.length;r++)"none"!=i[r].style.display&&(s+=50);this.container.width(parseInt(s)),this.touch||setTimeout(function(){i[0].focus(),b(i[0]).select()},150+this.openDelay)}else this.container.width(parseInt(this.calendarContainer.width())+25),this.timeContainer.css("visibility","hidden"),this.calendarContainer.css("visibility","visible");null!=this.value?"range"!=this.selectionMode?this._oldDT=new Date(this.value.dateTime):this._oldDT=this.getRange():this._oldDT=null,t.canRender||(t.canRender=!0,t.render());this.container;var n,o=this,a=(b(window).scrollTop(),b(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),l=parseInt(Math.round(this.host.coord(!0).left)),d=("element"===this.dropDownContainer&&(a=parseInt(this.host.outerHeight())-1+"px"),this.container.css("left",l+"px"),this.container.css("top",a),this.closeCalendarAfterSelection),t=(this.closeCalendarAfterSelection=!1,this.isEditing=!1,"default"==o.selectionMode&&(this._validateValue(),this._updateText(),n=null!=this.value?this.value.dateTime:new Date,t.setDate(n)),this.closeCalendarAfterSelection=d,!1);"right"!=this.dropDownHorizontalAlignment&&!this.rtl||(n=this.container.outerWidth(),d=Math.abs(n-this.host.outerWidth()+2),this.rtl||(d-=2),n>this.host.width()?this.container.css("left",23+parseInt(Math.round(l))-d+"px"):this.container.css("left",25+parseInt(Math.round(l))+d+"px")),"top"==this.dropDownVerticalAlignment&&(n=e.height(),this.timePopup&&this.timeContainer.css("top",this.container.height()-75),t=!0,e.css("top",23),e.addClass(this.toThemeProperty("jqx-popup-up")),l=parseInt(this.host.outerHeight()),d=parseInt(a)-Math.abs(n+l+23),this.container.css("top",d)),this.enableBrowserBoundsDetection&&(n=this.testOffset(e,{left:parseInt(this.container.css("left")),top:parseInt(a)},parseInt(this.host.outerHeight())),parseInt(this.container.css("top"))!=n.top?(t=!0,e.css("top",23),e.addClass(this.toThemeProperty("jqx-popup-up"))):e.css("top",0),this.container.css("top",n.top),parseInt(this.container.css("left"))!=n.left&&this.container.css("left",n.left)),this._raiseEvent(7,e),"none"!=this.animationType&&"transform"!=this.animationType?(this.container.css("display","block"),l=parseInt(e.outerHeight()),e.stop(),this.isanimating=!0,this.opening=!0,"fade"==this.animationType?(e.css("margin-top",0),e.css("opacity",0),e.animate({opacity:1},this.openDelay,function(){o.isanimating=!1,o.opening=!1,b.data(document.body,"openedJQXCalendar"+o.id,e),o.calendarContainer.focus()}),this.timePopup&&(this.timeContainer.css("margin-top",0),this.timeContainer.css("opacity",0),this.timeContainer.animate({opacity:1},this.openDelay,function(){o.isanimating=!1,o.opening=!1,b.data(document.body,"openedJQXCalendar"+o.id,e),o.timeContainer.focus()}))):(e.css("opacity",1),this.timePopup&&this.timeContainer.css("opacity",1),t?e.css("margin-top",l):e.css("margin-top",-l),this.timePopup&&(t?this.timeContainer.css("margin-top",l):this.timeContainer.css("margin-top",-l),this.timeContainer.animate({"margin-top":0},this.openDelay,function(){o.isanimating=!1,o.opening=!1,b.data(document.body,"openedJQXCalendar"+o.id,e),o.timeContainer.focus()})),e.animate({"margin-top":0},this.openDelay,function(){o.isanimating=!1,o.opening=!1,b.data(document.body,"openedJQXCalendar"+o.id,e),o.calendarContainer.focus()}))):(e.stop(),o.isanimating=!1,o.opening=!1,e.css("opacity",1),e.css("margin-top",0),this.container.css("display","block"),b.data(document.body,"openedJQXCalendar"+o.id,e),this.calendarContainer.focus(),this.timePopup&&(this.timeContainer.stop(),this.timeContainer.css("opacity",1),this.timeContainer.css("margin-top",0),this.timeContainer.focus())),null==this.value&&this._calendar&&this._calendar._getSelectedCell()&&(this._calendar._getSelectedCell().isSelected=!1),this.timePopup?(this.timeButtonIcon.addClass(this.toThemeProperty("jqx-icon-time-pressed")),this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.timeContainer.addClass(this.toThemeProperty("jqx-fill-state-focus"))):(this.calendarButtonIcon.addClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.calendarContainer.addClass(this.toThemeProperty("jqx-fill-state-focus"))),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.calendarContainer.addClass(this.toThemeProperty("jqx-popup-show")),this.isMaterialized()&&this._calendar.refresh()},hideCalendar:function(e,t){t&&(this.changeType=t);var t=this.calendarContainer,i=this.container,s=this;if(b.jqx.aria(this,"aria-expanded",!1),this.showTimeButton&&"hidden"!=this.timeContainer.css("visibility")&&"cancel"!=e)if("range"!=this.selectionMode&&this.hourInput){var r=this.getDate(),n=parseInt(this.hourInput.val()),o=parseInt(this.minuteInput.val()),a=parseInt(this.secondInput.val()),l=parseInt(this.mssecondInput.val()),d=this.meridianInput.val();isNaN(n)&&(n=0),isNaN(o)&&(o=0),isNaN(a)&&(a=0),isNaN(l)&&(l=0),"none"!=this.meridianInput.css("display")&&(0<=d.toLowerCase().indexOf("p")&&n<12&&(n+=12),0<=d.toLowerCase().indexOf("a")&&12<=n&&(n-=12)),(r=r||new Date).setHours(n,o,a,l),this.setDate(r)}else if(this.hourInput&&"selected"!=e){var r=this.getRange(),n=parseInt(this.hourInput.val()),o=parseInt(this.minuteInput.val()),a=parseInt(this.secondInput.val()),l=parseInt(this.mssecondInput.val()),d=this.meridianInput.val(),h=(isNaN(n)&&(n=0),isNaN(o)&&(o=0),isNaN(a)&&(a=0),isNaN(l)&&(l=0),"none"!=this.meridianInput.css("display")&&(0<=d.toLowerCase().indexOf("p")&&n<12&&(n+=12),0<=d.toLowerCase().indexOf("a")&&12<=n&&(n-=12)),r.from),n=((h=h||new Date).setHours(n,o,a,l),parseInt(this.hourInput2.val())),o=parseInt(this.minuteInput2.val()),a=parseInt(this.secondInput2.val()),l=parseInt(this.mssecondInput2.val()),d=this.meridianInput2.val(),d=(""==o&&(o=0),""==a&&(a=0),""==l&&(l=0),"none"!=this.meridianInput2.css("display")&&(0<=d.toLowerCase().indexOf("p")&&n<12&&(n+=12),0<=d.toLowerCase().indexOf("a")&&12<=n&&(n-=12)),r.to);if((d=d||new Date).setHours(n,o,a,l),d.valueOf()<h.valueOf())return!1;this.setRange(h,d)}else if("selected"==e)return;b.data(document.body,"openedJQXCalendar"+this.id,null),"none"!=this.animationType&&"transform"!=this.animationType?(r=t.outerHeight(),t.css("margin-top",0),this.showTimeButton&&this.timeContainer.css("margin-top",0),this.isanimating=!0,n=-r,parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(n=r),"fade"==this.animationType?t.animate({opacity:0},this.closeDelay,function(){i.css("display","none"),s.isanimating=!1}):t.animate({"margin-top":n},this.closeDelay,function(){i.css("display","none"),s.isanimating=!1}),this.showTimeButton&&("fade"==this.animationType?this.timeContainer.animate({opacity:0},this.closeDelay,function(){i.css("display","none"),s.isanimating=!1}):this.timeContainer.animate({"margin-top":n},this.closeDelay,function(){i.css("display","none"),s.isanimating=!1}))):"transform"===this.animationType?setTimeout(function(){i.css("display","none")},this.closeDelay):i.css("display","none"),null!=e&&this._updateSelectedDate(e),this.timeButtonIcon.removeClass(this.toThemeProperty("jqx-icon-time-pressed")),this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.calendarButtonIcon.removeClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.timeContainer.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.calendarContainer.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent(8,t),this.calendarContainer.removeClass(this.toThemeProperty("jqx-popup-show"))},_updateSelectedDate:function(){var e=this.value,t=(null==e&&((e=new b.jqx._jqxDateTimeInput.getDateTime(new Date))._setHours(0),e._setMinutes(0),e._setSeconds(0),e._setMilliseconds(0)),e.hour),i=e.minute,s=e.second,e=e.millisecond;if("range"==this.selectionMode&&null==this._calendar.getRange().from)this.setDate(null);else{(r=new b.jqx._jqxDateTimeInput.getDateTime(this._calendar.value.dateTime))._setHours(t),r._setMinutes(i),r._setSeconds(s),r._setMilliseconds(e);t=this.setDate(r.dateTime);if("range"==this.selectionMode&&!t&&this._oldDT){var r,i=this.getRange(),s=(this._oldDT,!1),e=!1,t=this._oldDT.from;if(null!=(r=i.from)&&t&&r.getFullYear()==t.getFullYear()&&r.getMonth()==t.getMonth()&&r.getDate()==t.getDate()&&r.getHours()==t.getHours()&&r.getMinutes()==t.getMinutes()&&r.getSeconds()==t.getSeconds()&&(s=!0),null!=(r=i.to)&&(t=this._oldDT.to)&&r.getFullYear()==t.getFullYear()&&r.getMonth()==t.getMonth()&&r.getDate()==t.getDate()&&r.getHours()==t.getHours()&&r.getMinutes()==t.getMinutes()&&r.getSeconds()==t.getSeconds()&&(e=!0),s&&e)return!0;this._raiseEvent(0,{}),this._raiseEvent(9,{})}}},_closeOpenedCalendar:function(e){var t=b(e.target),i=b.data(document.body,"openedJQXCalendar"+e.data.me.id),s=!1;if(b.each(t.parents(),function(){if(this.className&&this.className.indexOf)return-1!=this.className.indexOf("jqx-calendar")||-1!=this.className.indexOf("jqx-date-time-input-popup")?!(s=!0):-1==this.className.indexOf("jqx-input")&&void 0}),b(e.target).ischildof(e.data.me.host))return!0;if(null!=e.target&&("B"==e.target.tagName||"b"==e.target.tagName)){var t=e.data.me.host.coord(),r=e.data.me.host.width(),n=e.data.me.host.height(),o=parseInt(t.top),t=parseInt(t.left);if(o<=e.pageY&&e.pageY<=o+n&&t<=e.pageX&&e.pageX<=t+r)return!0}null==i||s||0<i.length&&(o=i[0].id.toString().toString().substring(13),b(document).find("#"+o),!1!==e.data.me.hideCalendar()&&b.data(document.body,"openedJQXCalendar"+e.data.me.id,null))},_loadItems:function(){if(null!=this.value){this.items=new Array;var e=this._getFormatValue(this.formatString);this.items=this._parseFormatValue(e),this.editors=new Array;for(var t=0;t<this.items.length;t++){var i=this.items[t].getDateTimeEditorByItemType(this.value,this);this.editors[t]=i}}this._updateEditorsValue(),this._updateText()},_updateText:function(){var e,t,i,s=this,r="";0==s.items.length&&null!=s.value&&s._loadItems(),null!=s.value&&(1<=s.items.length&&(r=s.format(s.value,0,s.items.length)),s.dateTimeInput.val()!=r&&s._raiseEvent(1,s.value)),"range"==s.selectionMode&&(e=s.getRange(),t=s.format(s.value,0,s.items.length),e.to?(i=b.jqx._jqxDateTimeInput.getDateTime(e.from),t=s.format(i,0,s.items.length),i=b.jqx._jqxDateTimeInput.getDateTime(e.to)," - "==(r=t+" - "+s.format(i,0,s.items.length))&&(r="")):r=""),s.dateTimeInput.val(r)},format:function(e,t,i){for(var s="",r=t;r<i;++r){var n=this.items[r],o=n.dateParser(e,this);if(this.isEditing&&"ReadOnly"!=n.type&&"range"!=this.selectionMode){var a="Day"==n.type&&2<n.format.length;if("FORMAT_AMPM"==n.type&&(a=!0,o=0==this.editors[r].value?this.editors[r].amString:this.editors[r].pmString),!a)if(null!==this.yearCutoff&&"Year"===n.type&&"yy"===n.format)o=this.editors[r].value.toString().substring(2);else for(o=n.dateParserInEditMode(new Number(this.editors[r].value),"d"+this.editors[r].maxEditPositions,this);o.length<this.editors[r].maxEditPositions;)o="0"+o}s+=o}return s},_getFormatValueGroupLength:function(e){for(var t=1;t<e.toString().length;++t)if(e.substring(t,t+1)!=e.substring(0,1))return t;return e.length},_parseFormatValue:function(e){for(var t=new Array,i=e.toString(),s=0;0<i.length;){var r=this._getFormatValueGroupLength(i),n=null;switch(i.substring(0,1)){case":":case"/":n=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r=1),"ReadOnly",this.culture);break;case'"':case"'":var o=i.indexOf(i[0],1),n=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(1,1+Math.max(1,o-1)),"ReadOnly",this.culture),r=Math.max(1,o+1);break;case"\\":2<=i.length&&(n=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(1,1),"ReadOnly",this.culture),r=2);break;case"d":case"D":n=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"Day",this.culture);break;case"f":case"F":n=3<(r=7<r?7:r)?b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"ReadOnly",this.culture):b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"Millisecond",this.culture);break;case"g":n=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"ReadOnly",this.culture);break;case"h":n=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"FORMAT_hh",this.culture);break;case"H":n=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"FORMAT_HH",this.culture);break;case"m":n=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"Minute",this.culture);break;case"M":4<r&&(r=4),n=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"Month",this.culture);break;case"s":case"S":n=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"Second",this.culture);break;case"t":case"T":n=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"FORMAT_AMPM",this.culture);break;case"y":case"Y":n=1<r?b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"Year",this.culture):b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r=1),null,"ReadOnly",this.culture);break;case"z":n=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r),"ReadOnly",this.culture);break;default:n=b.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,r=1),"ReadOnly",this.culture)}t[s]=b.extend(!0,{},n),i=i.substring(r),s++}return t},_getFormatValue:function(e){if(1==(e=null!=e&&0!=e.length?e:"d").length)switch(e.substring(0,1)){case"d":return this.localization.calendar.patterns.d;case"D":return this.localization.calendar.patterns.D;case"t":return this.localization.calendar.patterns.t;case"T":return this.localization.calendar.patterns.T;case"f":return this.localization.calendar.patterns.f;case"F":return this.localization.calendar.patterns.F;case"M":return this.localization.calendar.patterns.M;case"Y":return this.localization.calendar.patterns.Y;case"S":return this.localization.calendar.patterns.S}return e=2==e.length&&"%"==e.substring(0,1)?e.substring(1):e},_updateEditorsValue:function(){var e=this.value;if(null!=e){var t=e.year,i=e.day,s=e.hour,r=e.millisecond,n=e.second,o=e.minute,a=e.month;if(null!=this.items)for(var l,d=0;d<this.items.length;d++)switch(this.items[d].type){case"FORMAT_AMPM":0==(l=s%12)&&(l=12),this.editors[d].value=0<=s&&s<12?0:1;break;case"Day":this.editors[d].value=i;break;case"FORMAT_hh":0==(l=s%12)&&(l=12),this.editors[d].value=l;break;case"FORMAT_HH":this.editors[d].value=s;break;case"Millisecond":this.editors[d].value=r;break;case"Minute":this.editors[d].value=o;break;case"Month":this.editors[d].value=a;break;case"Second":this.editors[d].value=n;break;case"Year":this.editors[d].value=t}}},updateValue:function(e){if(!(this.isEditing||this.items&&0==this.items.length)){for(var t=1,i=1,s=0,r=0,n=0,o=0,a=1,l=!1,d=!1,h=!1,c=!1,u=!1,p=!1,m=!1,g=new Array,f=null,v=0,x=0;x<this.items.length;x++)switch(this.items[x].type){case"FORMAT_AMPM":this.editors[x].value,f=this.editors[x];break;case"Character":break;case"Day":this.items[x].format.length<3&&(i=this.editors[x].value,g[v++]=this.editors[x],0==i&&(i=1),h=!0);break;case"FORMAT_hh":s=this.editors[x].value,c=!0;break;case"FORMAT_HH":s=this.editors[x].value,c=!0;break;case"Millisecond":r=this.editors[x].value,m=!0;break;case"Minute":o=this.editors[x].value,u=!0;break;case"Month":d=!0,0==(a=this.editors[x].value)&&(a=1);break;case"ReadOnly":break;case"Second":n=this.editors[x].value,p=!0;break;case"Year":l=!0,t=this.editors[x].value;this.editors[x].getDateTimeItem().format.length<3&&(4=="1900".Length&&(t+=100*parseInt(""+"1900"[0]+"1900"[1]))),0==t&&(t=1)}var y=null!=this.value?new Date(this.value.dateTime):null;if(0<t&&0<a&&0<i&&0<=o&&0<=s&&0<=n&&0<=r){var w=this.value;null!=w&&(l||(t=w.year),d||(a=w.month),h||(i=w.day));try{if((a=12<a?12:a)<1&&(a=1),e&&w._daysInMonth(t,a)<=i&&(i=w._daysInMonth(t,a),null!=g&&0<g.length))for(x=0;x<g.length;x++)g[x].value=i;null!=f&&(0==f.value?12<=s&&(s-=12):s+12<24&&(s+=12));this.value.dateTime.getDate();this.value._setYear(parseInt(t)),this.value._setDay(i),this.value._setMonth(a),c&&this.value._setHours(s),u&&this.value._setMinutes(o),p&&this.value._setSeconds(n),m&&this.value._setMilliseconds(r),this._validateTimeRange()}catch(e){this.value=w}null==y||this.value.dateTime.getFullYear()==y.getFullYear()&&this.value.dateTime.getDate()==y.getDate()&&this.value.dateTime.getMonth()==y.getMonth()&&this.value.dateTime.getHours()==y.getHours()&&this.value.dateTime.getMinutes()==y.getMinutes()&&this.value.dateTime.getSeconds()==y.getSeconds()||(this.changing&&(e=this.changing(y,this.value.dateTime))&&(this.value=b.jqx._jqxDateTimeInput.getDateTime(e)),this._raiseEvent("0",this.value.dateTime),this.cookies&&null!=this.value&&b.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this.change&&this.change(this.value.dateTime))}w=this.editors.indexOf(this.activeEditor);this.items[w];this.value&&(this.calendarContainer.jqxCalendar("_isDisabled",this.value.dateTime)?this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-invalid")):this.dateTimeInput.removeClass(this.toThemeProperty("jqx-input-invalid")))}},_internalSetValue:function(e){this.value._setYear(parseInt(e.year)),this.value._setDay(e.day),this.value._setMonth(e.month),this.value._setHours(e.hour),this.value._setMinutes(e.minute),this.value._setSeconds(e.second),this.value._setMilliseconds(e.milisecond)},_raiseEvent:function(e,t,i){var s=this.events[e],r={},n=(r.owner=this,null==t&&(t={}),null==i&&(i=t),t.charCode||t.keyCode||0),o=!0,a=this.readonly,s=new b.Event(s);if(s.owner=this,s.args=r,s.args.date=this.getDate(),9==e&&(s.args.type=this.changeType,this.changeType=null),this.element.value=this.dateTimeInput.val(),9==e&&"range"!=this.selectionMode){var l=s.args.date;if(this._oldDT){if(null!=l&&l.getFullYear()==this._oldDT.getFullYear()&&l.getMonth()==this._oldDT.getMonth()&&l.getDate()==this._oldDT.getDate()&&l.getHours()==this._oldDT.getHours()&&l.getMinutes()==this._oldDT.getMinutes()&&l.getSeconds()==this._oldDT.getSeconds())return!0;b.jqx.aria(this,"aria-valuenow",this.getDate()),b.jqx.aria(this,"aria-valuetext",this.getText()),null!=this.getDate()?b.jqx.aria(this,"aria-label","Current focused date is "+this.getDate().toLocaleString()):b.jqx.aria(this,"aria-label","Current focused date is Null")}s.args.oldValue=i,s.args.newValue=s.args.date,this._oldDT&&(s.args.oldValue=this._oldDT)}if("range"==this.selectionMode){if(s.args.date=this.getRange(),this._oldDT){l=s.args.date.from;if(9==e){var r=!1,d=!1,h=this._oldDT.from;if(null!=l&&h&&l.getFullYear()==h.getFullYear()&&l.getMonth()==h.getMonth()&&l.getDate()==h.getDate()&&l.getHours()==h.getHours()&&l.getMinutes()==h.getMinutes()&&l.getSeconds()==h.getSeconds()&&(r=!0),null!=(l=s.args.date.to)&&(h=this._oldDT.to)&&l.getFullYear()==h.getFullYear()&&l.getMonth()==h.getMonth()&&l.getDate()==h.getDate()&&l.getHours()==h.getHours()&&l.getMinutes()==h.getMinutes()&&l.getSeconds()==h.getSeconds()&&(d=!0),r&&d)return!0;r=null==(r=s.args.date.from)?"":r.toString(),d=null==(d=s.args.date.to)?"":d.toString(),b.jqx.aria(this,"aria-valuenow",r+"-"+d),b.jqx.aria(this,"aria-valuetext",this.getText()),r&&d&&b.jqx.aria(this,"aria-label","Current focused range is "+r.toLocaleString()+"-"+d.toLocaleString())}}s.args.oldValue=i,s.args.newValue=s.args.date,this._oldDT&&(s.args.oldValue=this._oldDT)}if("none"==this.host.css("display"))return!0;2!=e&&3!=e&&4!=e&&5!=e&&6!=e&&(o=this.host.trigger(s),s.stopPropagation&&s.stopPropagation());var c=this;if(a||2!=e||this.disabled||setTimeout(function(){c.isEditing=!0,this.selectionMode,c._selectGroup(-1)},25),4==e){if(a||this.disabled){if(8!=n&&46!=n||(this.isEditing=!1,this.allowKeyboardDelete&&(this.allowNullDate?this.setDate(null):"range"!=this.selectionMode?this.setDate(this.getMinDate()):this.setRange(this.getMinDate(),this.getMinDate()))),9==n)return!0;if(!t.altKey)return!1}o=this._handleKeyDown(t,n)}else if(5==e){if(9==n)return!0;if(a||this.disabled)return!1}else if(6==e){if(9==n)return!0;if(a||this.disabled)return!1;o=this._handleKeyPress(t,n)}return o},_doLeftKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var e=this.activeEditor,t=!1,i=this.editors.indexOf(this.activeEditor),s=i;if(this.enableAbsoluteSelection&&0<=i&&0<this.activeEditor.positions)return this.activeEditor.positions--,void this._selectGroup(i);for(;0<i;)if(this.activeEditor=this.editors[--i],this._selectGroup(i),"ReadOnly"!=this.items[i].type){t=!0;break}return t||0<=s&&(this.activeEditor=this.editors[s]),null!=this.activeEditor&&e!=this.activeEditor&&"ReadOnly"!=this.items[i].type&&(this.enableAbsoluteSelection?this.activeEditor.positions=this.activeEditor.maxEditPositions-1:this.activeEditor.positions=0),this.activeEditor!=e&&(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0)}},_doRightKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var e=this.activeEditor,t=!1,i=this.editors.indexOf(this.activeEditor),s=i;if(this.enableAbsoluteSelection&&0<=i&&this.activeEditor.positions<this.activeEditor.maxEditPositions-1)return this.activeEditor.positions++,void this._selectGroup(i);for(;i<=this.editors.length-2;)if(this.activeEditor=this.editors[++i],this._selectGroup(i),"ReadOnly"!=this.items[i].type){if("Day"==this.items[i].type&&2<this.items[i].format.length)break;t=!0;break}return t||0<=s&&(this.activeEditor=this.editors[s]),null!=this.activeEditor&&this.activeEditor!=e&&"ReadOnly"!=this.items[i].type&&(this.activeEditor.positions=0),this.activeEditor!=e&&(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0)}},_saveSelectedText:function(){var e=this._selection(),t="",i=this.dateTimeInput.val();if(0<e.start||0<e.length)for(var s=e.start;s<e.end;s++)t+=i[s];return window.clipboardData&&window.clipboardData.setData("Text",t),t},_selectWithAdvancePattern:function(){var e=this.editors.indexOf(this.activeEditor),t=!1;if(t="ReadOnly"!=this.items[e].type?!0:t){t=this.activeEditor;if(null!=t)if(t.positions==t.maxEditPositions){this.editorText="";var i=t.value,s=!1;switch(this.items[e].type){case"FORMAT_AMPM":i<0?i=0:1<i&&(i=1);break;case"Character":break;case"Day":i<1?i=1:31<i&&(i=31);break;case"FORMAT_hh":i<1?i=1:12<i&&(i=12);break;case"FORMAT_HH":i<0?i=0:23<i&&(i=23);break;case"Millisecond":i<0?i=0:99<i&&(i=99);break;case"Minute":i<0?i=0:59<i&&(i=59);break;case"Month":i<1?i=1:12<i&&(i=12);break;case"ReadOnly":break;case"Second":i<0?i=0:59<i&&(i=59);break;case"Year":i<this.minDate.year?i=this.minDate.year:i>this.maxDate.year&&(i=this.maxDate.year)}return(s=t.value!=i||s)?!1:(this.isEditing=!1,this._validateValue(),this._updateText(),this.isEditing=!0,this._doRightKey(),!0)}}},_handleKeyPress:function(e,t){if(!this._fullEditInProgress){var i=this._selection(),e=e.ctrlKey||e.metaKey;if(e&&97==t||e&&65==t)return!0;if(8==t)return 0<i.start&&this._setSelectionStart(i.start),!1;if(46==t)return i.start<this.items.length&&this._setSelectionStart(i.start),!1;if(27===t)return this._firstFocusDate&&(this.setDate(this._firstFocusDate),this._setSelectionStart(0),this._selectGroup(-1)),!1;if(0<=i.start){this.changeType="keyboard";e=String.fromCharCode(t),i=parseInt(e);if("p"!=e&&"a"!=e&&"A"!=e&&"P"!=e||this.activeEditor&&"FORMAT_AMPM"==this.activeEditor.item.type&&(0!=this.activeEditor.value||"p"!=e&&"P"!=e?1!=this.activeEditor.value||"a"!=e&&"A"!=e||this.spinDown():this.spinUp()),!isNaN(i)){"block"==this.container.css("display")&&this.hideCalendar(),this.updateValue(),this._updateText();var i=this.editors.indexOf(this.activeEditor),s=null;if(this.isEditing=!0,null!=(s="ReadOnly"!=i.type?this.activeEditor:s)&&0==s.positions&&(this.editorText=""),null==this.activeEditor&&(this.activeEditor=this.editors[0]),null==this.activeEditor)return!1;this.activeEditor.insert(e),null!=s&&this.editorText.length>=s.maxEditPositions&&(this.editorText=""),this.editorText+=e;i=this._selectWithAdvancePattern();return this.activeEditor.positions==this.activeEditor.maxEditPositions&&(s=this._getLastEditableEditorIndex(),this.editors.indexOf(this.activeEditor)==s&&i&&this.enableAbsoluteSelection?this.activeEditor.positions=this.activeEditor.maxEditPositions-1:this.activeEditor.positions=0),this.updateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!1}}return this._isSpecialKey(t)}this._enteredValue=!0},_getLastEditableEditorIndex:function(){for(var e=-1,t=0;t<this.editors.length;t++)"ReadOnly"==this.items[t].type||"Day"==this.items[t].type&&2<this.items[t].format.length||(e=t);return e},_handleKeyDown:function(e,t){var i=this;if(this.timePopup=!1,84==t&&(this.timePopup=!0),115==e.keyCode){if(i.isOpened())return i.hideCalendar("keyboard","keyboard"),!1;if(!i.isOpened())return i.showCalendar("keyboard","keyboard"),!1}if(e.altKey){if(38==e.keyCode){if(i.isOpened())return i.showTimeButton&&!i.showCalendarButton&&(i.timePopup=!0),i.hideCalendar("keyboard","keyboard"),!1}else if(40==e.keyCode&&!i.isOpened())return i.showTimeButton&&!i.showCalendarButton&&(i.timePopup=!0),i.showCalendar("keyboard","keyboard"),!1}else if(e.ctrlKey)if(this.timePopup=!0,38==e.keyCode){if(i.isOpened())return i.hideCalendar("keyboard","keyboard"),!1}else if(40==e.keyCode&&!i.isOpened())return i.showCalendar("keyboard","keyboard"),!1;if(i.isOpened())return 9==e.keyCode?(i.hideCalendar("selected","keyboard"),!0):void 0;i._selection();var s,r,n,o,a,l=e.ctrlKey||e.metaKey;if(l&&99==t||l&&67==t)return i._saveSelectedText(e),!0;if(l&&122==t||l&&90==t)return!1;if(l&&118==t||l&&86==t||e.shiftKey&&45==t)return i.val(),s=this,r=b('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>'),b("body").append(r),r.select(),setTimeout(function(){var e=r.val();s.setDate(e),r.remove()},100),!0;if(!(i._fullEditInProgress||"full"===i.editMode&&null===i.value)){if(8==t||46==t)return e.altKey||l||46!=t?null!=i.activeEditor&&(n=i.editors.indexOf(i.activeEditor),0<=i.activeEditor.positions?(l=(l=i._format(Number(i.activeEditor.value),"d"+i.activeEditor.maxEditPositions,i.culture)).substring(0,i.activeEditor.positions)+"0"+l.substring(i.activeEditor.positions+1),parseInt(l)<i.activeEditor.minValue&&(l=i._format(Number(i.activeEditor.minValue),"d"+i.activeEditor.maxEditPositions,i.culture)),i.enableAbsoluteSelection?i.activeEditor.value=l:i.activeEditor.value=i.activeEditor.minValue,i._validateValue(),i._updateText(),i.changeType="keyboard",8==t?(o=this,i.enableAbsoluteSelection&&0<i.activeEditor.positions?setTimeout(function(){o.activeEditor.positions=o.activeEditor.positions-1,o._selectGroup(n)},10):setTimeout(function(){o._doLeftKey()},10)):i._selectGroup(n)):i._doLeftKey()):(i.isEditing=!1,i.allowKeyboardDelete&&(i.changeType="keyboard",i.allowNullDate?i.setDate(null):"range"!=i.selectionMode?i.setDate(i.getMinDate()):i.setRange(i.getMinDate(),i.getMinDate()))),!1;if(38==t)return this.spinUp(),!(i.changeType="keyboard");if(40==t)return this.spinDown(),!(i.changeType="keyboard");if(9==t)return null==i.value?!0:!(a=e.shiftKey?this._doLeftKey():this._doRightKey());if(37==t)return this._editor?((a=this._doLeftKey())||(this.isEditing=!1,this._validateValue()),!a):(this._doLeftKey(),!1);if(39==t||191==t)return this._editor?((a=this._doRightKey())||(this.isEditing=!1,this._validateValue()),!a):(this._doRightKey(),!1);l=this._isSpecialKey(t);return null==this.value&&(48<=t&&t<=57||96<=t&&t<=105)&&(i.changeType="keyboard",new Date>=this.getMinDate()&&new Date<=this.getMaxDate()?this.setDate(new Date):this.setDate(this.getMaxDate())),b.jqx.browser.mozilla?!!(b.jqx.browser.mozilla&&24<b.jqx.browser.version)||l:!0}if(13==t&&i._fullEditInProgress){if(i._endFullEdit(),null!=i.value){i.isEditing=!1,i._validateValue(!0),i._updateText(),i._raiseEvent(9,event);for(var d=i.editors.length-1,h=i.editors[d];h&&void 0===h.formatValueLength;)h=i.editors[--d];h&&void 0!==h.formatValueLength&&(i.activeEditor=h,i._selectGroup(d))}}else i._fullEditInProgress=!0,delete i._enteredValue},_isSpecialKey:function(e){return 8==e||9==e||13==e||35==e||36==e||37==e||39==e||27==e||46==e},_selection:function(){if("selectionStart"in this.dateTimeInput[0])return s=(t=this.dateTimeInput[0]).selectionEnd-t.selectionStart,{start:t.selectionStart,end:t.selectionEnd,length:s,text:t.value};var e=document.selection.createRange();if(null==e)return{start:0,end:t.value.length,length:0};var t=this.dateTimeInput[0].createTextRange(),i=t.duplicate(),s=(t.moveToBookmark(e.getBookmark()),i.setEndPoint("EndToStart",t),e.text.length);return{start:i.text.length,end:i.text.length+e.text.length,length:s,text:e.text}},_selectGroup:function(e,t){if("none"!=this.host.css("display")&&!this.readonly){t=t||this._selection();for(var i="",s="",r=null,n=0;n<this.items.length;n++){s=this.items[n].dateParser(this.value,this);if(this.isEditing&&"ReadOnly"!=this.items[n].type)if(!("Day"==this.items[n].type&&2<this.items[n].format.length)&&"FORMAT_AMPM"!=this.items[n].type)if(null!==this.yearCutoff&&"Year"===this.items[n].type&&"yy"===this.items[n].format)s=this.editors[n].value.toString().substring(2);else for(s=this.items[n].dateParserInEditMode(new Number(this.editors[n].value),"d"+this.editors[n].maxEditPositions,this);s.length<this.editors[n].maxEditPositions;)s="0"+s;if(i+=s,"ReadOnly"!=this.items[n].type&&!("Day"==this.items[n].type&&2<this.items[n].format.length))if(null!=e&&-1!=e){if(e<=n){var o=i.length-s.length,a=s.length;this.enableAbsoluteSelection&&!isNaN(parseInt(s))&&this.isEditing&&-1!=e&&(a=1,o+=this.editors[n].positions),o==this.dateTimeInput.val().length&&o--,this._setSelection(o,o+a),r=this.editors[n],this.activeEditor=r;break}}else if(i.length>=t.start){r=this.editors[n],this.activeEditor=r;o=i.length-s.length,a=1;this.enableAbsoluteSelection?!isNaN(parseInt(s))&&this.isEditing&&-1!=e&&(a=1,o+=this.editors[n].positions):a=s.length,this._setSelection(o,o+a);break}}n<this.items.length&&-1==e&&"ReadOnly"!=this.items[n].type&&(this.activeEditor.positions=0);var l=this._selection();0==l.length&&0<l.start&&this._getLastEditableEditorIndex()}},_setSelection:function(e,t){try{var i;"selectionStart"in this.dateTimeInput[0]?this.dateTimeInput[0].setSelectionRange(e,t):((i=this.dateTimeInput[0].createTextRange()).collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())}catch(e){}},_setSelectionStart:function(e){this._setSelection(e,e)},destroy:function(){b.jqx.utilities.resize(this.host,null,!0),this.host.removeClass("jqx-rc-all"),this.timePopupElement&&this.timePopupElement.remove(),this._calendar.destroy(),this.container.remove(),this._removeHandlers(),this.dateTimeInput.remove(),this.host.remove()},refreshValue:function(){this._refreshValue()},refresh:function(e){1!=e&&(this._setSize(),this._arrange())},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_setOption:function(e,t,i){"value"===e&&(this.selectionMode,this._oldDT=null,this.value=t,this._refreshValue(),this._raiseEvent(9,{type:null})),"maxDate"==e&&(this._calendar.maxDate=t,this._raiseEvent(9,{type:null})),"minDate"==e&&(this._calendar.minDate=t,this._raiseEvent(9,{type:null})),"showCalendarButton"==e&&(t?this.calendarButton.css("display","block"):this.calendarButton.css("display","none")),"disabled"==e&&this.dateTimeInput.attr("disabled",t),"readonly"==e&&(this.readonly=t,this.dateTimeInput.css("readonly",t)),"textAlign"==e&&(this.dateTimeInput.css("text-align",t),this.textAlign=t),"width"==e?(this.width=t,this.width=parseInt(this.width),this._arrange()):"height"==e&&(this.height=t,this.height=parseInt(this.height),this._arrange())},_updateHint:function(){var e=this;e.hint&&e.isMaterialized()&&setTimeout(function(){0===e.dateTimeInput[0].value.length?(e.element.removeAttribute("hint"),e.label[0].innerHTML=e.placeHolder):(e.label[0].innerHTML="",e.hint&&e.element.setAttribute("hint",!0))})},_refreshValue:function(){this._updateEditorsValue(),this.updateValue(),this._validateValue(),this._updateText(),this._updateHint()},_getYearBasedOnCutoff:function(e){var t=this.yearCutoff.toString(),i=parseFloat(t.substring(2)),t=parseFloat(t.substring(0,2));return parseFloat(e)<i&&t++,parseFloat(t+""+e)},_endFullEdit:function(){var e,t,i,s=this;s._fullEditInProgress&&(i=s.dateTimeInput[0].value,delete s._fullEditInProgress,delete s._enteredValue,""===i?s.value=null:(e=new Date(i),isNaN(e.getTime())?null===s.value&&s._updateText():(s.items=[],s.yearCutoff&&(t=e.getFullYear().toString(),-1===i.indexOf(t)&&i.indexOf(t.slice(2))&&(i=s._getYearBasedOnCutoff(t.slice(2)),e.setFullYear(i))),s.value=b.jqx._jqxDateTimeInput.getDateTime(e))))},_getMask:function(){for(var e,t=this.formatString,i={d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},s={},r=(t=i[t]?i[t]:t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),n=["^"],o=0,a=0,l=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;null!==(e=l.exec(r));){var d=r.slice(o,e.index);if(""!==d&&(s[o]=d),o=l.lastIndex,(a+=this._appendPreOrPostMatch(d,n))%2)n.push(e[0]);else{var h,c=e[0],u=c.length;switch(c){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":h="(\\D+)";break;case"tt":case"t":h="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":h="(\\d{"+u+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":h="(\\d\\d?)";break;case"zzz":h="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":h="([+-]?\\d\\d?)";break;case"/":h="(\\/)",s[o-1]="/";break;default:throw"Invalid date format pattern '"+c+"'."}h&&n.push(h)}}this._appendPreOrPostMatch(r.slice(o),n),n.push("$"),this._mask=s},_appendPreOrPostMatch:function(e,t){for(var i=0,s=!1,r=0,n=e.length;r<n;r++){var o=e.charAt(r);switch(o){case"'":s?t.push("'"):i++,s=!1;break;case"\\":s&&t.push("\\"),s=!s;break;default:t.push(o),s=!1}}return i}})}(jqxBaseFramework),!function(n){n.jqx._jqxDateTimeInput.DateTimeFormatItem={},n.extend(n.jqx._jqxDateTimeInput.DateTimeFormatItem,{_create:function(e,t,i){return this.format=e,this.type=t,this.culture=i,this},_itemValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;default:return 999}},_maximumValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;default:return 999}},dateParser:function(e,t){return null==e?"":t._format(e.dateTime,1==this.format.length?"%"+this.format:this.format,this.culture)},dateParserInEditMode:function(e,t,i){return null==e?"":i._format(e.toString(),1==t.length?"%"+t:t,this.culture)},getDateTimeEditorByItemType:function(e,t){switch(this.type){case"FORMAT_AMPM":var i=n.jqx._jqxDateTimeInput.AmPmEditor._createAmPmEditor(this.format,e.hour/12,t.localization.calendar.AM[0],t.localization.calendar.PM[0],this,t);return n.extend({},i);case"Character":return null;case"Day":var i=e.year,s=e.month,r=3==this.format.length?t.localization.calendar.days.namesAbbr:3<this.format.length?t.localization.calendar.days.names:null,i=(e.day,null!=r&&e.dayOfWeek,n.jqx._jqxDateTimeInput.DateEditor._createDayEditor(e,e.day,1,e._daysInMonth(i,s),1==this.format.length?1:2,2,r,this,t));return n.extend({},i);case"FORMAT_hh":s=e.hour%12,r=n.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(s=0==s?12:s,1,12,1==this.format.length?1:2,2,this,t);return n.extend({},r);case"FORMAT_HH":i=n.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(e.hour,0,23,1==this.format.length?1:2,2,this,t);return n.extend({},i);case"Millisecond":s=n.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(e.millisecond/this._itemValue(),0,this._maximumValue(),this.format.length,this.format.length,this,t);return n.extend({},s);case"Minute":r=n.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(e.minute,0,59,1==this.format.length?1:2,2,this,t);return n.extend({},r);case"Month":i=3==this.format.length?t.localization.calendar.months.namesAbbr:3<this.format.length?t.localization.calendar.months.names:null,s=n.jqx._jqxDateTimeInput.DateEditor._createMonthEditor(e.month,2==this.format.length?2:1,i,this,t);return n.extend({},s);case"ReadOnly":return n.jqx._jqxDateTimeInput.DisabledEditor._create(this.format.length,e.day,this,t);case"Second":r=n.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(e.second,0,59,1==this.format.length?1:2,2,this,t);return n.extend({},r);case"Year":i=n.jqx._jqxDateTimeInput.DateEditor._createYearEditor(e.year,null!==t.yearCutoff&&"yy"===this.format?2:4,this,t);return n.extend({},i)}return null}})}(jqxBaseFramework),!function(d){d.jqx._jqxDateTimeInput.DateEditor=d.extend(d.jqx._jqxDateTimeInput.DateEditor,{formatValueLength:0,handleYears:!1,handleDays:!1,handleMonths:!1,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,dateTimeFormatInfo:null,days:null,dateTimeMonths:null,lastDayInput:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:4<=this.positions?4:this.positions:this.minEditPositions},initializeFields:function(e,t,i,s,r){this.minValue=e,this.maxValue=t,this.minEditPositions=i,this.maxEditPositions=s,this.updateActiveEditor(e),this.item=r},_createYearEditor:function(e,t,i,s){return d.jqx._jqxDateTimeInput.DateEditor=d.extend(!0,{},this),this.initializeFields(0,t<4?99:9999,2==t?2:1,3<t?4:2,i),this.initializeYearEditor(e,t,i.culture),this.handleYears=!0,this.that=s,this},initializeYearEditor:function(e,t,i){this.formatValueLength=t,this.dateTimeFormatInfo=i;t=e,t=Math.min(t,9999);t=Math.max(t,1),t=this.formatValueLength<4?t%100:t,this.updateActiveEditor(t),this.value=t},updateActiveEditor:function(e){this.value=e,this.positions=0},_createDayEditor:function(e,t,i,s,r,n,o,a,l){return d.jqx._jqxDateTimeInput.DateEditor=d.extend(!0,{},this),this.initializeFields(i,s,1,n,a),this.currentValue=e,this.value=t,this.days=o,this.handleDays=!0,this.that=l,this},getDayOfWeek:function(e){return typeof this.currentValue==d.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),e},defaultTextValue:function(){this.value;var e=this.minEditPositions;return this.that._format(this.value,"d"+e,"")},textValue:function(){var e;return this.handleDays?null==this.days?this.defaultTextValue():(e=this.value%7+1,e=this.getDayOfWeek(e),this.days[e]):!this.handleMonths||null==this.dateTimeMonths||this.value<1||12<this.value?this.defaultTextValue():this.dateTimeMonths[this.value-1]},defaultInsertString:function(e){if(null==e)return this.deleteValue();if(0==e.length)return this.deleteValue();var t,e=e.substring(0,1);if(!isNaN(e))return t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),this.positions>=this.maxEditPositions&&(this.positions=0),t=t.substring(0,this.positions)+e+t.substring(this.positions+1),t=this.setValueByString(t,1),!0},setValueByString:function(e,t){e=this.fixValueString(e);var i=new Number(e);return this.value=i,this.positions+=t,e},fixValueString:function(e){return e=e.length>this.maxEditPositions?e.substring(e.length-this.maxEditPositions):e},initializeValueString:function(e){var t="";return t=this.hasDigits()?e:t},deleteValue:function(){return(this.value!=this.minValue||0!=this.hasDigits())&&(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return 0<this.positions},insert:function(e){if(this.handleDays){if(null!=this.days){var t=!1;if(t=this.insertLongString(e,t))return t;if(t=this.insertShortString(e,t))return t}return 1==this.value&&null!=this.lastDayInput&&0<this.lastDayInput.toString().length&&"0"==this.lastDayInput.toString()&&(this.value=0),this.lastDayInput=e,this.defaultInsertString(e)}if(this.handleMonths){if(null!=this.dateTimeMonths){t=!1;if(t=this.insertLongString2(e,t))return t;if(t=this.insertShortString2(e,t))return t}}else if(null!==this.that.yearCutoff&&this.handleYears&&2===this.formatValueLength){if(null==e||0==e.length)return this.deleteValue();t=e.substring(0,1);if(isNaN(t))return;this.positions>=this.maxEditPositions&&(this.positions=0);var i=(i=this.value.toString().substring(2)).substring(0,this.positions)+t+i.substring(this.positions+1);return this.value=this.that._getYearBasedOnCutoff(i),this.positions+=1,!0}return this.defaultInsertString(e)},insertShortString:function(e,t){if(1==e.length)for(var i=0;i<6;++i){var s=(this.value+i)%7+1;if(this.days[s-1].substring(0,1)==e)return this.updateActiveEditor(s),t=!0}return t},insertLongString:function(e,t){if(0<e.length)for(var i=0;i<6;++i){var s=(this.value+i)%7+1;if(this.days[s-1]==e)return this.updateActiveEditor(s),t=!0}return t},_createMonthEditor:function(e,t,i,s,r){return d.jqx._jqxDateTimeInput.DateEditor=d.extend(!0,{},this),this.initializeFields(1,12,t,2,s),this.dateTimeMonths=i,this.value=e,null!=this.dateTimeMonths&&null!=this.dateTimeMonths[12]&&0<this.dateTimeMonths[12].length&&(this.dateTimeMonths=null),this.handleMonths=!0,this.that=r,this},insertLongString2:function(e,t){if(0<e.length)for(var i=0;i<11;++i){var s=(this.value+i)%12+1;if(this.dateTimeMonths[s-1]==e)return this.updateActiveEditor(s),t=!0}return t},insertShortString2:function(e,t){if(1==e.length)for(var i=0;i<11;++i){var s=(this.value+i)%12+1;if(this.dateTimeMonths[s-1].substring(0,1)==e)return this.updateActiveEditor(s),t=!0}return t},correctMaximumValue:function(e){var t=this.maxValue;return e=(t=null!==this.that.yearCutoff&&"Year"===this.item.type&&"yy"===this.item.format?9999:t)<e?this.minValue:e},correctMinimumValue:function(e){return e=e<this.minValue?this.maxValue:e},increaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if(9<(i=parseInt(i)+1)&&(i=0),!e)return e=this.value+1,e=this.correctMaximumValue(e),this.updateActiveEditor(e),!0;e=t.substring(0,this.positions)+i+t.substring(this.positions+1);return!(e==this.value&&!this.hasDigits())&&(this.updateActiveEditor(e),!0)},decreaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if((i=parseInt(i)-1)<0&&(i=9),!e)return e=this.value-1,e=this.correctMinimumValue(e),this.updateActiveEditor(e),!0;e=t.substring(0,this.positions)+i+t.substring(this.positions+1);return!(e==this.value&&!this.hasDigits())&&(this.updateActiveEditor(e),!0)},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),!function(a){a.jqx._jqxDateTimeInput.NumberEditor={},a.extend(a.jqx._jqxDateTimeInput.NumberEditor,{formatValueLength:0,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:4<=this.positions?4:this.positions:this.minEditPositions},_createNumberEditor:function(e,t,i,s,r,n,o){return a.jqx._jqxDateTimeInput.NumberEditor=a.extend(!0,{},this),this.initializeFields(t,i,s,r,n),this.that=o,this},initializeFields:function(e,t,i,s,r){this.minValue=e,this.maxValue=t,this.minEditPositions=i,this.maxEditPositions=s,this.updateActiveEditor(e),this.item=r},updateActiveEditor:function(e){this.value=e,this.positions=0},getDayOfWeek:function(e){return typeof this.currentValue==a.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),e},textValue:function(){this.value;var e=this.minEditPositions;return this.that._format(this.value,"d"+e,"")},insert:function(e){if(null==e)return this.deleteValue();if(0==e.length)return this.deleteValue();var t,e=e.substring(0,1);if(!isNaN(e))return t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),this.positions>=this.maxEditPositions&&(this.positions=0),t=t.substring(0,this.positions)+e+t.substring(this.positions+1),t=this.setValueByString(t,1),!0},setValueByString:function(e,t){e=this.fixValueString(e);var i=new Number(e);return this.value=i,this.positions+=t,e},fixValueString:function(e){return e=e.length>this.maxEditPositions?e.substring(e.length-this.maxEditPositions):e},initializeValueString:function(e){var t="";return t=this.hasDigits()?e:t},deleteValue:function(){return(this.value!=this.minValue||0!=this.hasDigits())&&(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return 0<this.positions},correctMaximumValue:function(e){return e=e>this.maxValue?this.minValue:e},correctMinimumValue:function(e){return e=e<this.minValue?this.maxValue:e},increaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if(9<(i=parseInt(i)+1)&&(i=0),!e)return e=this.value+1,e=this.correctMaximumValue(e),this.updateActiveEditor(e),!0;e=t.substring(0,this.positions)+i+t.substring(this.positions+1);return!(e==this.value&&!this.hasDigits())&&(this.updateActiveEditor(e),!0)},decreaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if((i=parseInt(i)-1)<0&&(i=9),!e)return e=this.value-1,e=this.correctMinimumValue(e),this.updateActiveEditor(e),!0;e=t.substring(0,this.positions)+i+t.substring(this.positions+1);return!(e==this.value&&!this.hasDigits())&&(this.updateActiveEditor(e),!0)},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),!function(e){e.jqx._jqxDateTimeInput.DisabledEditor={},e.extend(e.jqx._jqxDateTimeInput.DisabledEditor,{_create:function(e,t,i,s,r,n){return this.format=e,this.value=-1,this.item=r,this.that=n,this},textValue:function(){return""},insert:function(e){return!1},deleteValue:function(){return!1},increaseValue:function(){return!1},decreaseValue:function(){return!1},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),!function(e){e.jqx._jqxDateTimeInput.AmPmEditor={},e.extend(e.jqx._jqxDateTimeInput.AmPmEditor,{_createAmPmEditor:function(e,t,i,s,r,n){return this.format=e,this.value=t,this.minValue=0,this.amString=i,this.pmString=s,this.item=r,this.that=n,i==s&&(this.amString="<"+i,this.pmString=">"+s),this},textValue:function(){var e=this.amString;return 0!=this.value&&(e=this.pmString),e=1==this.format.length&&1<e.length?e.substring(0,1):e},insert:function(e){e=e.toString();if(0==e.Length)return this.deleteValue();var t,i,s=!1;return 0<this.amString.Length&&0<this.pmString.Length?(t=this.amString[0],e=e[0],i=this.pmString[0],t.toString()==e.toString()?s=!(this.value=0):i.toString()==e.toString()&&(this.value=1,s=!0)):0<this.pmString.Length?(this.value=1,s=!0):0<this.amString.Length&&(s=!(this.value=0)),s},deleteValue:function(){if(0==this.amString.Length&&0!=this.pmString.Length){if(0==this.value)return!1;this.value=0}else{if(1==this.value)return!1;this.value=1}return!0},increaseValue:function(){return this.value=1-this.value,!0},decreaseValue:function(){return this.increaseValue(),!0},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),jqxBaseFramework.jqx._jqxDateTimeInput.getDateTime=function(e){return{dateTime:new Date(e),daysPer4Years:1461,daysPerYear:365,daysToMonth365:{0:0,1:31,2:59,3:90,4:120,5:151,6:181,7:212,8:243,9:273,10:304,11:334,12:365},daysToMonth366:{0:0,1:31,2:60,3:91,4:121,5:152,6:182,7:213,8:244,9:274,10:305,11:335,12:366},maxValue:3155378976e9,millisPerDay:864e5,millisPerHour:36e5,millisPerMinute:6e4,millisPerSecond:1e3,minTicks:0,minValue:0,ticksPerDay:864e9,ticksPerHour:36e9,ticksPerMillisecond:1e4,ticksPerMinute:6e8,ticksPerSecond:1e7,hour:e.getHours(),minute:e.getMinutes(),day:e.getDate(),second:e.getSeconds(),month:1+e.getMonth(),year:e.getFullYear(),millisecond:e.getMilliseconds(),dayOfWeek:e.getDay(),isWeekend:function(e){return(e=null==e?this.dateTime:e).getDay()%6==0},dayOfYear:function(e){null==e&&(e=this.dateTime);var t=new Date(e.getFullYear(),0,1);return Math.ceil((e-t)/864e5)},_setDay:function(e){this.dateTime.setDate(e=null==e?0:e),this.day=this.dateTime.getDate()},_setMonth:function(e){this.dateTime.setMonth((e=null==e?0:e)-1),this.month=1+this.dateTime.getMonth()},_setYear:function(e){this.dateTime.setFullYear(e=null==e?0:e),this.year=this.dateTime.getFullYear()},_setHours:function(e){this.dateTime.setHours(e=null==e?0:e),this.hour=this.dateTime.getHours()},_setMinutes:function(e){this.dateTime.setMinutes(e=null==e?0:e),this.minute=this.dateTime.getMinutes()},_setSeconds:function(e){this.dateTime.setSeconds(e=null==e?0:e),this.second=this.dateTime.getSeconds()},_setMilliseconds:function(e){this.dateTime.setMilliseconds(e=null==e?0:e),this.millisecond=this.dateTime.getMilliseconds()},_addDays:function(e){var t=this.dateTime,i=t.getDate();return t.setDate(t.getDate()+e),i===t.getDate()&&t.setHours(t.getHours()+t.getTimezoneOffset()/60),t},_addWeeks:function(e){var t=this.dateTime;return t.setDate(t.getDate()+7*e),t},_addMonths:function(e){var t=this.dateTime;return t.setMonth(t.getMonth()+e),t},_addYears:function(e){var t=this.dateTime;return t.setFullYear(t.getFullYear()+e),t},_addHours:function(e){var t=this.dateTime;return t.setHours(t.getHours()+e),t},_addMinutes:function(e){var t=this.dateTime;return t.setMinutes(t.getMinutes()+e),t},_addSeconds:function(e){var t=this.dateTime;return t.setSeconds(t.getSeconds()+e),t},_addMilliseconds:function(e){var t=this.dateTime;return t.setMilliseconds(t.getMilliseconds()+e),t},_isLeapYear:function(e){if(e<1||9999<e)throw"invalid year";return e%4==0&&(e%100!=0||e%400==0)},_dateToTicks:function(e,t,i){if(1<=e&&e<=9999&&1<=t&&t<=12){var s=this._isLeapYear(e)?this.daysToMonth366:this.daysToMonth365;if(1<=i&&i<=s[t]-s[t-1])return 864e9*(365*(e=e-1)+e/4-e/100+e/400+s[t-1]+i-1)}},_daysInMonth:function(e,t){if(t<1||12<t)throw"Invalid month.";e=this._isLeapYear(e)?this.daysToMonth366:this.daysToMonth365;return e[t]-e[t-1]},_timeToTicks:function(e,t,i){return 1e7*(3600*e+60*t+i)},_equalDate:function(e){return this.year==e.getFullYear()&&this.day==e.getDate()&&this.month==e.getMonth()+1}}},!function(o){o.jqx.jqxWidget("jqxDocking","",{}),o.extend(o.jqx._jqxDocking.prototype,{defineInstance:function(){var e={orientation:"horizontal",mode:"default",floatingWindowOpacity:.3,panelsRoundedCorners:!0,disabled:!1,width:"auto",height:"auto",windowsMode:null,cookies:!1,cookieOptions:{},windowsOffset:5,rtl:!1,keyboardNavigation:!1,_windowOptions:{},_draggedFired:!1,_dragging:!1,_draggingItem:null,_panels:[],_windows:[],_indicator:null,_events:["dragEnd","dragStart"]};return this===o.jqx._jqxDocking.prototype||o.extend(!0,this,e),e},createInstance:function(){if(!this.host.jqxWindow)throw new Error("jqxDocking: Missing reference to jqxwindow.js.");this._refresh(!0),this.disabled&&(this.disabled=!1,this.disable())},refresh:function(e){1!=e&&this._performLayout()},_refresh:function(e){this._render(),this._removeClasses(),this._addClasses(),this._setWindowsOptions(!0),this._performLayout(),this._cookieHandler(),this._cookieExporter(),this._removeEventListeners(),this._addEventListeners();var t=o.Event("resize");this.host.trigger(t)},resize:function(){this._refresh()},_addClasses:function(){this.host.addClass("jqx-docking");for(var e=0;e<this._panels.length;e+=1)this._panels[e].addClass(this.toThemeProperty("jqx-docking-panel")),this.panelsRoundedCorners&&this._panels[e].addClass(this.toThemeProperty("jqx-rc-all"));for(e=0;e<this._windows.length;e+=1)this._windows[e].addClass(this.toThemeProperty("jqx-docking-window"))},_removeClasses:function(){this.host.removeClass("jqx-docking");for(var e=0;e<this._panels.length;e+=1)this._panels[e].removeClass(this.toThemeProperty("jqx-docking-panel")),this._panels[e].removeClass(this.toThemeProperty("jqx-rc-all"));for(e=0;e<this._windows.length;e+=1)this._windows[e].removeClass(this.toThemeProperty("jqx-docking-window"))},_render:function(){for(var e=this.host.children("div"),t=0;t<e.length;t+=1)this._panels.push(o(e[t])),this._renderWindows(o(e[t]))},focus:function(e){this.focusedWindow&&o(this.focusedWindow).removeClass(this.toThemeProperty("jqx-fill-state-focus")),!o.isEmptyObject(e)&&"string"===o.type(e)&&0<o("#"+e).length?this.focusedWindow=o("#"+e)[0]:this.focusedWindow=this._windows[0][0],o(this.focusedWindow).addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.focus()},_renderWindows:function(e){for(var t=e.children("div"),i=0;i<t.length;i+=1)this._windows.push(o(t[i])),o(t[i]).jqxWindow({keyboardNavigation:!1,rtl:this.rtl,theme:this.theme,enableResize:!1,width:o(t[i]).css("width"),maxWidth:Number.MAX_VALUE}),o(t[i]).detach(),e.append(o(t[i]));e.append('<div class="spacer" style="clear: both;"></div>');var s,r=this;this.keyboardNavigation&&(s=function(e){if(13===e.keyCode?r.focusedWindow&&o(r.focusedWindow).jqxWindow("showCollapseButton")&&o(r.focusedWindow).jqxWindow("_collapseButton").trigger("click"):(r.focusedWindow&&27===e.keyCode&&"esc"===o(r.focusedWindow).jqxWindow("keyboardCloseKey")||r.focusedWindow&&o(r.focusedWindow).jqxWindow("keyboardCloseKey")==e.keyCode)&&o(r.focusedWindow).jqxWindow("closeWindow",e),9===e.keyCode){if(null==r.focusedWindow)r.focusedWindow=r._windows[0],o(r.focusedWindow).focus(),e.stopPropagation();else{var i=-1;if(o.each(r._windows,function(e,t){this[0]==r.focusedWindow&&(i=e)}),e.shiftKey?i--:i++,i>=r._windows.length||i<0)return o(r.focusedWindow).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.focusedWindow=null,e.stopPropagation(),!0;var t=(t=r._windows[i])||r._windows[0];o(r.focusedWindow).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.focusedWindow=t[0],o(r.focusedWindow).focus()}o(r.focusedWindow).addClass(r.toThemeProperty("jqx-fill-state-focus")),e.preventDefault&&(e.preventDefault(),e.stopPropagation())}},o.each(r._windows,function(e,t){var i=o(this);r.removeHandler(i,"focus"),r.removeHandler(i,"blur"),r.removeHandler(i,"mousedown"),r.addHandler(i,"mousedown",function(e){r.focusedWindow&&o(r.focusedWindow).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.focusedWindow=i[0],o(r.focusedWindow).addClass(r.toThemeProperty("jqx-fill-state-focus")),o(r.focusedWindow).focus()}),r.addHandler(i,"focus",function(e){r.focusedWindow&&o(r.focusedWindow).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.focusedWindow=i[0],o(r.focusedWindow).addClass(r.toThemeProperty("jqx-fill-state-focus"))}),r.addHandler(i,"blur",function(e){if(o(document.activeElement).ischildof(o(i)))return!0;o(i).removeClass(r.toThemeProperty("jqx-fill-state-focus"))}),r.removeHandler(i,"keydown"),r.addHandler(i,"keydown",function(e){s(e)})}),this.removeHandler(this.host,"keydown"),this.addHandler(this.host,"keydown",function(e){s(e)}),this.removeHandler(this.host,"blur"),this.addHandler(this.host,"blur",function(e){r.focusedWindow&&(o(r.focusedWindow).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.focusedWindow=null)}))},_performLayout:function(){this.host.css("width",this.width),this.host.css("height",this.height),this._performWindowsLayout(),this._performPanelsLayout(),this._performWindowsLayout()},_performPanelsLayout:function(){this.host.css("overflow","hidden");for(var e,t=this.host.width(),i=0,s=0;s<this._panels.length;s+=1)(e=this._panels[s]).css("height","auto"),e.css("min-width","auto"),e[0].style.width="auto","vertical"===this.orientation?(e.css("width","auto"),e.css("float","none")):(i+=this._handleHorizontalSize(e,i,t),0<s&&e.css("margin-left",-this.windowsOffset));"horizontal"===this.orientation&&i<t&&this._fillContainer(t,i)},_handleHorizontalSize:function(e,t,i){var s,r,n=i/this._panels.length,o=e.outerWidth()-e.width();return e.css("float","left"),"auto"===e[0].style.width||0===parseInt(e.css("width"),10)?(r=99.99/this._panels.length,e[0].style.width=r+"%"):t+e.outerWidth()>=i&&(t+n<i?e.css("min-width",s=n-o):(s=e.width()-(t+e.outerWidth()-i),e.css("min-width",s)),e.width(s)),e.outerWidth()},_fillContainer:function(e,t){var i=this._panels.length,i=this._panels[i-1];i.width();o.jqx.browser.msie&&o.jqx.browser.version<9&&this._panels.length},_performWindowsLayout:function(){for(var e,t=0;t<this._windows.length;t+=1)e=this._getWindowOptions(this._windows[t]),this._windows[t].ischildof(this.host)&&(e?"floating"!==e.mode&&(this._windows[t].css("margin",this.windowsOffset),this._windows[t].css("position","static")):"floating"!==this.mode&&(this._windows[t].css("position","static"),this._windows[t].css("margin",this.windowsOffset))),this._setWindowSize(this._windows[t],e)},_setWindowSize:function(e,t){"floating"!==t.mode&&e.ischildof(this.host)&&(t=e.parent().width()-(e.outerWidth()-e.width())-2*this.windowsOffset,this.orientation,e.jqxWindow("width",t)),this._setWindowOption(e,"size",{width:e.width(),height:e.height()})},_setWindowsOptions:function(e){for(var t=0;t<this._windows.length;t+=1){var i,s=this._windows[t].attr("id"),r=this._getWindowOptions(s);e||0,i=null,this.windowsMode&&this.windowsMode.hasOwnProperty(s)?(i=this.windowsMode[s],this._setWindowOption(this._windows[t],"mode",i)):void 0!==r&&void 0===r.mode&&(i=this.mode,this._setWindowOption(this._windows[t],"mode",i)),e&&(this._setWindowOption(this._windows[t],"resizable",!0),"floating"==i?this._windows[t].jqxWindow({enableResize:!0}):this._windows[t].jqxWindow({enableResize:!1}),this._setWindowOption(this._windows[t],"size",{height:this._windows[t].height(),width:this._windows[t].width()}))}},_removeEventListeners:function(){for(var e=0;e<this._windows.length;e+=1)this.removeHandler(this._windows[e],"moving",this._itemDragging),this.removeHandler(this._windows[e],"moved",this._itemDrop),this.removeHandler(this._windows[e],"resized",this._itemResized),this.removeHandler(this._windows[e],"collapse",this._collapsed),this.removeHandler(this._windows[e],"expand",this._expanded)},_addEventListeners:function(){for(var e=0;e<this._windows.length;e+=1)this._addEventListenersTo(this._windows[e]);var t=this;o.jqx.utilities.resize(this.host,function(){t._performLayout()})},_addEventListenersTo:function(e){this.addHandler(e,"moving",this._itemDragging,{self:this}),this.addHandler(e,"moved",this._itemDrop,{self:this}),this.addHandler(e,"resized",this._itemResized,{self:this}),this.addHandler(e,"collapse",this._collapsed,{self:this}),this.addHandler(e,"expand",this._expanded,{self:this})},_itemDragging:function(e){var t=e.data.self,i=o(e.target),s=t._getWindowOptions(i);if(i.removeClass(t.toThemeProperty("jqx-docking-window")),i.css("margin","0px"),t._dragging||t._prepareForDragging(i),"floating"!==s.mode)return s={x:e.args.pageX,y:e.args.pageY},e=t._getMouseOverPanel(s),e?t._mouseOverPanel(e,s):t._mouseLeavePanel(),t._draggedFired||(t._raiseEvent(1,{window:o(i).attr("id")}),t._draggedFired=!0),!0},_prepareForDragging:function(e){this._dragging=!0;var t={parent:e.parent(),next:e.next(),prev:e.prev()};this._setWindowOption(e,"lastPosition",t),e.detach(),o(document.body).append(e),this._setDraggingStyles(e),this._draggingItem=e},_setDraggingStyles:function(e){e.css({position:"absolute",left:e.offset().left,top:e.offset().top}),e.fadeTo(0,this.floatingWindowOpacity)},_getMouseOverPanel:function(e){for(var t=0;t<this._panels.length;t+=1)if(this._isMouseOverItem(this._panels[t],e,!1))return this._panels[t];return null},_mouseOverPanel:function(e,t){var i;this._dragging&&(i=e.children("div"),"indicator"!==(i=this._getHoverWindow(t,i))&&(t=this._centerOffset(i,t),this._handleIndicator(e,i,t)))},_getHoverWindow:function(e,t){if(this._isMouseOverItem(this._indicator,e,!0))return"indicator";for(var i=0;i<t.length;i+=1)if(this._isMouseOverItem(o(t[i]),e,!0))return o(t[i]);return null},_centerOffset:function(e,t){var i,s;return e?(e.offset().left,i=e.offset().top,s=e.height(),e.width(),t.y>i+s/2?"next":"prev"):"all"},_handleIndicator:function(e,t,i){var s=this._getIndicator(t);"all"===i?"vertical"===this.orientation?s.insertBefore(e.children(".spacer")):e.append(s):"prev"===i?s.insertBefore(t):s.insertAfter(t),this._resizeIndicator(s,e)},_getIndicator:function(){var e=(e=this._indicator)||o('<div class="'+this.toThemeProperty("jqx-docking-drop-indicator")+'"></div>');return this._indicator=e,this._indicator.css("margin",this.windowsOffset),"vertical"===this.orientation&&this._indicator.css("float","left"),e},_resizeIndicator:function(e,t){"horizontal"===this.orientation?e.width(t.width()-(e.outerWidth(!0)-e.width())):e.width(this._draggingItem.width()),e.height(this._draggingItem.height())},_mouseLeavePanel:function(e){this._indicator&&(this._indicator.remove(),this._indicator=null)},_itemDrop:function(e){var t=e.data.self,e=o(e.currentTarget);t._dragging=!1,t._indicator?(e.detach(),e.insertAfter(t._indicator),t._indicator.remove(),t._dropFixer(e)):t._dropHandler(e),e.fadeTo(0,1),e.focus(),t._indicator=null,t._cookieExporter(),t._draggedFired=!1,t._raiseEvent(0,{window:e.attr("id")})},_dropFixer:function(e){e.css("position","static"),e.addClass(this.toThemeProperty("jqx-docking-window")),e.css("margin",this.windowsOffset),e.jqxWindow("enableResize",!1),"horizontal"===this.orientation&&this._fixWindowSize(e)},_dropHandler:function(e){this._getWindowOptions(e);"docked"===this.mode?this._dropDocked(e):this._dropFloating(e)},_dropDocked:function(e){var t=this._getWindowOptions(e).lastPosition;e.detach(),t.next[0]?e.insertBefore(t.next):t.prev[0]?e.insertAfter(t.prev):t.parent.append(e),this._dropFixer(e)},_fixWindowSize:function(e){o(e).jqxWindow({width:e.parent().width()-(e.outerWidth()-e.width())-2*parseInt(this.windowsOffset,10)})},_itemResized:function(e){var t=e.data.self,i=o(e.currentTarget);t._setWindowOption(i,"size",{width:e.args.width,height:e.args.height}),t._cookieExporter()},_dropFloating:function(e){var t;o(e).jqxWindow("collapsed")||(t=this._getWindowOptions(e),o(e).jqxWindow("enableResize",t.resizable)),o(document.body).append(e),this._restoreWindowSize(e)},_restoreWindowSize:function(e){var t=this._getWindowOptions(e);o(e).jqxWindow({width:t.size.width})},_isMouseOverItem:function(e,t,i){if(!e)return!1;var s=e.outerWidth(!0),r=e.outerHeight(!0),n=e.width(),o=e.height(),a=e.offset().top,e=e.offset().left;return i&&(a-=(r-o)/2,e-=(s-n)/2,n=s,o=r),e<=t.x&&e+n>=t.x&&a<=t.y&&a+o+2*this._draggingItem.height()/3>=t.y},_cookieHandler:function(){var e;this.cookies&&null!==(e=o.jqx.cookie.cookie("jqxDocking"+this.element.id))&&(this.importLayout(e),this.layoutImported=!0)},_cookieExporter:function(){this.cookies&&o.jqx.cookie.cookie("jqxDocking"+this.element.id,this.exportLayout(),this.cookieOptions)},_indexOf:function(e,t){for(var i=0;i<t.length;i+=1)if(e[0]===t[i][0])return i;return-1},_exportFixed:function(){for(var e,t=[],i="",s=0;s<this._panels.length;s+=1){i+='"panel'+s+'": {';for(var r=this._panels[s].children(),n=0;n<r.length;n+=1)(e=o(r[n])).attr("id")&&(t.push(e),i+='"'+e.attr("id")+'":{"collapsed":'+e.jqxWindow("collapsed")+"},");1<r.length&&(i=i.substring(0,i.length-1)),i+="},"}return{JSON:i=i.substring(0,i.length-1),children:t}},_exportFloating:function(e){var t,i="";i+='"floating":{';for(var s=0;s<this._windows.length;s+=1)t=o(this._windows[s]),-1===this._indexOf(t,e)&&(i+='"'+t.attr("id")+'":{"x":"'+t.css("left")+'","y":"'+t.css("top")+'","width":"'+t.jqxWindow("width")+'","height":"'+t.jqxWindow("height")+'","collapsed":'+t.jqxWindow("collapsed")+"},");return","===i.substring(i.length-1,i.length)&&(i=i.substring(0,i.length-1)),i+="}"},_importFixed:function(e){for(var t in e)if("orientation"!==t&&"floating"!==t&&e.hasOwnProperty(t)){var i=t.substring(t.length-1,t.length),i=parseInt(i,10),s=e[t];for(t in s)o("#"+t).css("position","static"),s[t].collapsed&&function(e){setTimeout(function(){o("#"+e).jqxWindow("collapsed",!0)},0)}(t),this._panels[i].append(o("#"+t)),"horizontal"===this.orientation&&this._fixWindowSize(o("#"+t))}},_importFloating:function(e){var t,i,s=e.floating;for(i in s)s.hasOwnProperty(i)&&(o("#"+i).css("position","absolute"),o(document.body).append(o("#"+i)),t=this._dragging,o("#"+i).jqxWindow("move",s[i].x,s[i].y),this._dragging=t,o("#"+i).jqxWindow("width",s[i].width),o("#"+i).jqxWindow("height",s[i].height),o("#"+i).jqxWindow("enableResize",!0),this._setWindowsOptions(!0),function(e){setTimeout(function(){o("#"+e).jqxWindow("collapsed",s[e].collapsed)},0)}(i),o("#"+i).fadeTo(0,1))},_getWindowOptions:function(e){return"object"==typeof e&&null!==e&&(e=0<e.length?e.attr("id"):e.id),this._windowOptions[e]},_setWindowOption:function(e,t,i){"object"==typeof e&&null!==e&&(e=0<e.length?e.attr("id"):e.id),void 0===this._windowOptions[e]&&(this._windowOptions[e]={}),this._windowOptions[e][t]=i,"mode"===t&&this.setWindowMode(e,i)},_expanded:function(e){e.data.self._cookieExporter()},_collapsed:function(e){e.data.self._cookieExporter()},_raiseEvent:function(e){var t=o.Event(this._events[e]);return t.args=arguments[1],this.host.trigger(t)},_moveWindow:function(t,e,i){var s=e.children(),r=null,n=0;o.each(s,function(e){"static"==o(this).css("position")&&(n==i&&this!=t[0]&&(r=this),n++)}),n<=i?t.appendTo(e):null!=r&&t.insertBefore(r),t.css("position","static")},propertyChangedHandler:function(e,t,i,s){switch(t){case"rtl":o.each(e._windows,function(){this.jqxWindow({rtl:s})});break;case"theme":o.each(e._windows,function(){this.jqxWindow({theme:s})});break;case"orientation":case"height":case"width":e._performLayout(),e._cookieExporter();break;case"panelsRoundedCorners":e._removeClasses(),e._addClasses();break;case"disabled":s?(e.disabled=!1,e.disable()):(e.disabled=!0,e.enable());break;case"windowsMode":case"mode":e._setWindowsOptions(!1);break;case"cookies":e._cookieExporter();break;case"windowsOffset":e._performLayout()}},destroy:function(){this._removeEventListeners(),this.host.remove(),this.windowsMode=null,this.cookieOptions=null,this._windowOptions=null,this._panels=null,this._windows=null,this._events=null},disable:function(){if(!this.disabled){this.disabled=!0,this._removeEventListeners();for(var e=0;e<this._windows.length;e+=1)this._windows[e][0].style.opacity="",o(this._windows[e]).jqxWindow("disable")}},enable:function(){if(this.disabled){this.disabled=!1,this._addEventListeners();for(var e=0;e<this._windows.length;e+=1)o(this._windows[e]).jqxWindow("enable")}},move:function(e,t,i){var s;(t=this._panels[t])&&((s=o(t.children(".spacer"))).detach(),e=o("#"+e),"floating"!==this._getWindowOptions(e).mode&&(this._moveWindow(e,t,i),t.append(s),this._cookieExporter(),this._dropFixer(e)))},exportLayout:function(){var e="{",t=this._exportFixed();return e+(t.JSON+","+this._exportFloating(t.children)+',"orientation": "'+this.orientation+'"')+"}"},importLayout:function(e){try{var t=o.parseJSON(e);this.orientation=t.orientation,this._performLayout(),this._importFixed(t),this._importFloating(t)}catch(e){alert("Invalid JSON string.")}},setWindowMode:function(e,t){var e=o("#"+e),i=this._getWindowOptions(e);"floating"===t?(e.css("position","absolute"),this._windowOptions[e.attr("id")].mode=t):"floating"===i.mode&&"absolute"===e.css("position")&&(i.lastPosition?this._dropDocked(e):(this._panels[0].append(e),this._dropFixer(e))),this._windowOptions[e.attr("id")].mode=t},hideCloseButton:function(e){o("#"+e).jqxWindow("showCloseButton",!1)},showCloseButton:function(e){o("#"+e).jqxWindow("showCloseButton",!0)},hideCollapseButton:function(e){o("#"+e).jqxWindow("showCollapseButton",!1)},showCollapseButton:function(e){o("#"+e).jqxWindow("showCollapseButton",!0)},expandWindow:function(e,t){o("#"+e).jqxWindow("expand",t)},collapseWindow:function(e,t){o("#"+e).jqxWindow("collapse",t)},setWindowProperty:function(e,t,i){o("#"+e).jqxWindow(t,i)},getWindowProperty:function(e,t){return o("#"+e).jqxWindow(t)},setWindowPosition:function(e,t,i){e=o("#"+e);"floating"===this._getWindowOptions(e).mode&&(e.css("position","absolute"),o(e).jqxWindow("move",t,i,null,!1))},hideAllCloseButtons:function(){for(var e=0;e<this._windows.length;e+=1)this._windows[e].jqxWindow("showCloseButton",!1)},hideAllCollapseButtons:function(){for(var e=0;e<this._windows.length;e+=1)this._windows[e].jqxWindow("showCollapseButton",!1)},showAllCloseButtons:function(){for(var e=0;e<this._windows.length;e+=1)this._windows[e].jqxWindow("showCloseButton",!0)},showAllCollapseButtons:function(){for(var e=0;e<this._windows.length;e+=1)this._windows[e].jqxWindow("showCollapseButton",!0)},pinWindow:function(e){o("#"+e).jqxWindow("draggable",!1)},unpinWindow:function(e){o("#"+e).jqxWindow("draggable",!0)},setDraggingMode:function(e){e=o("#"+e);this._prepareForDragging(e),e.fadeTo(0,1)},enableWindowResize:function(e){"absolute"===(e=o("#"+e)).css("position")&&(this._setWindowOption(e,"resizable",!0),e.jqxWindow("enableResize",!0))},disableWindowResize:function(e){e=o("#"+e),this._setWindowOption(e,"resizable",!1),e.jqxWindow("enableResize",!1)},addWindow:function(e,t,i,s){var r="#"+e;o(r).jqxWindow({keyboardNavigation:!1,rtl:this.rtl,theme:this.theme,enableResize:!1,width:o(r).css("width"),maxWidth:Number.MAX_VALUE}),this._panels[0].append(o(r)),this._windows.push(o(r)),t?this._setWindowOption(o(r),"mode",t):this._setWindowOption(o(r),"mode",this.mode),this._setWindowOption(o(r),"resizable",!0),this._setWindowOption(o(r),"size",{width:o(r).width(),height:o(r).height()}),"floating"==t?o(r).jqxWindow({enableResize:!0}):o(r).jqxWindow({enableResize:!1}),null!=this._panels[i]&&this._setWindowOption(o(r),"size",{width:this._panels[i].width(),height:this._panels[i].height()}),this._addEventListenersTo(o(r)),void 0!==i&&void 0!==s&&this.move(e,i,s),this._dropFixer(o(r))},closeWindow:function(e){o("#"+e).jqxWindow("closeWindow")}})}(jqxBaseFramework),!function(k){k.jqx.jqxWidget("jqxDockingLayout","jqxLayout",{}),k.extend(k.jqx._jqxDockingLayout.prototype,{defineInstance:function(){var e={events:["float","dock"]};return this.base&&(this.base.dockingLayout=this),this===k.jqx._jqxDockingLayout.prototype||k.extend(!0,this,e),e},createInstance:function(){if(!this.base.host.jqxWindow)throw new Error("jqxDockingLayout: Missing reference to jqxwindow.js.");this._oldIE=k.jqx.browser.msie&&k.jqx.browser.version<9,this._addClasses(),!0!==this.base._initiallyHidden&&(this._createOverlay(),this._createEdgeOverlays())},loadLayout:function(e){if(void 0!==e&&!1===k.isEmptyObject(e)){for(var t=this.base,i=t.element.id,s=t._find(document.body,"."+i+"FloatGroup"),r=0;r<s.length;r++){var n=k(s[r]);n.off(),n.jqxWindow("destroy")}t.loadLayout(e)}},destroy:function(){for(var e=this.base,t=e.element.id,i=e._find(document.body,"."+t+"FloatGroup"),s=0;s<i.length;s++){var r=k(i[s]);r.off(),r.jqxWindow("destroy")}this._removeHandlers(),e.destroy()},addFloatGroup:function(e,t,i,s,r,n,o){var a=this.base,e={type:"floatGroup",width:e,height:t,position:i,items:[],programmaticallyAdded:!0};e.items.push({type:s,title:r,content:n,initContent:o}),a.layout.push(e),a.render()},_raiseEvent:function(e,t){e=this.events[e],(t=void 0===t?{owner:null}:t).owner=this,e=new k.Event(e);return e.owner=this,e.args=t,e.preventDefault&&e.preventDefault(),this.base.host.trigger(e)},_addClasses:function(){var e=this.base;e.host.addClass(e.toThemeProperty("jqx-docking-layout"))},_removeHandlers:function(){var e=this.base,t=e.element.id;this.removeHandler(k(document),"mousemove.jqxDockingLayout"+t),this.removeHandler(e.host,"mouseleave.jqxDockingLayout"+t),e._touchDevice&&(this.removeHandler(k(document),"touchmove.jqxDockingLayout"+t),this.removeHandler(k(document),"touchend.jqxDockingLayout"+t))},_removeByDragHandler:function(e,t,i,s,r){void 0===s&&(s=e.args.draggedIndex),void 0===r&&(r=!0);var n=this.base,o=t.items,a=o[s],l=n._find(t.widget,".jqx-ribbon-content-section")[s],l=n._detachChildNodes(l);i.hasClass("jqx-ribbon")||(i=k(n._find(i,".jqx-ribbon")[0])),this.base._suppressResizeHandler=!0,this._createFloatGroup(e,a.title,l,"documentGroup",t,a),this.base._closeDocumentPanel(s,o,t,i,r),this.base._suppressResizeHandler=!1},_floatTabbedGroup:function(e,t,i){for(var s,r,n=this.base,o=[],t=k(n._find(t,".jqx-ribbon")[0]),a=n._find(t,".jqx-ribbon-content-section"),l=0;l<e.items.length;l++){var d=e.items[l],h=n._detachChildNodes(a[l]);d.selected&&(s=d.title,r=l),o.push(h)}this._createFloatGroup(i,s,o,"tabbedGroup",e,null,r),this.base._close(e),i&&(i.target.style.cursor="")},_addTabbedGroupHandlers:function(t,i){var s,r=this,n=r.base,e=n.element.id,o=n._find(i,".jqx-layout-window-header")[0],a=!1,l=n._touchDevice?["touchstart","touchend"]:["mousedown","mouseup"];function d(e){!0===a&&!0!==n._clickedToResize&&(r._floatTabbedGroup(t,i,e),a=!1)}r.addHandler(o,l[0]+".jqxDockingLayout"+e,function(e){!1!==t.allowDrag&&(a=!0,e.target.style.cursor="move",n._touchDevice&&(e=e.originalEvent.touches[0],s=document.elementFromPoint(e.pageX,e.pageY)))}),r.addHandler(o,l[1]+".jqxDockingLayout"+e,function(e){a=!1,e.target.style.cursor=""}),n._touchDevice?r.addHandler(k(document),"touchmove.jqxDockingLayout"+e,function(e){!0===n._clickedToResize&&e.preventDefault();e=e.originalEvent.touches[0];s!==document.elementFromPoint(e.pageX,e.pageY)&&d({pageX:e.pageX,pageY:e.pageY,target:s})}):r.addHandler(o,"mouseleave.jqxDockingLayout"+e,function(e){d({pageX:e.pageX,pageY:e.pageY,target:e.target})})},_floatAutoHideGroup:function(e,t,i,s){i=this.base._detachChildNodes(i);this._createFloatGroup(s,t,i,"autoHideGroup",e,e),this.base._close(e)},_addAutoHideGroupHandlers:function(t,e,i,s){var r,n=this,o=n.base,a=o.element.id,l=!1,d=o._touchDevice?["touchstart","touchend"]:["mousedown","mouseup"];function h(e){!0===l&&(n._floatAutoHideGroup(t,i,s,e),l=!1,e.target.style.cursor="")}n.addHandler(e,d[0]+".jqxDockingLayout"+a,function(e){!1!==t.parent.allowDrag&&(l=!0,e.target.style.cursor="move",o._touchDevice&&(e=e.originalEvent.touches[0],r=document.elementFromPoint(e.pageX,e.pageY)))}),n.addHandler(e,d[1]+".jqxDockingLayout"+a,function(e){l=!1,e.target.style.cursor=""}),o._touchDevice?n.addHandler(k(document),"touchmove.jqxDockingLayout"+a,function(e){!0===o._clickedToResize&&e.preventDefault();e=e.originalEvent.touches[0];r!==document.elementFromPoint(e.pageX,e.pageY)&&h({pageX:e.pageX,pageY:e.pageY,target:r})}):n.addHandler(e,"mouseleave.jqxDockingLayout"+a,function(e){h({pageX:e.pageX,pageY:e.pageY,target:e.target})})},_createFloatGroup:function(s,r,e,n,o,a,l){var d,h,c=this,u=c.base,p=document.createElement("div");if(p.className=u.toThemeProperty("jqx-docking-layout-group-floating")+" "+u.element.id+"FloatGroup",p.innerHTML="<div></div><div></div>",document.body.appendChild(p),p=k(p),"documentGroup"===n)s&&(d=s.args.x,h=s.args.y),t=o.widget.width(),i=o.widget.height(),m=e;else if("tabbedGroup"===n){s&&(d=s.pageX,h=s.pageY);var t=o.widget.width(),i=o.widget.height(),m="",g=document.createElement("div"),f=document.createElement("div"),v=document.createElement("ul");v.className="jqx-layout-ribbon-header jqx-layout-ribbon-header-"+(c.rtl?"rtl":"ltr");for(var x=0;x<o.items.length;x++){var y=o.items[x],w=document.createElement("div"),b=document.createElement("li");b.innerHTML=y.title,v.appendChild(b);for(var _=0;_<e[x].length;_++)e[x][_].appendTo(w);f.appendChild(w)}g.appendChild(v),g.appendChild(f),m=g=k(g)}else"autoHideGroup"===n&&(s&&(d=s.pageX,h=s.pageY),t=k(u._find(o.parent.widget,".jqx-ribbon-content")[0]).width(),i=o.parent.widget.height(),m=e);d||h||(j=u.host.offset(),d=(u.host.width()-t)/2+j.left+100,h=(u.host.height()-i)/2+j.top+10),p.on("moved close",function(e){c._hideOverlays();var t=p.current;"moved"===e.type?(t.position.x=e.args.x,t.position.y=e.args.y,t._overlayGroup&&c._updateOverlayGroup(t._overlayGroup),c._clearTextSelection(),c._windowCreate=!1,c._hideOverlays()):(u._raiseEvent("4",{element:p,floatGroup:p.current}),t._overlayGroup&&(t._overlayGroup.removed=!0,c._updateOverlayGroups()),t.removed=!0,u._updateLayout(u.layout))}),p.on("resized",function(e){var t=p.current,i=k(this).offset();t.width=e.args.width,t.height=e.args.height,t.position.x=i.left,t.position.y=i.top,t._overlayGroup&&c._updateOverlayGroup(t._overlayGroup)}),p.jqxWindow({theme:u.theme,title:r,content:m,width:t,maxWidth:null,height:i,maxHeight:null,position:{x:d-100,y:h-10},closeButtonAction:"close",rtl:u.rtl,initContent:function(){var e=this._header,t=u._touchDevice?"touchstart":"mousedown",i="autoHideGroup"===n?o.parent:o;s&&(c._draggedWindow={fromGroup:i,fromPanel:a,title:r,element:p},e.trigger("mousedown",[d,h]),c._windowDragged=!0,c._windowCreate=!0,c._interval(),u.resizable&&(u._overlay[0].style.display="block"),c._showEdgeOverlays()),e.on(t,function(){c._windowDragged=!0,p.current._overlayGroup&&(p.current._overlayGroup.self=!0),c._interval(),u.resizable&&(u._overlay[0].style.display="block"),c._draggedWindow={fromGroup:i,fromPanel:a,title:r,element:p},c._showEdgeOverlays()}),e.on("mouseup",function(){c._hideOverlays(),c._windowCreate=!1}),"tabbedGroup"===n&&(g.jqxRibbon({theme:u.theme,width:"100%",height:"100%",position:"bottom",selectedIndex:l,selectionMode:"click",animationType:"none",rtl:u.rtl,reorder:!0,_suppressReorder:!1,_removeByDrag:!0}),g.on("select",function(e){e.owner.widgetName&&"jqxRibbon"!==e.owner.widgetName||(e=p.current.items[0].items[e.args.selectedIndex],p.jqxWindow("setTitle",e.title),e.selected=!0)}),g.on("unselect",function(e){e.owner.widgetName&&"jqxRibbon"!==e.owner.widgetName||(p.current.items[0].items[e.args.unselectedIndex].selected=!1)}),g.on("reorder",function(e){u._swapPanelsInLayout(p.current.items[0].items,e.args.newIndex,e.args.oldIndex)}),g.on("_removeByDrag",function(e){c._removeByDragHandler(e,p.current.items[0],g),1===p.current.items[0].items.length&&g.jqxRibbon({_removeByDrag:!1})}))}});var q,j={type:"floatGroup",parent:{type:"host"},widget:p,position:{x:d-100,y:h-10},index:u.layout.length,width:t,height:i};if(p.current=j,a)j.items=[],u._copyItem(a,j.items),T=j.items,q=j;else{j.items=[{type:"tabbedGroup",items:[],parent:j,widget:g}];for(var T=j.items[0].items,C=0;C<o.items.length;C++)u._copyItem(o.items[C],T);q=j.items[0]}for(var S=0;S<T.length;S++)T[S].parent=q;u.layout.push(j),c._raiseEvent("0",{item:j}),c._trackFloatGroups()},_interval:function(){var e,t,i=this;!0===i._oldIE&&(e=i._overlayWidth,t=i._overlayHeight,i._oldIEInterval=setInterval(function(){i._checkPosition(e,t),i._windowCreate&&i._draggedWindow.element.jqxWindow("move",i._x-50,i._y-10)},1e3))},_createOverlay:function(){var h=this,c=h.base,e=c.element.id,t=(h._overlay=document.createElement("div"),h._overlay.className=c.toThemeProperty("jqx-docking-layout-overlay"),h._overlay.innerHTML='<div class="jqx-docking-layout-overlay-section"><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-top")+'"><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+c.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+c.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-top")+'"></div></div></div></div><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div></div><div class="jqx-docking-layout-overlay-section"><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-left")+'"><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+c.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+c.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-left")+'"></div></div></div></div><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-center")+'"><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+c.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+c.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-inner-square-content jqx-docking-layout-overlay-highlight")+'"></div></div></div><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-right")+'"><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+c.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+c.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-right")+'"></div></div></div></div></div><div class="jqx-docking-layout-overlay-section"><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-bottom")+'"><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+c.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+c.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-bottom")+'"></div></div></div></div><div class="'+c.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div></div>',h._overlay=k(h._overlay),c._find(h._overlay,".jqx-docking-layout-overlay-square-center")[0]),r=(h._overlayCenter=k(t.firstChild),h._dropOverlay=document.createElement("div"),h._dropOverlay.className=h.toThemeProperty("jqx-docking-layout-drop-overlay"),h._dropOverlayHelper=k(h._dropOverlay),c._ie7?k("body").append(h._overlay,h._dropOverlay):(c.element.appendChild(h._overlay[0]),c.element.appendChild(h._dropOverlay)),h._overlayWidth=h._overlay[0].offsetWidth,h._overlayHeight=h._overlay[0].offsetHeight,h._overlay[0].style.display="none",h._addOverlayHandlers(),h._squares=[c._find(h._overlay,".jqx-docking-layout-overlay-square-top")[0],c._find(h._overlay,".jqx-docking-layout-overlay-square-left")[0],t,c._find(h._overlay,".jqx-docking-layout-overlay-square-right")[0],c._find(h._overlay,".jqx-docking-layout-overlay-square-bottom")[0]],!(h._sansCenter=[k(c._find(k(h._squares[0]),".jqx-docking-layout-overlay-inner-square")[0]),k(c._find(k(h._squares[1]),".jqx-docking-layout-overlay-inner-square")[0]),k(c._find(k(h._squares[3]),".jqx-docking-layout-overlay-inner-square")[0]),k(c._find(k(h._squares[4]),".jqx-docking-layout-overlay-inner-square")[0])]));function n(e,t,i,s){h._dropOverlay.style.display="block",h._dropOverlay.style.width=e+"px",h._dropOverlay.style.height=t+"px",k(h._dropOverlay).offset({left:i,top:s})}function i(e){var t,i,s;e=h._closest(e,"jqx-docking-layout-overlay-square"),r=e,k(c._find(e,".jqx-docking-layout-overlay-inner-square")[0]).hasClass("jqx-fill-state-disabled")||(t=h._dropToGroup.element.width(),i=h._dropToGroup.element.height(),s=h._dropToGroup.element.offset(),e.hasClass("jqx-docking-layout-overlay-square-top")?n(t,i/2,s.left,s.top):e.hasClass("jqx-docking-layout-overlay-square-left")?n(t/2,i,s.left,s.top):e.hasClass("jqx-docking-layout-overlay-square-center")&&!h._overlayCenter.hasClass("jqx-docking-layout-square-disabled")?n(t,i,s.left,s.top):e.hasClass("jqx-docking-layout-overlay-square-right")?n(t/2,i,s.left+t/2,s.top):e.hasClass("jqx-docking-layout-overlay-square-bottom")?n(t,i/2,s.left,s.top+i/2):c._touchDevice&&(h._dropOverlay.style.display="none",r=!1))}function s(e){var t=h._dropToGroup.settings;if(k(c._find(e,".jqx-docking-layout-overlay-inner-square")[0]).hasClass("jqx-fill-state-disabled"))h._hideOverlays();else{if(e.hasClass("jqx-docking-layout-overlay-square-top"))h._dropHandler(0,"vertical","height","top");else if(e.hasClass("jqx-docking-layout-overlay-square-left"))h._dropHandler(0,"horizontal","width","left");else if(e.hasClass("jqx-docking-layout-overlay-square-center")){var i,s,r=h._getDraggedWindowInformation(),n=r.title,o=r.content;if("documentGroup"===t.type?(i=t.widget,s="documentPanel"):"tabbedGroup"===t.type&&(i="floatGroup"===t.parent.type?t.widget:k(c._find(t.widget,".jqx-ribbon")[0]),s="layoutPanel"),"layoutGroup"===t.type)h._dropToEmptyLayoutGroup(r);else for(var a=0;a<n.length;a++){i.jqxRibbon({_suppressReorder:!0}),i.jqxRibbon("addAt",c._find(i,".jqx-ribbon-content-section").length,{title:n[a],content:o[a]},!0);var l=t.items.length,d={type:s,title:n[a],parent:t,index:l,detachedContent:r.content[a],docked:!0};t.items.push(d),c._addRightClickHandler(k(c._find(i,".jqx-ribbon-item")[l]),{current:d}),i.jqxRibbon({_suppressReorder:!1})}"floatGroup"===t.parent.type&&t.widget.jqxRibbon({_removeByDrag:!0}),h._clearTextSelection(),h._raiseEvent("1",{position:"center",item:t})}else e.hasClass("jqx-docking-layout-overlay-square-right")?h._dropHandler(1,"horizontal","width","right"):e.hasClass("jqx-docking-layout-overlay-square-bottom")&&h._dropHandler(1,"vertical","height","bottom");h._removeFloatGroupObject(h._draggedWindow.element.current),h._draggedWindow.element.remove(),h._hideOverlays()}}c._touchDevice?(h.addHandler(k(document),"touchmove.jqxDockingLayout"+e,function(e){h._windowDragged&&(e.preventDefault(),e=e.originalEvent.touches[0],i(k(document.elementFromPoint(e.pageX,e.pageY))))}),h.addHandler(k(document),"touchend.jqxDockingLayout"+e,function(){!1!==r&&(s(r),r=!1)})):k.each(h._squares,function(){h.addHandler(this,"mouseenter.jqxDockingLayout"+e,function(){i(k(this))}),h.addHandler(this,"mouseleave.jqxDockingLayout"+e,function(){h._dropOverlay.style.display="none"}),h.addHandler(this,"mouseup.jqxDockingLayout"+e,function(){s(k(this))})})},_addOverlayHandlers:function(){var t=this,i=t._overlayWidth,s=t._overlayHeight;t.base._touchDevice?t.addHandler(k(document),"touchmove.jqxDockingLayout"+t.base.element.id,function(e){e=e.originalEvent.touches[0];t._x=e.pageX,t._y=e.pageY,t._windowDragged&&!t._oldIE&&(t._checkPosition(i,s),t._windowCreate&&t._draggedWindow.element.jqxWindow("move",e.pageX-50,e.pageY-10))}):t.addHandler(k(document),"mousemove.jqxDockingLayout"+t.base.element.id,function(e){t._x=e.pageX,t._y=e.pageY,t._windowDragged&&!t._oldIE&&(t._checkPosition(i,s),t._windowCreate&&t._draggedWindow.element.jqxWindow("move",e.pageX-50,e.pageY-10))})},_checkPosition:function(e,t){for(var i=this,s=i.base,r=i._x,n=i._y,o=0;o<s._overlayGroups.length;o++){var a=s._overlayGroups[o];if(!a.self){var l=a.width,d=a.height,h=a.offset,c=h.left,h=h.top;if(c<=r&&r<=c+l&&h<=n&&n<=h+d){if(("documentGroup"===a.settings.type&&"documentGroup"===i._draggedWindow.fromGroup.type||"tabbedGroup"===a.settings.type&&("tabbedGroup"===i._draggedWindow.fromGroup.type||"autoHideGroup"===i._draggedWindow.fromGroup.type)||"layoutGroup"===a.settings.type)&&!1!==a.settings.allowDrop)i._overlayCenter.removeClass(s.toThemeProperty("jqx-fill-state-disabled"));else if(i._overlayCenter.addClass(s.toThemeProperty("jqx-fill-state-disabled")),"floatGroup"===a.settings.parent.type)return;for(var u=0;u<i._sansCenter.length;u++)"floatGroup"===a.settings.parent.type?i._sansCenter[u].addClass(s.toThemeProperty("jqx-fill-state-disabled")):i._sansCenter[u].removeClass(s.toThemeProperty("jqx-fill-state-disabled"));return i._overlay[0].style.display="block",i._overlay.offset({left:parseInt(c+l/2-e/2,10),top:parseInt(h+d/2-t/2,10)}),void(i._dropToGroup=a)}}}i._overlay[0].style.display="none"},_dropHandler:function(e,t,i,s){var r=this.base,n=this._dropToGroup.settings,o=n.parent,a=this._getDraggedWindowInformation(),l=a.title,d=a.content,h=a.groupType,c=a.itemType,u=[];if(o.orientation===t){a=n.index+e,(g={type:h,parent:o})[i]=this._draggedWindow.element[i]();for(var p=0;p<l.length;p++)u.push({type:c,title:l[p],parent:g,prevent:!0,selected:this._getFloatGroupItemSelection(p),detachedContent:d[p],docked:!0});g.items=u,this._setOptimalDimension(i,g,n),o.items.splice(a,0,g)}else{var m,o="width"===i?(m="height","minHeight"):(m="width","minWidth"),a={type:"layoutGroup",orientation:t,parent:n.parent,index:n.index};a[m]=n[m],n[o]&&(a[o]=n[o]),n.parent.items.splice(n.index,1),n.parent.items.splice(n.index,0,a);for(var g={type:h,parent:n.parent=a},f=0;f<l.length;f++)u.push({type:c,title:l[f],parent:g,prevent:!0,selected:this._getFloatGroupItemSelection(f),detachedContent:d[f],docked:!0});g.items=u,delete n[m],n[i]="50%",g[i]="50%",a.items=[n],a.items.splice(0+e,0,g)}r.render();for(var v=r._find(g.widget,".jqx-ribbon-content-section"),x=0;x<v.length;x++)for(var y=k(v[x]),w=d[x],b=0;b<w.length;b++)d[x][b].appendTo(y);this._clearTextSelection(),r._raiseEvent("1",{item:n}),this._raiseEvent("1",{position:s,item:g})},_setOptimalDimension:function(e,t,i){var s="width"===e?"minWidth":"minHeight",r=i[s]||this.base["minGroup"+e.charAt(0).toUpperCase()+e.slice(1)],n=i.parent.widget[e](),o=parseFloat(i[e])-r/n*100,a=t[e]/n*100;o<a?(t[e]=parseFloat(i[e])/2+"%",t[s]=parseInt(parseFloat(t[e])/100*n,10),i[e]=parseFloat(i[e])-parseFloat(t[e])+"%",(o=parseInt(parseFloat(i[e])/100*n,10))<r&&(i[s]=o)):(t[e]=a+"%",i[e]=parseFloat(i[e])-a+"%")},_dropToEmptyLayoutGroup:function(e){var t=this._dropToGroup.settings,i={type:e.groupType,items:[],parent:t},s=e.content;"horizontal"===t.orientation?i.width="100%":"vertical"===t.orientation&&(i.height="100%");for(var r=0;r<e.title.length;r++){var n={type:e.itemType,title:e.title[r],parent:i,prevent:!0,selected:this._getFloatGroupItemSelection(r),detachedContent:s[r],docked:!0};i.items.push(n)}t.items.push(i),this.base.render();for(var o=this.base._find(i.widget,".jqx-ribbon-content-section"),a=0;a<o.length;a++)for(var l=0;l<s[a].length;l++)s[a][l].appendTo(o[a])},_getFloatGroupItemSelection:function(e){e=!!this._draggedWindow.fromPanel||this._draggedWindow.element.current.items[0].items[e].selected;return e},_createEdgeOverlays:function(){function e(e){var t="left"===e||"right"===e?"horizontal":"vertical",i='<div class="'+r.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-mini-window-edge-"+t)+'"><div class="'+r.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header jqx-docking-layout-overlay-inner-square-header-"+t)+'"></div><div class="'+r.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-inner-square-content jqx-docking-layout-overlay-inner-square-content-"+t)+'"></div></div>',t='<div class="'+r.toThemeProperty("jqx-docking-layout-overlay-square-edge-arrow-container jqx-docking-layout-overlay-square-edge-arrow-container-"+t)+'"><div class="'+r.toThemeProperty("jqx-fill-state-pressed jqx-docking-layout-overlay-square-edge-arrow jqx-docking-layout-overlay-square-edge-arrow-"+e)+'"></div></div>',e="left"===e||"top"===e?i+t:t+i,t=document.createElement("div");return t.className=r.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-edge"),t.innerHTML='<div class="'+r.toThemeProperty("jqx-docking-layout-overlay-inner-square-edge")+'">'+e+"</div>",(r._ie7?document.body:r.element).appendChild(t),s._edgeOverlays.push(t),k(t)}var s=this,r=s.base;s._edgeOverlays=[],s._leftOverlay=e("left"),s._rightOverlay=e("right"),s._topOverlay=e("top"),s._bottomOverlay=e("bottom"),s._addEdgeOverlaysHandlers()},_addEdgeOverlaysHandlers:function(){function t(e,t,i,s){r._dropOverlay.style.display="block",r._dropOverlay.style.width=e,r._dropOverlay.style.height=t,k(r._dropOverlay).offset({left:i,top:s})}var i,r=this,s=r.base,e=s.element.id,n=!1;function o(e){switch(i=s.host.offset(),e=r._closest(k(e),"jqx-docking-layout-overlay-square-edge")[0],n=e){case r._leftOverlay[0]:t("100px",s.host.height()+"px",i.left,i.top);break;case r._rightOverlay[0]:t("100px",s.host.height()+"px",i.left+s.host.width()-100,i.top);break;case r._topOverlay[0]:t(s.host.width()+"px","100px",i.left,i.top);break;case r._bottomOverlay[0]:t(s.host.width()+"px","100px",i.left,i.top+s.host.height()-100);break;default:s._touchDevice&&(n=!1)}}function a(e){switch(e){case r._leftOverlay[0]:r._dropToEdge("left",0,"horizontal","width");break;case r._rightOverlay[0]:r._dropToEdge("right",s.layout[0].items.length-1,"horizontal","width");break;case r._topOverlay[0]:r._dropToEdge("top",0,"vertical","height");break;case r._bottomOverlay[0]:r._dropToEdge("bottom",s.layout[0].items.length-1,"vertical","height")}}s._touchDevice?(r.addHandler(k(document),"touchmove.jqxDockingLayout"+e,function(e){r._windowDragged&&(e.preventDefault(),e=e.originalEvent.touches[0],o(k(document.elementFromPoint(e.pageX,e.pageY))))}),r.addHandler(k(document),"touchend.jqxDockingLayout"+e,function(){!1!==n&&(a(n),n=!1)})):k.each(r._edgeOverlays,function(){r.addHandler(this,"mouseenter.jqxDockingLayout"+e,function(){o(this)}),r.addHandler(this,"mouseleave.jqxDockingLayout"+e,function(){r._dropOverlay.style.display="none"}),r.addHandler(this,"mouseup.jqxDockingLayout"+e,function(){a(this)})})},_dropToEdge:function(e,t,i,s){var r,n=this,o=n.base,a=o.layout[0],l=n._getDraggedWindowInformation(),d=l.title,h=l.content,c=l.groupType,u=l.itemType,p=[];if(n._removeFloatGroupObject(n._draggedWindow.element.current),a.orientation===i){(f={type:c,parent:a})[s]=n._draggedWindow.element[s]();for(var m=0;m<d.length;m++)p.push({type:u,title:d[m],parent:f,prevent:!0,selected:n._getFloatGroupItemSelection(m),detachedContent:h[m],docked:!0});f.items=p,r=a.items[t],n._setOptimalDimension(s,f,r),"left"===e||"top"===e?a.items.splice(t,0,f):a.items.push(f)}else{"width"===s?g="height":g="width";for(var g,l={type:"layoutGroup",orientation:i,parent:a.parent,index:a.index},f={type:c,parent:l},v=0;v<d.length;v++)p.push({type:u,title:d[v],parent:f,prevent:!0,selected:n._getFloatGroupItemSelection(v),detachedContent:h[v],docked:!0});f.items=p,delete a[g],delete f[g],f[s]="50%",a[s]="50%",(a.parent=l).items="left"===e||"top"===e?[f,a]:[a,f],o.layout[0]=l,r=a}o.render();for(var x=o._find(f.widget,".jqx-ribbon-content-section"),y=0;y<x.length;y++)for(var w=0;w<h[y].length;w++)h[y][w].appendTo(x[y]);n._clearTextSelection(),o._raiseEvent("1",{item:r}),n._raiseEvent("1",{position:e+"-edge",item:f}),n._draggedWindow.element.remove(),n._hideOverlays()},_showEdgeOverlays:function(){var e=this.base,t=e.host.width(),i=e.host.height(),s=e.host.offset(),r=!0,n=!0,o=!0,a=!0;!function e(t){var i,s;t.items&&0!==t.items.length&&(i=t.orientation,s=t.items[0],t=t.items[t.items.length-1],"horizontal"===i?("autoHideGroup"===s.type?r=r&&!1:"layoutGroup"===s.type&&e(s),"autoHideGroup"===t.type?n=n&&!1:"layoutGroup"===t.type&&e(t)):"vertical"===i&&("autoHideGroup"===s.type?o=o&&!1:"layoutGroup"===s.type&&e(s),"autoHideGroup"===t.type?a=a&&!1:"layoutGroup"===t.type&&e(t)))}(e.layout[0]),r&&(this._leftOverlay[0].style.display="block"),n&&(this._rightOverlay[0].style.display="block"),o&&(this._topOverlay[0].style.display="block"),a&&(this._bottomOverlay[0].style.display="block"),this._leftOverlay.offset({left:s.left+5,top:s.top+i/2-20}),this._rightOverlay.offset({left:s.left+t-40,top:s.top+i/2-20}),this._topOverlay.offset({left:s.left+t/2-20,top:s.top+5}),this._bottomOverlay.offset({left:s.left+t/2-20,top:s.top+i-40})},_hideOverlays:function(){var e=this,t=e.base;!(e._windowDragged=!1)===e._oldIE&&clearInterval(e._oldIEInterval),t.resizable&&setTimeout(function(){e.base._overlay[0].style.display="none"},0),e._overlay[0].style.display="none";for(var i=0;i<e._edgeOverlays.length;i++)e._edgeOverlays[i].style.display="none";e._dropOverlay.style.display="none"},_getDraggedWindowInformation:function(){var e,t,i=this.base,s=[],r=[];if(this._draggedWindow.fromPanel)s.push(this._draggedWindow.title),r.push(i._detachChildNodes(i._find(this._draggedWindow.element,".jqx-window-content")[0]));else for(var n=i._find(this._draggedWindow.element,".jqx-ribbon-content-section"),o=0;o<this._draggedWindow.element.current.items[0].items.length;o++){var a=this._draggedWindow.element.current.items[0].items[o];s.push(a.title),r.push(i._detachChildNodes(n[o]))}return t="documentGroup"===this._draggedWindow.fromGroup.type?(e="documentGroup","documentPanel"):(e="tabbedGroup","layoutPanel"),{title:s,content:r,groupType:e,itemType:t}},_removeFloatGroupObject:function(e){var t=this.base;e.removed=!0,t._updateLayout(t.layout)},_trackFloatGroups:function(){for(var e=this.base,t=1;t<e.layout.length;t++){var i,s=e.layout[t];"tabbedGroup"===s.items[0].type&&(i={element:i=s.items[0].widget,width:i.width(),height:i.height(),offset:i.offset(),settings:s.items[0]},s._overlayGroup=i,e._overlayGroups.push(i))}},_updateOverlayGroup:function(e){var t;e&&(t=e.element,e.width=t.width(),e.height=t.height(),e.offset=t.offset(),e.self=!1)},_updateOverlayGroups:function(){for(var e=this.base._overlayGroups,t=e.length-1;0<=t;t--)!0===e[t].removed&&e.splice(t,1)},_clearTextSelection:function(){try{document.selection?document.selection.empty():window.getSelection&&(window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges())}catch(e){}},_closest:function(e,t){if(e.hasClass(t))return e;for(var i=k(e[0].parentNode);null!==i[0]&&"#document"!==i[0].nodeName;){if(i.hasClass(t))return i;i=k(i[0].parentNode)}}})}(jqxBaseFramework),!function(p){p.jqx.jqxWidget("jqxDockPanel","",{}),p.extend(p.jqx._jqxDockPanel.prototype,{defineInstance:function(){var e={width:null,height:null,lastchildfill:!0,disabled:!1,events:["layout"]};return this===p.jqx._jqxDockPanel.prototype||p.extend(!0,this,e),e},createInstance:function(e){var t=this;this.host.addClass(this.toThemeProperty("jqx-dockpanel")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.childrenCount=p(this.host).children().length,this.host.wrapInner('<div style="overflow: hidden; width: 100%; height: 100%;" class="innerContainer"></div>'),this.$wrapper=this.host.find(".innerContainer"),this.$wrapper.css("position","relative"),this.sizeCache=new Array,this.performLayout(),p.jqx.utilities.resize(this.host,function(){t.refresh()})},render:function(){(null!=this.width&&-1!=this.width.toString().indexOf("px")||null!=this.width&&!isNaN(this.width))&&this.host.width(this.width),(null!=this.height&&-1!=this.height.toString().indexOf("px")||null!=this.height&&!isNaN(this.height))&&this.host.height(this.height),this.sizeCache=new Array,this.performLayout()},resize:function(e,t){this.width=e,this.height=t,this.render()},performLayout:function(){var n,o,a,l,d,h,c,u;this.disabled||(n=this.childrenCount,d=l=a=o=0,c=(h=this).host.width(),u=this.host.height(),this.sizeCache.length<this.$wrapper.children().length&&p.each(this.$wrapper.children(),function(e){var t=p(this),t=(t.css("position","absolute"),{width:t.css("width"),height:t.css("height")});h.sizeCache[e]=t}),p.each(this.$wrapper.children(),function(e){var t=this.getAttribute("dock"),i=(null==t&&(t="left"),e==n-1&&h.lastchildfill&&(t="fill"),p(this)),s=(i.css("position","absolute"),i.css("width",h.sizeCache[e].width),i.css("height",h.sizeCache[e].height),{width:i.outerWidth(),height:i.outerHeight()}),r={x:l,y:d,width:Math.max(0,c-(l+o)),height:Math.max(0,u-(d+a))};if(e<n)switch(t){case"left":l+=s.width,r.width=s.width;break;case"top":d+=s.height,r.height=s.height;break;case"right":o+=s.width,r.x=Math.max(0,c-o),r.width=s.width;break;case"bottom":a+=s.height,r.y=Math.max(0,u-a),r.height=s.height}i.css("left",r.x),i.css("top",r.y),i.css("width",r.width),i.css("height",r.height)}),this._raiseevent(0))},destroy:function(){p.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_raiseevent:function(e,t,i){if(null!=this.isInitialized&&1==this.isInitialized)return e=this.events[e],(e=new p.Event(e)).previousValue=t,e.currentValue=i,(e.owner=this).host.trigger(e)},propertyChangedHandler:function(e,t,i,s){this.isInitialized&&e.render()},refresh:function(){this.render()}})}(jqxBaseFramework),!function(l){l.jqx.jqxWidget("jqxDragDrop","",{}),l.extend(l.jqx._jqxDragDrop.prototype,{defineInstance:function(){var e={restricter:"document",handle:!1,feedback:"clone",opacity:.6,revert:!1,revertDuration:400,distance:5,disabled:!1,tolerance:"intersect",data:null,dropAction:"default",dragZIndex:999999,appendTo:"parent",cursor:"move",onDragEnd:null,onDrag:null,onDragStart:null,onTargetDrop:null,onDropTargetEnter:null,onDropTargetLeave:null,initFeedback:null,dropTarget:null,isDestroyed:!1,triggerEvents:!0,_touchEvents:{mousedown:l.jqx.mobile.getTouchEventName("touchstart"),click:l.jqx.mobile.getTouchEventName("touchstart"),mouseup:l.jqx.mobile.getTouchEventName("touchend"),mousemove:l.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_restricter:null,_zIndexBackup:0,_targetEnterFired:!1,_oldOpacity:1,_feedbackType:void 0,_isTouchDevice:!1,_events:["dragStart","dragEnd","dragging","dropTargetEnter","dropTargetLeave"]};return this===l.jqx._jqxDragDrop.prototype||l.extend(!0,this,e),e},createInstance:function(){this._createDragDrop()},_createDragDrop:function(){var e,t,i=l.data(document.body,"jqx-draggables")||1;this.appendTo=this._getParent(),this._isTouchDevice=l.jqx.mobile.isTouchDevice(),!/(static|relative)/.test(this.host.css("position"))||this.feedback&&"original"!==this.feedback||(e=this._getRelativeOffset(this.host),t=this.appendTo.offset(),"static"!=this.appendTo.css("position")&&(t={left:0,top:0}),this.element.style.position="absolute",this.element.style.left=t.left+e.left+"px",this.element.style.top=t.top+e.top+"px"),this._validateProperties(),this._idHandler(i),this.disabled&&this.disable(),"string"==typeof this.dropTarget&&(this.dropTarget=l(this.dropTarget)),this._refresh(),i+=1,l.data(document.body,"jqx-draggables",i),this.host.addClass("jqx-draggable"),this.disabled||this.host.css("cursor",this.cursor)},_getParent:function(){var e=this.appendTo;if("string"==typeof this.appendTo)switch(this.appendTo){case"parent":e=this.host.parent();break;case"document":e=l(document);break;case"body":e=l(document.body);break;default:e=l(this.appendTo)}return e},_idHandler:function(e){this.element.id||(this.element.id="jqx-draggable-"+e)},_refresh:function(){this._removeEventHandlers(),this._addEventHandlers()},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},_validateProperties:function(){"clone"===this.feedback?this._feedbackType="clone":this._feedbackType="original","default"!==this.dropAction&&(this.dropAction="nothing")},_removeEventHandlers:function(){this.removeHandler(this.host,"dragstart"),this.removeHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown),this.removeHandler(l(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove),this.removeHandler(l(document),this._getEvent("mouseup")+".draggable."+this.element.id,this._mouseUp)},_addEventHandlers:function(){var e,t=this;this.addHandler(this.host,"dragstart",function(e){return!!t.disabled||(l.jqx.mobile.isTouchDevice()?void 0:(e.preventDefault(),!1))}),this.addHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown,{self:this}),this.addHandler(l(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove,{self:this}),this.addHandler(l(document),this._getEvent("mouseup")+".draggable."+this.element.id,function(e){t._mouseUp(e)},{self:this});try{""==document.referrer&&!window.frameElement||null==window.top||window.top==window.self||(e="",-1!=(e=window.parent&&document.referrer?document.referrer:e).indexOf(document.location.host)&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",function(){t._mouseUp(t)},!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",function(){t._mouseUp(t)})))}catch(e){}},_mouseDown:function(e){var t=e.data.self,i=t._getMouseCoordinates(e),s=t._mouseCapture(e);if(t._originalPageX=i.left,t._originalPageY=i.top,t.disabled)return!0;return t._mouseStarted||t._clear(e),s&&(t._mouseDownEvent=e),!!t._isTouchDevice||(1!==e.which||!s||void e.preventDefault())},_mouseMove:function(e){var t=e.data.self;return!!t.disabled||(t._mouseStarted?(t._mouseDrag(e),e.preventDefault&&e.preventDefault(),!1):(t._mouseDownEvent&&t._isMovedDistance(e)&&(t._mouseStart(t._mouseDownEvent,e)?t._mouseStarted=!0:t._mouseStarted=!1,t._mouseStarted?t._mouseDrag(e):t._mouseUp(e)),!t._mouseStarted))},_mouseUp:function(e){this._clear(e)},_clear:function(e){var t=e.data&&e.data.self?e.data.self:this;return!!t.disabled||(t._mouseDownEvent=!1,t._movedDistance=!1,t._mouseStarted&&(t._mouseStarted=!1,t._mouseStop(e)),t.feedback&&t.feedback[0]&&"original"!==t._feedbackType&&"function"==typeof t.feedback.remove&&!t.revert&&t.feedback.remove(),!!t._isTouchDevice&&void 0)},cancelDrag:function(){var e=this.revertDuration;this.revertDuration=0,this._mouseDownEvent=!1,this._movedDistance=!1,this._mouseStarted=!1,this._mouseStop(),this.feedback.remove(),this.revertDuration=e},_isMovedDistance:function(e){e=this._getMouseCoordinates(e);return!!this._movedDistance||(e.left>=this._originalPageX+this.distance||e.left<=this._originalPageX-this.distance||e.top>=this._originalPageY+this.distance||e.top<=this._originalPageY-this.distance)&&(this._movedDistance=!0)},_getMouseCoordinates:function(e){var t;return this._isTouchDevice?{left:(t=l.jqx.position(e)).left,top:t.top}:{left:e.pageX,top:e.pageY}},destroy:function(){return this._enableSelection(this.host),this.host.removeData("draggable").off(".draggable").removeClass("jqx-draggable jqx-draggable-dragging jqx-draggable-disabled"),this._removeEventHandlers(),this.isDestroyed=!0,this},_disableSelection:function(e){e.each(function(){l(this).attr("unselectable","on").css({"-ms-user-select":"none","-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})},_enableSelection:function(e){e.each(function(){l(this).attr("unselectable","off").css({"-ms-user-select":"text","-moz-user-select":"text","-webkit-user-select":"text","user-select":"text"}).each(function(){this.onselectstart=null})})},_mouseCapture:function(e){return!this.disabled&&(!!this._getHandle(e)&&(this._disableSelection(this.host),!0))},_getScrollParent:function(e){var t=(l.jqx.browser.msie&&/(static|relative)/.test(e.css("position"))||/absolute/.test(e.css("position"))?e.parents().filter(function(){return/(relative|absolute|fixed)/.test(l.css(this,"position",1))&&/(auto|scroll)/.test(l.css(this,"overflow",1)+l.css(this,"overflow-y",1)+l.css(this,"overflow-x",1))}):e.parents().filter(function(){return/(auto|scroll)/.test(l.css(this,"overflow",1)+l.css(this,"overflow-y",1)+l.css(this,"overflow-x",1))})).eq(0);return/fixed/.test(e.css("position"))||!t.length?l(document):t},_mouseStart:function(e){var t=this._getMouseCoordinates(e);this._getParentOffset(this.host),this.feedback=this._createFeedback(e),this._zIndexBackup=this.feedback.css("z-index"),this.feedback[0].style.zIndex=this.dragZIndex,this._backupFeedbackProportions(),this._backupeMargins(),this._positionType=this.feedback.css("position"),this._scrollParent=this._getScrollParent(this.feedback),this._offset=this.positionAbs=this.host.offset(),this._offset={top:this._offset.top-this.margins.top,left:this._offset.left-this.margins.left},l.extend(this._offset,{click:{left:t.left-this._offset.left,top:t.top-this._offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset(),hostRelative:this._getRelativeOffset(this.host)}),this.position=this._generatePosition(e),this.originalPosition=this._fixPosition(),this.restricter&&this._setRestricter(),this.feedback.addClass(this.toThemeProperty("jqx-draggable-dragging")),this._raiseEvent(0,e);return this.onDragStart&&"function"==typeof this.onDragStart&&this.onDragStart(this.position),this._mouseDrag(e,!0),!0},_fixPosition:function(){var e=this._getRelativeOffset(this.host);this.position;return{left:this.position.left+e.left,top:this.position.top+e.top}},_mouseDrag:function(e,t){return this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.feedback[0].style.left=this.position.left+"px",this.feedback[0].style.top=this.position.top+"px",this._raiseEvent(2,e),this.onDrag&&"function"==typeof this.onDrag&&this.onDrag(this.data,this.position),this._handleTarget(),!1},_over:function(i,s,r){var n,o;return this.dropTarget&&(n=!1,l.each((o=this).dropTarget,function(e,t){if((n=o._overItem(t,i,s,r)).over)return!1})),n},_overItem:function(e,t,i,s){var r=(e=l(e)).offset(),n=e.outerHeight(),o=e.outerWidth();if(e&&e[0]!==this.element){var a=!1;switch(this.tolerance){case"intersect":t.left+i>r.left&&t.left<r.left+o&&t.top+s>r.top&&t.top<r.top+n&&(a=!0);break;case"fit":i+t.left<=r.left+o&&t.left>=r.left&&s+t.top<=r.top+n&&t.top>=r.top&&(a=!0)}return{over:a,target:e}}},_handleTarget:function(){var e,t,i;this.dropTarget&&(i=this.feedback.offset(),e=this.feedback.outerWidth(),t=this.feedback.outerHeight(),(i=this._over(i,e,t)).over?(this._targetEnterFired&&0<i.target.length&&this._oldtarget&&0<this._oldtarget.length&&i.target[0]!=this._oldtarget[0]&&(this._raiseEvent(4,{target:this._oldtarget}),this.onDropTargetLeave&&"function"==typeof this.onDropTargetLeave&&this.onDropTargetLeave(this._oldtarget)),(!this._targetEnterFired||0<i.target.length&&this._oldtarget&&0<this._oldtarget.length&&i.target[0]!=this._oldtarget[0])&&(this._targetEnterFired=!0,this._raiseEvent(3,{target:i.target}),this.onDropTargetEnter&&"function"==typeof this.onDropTargetEnter&&this.onDropTargetEnter(i.target)),this._oldtarget=i.target):this._targetEnterFired&&(this._targetEnterFired=!1,this._raiseEvent(4,{target:this._oldtarget||i.target}),this.onDropTargetLeave&&"function"==typeof this.onDropTargetLeave&&this.onDropTargetLeave(this._oldtarget||i.target)))},_mouseStop:function(e){var t=this._fixPosition(),i={width:this.host.outerWidth(),height:this.host.outerHeight()};return this.feedback[0].style.opacity=this._oldOpacity,this.revert||(this.feedback[0].style.zIndex=this._zIndexBackup),this._enableSelection(this.host),this.dropped&&(this.dropped,this.dropped=!1),(this.element&&this.element.parentNode||"original"!==this.feedback)&&(this._dropElement(t),this.feedback.removeClass(this.toThemeProperty("jqx-draggable-dragging")),this._raiseEvent(1,e),this.onDragEnd&&"function"==typeof this.onDragEnd&&this.onDragEnd(this.data),this.onTargetDrop&&"function"==typeof this.onTargetDrop&&this._over(t,i.width,i.height).over&&this.onTargetDrop(this._over(t,i.width,i.height).target),this._revertHandler()),!1},_dropElement:function(e){var t;"default"!==this.dropAction||!this.feedback||this.feedback[0]===this.element||"original"===this.feedback||this.revert||/(fixed|absolute)/.test(this.host.css("position"))||(this.host.css("position","relative"),t=this._getRelativeOffset(this.host),(e=this.position).left-=t.left,e.top-=t.top,this.element.style.left=e.left+"px",this.element.style.top=e.top+"px")},_revertHandler:function(){var e;(this.revert||l.isFunction(this.revert)&&this.revert())&&("original"!=(e=this)._feedbackType?null!=this.feedback&&("none"!=this.dropAction?l(this.feedback).animate({left:e.originalPosition.left-e._offset.hostRelative.left,top:e.originalPosition.top-e._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){e.feedback&&e.feedback[0]&&"original"!==e._feedbackType&&"function"==typeof e.feedback.remove&&e.feedback.remove()}):e.feedback&&e.feedback[0]&&"original"!==e._feedbackType&&"function"==typeof e.feedback.remove&&e.feedback.remove()):(this.element.style.zIndex=this.dragZIndex,l(this.host).animate({left:e.originalPosition.left-e._offset.hostRelative.left,top:e.originalPosition.top-e._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){e.element.style.zIndex=e._zIndexBackup})))},_getHandle:function(e){var t;return this.handle?l(this.handle,this.host).find("*").andSelf().each(function(){this==e.target&&(t=!0)}):t=!0,t},_createFeedback:function(e){var t="function"==typeof this._feedbackType?this._feedbackType():"clone"===this._feedbackType?this.host.clone().removeAttr("id"):this.host;return/(absolute|fixed)/.test(t.css("position"))||t.css("position","absolute"),this.appendTo[0]===this.host.parent()[0]&&t[0]===this.element||(t.css({left:this.host.offset().left-this._getParentOffset(this.host).left+this._getParentOffset(t).left,top:this.host.offset().top-this._getParentOffset(this.host).top+this._getParentOffset(t).top}),t.appendTo(this.appendTo)),"function"==typeof this.initFeedback&&this.initFeedback(t),t},_getParentOffset:function(e){e=e||this.feedback,this._offsetParent=e.offsetParent(),e=this._offsetParent.offset();return"absolute"==this._positionType&&this._scrollParent[0]!==document&&l.contains(this._scrollParent[0],this._offsetParent[0])&&(e.left+=this._scrollParent.scrollLeft(),e.top+=this._scrollParent.scrollTop()),{top:(e=this._offsetParent[0]==document.body||this._offsetParent[0].tagName&&"html"==this._offsetParent[0].tagName.toLowerCase()&&l.jqx.browser.msie?{top:0,left:0}:e).top+(parseInt(this._offsetParent.css("border-top-width"),10)||0),left:e.left+(parseInt(this._offsetParent.css("border-left-width"),10)||0)}},_getRelativeOffset:function(e){var t;this._scrollParent||e.parent();return"relative"===(e=e||this.feedback).css("position")?{top:(t=this.host.position()).top-(parseInt(e.css("top"),10)||0),left:t.left-(parseInt(e.css("left"),10)||0)}:{top:0,left:0}},_backupeMargins:function(){this.margins={left:parseInt(this.host.css("margin-left"),10)||0,top:parseInt(this.host.css("margin-top"),10)||0,right:parseInt(this.host.css("margin-right"),10)||0,bottom:parseInt(this.host.css("margin-bottom"),10)||0}},_backupFeedbackProportions:function(){this.feedback[0].style.opacity=this.opacity,this._feedbackProportions={width:this.feedback.outerWidth(),height:this.feedback.outerHeight()}},_setRestricter:function(){"parent"==this.restricter&&(this.restricter=this.feedback[0].parentNode),"document"!=this.restricter&&"window"!=this.restricter||this._handleNativeRestricter(),void 0!==this.restricter.left&&void 0!==this.restricter.top&&void 0!==this.restricter.height&&void 0!==this.restricter.width?this._restricter=[this.restricter.left,this.restricter.top,this.restricter.width,this.restricter.height]:/^(document|window|parent)$/.test(this.restricter)||this.restricter.constructor==Array?this.restricter.constructor==Array&&(this._restricter=this.restricter):this._handleDOMParentRestricter()},_handleNativeRestricter:function(){this._restricter=["document"===this.restricter?0:l(window).scrollLeft()-this._offset.relative.left-this._offset.parent.left,"document"===this.restricter?0:l(window).scrollTop()-this._offset.relative.top-this._offset.parent.top,("document"===this.restricter?0:l(window).scrollLeft())+l("document"===this.restricter?document:window).width()-this._feedbackProportions.width-this.margins.left,("document"===this.restricter?0:l(window).scrollTop())+(l("document"===this.restricter?document:window).height()||document.body.parentNode.scrollHeight)-this._feedbackProportions.height-this.margins.top]},_handleDOMParentRestricter:function(){var e,t=l(this.restricter),i=t[0];i&&(e="hidden"!==l(i).css("overflow"),this._restricter=[(parseInt(l(i).css("borderLeftWidth"),10)||0)+(parseInt(l(i).css("paddingLeft"),10)||0),(parseInt(l(i).css("borderTopWidth"),10)||0)+(parseInt(l(i).css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(l(i).css("borderLeftWidth"),10)||0)-(parseInt(l(i).css("paddingRight"),10)||0)-this._feedbackProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(l(i).css("borderTopWidth"),10)||0)-(parseInt(l(i).css("paddingBottom"),10)||0)-this._feedbackProportions.height-this.margins.top-this.margins.bottom],this._restrictiveContainer=t)},_convertPositionTo:function(e,t){var i,s;return t=t||this.position,e="absolute"===e?1:-1,i="absolute"!==this._positionType||this._scrollParent[0]!=document&&l.contains(this._scrollParent[0],this._offsetParent[0])?this._scrollParent:this._offsetParent,s=/(html|body)/i.test(i[0].tagName),this._getPosition(t,e,s,i)},_getPosition:function(e,t,i,s){return{top:e.top+this._offset.relative.top*t+this._offset.parent.top*t-(l.jqx.browser.safari&&l.jqx.browser.version<526&&"fixed"==this._positionType?0:("fixed"==this._positionType?-this._scrollParent.scrollTop():i?0:s.scrollTop())*t),left:e.left+this._offset.relative.left*t+this._offset.parent.left*t-(l.jqx.browser.safari&&l.jqx.browser.version<526&&"fixed"==this._positionType?0:("fixed"==this._positionType?-this._scrollParent.scrollLeft():i?0:s.scrollLeft())*t)}},_generatePosition:function(e){var t,i="absolute"!=this._positionType||this._scrollParent[0]!=document&&l.contains(this._scrollParent[0],this._offsetParent[0])?this._scrollParent:this._offsetParent,s=/(html|body)/i.test(i[0].tagName),e=this._getMouseCoordinates(e),r=e.left,n=e.top;return this.originalPosition&&this.restricter&&(t=this._restrictiveContainer?(t=this._restrictiveContainer.offset(),[this._restricter[0]+t.left,this._restricter[1]+t.top,this._restricter[2]+t.left,this._restricter[3]+t.top]):this._restricter,e.left-this._offset.click.left<t[0]&&(r=t[0]+this._offset.click.left),e.top-this._offset.click.top<t[1]&&(n=t[1]+this._offset.click.top),e.left-this._offset.click.left>t[2]&&(r=t[2]+this._offset.click.left),e.top-this._offset.click.top>t[3]&&(n=t[3]+this._offset.click.top)),{top:n-this._offset.click.top-this._offset.relative.top-this._offset.parent.top+(l.jqx.browser.safari&&l.jqx.browser.version<526&&"fixed"==this._positionType?0:"fixed"==this._positionType?-this._scrollParent.scrollTop():s?0:i.scrollTop()),left:r-this._offset.click.left-this._offset.relative.left-this._offset.parent.left+(l.jqx.browser.safari&&l.jqx.browser.version<526&&"fixed"==this._positionType?0:"fixed"==this._positionType?-this._scrollParent.scrollLeft():s?0:i.scrollLeft())}},_raiseEvent:function(e,t){if(null==this.triggerEvents||0!=this.triggerEvents)return e=this._events[e],e=l.Event(e),(t=t||{}).position=this.position,t.element=this.element,l.extend(t,this.data),t.feedback=this.feedback,e.args=t,this.host.trigger(e)},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-draggable-disabled")),this._enableSelection(this.host)},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-draggable-disabled"))},propertyChangedHandler:function(e,t,i,s){"dropTarget"===t?"string"==typeof s&&(e.dropTarget=l(s)):"disabled"==t?s&&e._enableSelection(e.host):"cursor"==t&&e.host.css("cursor",e.cursor)}})}(jqxBaseFramework),!function(u){window.jqxListBoxDragDrop=function(){u.extend(u.jqx._jqxListBox.prototype,{_hitTestBounds:function(e,t,i){var s,r=e.host.offset(),i=i-parseInt(r.top),n=t-parseInt(r.left),n=e._hitTest(n,i);if(i<0)return null;if(null!=n)return s=(r=parseInt(r.left))+e.host.width(),r<=t+n.width/2&&t<=s?n:null;if(e.items&&0<e.items.length){r=e.items[e.items.length-1];if(e.groups.length<2&&r.top+r.height+15>=i)return r}return null},_handleDragStart:function(e,r){u.jqx.mobile.isTouchDevice()&&r.allowDrag&&e.on(u.jqx.mobile.getTouchEventName("touchstart"),function(){u.jqx.mobile.setTouchScroll(!1,r.element.id)}),e.off("dragStart"),e.on("dragStart",function(e){if(r.allowDrag&&!r.disabled){r.feedbackElement=u("<div style='z-index: 99999; position: absolute;'></div>"),r.feedbackElement.addClass(r.toThemeProperty("jqx-listbox-feedback")),r.feedbackElement.appendTo(u(document.body)),r.feedbackElement.hide(),r.isDragging=!0,r._dragCancel=!1;function t(){r._dragCancel=!0,u(e.args.element).jqxDragDrop({triggerEvents:!1}),u(e.args.element).jqxDragDrop("cancelDrag"),clearInterval(r._autoScrollTimer),u(e.args.element).jqxDragDrop({triggerEvents:!0}),u.each(r._listBoxes,function(){var e;u.jqx.isHidden(u(this))||null!=(e=u.data(this,"jqxListBox").instance)._enableHover&&(e.enableHover=e._enableHover,u.jqx.mobile.setTouchScroll(!0,r.element.id))})}var i=r._getMouseCoordinates(e),i=r._hitTestBounds(r,i.left,i.top),s=u.find(".jqx-listbox");r._listBoxes=s,u.each(r._listBoxes,function(){var e;u.jqx.isHidden(u(this))||((e=u.data(this,"jqxListBox").instance)._enableHover=e.enableHover,e.enableHover=!1,u.jqx.mobile.setTouchScroll(!1,r.element.id))});if(null==i||i.isGroup)null==i&&t();else{if(r._dragItem=i,r.dragStart)if(0==r.dragStart(i))return t(),!1;i.disabled&&t(),r._raiseEvent(4,{label:i.label,value:i.value,dragSourceElement:r.element,originalEvent:e.args})}}return!1})},_handleDragging:function(e,c){var t=this;e.off("dragging"),e.on("dragging",function(e){var l,d,h=e.args;c._dragCancel||(l=c._getMouseCoordinates(e),c._lastDraggingPosition=l,c._dragOverItem=null,c.feedbackElement.hide(),d=t._getBestMatchItem(c,l),u.each(c._listBoxes,function(){if(u.jqx.isHidden(u(this)))return!0;var e,t=u(this).offset(),i=t.top+20,s=u(this).height()+i-40,t=t.left,r=t+u(this).width(),n=u.data(this,"jqxListBox").instance,o=n._hitTestBounds(n,l.left,l.top),a=n.vScrollInstance;o&&n.allowDrop&&!n.disabled&&o.element&&d&&d.item&&u(this)[0]==d.item[0]&&(c._dragOverItem=o,c.feedbackElement.show(),e=u(o.element).offset().top+1,l.top>e+o.height/2&&(e+=o.height),c.feedbackElement.css("top",e),c.feedbackElement.css("left",t),"visible"!=n.vScrollBar.css("visibility")?c.feedbackElement.width(u(this).width()):c.feedbackElement.width(u(this).width()-20),l.left>=t&&l.left<r?h.position.top<i&&h.position.top>=i-30?(clearInterval(n._autoScrollTimer),0!=a.value&&c.feedbackElement.hide(),n._autoScrollTimer=setInterval(function(){n.scrollUp()||clearInterval(n._autoScrollTimer)},100)):h.position.top>s&&h.position.top<30+s?(clearInterval(n._autoScrollTimer),"hidden"!=n.vScrollBar.css("visibility")&&a.value!=a.max&&c.feedbackElement.hide(),n._autoScrollTimer=setInterval(function(){n.scrollDown()||clearInterval(n._autoScrollTimer)},100)):clearInterval(n._autoScrollTimer):(null==c._dragOverItem&&c.feedbackElement.hide(),clearInterval(n._autoScrollTimer)))}))})},_getBestMatchItem:function(e,t){for(var i={},s=u.find(".jqx-listbox"),r=0;r<s.length;r++){var n,o,a,l,d,h=u(s[r]);u.jqx.isHidden(h)||(o=(n=parseInt(h.offset().left))+h.width(),a=h.jqxListBox("getInstance"),clearInterval(a._autoScrollTimer),null!=a._enableHover&&(a.enableHover=a._enableHover,u.jqx.mobile.setTouchScroll(!0,e.element.id)),null!=e._dragItem&&(a=t.left>=n&&t.left<=o,l=t.left-e._dragItem.width/2>=n&&t.left-e._dragItem.width/2<=o,d=t.left-e._dragItem.width/2>=n&&t.left-e._dragItem.width/2<=o,(a||l||d)&&(l=(a=parseInt(h.offset().top))+h.height(),t.top>=a&&t.top<=l&&(d=t.left+e._dragItem.width/2-(n+o)/2,(isNaN(i.distance)||i.distance>d)&&(i={distance:d,item:h})))))}return i},_handleDragEnd:function(e,d){var h=this;u.find(".jqx-listbox");e.off("dragEnd"),e.on("dragEnd",function(e){clearInterval(d._autoScrollTimer);var t=u.jqx.mobile.isTouchDevice()?d._lastDraggingPosition:d._getMouseCoordinates(e);u.find(".jqx-listbox");if(d.feedbackElement.remove(),!d._dragCancel){var i=h._getBestMatchItem(d,t).item,s=d._dragItem,r=null;if(null!=i&&0<i.length){var n=(o=u.data(i[0],"jqxListBox").instance).allowDrop,r=o.element;if(n&&!o.disabled){var o,a;(o=u.data(i[0],"jqxListBox").instance)._hitTestBounds(o,t.left,t.top);if(null==(a=d._dragOverItem)||a.isGroup){if("none"!=o.dropAction){if(0<o.content.find(".draggable").length&&o.content.find(".draggable").jqxDragDrop("destroy"),d.dragEnd){if(0==(l=d.dragEnd(d._dragItem,null,e.args)))return u(e.args.element).jqxDragDrop({triggerEvents:!1}),u(e.args.element).jqxDragDrop("cancelDrag"),clearInterval(d._autoScrollTimer),u(e.args.element).jqxDragDrop({triggerEvents:!0}),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1;null==l&&(l=!0)}o.addItem(d._dragItem),"default"==o.dropAction&&(0<s.visibleIndex&&d.selectIndex(s.visibleIndex-1),d.removeItem(s,!0)),o.clearSelection(),o.selectIndex(o.items.length-1)}}else{var l=!0;if(d.dragEnd){if(0==(l=d.dragEnd(s,a,e.args)))return u(e.args.element).jqxDragDrop({triggerEvents:!1}),u(e.args.element).jqxDragDrop("cancelDrag"),clearInterval(d._autoScrollTimer),u(e.args.element).jqxDragDrop({triggerEvents:!0}),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1;null==l&&(l=!0)}l&&(a.visibleIndex,"none"!=o.dropAction&&(n=a.element?u(a.element).offset().top+1:u(o.element).offset().top+1,0<o.content.find(".draggable").length&&o.content.find(".draggable").jqxDragDrop("destroy"),t.top>n+a.height/2?o.insertAt(d._dragItem,a.index+1):o.insertAt(d._dragItem,a.index),"default"==d.dropAction&&(0<s.visibleIndex&&(d.clearSelection(),d.selectIndex(s.visibleIndex-1)),d.removeItem(s,!0)),i=function(){for(var e=a.visibleIndex,t=e-2;t<=e+2;t++)if(o.items&&o.items.length>t){var i=o.items[t];if(null!=i&&i.value==s.value)return i.visibleIndex}return e}(),o.clearSelection(),o.selectIndex(i)))}}}else if(d.dragEnd)if(0==d.dragEnd(s,e.args))return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1;return null!=s&&d._raiseEvent(5,{label:s.label,value:s.value,index:s.index,dropTargetElement:r,originalEvent:e.args}),!1}e.stopPropagation()})},_enableDragDrop:function(){var e,s;this.allowDrag&&this.host.jqxDragDrop&&(0<(e=this.content.find(".draggable")).length&&(s=this,e.jqxDragDrop({cursor:"arrow",revertDuration:0,appendTo:"body",dragZIndex:99999,revert:!0,initFeedback:function(e){var t=u('<span style="white-space: nowrap;" class="'+s.toThemeProperty("jqx-fill-state-normal")+'">'+e.text()+"</span>"),i=(u(document.body).append(t),t.width());t.remove(),e.width(i+5),e.addClass(s.toThemeProperty("jqx-fill-state-pressed"))}}),this._autoScrollTimer=null,s._dragItem=null,s._handleDragStart(e,s),s._handleDragging(e,s),s._handleDragEnd(e,s)))},_getMouseCoordinates:function(e){var t;return this._isTouchDevice=u.jqx.mobile.isTouchDevice(),this._isTouchDevice?{left:(t=u.jqx.position(e.args)).left,top:t.top}:{left:e.args.pageX,top:e.args.pageY}}})},window.jqxTreeDragDrop=function(){u.extend(u.jqx._jqxTree.prototype,{_hitTestBounds:function(i,s,r){var n,o,a=null;return i._visibleItems&&(n=parseInt(i.host.offset().left),o=i.host.outerWidth(),u.each(i._visibleItems,function(e){if(n<=s&&s<n+o&&this.top+5<r&&r<this.top+this.height){var t=u(this.element).parents("li:first");if(0<t.length&&null!=(a=i.getItem(t[0])))return a.height=this.height,a.top=this.top,!1}})),a},_handleDragStart:function(e,s){s._dragOverItem&&s._dragOverItem.titleElement.removeClass(s.toThemeProperty("jqx-fill-state-hover")),u.jqx.mobile.isTouchDevice()&&s.allowDrag&&e.on(u.jqx.mobile.getTouchEventName("touchstart"),function(){u.jqx.mobile.setTouchScroll(!1,"panel"+s.element.id)}),e.off("dragStart"),e.on("dragStart",function(i){s.feedbackElement=u("<div style='z-index: 99999; position: absolute;'></div>"),s.feedbackElement.addClass(s.toThemeProperty("jqx-listbox-feedback")),s.feedbackElement.appendTo(u(document.body)),s.feedbackElement.hide(),s._dragCancel=!1;i.args.position;var e=u.find(".jqx-tree");return s._trees=e,u.each(e,function(){var e=u.data(this,"jqxTree").instance,t=e.host.find(".draggable");if(e._syncItems(t),e.allowDrag&&!e.disabled){t=u(i.target).parents("li:first");if(0<t.length){t=e.getItem(t[0]);if(t){if(s._dragItem=t,e.dragStart)if(0==e.dragStart(t))return s._dragCancel=!0,u(i.args.element).jqxDragDrop({triggerEvents:!1}),u(i.args.element).jqxDragDrop("cancelDrag"),clearInterval(s._autoScrollTimer),u(i.args.element).jqxDragDrop({triggerEvents:e}),!1;e._raiseEvent(8,{label:t.label,value:t.value,originalEvent:i.args})}}}}),!1})},_getMouseCoordinates:function(e){var t;return this._isTouchDevice=u.jqx.mobile.isTouchDevice(),this._isTouchDevice?{left:(t=u.jqx.position(e.args)).left,top:t.top}:{left:e.args.pageX,top:e.args.pageY}},_handleDragging:function(e,c){(e=this.host.find(".draggable")).off("dragging"),e.on("dragging",function(e){e.args.position;var d,h,t=c._trees;c._dragCancel||(c._dragOverItem&&c._dragOverItem.titleElement.removeClass(c.toThemeProperty("jqx-fill-state-hover")),d=!0,h=c._getMouseCoordinates(e),c._lastDraggingPosition=h,u.each(t,function(){if(u.jqx.isHidden(u(this)))return!0;var e,t,i,s,r=u(this).offset(),n=r.top+20,o=u(this).height()+n-40,r=r.left,a=r+u(this).width(),l=u.data(this,"jqxTree").instance;!l.disabled&&l.allowDrop&&(e=l.vScrollInstance,null!=(t=l._hitTestBounds(l,h.left,h.top))&&(c._dragOverItem&&c._dragOverItem.titleElement.removeClass(l.toThemeProperty("jqx-fill-state-hover")),(c._dragOverItem=t).element&&(c.feedbackElement.show(),i=t.top,s=h.top,c._dropPosition="before",s>i+t.height/3&&(i=t.top+t.height/2,c._dragOverItem.titleElement.addClass(c.toThemeProperty("jqx-fill-state-hover")),c.feedbackElement.hide(),c._dropPosition="inside"),s>t.top+t.height-t.height/3&&(i=t.top+t.height,c._dragOverItem.titleElement.removeClass(c.toThemeProperty("jqx-fill-state-hover")),c.feedbackElement.show(),c._dropPosition="after"),c.feedbackElement.css("top",i),r=-2+parseInt(t.titleElement.offset().left),c.feedbackElement.css("left",r),c.feedbackElement.width(u(t.titleElement).width()+12))),h.left>=r&&h.left<a?(h.top+20>=n&&h.top<=n+l.host.height()&&(d=!1),h.top<n&&h.top>=n-30?(clearInterval(l._autoScrollTimer),0!=e.value&&c.feedbackElement.hide(),l._autoScrollTimer=setInterval(function(){var e=l.panelInstance.scrollUp(),t=l.host.find(".draggable");l._syncItems(t),e||clearInterval(l._autoScrollTimer)},100)):h.top>o&&h.top<30+o?(clearInterval(l._autoScrollTimer),e.value!=e.max&&c.feedbackElement.hide(),l._autoScrollTimer=setInterval(function(){var e=l.panelInstance.scrollDown(),t=l.host.find(".draggable");l._syncItems(t),e||clearInterval(l._autoScrollTimer)},100)):clearInterval(l._autoScrollTimer)):clearInterval(l._autoScrollTimer))}),d&&c.feedbackElement&&c.feedbackElement.hide())})},_handleDragEnd:function(e,d){e.off("dragEnd"),e.on("dragEnd",function(e){d.host.find(".draggable"),clearInterval(d._autoScrollTimer),e.args.position;var t=d._trees,s=null,r=u.jqx.mobile.isTouchDevice()?d._lastDraggingPosition:d._getMouseCoordinates(e);if(d.feedbackElement.remove(),d._dragCancel)return!1;d._dragOverItem&&d._dragOverItem.titleElement.removeClass(d.toThemeProperty("jqx-fill-state-hover")),u.each(t,function(){if(u.jqx.isHidden(u(this)))return!0;var e=parseInt(u(this).offset().left),t=e+u(this).width(),i=u.data(this,"jqxTree").instance;clearInterval(i._autoScrollTimer),null!=d._dragItem&&r.left>=e&&r.left<t&&(e=(i=parseInt(u(this).offset().top))+u(this).height(),r.top>=i&&r.top<=e&&(s=u(this)))});var i,n,o,a,l,t=d._dragItem;if(null!=s&&0<s.length)s.jqxTree("allowDrop")&&(i=u.data(s[0],"jqxTree").instance,null!=(n=d._dragOverItem)&&d._dragOverItem.treeInstance.element.id==i.element.id?(o=!0,d.dragEnd&&(0==(o=d.dragEnd(t,n,e.args,d._dropPosition,s))&&(u(e.args.element).jqxDragDrop({triggerEvents:!1}),u(e.args.element).jqxDragDrop("cancelDrag"),clearInterval(d._autoScrollTimer),u(e.args.element).jqxDragDrop({triggerEvents:!0})),null==o&&(o=!0)),o&&(a=function(){var e=d._dragItem.treeInstance;e._refreshMapping(),e._updateItemsNavigation(),e._render(!0,!1),e.checkboxes&&e._updateCheckStates(),d._dragItem.treeInstance=i,d._syncItems(d._dragItem.treeInstance.host.find(".draggable"))},"none"!=i.dropAction&&d._dragItem.id!=d._dragOverItem.id&&("inside"==d._dropPosition?i._drop(d._dragItem.element,d._dragOverItem.element,-1,i):(l=0,"after"==d._dropPosition&&l++,i._drop(d._dragItem.element,d._dragOverItem.parentElement,l+u(d._dragOverItem.element).index(),i)),a()),i._render(!0,!1),l=i.host.find(".draggable"),d._syncItems(l),d._dragOverItem=null,d._dragItem=null,i._refreshMapping(),i._updateItemsNavigation(),i.selectedItem=null,i.selectItem(t.element),i.checkboxes&&i._updateCheckStates(),i._render(!0,!1))):"none"!=i.dropAction&&i.allowDrop&&(o=!0,d.dragEnd&&(0==(o=d.dragEnd(t,n,e.args,d._dropPosition,s))&&(u(e.args.element).jqxDragDrop({triggerEvents:!1}),u(e.args.element).jqxDragDrop("cancelDrag"),clearInterval(d._autoScrollTimer),u(e.args.element).jqxDragDrop({triggerEvents:!0})),null==o&&(o=!0)),o&&(d._dragItem.parentElement=null,i._drop(d._dragItem.element,null,-1,i),(a=d._dragItem.treeInstance)._refreshMapping(),a._updateItemsNavigation(),a.checkboxes&&a._updateCheckStates(),l=a.host.find(".draggable"),d._syncItems(l),(d._dragItem.treeInstance=i).items[i.items.length]=d._dragItem,i._render(!0,!1),i._refreshMapping(),i.selectItem(t.element),i._updateItemsNavigation(),l=i.host.find(".draggable"),i._syncItems(l),i.checkboxes&&i._updateCheckStates(),d._dragOverItem=null,d._dragItem=null)));else if(d.dragEnd&&0==d.dragEnd(t,e.args))return!1;return null!=t&&d._raiseEvent(7,{label:t.label,value:t.value,originalEvent:e.args}),!1})},_drop:function(e,t,i,s){var r,n,o,a;0<u(t).parents("#"+e.id).length||null!=t&&t.id==e.id||(s.element.innerHTML.indexOf("UL")&&(r=s.host.find("ul:first")),null==t?null==i||-1==i?r.append(e):0==r.children("li").eq(i).length?r.children("li").eq(i-1).after(e):r.children("li").eq(i)[0].id!=e.id&&r.children("li").eq(i).before(e):null==i||-1==i?0==(n=(t=u(t)).find("ul:first")).length?(o=u("<ul></ul>"),u(t).append(o),n=t.find("ul:first"),(a=s.itemMapping["id"+t[0].id].item).subtreeElement=n[0],a.hasItems=!0,n.addClass(s.toThemeProperty("jqx-tree-dropdown")),n.append(e),e=n.find("li:first"),a.parentElement=e):n.append(e):0==(n=(t=u(t)).find("ul:first")).length?(o=u("<ul></ul>"),u(t).append(o),n=t.find("ul:first"),t&&((a=s.itemMapping["id"+t[0].id].item).subtreeElement=n[0],a.hasItems=!0),n.addClass(s.toThemeProperty("jqx-tree-dropdown")),n.append(e),e=n.find("li:first"),a.parentElement=e):0==n.children("li").eq(i).length?n.children("li").eq(i-1).after(e):n.children("li").eq(i)[0].id!=e.id&&n.children("li").eq(i).before(e))},_enableDragDrop:function(){var e,s;this.allowDrag&&this.host.jqxDragDrop&&(e=this.host.find(".draggable"),s=this,0<e.length&&(e.jqxDragDrop({cursor:"arrow",revertDuration:0,appendTo:"body",dragZIndex:99999,revert:!0,initFeedback:function(e){var t=u('<span style="white-space: nowrap;" class="'+s.toThemeProperty("jqx-fill-state-normal")+'">'+e.text()+"</span>"),i=(u(document.body).append(t),t.width());t.remove(),e.width(i+5),e.addClass(s.toThemeProperty("jqx-fill-state-pressed"))}}),!0===e.jqxDragDrop("isDestroyed")&&e.jqxDragDrop("_createDragDrop"),this._autoScrollTimer=null,s._dragItem=null,s._handleDragStart(e,s),s._handleDragging(e,s),s._handleDragEnd(e,s)))}})}}(jqxBaseFramework),!function(r){r.jqx.jqxWidget("jqxDraw","",{}),r.extend(r.jqx._jqxDraw.prototype,{defineInstance:function(){var e,t={renderEngine:""},i=(r.extend(!0,this,t),["clear","on","off","removeElement","attr","getAttr","line","circle","rect","path","pieslice","text","measureText"]);for(e in i)this._addFn(r.jqx._jqxDraw.prototype,i[e]);return r.jqx._jqxDraw.prototype,t},_addFn:function(e,t){e[t]||(e[t]=function(){return this.renderer[t].apply(this.renderer,arguments)})},createInstance:function(e){},_initRenderer:function(e){return r.jqx.createRenderer(this,e)},_internalRefresh:function(){var e,t;r.jqx.isHidden(this.host)||(this.renderer||(this.host.empty(),this._initRenderer(this.host)),(e=this.renderer)&&(t=e.getRect(),this._render({x:1,y:1,width:t.width,height:t.height}),e instanceof r.jqx.HTML5Renderer&&e.refresh()))},_saveAsImage:function(e,t,i,s){return r.jqx._widgetToImage(this,e,t,i,s)},_render:function(e){this.renderer;this._plotRect=e},refresh:function(){this._internalRefresh()},getSize:function(){var e=this._plotRect;return{width:e.width,height:e.height}},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)}})}(jqxBaseFramework),!function(C){C.jqx.toGreyScale=function(e){if(-1==e.indexOf("#"))return e;e=C.jqx.cssToRgb(e),e[0]=e[1]=e[2]=Math.round(.3*e[0]+.59*e[1]+.11*e[2]),e=C.jqx.rgbToHex(e[0],e[1],e[2]);return"#"+e[0]+e[1]+e[2]},C.jqx.adjustColor=function(e,t){if("string"!=typeof e)return"#000000";if(-1==e.indexOf("#"))return e;for(var i=C.jqx.cssToRgb(e),s=C.jqx.rgbToHsl(i),e=(s[2]=Math.min(1,s[2]*t),s[1]=Math.min(1,s[1]*t*1.1),i=C.jqx.hslToRgb(s),"#"),r=0;r<3;r++){var n=Math.round(i[r]);1==(n=C.jqx.decToHex(n)).toString().length&&(e+="0"),e+=n}return e.toUpperCase()},C.jqx.decToHex=function(e){return e.toString(16)},C.jqx.hexToDec=function(e){return parseInt(e,16)},C.jqx.rgbToHex=function(e,t,i){return[C.jqx.decToHex(e),C.jqx.decToHex(t),C.jqx.decToHex(i)]},C.jqx.hexToRgb=function(e,t,i){return[C.jqx.hexToDec(e),C.jqx.hexToDec(t),C.jqx.hexToDec(i)]},C.jqx.cssToRgb=function(e){return e.indexOf("rgb")<=-1?C.jqx.hexToRgb(e.substring(1,3),e.substring(3,5),e.substring(5,7)):e.substring(4,e.length-1).split(",")},C.jqx.hslToRgb=function(e){var t,i,s,r=parseFloat(e[0]),n=parseFloat(e[1]),e=parseFloat(e[2]);return 0==n?t=i=s=e:(t=C.jqx.hueToRgb(n=2*e-(e=e<.5?e*(1+n):e+n-e*n),e,r+1/3),i=C.jqx.hueToRgb(n,e,r),s=C.jqx.hueToRgb(n,e,r-1/3)),[255*t,255*i,255*s]},C.jqx.hueToRgb=function(e,t,i){return i<0&&(i+=1),1<i&&--i,i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},C.jqx.rgbToHsl=function(e){var t,i=parseFloat(e[0])/255,s=parseFloat(e[1])/255,r=parseFloat(e[2])/255,e=Math.max(i,s,r),n=Math.min(i,s,r),o=(e+n)/2;if(e==n)t=l=0;else{var a=e-n,l=.5<o?a/(2-e-n):a/(e+n);switch(e){case i:t=(s-r)/a+(s<r?6:0);break;case s:t=(r-i)/a+2;break;case r:t=(i-s)/a+4}t/=6}return[t,l,o]},C.jqx.swap=function(e,t){},C.jqx.getNum=function(e){if(C.isArray(e)){for(var t=0;t<e.length;t++)if(!isNaN(e[t]))return e[t]}else if(isNaN(e))return 0;return 0},C.jqx._ptdist=function(e,t,i,s){return Math.sqrt((i-e)*(i-e)+(s-t)*(s-t))},C.jqx._ptrnd=function(e){if(!document.createElementNS)return Math.round(e)==e?e:C.jqx._rnd(e,1,!1,!0);var t=C.jqx._rnd(e,.5,!1,!0);return.5!=Math.abs(t-Math.round(t))?e<t?t-.5:t+.5:t},C.jqx._ptRotate=function(e,t,i,s,r){var n=Math.sqrt(Math.pow(Math.abs(e-i),2)+Math.pow(Math.abs(t-s),2)),r=Math.asin((e-i)/n)+r;return{x:e=i+Math.cos(r)*n,y:t=s+Math.sin(r)*n}},C.jqx._rup=function(e){var t=Math.round(e);return t<e&&t++,t},C.jqx.log=function(e,t){return Math.log(e)/(t?Math.log(t):1)},C.jqx._mod=function(e,t){var i=Math.abs(t<e?t:e),s=1;if(0!=i)for(;i*s<100;)s*=10;return(e*=s)%(t*=s)/s},C.jqx._rnd=function(e,t,i,s){if(isNaN(e))return e;s=e-(1==(s=void 0===s?!0:s)?e%t:C.jqx._mod(e,t));return e==s?s:(i?s<e&&(s+=t):e<s&&(s-=t),1==t?Math.round(s):s)},C.jqx.commonRenderer={pieSlicePath:function(e,t,i,s,r,n,o){s=s||1;var a=Math.abs(r-n),l=180<a?1:0,d=(360<=a&&(n=r+359.99),r*Math.PI*2/360),h=n*Math.PI*2/360,c=e,u=e,p=t,m=t,g=!isNaN(i)&&0<i,a=(0<(o=g?0:o)+i&&(0<o&&(a=(a/2+r)*Math.PI*2/360,e+=o*Math.cos(a),t-=o*Math.sin(a)),g&&(c=e+(o=i)*Math.cos(d),p=t-o*Math.sin(d),u=e+o*Math.cos(h),m=t-o*Math.sin(h))),e+s*Math.cos(d)),o=e+s*Math.cos(h),d=t-s*Math.sin(d),h=t-s*Math.sin(h),f="",n=.02<Math.abs(Math.abs(n-r)-360);return g?(f="M "+u+","+m,f=(f=(f+=" a"+i+","+i)+" 0 "+l+",1 "+(c-u)+","+(p-m)+(n?" L"+a+","+d:" M"+a+","+d))+" a"+s+","+s+" 0 "+l+",0 "+(o-a)+","+(h-d),n&&(f+=" Z")):(f=(f="M "+o+","+h)+" a"+s+","+s+" 0 "+l+",1 "+(a-o)+","+(d-h),n&&(f=f+" L"+e+","+t+" Z")),f},measureText:function(e,t,i,s,r){var n,o,r=r._getTextParts(e,t,i),e=r.width,i=r.height,a=(0==s&&(i/=.6),{});return a=0==(t=isNaN(t)?0:t)?{width:C.jqx._rup(e),height:C.jqx._rup(i)}:(t=t*Math.PI*2/360,n=Math.abs(Math.sin(t)),t=Math.abs(Math.cos(t)),o=Math.abs(e*n+i*t),e=Math.abs(e*t+i*n),{width:C.jqx._rup(e),height:C.jqx._rup(o)}),s&&(a.textPartsInfo=r),a},alignTextInRect:function(e,t,i,s,r,n,o,a,l,d){var l=l*Math.PI*2/360,h=Math.sin(l),l=Math.cos(l),c=r*h,r=r*l,o=("center"==o||""==o||"undefined"==o?e+=i/2:"right"==o&&(e+=i),"center"==a||"middle"==a||""==a||"undefined"==a?t+=s/2:"bottom"==a?t+=s-n/2:"top"==a&&(t+=n/2),"middle"),i=(-1!=(d=d||"").indexOf("top")?o="top":-1!=d.indexOf("bottom")&&(o="bottom"),"center");return-1!=d.indexOf("left")?i="left":-1!=d.indexOf("right")&&(i="right"),"center"==i?(e-=r/2,t-=c/2):"right"==i&&(e-=r,t-=c),"top"==o?(e-=n*h,t+=n*l):"middle"==o&&(e-=n*h/2,t+=n*l/2),{x:e=C.jqx._rup(e),y:t=C.jqx._rup(t)}}},C.jqx.svgRenderer=function(){},C.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(e){e.append("<table class=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 class=tdTop></td></tr><tr><td class=tdLeft></td><td><div class='chartContainer' style='position:relative' onselectstart='return false;'></div></td></tr></table>");var t=(this.host=e).find(".chartContainer");t[0].style.width=e.width()+"px",t[0].style.height=e.height()+"px";try{var i=document.createElementNS(this._svgns,"svg");i.setAttribute("id","svgChart"),i.setAttribute("version","1.1"),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("overflow","hidden"),t[0].appendChild(i),this.canvas=i}catch(e){return!1}return this._id=(new Date).getTime(),this.clear(),this._layout(),this._runLayoutFix(),!0},getType:function(){return"SVG"},refresh:function(){},_runLayoutFix:function(){this._fixLayout()},_fixLayout:function(){var e=this.canvas.getBoundingClientRect(),t=parseFloat(e.left)==parseInt(e.left),e=parseFloat(e.top)==parseInt(e.top);if(C.jqx.browser.msie){for(var t=!0,e=!0,i=this.host,s=0,r=0;i&&i.position&&i[0].parentNode;){var n=i.position();s+=parseFloat(n.left)-parseInt(n.left),r+=parseFloat(n.top)-parseInt(n.top),i=i.parent()}t=parseFloat(s)==parseInt(s),e=parseFloat(r)==parseInt(r)}t||(this.host.find(".tdLeft")[0].style.width="0.5px"),e||(this.host.find(".tdTop")[0].style.height="0.5px")},_layout:function(){var e=this.host.find(".chartContainer");this._width=Math.max(C.jqx._rup(this.host.width())-1,0),this._height=Math.max(C.jqx._rup(this.host.height())-1,0),e[0].style.width=this._width,e[0].style.height=this._height,this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;0<this.canvas.childElementCount;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)},removeElement:function(e){if(null!=e){this.removeHandler(e);try{for(;e.firstChild;)this.removeElement(e.firstChild);(e.parentNode||this.canvas).removeChild(e)}catch(e){}}},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElementNS(this._svgns,"g");return e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElementNS(this._svgns,"clipPath"),i=document.createElementNS(this._svgns,"rect");return this.attr(i,{x:e.x,y:e.y,width:e.width,height:e.height,fill:"none"}),this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),t.appendChild(i),this._defs.appendChild(t),t},getWindowHref:function(){var e=C.jqx.browser;if(e&&"msie"==e.browser&&e.version<10)return"";e=window.location.href;return e&&(e=e.replace(/([\('\)])/g,"\\$1")).replace(/#.*$/,"")},setClip:function(e,t){t="url("+this.getWindowHref()+"#"+t.id+")";return this.attr(e,{"clip-path":t})},_clipId:0,addHandler:function(e,t,i){C(e).on?C(e).on(t,i):C(e).bind(t,i)},removeHandler:function(e,t,i){C(e).off?C(e).off(t,i):C(e).unbind(t,i)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},shape:function(e,t){var i=document.createElementNS(this._svgns,e);if(i){for(var s in t)void 0!==t[s]&&"NaN"===t[s].toString()?i.setAttribute(s,0):i.setAttribute(s,t[s]);return this._activeParent().appendChild(i),i}},_getTextParts:function(e,t,i){var s={width:0,height:0,parts:[]};if(void 0===e)return s;var r=e.toString().split("<br>"),n=this._activeParent(),o=document.createElementNS(this._svgns,"text");this.attr(o,i);for(var a=0;a<r.length;a++){var l,d=r[a],h=o.ownerDocument.createTextNode(d);o.appendChild(h),n.appendChild(o);try{l=o.getBBox()}catch(e){}var c=C.jqx._rup(l.width),u=C.jqx._rup(.6*l.height);o.removeChild(h),s.width=Math.max(s.width,c),s.height+=u+(0<a?4:0),s.parts.push({width:c,height:u,text:d})}return n.removeChild(o),s},_measureText:function(e,t,i,s){return C.jqx.commonRenderer.measureText(e,t,i,s,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,s,r,n,o,a,l,d,h){var c,u=this._measureText(e,n,o,!0).textPartsInfo,p=u.parts,m=(l=l||"center",d=d||"center",(1<p.length||a)&&(c=this.beginGroup()),a&&(e=this.createClipRect({x:C.jqx._rup(t)-1,y:C.jqx._rup(i)-1,width:C.jqx._rup(s)+2,height:C.jqx._rup(r)+2}),this.setClip(c,e)),this._activeParent()),a=u.width,e=u.height,g=(s=isNaN(s)||s<=0?a:s)||0,f=(r=isNaN(r)||r<=0?e:r)||0;if(!n||0==n){i+=e,"center"==d||"middle"==d?i+=(f-e)/2:"bottom"==d&&(i+=f-e),s=s||a,r=r||e;for(var m=this._activeParent(),v=0,x=p.length-1;0<=x;x--){var y=document.createElementNS(this._svgns,"text"),w=(this.attr(y,o),this.attr(y,{cursor:"default"}),y.ownerDocument.createTextNode(p[x].text)),b=(y.appendChild(w),t),_=p[x].width,q=p[x].height;"center"==l?b+=(g-_)/2:"right"==l&&(b+=g-_),this.attr(y,{x:C.jqx._rup(b),y:C.jqx._rup(i+v),width:C.jqx._rup(_),height:C.jqx._rup(q)}),m.appendChild(y),v-=p[x].height+4}return c?(this.endGroup(),c):y}for(var f=C.jqx.commonRenderer.alignTextInRect(t,i,s,r,a,e,l,d,n,h),s=(t=f.x,i=f.y,this.shape("g",{transform:"translate("+t+","+i+")"})),j=this.shape("g",{transform:"rotate("+n+")"}),v=(s.appendChild(j),0),x=p.length-1;0<=x;x--){var T=document.createElementNS(this._svgns,"text"),w=(this.attr(T,o),this.attr(T,{cursor:"default"}),T.ownerDocument.createTextNode(p[x].text)),b=(T.appendChild(w),0),_=p[x].width,q=p[x].height;"center"==l?b+=(u.width-_)/2:"right"==l&&(b+=u.width-_),this.attr(T,{x:C.jqx._rup(b),y:C.jqx._rup(v),width:C.jqx._rup(_),height:C.jqx._rup(q)}),j.appendChild(T),v-=q+4}return m.appendChild(s),c&&this.endGroup(),s},line:function(e,t,i,s,r){e=this.shape("line",{x1:e,y1:t,x2:i,y2:s});return this.attr(e,r),e},path:function(e,t){var i=this.shape("path");return i.setAttribute("d",e),t&&this.attr(i,t),i},rect:function(e,t,i,s,r){e=C.jqx._ptrnd(e),t=C.jqx._ptrnd(t),i=Math.max(1,C.jqx._rnd(i,1,!1)),s=Math.max(1,C.jqx._rnd(s,1,!1));e=this.shape("rect",{x:e,y:t,width:i,height:s});return r&&this.attr(e,r),e},circle:function(e,t,i,s){e=this.shape("circle",{cx:e,cy:t,r:i});return s&&this.attr(e,s),e},pieSlicePath:function(e,t,i,s,r,n,o){return C.jqx.commonRenderer.pieSlicePath(e,t,i,s,r,n,o)},pieslice:function(e,t,i,s,r,n,o,a){e=this.pieSlicePath(e,t,i,s,r,n,o),t=this.shape("path");return t.setAttribute("d",e),a&&this.attr(t,a),t},attr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent=t[i]:e.setAttribute(i,t[i])},removeAttr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent="":e.removeAttribute(t[i])},getAttr:function(e,t){return e.getAttribute(t)},_gradients:{},_toLinearGradient:function(e,t,i){var s="grd"+this._id+e.replace("#","")+(t?"v":"h"),r="url("+this.getWindowHref()+"#"+s+")";if(this._gradients[r])return r;var n=document.createElementNS(this._svgns,"linearGradient");this.attr(n,{x1:"0%",y1:"0%",x2:t?"0%":"100%",y2:t?"100%":"0%",id:s});for(var o=0;o<i.length;o++){var a=i[o],l=document.createElementNS(this._svgns,"stop"),d="stop-color:"+C.jqx.adjustColor(e,a[1]);this.attr(l,{offset:a[0]+"%",style:d}),n.appendChild(l)}return this._defs.appendChild(n),this._gradients[r]=!0,r},_toRadialGradient:function(e,t,i){var s="grd"+this._id+e.replace("#","")+"r"+(null!=i?i.key:""),r="url("+this.getWindowHref()+"#"+s+")";if(this._gradients[r])return r;var n=document.createElementNS(this._svgns,"radialGradient");null==i?this.attr(n,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:s}):this.attr(n,{cx:i.x,cy:i.y,r:i.outerRadius,id:s,gradientUnits:"userSpaceOnUse"});for(var o=0;o<t.length;o++){var a=t[o],l=document.createElementNS(this._svgns,"stop"),d="stop-color:"+C.jqx.adjustColor(e,a[1]);this.attr(l,{offset:a[0]+"%",style:d}),n.appendChild(l)}return this._defs.appendChild(n),this._gradients[r]=!0,r}},C.jqx.vmlRenderer=function(){},C.jqx.vmlRenderer.prototype={init:function(e){e.append("<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>");var t=(this.host=e).find(".chartContainer"),i=(t[0].style.width=e.width()+"px",t[0].style.height=e.height()+"px",!0);try{for(var s=0;s<document.namespaces.length;s++)if("v"==document.namespaces[s].name&&"urn:schemas-microsoft-com:vml"==document.namespaces[s].urn){i=!1;break}}catch(e){return!1}return C.jqx.browser.msie&&parseInt(C.jqx.browser.version)<9&&document.childNodes&&0<document.childNodes.length&&document.childNodes[0].data&&-1!=document.childNodes[0].data.indexOf("DOCTYPE")?(i&&document.namespaces.add("v","urn:schemas-microsoft-com:vml"),this._ie8mode=!0):i&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"),this.canvas=t[0],this._width=Math.max(C.jqx._rup(t.width()),0),this._height=Math.max(C.jqx._rup(t.height()),0),t[0].style.width=this._width+2,t[0].style.height=this._height+2,this._id=(new Date).getTime(),this.clear(),!0},getType:function(){return"VML"},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;0<this.canvas.childElementCount;)this.removeHandler(this.canvas.firstElementChild),this.canvas.removeChild(this.canvas.firstElementChild);this._gradients={},this._defaultParent=void 0},removeElement:function(e){null!=e&&(this.removeHandler(e),e.parentNode.removeChild(e))},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElement("v:group");return t.style.position="absolute",t.coordorigin="0,0",t.coordsize=this._width+","+this._height,t.style.left=0,t.style.top=0,t.style.width=this._width,t.style.height=this._height,e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElement("div");return t.style.height=e.height+1+"px",t.style.width=e.width+1+"px",t.style.position="absolute",t.style.left=e.x+"px",t.style.top=e.y+"px",t.style.overflow="hidden",this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),this._activeParent().appendChild(t),t},setClip:function(e,t){},_clipId:0,addHandler:function(e,t,i){C(e).on?C(e).on(t,i):C(e).bind(t,i)},removeHandler:function(e,t,i){C(e).off?C(e).off(t,i):C(e).unbind(t,i)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},_getTextParts:function(e,t,i){var s={width:0,height:0,parts:[]},r=e.toString().split("<br>"),e=this._activeParent(),n=document.createElement("v:textbox");this.attr(n,i),e.appendChild(n);for(var o=0;o<r.length;o++){var a=r[o],l=document.createElement("span"),d=(l.appendChild(document.createTextNode(a)),n.appendChild(l),i&&i.class&&(l.className=i.class),C(n)),h=C.jqx._rup(d.width()),c=C.jqx._rup(.6*d.height());0==c&&C.jqx.browser.msie&&parseInt(C.jqx.browser.version)<9&&((d=d.css("font-size"))&&(c=parseInt(d),isNaN(c)&&(c=0))),n.removeChild(l),s.width=Math.max(s.width,h),s.height+=c+(0<o?2:0),s.parts.push({width:h,height:c,text:a})}return e.removeChild(n),s},_measureText:function(e,t,i,s){return t=45<Math.abs(t)?90:0,C.jqx.commonRenderer.measureText(e,t,i,s,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,s,r,n,o,a,l,d){null==(c=o&&o.stroke?o.stroke:c)&&(c="black");for(var h,c=this._measureText(e,n,o,!0),u=c.textPartsInfo.parts,p=c.width,m=c.height,g=(!isNaN(s)&&0!=s||(s=p),!isNaN(r)&&0!=r||(r=m),l=l||"center",d=d||"center",(0<u.length||a)&&(h=this.beginGroup()),a&&(e=this.createClipRect({x:C.jqx._rup(t),y:C.jqx._rup(i),width:C.jqx._rup(s),height:C.jqx._rup(r)}),this.setClip(h,e)),this._activeParent()),c=s||0,a=r||0,f=0,v=0,x=("center"==l?f+=(c-p)/2:"right"==l&&(f+=c-p),"center"==d?v=(a-m)/2:"bottom"==d&&(v=a-m),0==(n=45<Math.abs(n)?90:0)?(i+=m+v,t+=f):(t+=p+f,i+=v),0),y=u.length-1;0<=y;y--){var w,b=u[y],_=(p-b.width)/2,q=(0==n&&"left"==l?_=0:0==n&&"right"==l?_=p-b.width:90==n&&(_=(m-b.width)/2),x-b.height),v=90==n?_:q,f=90==n?q:_,q=((w=document.createElement("v:textbox")).style.position="absolute",w.style.left=C.jqx._rup(t+f),w.style.top=C.jqx._rup(i+v),w.style.width=C.jqx._rup(b.width),w.style.height=C.jqx._rup(b.height),90==n&&(w.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)",w.style.height=C.jqx._rup(b.height)+5),document.createElement("span"));q.appendChild(document.createTextNode(b.text)),o&&o.class&&(q.className=o.class),w.appendChild(q),g.appendChild(w),x-=b.height+(0<y?2:0)}return h?(this.endGroup(),g):w},shape:function(e,t){var i=document.createElement(this._createElementMarkup(e));if(i){for(var s in t)i.setAttribute(s,t[s]);return this._activeParent().appendChild(i),i}},line:function(e,t,i,s,r){e=this.path("M "+e+","+t+" L "+i+","+s+" X E");return this.attr(e,r),e},_createElementMarkup:function(e){e="<v:"+e+' style=""></v:'+e+">";return e=this._ie8mode?e.replace('style=""','style="behavior: url(#default#VML);"'):e},path:function(e,t){var i=document.createElement(this._createElementMarkup("shape"));return i.style.position="absolute",i.coordsize=this._width+" "+this._height,i.coordorigin="0 0",i.style.width=parseInt(this._width),i.style.height=parseInt(this._height),i.style.left="0px",i.style.top="0px",i.setAttribute("path",e),this._activeParent().appendChild(i),t&&this.attr(i,t),i},rect:function(e,t,i,s,r){e=C.jqx._ptrnd(e),t=C.jqx._ptrnd(t),i=C.jqx._rup(i),s=C.jqx._rup(s);var n=this.shape("rect",r);return n.style.position="absolute",n.style.left=e,n.style.top=t,n.style.width=i,n.style.height=s,n.strokeweight=0,r&&this.attr(n,r),n},circle:function(e,t,i,s){var r=this.shape("oval");return e=C.jqx._ptrnd(e-i),t=C.jqx._ptrnd(t-i),i=C.jqx._rup(i),r.style.position="absolute",r.style.left=e,r.style.top=t,r.style.width=2*i,r.style.height=2*i,s&&this.attr(r,s),r},updateCircle:function(e,t,i,s){null==t&&(t=parseFloat(e.style.left)+parseFloat(e.style.width)/2),null==i&&(i=parseFloat(e.style.top)+parseFloat(e.style.height)/2),null==s&&(s=parseFloat(e.width)/2),t=C.jqx._ptrnd(t-s),i=C.jqx._ptrnd(i-s),s=C.jqx._rup(s),e.style.left=t,e.style.top=i,e.style.width=2*s,e.style.height=2*s},pieSlicePath:function(e,t,i,s,r,n,o){s=s||1;var a=Math.abs(r-n),l=(360<a&&(r=0,n=360),r*Math.PI*2/360),d=n*Math.PI*2/360,h=e,c=t,u=!isNaN(i)&&0<i,a=(0<(o=u?0:o)&&(a=(a/2+r)*Math.PI*2/360,e+=o*Math.cos(a),t-=o*Math.sin(a)),u&&(o=i,h=C.jqx._ptrnd(e+o*Math.cos(l)),c=C.jqx._ptrnd(t-o*Math.sin(l)),C.jqx._ptrnd(e+o*Math.cos(d)),C.jqx._ptrnd(t-o*Math.sin(d))),C.jqx._ptrnd(e+s*Math.cos(l)),C.jqx._ptrnd(e+s*Math.cos(d))),o=(C.jqx._ptrnd(t-s*Math.sin(l)),C.jqx._ptrnd(t-s*Math.sin(d))),l=(s=C.jqx._ptrnd(s),i=C.jqx._ptrnd(i),e=C.jqx._ptrnd(e),t=C.jqx._ptrnd(t),Math.round(65535*r)),d=Math.round(65536*(n-r)),p=(i<0&&(i=1),"");return u?(p=(p="M"+h+" "+c)+" AE "+e+" "+t+" "+i+" "+i+" "+l+" "+d+" L "+a+" "+o,l=Math.round(65535*(r-n)),p=p+(" AE "+e+" "+t+" "+s+" "+s+" "+(d=Math.round(65536*n)))+" "+l+" L "+h+" "+c):(p="M"+e+" "+t,p+=" AE "+e+" "+t+" "+s+" "+s+" "+l+" "+d),p+=" X E"},pieslice:function(e,t,i,s,r,n,o,a){e=this.pieSlicePath(e,t,i,s,r,n,o),t=this.path(e,a);return a&&this.attr(t,a),t},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(e){for(var t in this._keymap)if(this._keymap[t].svg==e)return this._keymap[t].vml;return e},attr:function(e,t){if(e&&t)for(var i in t){var s=this._translateParam(i);null!=t[i]&&("fillcolor"==s&&-1!=t[i].indexOf("grd")?e.type=t[i]:"fillcolor"==s&&"transparent"==t[i]?(e.style.filter="alpha(opacity=0)",e["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"):"opacity"==s||"fillopacity"==s?e.fill&&(e.fill.opacity=t[i]):"textContent"==s?e.children[0].innerText=t[i]:"dashstyle"==s?e.dashstyle=t[i].replace(","," "):-1==s.indexOf("style.")?e[s]=t[i]:e.style[s.replace("style.","")]=t[i])}},removeAttr:function(e,t){if(e&&t)for(var i in t)e.removeAttribute(t[i])},getAttr:function(e,t){t=this._translateParam(t);return"opacity"==t||"fillopacity"==t?e.fill?e.fill.opacity:1:-1==t.indexOf("style.")?e[t]:e.style[t.replace("style.","")]},_gradients:{},_toRadialGradient:function(e,t,i){return e},_toLinearGradient:function(e,t,i){if(this._ie8mode)return e;var s="grd"+e.replace("#","")+(t?"v":"h"),r="#"+s;if(this._gradients[r])return r;for(var n=document.createElement(this._createElementMarkup("fill")),o=(n.type="gradient",n.method="linear",n.angle=t?0:90,""),a=0;a<i.length;a++){var l=i[a];0<l&&(o+=", "),o+=l[0]+"% "+C.jqx.adjustColor(e,l[1])}n.colors=o;t=document.createElement(this._createElementMarkup("shapetype"));return t.appendChild(n),t.id=s,this.canvas.appendChild(t),r}},C.jqx.HTML5Renderer=function(){},C.jqx.ptrnd=function(e){if(.5==Math.abs(Math.round(e)-e))return e;var t=Math.round(e);return t<e&&(t-=1),t+.5},C.jqx.HTML5Renderer.prototype={init:function(e){try{this.host=e,this.host.append("<div class='chartContainer' style='position:relative' onselectstart='return false;'><canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/></div>"),this.canvas=e.find("#__jqxCanvasWrap"),this.canvas[0].width=e.width(),this.canvas[0].height=e.height(),this.ctx=this.canvas[0].getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch(e){return!1}return!0},getType:function(){return"HTML5"},getContainer:function(){return this.host.find(".chartContainer")},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(e){},addHandler:function(e,t,i){},removeHandler:function(e,t,i){},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},clear:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0},removeElement:function(e){null!=e&&this._elements[e.id]&&delete this._elements[e.id]},shape:function(e,t){var i,s={type:e,id:this._maxId++};for(i in t)s[i]=t[i];return this._elements[s.id]=s},attr:function(e,t){for(var i in t)e[i]=t[i]},removeAttr:function(e,t){for(var i in t)delete e[t[i]]},rect:function(e,t,i,s,r){if(isNaN(e))throw'Invalid value for "x"';if(isNaN(t))throw'Invalid value for "y"';if(isNaN(i))throw'Invalid value for "width"';if(isNaN(s))throw'Invalid value for "height"';e=this.shape("rect",{x:e,y:t,width:i,height:s});return r&&this.attr(e,r),e},path:function(e,t){t=this.shape("path",t);return this.attr(t,{d:e}),t},line:function(e,t,i,s,r){return this.path("M "+e+","+t+" L "+i+","+s,r)},circle:function(e,t,i,s){e=this.shape("circle",{x:e,y:t,r:i});return s&&this.attr(e,s),e},pieSlicePath:function(e,t,i,s,r,n,o){return C.jqx.commonRenderer.pieSlicePath(e,t,i,s,r,n,o)},pieslice:function(e,t,i,s,r,n,o,a){o=this.path(this.pieSlicePath(e,t,i,s,r,n,o),a);return this.attr(o,{x:e,y:t,innerRadius:i,outerRadius:s,angleFrom:r,angleTo:n}),o},_getCSSStyle:function(e){var t=document.styleSheets;try{for(var i=0;i<t.length;i++)for(var s=0;t[i].cssRules&&s<t[i].cssRules.length;s++)if(-1!=t[i].cssRules[s].selectorText.indexOf(e))return t[i].cssRules[s].style}catch(e){}return{}},_getTextParts:function(e,t,i){for(var s="Arial",r="10pt",n="",o=(i&&i.class&&((i=this._getCSSStyle(i.class)).fontSize&&(r=i.fontSize),i.fontFamily&&(s=i.fontFamily),i.fontWeight&&(n=i.fontWeight)),this.ctx.font=n+" "+r+" "+s,{width:0,height:0,parts:[]}),a=e.toString().split("<br>"),l=0;l<a.length;l++){var d=a[l],h=this.ctx.measureText(d).width,c=document.createElement("span.jqxchart"),u=(c.font=this.ctx.font,c.textContent=d,document.body.appendChild(c),.6*c.offsetHeight);document.body.removeChild(c),o.width=Math.max(o.width,C.jqx._rup(h)),o.height+=u+(0<l?4:0),o.parts.push({width:h,height:u,text:d})}return o},_measureText:function(e,t,i,s){return C.jqx.commonRenderer.measureText(e,t,i,s,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,s,r,n,o,a,l,d,h){t=this.shape("text",{text:e,x:t,y:i,width:s,height:r,angle:n,clip:a,halign:l,valign:d,rotateAround:h}),o&&this.attr(t,o),t.fontFamily="Arial",t.fontSize="10pt",t.fontWeight="",t.color="#000000",o&&o.class&&(i=this._getCSSStyle(o.class),t.fontFamily=i.fontFamily||t.fontFamily,t.fontSize=i.fontSize||t.fontSize,t.fontWeight=i.fontWeight||t.fontWeight,t.color=i.color||t.color),n=this._measureText(e,0,o,!0);return this.attr(t,{textPartsInfo:n.textPartsInfo,textWidth:n.width,textHeight:n.height}),(s<=0||isNaN(s))&&this.attr(t,{width:n.width}),(r<=0||isNaN(r))&&this.attr(t,{height:n.height}),t},_toLinearGradient:function(e,t,i){if(this._renderers._gradients[e])return e;for(var s=[],r=0;r<i.length;r++)s.push({percent:i[r][0]/100,color:C.jqx.adjustColor(e,i[r][1])});var n="gr"+this._gradientId++;return this.createGradient(n,t?"vertical":"horizontal",s),n},_toRadialGradient:function(e,t){if(this._renderers._gradients[e])return e;for(var i=[],s=0;s<t.length;s++)i.push({percent:t[s][0]/100,color:C.jqx.adjustColor(e,t[s][1])});var r="gr"+this._gradientId++;return this.createGradient(r,"radial",i),r},createGradient:function(e,t,i){this._renderers.createGradient(this,e,t,i)},_renderers:{createGradient:function(e,t,i,s){e._gradients[t]={orientation:i,colorStops:s}},setStroke:function(e,t){e=e.ctx;e.strokeStyle=t.stroke||"transparent",e.lineWidth=t["stroke-width"]||1,null!=t["fill-opacity"]?e.globalAlpha=t["fill-opacity"]:null!=t.opacity?e.globalAlpha=t.opacity:e.globalAlpha=1,e.setLineDash&&(t["stroke-dasharray"]?e.setLineDash(t["stroke-dasharray"].split(",")):e.setLineDash([]))},setFillStyle:function(e,t){var i=e.ctx;if(i.fillStyle="transparent",null!=t["fill-opacity"]?i.globalAlpha=t["fill-opacity"]:null!=t.opacity?i.globalAlpha=t.opacity:i.globalAlpha=1,t.fill&&-1==t.fill.indexOf("#")&&e._gradients[t.fill]){for(var s,r,n,o,a,l="horizontal"!=e._gradients[t.fill].orientation,d="radial"==e._gradients[t.fill].orientation,h=C.jqx.ptrnd(t.x),c=C.jqx.ptrnd(t.y),u=C.jqx.ptrnd(t.x+(l?0:t.width)),p=C.jqx.ptrnd(t.y+(l?t.height:0)),m=("circle"!=t.type&&"path"!=t.type&&"rect"!=t.type||!d||(r=C.jqx.ptrnd(t.x),n=C.jqx.ptrnd(t.y),o=t.innerRadius||0,a=t.outerRadius||t.r||0,"rect"==t.type&&(r+=t.width/2,n+=t.height/2),s=i.createRadialGradient(r,n,o,r,n,a)),d||((isNaN(h)||isNaN(u)||isNaN(c)||isNaN(p))&&(c=h=0,u=l?0:i.canvas.width,p=l?i.canvas.height:0),s=i.createLinearGradient(h,c,u,p)),e._gradients[t.fill].colorStops),g=0;g<m.length;g++)s.addColorStop(m[g].percent,m[g].color);i.fillStyle=s}else t.fill&&(i.fillStyle=t.fill)},rect:function(e,t){0!=t.width&&0!=t.height&&(e.fillRect(C.jqx.ptrnd(t.x),C.jqx.ptrnd(t.y),t.width,t.height),e.strokeRect(C.jqx.ptrnd(t.x),C.jqx.ptrnd(t.y),t.width,t.height))},circle:function(e,t){0!=t.r&&(e.beginPath(),e.arc(C.jqx.ptrnd(t.x),C.jqx.ptrnd(t.y),t.r,0,2*Math.PI,!1),e.closePath(),e.fill(),e.stroke())},_parsePoint:function(e){return{x:this._parseNumber(e),y:this._parseNumber(e)}},_parseNumber:function(e){for(var t=!1,i=this._pos;i<e.length;i++)if("0"<=e[i]&&e[i]<="9"||"."==e[i]||"e"==e[i]||"-"==e[i]&&!t||"-"==e[i]&&1<=i&&"e"==e[i-1])t=!0;else{if(t||" "!=e[i]&&","!=e[i])break;this._pos++}var s=parseFloat(e.substring(this._pos,i));if(!isNaN(s))return this._pos=i,s},_cmds:"mlcazq",_isRelativeCmd:function(e){return C.jqx.string.contains(this._cmds,e)},_parseCmd:function(e){for(var t=this._pos;t<e.length;t++){if(C.jqx.string.containsIgnoreCase(this._cmds,e[t]))return this._pos=t+1,this._lastCmd=e[t],this._lastCmd;if(" "==e[t])this._pos++;else if("0"<=e[t]&&e[t]<="9"){if(this._pos=t,""==this._lastCmd)break;return this._lastCmd}}},_toAbsolutePoint:function(e){return{x:this._currentPoint.x+e.x,y:this._currentPoint.y+e.y}},path:function(e,t){var i=t.d,s=(this._pos=0,this._lastCmd="",void 0);for(this._currentPoint={x:0,y:0},e.beginPath();this._pos<i.length;){var r,n,o,a,l,d,h,c,u,p,m,g,f,v,x,y=this._parseCmd(i);if(null==y)break;if("M"==y||"m"==y){if(null==(r=this._parsePoint(i)))break;e.moveTo(r.x,r.y),this._currentPoint=r,null==s&&(s=r)}else if("L"==y||"l"==y){if(null==(r=this._parsePoint(i)))break;e.lineTo(r.x,r.y),this._currentPoint=r}else"A"==y||"a"==y?(n=this._parseNumber(i),o=this._parseNumber(i),a=this._parseNumber(i)*(Math.PI/180),f=this._parseNumber(i),l=this._parseNumber(i),g=this._parsePoint(i),this._isRelativeCmd(y)&&(g=this._toAbsolutePoint(g)),0!=n&&0!=o&&(d=this._currentPoint,u={x:Math.cos(a)*(d.x-g.x)/2+Math.sin(a)*(d.y-g.y)/2,y:-Math.sin(a)*(d.x-g.x)/2+Math.cos(a)*(d.y-g.y)/2},1<(m=Math.pow(u.x,2)/Math.pow(n,2)+Math.pow(u.y,2)/Math.pow(o,2))&&(n*=Math.sqrt(m),o*=Math.sqrt(m)),m=(f==l?-1:1)*Math.sqrt((Math.pow(n,2)*Math.pow(o,2)-Math.pow(n,2)*Math.pow(u.y,2)-Math.pow(o,2)*Math.pow(u.x,2))/(Math.pow(n,2)*Math.pow(u.y,2)+Math.pow(o,2)*Math.pow(u.x,2))),f=(m=isNaN(m)?0:m)*n*u.y/o,m=m*-o*u.x/n,d={x:(d.x+g.x)/2+Math.cos(a)*f-Math.sin(a)*m,y:(d.y+g.y)/2+Math.sin(a)*f+Math.cos(a)*m},h=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},p=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(h(e)*h(t))},c=(g=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(p(e,t))})([1,0],[(u.x-f)/n,(u.y-m)/o]),u=g(g=[(u.x-f)/n,(u.y-m)/o],f=[(-u.x-f)/n,(-u.y-m)/o]),p(g,f)<=-1&&(u=Math.PI),1<=p(g,f)&&(u=0),0==l&&0<u&&(u-=2*Math.PI),1==l&&u<0&&(u+=2*Math.PI),p=o<n?n:o,m=o<n?1:n/o,g=o<n?o/n:1,e.translate(d.x,d.y),e.rotate(a),e.scale(m,g),e.arc(0,0,p,c,c+u,1-l),e.scale(1/m,1/g),e.rotate(-a),e.translate(-d.x,-d.y))):"Z"!=y&&"z"!=y||null==s?"C"==y||"c"==y?(v=this._parsePoint(i),x=this._parsePoint(i),f=this._parsePoint(i),e.bezierCurveTo(v.x,v.y,x.x,x.y,f.x,f.y),this._currentPoint=f):"Q"!=y&&"q"!=y||(v=this._parsePoint(i),x=this._parsePoint(i),e.quadraticCurveTo(v.x,v.y,x.x,x.y),this._currentPoint=x):(e.lineTo(s.x,s.y),this._currentPoint=s)}e.fill(),e.stroke(),e.closePath()},text:function(e,t){var i=C.jqx.ptrnd(t.x),s=C.jqx.ptrnd(t.y),r=C.jqx.ptrnd(t.width),n=C.jqx.ptrnd(t.height),o=t.halign,a=t.valign,l=t.angle,d=t.rotateAround,h=t.textPartsInfo,c=h.parts,u=t.clip,u=(null==u&&(u=!0),e.save(),o=o||"center",a=a||"center",u&&(e.rect(i,s,r,n),e.clip()),t.textWidth),p=t.textHeight,m=r||0,g=n||0;if(e.fillStyle=t.color,e.font=t.fontWeight+" "+t.fontSize+" "+t.fontFamily,l&&0!=l){for(var t=C.jqx.commonRenderer.alignTextInRect(i,s,r,n,u,p,o,a,l,d),i=t.x,s=t.y,d=l*Math.PI*2/360,f=(e.translate(i,s),e.rotate(d),0),v=h.width,x=c.length-1;0<=x;x--){w=0;"center"==o?w+=(v-c[x].width)/2:"right"==o&&(w+=v-c[x].width),e.fillText(c[x].text,w,f),f-=c[x].height+4}e.restore()}else{s+=p,"center"==a||"middle"==a?s+=(g-p)/2:"bottom"==a&&(s+=g-p);for(var r=r||u,n=n||p,f=0,x=c.length-1;0<=x;x--){var y=c[x],w=i,b=c[x].width;c[x].height;"center"==o?w+=(m-b)/2:"right"==o&&(w+=m-b),e.fillText(y.text,w,s+f),f-=y.height+(0<x?4:0)}e.restore()}}},refresh:function(){for(var e in this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height),this._elements){var t=this._elements[e];this._renderers.setFillStyle(this,t),this._renderers.setStroke(this,t),this._renderers[this._elements[e].type](this.ctx,t)}}},C.jqx.createRenderer=function(e,t){var i=e.renderer=null;if(document.createElementNS&&"HTML5"!=e.renderEngine&&"VML"!=e.renderEngine&&!(i=new C.jqx.svgRenderer).init(t)){if("SVG"==e.renderEngine)throw"Your browser does not support SVG";return null}if(null==i&&"HTML5"!=e.renderEngine){if(!(i=new C.jqx.vmlRenderer).init(t)){if("VML"==e.renderEngine)throw"Your browser does not support VML";return null}e._isVML=!0}if(null!=i||"HTML5"!=e.renderEngine&&null!=e.renderEngine||(i=new C.jqx.HTML5Renderer).init(t))return e.renderer=i;throw"Your browser does not support HTML5 Canvas"},C.jqx._widgetToImage=function(e,t,i,s,r,n){var o=e;if(!o)return!1;null!=i&&""!=i||(i="image."+t);var a=o.renderEngine,l=o.enableAnimations;if(o.enableAnimations=!1,o.renderEngine="HTML5",o.renderEngine!=a)try{o.refresh()}catch(e){return o.renderEngine=a,o.refresh(),o.enableAnimations=l,!1}var d=o.renderer.getContainer().find("canvas")[0],h=!0,c=!0;return(h=C.isFunction(n)?n(e,d):h)&&(c=C.jqx.exportImage(d,t,i,s,r)),o.renderEngine!=a&&(o.renderEngine=a,o.refresh(),o.enableAnimations=l),c},C.jqx.getByPriority=function(e){for(var t=void 0,i=0;i<e.length&&null==t;i++)null==t&&null!=e[i]&&(t=e[i]);return t},C.jqx.exportImage=function(e,t,i,s,r){if(!e)return!1;var n="pdf"===t.toLowerCase();if(n&&(t="jpeg"),null!=i&&""!=i||(i="image."+t),null==s||""==s)throw"Please specifiy export server";var o=!0;try{if(e){var a,l,d,h=e.toDataURL("image/"+t);if(n){C.jqx.pdfExport||(C.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var c=595;switch(C.jqx.pdfExport.paperSize){case"legal":c=612;"portrait"!==C.jqx.pdfExport.orientation&&(c=1008);break;case"letter":c=612;"portrait"!==C.jqx.pdfExport.orientation&&(c=792);break;case"a3":c=841;"portrait"!==C.jqx.pdfExport.orientation&&(c=1190);break;case"a4":c=595;"portrait"!==C.jqx.pdfExport.orientation&&(c=842);break;case"a5":c=420;"portrait"!==C.jqx.pdfExport.orientation&&(c=595)}var u=72*C(e).width()/96;c-20<=u&&(u=c-20);try{var p=new window.pdfDataExport(C.jqx.pdfExport.orientation,"pt",C.jqx.pdfExport.paperSize)}catch(e){p=new window.jqxPdfDataExport(C.jqx.pdfExport.orientation,"pt",C.jqx.pdfExport.paperSize)}return p.addImage(h,"JPEG",10,10,u,0),void p.save(i)}h=h.replace("data:image/"+t+";base64,",""),r?C.ajax({dataType:"string",url:s,type:"POST",data:{content:h,fname:i},async:!1,success:function(e,t,i){o=!0},error:function(e,t,i){o=!1}}):((a=document.createElement("form")).method="POST",a.action=s,a.style.display="none",document.body.appendChild(a),(l=document.createElement("input")).name="fname",l.value=i,l.style.display="none",(d=document.createElement("input")).name="content",d.value=h,d.style.display="none",a.appendChild(l),a.appendChild(d),a.submit(),document.body.removeChild(a),o=!0)}}catch(e){o=!1}return o}}(jqxBaseFramework),!function(g){window.jqxPlot=function(){},window.jqxPlot.prototype={get:function(e,t,i){return void 0!==i?e[t][i]:e[t]},min:function(e,t){for(var i=NaN,s=0;s<e.length;s++){var r=this.get(e,s,t);(isNaN(i)||r<i)&&(i=r)}return i},max:function(e,t){for(var i=NaN,s=0;s<e.length;s++){var r=this.get(e,s,t);(isNaN(i)||i<r)&&(i=r)}return i},sum:function(e,t){for(var i=0,s=0;s<e.length;s++){var r=this.get(e,s,t);isNaN(r)||(i+=r)}return i},count:function(e,t){for(var i=0,s=0;s<e.length;s++){var r=this.get(e,s,t);isNaN(r)||i++}return i},avg:function(e,t){return this.sum(e,t)/Math.max(1,this.count(e,t))},filter:function(e,t){if(!t)return e;for(var i=[],s=0;s<e.length;s++)t(e[s])&&i.push(e[s]);return i},scale:function(e,t,i,s){if(isNaN(e))return NaN;if((e<Math.min(t.min,t.max)||e>Math.max(t.min,t.max))&&(!s||!0!==s.ignore_range))return NaN;var r,n,o,a,l,s=NaN,d=1;return void 0===t.type||"logarithmic"!=t.type?(r=Math.abs(t.max-t.min)||1,d=Math.abs(e-Math.min(t.min,t.max))/r):"logarithmic"===t.type&&(n=t.base,isNaN(n)&&(n=10),(r=Math.min(t.min,t.max))<=0&&(r=1),t=Math.max(t.min,t.max),o=g.jqx.log(t=t<=0?1:t,n),t=Math.pow(n,o),a=g.jqx.log(r,n),r=Math.pow(n,a),l=g.jqx.log(e,n),d=Math.abs(l-a)/(o-a)),"logarithmic"===i.type?(n=i.base,isNaN(n)&&(n=10),o=g.jqx.log(i.max,n),a=g.jqx.log(i.min,n),i.flip&&(d=1-d),l=Math.min(a,o)+d*Math.abs(o-a),s=Math.pow(n,l)):(s=Math.min(i.min,i.max)+d*Math.abs(i.max-i.min),i.flip&&(s=Math.max(i.min,i.max)-s+i.min)),s},axis:function(e,t,i){if(i<=1)return[t,e];(isNaN(i)||i<2)&&(i=2);for(var s=0;Math.round(e)!=e&&Math.round(t)!=t&&s<10;)e*=10,t*=10,s++;for(var r=(t-e)/i;s<10&&Math.round(r)!=r;)e*=10,t*=10,r*=10,s++;for(var n=[1,2,5],o=0;;){var a=o%n.length,l=Math.floor(o/n.length),d=Math.pow(10,l)*n[a],a=(o+1)%n.length,l=Math.floor((o+1)/n.length),h=Math.pow(10,l)*n[a];if(d<=r&&r<h)break;o++}for(var c=h,u=[],p=g.jqx._rnd(e,c,!1),m=s<=0?1:Math.pow(10,s);p<t+c;)u.push(p/m),p+=c;return u}}}(jqxBaseFramework),!function(h){h.jqx.jqxWidget("jqxDropDownButton","",{}),h.extend(h.jqx._jqxDropDownButton.prototype,{defineInstance:function(){var e={disabled:!1,width:null,height:null,arrowSize:17,enableHover:!0,openDelay:250,closeDelay:300,animationType:"default",placeHolder:"",enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",popupZIndex:1500,dropDownContainer:"default",autoOpen:!1,rtl:!1,initContent:null,dropDownWidth:null,dropDownHeight:null,focusable:!0,template:"default",touchMode:!1,hint:!0,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","opening","closing"]};return this===h.jqx._jqxDropDownButton.prototype||h.extend(!0,this,e),e},createInstance:function(e){var t=this,i=(t.width||(t.width=200),t.height||(t.height=25),t.isanimating=!1,h("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropDownButtonWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropDownButtonContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'></div><div id='dropDownButtonArrow' unselectable='on'  style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>")),s=(t.isMaterialized()&&(a=(d=window.getComputedStyle(this.element)).getPropertyValue("--jqx-dropdown-animation"),d=d.getPropertyValue("--jqx-action-button-size"),this.arrowSize=d?parseInt(d):25,a&&"default"==this.animationType&&(this.animationType=a.trim())),t.host.attr("tabindex")?(i.attr("tabindex",t.host.attr("tabindex")),t.host.removeAttr("tabindex")):i.attr("tabindex",0),t.focusable||i.removeAttr("tabIndex"),h.jqx.aria(this),t.popupContent=t.host.children(),t.host.attr("role","button"),t.host.addClass(t.toThemeProperty("jqx-dropdownbutton")),0==t.popupContent.length?(t.popupContent=h("<div>"+t.host.text()+"</div>"),t.popupContent.css("display","block"),t.element.innerHTML=""):t.popupContent.detach(),this);t.addHandler(t.host,"loadContent",function(e){s._arrange()});try{var r="dropDownButtonPopup"+t.element.id,n=h(h.find("#"+r)),o=(0<n.length&&n.remove(),h.jqx.aria(this,"aria-haspopup",!0),h.jqx.aria(this,"aria-owns",r),h("<div class='dropDownButton' style='overflow: hidden; left: -1000px; top: -1000px; position: absolute;' id='dropDownButtonPopup"+t.element.id+"'></div>"));o.addClass(t.toThemeProperty("jqx-widget-content")),o.addClass(t.toThemeProperty("jqx-dropdownbutton-popup")),o.addClass(t.toThemeProperty("jqx-popup")),o.addClass(t.toThemeProperty("jqx-rc-all")),"element"!=t.dropDownContainer&&o.css("z-index",t.popupZIndex),o.addClass(t.toThemeProperty("jqx-listbox-container")),h.jqx.browser.msie&&o.addClass(t.toThemeProperty("jqx-noshadow")),t.popupContent.appendTo(o),"element"==t.dropDownContainer?o.appendTo(t.host):o.appendTo(document.body),t.container=o,t.container.css("visibility","hidden")}catch(e){}t.touch=h.jqx.mobile.isTouchDevice(),t.dropDownButtonStructure=i,t.host.append(i),t.dropDownButtonWrapper=t.host.find("#dropDownButtonWrapper"),t.firstDiv=t.dropDownButtonWrapper.parent(),t.dropDownButtonArrow=t.host.find("#dropDownButtonArrow"),t.arrow=h(t.dropDownButtonArrow.children()[0]),t.dropDownButtonContent=t.host.find("#dropDownButtonContent"),t.dropDownButtonContent.addClass(t.toThemeProperty("jqx-dropdownlist-content")),t.dropDownButtonWrapper.addClass(t.toThemeProperty("jqx-disableselect")),t.rtl&&t.dropDownButtonContent.addClass(t.toThemeProperty("jqx-rtl"));var a,l=this,l=(t.host.parents()&&t.addHandler(t.host.parents(),"scroll.dropdownbutton"+t.element.id,function(e){l.isOpened()&&l.close()}),t.addHandler(t.dropDownButtonWrapper,"selectstart",function(){return!1}),t.dropDownButtonWrapper[0].id="dropDownButtonWrapper"+t.element.id,t.dropDownButtonArrow[0].id="dropDownButtonArrow"+t.element.id,t.dropDownButtonContent[0].id="dropDownButtonContent"+t.element.id,this),d=(t.propertyChangeMap.disabled=function(e,t,i,s){s?(e.host.addClass(l.toThemeProperty("jqx-dropdownlist-state-disabled")),e.host.addClass(l.toThemeProperty("jqx-fill-state-disabled")),e.dropDownButtonContent.addClass(l.toThemeProperty("jqx-dropdownlist-content-disabled"))):(e.host.removeClass(l.toThemeProperty("jqx-dropdownlist-state-disabled")),e.host.removeClass(l.toThemeProperty("jqx-fill-state-disabled")),e.dropDownButtonContent.removeClass(l.toThemeProperty("jqx-dropdownlist-content-disabled"))),h.jqx.aria(e,"aria-disabled",e.disabled)},t.disabled&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))),t.toThemeProperty("jqx-rc-all")+" "+t.toThemeProperty("jqx-fill-state-normal")+" "+t.toThemeProperty("jqx-widget")+" "+t.toThemeProperty("jqx-widget-content")+" "+t.toThemeProperty("jqx-dropdownlist-state-normal"));t.host.addClass(d),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.arrow.addClass(t.toThemeProperty("jqx-icon")),t.template&&t.host.addClass(t.toThemeProperty("jqx-"+t.template)),t._setSize(),t.render(),h.jqx.browser.msie&&h.jqx.browser.version<8&&(t.container.css("display","none"),0<t.host.parents(".jqx-window").length&&(a=t.host.parents(".jqx-window").css("z-index"),o.css("z-index",a+10),t.container.css("z-index",a+10)))},setContent:function(e){this.dropDownButtonContent.children().remove(),this.dropDownButtonContent[0].innerHTML="",this.dropDownButtonContent.append(e)},val:function(e){if(0==arguments.length||"object"==typeof e)return this.dropDownButtonContent.text();this.dropDownButtonContent.html(e)},getContent:function(){return 0<this.dropDownButtonContent.children().length?this.dropDownButtonContent.children():this.dropDownButtonContent.text()},_setSize:function(){var e=this,t=window.getComputedStyle(this.element),i=2*parseInt(t.borderLeftWidth),t=("border-box"!==t.boxSizing&&!isNaN(i)||(i=0),(null==this.width||-1==this.width.toString().indexOf("px"))&&(null==this.width||isNaN(this.width))||(this.element.style.width=parseInt(this.width)-i+"px"),(null==this.height||-1==this.height.toString().indexOf("px"))&&(null==this.height||isNaN(this.height))||(this.element.style.height=parseInt(this.height)-i+"px"),!1),s=(null!=e.width&&-1!=e.width.toString().indexOf("%")&&(t=!0,e.host.width(e.width),0<i&&this.host.css("box-sizing","border-box")),null!=e.height&&-1!=e.height.toString().indexOf("%")&&(t=!0,e.host.height(e.height)),this);t&&e.refresh(!1),h.jqx.utilities.resize(e.host,function(){s._arrange()})},isOpened:function(){var e=h.data(document.body,"openedJQXButton"+this.element.id);return null!=e&&e==this.popupContent},focus:function(){try{this.host.focus()}catch(e){}},render:function(){var e=this,o=(e.removeHandlers(),this),t=(e.touch||(e.addHandler(e.host,"mouseenter",function(){!o.disabled&&o.enableHover&&(o.host.addClass(o.toThemeProperty("jqx-dropdownlist-state-hover")),o.arrow.addClass(o.toThemeProperty("jqx-icon-arrow-down-hover")),o.host.addClass(o.toThemeProperty("jqx-fill-state-hover")))}),e.addHandler(e.host,"mouseleave",function(){!o.disabled&&o.enableHover&&(o.host.removeClass(o.toThemeProperty("jqx-dropdownlist-state-hover")),o.host.removeClass(o.toThemeProperty("jqx-fill-state-hover")),o.arrow.removeClass(o.toThemeProperty("jqx-icon-arrow-down-hover")),0)})),o.autoOpen&&(e.addHandler(e.host,"mouseenter",function(){!o.isOpened()&&o.autoOpen&&(o.open(),o.host.focus())}),e.addHandler(h(document),"mousemove."+o.element.id,function(e){var t,i,s,r,n;o.isOpened()&&o.autoOpen&&(t=(i=o.host.coord()).top,i=i.left,s=(r=o.container.coord()).left,r=r.top,n=!0,e.pageY>=t&&e.pageY<=t+o.host.height()&&e.pageX>=i&&e.pageX<i+o.host.width()&&(n=!1),(n=e.pageY>=r&&e.pageY<=r+o.container.height()&&e.pageX>=s&&e.pageX<s+o.container.width()?!1:n)&&o.close())})),e.addHandler(e.dropDownButtonWrapper,"mousedown",function(e){if(!o.disabled){var t="visible"==o.container.css("visibility");if(!o.isanimating){if(t)return o.close(),!1;o.open(),o.focusable||e.preventDefault&&e.preventDefault()}}}),e.touch&&e.addHandler(h(document),h.jqx.mobile.getTouchEventName("touchstart")+"."+e.element.id,o.closeOpenedDropDown,{me:this,popup:e.container,id:e.element.id}),e.addHandler(h(document),"mousedown."+e.element.id,o.closeOpenedDropDown,{me:this,popup:e.container,id:e.element.id}),e.addHandler(e.host,"keydown",function(e){var t="visible"==o.container.css("visibility");return"none"==o.host.css("display")||("13"!=e.keyCode||o.isanimating||t&&o.close(),115==e.keyCode?(o.isanimating||(o.isOpened()?o.isOpened()&&o.close():o.open()),!1):(e.altKey&&"block"==o.host.css("display")&&(38==e.keyCode?o.isOpened()&&o.close():40!=e.keyCode||o.isOpened()||o.open()),void("27"!=e.keyCode||o.ishiding||(o.close(),null!=o.tempSelectedIndex&&o.selectIndex(o.tempSelectedIndex)))))}),e.addHandler(e.firstDiv,"focus",function(){o.host.addClass(o.toThemeProperty("jqx-dropdownlist-state-focus")),o.host.addClass(o.toThemeProperty("jqx-fill-state-focus")),o.bar&&(o.bar.addClass("focused"),o.label.addClass("focused"))}),e.addHandler(e.firstDiv,"blur",function(){o.host.removeClass(o.toThemeProperty("jqx-dropdownlist-state-focus")),o.host.removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.bar&&(o.bar.removeClass("focused"),o.label.removeClass("focused"))}),h("<label></label")),t=(this.hint&&(t[0].innerHTML=this.placeHolder),t.addClass(o.toThemeProperty("jqx-input-label")),o.dropDownButtonWrapper.append(t),o.label=t,h("<span></span>"));o.dropDownButtonWrapper.append(t),t.addClass(o.toThemeProperty("jqx-input-bar")),o.bar=t,o.bar.css("top",this.host.height()),(e=this).template&&(e.bar.addClass(e.toThemeProperty("jqx-"+e.template)),e.label.addClass(e.toThemeProperty("jqx-"+e.template)))},removeHandlers:function(){var e=this;e.removeHandler(e.dropDownButtonWrapper,"mousedown"),e.removeHandler(e.host,"keydown"),e.removeHandler(e.firstDiv,"focus"),e.removeHandler(e.firstDiv,"blur"),e.removeHandler(e.host,"mouseenter"),e.removeHandler(e.host,"mouseleave"),e.autoOpen&&(e.removeHandler(e.host,"mouseenter"),e.removeHandler(e.host,"mouseleave")),e.removeHandler(h(document),"mousemove."+this.element.id)},_findPos:function(e){for(;e&&("hidden"==e.type||1!=e.nodeType||h.expr.filters.hidden(e));)e=e.nextSibling;var t=h(e).coord(!0);return[t.left,t.top]},testOffset:function(e,t,i){var s=e.outerWidth(),e=e.outerHeight(),r=h(window).width()+h(window).scrollLeft(),n=h(window).height()+h(window).scrollTop();return t.left+s>r&&s>this.host.width()&&(r=this.host.coord().left,s=s-this.host.width(),t.left=r-s+2),t.left<0&&(t.left=parseInt(this.host.coord().left)+"px"),t.top-=Math.min(t.top,t.top+e>n&&e<n?Math.abs(e+i+22):0),t},_getBodyOffset:function(){var e=0,t=0;return"0px"!=h("body").css("border-top-width")&&(e=parseInt(h("body").css("border-top-width")),isNaN(e)&&(e=0)),"0px"!=h("body").css("border-left-width")&&(t=parseInt(h("body").css("border-left-width")),isNaN(t)&&(t=0)),{left:t,top:e}},open:function(){h.jqx.aria(this,"aria-expanded",!0);function e(){var e,t;"right"!=i.dropDownHorizontalAlignment&&!i.rtl||(e=i.container.width(),t=Math.abs(e-i.host.width()),e>i.host.width()?i.container.css("left",parseInt(Math.round(o))-t+"px"):i.container.css("left",parseInt(Math.round(o))+t+"px"))}var t,i=this,s=this,r=(null!=i.dropDownWidth&&"auto"!=i.dropDownWidth||null==i.width||!i.width.indexOf||-1==i.width.indexOf("%")||(a=i.host.width(),i.container.width(parseInt(a))),s._raiseEvent("2"),i.popupContent),n=(h(window).scrollTop(),h(window).scrollLeft(),parseInt(i._findPos(i.host[0])[1])+parseInt(i.host.outerHeight())-1+"px"),o=parseInt(Math.round(i.host.coord(!0).left)),a=o+"px",l=(i.ishiding=!1,i.tempSelectedIndex=i.selectedIndex,r.stop(),i.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-selected")),i.host.addClass(i.toThemeProperty("jqx-fill-state-pressed")),i.arrow.addClass(i.toThemeProperty("jqx-icon-arrow-down-selected")),!1),l=((l=h.jqx.browser.msie&&h.jqx.browser.version<8?!0:l)&&i.container.css("display","block"),i.container.css("left",a),i.container.css("top",n),!1);e.call(this),"top"==i.dropDownVerticalAlignment&&(a=r.height(),l=!0,i.container.height(r.outerHeight()),r.addClass(this.toThemeProperty("jqx-popup-up")),t=parseInt(i.host.outerHeight()),a=parseInt(n)-Math.abs(a+t),i.interval&&clearInterval(i.interval),i.interval=setInterval(function(){var e;r.outerHeight()!=i.container.height()&&(i.container.height(r.outerHeight()),e=parseInt(n)-Math.abs(r.height()+t),i.container.css("top",e))},50),r.css("top",23),i.container.css("top",a)),i.enableBrowserBoundsDetection&&(a=i.testOffset(r,{left:parseInt(i.container.css("left")),top:parseInt(n)},parseInt(i.host.outerHeight())),parseInt(i.container.css("top"))!=a.top?(l=!0,i.container.height(r.outerHeight()),r.css("top",23),i.interval&&clearInterval(i.interval),i.interval=setInterval(function(){var e;r.outerHeight()!=s.container.height()&&(e=s.testOffset(r,{left:parseInt(i.container.css("left")),top:parseInt(n)},parseInt(i.host.outerHeight())),i.container.css("top",e.top),i.container.height(r.outerHeight()))},50)):r.css("top",0),i.container.css("top",a.top),parseInt(i.container.css("left"))!=a.left&&i.container.css("left",a.left)),"none"==i.animationType?(i.container.css("visibility","visible"),h.data(document.body,"openedJQXButtonParent",s),h.data(document.body,"openedJQXButton"+i.element.id,r),r.css("margin-top",0),r.css("opacity",1),i._raiseEvent("0"),e.call(s)):"transform"===i.animationType?(i.container.css("visibility","visible"),i.container.css("display","block"),h.data(document.body,"openedJQXButtonParent",s),h.data(document.body,"openedJQXButton"+i.element.id,r),r.css("margin-top",0),r.css("opacity",1),i._raiseEvent("0"),e.call(s)):(i.container.css("visibility","visible"),a=r.outerHeight(),s.isanimating=!0,"fade"==i.animationType?(r.css("margin-top",0),r.css("opacity",0),r.animate({opacity:1},i.openDelay,function(){h.data(document.body,"openedJQXButtonParent",s),h.data(document.body,"openedJQXButton"+s.element.id,r),s.ishiding=!1,s.isanimating=!1,s._raiseEvent("0")}),e.call(s)):(r.css("opacity",1),l?r.css("margin-top",a):r.css("margin-top",-a),e.call(s),r.animate({"margin-top":0},i.openDelay,function(){h.data(document.body,"openedJQXButtonParent",s),h.data(document.body,"openedJQXButton"+s.element.id,r),s.ishiding=!1,s.isanimating=!1,s._raiseEvent("0")}))),l?(i.host.addClass(i.toThemeProperty("jqx-rc-t-expanded")),i.container.addClass(i.toThemeProperty("jqx-rc-b-expanded"))):(i.host.addClass(i.toThemeProperty("jqx-rc-b-expanded")),i.container.addClass(i.toThemeProperty("jqx-rc-t-expanded"))),i.focusable&&(i.firstDiv.focus(),setTimeout(function(){s.firstDiv.focus()},10)),i.container.addClass(i.toThemeProperty("jqx-fill-state-focus")),i.host.addClass(s.toThemeProperty("jqx-dropdownlist-state-focus")),i.host.addClass(s.toThemeProperty("jqx-fill-state-focus")),i.container.addClass("jqx-popup-show")},close:function(){h.jqx.aria(this,"aria-expanded",!1);var e,t,i=this,s=i.popupContent,r=i.container,n=this,o=(n._raiseEvent("3"),!1);h.jqx.browser.msie&&h.jqx.browser.version<8&&(o=!0),i.isOpened()&&(r.removeClass("jqx-popup-show"),h.data(document.body,"openedJQXButton"+i.element.id,null),"none"==i.animationType?(i.container.css("visibility","hidden"),o&&i.container.css("display","none"),s.css({opacity:0})):"transform"===i.animationType?setTimeout(function(){n.isanimating=!1,i.container.css("visibility","hidden"),i.container.css("display","none")},this.closeDelay):n.ishiding||(n.isanimating=!0,s.stop(),e=s.outerHeight(),s.css("margin-top",0),t=-e,parseInt(i.container.coord().top)<parseInt(i.host.coord().top)&&(t=e),"fade"==i.animationType?(s.css({opacity:1}),s.animate({opacity:0},i.closeDelay,function(){r.css("visibility","hidden"),n.isanimating=!1,n.ishiding=!1,o&&r.css("display","none")})):s.animate({"margin-top":t},i.closeDelay,function(){r.css("visibility","hidden"),n.isanimating=!1,n.ishiding=!1,o&&r.css("display","none")})),i.ishiding=!0,i.host.removeClass(i.toThemeProperty("jqx-dropdownlist-state-selected")),i.host.removeClass(i.toThemeProperty("jqx-fill-state-pressed")),i.arrow.removeClass(i.toThemeProperty("jqx-icon-arrow-down-selected")),i.host.removeClass(i.toThemeProperty("jqx-rc-b-expanded")),i.container.removeClass(i.toThemeProperty("jqx-rc-t-expanded")),i.host.removeClass(i.toThemeProperty("jqx-rc-t-expanded")),i.container.removeClass(i.toThemeProperty("jqx-rc-b-expanded")),i.container.removeClass(i.toThemeProperty("jqx-fill-state-focus")),i.host.removeClass(i.toThemeProperty("jqx-dropdownlist-state-focus")),i.host.removeClass(i.toThemeProperty("jqx-fill-state-focus")),i._raiseEvent("1"))},closeOpenedDropDown:function(e){var t=e.data.me,i=h(e.target);if(h(e.target).ischildof(e.data.me.host))return!0;if(h(e.target).ischildof(e.data.me.popupContent))return!0;var s=!1;return h.each(i.parents(),function(){if("undefined"!=this.className)return this.className.indexOf&&-1!=this.className.indexOf("dropDownButton")||this.className.indexOf&&-1!=this.className.indexOf("jqx-popup")?!(s=!0):void 0}),s||t.close(),!0},refresh:function(){this._arrange()},_arrange:function(){var e=this,t=parseInt(e.host.width()),i=parseInt(e.host.height()),s=(e.arrowSize,e.arrowSize),r=t-s-6;0<r&&(e.dropDownButtonContent[0].style.width=r+"px"),e.dropDownButtonContent[0].style.height=parseInt(i)+"px",e.dropDownButtonContent[0].style.left="0px",e.dropDownButtonContent[0].style.top="0px",e.dropDownButtonArrow[0].style.width=parseInt(s)+"px",e.dropDownButtonArrow[0].style.height=parseInt(i)+"px",e.rtl&&(e.dropDownButtonArrow.css("float","left"),e.dropDownButtonContent.css("float","right"),e.dropDownButtonContent.css("left",-3)),null!=e.dropDownWidth&&(0<=e.dropDownWidth.toString().indexOf("%")?(t=parseInt(e.dropDownWidth)*e.host.width()/100,e.container.width(t)):e.container.width(e.dropDownWidth)),null!=e.dropDownHeight&&e.container.height(e.dropDownHeight)},destroy:function(){h.jqx.utilities.resize(this.host,null,!0);var e=this;e.interval&&clearInterval(e.interval),e.removeHandler(e.dropDownButtonWrapper,"selectstart"),e.removeHandler(e.dropDownButtonWrapper,"mousedown"),e.removeHandler(e.host,"keydown"),e.host.removeClass(),e.removeHandler(h(document),"mousedown."+e.element.id,e.closeOpenedDropDown),e.host.remove(),e.container.remove()},_raiseEvent:function(e,t){null==t&&(t={owner:null}),2!=e||this.contentInitialized||this.initContent&&(this.initContent(),this.contentInitialized=!0);var i=this.events[e],i=(t.owner=this,new h.Event(i));return i.owner=this,2!=e&&3!=e&&4!=e||(i.args=t),this.host.trigger(i)},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this._arrange()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),e._arrange(),e.close())},propertyChangedHandler:function(e,t,i,s){null==this.isInitialized||0==this.isInitialized||e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("dropDownVerticalAlignment"===t&&e.close(),"template"==t&&(e.host.removeClass(e.toThemeProperty("jqx-"+i)),e.host.addClass(e.toThemeProperty("jqx-"+e.template))),"rtl"==t&&(s?(e.dropDownButtonArrow.css("float","left"),e.dropDownButtonContent.css("float","right")):(e.dropDownButtonArrow.css("float","right"),e.dropDownButtonContent.css("float","left"))),"autoOpen"==t&&e.render(),"theme"==t&&null!=s&&h.jqx.utilities.setTheme(i,s,e.host),"width"!=t&&"height"!=t||(e._setSize(),e._arrange()))}})}(jqxBaseFramework),!function(u){u.jqx.jqxWidget("jqxDropDownList","",{}),u.extend(u.jqx._jqxDropDownList.prototype,{defineInstance:function(){var e={disabled:!1,width:null,height:null,items:new Array,selectedIndex:-1,source:null,scrollBarSize:15,arrowSize:17,enableHover:!0,enableSelection:!0,autoItemsHeight:!1,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,openDelay:250,closeDelay:300,dropDownContainer:"default",animationType:"default",autoOpen:!1,dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,keyboardSelection:!0,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",displayMember:"",valueMember:"",groupMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,renderer:null,placeHolder:"",promptText:"Please Choose:",emptyString:"",rtl:!1,selectionRenderer:null,listBox:null,popupZIndex:3001,renderMode:"default",touchMode:"auto",_checkForHiddenParent:!0,autoBind:!0,ready:null,focusable:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,hint:!0,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===u.jqx._jqxDropDownList.prototype||u.extend(!0,this,e),e},createInstance:function(e){var t,i,s;this.isMaterialized()&&(t=(s=window.getComputedStyle(this.element)).getPropertyValue("--jqx-dropdown-animation"),i=s.getPropertyValue("--jqx-list-item-height"),s=s.getPropertyValue("--jqx-action-button-size"),this.arrowSize=s?parseInt(s):25,t&&"default"==this.animationType&&(this.animationType=t.trim()),i&&-1===this.itemHeight&&(this.itemHeight=parseInt(i))),this.render()},render:function(){var r=this,e=(r.width||(r.width=200),r.height||(r.height=25),r.host.addClass(r.toThemeProperty("jqx-dropdownlist")),r.element.nodeName.toLowerCase()),e=("select"==e||"ul"==e||"ol"==e?(r.field=r.element,r.field.className&&(r._className=r.field.className),e={title:r.field.title},r.field.id.length?e.id=r.field.id.replace(/[^\w]/g,"_")+"_jqxDropDownList":e.id=u.jqx.utilities.createId()+"_jqxDropDownList",i=u("<div></div>",e),r.width||(r.width=u(r.field).width()),r.height||(r.height=u(r.field).outerHeight()),i[0].style.cssText=r.field.style.cssText,u(r.field).hide().after(i),t=r.host.data(),r.host=i,r.host.data(t),r.element=i[0],r.element.id=r.field.id,r.field.id=e.id,r._className&&(r.host.addClass(r._className),u(r.field).removeClass(r._className)),r.field.tabIndex&&(t=r.field.tabIndex,r.field.tabIndex=-1,r.element.tabIndex=t),i=u.jqx.parseSourceTag(r.field),r.source=i.items,-1==r.selectedIndex&&(r.selectedIndex=i.index)):(0<r.host.find("li").length||0<r.host.find("option").length)&&(i=u.jqx.parseSourceTag(r.element),r.source=i.items),r.element.innerHTML="",r.isanimating=!1,r.id=r.element.id||u.jqx.utilities.createId(),r.host.attr("role","combobox"),u.jqx.aria(r,"aria-autocomplete","both"),u.jqx.aria(r,"aria-readonly",!1),"<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'></div><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>");if(null==u.jqx._jqxListBox||null==u.jqx._jqxListBox)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");r.host.attr("tabindex")||r.host.attr("tabindex",0);r.touch=u.jqx.mobile.isTouchDevice(),r.comboStructure=e,r.element.innerHTML=e,r.dropdownlistWrapper=u(r.element.firstChild.firstChild),r.dropdownlistArrow=u(r.dropdownlistWrapper[0].firstChild.nextSibling),r.arrow=u(r.dropdownlistArrow[0].firstChild),r.dropdownlistContent=u(r.dropdownlistWrapper[0].firstChild),r.dropdownlistContent.addClass(r.toThemeProperty("jqx-dropdownlist-content jqx-disableselect")),r.rtl&&r.dropdownlistContent.addClass(r.toThemeProperty("jqx-rtl jqx-dropdownlist-content-rtl")),r.addHandler(r.dropdownlistWrapper,"selectstart",function(){return!1}),r.dropdownlistWrapper[0].id="dropdownlistWrapper"+r.element.id,r.dropdownlistArrow[0].id="dropdownlistArrow"+r.element.id,r.dropdownlistContent[0].id="dropdownlistContent"+r.element.id,r._addInput();var t=u("<label></label"),i=(this.hint&&(t[0].innerHTML=this.placeHolder),t.addClass(r.toThemeProperty("jqx-input-label")),r.dropdownlistWrapper.append(t),r.label=t,u("<span></span>")),e=(r.dropdownlistWrapper.append(i),i.addClass(r.toThemeProperty("jqx-input-bar")),r.bar=i,r.bar.css("top",this.host.height()),this.template&&(this.bar.addClass(this.toThemeProperty("jqx-"+this.template)),this.label.addClass(this.toThemeProperty("jqx-"+this.template))),"Please Choose:"!=r.promptText&&(r.placeHolder=r.promptText),r.toThemeProperty("jqx-widget")+" "+r.toThemeProperty("jqx-dropdownlist-state-normal")+" "+r.toThemeProperty("jqx-rc-all")+" "+r.toThemeProperty("jqx-fill-state-normal"));r.element.className+=" "+e,r._firstDiv=u(r.element.firstChild);try{var s="listBox"+r.id,n=u(u.find("#"+s)),o=(0<n.length&&n.remove(),u.jqx.aria(r,"aria-owns",s),u.jqx.aria(r,"aria-haspopup",!0),u("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+r.id+"'><div id='innerListBox"+r.id+"'></div></div>")),a=(o.hide(),o.addClass(r.toThemeProperty("jqx-listbox-container")),"element"==r.dropDownContainer?o.appendTo(r.host):o.appendTo(document.body),r.container=o,r.listBoxContainer=u(u.find("#innerListBox"+r.id)),r.width);null==(a="auto"!=r.dropDownWidth?r.dropDownWidth:a)&&0==(a=r.host.width())&&(a=r.dropDownWidth),null==r.dropDownHeight&&(r.dropDownHeight=200);r.container.width(parseInt(a)+25),r.container.height(parseInt(r.dropDownHeight)+25),r._ready=!1,r.addHandler(r.listBoxContainer,"bindingComplete",function(e){r.listBox||(r.listBox=u.data(r.listBoxContainer[0],"jqxListBox").instance),r.selectedIndex!=r.listBoxContainer.jqxListBox("selectedIndex")&&(r.listBox=u.data(r.listBoxContainer[0],"jqxListBox").instance,r.listBoxContainer.jqxListBox({selectedIndex:r.selectedIndex})),r.renderSelection("mouse"),r._ready||(r.ready&&r.ready(),r._ready=!0),r._raiseEvent("6")}),r.addHandler(r.listBoxContainer,"itemAdd",function(e){r._raiseEvent("7",e.args)}),r.addHandler(r.listBoxContainer,"itemRemove",function(e){r._raiseEvent("8",e.args)}),r.addHandler(r.listBoxContainer,"itemUpdate",function(e){r._raiseEvent("9",e.args)}),r.listBoxContainer.jqxListBox({filterHeight:r.filterHeight,filterPlaceHolder:r.filterPlaceHolder,filterDelay:r.filterDelay,autoItemsHeight:r.autoItemsHeight,filterable:r.filterable,allowDrop:!1,allowDrag:!1,autoBind:r.autoBind,_checkForHiddenParent:!1,focusable:r.focusable,touchMode:r.touchMode,checkboxes:r.checkboxes,rtl:r.rtl,_renderOnDemand:!0,emptyString:r.emptyString,itemHeight:r.itemHeight,width:a,searchMode:r.searchMode,incrementalSearch:r.incrementalSearch,incrementalSearchDelay:r.incrementalSearchDelay,groupMember:r.groupMember,searchMember:r.searchMember,displayMember:r.displayMember,valueMember:r.valueMember,height:r.dropDownHeight,autoHeight:r.autoDropDownHeight,scrollBarSize:r.scrollBarSize,selectedIndex:r.selectedIndex,source:r.source,theme:r.theme,rendered:function(){r.selectedIndex!=r.listBoxContainer.jqxListBox("selectedIndex")&&(r.listBox=u.data(r.listBoxContainer[0],"jqxListBox").instance,r.listBoxContainer.jqxListBox({selectedIndex:r.selectedIndex})),r.renderSelection("mouse")},renderer:r.renderer,filterChange:function(e){r.autoDropDownHeight&&r.container.height(r.listBoxContainer.height()+25)}}),"element"===r.dropDownContainer?r.listBoxContainer.css({position:"absolute",top:0,left:0}):r.listBoxContainer.css({position:"absolute",zIndex:r.popupZIndex,top:0,left:0}),r.template&&r.listBoxContainer.addClass(r.toThemeProperty("jqx-"+r.template+"-item")),r.listBox=u.data(r.listBoxContainer[0],"jqxListBox").instance,r.listBox.enableSelection=r.enableSelection,r.listBox.enableHover=r.enableHover,r.listBox.equalItemsWidth=r.equalItemsWidth,r.listBox.selectIndex(r.selectedIndex),r.listBox._arrange(),r.listBoxContainer.addClass(r.toThemeProperty("jqx-popup")),u.jqx.browser.msie&&r.listBoxContainer.addClass(r.toThemeProperty("jqx-noshadow")),r.addHandler(r.listBoxContainer,"unselect",function(e){r._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})}),r.addHandler(r.listBoxContainer,"change",function(e){e.args&&("keyboard"!=e.args.type?r._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}):"keyboard"!=e.args.type||r.isOpened()||r._raiseEvent("4",{index:r.selectedIndex,type:"keyboard",item:r.getItem(r.selectedIndex)}))}),"none"==r.animationType?r.container.css("display","none"):r.container.hide()}catch(e){console&&console.log(e)}(r=r).propertyChangeMap.disabled=function(e,t,i,s){s?(e.host.addClass(r.toThemeProperty("jqx-dropdownlist-state-disabled")),e.host.addClass(r.toThemeProperty("jqx-fill-state-disabled")),e.dropdownlistContent.addClass(r.toThemeProperty("jqx-dropdownlist-content-disabled"))):(e.host.removeClass(r.toThemeProperty("jqx-dropdownlist-state-disabled")),e.host.removeClass(r.toThemeProperty("jqx-fill-state-disabled")),e.dropdownlistContent.removeClass(r.toThemeProperty("jqx-dropdownlist-content-disabled"))),u.jqx.aria(e,"aria-disabled",e.disabled)},r.disabled&&(r.host.addClass(r.toThemeProperty("jqx-dropdownlist-state-disabled")),r.host.addClass(r.toThemeProperty("jqx-fill-state-disabled")),r.dropdownlistContent.addClass(r.toThemeProperty("jqx-dropdownlist-content-disabled"))),"top"==r.dropDownVerticalAlignment?r.arrow.addClass(r.toThemeProperty("jqx-icon-arrow-up")):r.arrow.addClass(r.toThemeProperty("jqx-icon-arrow-down")),r.arrow.addClass(r.toThemeProperty("jqx-icon")),"simple"===r.renderMode&&(r.arrow.remove(),r.host.removeClass(r.toThemeProperty("jqx-fill-state-normal")),r.host.removeClass(r.toThemeProperty("jqx-rc-all"))),r.template&&r.host.addClass(r.toThemeProperty("jqx-"+r.template)),r._updateHandlers(),r._setSize(),r._arrange(),r.listBox&&r.renderSelection(),u.jqx.browser.msie&&u.jqx.browser.version<8&&0<r.host.parents(".jqx-window").length&&(t=r.host.parents(".jqx-window").css("z-index"),o.css("z-index",t+10),r.listBoxContainer.css("z-index",t+10))},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this._arrange()},val:function(i){if(!this.dropdownlistContent)return"";if(this.input&&(function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return"number"!=typeof i&&("date"!=typeof i&&("boolean"!=typeof i&&"string"!=typeof i))}(i)||0==arguments.length))return this.input.val();var e=this.getItemByValue(i);return null!=e&&this.selectItem(e),this.input?this.input.val():void 0},focus:function(){try{function e(){t.host&&(t.host.focus(),t._firstDiv&&t._firstDiv.focus())}var t=this;e(),setTimeout(function(){e()},10)}catch(e){}},_addInput:function(){var e=this.host.attr("name");this.input=u("<input type='hidden'/>"),this.host.append(this.input),e&&this.input.attr("name",e)},getItems:function(){return this.listBox?this.listBox.items:new Array},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){var e=window.getComputedStyle(this.element),t=2*parseInt(e.borderLeftWidth),e=e.boxSizing,e=(0===this.element.offsetWidth&&(t=2),"border-box"!==e&&!isNaN(t)||(t=0),(null==this.width||-1==this.width.toString().indexOf("px"))&&(null==this.width||isNaN(this.width))||(this.element.style.width=parseInt(this.width)-t+"px"),(null==this.height||-1==this.height.toString().indexOf("px"))&&(null==this.height||isNaN(this.height))||(this.element.style.height=parseInt(this.height)-t+"px"),!1),i=(null!=this.width&&-1!=this.width.toString().indexOf("%")&&(e=!0,this.element.style.width=this.width,0<t&&(this.host.css("box-sizing","border-box"),this.listBoxContainer.css("box-sizing","border-box"))),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(e=!0,this.element.style.height=this.height),this);e&&(t=this.host.width()+2,"auto"!=this.dropDownWidth&&(t=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:t}),this.container.width(parseInt(t)+25)),u.jqx.utilities.resize(this.host,function(){var e;i._arrange(),"auto"==i.dropDownWidth&&(e=i.host.width()+2,i.listBoxContainer.jqxListBox({width:e}),i.container.width(parseInt(e)+25))},!1,this._checkForHiddenParent)},isOpened:function(){var e=u.data(document.body,"openedJQXListBox"+this.id);return null!=e&&e==this.listBoxContainer},_updateHandlers:function(){var o=this,e=(this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",function(){!o.disabled&&o.enableHover&&"simple"!==o.renderMode&&(o.host.addClass(o.toThemeProperty("jqx-dropdownlist-state-hover")),"top"==o.dropDownVerticalAlignment?o.arrow.addClass(o.toThemeProperty("jqx-icon-arrow-up-hover")):o.arrow.addClass(o.toThemeProperty("jqx-icon-arrow-down-hover")),o.host.addClass(o.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!o.disabled&&o.enableHover&&"simple"!==o.renderMode&&(o.host.removeClass(o.toThemeProperty("jqx-dropdownlist-state-hover")),o.host.removeClass(o.toThemeProperty("jqx-fill-state-hover")),o.arrow.removeClass(o.toThemeProperty("jqx-icon-arrow-down-hover")),o.arrow.removeClass(o.toThemeProperty("jqx-icon-arrow-up-hover")),0)})),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(e){o.isOpened()&&o.close()}),"mousedown");this.touch&&(e=u.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,e,function(e){if(!o.disabled){var t="block"==o.container.css("display");if(!o.isanimating){if(t)return o.hideListBox(),!1;o.showListBox(),o.focusable?o.focus():e.preventDefault&&e.preventDefault(),e.stopPropagation()}}}),o.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){!o.isOpened()&&o.autoOpen&&(o.open(),o.host.focus())}),u(document).on("mousemove."+o.id,function(e){var t,i,s,r,n;o.isOpened()&&o.autoOpen&&(t=(i=o.host.coord()).top,i=i.left,s=(r=o.container.coord()).left,r=r.top,n=!0,e.pageY>=t&&e.pageY<=t+o.host.height()&&e.pageX>=i&&e.pageX<i+o.host.width()&&(n=!1),(n=e.pageY>=r&&e.pageY<=r+o.container.height()&&e.pageX>=s&&e.pageX<s+o.container.width()?!1:n)&&o.close())})),this.touch?this.addHandler(u(document),u.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,o.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(u(document),"mousedown."+this.id,o.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(e){var t="block"==o.container.css("display");if("none"==o.host.css("display"))return!0;if(("13"==e.keyCode||"9"==e.keyCode)&&!o.isanimating)return t&&(o.renderSelection(),"13"==e.keyCode&&o.focusable&&o._firstDiv.focus(),o.hideListBox(),o.keyboardSelection||o._raiseEvent("2",{index:o.selectedIndex,type:"keyboard",item:o.getItem(o.selectedIndex)}),"13"==e.keyCode&&o._raiseEvent("4",{index:o.selectedIndex,type:"keyboard",item:o.getItem(o.selectedIndex)})),!t||"9"==e.keyCode;if(115==e.keyCode)return o.isanimating||(o.isOpened()?o.isOpened()&&o.hideListBox():o.showListBox()),!1;if(e.altKey&&"block"==o.host.css("display"))if(38==e.keyCode){if(o.isOpened())return o.hideListBox(),!0}else if(40==e.keyCode&&!o.isOpened())return o.showListBox(),!0;return"27"!=e.keyCode||o.ishiding?o.disabled?void 0:(o._kbnavigated=o.listBox._handleKeyDown(e),o._kbnavigated):(o.isOpened()&&(o.hideListBox(),null!=o.tempSelectedIndex&&o.selectIndex(o.tempSelectedIndex)),!0)}),this.addHandler(this.listBoxContainer,"checkChange",function(e){o.renderSelection(),o._updateInputSelection(),o._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})}),this.addHandler(this.listBoxContainer,"select",function(e){o.disabled||e.args&&("keyboard"!=e.args.type||o.isOpened()||o.renderSelection(),"keyboard"==e.args.type&&!o.keyboardSelection||(o.renderSelection(),o._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item,originalEvent:e.args.originalEvent}),"mouse"!=e.args.type||o.checkboxes||(o.hideListBox(),o._firstDiv&&o.focusable&&o._firstDiv.focus())))}),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(e){if(!o.disabled){if(o.listBox.itemswrapper&&e.target===o.listBox.itemswrapper[0])return!0;o.renderSelection("mouse"),o.touch||o.ishiding||o.checkboxes||(o.hideListBox(),o._firstDiv&&o.focusable&&o._firstDiv.focus()),o.keyboardSelection||(!1===o._kbnavigated&&(o.tempSelectedIndex!=o.selectedIndex&&o._raiseEvent("4",{index:o.selectedIndex,type:"mouse",item:o.getItem(o.selectedIndex)}),o._kbnavigated=!0),null==o._oldSelectedInd&&(o._oldSelectedIndx=o.selectedIndex),o.selectedIndex!=o._oldSelectedIndx&&(o._raiseEvent("2",{index:o.selectedIndex,type:"keyboard",item:o.getItem(o.selectedIndex)}),o._oldSelectedIndx=o.selectedIndex))}}),this.addHandler(this.host,"focus",function(e){"simple"!==o.renderMode&&(o.host.addClass(o.toThemeProperty("jqx-dropdownlist-state-focus")),o.host.addClass(o.toThemeProperty("jqx-fill-state-focus"))),o.bar.addClass("focused"),o.label.addClass("focused")}),this.addHandler(this.host,"blur",function(){"simple"!==o.renderMode&&(o.host.removeClass(o.toThemeProperty("jqx-dropdownlist-state-focus")),o.host.removeClass(o.toThemeProperty("jqx-fill-state-focus"))),o.bar.removeClass("focused"),o.label.removeClass("focused")}),this.addHandler(this._firstDiv,"focus",function(e){"simple"!==o.renderMode&&(o.host.addClass(o.toThemeProperty("jqx-dropdownlist-state-focus")),o.host.addClass(o.toThemeProperty("jqx-fill-state-focus"))),o.bar.addClass("focused"),o.label.addClass("focused")}),this.addHandler(this._firstDiv,"blur",function(){"simple"!==o.renderMode&&(o.host.removeClass(o.toThemeProperty("jqx-dropdownlist-state-focus")),o.host.removeClass(o.toThemeProperty("jqx-fill-state-focus"))),o.bar.removeClass("focused"),o.label.removeClass("focused")})},removeHandlers:function(){var e="mousedown";this.touch&&(e=u.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,e),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(u(document),"mousemove."+this.id)},getItem:function(e){return this.listBox.getItem(e)},getItemByValue:function(e){return this.listBox.getItemByValue(e)},selectItem:function(e){null!=this.listBox&&(this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(e){null!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"))},checkItem:function(e){null!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){null!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){null!=this.listBox&&this.listBox.indeterminateItem(e)},renderSelection:function(){if(null!=this.listBox){this.height&&-1!=this.height.toString().indexOf("%")&&this._arrange();var e=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.filterable&&-1==this.listBox.selectedIndex)for(var t in this.listBox.selectedValues){t=this.listBox.selectedValues[t],t=this.listBox.getItemByValue(t);t&&(e=t)}var i;if(this.checkboxes&&(e=null!=(s=this.getCheckedItems())&&0<s.length?s[0]:null),this.hint&&(this.label&&(this.label[0].innerHTML=this.placeHolder),null!=e?this.element.setAttribute("hint",!0):this.element.removeAttribute("hint")),this.bar.css("top",this.host.height()),null==e)return(i=u('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>')).appendTo(u(document.body)),i.addClass(this.toThemeProperty("jqx-widget")),i.addClass(this.toThemeProperty("jqx-listitem-state-normal")),i.addClass(this.toThemeProperty("jqx-item")),u.jqx.utilities.html(i,this.placeHolder),this.isMaterialized()&&!this.element.getAttribute("default-placeholder")&&this.hint&&(i[0].innerHTML="",this.label&&(this.label[0].innerHTML=this.placeHolder)),n=this.dropdownlistContent.css("padding-top"),r=this.dropdownlistContent.css("padding-bottom"),i.css("padding-top",n),i.css("padding-bottom",r),o=i.outerHeight(),i.remove(),i.removeClass(),u.jqx.utilities.html(this.dropdownlistContent,i),h=this.host.height(),null!=this.height&&null!=this.height&&-1===this.height.toString().indexOf("%")&&(h=parseInt(this.height)),c=parseInt((parseInt(h)-parseInt(o))/2),0<(c="border-box"===this.host.css("box-sizing")?parseInt((parseInt(h-2)-parseInt(o))/2):c)&&(this.dropdownlistContent.css("margin-top",c+"px"),this.dropdownlistContent.css("margin-bottom",c+"px")),this.selectionRenderer&&(u.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(i,-1,"","")),this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px")),this._updateInputSelection(),this.selectedIndex=this.listBox.selectedIndex,"auto"===this.width&&this._arrange(),void(this.focusable&&this.isOpened()&&this.focus());this.selectedIndex=this.listBox.selectedIndex,(i=u(document.createElement("span")))[0].setAttribute("unselectable","on");try{i[0].style.color="inherit"}catch(e){}i[0].style.borderWidth="0px",i[0].style.backgroundColor="transparent",i.appendTo(u(document.body)),i.addClass(this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-item"));var s=!1;try{null!=e.html&&null!=e.html&&0<e.html.toString().length?u.jqx.utilities.html(i,e.html):null!=e.label&&null!=e.label&&0<e.label.toString().length?u.jqx.utilities.html(i,e.label):null===e.label||""===e.label?(s=!0,u.jqx.utilities.html(i,"")):null!=e.value&&null!=e.value&&0<e.value.toString().length?u.jqx.utilities.html(i,e.value):null!=e.title&&null!=e.title&&0<e.title.toString().length?u.jqx.utilities.html(i,e.title):""!=e.label&&null!=e.label||(s=!0,u.jqx.utilities.html(i,""))}catch(e){}var r,n=this.dropdownlistContent[0].style.paddingTop;""===(r=this.dropdownlistContent[0].style.paddingBottom)&&(r="0px"),i[0].style.paddingTop=n=""===n?"0px":n,i[0].style.paddingBottom=r;0===(o=i.outerHeight())&&(o=16),""!=e.label&&null!=e.label||!s||u.jqx.utilities.html(i,"");var o,n=this.width&&this.width.toString().indexOf("%")<=0;if(i.remove(),i.removeClass(),this.selectionRenderer)u.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(i,e.index,e.label,e.value)),this.focusable&&this.isOpened()&&this.focus();else if(this.checkboxes){for(var a=this.getCheckedItems(),l="",d=0;d<a.length;d++)d==a.length-1?l+=a[d].label:l+=a[d].label+",";i.text(l),n&&i.css("max-width",this.host.width()-30),i.css("overflow","hidden"),i.css("display","block"),this.rtl||n&&i.css("width",this.host.width()-30),i.css("text-overflow","ellipsis"),i.css("padding-bottom",1+parseInt(r)),this.dropdownlistContent.html(i),this.focusable&&this.isOpened()&&this.focus()}else{s=this.host.width()-this.arrowSize-1;this.width&&"auto"!==this.width&&(n&&!this.rtl&&i.css("max-width",s+"px"),i[0].style.overflow="hidden",i[0].style.display="block",i[0].style.paddingTop=1+parseInt(r)+"px",this.rtl||n&&(i[0].style.width=(s=s<0?0:s)+"px"),i[0].style.textOverflow="ellipsis"),this.dropdownlistContent[0].innerHTML=i[0].innerHTML,this.focusable&&this.isOpened()&&this.focus()}var h=this.host.height(),c=(null!=this.height&&null!=this.height&&-1===this.height.toString().indexOf("%")&&(h=parseInt(this.height)),parseInt((parseInt(h)-parseInt(o))/2));0<=(c="border-box"===this.host.css("box-sizing")?parseInt((parseInt(h-2)-parseInt(o))/2):c)&&(this.dropdownlistContent[0].style.marginTop=c+"px",this.dropdownlistContent[0].style.marginBottom=c+"px"),this.selectionRenderer&&(this.dropdownlistContent[0].style.marginTop="0px",this.dropdownlistContent[0].style.marginBottom="0px"),this.dropdownlistContent&&this.input&&this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&u.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id),"auto"===this.width&&this._arrange()}},_updateInputSelection:function(){if(this.input){var e,i=new Array;if(-1==this.selectedIndex?this.input.val(""):null!=(e=this.getSelectedItem())?(this.input.val(e.value),i.push(e.value)):this.input.val(this.dropdownlistContent.text()),this.checkboxes){var t=this.getCheckedItems(),s="";if(null!=t)for(var r=0;r<t.length;r++){var n=t[r].value;null!=n&&(r==t.length-1?s+=n:s+=n+",",i.push(n))}this.input.val(s)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?u.each(this.field,function(e,t){u(this).removeAttr("selected"),this.selected=0<=i.indexOf(this.value),this.selected&&u(this).attr("selected",!0)}):u.each(this.items,function(e,t){u(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=0<=i.indexOf(this.value),this.selected&&u(this.originalItem.originalItem).attr("data-selected",!0)}))},setContent:function(e){u.jqx.utilities.html(this.dropdownlistContent,e),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(e){this.selectedIndex=-1,this._updateInputSelection(),this.listBox.clearSelection(),this.renderSelection(),this.selectionRenderer||this.hint||this.isMaterialized()||u.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(e,t){isNaN(e)||(this.listBox.unselectIndex(e,t),this.renderSelection())},selectIndex:function(e,t,i,s){this.listBox.selectIndex(e,t,i,s,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},addItem:function(e){return this.listBox.addItem(e)},insertAt:function(e,t){return null!=e&&this.listBox.insertAt(e,t)},removeAt:function(e){e=this.listBox.removeAt(e);return this.renderSelection("mouse"),e},removeItem:function(e){e=this.listBox.removeItem(e);return this.renderSelection("mouse"),e},updateItem:function(e,t){e=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),e},updateAt:function(e,t){e=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),e},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){return this.listBox.disableAt(e)},enableAt:function(e){return this.listBox.enableAt(e)},disableItem:function(e){return this.listBox.disableItem(e)},enableItem:function(e){return this.listBox.enableItem(e)},_findPos:function(e){for(;e&&("hidden"==e.type||1!=e.nodeType||u.expr.filters.hidden(e));)e=e.nextSibling;var t=u(e).coord(!0);return[t.left,t.top]},testOffset:function(e,t,i){var s=e.outerWidth(),e=e.outerHeight(),r=u(window).width()+u(window).scrollLeft(),n=u(window).height()+u(window).scrollTop();return t.left+s>r&&s>this.host.width()&&(r=this.host.coord().left,s=s-this.host.width(),t.left=r-s+2),t.left<0&&(t.left=parseInt(this.host.coord().left)+"px"),t.top-=Math.min(t.top,t.top+e>n&&e<n?Math.abs(e+i+22):0),t},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var e=0,t=0;return"0px"!=u("body").css("border-top-width")&&(e=parseInt(u("body").css("border-top-width")),isNaN(e)&&(e=0)),"0px"!=u("body").css("border-left-width")&&(t=parseInt(u("body").css("border-left-width")),isNaN(t)&&(t=0)),{left:t,top:e}},showListBox:function(){u.jqx.aria(this,"aria-expanded",!0),this.listBox._renderOnDemand&&this.listBoxContainer.jqxListBox({_renderOnDemand:!1}),"auto"!=this.dropDownWidth||null==this.width||!this.width.indexOf||-1==this.width.indexOf("%")&&-1==this.width.indexOf("auto")||this.listBox.host.width()!=this.host.width()&&(n=this.element.offsetWidth,this.listBoxContainer.jqxListBox({width:n}),this.container.width(parseInt(n)+25)),"auto"==this.dropDownWidth&&"0px"===this.host.css("border-left-width")&&(n=this.element.offsetWidth,this.listBoxContainer.jqxListBox({width:n+1}),this.container.width(parseInt(n)+25));var e,t,i=this,s=this.listBoxContainer,r=this.listBox,n=(u(window).scrollTop(),u(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),o=parseInt(Math.round(this.host.coord(!0).left)),a=o+"px";"element"===this.dropDownContainer&&(n=parseInt(this.host.outerHeight())-1+"px",a=0);null!=this.listBox&&(this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),s.stop(),"simple"!==this.renderMode&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),"top"==this.dropDownVerticalAlignment?this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")):this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this.container.css("left",a),this.container.css("top",n),r._arrange(),a=!!0,"right"!=this.dropDownHorizontalAlignment&&!this.rtl||(t=this.container.outerWidth(),e=-2+Math.abs(t-this.host.width()),t>this.host.width()?this.container.css("left",25+parseInt(Math.round(o))-e+"px"):this.container.css("left",25+parseInt(Math.round(o))+e+"px")),"top"==this.dropDownVerticalAlignment&&(t=s.height(),a=!0,s.css("top",23),s.addClass(this.toThemeProperty("jqx-popup-up")),o=parseInt(this.host.outerHeight()),e=parseInt(n)-Math.abs(t+o+23),this.container.css("top",e)),this.enableBrowserBoundsDetection&&(t=this.testOffset(s,{left:parseInt(this.container.css("left")),top:parseInt(n)},parseInt(this.host.outerHeight())),parseInt(this.container.css("top"))!=t.top?(a=!0,s.css("top",23),s.addClass(this.toThemeProperty("jqx-popup-up"))):s.css("top",0),this.container.css("top",t.top),parseInt(this.container.css("left"))!=t.left&&this.container.css("left",t.left)),"none"==this.animationType||"transform"===this.animationType?(this.container.css("display","block"),u.data(document.body,"openedJQXListBoxParent",i),u.data(document.body,"openedJQXListBox"+this.id,s),s.css("margin-top",0),s.css("opacity",1),r._renderItems(),i._raiseEvent("0",r)):(this.container.css("display","block"),i.isanimating=!0,"fade"==this.animationType?(s.css("margin-top",0),s.css("opacity",0),s.animate({opacity:1},this.openDelay,function(){u.data(document.body,"openedJQXListBoxParent",i),u.data(document.body,"openedJQXListBox"+i.id,s),i.ishiding=!1,i.isanimating=!1,r._renderItems(),i._raiseEvent("0",r)})):(s.css("opacity",1),o=s.outerHeight(),a?s.css("margin-top",o):s.css("margin-top",-o),s.animate({"margin-top":0},this.openDelay,function(){u.data(document.body,"openedJQXListBoxParent",i),u.data(document.body,"openedJQXListBox"+i.id,s),i.ishiding=!1,i.isanimating=!1,r._renderItems(),i._raiseEvent("0",r)}))),a?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),s.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),s.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),"simple"!==this.renderMode&&(s.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))),this.element.setAttribute("opened",!0),s.addClass(this.toThemeProperty("jqx-popup-show")))},hideListBox:function(){u.jqx.aria(this,"aria-expanded",!1);var e,t,i=this.listBoxContainer,s=this.listBox,r=this.container,n=this;this.element.removeAttribute("opened"),i.removeClass("jqx-popup-show"),u.data(document.body,"openedJQXListBox"+this.id,null),"none"==this.animationType?this.container.css("display","none"):"transform"===this.animationType?setTimeout(function(){r.css("display","none")},this.closeDelay):n.ishiding||(i.stop(),e=i.outerHeight(),i.css("margin-top",0),n.isanimating=!0,t=-e,parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(t=e),"fade"==this.animationType?(i.css({opacity:1}),i.animate({opacity:0},this.closeDelay,function(){r.css("display","none"),n.isanimating=!1,n.ishiding=!1})):i.animate({"margin-top":t},this.closeDelay,function(){r.css("display","none"),n.isanimating=!1,n.ishiding=!1})),this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),i.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),i.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),i.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1",s)},closeOpenedListBox:function(e){var t=e.data.me,i=u(e.target),s=e.data.listbox;if(null==s)return!0;if(u(e.target).ischildof(e.data.me.host))return!0;if(!t.isOpened())return!0;if(u(e.target).ischildof(t.listBoxContainer))return!0;var r=!1;return u.each(i.parents(),function(){if("undefined"!=this.className&&this.className.indexOf)return-1!=this.className.indexOf("jqx-listbox")?!(r=!0):-1!=this.className.indexOf("jqx-dropdownlist")?(t.element.id==this.id&&(r=!0),!1):void 0}),null!=s&&!r&&t.isOpened()&&t.hideListBox(),!0},clearFilter:function(){this.listBox.clearFilter()},loadFromSelect:function(e){this.listBox.loadFromSelect(e)},refresh:function(e){!0!==e&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var e=this,t=parseInt(e.host.width()),i=parseInt(e.host.height()),s=(e.arrowSize,e.arrowSize),r=t-s-6;0<r&&"auto"!==e.width?e.dropdownlistContent[0].style.width=r+"px":r<=0&&(e.dropdownlistContent[0].style.width="0px"),"auto"===e.width&&(e.dropdownlistContent.css("width","auto"),t=2+e.dropdownlistContent.width()+s+6,e.host.width(t=t<47?47:t)),e.dropdownlistContent[0].style.height=i+"px",e.dropdownlistContent[0].style.left="0px",e.dropdownlistContent[0].style.top="0px",e.dropdownlistArrow[0].style.width=s+"px",e.width&&0<=e.width.toString().indexOf("%")&&(r=100*r/t,e.dropdownlistArrow[0].style.width=100*s/t+"%",e.dropdownlistContent[0].style.width=r+"%"),e.dropdownlistArrow[0].style.height=i+"px",e.rtl&&(e.dropdownlistArrow.css("float","left"),e.dropdownlistContent.css("float","right"))},destroy:function(){u.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(u(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(u(document),u.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.arrow,delete this.dropdownlistContent,delete this.listBox,delete this._firstDiv,this.container.remove(),delete this.container;var e=u.data(this.element,"jqxDropDownList");e&&delete e.instance,this.host.removeData(),this.host.remove(),delete this.comboStructure,delete this.host,delete this.element},_raiseEvent:function(e,t){var i=this.events[e],i=((t=null==t?{owner:null}:t).owner=this,new u.Event(i));return i.owner=this,2!=e&&3!=e&&4!=e&&5!=e&&6!=e&&7!=e&&8!=e&&9!=e||(i.args=t),this.host.trigger(i)},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),"width"==t&&"auto"==e.dropDownWidth&&(i=e.host.width(),e.listBoxContainer.jqxListBox({width:i}),e.container.width(parseInt(i)+25)),e._arrange(),e.close())},propertyChangedHandler:function(e,t,i,s){var r;null==e.isInitialized||0==e.isInitialized||e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("template"==t&&(e.listBoxContainer.removeClass(e.toThemeProperty("jqx-"+i+"-item")),e.listBoxContainer.addClass(e.toThemeProperty("jqx-"+e.template+"-item")),e.host.removeClass(e.toThemeProperty("jqx-"+i)),e.host.addClass(e.toThemeProperty("jqx-"+e.template))),"dropDownVerticalAlignment"==t&&(e.close(),e.arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up")),e.arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down")),"top"==e.dropDownVerticalAlignment?e.arrow.addClass(e.toThemeProperty("jqx-icon-arrow-up")):e.arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down")),e.listBoxContainer.css("top",0),e.listBoxContainer.removeClass(this.toThemeProperty("jqx-popup-up"))),"autoItemsHeight"==t&&e.listBoxContainer.jqxListBox({autoItemsHeight:s}),"filterable"==t&&e.listBoxContainer.jqxListBox({filterable:s}),"filterHeight"==t&&e.listBoxContainer.jqxListBox({filterHeight:s}),"filterPlaceHolder"==t&&e.listBoxContainer.jqxListBox({filterPlaceHolder:s}),"filterDelay"==t&&e.listBoxContainer.jqxListBox({filterDelay:s}),"enableSelection"==t&&e.listBoxContainer.jqxListBox({enableSelection:s}),"enableHover"==t&&e.listBoxContainer.jqxListBox({enableHover:s}),"autoOpen"==t&&e._updateHandlers(),"emptyString"==t&&(e.listBox.emptyString=e.emptyString),"itemHeight"==t&&e.listBoxContainer.jqxListBox({itemHeight:s}),"renderer"==t&&e.listBoxContainer.jqxListBox({renderer:s}),"rtl"==t&&(s?(e.dropdownlistArrow.css("float","left"),e.dropdownlistContent.css("float","right")):(e.dropdownlistArrow.css("float","right"),e.dropdownlistContent.css("float","left")),e.listBoxContainer.jqxListBox({rtl:e.rtl})),"source"==t&&(e.listBoxContainer.jqxListBox({source:e.source}),e.listBox.selectedIndex=-1,e.listBox.selectIndex(this.selectedIndex),e.renderSelection(),null==s&&e.clear()),"displayMember"!=t&&"valueMember"!=t||(e.listBoxContainer.jqxListBox({displayMember:e.displayMember,valueMember:e.valueMember}),e.renderSelection()),"placeHolder"==t&&e.renderSelection(),"theme"==t&&null!=s&&(e.listBoxContainer.jqxListBox({theme:s}),e.listBoxContainer.addClass(e.toThemeProperty("jqx-popup")),u.jqx.utilities.setTheme(i,s,e.host)),"autoDropDownHeight"==t&&(e.listBoxContainer.jqxListBox({autoHeight:e.autoDropDownHeight}),e.autoDropDownHeight?e.container.height(e.listBoxContainer.height()+25):(e.listBoxContainer.jqxListBox({height:e.dropDownHeight}),e.container.height(parseInt(e.dropDownHeight)+25)),e.listBox._arrange(),e.listBox._updatescrollbars()),"searchMode"==t&&e.listBoxContainer.jqxListBox({searchMode:e.searchMode}),"incrementalSearch"==t&&e.listBoxContainer.jqxListBox({incrementalSearch:e.incrementalSearch}),"incrementalSearchDelay"==t&&e.listBoxContainer.jqxListBox({incrementalSearchDelay:e.incrementalSearchDelay}),"dropDownHeight"!=t||e.autoDropDownHeight||(e.listBoxContainer.jqxListBox({height:e.dropDownHeight}),e.container.height(parseInt(e.dropDownHeight)+25)),"dropDownWidth"!=t&&"scrollBarSize"!=t||(r=e.width,"auto"!=e.dropDownWidth&&(r=e.dropDownWidth),e.listBoxContainer.jqxListBox({width:r,scrollBarSize:e.scrollBarSize}),e.container.width(parseInt(r)+25)),"width"!=t&&"height"!=t||s!=i&&(this.refresh(),"width"==t&&"auto"==e.dropDownWidth&&(r=2+e.host.width(),e.listBoxContainer.jqxListBox({width:r}),e.container.width(parseInt(r)+25)),e.close()),"checkboxes"==t&&e.listBoxContainer.jqxListBox({checkboxes:e.checkboxes}),"selectedIndex"==t&&null!=e.listBox&&(e.listBox.selectIndex(parseInt(s)),e.renderSelection()))}})}(jqxBaseFramework),!function(x){x.jqx.jqxWidget("jqxEditor","",{}),x.extend(x.jqx._jqxEditor.prototype,{defineInstance:function(){var e={width:null,height:null,disabled:!1,pasteMode:"html",editable:!0,lineBreak:"default",changeType:null,toolbarPosition:"top",fontFamily:"sans-serif",commands:{bold:{tooltip:"Bold",command:"bold",type:"toggleButton"},italic:{tooltip:"Italic",command:"italic",type:"toggleButton"},underline:{tooltip:"Underline",command:"underline",type:"toggleButton"},format:{placeHolder:"Format Block",tooltip:"Format Block",command:"formatblock",value:[{value:"p",label:"Paragraph"},{value:"h1",label:"Header 1"},{value:"h2",label:"Header 2"},{value:"h3",label:"Header 3"},{value:"h4",label:"Header 4"}],type:"list",width:120,dropDownWidth:190,height:25},font:{placeHolder:"Font",tooltip:"Font Name",command:"fontname",value:[{label:"Arial",value:"Arial, Helvetica, sans-serif"},{label:"Comic Sans MS",value:'"Comic Sans MS", cursive, sans-serif'},{label:"Courier New",value:'"Courier New", Courier, monospace'},{label:"Georgia",value:"Georgia,serif"},{label:"Impact",value:"Impact,Charcoal,sans-serif"},{label:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{label:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{label:"Times New Roman",value:"'Times New Roman',Times,serif"},{label:"Trebuchet MS",value:'"Trebuchet MS",Helvetica,sans-serif'},{label:"Verdana",value:"Verdana,Geneva,sans-serif"}],type:"list",width:160,height:25,dropDownWidth:160},size:{placeHolder:"Size",tooltip:"Font Size",command:"fontsize",value:[{label:"1 (8pt)",value:"xx-small"},{label:"2 (10pt)",value:"x-small"},{label:"3 (12pt)",value:"small"},{label:"4 (14pt)",value:"medium"},{label:"5 (18pt)",value:"large"},{label:"6 (24pt)",value:"x-large"},{label:"7 (36pt)",value:"xx-large"}],type:"list",width:45,height:25,dropDownWidth:160},color:{tooltip:"Text Color",command:"forecolor",value:"#000",type:"colorPicker"},background:{tooltip:"Fill Color",command:"backcolor",value:"#fff",type:"colorPicker"},left:{tooltip:"Align Left",command:"justifyleft",type:"toggleButton"},center:{tooltip:"Align Center",command:"justifycenter",type:"toggleButton"},right:{tooltip:"Align Right",command:"justifyright",type:"toggleButton"},outdent:{tooltip:"Indent Less",command:"outdent",type:"button"},indent:{tooltip:"Indent More",command:"indent",type:"button"},ul:{tooltip:"Insert unordered list",command:"insertunorderedlist",type:"toggleButton"},ol:{tooltip:"Insert ordered list",command:"insertorderedlist",type:"toggleButton"},image:{tooltip:"Insert image",command:"insertimage",type:"button"},link:{tooltip:"Insert link",command:"createlink",type:"toggleButton"},html:{tooltip:"View source",command:"viewsource",type:"toggleButton"},clean:{tooltip:"Remove Formatting",command:"removeformat",type:"button"}},createCommand:null,defaultLocalization:{bold:"Bold",italic:"Italic",underline:"Underline",format:"Format Block",font:"Font Name",size:"Font Size",color:"Text Color",background:"Fill Color",left:"Align Left",center:"Align Center",right:"Align Right",outdent:"Indent Less",indent:"Indent More",ul:"Insert unordered list",ol:"Insert ordered list",image:"Insert image",link:"Insert link",html:"View source",clean:"Remove Formatting",Remove:"Remove",Ok:"Ok",Cancel:"Cancel",Change:"Change","Go to link":"Go to link","Open in a new window/tab":"Open in a new window/tab",Align:"Align",VSpace:"VSpace",HSpace:"HSpace",Width:"Width",Height:"Height",Title:"Title",URL:"URL","Insert Image":"Insert Image","Insert Link":"Insert Link","Alt Text":"Alt Text","not set":"&ltnot set&gt",Left:"Left",Right:"Right",Paragraph:"Paragraph",Header:"Header",Arial:"Arial","Comic Sans MS":"Comic Sans MS","Courier New":"Courier New",Georgia:"Georgia",Impact:"Impact","Lucida Console":"Lucida Console",Tahoma:"Tahoma","Times New Roman":"Times New Roman","Trebuchet MS":"Trebuchet MS",Verdana:"Verdana"},localization:null,tools:"bold italic underline | format font size | color background | left center right | outdent indent | ul ol | image | link | clean | html",readOnly:!1,stylesheets:new Array,rtl:!1,colorPickerTemplate:'<div class="jqx-editor-color-picker"><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (0, 0, 0)"><div title="RGB (0, 0, 0)" style="background-color: rgb(0, 0, 0);"></div></td><td aria-label="RGB (68, 68, 68)"><div title="RGB (68, 68, 68)" style="background-color: rgb(68, 68, 68);"></div></td><td aria-label="RGB (102, 102, 102)"><div title="RGB (102, 102, 102)" style="background-color: rgb(102, 102, 102);"></div></td><td aria-label="RGB (153, 153, 153)"><div title="RGB (153, 153, 153)" style="background-color: rgb(153, 153, 153);"></div></td><td aria-label="RGB (204, 204, 204)"><div title="RGB (204, 204, 204)" style="background-color: rgb(204, 204, 204);"></div></td><td aria-label="RGB (238, 238, 238)"><div title="RGB (238, 238, 238)" style="background-color: rgb(238, 238, 238);"></div></td><td aria-label="RGB (243, 243, 243)"><div title="RGB (243, 243, 243)" style="background-color: rgb(243, 243, 243);"></div></td><td aria-label="RGB (255, 255, 255)"><div title="RGB (255, 255, 255)" style="background-color: rgb(255, 255, 255);"></div></td></tr></tbody></table></div><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (255, 0, 0)"><div title="RGB (255, 0, 0)" style="background-color: rgb(255, 0, 0);"></div></td><td aria-label="RGB (255, 153, 0)"><div title="RGB (255, 153, 0)" style="background-color: rgb(255, 153, 0);"></div></td><td aria-label="RGB (255, 255, 0)"><div title="RGB (255, 255, 0)" style="background-color: rgb(255, 255, 0);"></div></td><td aria-label="RGB (0, 255, 0)"><div title="RGB (0, 255, 0)" style="background-color: rgb(0, 255, 0);"></div></td><td aria-label="RGB (0, 255, 255)"><div title="RGB (0, 255, 255)" style="background-color: rgb(0, 255, 255);"></div></td><td aria-label="RGB (0, 0, 255)"><div title="RGB (0, 0, 255)" style="background-color: rgb(0, 0, 255);"></div></td><td aria-label="RGB (153, 0, 255)"><div title="RGB (153, 0, 255)" style="background-color: rgb(153, 0, 255);"></div></td><td aria-label="RGB (255, 0, 255)"><div title="RGB (255, 0, 255)" style="background-color: rgb(255, 0, 255);"></div></td></tr></tbody></table></div><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (244, 204, 204)"><div title="RGB (244, 204, 204)" style="background-color: rgb(244, 204, 204);"></div></td><td aria-label="RGB (252, 229, 205)"><div title="RGB (252, 229, 205)" style="background-color: rgb(252, 229, 205);"></div></td><td aria-label="RGB (255, 242, 204)"><div title="RGB (255, 242, 204)" style="background-color: rgb(255, 242, 204);"></div></td><td aria-label="RGB (217, 234, 211)"><div title="RGB (217, 234, 211)" style="background-color: rgb(217, 234, 211);"></div></td><td aria-label="RGB (208, 224, 227)"><div title="RGB (208, 224, 227)" style="background-color: rgb(208, 224, 227);"></div></td><td aria-label="RGB (207, 226, 243)"><div title="RGB (207, 226, 243)" style="background-color: rgb(207, 226, 243);"></div></td><td aria-label="RGB (217, 210, 233)"><div title="RGB (217, 210, 233)" style="background-color: rgb(217, 210, 233);"></div></td><td aria-label="RGB (234, 209, 220)"><div title="RGB (234, 209, 220)" style="background-color: rgb(234, 209, 220);"></div></td></tr><tr><td id="T-Kw-Jn88" aria-label="RGB (234, 153, 153)"><div title="RGB (234, 153, 153)" style="background-color: rgb(234, 153, 153);"></div></td><td aria-label="RGB (249, 203, 156)"><div title="RGB (249, 203, 156)" style="background-color: rgb(249, 203, 156);"></div></td><td aria-label="RGB (255, 229, 153)"><div title="RGB (255, 229, 153)" style="background-color: rgb(255, 229, 153);"></div></td><td aria-label="RGB (182, 215, 168)"><div title="RGB (182, 215, 168)" style="background-color: rgb(182, 215, 168);"></div></td><td aria-label="RGB (162, 196, 201)"><div title="RGB (162, 196, 201)" style="background-color: rgb(162, 196, 201);"></div></td><td aria-label="RGB (159, 197, 232)"><div title="RGB (159, 197, 232)" style="background-color: rgb(159, 197, 232);"></div></td><td aria-label="RGB (180, 167, 214)"><div title="RGB (180, 167, 214)" style="background-color: rgb(180, 167, 214);"></div></td><td aria-label="RGB (213, 166, 189)"><div title="RGB (213, 166, 189)" style="background-color: rgb(213, 166, 189);"></div></td></tr><tr><td aria-label="RGB (224, 102, 102)"><div title="RGB (224, 102, 102)" style="background-color: rgb(224, 102, 102);"></div></td><td aria-label="RGB (246, 178, 107)"><div title="RGB (246, 178, 107)" style="background-color: rgb(246, 178, 107);"></div></td><td aria-label="RGB (255, 217, 102)"><div title="RGB (255, 217, 102)" style="background-color: rgb(255, 217, 102);"></div></td><td aria-label="RGB (147, 196, 125)"><div title="RGB (147, 196, 125)" style="background-color: rgb(147, 196, 125);"></div></td><td aria-label="RGB (118, 165, 175)"><div title="RGB (118, 165, 175)" style="background-color: rgb(118, 165, 175);"></div></td><td aria-label="RGB (111, 168, 220)"><div title="RGB (111, 168, 220)" style="background-color: rgb(111, 168, 220);"></div></td><td aria-label="RGB (142, 124, 195)"><div title="RGB (142, 124, 195)" style="background-color: rgb(142, 124, 195);"></div></td><td aria-label="RGB (194, 123, 160)"><div title="RGB (194, 123, 160)" style="background-color: rgb(194, 123, 160);"></div></td></tr><tr><td id="T-Kw-Jn104" aria-label="RGB (204, 0, 0)"><div title="RGB (204, 0, 0)" style="background-color: rgb(204, 0, 0);"></div></td><td aria-label="RGB (230, 145, 56)"><div title="RGB (230, 145, 56)" style="background-color: rgb(230, 145, 56);"></div></td><td aria-label="RGB (241, 194, 50)"><div title="RGB (241, 194, 50)" style="background-color: rgb(241, 194, 50);"></div></td><td aria-label="RGB (106, 168, 79)"><div title="RGB (106, 168, 79)" style="background-color: rgb(106, 168, 79);"></div></td><td aria-label="RGB (69, 129, 142)"><div title="RGB (69, 129, 142)" style="background-color: rgb(69, 129, 142);"></div></td><td aria-label="RGB (61, 133, 198)"><div title="RGB (61, 133, 198)" style="background-color: rgb(61, 133, 198);"></div></td><td aria-label="RGB (103, 78, 167)"><div title="RGB (103, 78, 167)" style="background-color: rgb(103, 78, 167);"></div></td><td aria-label="RGB (166, 77, 121)"><div title="RGB (166, 77, 121)" style="background-color: rgb(166, 77, 121);"></div></td></tr><tr><td aria-label="RGB (153, 0, 0)"><div title="RGB (153, 0, 0)" style="background-color: rgb(153, 0, 0);"></div></td><td aria-label="RGB (180, 95, 6)"><div title="RGB (180, 95, 6)" style="background-color: rgb(180, 95, 6);"></div></td><td aria-label="RGB (191, 144, 0)"><div title="RGB (191, 144, 0)" style="background-color: rgb(191, 144, 0);"></div></td><td aria-label="RGB (56, 118, 29)"><div title="RGB (56, 118, 29)" style="background-color: rgb(56, 118, 29);"></div></td><td aria-label="RGB (19, 79, 92)"><div title="RGB (19, 79, 92)" style="background-color: rgb(19, 79, 92);"></div></td><td aria-label="RGB (11, 83, 148)"><div title="RGB (11, 83, 148)" style="background-color: rgb(11, 83, 148);"></div></td><td aria-label="RGB (53, 28, 117)"><div title="RGB (53, 28, 117)" style="background-color: rgb(53, 28, 117);"></div></td><td aria-label="RGB (116, 27, 71)"><div title="RGB (116, 27, 71)" style="background-color: rgb(116, 27, 71);"></div></td></tr><tr><td aria-label="RGB (102, 0, 0)"><div title="RGB (102, 0, 0)" style="background-color: rgb(102, 0, 0);"></div></td><td aria-label="RGB (120, 63, 4)"><div title="RGB (120, 63, 4)" style="background-color: rgb(120, 63, 4);"></div></td><td aria-label="RGB (127, 96, 0)"><div title="RGB (127, 96, 0)" style="background-color: rgb(127, 96, 0);"></div></td><td aria-label="RGB (39, 78, 19)"><div title="RGB (39, 78, 19)" style="background-color: rgb(39, 78, 19);"></div></td><td aria-label="RGB (12, 52, 61)"><div title="RGB (12, 52, 61)" style="background-color: rgb(12, 52, 61);"></div></td><td aria-label="RGB (7, 55, 99)"><div title="RGB (7, 55, 99)" style="background-color: rgb(7, 55, 99);"></div></td><td aria-label="RGB (32, 18, 77)"><div title="RGB (32, 18, 77)" style="background-color: rgb(32, 18, 77);"></div></td><td aria-label="RGB (76, 17, 48)"><div title="RGB (76, 17, 48)" style="background-color: rgb(76, 17, 48);"></div></td></tr></tbody></table></div></div>',touchMode:!1,keyPressed:null,events:["change"]};return this===x.jqx._jqxEditor.prototype||(x.extend(!0,this,e),this.localization=this.defaultLocalization),e},createInstance:function(e){var r=this,t=(r.textArea=r.host,r.host.attr("contenteditable"));if(r.host.addClass(r.toThemeProperty("jqx-widget")),1==t||"true"==t){r.inline=!0,r.widget=r.host,r.editorDocument=document,r.selection=new l(r.editorDocument);t=x("<div class='jqx-editor-toolbar-container' unselectable='on' aria-label='Formatting options' role='toolbar'><div class='jqx-editor-toolbar'></div>");t.insertBefore(r.host),r.toolbarContainer=t,r.toolbar=t.find(".jqx-editor-toolbar"),r.editor=r.host,r.contentEditableElement=r.element}else{var n=x("<div class='jqx-editor'><div class='jqx-editor-container'><div class='jqx-editor-toolbar-container' aria-label='Formatting options' role='toolbar'><div class='jqx-editor-toolbar'></div></div><div class='jqx-editor-content'><iframe  src='javascript:\"<html></html>\"' allowtransparency='true' frameborder='0'></iframe></div></div></div>");r.widget=n,r.widget[0].className=r.widget[0].className+" "+r.element.className;try{r.widget[0].style=r.element.style}catch(e){}var o=x.trim(r.host.html())+"&#8203;",a=("default"==r.lineBreak||"div"==r.lineBreak?o="<div>"+o+"</div>":"p"==r.lineBreak&&(o="<p>"+o+"</p>"),o=(o=o.replace(/&lt;/gi,"<")).replace(/&gt;/gi,">"),r.host.css("display","none"),r.host.after(n),n.find("iframe").after(r.host),r.container=n.find(".jqx-editor-container"),r.toolbarContainer=n.find(".jqx-editor-toolbar-container"),r.toolbar=n.find(".jqx-editor-toolbar"),r.iframe=n.find("iframe"),r.content=n.find(".jqx-editor-content"),function(){r.editorDocument=r.iframe[0].contentWindow.document,r.selection=new l(r.editorDocument);var e,t=0,i=(r.addHandler(r.iframe,"load",function(){1<++t&&(r.iframe.off("load"),r.content.find("iframe").remove(),x("<iframe  src='javascript:\"<html></html>\"' allowtransparency='true' frameborder='0'></iframe>").appendTo(r.content),r.iframe=n.find("iframe"),a())}),x.jqx.browser.mozilla||(r.editorDocument.designMode="On"),r.editorDocument.open(),r.rtl?"direction:rtl;":""),s=x.jqx.browser.msie?"::selection{color: #fff; background: #328EFD;};::-moz-selection{color: #fff; background: #328eD;};::selection:window-inactive {background: #c7c7c7; color: #000;}::-moz-selection:window-inactive {background: #c7c7c7; color: #000;}html{font-size:13px; height:100%;}body{padding-top:1px;margin-top:-1px; padding-right: 1px; overflow-x: hidden;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;":"";r.editorDocument.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0; margin:0; font-size: 13px; font-family: "+r.fontFamily+"; background:#fff; min-height:100%; "+i+"}"+s+"}h1{font-size:2em;margin:.67em 0}h2{font-size: 1.5em; margin: .75em 0}h3{font-size: 1.17em; margin: .83em 0}h4{font-size:1em; margin: 1.12em 0 }h5{font-size: .83em; margin: 1.5em 0}h6{font-size: .75em; margin: 1.67em 0}p{margin: 0px;padding:0 .2em}ul,ol{padding-left:2.5em}a{color:#00a}code{font-size:1.23em}.jqx-editor-paste-element {position: absolute; left: -1000px; height: 1px; overflow: hidden; top: -1000px;}.jqx-editor-focus {border: 1px solid #aaa !important;}</style>"+x.map(r.stylesheets,function(e){return"<link rel='stylesheet' href='"+e+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>"),r.contentEditableElement=r.editorDocument.body,r.host.is("textarea")?(r._textArea=r.element,(e=r.host.data()).jqxEditor.host=n,e.jqxEditor.element=n[0],r.element=n[0],n[0].id=r._textArea.id,r._textArea.id=r._textArea.id+"TextArea",x(r.element).addClass(r.toThemeProperty("jqx-widget"))):((e=r.host.data()).jqxEditor.host=n,e.jqxEditor.element=n[0],r.element=n[0]),r.host=x(r.element),r.host.data(e);try{r.editorDocument.execCommand("useCSS",!1,!1),r.editorDocument.execCommand("enableInlineTableEditing",null,!1)}catch(e){}try{r.editorDocument.execCommand("styleWithCSS",0,!0)}catch(e){}r.editorDocument.close(),r.editor=x(r.editorDocument.body),r.editor.html(o).attr("spellcheck",!1).attr("autocorrect","off")});a(),x.jqx.utilities.resize(r.host,function(){r.widget.css("width",r.width),r.widget.css("height",r.height),r._arrange()})}},focus:function(){var e=this,t=(!x.jqx.browser.mozilla||e.focused||(e.iframe&&e.iframe.focus(),e.selection.selectNode(e.editor[0].firstChild,!0),e.selection.getRange().collapse(!0)),e.editor.focus(),null!=e.range?e.range:e.getRange());e.selectRange(t)},print:function(){var e=window.open("","_blank","width=450,height=470,left=400,top=100,menubar=yes,toolbar=no,location=no,scrollbars=yes");e.document.open(),e.document.write('<!doctype html><html><head><title>Print</title></head><body onload="print();">'+this.val()+"</body></html>"),e.document.close()},refresh:function(e){var v=this,t=(x.each(this.defaultLocalization,function(e,t){v.localization[e]||(v.localization[e]=t)}),v._removeHandlers(),v.toolbar.addClass(v.toThemeProperty("jqx-widget-header")),v.content?(v.widget.css("width",v.width),v.widget.css("height",v.height),v.widget.addClass(v.toThemeProperty("jqx-editor")),v.widget.addClass(v.toThemeProperty("jqx-widget")),v.widget.addClass(v.toThemeProperty("jqx-rc-all")),v.widget.addClass(v.toThemeProperty("jqx-widget-header")),v.content.addClass(v.toThemeProperty("jqx-widget-content")),v.container.addClass(v.toThemeProperty("jqx-editor-container"))):(v.toolbarContainer.addClass(v.toThemeProperty("jqx-widget-header")),v.toolbarContainer.addClass(v.toThemeProperty("jqx-editor-toolbar-inline")),v.toolbarContainer.addClass(v.toThemeProperty("jqx-widget")),v.toolbarContainer.addClass(v.toThemeProperty("jqx-rc-all")),v.toolbarContainer.hide(),v.toolbarContainer.css("position","absolute"),v.editor.addClass(v.toThemeProperty("jqx-editor-inline")),v.toolbarContainer.css("width",v.host.outerWidth()+"px")),v.toolbarContainer.index()),t=(("top"==v.toolbarPosition&&0!=t||"bottom"==v.toolbarPosition&&1!=t)&&("bottom"===v.toolbarPosition?v.toolbarContainer.insertAfter(v.content):v.toolbarContainer.insertBefore(v.content)),v.tools);if(!1!==t){function i(g,f){x.each(f,function(e,t){var i,l=v.commands[this];if(l)v.createCommand&&(i=v.createCommand(this.toString()),l=x.extend(l,i));else{if(!v.createCommand)return!0;if(!(l=v.createCommand(this.toString())))return!0;v.commands[this]||(v.commands[this]=l)}switch(v.localization[this]&&(l.tooltip=v.localization[this]),l.type){case"list":l.widget&&l.widget.jqxDropDownList("destroy");var s="formatblock"==l.command||"fontname"==l.command||"fontsize"==l.command,r=l.value||[],n=new Array,o=l.placeHolder||"Please Choose:",r=("fontname"==l.command?x.each(r,function(){var e=v.localization[this.label];n.push({label:e,value:this.value})}):"formatblock"==l.command?(o=v.localization.format,x.each(r,function(){var e;e=0<=this.label.indexOf("Header")?this.label.replace("Header",v.localization.Header):v.localization[this.label],n.push({label:e,value:this.value})})):n=r,{enableBrowserBoundsDetection:!0,touchMode:v.touchMode,width:l.width||100,height:l.height||25,dropDownWidth:l.dropDownWidth||"auto",autoDropDownHeight:(l.value&&l.value.length)<12,placeHolder:o,source:n,theme:v.theme,hint:!1,keyboardSelection:!1,focusable:!1,disabled:v.disabled,rtl:v.rtl,selectionRenderer:"fontsize"==l.command?function(){return"<div unselectable='on' style='margin-top: 0px; padding:0px;' class='"+(v.toThemeProperty("jqx-editor-toolbar-icon")+" "+v.toThemeProperty("jqx-editor-toolbar-icon-"+l.command))+"'></div>"}:null,renderer:s?function(e,t,i){return"formatblock"==l.command?"<"+i+' unselectable="on" style="padding: 0px; margin: 0px;">'+t+"</"+i+">":"fontname"==l.command?'<span unselectable="on" style="font-family: '+i+';">'+t+"<span>":"fontsize"==l.command?'<span unselectable="on" style="font-size: '+i+';">'+t+"<span>":void 0}:null}),o="jqx-disableselect "+v.toThemeProperty("jqx-editor-dropdownlist")+" "+v.toThemeProperty("jqx-editor-toolbar-item"),t=((m=x("<div unselectable='on' class='"+o+"'></div>")).appendTo(g),m.jqxDropDownList(r),l.init&&l.init(m),null),a=null,d="";v.addHandler(m,"mousedown",function(e){var t;0<x(".jqx-editor-dropdownpicker").length&&x(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),0<x(".jqx-editor-dropdownlist").length&&(t=x(".jqx-editor-dropdownlist"),x.each(t,function(e,t){t!=m[0]&&x(t).jqxDropDownList("close")}))}),v.addHandler(m,"open",function(e){v.focused||v.focus(),v.updating=!0,v.activeElement=m,t=m.val(),d=""}),v.addHandler(m,"change",function(e){v.updating=!1,v.activeElement=null,a=m.val(),d=e.args.type,x.jqx.browser.msie&&x.jqx.browser.version<9&&v.focus()}),v.addHandler(m,"close",function(e){v.updating=!1,v.activeElement=null,t==a||"mouse"!=d&&"keyboard"!=d||v._refreshTools()}),v._addCommandHandler(m,"change",l.command,null,l);break;case"colorPicker":l.widget&&(x(l.colorPicker).remove(),l.widget.jqxDropDownButton("destroy"));var h=x('<div unselectable="on" style="padding-top: 4px;"></div>').attr("id","picker-"+l.command),o="jqx-disableselect "+v.toThemeProperty("jqx-editor-dropdownpicker")+" "+v.toThemeProperty("jqx-editor-toolbar-item"),s=((m=x("<div unselectable='on' class='"+o+"'></div>")).appendTo(g),m.append(h),m.jqxDropDownButton({hint:!1,touchMode:v.touchMode,disabled:v.disabled,enableBrowserBoundsDetection:!0,width:l.width||45,height:l.height||25,rtl:v.rtl,focusable:!1,theme:v.theme}),x('<div unselectable="on" style="z-index: 55;">')),c=v.toThemeProperty("jqx-editor-toolbar-icon")+" "+v.toThemeProperty("jqx-editor-toolbar-icon-"+l.command),u=x("<div unselectable='on' class='"+c+"'></div>"),r=(s.append(u),x('<div unselectable="on" class="jqx-editor-color-bar">').attr("id","bar-"+l.command).css("background-color",l.value)),p=(s.append(r),m.jqxDropDownButton("setContent",s),h.append(x(v.colorPickerTemplate)),l.colorPicker=h,l.init&&l.init(m),h.find("tr").attr("role","row").attr("unselectable","on"),h.find("td").attr("role","gridcell").attr("unselectable","on").css("-webkit-user-select","none"),h.find("div").attr("unselectable","on"),v.addHandler(m,"mousedown",function(e){var t;0<x(".jqx-editor-dropdownlist").length&&x(".jqx-editor-dropdownlist").jqxDropDownList("close"),0<x(".jqx-editor-dropdownpicker").length&&(t=x(".jqx-editor-dropdownpicker"),x.each(t,function(e,t){t!=m[0]&&x(t).jqxDropDownButton("close")}))}),v.addHandler(m,"open",function(){v.focused||v.focus(),v.updating=!0,v.activeElement=h}),v.addHandler(m,"close",function(e){v.updating=!1,v.activeElement=null,t==a||"mouse"!=d&&"keyboard"!=d||v._refreshTools()}),v.addHandler(h,"keydown",function(e){var e=e.keyCode,t=x(h).find(".jqx-editor-color-picker-selected-cell"),i=h.find("tr"),s=i.length,r=t.parent().children().length,n=t.index(),o=-999,a=t.parent();switch(x.each(i,function(e,t){if(this==a[0])return o=e,!1}),e){case 27:m.jqxDropDownButton("close");break;case 13:x(t).trigger("mousedown");break;case 38:o--;break;case 40:o++;break;case 39:n++;break;case 37:n--}0<=o&&o<=s&&0<=n&&n<=r&&(a=h.find("tr")[o],i=x(a).children()[n],e=x(i).children().css("background-color"),l.val(e))}),x(h).find("td"));l.val=function(e){var t=v._rgbToHex(e);x.each(p,function(){var e=x(this).children().css("background-color");if(v._rgbToHex(e)==t)return p.removeClass("jqx-editor-color-picker-selected-cell"),x(this).addClass("jqx-editor-color-picker-selected-cell"),x("#bar-"+l.command).css("background",e),!1})},l.val(l.value),v._addCommandHandler(p,"mousedown",l.command,null,l);break;default:l.widget&&("button"==l.type?l.widget.jqxButton("destroy"):l.widget.jqxToggleButton("destroy"));var o=l.command,r=l.action,c=v.toThemeProperty("jqx-editor-toolbar-icon")+" "+v.toThemeProperty("jqx-editor-toolbar-icon-"+o),u=x("<div unselectable='on' class='"+c+"'></div>"),m=x("<div unselectable='on'></div>").addClass("jqx-disableselect").addClass(v.toThemeProperty("jqx-editor-toolbar-button"));(!l.init||o)&&m.append(u),m.appendTo(g),"button"==l.type?m.jqxButton({disabled:v.disabled,rtl:v.rtl,theme:v.theme}):"toggleButton"==l.type&&m.jqxToggleButton({disabled:v.disabled,rtl:v.rtl,uiToggle:!1,theme:v.theme}),l.init&&l.init(m),l.toggled=!1,l.toggle=function(){l.toggled=!l.toggled},v.addHandler(m,"mousedown",function(e){return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1}),x.jqx.mobile.isTouchDevice()?v._addCommandHandler(m,"mousedown",o,r,l):v._addCommandHandler(m,"click",o,r,l)}if(l.widget=m){try{""!=l.tooltip&&(l.widget.attr("title",l.tooltip),l.widget.attr("data-tooltip",l.tooltip)),l.command&&l.widget.attr("data-command",l.command),l.widget.attr("aria-label",l.tooltip)}catch(e){}"button"!=l.type&&"toggleButton"!=l.type||(2<f.length&&(0==e?(m.css("border-right-radius","0px"),m.addClass(v.toThemeProperty("jqx-rc-l"))):e==f.length-1&&(m.css("border-left-radius","0px"),m.addClass(v.toThemeProperty("jqx-rc-r"))),m.removeClass(v.toThemeProperty("jqx-rc-all"))),0!=e&&e!=f.length-1&&2<f.length?(m.css("border-left-radius","0px"),m.css("border-right-radius","0px"),m.removeClass(v.toThemeProperty("jqx-rc-all"))):2==f.length?(0==e?(m.css("border-right-radius","0px"),m.addClass(v.toThemeProperty("jqx-rc-l"))):(m.css("border-left-radius","0px"),m.addClass(v.toThemeProperty("jqx-rc-r"))),m.removeClass(v.toThemeProperty("jqx-rc-all"))):1==f.length&&m.css("margin-right","0px"))}})}var s=t.split(" "),r=t.split(" | ");if(v.toolbar.css("direction",this.rtl?"rtl":"ltr"),0==r.length)i(v.toolbar,s);else{for(var n=0;n<r.length;n++){var s=r[n].split(" "),o=v.toThemeProperty("jqx-editor-toolbar-group")+" "+v.toThemeProperty("jqx-fill-state-normal"),o=x("<div class='"+o+"'></div>");o.addClass(v.toThemeProperty("jqx-rc-all")),v.toolbar.append(o),i(o,s)}for(var a=v.toolbar.find(".jqx-editor-toolbar-group"),l=a.length,n=0;n<l;n++)0==x(a[n]).children().length&&x(a[n]).remove()}x.jqx.browser.msie&&x.jqx.browser.version<8&&(x(".jqx-editor-toolbar-group").css("float","left"),x(".jqx-editor-toolbar-group").children().css("float","left"),x(".jqx-editor-toolbar-group").css("zoom","1"),x(".jqx-editor-toolbar-group").children().css("zoom","1"))}v._arrange(),v._addHandlers()},_arrange:function(){var e=this;e.content&&(""==e.tools||0==e.tools?(e.content.height(e.container.outerHeight()-parseInt(e.container.css("padding-top"))-parseInt(e.container.css("padding-bottom"))-6),e.content.css("margin-top","4px"),e.toolbar.hide()):(e.toolbar.show(),e.content.css("margin-top","0px"),e.content.height(e.container.outerHeight()-e.toolbar.outerHeight()-parseInt(e.container.css("padding-top"))-parseInt(e.container.css("padding-bottom"))-2),"top"!=e.toolbarPosition&&(e.content.css("margin-top","4px"),e.content.css("margin-bottom","0px"))),x.jqx.browser.msie&&x.jqx.browser.version<8&&(e.content.css("margin-top","4px"),e.content.height(e.container.height()-e.toolbar.outerHeight()-2*parseInt(e.container.css("padding-bottom"))-10),e.content.width(e.container.width()-2*parseInt(e.container.css("padding-left"))-2)),e.editor.height()<e.content.height()&&e.editor.height(e.content.height()))},propertyChangedHandler:function(e,t,i,s){null!=e.isInitialized&&0!=e.isInitialized&&"pasteMode"!=t&&"lineBreak"!=t&&"editable"!=t&&("disabled"==t&&e._refreshTools(),"width"==t||"height"==t||"toolbarPosition"==t?e._arrange():("theme"==t&&x.jqx.utilities.setTheme(i,s,e.host),e.refresh()))},selectRange:function(e){e=e||this.getRange(),this.selection.selectRange(e)},getRange:function(){return this.selection.getRange()},getSelectedElement:function(){var e,t,i,s,r;try{if(this.editorDocument.getSelection)return i=(t=(e=this.editorDocument.getSelection()).getRangeAt(e.rangeCount-1)).startContainer,s=t.endContainer,r=t.commonAncestorContainer,"#text"==i.nodeName&&(r=r.parentNode),(i="body"==(i="#text"==i.nodeName?i.parentNode:i).nodeName.toLowerCase()?i.firstChild:i)==(s="body"==(s="#text"==s.nodeName?s.parentNode:s).nodeName.toLowerCase()?s.lastChild:s)&&(r=i),s;if(this.editorDocument.selection){if(!(t=this.editorDocument.selection.createRange()).duplicate)return null;r=t.parentElement();var n=t.duplicate(),o=t.duplicate();return n.collapse(!0),o.moveToElementText(n.parentElement()),o.setEndPoint("EndToStart",n),i=n.parentElement(),n=t.duplicate(),(o=t.duplicate()).collapse(!1),n.moveToElementText(o.parentElement()),n.setEndPoint("StartToEnd",o),s=o.parentElement(),(i="body"==i.nodeName.toLowerCase()?i.firstChild:i)==(s="body"==s.nodeName.toLowerCase()?s.lastChild:s)&&(r=i),s}}catch(e){return null}return null},_addHandlers:function(){function t(){l._textArea&&!l.updating&&(l._textArea.value=l.val()),l.changed&&(l._raiseEvent("change"),l.changed=!1),l.focused=!1,l.inline&&(l.host.removeClass(l.toThemeProperty("jqx-fill-state-focus")),l.host.removeClass(l.toThemeProperty("jqx-editor-inline-focus")),""!=l.tools&&null!=l.tools&&l.toolbarContainer.fadeOut("fast"))}function a(){var e;l.focused=!0,l.inline&&(l.host.addClass(l.toThemeProperty("jqx-fill-state-focus")),l.host.addClass(l.toThemeProperty("jqx-editor-inline-focus")),l.host.addClass(l.toThemeProperty("jqx-rc-all")),""!=l.tools&&null!=l.tools&&(l.toolbarContainer.fadeIn("fast"),e=l.host.coord(),"bottom"!=l.toolbarPosition?l.toolbarContainer.offset({left:e.left,top:e.top-l.toolbarContainer.outerHeight()-5}):l.toolbarContainer.offset({left:e.left,top:e.top+5+l.host.height()})))}var l=this;l.addHandler(l.toolbar,"mousedown.editor"+l.element.id,function(e){return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1});x.jqx.browser.mozilla&&this.addHandler(x(document),"mousedown.editor"+l.element.id,function(e){t()}),l.addHandler(l.editor,"blur.editor"+l.element.id,function(e){t()}),l.addHandler(l.editor,"focus.editor"+l.element.id,function(e){a()}),l.addHandler(l.editor,"beforedeactivate.editor"+l.element.id,function(e){l.range=l.getRange()}),l.addHandler(l.editor,"mousedown.editor"+l.element.id,function(e){e.target.href||l.linkPopup&&l.linkPopup.remove(),l.range=l.getRange(),x.jqx.browser.mozilla&&(a(),e.stopPropagation()),0<x(".jqx-editor-dropdownpicker").length&&x(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),0<x(".jqx-editor-dropdownlist").length&&x(".jqx-editor-dropdownlist").jqxDropDownList("close"),l.inline&&l.editor.focus()}),x.jqx.mobile.isTouchDevice()&&(l.addHandler(x(l.editorDocument),"selectionchange.editor"+l.element.id,function(){l.editorDocument.activeElement!=l.editor[0]&&setTimeout(function(){l.iframe&&l.iframe[0].contentWindow.focus()},500)}),l.addHandler(x(l.editorDocument),"touchstart.editor"+l.element.id,function(){setTimeout(function(){l.iframe&&l.iframe[0].contentWindow.focus()},500)})),l.addHandler(l.editor,"mouseup.editor"+l.element.id,function(e){if("source"==l._documentMode)return!0;l.range=l.getRange(),l._refreshTools(null,!0)}),l.addHandler(l.editor,"keydown.editor"+l.element.id,function(e){if(l.keyPressed&&l.keyPressed(e),"source"==l._documentMode)return!0;if(!x.jqx.browser.mozilla||l.focused||a(),l.changeType="keyboard",l.disabled)return e.preventDefault&&e.preventDefault(),!1;if(l.updating)return l.activeElement&&(i=x.Event("keydown"),x.extend(i,e),l.activeElement.trigger(i)),e.preventDefault&&e.preventDefault(),!1;var t=e||window.event,i=t.keyCode,s=String.fromCharCode(i).toLowerCase();if(l.editable||(-1!=x.inArray(t.keyCode,[9,33,34,35,36,37,38,39,40,40,45])||t.ctrlKey&&"c"==s||t.ctrlKey&&"a"==s||e.preventDefault()),!(0<l.selection.getText().length||l.linkPopup)||-1==!x.inArray(t.keyCode,[8,9,13,33,34,35,36,37,38,39,40,40,45,46])&&(65!=t.keyCode||!t.ctrlKey||t.altKey||t.shiftKey)||(l._refreshToolsTimer&&clearTimeout(l._refreshToolsTimer),l._refreshToolsTimer=setTimeout(function(){l._refreshTools(null,!0,t.keyCode)},10)),13==i&&"default"!=l.lineBreak){var r,i=l.getSelectedElement();if(i){switch(i.nodeName.toLowerCase()){case"pre":case"li":case"ul":case"ol":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return!0}for(var n=i;null!=n;){if("#document"==n.nodeName){n=l.editorDocument.body;break}if(n.parentNode==l.editorDocument.body||n==l.editorDocument.body)break;n=n.parentNode}}if(n)return i=l.getRange(),"<div></div>"==l.editorDocument.body.innerHTML&&"br"!=l.lineBreak&&l.selection.insertContent("&#8203;"),"div"==l.lineBreak?n==l.editorDocument.body?x(n).append("<div>&#8203;</div><span id='INSERTION_MARKER'>&nbsp;</span>"):x("<div>&#8203;</div><span id='INSERTION_MARKER'>&nbsp;</span>").insertAfter(n):"p"==l.lineBreak?n==l.editorDocument.body?x(n).append("<p>&#8203;</p><span id='INSERTION_MARKER'>&nbsp;</span>"):x("<p>&#8203;</p><span id='INSERTION_MARKER'>&nbsp;</span>").insertAfter(n):l.execute("insertHTML","<br/>&#8203;<span id='INSERTION_MARKER'>&nbsp;</span>"),l.selectRange(i),r=x(l.editorDocument).find("#INSERTION_MARKER"),"br"!=l.lineBreak?l.selection.selectNode(x(r).prev()[0],!0):(l.selection.selectNode(r[0],!0),l.getRange().setStartAfter&&l.getRange().setStartAfter(r[0])),r.remove(),l.selection.collapse(!1),n&&n.nodeName&&"br"==l.lineBreak&&"#text"!=n.nodeName.toLowerCase()&&(l.selection.selectNode(n,!0),l.getRange().setStartAfter&&l.getRange().setStartAfter(n),l.selection.collapse(!1)),"br"!=l.lineBreak&&(i=l.getRange()).select&&i.select(),e.preventDefault&&e.preventDefault(),!1}if(t.ctrlKey&&("k"==s||"u"==s||"b"==s||"i"==s)){e.preventDefault&&e.preventDefault();var o=null;switch(s){case"k":o="link";break;case"u":o="underline";break;case"b":o="bold";break;case"i":o="italic"}return l.commands[o].widget&&l.commands[o].widget.trigger("click"),!1}}),l.addHandler(l.editor,"paste.editor"+l.element.id,function(e){if("source"==l._documentMode)return!0;if(l.readOnly)return!0;l.updating=!0,l.readOnly=!0;try{var t,i,a=l.getRange(),s=("text"!=l.pasteMode||x.jqx.browser.mozilla?l.selection.insertContent('<div class="jqx-editor-paste-element">&nbsp;</div>'):l.selection.insertContent('<textarea cols="50" contenteditable="false" class="jqx-editor-paste-element"></textarea>'),x(window).scrollTop()),r=x(l.editorDocument).find(".jqx-editor-paste-element");r.css("top",s+"px"),l.editor[0].createTextRange?(e.preventDefault(),(t=l.editor[0].createTextRange()).moveToElementText(r[0]),t.execCommand("Paste")):((i=l.editorDocument.createRange()).selectNodeContents(r[0]),l.selectRange(i)),"text"!=l.pasteMode||x.jqx.browser.mozilla||r.select(),l.marker=r,setTimeout(function(){l.selectRange(a);function e(e){var t=l.editorDocument.createElement("div"),i=l.editorDocument.createDocumentFragment();for(t.innerHTML=e;t.firstChild;)i.appendChild(t.firstChild);return i}if("text"!=l.pasteMode){var t=e(l.marker.html());if(t.firstChild&&"jqx-editor-paste-element"===t.firstChild.className){for(var i=[],s=0,r=t.childNodes.length;s<r;s++)i.push(t.childNodes[s].innerHTML);t=e(i.join("<br />"))}var n=document.createElement("div"),n=(n.appendChild(t.cloneNode(!0)),n.innerHTML)}else{n=l.marker.val();""!=l.marker.html()&&-1==l.marker.val().indexOf("\n")&&(n=(n=(n=(n=(n=(n=l.marker.html()).replace(/&nbsp;/gm,"")).replace(/\n\n/gm,"\n")).replace(/<br[^>]*>/gi,"\n")).replace(/<li[^>]*>/gi,"\n")).replace(/<p[^>]*>/gi,"\n"),l.marker.html(n),n=l.marker.text())}n=n,o="text"==l.pasteMode;var o=n=o?l.paragraphise?(n=(n="<p>"+n+"</p>").replace(/\n/g,"</p><p>")).replace(/<p>\s<\/p>/gi,""):n.replace(/\n/g,"<br />"):((n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=n.replace(/<html[^>]*?>(.*)/gim,"$1")).replace(/<\/html>/gi,"")).replace(/<body[^>]*?>(.*)/gi,"$1")).replace(/<\/body>/gi,"")).replace(/<style[^>]*?>[\s\S]*?<\/style[^>]*>/gi,"")).replace(/<(?:meta|link)[^>]*>\s*/gi,"")).replace(/<\\?\?xml[^>]*>/gi,"")).replace(/<w:[^>]*>[\s\S]*?<\/w:[^>]*>/gi,"")).replace(/<o:p>\s*<\/o:p>/g,"")).replace(/<o:p>[\s\S]*?<\/o:p>/g,"&nbsp;")).replace(/<\/?\w+:[^>]*>/gi,"")).replace(/<\!--[\s\S]*?-->/g,"")).replace(/<\!\[[\s\S]*?\]>/g,"")).replace(/\s*mso-[^:]+:[^;"']+;?/gi,"")).replace(/<(\w[^>]*) style='([^\']*)'([^>]*)/gim,"<$1$3")).replace(/<(\w[^>]*) style="([^\"]*)"([^>]*)/gim,"<$1$3")).replace(/\s*margin: 0cm 0cm 0pt\s*;/gi,"")).replace(/\s*margin: 0cm 0cm 0pt\s*"/gi,'"')).replace(/\s*text-indent: 0cm\s*;/gi,"")).replace(/\s*text-indent: 0cm\s*"/gi,'"')).replace(/\s*text-align: [^\s;]+;?"/gi,'"')).replace(/\s*page-break-before: [^\s;]+;?"/gi,'"')).replace(/\s*font-variant: [^\s;]+;?"/gi,'"')).replace(/\s*tab-stops:[^;"']*;?/gi,"")).replace(/\s*tab-stops:[^"']*/gi,"")).replace(/\s*face="[^"']*"/gi,"")).replace(/\s*face=[^ >]*/gi,"")).replace(/\s*font-family:[^;"']*;?/gi,"")).replace(/\s*font-size:[^;"']*;?/gi,"")).replace(/<(\w[^>]*) class=([^ |>]*)([^>]*)/gi,"<$1$3")).replace(/<(\w+)[^>]*\sstyle="[^"']*display\s?:\s?none[\s \S]*?<\/\1>/gi,"")).replace(/\s*style='\s*'/gi,"")).replace(/\s*style="\s*"/gi,"")).replace(/<span\s*[^>]*>\s*&nbsp;\s*<\/span>/gi,"&nbsp;")).replace(/<span\s*[^>]*><\/span>/gi,"")).replace(/<(\w[^>]*) align=([^ |>]*)([^>]*)/gi,"<$1$3")).replace(/<(\w[^>]*) lang=([^ |>]*)([^>]*)/gi,"<$1$3")).replace(/<span([^>]*)>([\s\S]*?)<\/span>/gi,"$2")).replace(/<font\s*>([\s\S]*?)<\/font>/gi,"$1")).replace(/<(u|i|strike)>&nbsp;<\/\1>/gi,"&nbsp;")).replace(/<h\d>\s*<\/h\d>/gi,"")).replace(/<(\w[^>]*) language=([^ |>]*)([^>]*)/gi,"<$1$3")).replace(/<(\w[^>]*) onmouseover="([^\"']*)"([^>]*)/gi,"<$1$3")).replace(/<(\w[^>]*) onmouseout="([^\"']*)"([^>]*)/gi,"<$1$3")).replace(/<h(\d)([^>]*)>/gi,"<h$1>")).replace(/<(h\d)><font[^>]*>([\s\S]*?)<\/font><\/\1>/gi,"<$1>$2</$1>")).replace(/<(h\d)><em>([\s\S]*?)<\/em><\/\1>/gi,"<$1>$2</$1>")).replace(/<b\b[^>]*>(.*?)<\/b[^>]*>/gi,"<strong>$1</strong>")).replace(/<i\b[^>]*>(.*?)<\/i[^>]*>/gi,"<em>$1</em>")).replace(/<\s+[^>]*>/gi,"")).replace(/<span>([\s\S]*?)<\/span>/gi,"$1")).replace(/<span>([\s\S]*?)<\/span>/gi,"$1")).replace(/<div>([\s\S]*?)<\/div>/gi,"$1")).replace(/<div>([\s\S]*?)<\/div>/gi,"$1")).replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,"")).replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,"")).replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,"")).trim&&(n=n.trim()),l.paragraphise?"<p"!==n.substr(0,2)&&(n=(n=(n="<p>"+n+"</p>").replace(/\n/g,"</p><p>")).replace(/<br[^>]*>/gi,"</p><p>")):(n.replace(/<p>/gi,"<br />"),n.replace(/<\/p>/gi,"")),(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=n.replace(/<br>/gi,"<br />")).replace(/<br[^>]*><\/p>/gim,"</p>")).replace(/<p>&nbsp;<\/p>/gi,"")).replace(/<p>\s<\/p>/gi,"")).replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,"")).replace(/MsoNormal/gi,"")).replace(/<\/?meta[^>]*>/gi,"")).replace(/<\/?xml[^>]*>/gi,"")).replace(/<\?xml[^>]*\/>/gi,"")).replace(/<!--(.*)-->/gi,"")).replace(/<!--(.*)>/gi,"")).replace(/<!(.*)-->/gi,"")).replace(/<w:[^>]*>(.*)<\/w:[^>]*>/gi,"")).replace(/<w:[^>]*\/>/gi,"")).replace(/<\/?w:[^>]*>/gi,"")).replace(/<m:[^>]*\/>/gi,"")).replace(/<m:[^>]>(.*)<\/m:[^>]*>/gi,"")).replace(/<o:[^>]*>(.*)<\/o:[^>]*>/gi,"")).replace(/<o:[^>]*\/>/gi,"")).replace(/<\/?m:[^>]*>/gi,"")).replace(/style=\"([^>]*)\"/gi,"")).replace(/style=\'([^>]*)\'/gi,"")).replace(/class=\"(.*)\"/gi,"")).replace(/class=\'(.*)\'/gi,"")).replace(/<b>/gi,"<strong>")).replace(/<\/b>/gi,"</strong>")).replace(/<p[^>]*>/gi,"<p>")).replace(/<\/p[^>]*>/gi,"</p>")).replace(/<span[^>]*>/gi,"")).replace(/<\/span[^>]*>/gi,"")).replace(/<st1:[^>]*>/gi,"")).replace(/<\/st1:[^>]*>/gi,"")).replace(/<font[^>]*>/gi,"")).replace(/<\/font[^>]*>/gi,"")).replace("  ","")).replace(/<strong><\/strong>/gi,"")).replace(/<p><\/p>/gi,"")).replace(/\/\*(.*)\*\//gi,"")).replace(/<!--/gi,"")).replace(/-->/gi,"")).replace(/<style[^>]*>[^<]*<\/style[^>]*>/gi,"")).trim()),o=(l.getRange(),l.selection.insertContent(o+"<span id='INSERTION_MARKER'>&nbsp;</span>"),l.marker.remove(),x(l.editorDocument).find("#INSERTION_MARKER"));l.selection.selectNode(o[0],!0),l.getRange().setStartAfter&&l.getRange().setStartAfter(o[0]),o.remove(),l.selection.collapse(!1),o.removeAttr("id"),l._refreshTools(),l.changed=!0},100),l.updating=!1,l.readOnly=!1}catch(e){console&&console.log(e)}}),l.addHandler(l.editor,"keyup.editor"+l.element.id,function(e){if("source"==l._documentMode)return!0;if(l.updating||l.disabled||!l.editable)return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1;l.range=l.getRange(),l.changed=!0;e=e||window.event;e.keyCode;-1==x.inArray(e.keyCode,[8,9,13,33,34,35,36,37,38,39,40,40,45,46])&&(65!=e.keyCode||!e.ctrlKey||e.altKey||e.shiftKey)||l._refreshTools(null,!0,e.keyCode)}),l.addHandler(l.editor,"click.editor"+l.element.id,function(e){if("source"==l._documentMode)return!0;l.editImage&&(x(l.editImage).removeClass("jqx-editor-focus"),l.editImage=null),"img"==e.target.tagName.toLowerCase()&&(e=e.target,l.editImage=e,x(l.editImage).addClass("jqx-editor-focus"))}),l.addHandler(l.editor,"dblclick.editor"+l.element.id,function(e){if("source"==l._documentMode)return!0;"img"==e.target.tagName.toLowerCase()&&(e=e.target,0<x("#imageWindow"+this.element.id).length&&(l.editImage=e,l._updateImageWindow()))})},_updateLinkWindow:function(){var e,t=x("#linkWindow"+this.element.id),i=(t.jqxWindow({position:{center:this.widget}}),t.jqxWindow("open"),t.find("input")),s=t.find(".jqx-editor-link-checkbox"),r=t.find("button:first"),t=x(t.find("button")[1]);this.editLink&&this.editLink.href?(i[0].value=this.editLink.href||"",i[1].value=x(this.editLink).text()||this.editLink.href,s.val("_blank"==x(this.editLink).attr("target")),t.show()):(i[0].value="",i[1].value="",this.selection.isCollapsed()||((e=this.selection.getText()).match(/^(?!:\/\/)([a-zA-Z0-9]+\.)?[a-zA-Z0-9][a-zA-Z0-9-]+\.[a-zA-Z]{2,6}?$/i)?i[0].value=e:i[1].value=e),s.val(!1),t.hide()),0<i[0].value.length?r.jqxButton({disabled:!1}):r.jqxButton({disabled:!0})},_updateImageWindow:function(){var e=(e=this.editImage)||x("<img>")[0],t=x("#imageWindow"+this.element.id),i=(t.jqxWindow({position:{center:this.widget}}),t.jqxWindow("open"),t.find("input")),s=x(t.find("button")[1]),s=(this.editImage?s.show():s.hide(),i[0].value=e.src,""==i[0].value&&(i[0].value=""),i[1].value=e.alt,"auto"!=e.style.width?i[2].value=e.style.width:i[2].value="","auto"!=e.style.height?i[3].value=e.style.height:i[3].value="",e.style.marginLeft&&"0px"!=e.style.marginLeft?i[4].value=e.style.marginLeft:i[4].value="",e.style.marginTop&&"0px"!=e.style.marginTop?i[5].value=e.style.marginTop:i[5].value="",t.find(".jqx-editor-align")),i=x(e).css("float");"left"==i?s.jqxDropDownList({selectedIndex:1}):"right"==i?s.jqxDropDownList({selectedIndex:2}):s.jqxDropDownList({selectedIndex:0})},_removeHandlers:function(){var e=this;e.editor&&(e.removeHandler(e.editor,"paste.editor"+e.element.id),e.removeHandler(e.editor,"blur.editor"+e.element.id),e.removeHandler(e.editor,"focus.editor"+e.element.id),e.removeHandler(e.editor,"click.editor"+e.element.id),e.removeHandler(e.editor,"mousedown.editor"+e.element.id),e.removeHandler(e.editor,"mouseup.editor"+e.element.id),e.removeHandler(e.editor,"keyup.editor"+e.element.id),e.removeHandler(e.editor,"keydown.editor"+e.element.id),e.removeHandler(e.editor,"beforedeactivate.editor"+e.element.id),e.removeHandler(e.editor,"dblclick.editor"+e.element.id)),e.toolbar&&e.removeHandler(e.toolbar,"mousedown.editor"+e.element.id)},getParentByTag:function(e,t){var t=t.toLowerCase(),i=e;do{if(""==t||i.nodeName.toLowerCase()==t)return i}while(i=i.parentNode);return e},isStyleProperty:function(e,t,i,s){var t=t.toLowerCase(),r=e;do{if(r.nodeName.toLowerCase()==t&&r.style[i]==s)return!0}while(r=r.parentNode);return!1},setStyleProperty:function(e,t){this.style[t]=!1;var i=this.getParentByTag(e,t);i&&i.tagName.toLowerCase()==t&&(this.style[t]=!0),"del"==t&&this.getParentByTag(e,"strike")&&"strike"==this.getParentByTag(e,"strike").tagName.toLowerCase()&&(this.style.del=!0)},updateStyle:function(e){var t,i,s=this;if((e=s.getSelectedElement()?s.getSelectedElement():e)&&s.setStyleProperty)try{window.getComputedStyle?("#text"==e.nodeName.toLowerCase()&&(e=s.editor[0]),t=401==(i=window.getComputedStyle(e,null)).getPropertyValue("font-weight")?700:i.getPropertyValue("font-weight"),s.style={fontStyle:i.getPropertyValue("font-style"),fontSize:i.getPropertyValue("font-size"),textDecoration:i.getPropertyValue("text-decoration"),fontWeight:t,fontFamily:i.getPropertyValue("font-family"),textAlign:i.getPropertyValue("text-align"),color:s._rgbToHex(i.color),backColor:s._rgbToHex(i.backgroundColor)},s.style.fontStyle=i.getPropertyValue("font-style"),s.style.vAlign=i.getPropertyValue("vertical-align"),s.style.del=s.isStyleProperty(e,"span","textDecoration","line-through"),s.style.u=s.isStyleProperty(e,"span","textDecoration","underline"),s.style.backColor||(s.style.backColor=s._rgbToHex(function(e){for(var t="transparent";e&&(window.getComputedStyle(e).backgroundColor==t||"rgba(0, 0, 0, 0)"==window.getComputedStyle(e).backgroundColor);)e=e.parentNode;return e?window.getComputedStyle(e).backgroundColor:t}(e)))):(i=e.currentStyle,s.style={fontStyle:i.fontStyle,fontSize:i.fontSize,textDecoration:i.textDecoration,fontWeight:i.fontWeight,fontFamily:i.fontFamily,textAlign:i.textAlign,color:s._rgbToHex(i.color),backColor:s._rgbToHex(i.backgroundColor)}),s.setStyleProperty(e,"h1"),s.setStyleProperty(e,"h2"),s.setStyleProperty(e,"h3"),s.setStyleProperty(e,"h4"),s.setStyleProperty(e,"h5"),s.setStyleProperty(e,"h6"),s.setStyleProperty(e,"del"),s.setStyleProperty(e,"sub"),s.setStyleProperty(e,"sup"),s.setStyleProperty(e,"u"),"a"==e.nodeName.toLowerCase()&&"underline"==s.style.textDecoration&&(s.style.u=!0),(s.style.h1||s.style.h2||s.style.h3||s.style.h4||s.style.h5||s.style.h6)&&(s.style.heading=!0)}catch(e){return null}},_refreshTools:function(u,p,e){var m=this;if(!m.updating&&((u=m.getSelectedElement()?m.getSelectedElement():u)&&m.setStyleProperty)){m.updateStyle(u);var t=m.readOnly;if(!(m.readOnly=!0)!==m.tools){function i(e){x.each(e,function(e,t){var i=m.commands[this];if(!i)return!0;switch(i.type){case"list":i.widget.jqxDropDownList("clearSelection"),i.widget.jqxDropDownList({disabled:m.disabled});break;case"colorPicker":i.val(i.value),i.widget.jqxDropDownButton({disabled:m.disabled});break;case"toggleButton":i.widget.jqxToggleButton("unCheck"),i.widget.jqxToggleButton({disabled:m.disabled});break;default:i.widget.jqxButton({disabled:m.disabled})}})}var s=m.tools.split(" "),r=m.tools.split(" | ");if(0==r.length)i(s);else for(var n=0;n<r.length;n++)i(s=r[n].split(" "));if(m.style){function o(e){x.each(e,function(e,t){var i=m.commands[this];if(!i)return!0;if(i.refresh)return i.refresh(i.widget,m.style),!0;switch(i.type){case"list":if("fontname"==i.command){for(var s=-1,r=999,n=0;n<i.value.length;n++){var t=i.value[n].label.toLowerCase(),o=m.style.fontFamily.toLowerCase().indexOf(t);0<=o&&(o<r&&(s=n),r=Math.min(r,o))}i.widget.jqxDropDownList("selectIndex",s)}else if("formatblock"==i.command){t=null;m.style.h1?t="h1":m.style.h2?t="h2":m.style.h3?t="h3":m.style.h4?t="h4":m.style.h5?t="h5":m.style.h6&&(t="h6"),i.widget.jqxDropDownList("selectItem",t)}else if("fontsize"==i.command){var a="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),l=-1;try{-1==(l=u.getAttribute("size")-1)&&(l=m.editorDocument.queryCommandValue(i.command)-1)}catch(e){}a=a[l];i.widget.val(a)}break;case"colorPicker":a="number"!=typeof(l=m.editorDocument.queryCommandValue(i.command))?l:"rgb("+(255&l)+", "+((65280&l)>>8)+", "+((16711680&l)>>16)+")",a=("backcolor"==i.command&&null==m.style.backColor&&(a="#FFFFFF"),m._rgbToHex(a));a?i.val(a):"forecolor"==i.command?i.val(m.style.color):"backcolor"==i.command&&i.val(m.style.backColor);break;case"toggleButton":if("viewsource"==i.command)return;if(!i.command)return;var d,h=!1,a=m.editorDocument.queryCommandState(i.command)&&m.editorDocument.queryCommandEnabled(i.command),c=("createlink"==i.command&&"a"==u.nodeName.toLowerCase()&&(c=!0,(c=-1==x(u).text().indexOf(m.selection.getText())&&""!=m.selection.getText()?!1:c)&&(m.linkPopup&&m.linkPopup.remove(),a=!0,m.linkPopup=x("<div class='jqx-editor-link-popup' contentEditable='false' style='overflow: hidden; white-space: nowrap; padding: 5px; height: 17px; font-size: 12px; color: #222222; background: #F5F5F5; position: absolute; z-index: 9999;'>"+m.localization["Go to link"]+": <a target='_blank' style='color:#222222;' href='"+u.href+"'>"+u.href+"</a> - <a style='color:#222222;' href='#change'>"+m.localization.Change+"</a> - <a style='color:#222222;' href='#remove'>"+m.localization.Remove+"</a></div>").appendTo(m.editor),d=(c=x(u).coord()).left,c.left+m.linkPopup.width()>m.editor.width()&&(d=m.editor.width()-m.linkPopup.width()-15),m.linkPopup.offset({top:x(u).height()+c.top+5,left:d}),m.addHandler(m.linkPopup,"mousedown",function(e){if(e.target&&e.target.href)switch(x(e.target).index()){case 1:m.editor.focus(),m.selection.selectNode(u,!0),m.commands.link.widget.trigger("click");break;case 2:try{m.editor.focus(),m.selection.selectNode(u),m.execute("unlink"),m.commands.underline.toggled=!1,m.selection.collapse(!1),m._refreshTools()}catch(e){}break;default:window.open(e.target.href,"_blank")}return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1}))),"bold"==i.command?(m.style.fontWeight&&(600<=m.style.fontWeight||"bold"==m.style.fontWeight)&&(h=!0),m.selection.isCollapsed()?i.toggled=a:i.toggled=a||h,a=i.toggled):"italic"==i.command?(m.style.fontStyle&&"italic"==m.style.fontStyle&&(h=!0),p?i.toggled=a:a=i.toggled):"underline"==i.command?(m.style.u&&(h=!0),p?i.toggled=a:a=i.toggled):"justifyleft"==i.command?"left"==m.style.textAlign&&(h=!0):"justifyright"==i.command?"right"==m.style.textAlign&&(h=!0):"justifycenter"==i.command?"center"==m.style.textAlign&&(h=!0):"justifyfull"==i.command?"justify"==m.style.textAlign&&(h=!0):x.each(m.style,function(e,t){i.command==e.toLowerCase()&&(h=!0)}),a);(h&&-1!=i.command.indexOf("justify")||c||h&&!1===m.range.collapsed||x.jqx.browser.msie&&x.jqx.browser.version<9&&h&&!m.selection.isCollapsed())&&i.widget.jqxToggleButton("check");break;default:i.refresh&&i.refresh(i.widget,m.style)}})}if(0==r.length)o(s);else for(n=0;n<r.length;n++)o(s=r[n].split(" "))}}m.readOnly=t}},_rgbToHex:function(e){if(e){if("#"===e.substr(0,1))return 4==e.length?"#"+(t=e.substr(1,1))+t+(i=e.substr(2,1))+i+(s=e.substr(3,1))+s:e;e=/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/i.exec(e);if(!e)return null;var t=parseInt(e[2],10).toString(16),i=parseInt(e[3],10).toString(16),s=parseInt(e[4],10).toString(16);return"#"+((1==t.length?"0"+t:t)+(1==i.length?"0"+i:i)+(1==s.length?"0"+s:s))}return null},_preventDefault:function(e,t){!1!==t&&(0<x(".jqx-editor-dropdownpicker").length&&x(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),0<x(".jqx-editor-dropdownlist").length&&x(".jqx-editor-dropdownlist").jqxDropDownList("close")),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1},_addCommandHandler:function(e,t,i,s,r){var n,o=this;switch(i=!i&&r.init?"custom":i){case"custom":switch(r.type){case"list":n=function(e){"source"!=o._documentMode&&"none"!=e.args.type&&(r.value=x(this).val(),o.execute("custom",r),o.readOnly||o._refreshTools()),o._preventDefault(e,!1)};break;case"colorPicker":n=function(e){var t;return"source"!=o._documentMode&&(x(r.colorPicker).find("td").removeClass("jqx-editor-color-picker-selected-cell"),"div"==e.target.nodeName.toLowerCase()?(t=x(e.target).css("background-color"),x(e.target).parent().addClass("jqx-editor-color-picker-selected-cell")):(t=x(e.target).find("div").css("background-color"),x(e.target).addClass("jqx-editor-color-picker-selected-cell")),x("#bar-"+i).css("background",t),r.widget.val=function(){var e="number"!=typeof(e=t)?e:"rgb("+(255&e)+", "+((65280&e)>>8)+", "+((16711680&e)>>16)+")";return o._rgbToHex(e)},r.widget.jqxDropDownButton("close"),o.execute("custom",r)),o._preventDefault(e),!1};break;default:n=function(e){0<x(".jqx-editor-dropdownpicker").length&&x(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),0<x(".jqx-editor-dropdownlist").length&&x(".jqx-editor-dropdownlist").jqxDropDownList("close"),o._preventDefault(e);x(this).attr("data-command");return"source"!=o._documentMode&&(r.toggle&&r.toggle(),o.execute("custom",r),o._refreshTools()),!1}}break;case"formatblock":n=function(e){"source"!=o._documentMode&&"none"!=e.args.type&&(o.execute(x(this).attr("data-command"),"<"+x(this).val()+">",r),o.readOnly||(o.commands.bold.toggled=!1,o._refreshTools())),o._preventDefault(e,!1)};break;case"fontsize":n=function(e){var t,i,s;"source"!=o._documentMode&&"none"!=e.args.type&&(t=x(this).val(),i="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),s=x(this).jqxDropDownList("getSelectedIndex")+1,s=1+i.indexOf(t),o.execute(x(this).attr("data-command"),s,r)),o._preventDefault(e,!1)};break;case"fontname":n=function(e){var t;"source"!=o._documentMode&&"none"!=e.args.type&&(t=x(this).val(),o.execute(x(this).attr("data-command"),t,r)),o._preventDefault(e,!1)};break;case"forecolor":case"backcolor":n=function(e){var t;return"source"!=o._documentMode&&(x(r.colorPicker).find("td").removeClass("jqx-editor-color-picker-selected-cell"),"div"==e.target.nodeName.toLowerCase()?(t=x(e.target).css("background-color"),x(e.target).parent().addClass("jqx-editor-color-picker-selected-cell")):(t=x(e.target).find("div").css("background-color"),x(e.target).addClass("jqx-editor-color-picker-selected-cell")),x("#bar-"+i).css("background",t),r.widget.jqxDropDownButton("close"),o.execute(i,t,r)),o._preventDefault(e),!1};break;case"viewsource":n=function(e){return o.linkPopup&&o.linkPopup.remove(),r.toggle(),o.setMode(r.toggled),0<x(".jqx-editor-dropdownpicker").length&&x(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),0<x(".jqx-editor-dropdownlist").length&&x(".jqx-editor-dropdownlist").jqxDropDownList("close"),o._preventDefault(e),!1};break;case"insertimage":n=function(e){o._insertImageAction(e,o,r)};break;case"createlink":n=function(e){o._createLinkAction(e,o,r)};break;default:n=function(e){0<x(".jqx-editor-dropdownpicker").length&&x(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),0<x(".jqx-editor-dropdownlist").length&&x(".jqx-editor-dropdownlist").jqxDropDownList("close"),o._preventDefault(e);e=x(this).attr("data-command");if("source"!=o._documentMode){if("underline"==e&&o.getSelectedElement()){var t=o.getSelectedElement();if(t&&"a"==t.nodeName.toLowerCase())return r.toggled?x(t).css("text-decoration","none"):x(t).css("text-decoration","underline"),r.toggle(),o._refreshTools(),!1}r.toggle&&r.toggle(),o.execute(e,x(this).val(),r),o._refreshTools()}return!1}}return o.addHandler(e,t,n),!1},_createLinkAction:function(e,s,r){if("source"!=(s=this)._documentMode){s.focused||s.editor.focus(),s.range=s.getRange();var t=s.getSelectedElement();if("a"==t.nodeName.toLowerCase()?s.editLink=t:s.editLink=null,0<x("#linkWindow"+this.element.id).length)return s.editLink&&s.selection.selectNode(t,!0),s._updateLinkWindow(),s._preventDefault(e),!1;var n=x("<div class='jqx-editor-window jqx-editor-link-window'><div>"+s.localization["Insert Link"]+"</div><div><table style='border-collapse: separate; border-spacing: 2px;'><tr><td align='right'>"+s.localization.URL+":</td><td><input style='width: 200px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+s.localization.Title+":</td><td><input style='width: 200px; height: 23px;' value=''/></td><tr/><tr><td align='right'></td><td><div class='jqx-editor-link-checkbox'>"+s.localization["Open in a new window/tab"]+"</div></td><tr/><tr><td align='right'></td><td align='right'><button>Ok</button><button style='margin-left: 5px;'>Remove</button><button style='margin-left: 5px;'>Cancel</button></td><tr/></table></div></div>"),i=(n[0].id="linkWindow"+this.element.id,n.find("input")),o=(i.addClass(s.toThemeProperty("jqx-widget")),i.addClass(s.toThemeProperty("jqx-widget-content")),i.addClass(s.toThemeProperty("jqx-input")),n.find(".jqx-editor-link-checkbox").jqxCheckBox({theme:s.theme,height:23,width:180})),a=n.find("button:first").jqxButton({theme:s.theme,disabled:!0}),t=x(n.find("button")[1]).jqxButton({theme:s.theme}),l=n.find("button:last").jqxButton({theme:s.theme}),d=(a.val(s.localization.Ok),l.val(s.localization.Cancel),t.val(s.localization.Remove),s.addHandler(l,x.jqx.mobile.isTouchDevice()?x.jqx.mobile.getTouchEventName("touchstart"):"click",function(e){s.editor.focus(),s.selectRange(s.range),s._refreshTools(),s._preventDefault(e)}),s.editLink&&(!s.editLink||s.editLink.href)||t.hide(),!1);return s.addHandler(x(i[0]),"focus",function(){d=""==i[1].value||i[1].value==i[0].value}),s.addHandler(x(i[1]),"keyup",function(e){e.keyCode&&(13==e.keyCode&&a.trigger("click"),27==e.keyCode&&l.trigger("click"))}),s.addHandler(x(i[0]),"keyup change",function(e){0<i[0].value.length?a.jqxButton({disabled:!1}):a.jqxButton({disabled:!0}),d&&(i[1].value=i[0].value),e.keyCode&&(13==e.keyCode&&a.trigger("click"),27==e.keyCode&&l.trigger("click"))}),s.addHandler(t,x.jqx.mobile.isTouchDevice()?x.jqx.mobile.getTouchEventName("touchstart"):"click",function(e){n.jqxWindow("close");try{s.editor.focus(),s.selection.selectNode(s.editLink),s.execute("unlink"),s.selection.collapse(!1),s.commands.underline.toggled=!1,s._refreshTools()}catch(e){}s._preventDefault(e)}),s.addHandler(a,x.jqx.mobile.isTouchDevice()?x.jqx.mobile.getTouchEventName("touchstart"):"click",function(e){var t=n.find("input"),i=x("<a>"+(t[1].value||t[0].value)+"</a>"),t=(o.val()&&i.attr("target","_blank"),i[0].href=x.trim(t[0].value),-1==t[0].value.indexOf("http")&&-1==t[0].value.indexOf("mailto")&&(i[0].href="https://"+x.trim(t[0].value)),s.focused||s.editor.focus(),s.range&&s.selectRange(s.range),s.editLink&&x(s.editLink).remove(),s.execute("insertHTML",i[0].outerHTML+"<span id='INSERTION_MARKER'>&nbsp;</span>",r),s.editor.focus(),x(s.editorDocument).find("#INSERTION_MARKER"));s.selection.selectNode(t[0],!0),s.getRange().setStartAfter&&s.getRange().setStartAfter(t[0]),t.remove(),s.selection.collapse(!1),s._refreshTools(),s._preventDefault(e)}),s.updating=!0,n.appendTo(document.body),s.addHandler(n,"open",function(){s.updating=!0,setTimeout(function(){s.range=s.getRange(),x(i[0]).focus()},25)}),n.jqxWindow({resizable:!1,width:280,okButton:a,cancelButton:l,theme:s.theme,isModal:!0,position:{center:s.widget}}),s.addHandler(n,"close",function(){s.updating=!1}),s.focused||(s.editor.focus(),s.selectRange(s.range)),s.editLink?(i[0].value=s.editLink.href||"",i[1].value=x(s.editLink).text(),o.val("_blank"==x(s.editLink).attr("target"))):s.selection.isCollapsed()||((t=s.selection.getText()).match(/^(?!:\/\/)([a-zA-Z0-9]+\.)?[a-zA-Z0-9][a-zA-Z0-9-]+\.[a-zA-Z]{2,6}?$/i)?i[0].value=t:i[1].value=t),0<i[0].value.length?a.jqxButton({disabled:!1}):a.jqxButton({disabled:!0}),s._preventDefault(e),!1}s._preventDefault(e)},_insertImageAction:function(e,s,r){if("source"!=s._documentMode){if(s.focused||s.editor.focus(),s.range=s.getRange(),0<x("#imageWindow"+this.element.id).length)return s._updateImageWindow(),s._preventDefault(e),!1;var n=x("<div class='jqx-editor-window jqx-editor-image-window'><div>"+s.localization["Insert Image"]+"</div><div><table style='border-collapse: separate; border-spacing: 2px;'><tr><td align='right'>"+s.localization.URL+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+s.localization["Alt Text"]+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+s.localization.Width+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+s.localization.Height+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+s.localization.HSpace+":</td><td><input style='width: 180px; height: 23px;' class='jqx-editor-hspace'/></td><tr/><tr><td align='right'>"+s.localization.VSpace+":</td><td><input style='width: 180px; height: 23px;' class='jqx-editor-vspace'/></td><tr/><tr><td align='right'>"+s.localization.Align+":</td><td><div class='jqx-editor-align'></div></td><tr/><tr><td align='right'></td><td align='right'><button>Ok</button><button style='margin-left: 5px;'>Remove</button><button style='margin-left: 5px;'>Cancel</button></td><tr/></table></div></div>"),t=(n[0].id="imageWindow"+this.element.id,n.find("input")),i=(t.addClass(s.toThemeProperty("jqx-widget")),t.addClass(s.toThemeProperty("jqx-widget-content")),t.addClass(s.toThemeProperty("jqx-input")),n.find(".jqx-editor-align").jqxDropDownList({hint:!1,autoDropDownHeight:!0,selectedIndex:0,theme:s.theme,height:23,width:180,source:[s.localization["not set"],s.localization.Left,s.localization.Right]}),n.find("button:first").jqxButton({theme:s.theme})),o=n.find("button:last").jqxButton({theme:s.theme}),a=x(n.find("button")[1]).jqxButton({theme:s.theme});return i.val(s.localization.Ok),o.val(s.localization.Cancel),a.val(s.localization.Remove),a.hide(),s.addHandler(a,x.jqx.mobile.isTouchDevice()?x.jqx.mobile.getTouchEventName("touchstart"):"click",function(e){x(s.editImage).removeClass("jqx-editor-focus"),x(s.editImage).remove(),s.editImage=null,s._preventDefault(e),n.jqxWindow("close"),s._raiseEvent("change")}),s.addHandler(o,x.jqx.mobile.isTouchDevice()?x.jqx.mobile.getTouchEventName("touchstart"):"click",function(e){x(s.editImage).removeClass("jqx-editor-focus"),s.editImage=null,s._preventDefault(e)}),s.addHandler(i,x.jqx.mobile.isTouchDevice()?x.jqx.mobile.getTouchEventName("touchstart"):"click",function(e){x(s.editImage).removeClass("jqx-editor-focus");var t=n.find("input"),i=(s.editImage?x(s.editImage):x('<img style="border: 1px solid transparent;">')).attr("src",t[0].value).attr("unselectable","on"),t=(t[1].value&&i.attr("alt",t[1].value).attr("title",t[1].value),t[2].value&&!isNaN(parseInt(t[2].value))?i.width(t[2].value):i.css("width","auto"),t[3].value&&!isNaN(parseInt(t[3].value))?i.height(t[3].value):i.css("height","auto"),t[4].value?"auto"==t[4].value.toString()?(i.css("margin-left","auto"),i.css("margin-right","auto")):-1!=t[4].value.toString().indexOf("%")?(i.css("margin-left",parseInt(t[4].value)+"%"),i.css("margin-right",parseInt(t[4].value)+"%")):(i.css("margin-left",parseInt(t[4].value)+"px"),i.css("margin-right",parseInt(t[4].value)+"px")):(i.css("margin-left","0px"),i.css("margin-right","0px")),t[5].value?"auto"==t[5].value.toString()?(i.css("margin-top","auto"),i.css("margin-bottom","auto")):-1!=t[5].value.toString().indexOf("%")?(i.css("margin-top",parseInt(t[5].value)+"%"),i.css("margin-bottom",parseInt(t[5].value)+"%")):(i.css("margin-top",parseInt(t[5].value)+"px"),i.css("margin-bottom",parseInt(t[5].value)+"px")):(i.css("margin-top","0px"),i.css("margin-bottom","0px")),n.find(".jqx-editor-align").jqxDropDownList("selectedIndex"));1==t?i.css("float","left"):2==t?i.css("float","right"):0==t&&i.css("float","none"),i.css("resize",!1),i[0].oncontrolselect=function(){return!1},i[0].selectstart=function(){return!1},s.editImage||(s.focused||s.editor.focus(),s.range&&s.selectRange(s.range),s.execute("insertHTML",i[0].outerHTML+"<span id='INSERTION_MARKER'>&nbsp;</span>",r),s.editor.focus(),t=x(s.editorDocument).find("#INSERTION_MARKER"),s.selection.selectNode(t[0],!0),s.getRange().setStartAfter&&s.getRange().setStartAfter(t[0]),t.remove(),s.selection.collapse(!1),s._refreshTools(),s._preventDefault(e)),s.editImage=null,s._preventDefault(e)}),n.appendTo(document.body),s.updating=!0,s.addHandler(n,"open",function(){s.updating=!0,setTimeout(function(){s.range=s.getRange(),x(t[0]).focus()},25)}),n.jqxWindow({resizable:!1,width:280,okButton:i,cancelButton:o,theme:s.theme,isModal:!0,position:{center:s.widget}}),s.addHandler(n,"close",function(){s.updating=!1}),s.focused||(s.editor.focus(),s.selectRange(s.range)),s._preventDefault(e),!1}s._preventDefault(e)},editmode:function(e){var t,i,s=this;e||s.readOnly?e&&s.readOnly&&(t=s.editor.find("#sourceText").text(),s.editor.html(t),s.buttons.hasOwnProperty("html")&&s.buttons.html.removeClass("active"),s.editor.attr("contentEditable",!0),s._addHandlers()):(s._removeHandlers(),s.editor.attr("contentEditable",!1),t=document.createTextNode(s.editor.html()),(i=x("<pre>")).html(t).attr({id:"sourceText",contentEditable:!0}).css("height","100%"),s.editor.html(i),s.buttons.hasOwnProperty("html")&&s.buttons.html.addClass("active"),i.focus()),s.readOnly=!e},setMode:function(e){var t,i,s=this,r=(s.range||(s.editor.focus(),s.range=s.getRange()),s.editor[0]);e?(s._documentMode="source",i=(t=new n).HTMLtoXML(r.innerHTML),i=t.FormatHTML(i),t=document.createTextNode(i),r.innerHTML="",i=document.createElement("pre"),r.contentEditable=!1,i.style.height="100%",i.style.margin="0px",i.style.outline="none",i.style.display="block",i.id="sourceText",i.contentEditable=!0,i.appendChild(t),r.appendChild(i),this.readOnly=!0):(this._documentMode="html",document.all?r.innerHTML=r.innerText:r.textContent?r.innerHTML=r.textContent:((t=document.createRange()).selectNodeContents(r.firstChild),r.innerHTML=t.toString()),r.contentEditable=!0,s.readOnly=!1,s._refreshTools(),s.editor.focus(),s.selection.selectNode(s.editor[0]),s.editor.scrollTop(0),s.selection.collapse(!0)),x.each(this.commands,function(){if(this.widget&&"viewsource"!=this.command)switch(this.type){case"list":this.widget.jqxDropDownList({disabled:e});break;case"colorPicker":this.widget.jqxDropDownButton({disabled:e});break;case"button":this.widget.jqxButton({disabled:e});break;case"toggleButton":this.widget.jqxToggleButton({toggled:!1,disabled:e})}}),s.editor.focus(),x.jqx.browser.mozilla&&(i=x("<a href='#'>anchor</a>"),s.editor.prepend(i),i.focus(),i.remove(),s.selection.collapse(!0)),s.commands.html.widget&&(s.commands.html.widget.jqxToggleButton({toggled:"source"==e||1==e}),s.commands.html.toggled="source"==e||1==e)},execute:function(t,i,e){var s=this;if(!s.readOnly){var r=s.editorDocument;if("source"!=s._documentMode){s.changeType="mouse",s.linkPopup&&s.linkPopup.remove(),s.editor.focus(),x.jqx.browser.mozilla,x.jqx.mobile.isTouchDevice()&&setTimeout(function(){},25);function n(e){try{if(e.command&&"inserthtml"==e.command.toLowerCase()){var t=s.getRange(),i=e.value;-1==i.toString().indexOf("<")&&(i="<span>"+e.value+"</span>"),s.selection.insertContent(i+"<span id='INSERTION_MARKER'>&nbsp;</span>"),s.selectRange(t),setTimeout(function(){var e=x(s.editorDocument).find("#INSERTION_MARKER");s.selection.selectNode(x(e).prev()[0],!0),e.remove(),s.selection.collapse(!1)},10)}else if(e.command){if(!r.queryCommandEnabled(e.command))return!1;r.execCommand(e.command,!1,e.value)}else{if(!r.queryCommandEnabled(e))return!1;r.execCommand(e,!1,e)}}catch(e){}}var o;if("custom"==t)(o=i.action(i.widget,s.editor))&&n(o);else try{if(e&&e.action)n(o=e.action(e.widget,s.editor));else if(r.queryCommandEnabled(t))r.execCommand(t,!1,i);else{if("insertHTML"!=t)return!1;s.selection.insertContent(i)}}catch(e){if("insertHTML"!=t)return!1;s.selection.insertContent(i)}x.jqx.mobile.isTouchDevice()&&setTimeout(function(){s.iframe&&s.iframe[0].contentWindow.focus()},500),s._raiseEvent("change",{command:t,args:i}),s.changed=!0,s.range=s.getRange()}}},destroy:function(){function e(e){x.each(e,function(e,t){var i=s.commands[this];if(!i)return!0;switch(i.type){case"list":i.widget.jqxDropDownList("destroy");break;case"colorPicker":i.colorPicker.remove(),i.widget.jqxDropDownButton("destroy");break;case"toggleButton":i.widget.jqxToggleButton("destroy");break;case"custom":s.destroyTool&&s.destroyTool(this);break;default:i.widget.jqxToggleButton("destroy"),"insertimage"===i.command?0<x("#imageWindow"+s.element.id).length&&(x("#imageWindow"+s.element.id).find(".jqx-editor-align").jqxDropDownList("destroy"),x("#imageWindow"+s.element.id).find("button").jqxButton("destroy")):"createlink"===i.command&&0<x("#linkWindow"+s.element.id).length&&(x("#linkWindow"+s.element.id).find(".jqx-editor-align").jqxDropDownList("destroy"),x("#linkWindow"+s.element.id).find("button").jqxButton("destroy"),x("#linkWindow"+s.element.id).find(".jqx-editor-link-checkbox").jqxCheckBox("destroy"))}})}var s=this,t=(s._removeHandlers(),s.tools.split(" ")),i=s.tools.split(" | ");x.jqx.utilities.resize(this.host,null,!0);if(0==i.length)e(t);else for(var r=0;r<i.length;r++)e(t=i[r].split(" "));var n=x("#linkWindow"+this.element.id),o=x("#imageWindow"+this.element.id);n&&0<n.length&&n.jqxWindow("destroy"),o&&0<o.length&&o.jqxWindow("destroy"),s.inline?s.toolbar.remove():(s.widget.remove(),s.host.remove()),s.iframe.remove(),s.iframe=null,s.selection=null,s.editorDocument=null,s.contentEditableElement=null},val:function(e){var t,i;return void 0!==e&&"source"===e?(i=this.editor[0],"source"===this._documentMode&&(i=this.editor.find("pre:first")[0]),i=(t=new n).HTMLtoXML(i.innerHTML),t.FormatHTML(i)):(null!=e&&"object"!=typeof e&&this.editor.html(e),("source"===this._documentMode?this.editor.find("pre:first"):this.editor).html())},_raiseEvent:function(e,t){if("source"==this._documentMode)return!0;(t=null==t?{owner:null}:t).type=this.changeType,this.changeType=null;var i=t,e=(i.owner=this,new x.Event(e));return e.owner=this,e.args=i,i=(this._textArea?x(this._textArea):this.host).trigger(e),t=e.args,i}});var l=function(i){var e={initialize:function(e){this.document=e},getSelection:function(){return this.document.getSelection?this.document.getSelection():this.document.selection},getRange:function(){var e=this.getSelection();if(!e)return null;try{return 0<e.rangeCount?e.getRangeAt(0):(this.document.createRange?this.document:this.document.selection).createRange()}catch(e){return this.document.body.createTextRange()}},selectRange:function(e){var t;e.select?e.select():(t=this.getSelection()).addRange&&(t.removeAllRanges(),t.addRange(e))},selectNode:function(e,t){var i=this.getRange(),s=this.getSelection();if(i.moveToElementText)i.moveToElementText(e),i.select();else if(s.addRange)try{t?i.selectNodeContents(e):i.selectNode(e),s.removeAllRanges(),s.addRange(i)}catch(e){}else s.setBaseAndExtent(e,0,e,1);return e},isCollapsed:function(){var e=this.getRange();return!e.item&&(0==e.boundingWidth||this.getSelection().isCollapsed)},collapse:function(e){var t=this.getRange(),i=this.getSelection();t.select?(t.collapse(e),t.select()):e?i.collapseToStart():i.collapseToEnd()},getContent:function(){var e=this.getRange(),t=x("<div>")[0];return this.isCollapsed()?"":(e.cloneContents?t.appendChild(e.cloneContents()):null!=e.item||null!=e.htmlText?x(t).html(e.item?e.item(0).outerHTML:e.htmlText):x(t).html(e.toString()),x(t).html())},getText:function(){var e=this.getRange(),t=this.getSelection();return this.isCollapsed()?"":e.text||(t.toString?t.toString():"")},getNode:function(){var e=this.getRange();if(!x.jqx.browser.msie||9<=x.jqx.browser.version){var t=null;if(e)for(t=e.commonAncestorContainer,e.collapsed||e.startContainer==e.endContainer&&e.startOffset-e.endOffset<2&&e.startContainer.hasChildNodes()&&(t=e.startContainer.childNodes[e.startOffset]);"element"!=typeof t;)t=t.parentNode;return i.id(t)}return i.id(e.item?e.item(0):e.parentElement())},insertContent:function(e){var t,i,s=this.getRange();s.pasteHTML?(s.pasteHTML(e),s.collapse(!1),s.select()):s.insertNode&&(s.deleteContents(),s.createContextualFragment?s.insertNode(s.createContextualFragment(e)):(t=(i=this.document).createDocumentFragment(),i=i.createElement("div"),t.appendChild(i),i.outerHTML=e,s.insertNode(t)))}};return e.initialize(i),e},n=function(){var l=/^<([-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,d=/^<\/([-A-Za-z0-9_]+)[^>]*>/,h=/([-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,c=e("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),u=e("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul"),p=e("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),m=e("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),g=e("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),f=e("script,style"),t=this.HTMLParser=function(e,n){var t,o=[];for(o.last=function(){return this[this.length-1]};e;){var i,s=!0;o.last()&&f[o.last()]?(e=e.replace(new RegExp("(.*)</"+o.last()+"[^>]*>"),function(e,t){return t=t.replace(/<!--(.*?)-->/g,"$1").replace(/<!\[CDATA\[(.*?)]]>/g,"$1"),n.chars&&n.chars(t),""}),a(0,o.last())):(0==e.indexOf("\x3c!--")?0<=(i=e.indexOf("--\x3e"))&&(n.comment&&n.comment(e.substring(4,i)),e=e.substring(i+3),s=!1):0==e.indexOf("</")?(t=e.match(d))&&(e=e.substring(t[0].length),t[0].replace(d,a),s=!1):0==e.indexOf("<")&&(t=e.match(l))&&(e=e.substring(t[0].length),t[0].replace(l,r),s=!1),s&&(s=(i=e.indexOf("<"))<0?e:e.substring(0,i),e=i<0?"":e.substring(i),n.chars&&n.chars(s))),0}function r(e,t,i,s){if(t=t.toLowerCase(),u[t])for(;o.last()&&p[o.last()];)a(0,o.last());var r;m[t]&&o.last()==t&&a(0,t),(s=c[t]||!!s)||o.push(t),n.start&&(r=[],i.replace(h,function(e,t){var i=arguments[2]||arguments[3]||arguments[4]||(g[t]?t:"");r.push({name:t,value:i,escaped:i.replace(/(^|[^\\])"/g,'$1\\"')})}),n.start&&n.start(t,r,s))}function a(e,t){if(t)for(i=o.length-1;0<=i&&o[i].toLowerCase()!=t.toLowerCase();i--);else var i=0;if(0<=i){for(var s=o.length-1;i<=s;s--)n.end&&n.end(o[s]);o.length=i}}a()};function e(e){for(var t={},i=e.split(","),s=0;s<i.length;s++)t[i[s]]=!0;return t}this.HTMLtoXML=function(e){var r="";return e=(e=e.replace(/\r/gi,"")).replace(/\n/gi,""),t(e,{start:function(e,t,i){r+="<"+e;for(var s=0;s<t.length;s++)r+=" "+t[s].name+'="'+t[s].escaped+'"';r+=(i?"/":"")+">"},end:function(e){r+="</"+e+">\r\n"},chars:function(e){r+=e},comment:function(e){r+="\x3c!--"+e+"--\x3e"}}),r},this.FormatHTML=function(e,t){var i,s,r,n,l;for(s=(t=t||{}).indent_size||4,r=t.indent_char||" ",n=t.brace_style||"collapse",l=t.unformatted||["a","span","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","pre","address","dt","h1","h2","h3","h4","h5","h6"],(i=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,?php,?,?=".split(","),extra_liners:"head,body,/html".split(","),in_array:function(e,t){for(var i=0;i<t.length;i++)if(e===t[i])return!0;return!1}},this.get_content=function(){for(var e,t=[],i=!1;"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(e=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(e,this.Utils.whitespace))t.length&&(i=!0),this.line_char_count--;else{if(i){if(this.line_char_count>=this.max_char){t.push("\n");for(var s=0;s<this.indent_level;s++)t.push(this.indent_string);this.line_char_count=0}else t.push(" "),this.line_char_count++;i=!1}t.push(e)}}return t.length?t.join(""):""},this.get_contents_to=function(e){if(this.pos==this.input.length)return["","TK_EOF"];var t="",e=new RegExp("</"+e+"\\s*>","igm"),e=(e.lastIndex=this.pos,e.exec(this.input)),e=e?e.index:this.input.length;return this.pos<e&&(t=this.input.substring(this.pos,e),this.pos=e),t},this.record_tag=function(e){this.tags[e+"count"]?this.tags[e+"count"]++:this.tags[e+"count"]=1,this.tags[e+this.tags[e+"count"]]=this.indent_level,this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags[e+"count"]},this.retrieve_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags[e+"count"]+"parent"],delete this.tags[e+this.tags[e+"count"]],1==this.tags[e+"count"]?delete this.tags[e+"count"]:this.tags[e+"count"]--}},this.get_tag=function(){var e,t,i="",s=[],r=!1;do{if(this.pos>=this.input.length)return s.length?s.join(""):["","TK_EOF"]}while(i=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(i,this.Utils.whitespace)?(r=!0,this.line_char_count--):("'"!==i&&'"'!==i||s[1]&&"!"===s[1]||(i+=this.get_unformatted(i),r=!0),"="===i&&(r=!1),s.length&&"="!==s[s.length-1]&&">"!==i&&r&&(this.line_char_count>=this.max_char?(this.print_newline(!1,s),this.line_char_count=0):(s.push(" "),this.line_char_count++),r=!1),"<"===i&&(e=this.pos-1),s.push(i)),">"!==i);var n,o=s.join(""),a=-1!=o.indexOf(" ")?o.indexOf(" "):o.indexOf(">"),a=o.substring(1,a).toLowerCase();return"/"===o.charAt(o.length-2)||this.Utils.in_array(a,this.Utils.single_token)?this.tag_type="SINGLE":"script"===a?(this.record_tag(a),this.tag_type="SCRIPT"):"style"===a?(this.record_tag(a),this.tag_type="STYLE"):this.Utils.in_array(a,l)?(n=this.get_unformatted("</"+a+">",o),s.push(n),0<e&&this.Utils.in_array(this.input.charAt(e-1),this.Utils.whitespace)&&s.splice(0,0,this.input.charAt(e-1)),t=this.pos-1,this.Utils.in_array(this.input.charAt(1+t),this.Utils.whitespace)&&s.push(this.input.charAt(1+t)),this.tag_type="SINGLE"):"!"===a.charAt(0)?-1!=a.indexOf("[if")?(-1!=o.indexOf("!IE")&&(n=this.get_unformatted("--\x3e",o),s.push(n)),this.tag_type="START"):-1!=a.indexOf("[endif")?(this.tag_type="END",this.unindent()):(n=-1!=a.indexOf("[cdata[")?this.get_unformatted("]]>",o):this.get_unformatted("--\x3e",o),s.push(n),this.tag_type="SINGLE"):("/"===a.charAt(0)?(this.retrieve_tag(a.substring(1)),this.tag_type="END"):(this.record_tag(a),this.tag_type="START"),this.Utils.in_array(a,this.Utils.extra_liners)&&this.print_newline(!0,this.output)),s.join("")},this.get_unformatted=function(e,t){if(t&&-1!=t.indexOf(e))return"";var i,s="",r=!0;do{if(this.pos>=this.input.length)return s;if(i=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(i,this.Utils.whitespace)){if(!r){this.line_char_count--;continue}if("\n"===i||"\r"===i){s+="\n",this.line_char_count=0;continue}}s+=i,this.line_char_count++,r=!0}while(-1==s.indexOf(e));return s},this.get_token=function(){var e,t;return"TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token?(e=this.last_token.substr(7),"string"!=typeof(t=this.get_contents_to(e))?t:[t,"TK_"+e]):"CONTENT"===this.current_mode?"string"!=typeof(t=this.get_content())?t:[t,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!=typeof(t=this.get_tag())?t:[t,"TK_TAG_"+this.tag_type]:void 0},this.get_full_indent=function(e){return(e=this.indent_level+e||0)<1?"":Array(e+1).join(this.indent_string)},this.printer=function(e,t,i,s,r){this.input=e||"",this.output=[],this.indent_character=t,this.indent_string="",this.indent_size=i,this.brace_style=r,this.indent_level=0,this.max_char=s;for(var n=this.line_char_count=0;n<this.indent_size;n++)this.indent_string+=this.indent_character;this.print_newline=function(e,t){if(this.line_char_count=0,t&&t.length){if(!e)for(;this.Utils.in_array(t[t.length-1],this.Utils.whitespace);)t.pop();t.push("\n");for(var i=0;i<this.indent_level;i++)t.push(this.indent_string)}},this.print_token=function(e){this.output.push(e)},this.indent=function(){this.indent_level++},this.unindent=function(){0<this.indent_level&&this.indent_level--}},this}).printer(e,r,s,1/0,n);;){var o,a,d,h,c=i.get_token();if(i.token_text=c[0],i.token_type=c[1],"TK_EOF"===i.token_type)break;switch(i.token_type){case"TK_TAG_START":i.print_newline(!1,i.output),i.print_token(i.token_text),i.indent(),i.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":i.print_newline(!1,i.output),i.print_token(i.token_text),i.current_mode="CONTENT";break;case"TK_TAG_END":"TK_CONTENT"===i.last_token&&""===i.last_text&&(h=i.token_text.match(/\w+/)[0],null!==(u=i.output[i.output.length-1].match(/<\s*(\w+)/))&&u[1]===h||i.print_newline(!0,i.output)),i.print_token(i.token_text),i.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var u=i.token_text.match(/^\s*<([a-z]+)/i);u&&i.Utils.in_array(u[1],l)||i.print_newline(!1,i.output),i.print_token(i.token_text),i.current_mode="CONTENT";break;case"TK_CONTENT":""!==i.token_text&&i.print_token(i.token_text),i.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":""!==i.token_text&&(i.output.push("\n"),h=i.token_text,d="keep"==t.indent_scripts?0:"separate"==t.indent_scripts?-i.indent_level:1,o=i.get_full_indent(d),a=h.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(i.indent_string).length-1,d=i.get_full_indent(d-a),(h=h.replace(/^\s*/,o).replace(/\r\n|\r|\n/g,"\n"+d).replace(/\s*$/,""))&&(i.print_token(h),i.print_newline(!0,i.output))),i.current_mode="TAG"}i.last_token=i.token_type,i.last_text=i.token_text}return i.output.join("")}}}(jqxBaseFramework),!function(s){s.jqx.jqxWidget("jqxExpander","",{}),s.extend(s.jqx._jqxExpander.prototype,{defineInstance:function(){var e={width:"auto",height:"auto",expanded:!0,expandAnimationDuration:259,collapseAnimationDuration:250,animationType:"slide",toggleMode:"click",showArrow:!0,arrowPosition:"right",headerPosition:"top",disabled:!1,initContent:null,rtl:!1,easing:"easeInOutSine",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["expanding","expanded","collapsing","collapsed","resize"]};return this===s.jqx._jqxExpander.prototype||s.extend(!0,this,e),e},createInstance:function(){this._isTouchDevice=s.jqx.mobile.isTouchDevice(),s.jqx.aria(this),this._cachedHTMLStructure=this.host.html(),this._rendered=!1,this.render(),this._rendered=!0},expand:function(){if(!1===this.disabled&&!1===this.expanded&&1==this._expandChecker){var e=this;switch(this._expandChecker=0,this._raiseEvent("0"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-icon-arrow-down-selected jqx-expander-arrow-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-expander-arrow-bottom")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top jqx-expander-arrow-expanded-top"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideDown({duration:this.expandAnimationDuration,easing:this.easing,complete:function(){e.expanded=!0,s.jqx.aria(e._header,"aria-expanded",!0),s.jqx.aria(e._content,"aria-hidden",!1),e._raiseEvent("1"),e.initContent&&!1===e._initialized&&(e.initContent(),e._initialized=!0)}}):"bottom"==this.headerPosition&&(this._contentElement.style.display="",this._contentElement.style.height="0px",s.jqx.browser.msie&&s.jqx.browser.version<8&&(this._contentElement.style.display="block"),!0===this._cntntEmpty?this._content.animate({height:0},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){e.expanded=!0,s.jqx.aria(e._header,"aria-expanded",!0),s.jqx.aria(e._content,"aria-hidden",!1),e._raiseEvent("1"),e.initContent&&!1===e._initialized&&(e.initContent(),e._initialized=!0)}}):this._content.animate({height:this._contentHeight},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){e.expanded=!0,s.jqx.aria(e._header,"aria-expanded",!0),s.jqx.aria(e._content,"aria-hidden",!1),e._raiseEvent("1"),e.initContent&&!1===e._initialized&&(e.initContent(),e._initialized=!0)}}));break;case"fade":this._content.fadeIn({duration:this.expandAnimationDuration,easing:this.easing,complete:function(){e.expanded=!0,s.jqx.aria(e._header,"aria-expanded",!0),s.jqx.aria(e._content,"aria-hidden",!1),e._raiseEvent("1"),e.initContent&&!1===e._initialized&&(e.initContent(),e._initialized=!0)}});break;case"none":this._contentElement.style.display="",this.expanded=!0,s.jqx.aria(e._header,"aria-expanded",!0),s.jqx.aria(e._content,"aria-hidden",!1),this._raiseEvent("1"),this.initContent&&!1===this._initialized&&(this.initContent(),this._initialized=!0)}}},collapse:function(){if(!1===this.disabled&&!0===this.expanded&&0===this._expandChecker){var e=this;switch(this._expandChecker=1,this._raiseEvent("2"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),this._header.addClass(this.toThemeProperty("jqx-fill-state-normal")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")),e._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-hover"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-selected jqx-expander-arrow-top jqx-expander-arrow-expanded-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-expander-arrow-bottom")),e._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-hover"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideUp({duration:this.collapseAnimationDuration,easing:this.easing,complete:function(){e.expanded=!1,s.jqx.aria(e._header,"aria-expanded",!1),s.jqx.aria(e._content,"aria-hidden",!0),e._raiseEvent("3")}}):"bottom"==this.headerPosition&&this._content.animate({height:0},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){e._contentElement.style.display="none",e.expanded=!1,s.jqx.aria(e._header,"aria-expanded",!1),s.jqx.aria(e._content,"aria-hidden",!0),e._raiseEvent("3")}});break;case"fade":this._content.fadeOut({duration:this.collapseAnimationDuration,easing:this.easing,complete:function(){e.expanded=!1,s.jqx.aria(e._header,"aria-expanded",!1),s.jqx.aria(e._content,"aria-hidden",!0),e._raiseEvent("3")}});break;case"none":e._contentElement.style.display="none",this.expanded=!1,s.jqx.aria(e._header,"aria-expanded",!1),s.jqx.aria(e._content,"aria-hidden",!0),this._raiseEvent("3")}}},setHeaderContent:function(e){this._headerText.innerHTML=e,this.invalidate()},getHeaderContent:function(){return this._headerText.innerHTML},setContent:function(e){this._content.html(e),this._checkContent(),this.invalidate()},getContent:function(){return this._content.html()},enable:function(){this.disabled=!1,this.refresh(),s.jqx.aria(this,"aria-disabled",!1)},disable:function(){this.disabled=!0,this.refresh(),s.jqx.aria(this,"aria-disabled",!0)},invalidate:function(){s.jqx.isHidden(this.host)||this._setSize()},refresh:function(e){!0!==e&&(this._removeHandlers(),!0===this.showArrow?this._arrowElement.style.display="":this._arrowElement.style.display="none",this._setTheme(),this._setSize(),!1===this.disabled&&this._toggle(),this._keyBoard())},render:function(){var e=this;if(e._rendered)e.refresh();else{this.widgetID=this.element.id;var t=this.host.children(),i=(this._headerText=t[0],this._headerElement=document.createElement("div"),this._header=s(this._headerElement),this._contentElement=t[1],this._content=s(this._contentElement),this._content.initAnimate&&this._content.initAnimate(),"top"===this.headerPosition?e.element.insertBefore(e._headerElement,e._headerText):e.element.appendChild(e._headerElement),e._headerElement.appendChild(e._headerText),this._headerText.className);this._headerElement.className=i,this._headerText.className="",this.rtl?this._headerText.className+=" "+e.toThemeProperty("jqx-expander-header-content-rtl"):this._headerText.className+=" "+e.toThemeProperty("jqx-expander-header-content"),e._arrowElement=document.createElement("div"),e._headerElement.appendChild(e._arrowElement),this._arrow=s(e._arrowElement),!0===this.showArrow?e._arrowElement.style.display="":e._arrowElement.style.display="none",null===this._headerElement.getAttribute("tabindex")&&null===this._contentElement.getAttribute("tabindex")&&("top"===e.headerPosition?(this._headerElement.setAttribute("tabindex",1),this._contentElement.setAttribute("tabindex",2)):(this._headerElement.setAttribute("tabindex",2),this._contentElement.setAttribute("tabindex",1))),this._setTheme();try{if(0===this._header.length||0===this._content.length||t.length<2||2<t.length)throw"Invalid jqxExpander structure. Please add only two child div elements to your jqxExpander div that will represent the expander's header and content."}catch(e){throw new Error(e)}this._setSize(),!0===this.expanded?("top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-selected jqx-expander-arrow-top jqx-expander-arrow-expanded-top")),this.initContent&&this.initContent(),this._initialized=!0,this._expandChecker=0):!1===this.expanded&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected jqx-icon-arrow-up-selected")),"top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-expander-arrow-bottom")),this._initialized=!1,this._expandChecker=1,this._contentElement.style.display="none"),this._checkContent(),!1===this.disabled&&this._toggle(),this._keyBoard(),s.jqx.utilities.resize(this.host,function(){e.invalidate()})}},destroy:function(){this.removeHandler(s(window),"resize.expander"+this.widgetID),this.host.remove(),s(this.element).removeData("jqxExpander")},focus:function(){try{!1===this.disabled&&this._headerElement.focus()}catch(e){}},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(e,t,i,s){e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("width"==t||"height"==t?e._setSize():"expanded"==t?!0===s&&!1===i?(this.expanded=!1,this.expand()):!1===s&&!0===i&&(this.expanded=!0,this.collapse()):this.refresh())},_raiseEvent:function(e,t){var i,e=this.events[e],e=new s.Event(e);e.owner=this,e.args=t;try{i=this.host.trigger(e)}catch(e){}return i},resize:function(e,t){this.width=e,this.height=t,this._setSize()},_setSize:function(){this.element.style.width=this._toPx(this.width),this.element.style.height=this._toPx(this.height),this._headerElement.style.height="auto",this._headerElement.style.minHeight=this._arrowElement.offsetHeight;var e=this.arrowPosition;if(this.rtl)switch(e){case"left":e="right";break;case"right":e="left"}"right"==e?(this._headerText.style.float="left",this._headerText.style.marginLeft="0px",this._arrowElement.style.float="right",this._arrowElement.style.position="relative"):"left"==e&&("auto"==this.width?(this._headerText.style.float="left",this._headerText.style.marginLeft="17px",this._arrowElement.style.float="left",this._arrowElement.style.position="absolute"):(this._headerText.style.float="right",this._headerText.style.marginLeft="0px",this._arrowElement.style.float="left",this._arrowElement.style.position="relative")),this._arrowElement.style.marginTop=this._headerText.offsetHeight/2-this._arrowElement.offsetHeight/2+"px",this._contentElement.style.height="auto";var t,i=Math.max(0,this._content.height());"auto"==this.height?this._contentHeight=i:((t=Math.round(this.element.offsetHeight)-Math.round(this._header.outerHeight())-1)<0&&(t=0),this._contentHeight||(this._contentHeight=i),t!=this._contentHeight?(this._contentElement.style.height=this._toPx(t),this._contentHeight=Math.round(this._content.outerHeight())):this._contentElement.style.height=this._toPx(this._contentHeight))},_toggle:function(){var e=this;if(!1===this._isTouchDevice)switch(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.toggleMode){case"click":this.addHandler(this._header,"click.expander"+this.widgetID,function(){e._animate()});break;case"dblclick":this.addHandler(this._header,"dblclick.expander"+this.widgetID,function(){e._animate()});break;case"none":this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled"))}else"none"!=this.toggleMode&&this.addHandler(this._header,s.jqx.mobile.getTouchEventName("touchstart")+"."+this.widgetID,function(){e._animate()})},_animate:function(){!0===this.expanded?(this.collapse(),this._header.addClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover"))):(this.expand(),this._header.removeClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==this.headerPosition?this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==this.headerPosition&&this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover")))},_removeHandlers:function(){this.removeHandler(this._header,"click.expander"+this.widgetID),this.removeHandler(this._header,"dblclick.expander"+this.widgetID),this.removeHandler(this._header,"mouseenter.expander"+this.widgetID),this.removeHandler(this._header,"mouseleave.expander"+this.widgetID)},_setTheme:function(){var e=this,t="jqx-widget jqx-expander",i="jqx-widget-header jqx-expander-header",s="jqx-widget-content jqx-expander-content";!0===this.rtl&&(t+=" jqx-rtl"),!1===this.disabled?(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),!0===this.expanded?i+=" jqx-fill-state-pressed jqx-expander-header-expanded":(i+=" jqx-fill-state-normal",this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"))),this._hovered=!1,e._isTouchDevice||(this.addHandler(this._header,"mouseenter.expander"+this.widgetID,function(){e._hovered=!0,1==e._expandChecker&&(e._header.removeClass(e.toThemeProperty("jqx-fill-state-normal jqx-fill-state-pressed")),e._header.addClass(e.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==e.headerPosition?(e.expanded?e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-up-hover")):e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover"))):"bottom"==e.headerPosition&&(e.expanded&&e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover"))))}),this.addHandler(this._header,"mouseleave.expander"+this.widgetID,function(){e._hovered=!1,e._header.removeClass(e.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),e._arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-hover jqx-icon-arrow-down-hover")),"top"==e.headerPosition?e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==e.headerPosition&&e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover")),1==e._expandChecker?e._header.addClass(e.toThemeProperty("jqx-fill-state-normal")):e._header.addClass(e.toThemeProperty("jqx-fill-state-pressed"))}))):(t+=" jqx-fill-state-disabled",i+=" jqx-expander-header-disabled"),"top"==this.headerPosition?s+=" jqx-expander-content-bottom":"bottom"==this.headerPosition&&(s+=" jqx-expander-content-top"),this.host.addClass(this.toThemeProperty(t)),this._header.addClass(this.toThemeProperty(i)),this._content.addClass(this.toThemeProperty(s)),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow"))},_checkContent:function(){this._cntntEmpty=/^\s*$/.test(this._contentElement.innerHTML),!0===this._cntntEmpty?(this._contentElement.style.height="0px",this._content.addClass(this.toThemeProperty("jqx-expander-content-empty"))):("auto"===this.height?this._contentElement.style.height="auto":this._contentElement.style.height=this._contentHeight+"px",this._content.removeClass(this.toThemeProperty("jqx-expander-content-empty")))},_keyBoard:function(){var i=this;this._focus(),this.addHandler(this.host,"keydown.expander"+this.widgetID,function(e){var t=!1;if(!0!==i.focusedH&&!0!==i.focusedC||!1!==i.disabled)return t&&e.preventDefault&&e.preventDefault(),!t;switch(e.keyCode){case 13:case 32:"none"!=i.toggleMode&&(!0===i.focusedH&&i._animate(),t=!0);break;case 38:!0===e.ctrlKey&&!0===i.focusedC&&i._headerElement.focus(),t=!0;break;case 40:!0===e.ctrlKey&&!0===i.focusedH&&i._contentElement.focus(),t=!0}return!0})},_focus:function(){var e=this;this.addHandler(this._header,"focus.expander"+this.widgetID,function(){e.focusedH=!0,s.jqx.aria(e._header,"aria-selected",!0),e._header.addClass(e.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._header,"blur.expander"+this.widgetID,function(){e.focusedH=!1,s.jqx.aria(e._header,"aria-selected",!1),e._header.removeClass(e.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._headerText,"focus.expander"+this.widgetID,function(){e._headerElement.focus()}),this.addHandler(this._arrow,"focus.expander"+this.widgetID,function(){e._headerElement.focus()}),this.addHandler(this._content,"focus.expander"+this.widgetID,function(){e.focusedC=!0,e._content.addClass(e.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._content,"blur.expander"+this.widgetID,function(){e.focusedC=!1,e._content.removeClass(e.toThemeProperty("jqx-fill-state-focus"))})},_toPx:function(e){return"number"==typeof e?e+"px":e}})}(jqxBaseFramework),!function(u){u.jqx.jqxWidget("jqxFileUpload","",{}),u.extend(u.jqx._jqxFileUpload.prototype,{defineInstance:function(){var e={width:null,height:"auto",uploadUrl:"",fileInputName:"",autoUpload:!1,multipleFilesUpload:!0,accept:null,browseTemplate:"",uploadTemplate:"",cancelTemplate:"",localization:null,renderFiles:null,disabled:!1,rtl:!1,events:["select","remove","uploadStart","uploadEnd"]};return this===u.jqx._jqxFileUpload.prototype||u.extend(!0,this,e),e},createInstance:function(){var e=this;if(void 0===e.host.jqxButton)throw new Error("jqxFileUpload: Missing reference to jqxbuttons.js");e._createFromInput("jqxFileUpload"),u.jqx.browser.msie?u.jqx.browser.version<11&&(e._ieOldWebkit=!0,u.jqx.browser.version<8&&(e._ie7=!0)):u.jqx.browser.webkit&&(e._ieOldWebkit=!0),e._fluidWidth="string"==typeof e.width&&"%"===e.width.charAt(e.width.length-1),e._fluidHeight="string"==typeof e.height&&"%"===e.height.charAt(e.height.length-1),e._render(!0)},_createFromInput:function(e){var t,i,s=this;"input"==s.element.nodeName.toLowerCase()&&(s.field=s.element,s.field.className&&(s._className=s.field.className),t={title:s.field.title},s.field.id.length?t.id=s.field.id.replace(/[^\w]/g,"_")+"_"+e:t.id=u.jqx.utilities.createId()+"_"+e,(e=u("<div></div>",t))[0].style.cssText=s.field.style.cssText,s.width||(s.width=u(s.field).width()),s.height||(s.height=u(s.field).outerHeight()),u(s.field).hide().after(e),i=s.host.data(),s.host=e,s.host.data(i),s.element=e[0],s.element.id=s.field.id,s.field.id=t.id,s._className&&(s.host.addClass(s._className),u(s.field).removeClass(s._className)),s.field.tabIndex&&(i=s.field.tabIndex,s.field.tabIndex=-1,s.element.tabIndex=i))},_render:function(e){var n=this;n._setSize(),n._addClasses(),!0===e?n._appendElements():n._removeHandlers(),n._addHandlers(),n._ie7&&(n._borderAndPadding("width",n.host),"auto"!==n.height&&n._borderAndPadding("height",n.host)),u.jqx.utilities.resize(n.host,null,!0),u.jqx.utilities.resize(n.host,function(){if(n._fluidWidth){n._ie7&&(n.host.css("width",n.width),n._borderAndPadding("width",n.host));for(var e=0;e<n._fileRows.length;e++){var t=n._fileRows[e],i=t.fileRow;n._ie7&&(i.css("width","100%"),n._borderAndPadding("width",i)),n.renderFiles||n._setMaxWidth(t)}if(n.rtl&&n._ieOldWebkit)for(var s=0;s<n._forms.length;s++){var r=n._browseButton.position();n._forms[s].form.css({left:r.left,top:r.top})}}n._ie7&&n._fluidHeight&&(n.host.css("height",n.height),n._borderAndPadding("height",n.host))})},render:function(){this._render(!1)},refresh:function(e){!0!==e&&this._render(!1)},destroy:function(){this.cancelAll(),this._removeHandlers(!0),this.host.remove()},browse:function(){u.jqx.browser.msie&&u.jqx.browser.version<10||(!0===this.multipleFilesUpload||!1===this.multipleFilesUpload&&0===this._fileRows.length)&&this._forms[this._forms.length-1].fileInput.click()},_uploadFile:function(e){0===this._uploadQueue.length&&this._uploadQueue.push(e),this.renderFiles||(e.uploadFile.add(e.cancelFile).hide(),e.loadingElement.show()),e.fileInput.attr("name",this.fileInputName),this._raiseEvent("2",{file:e.fileName}),e.form[0].submit(),this._fileObjectToRemove=e},uploadFile:function(e){e=this._fileRows[e];void 0!==e&&this._uploadFile(e)},uploadAll:function(){if(0<this._fileRows.length){for(var e=this._fileRows.length-1;0<=e;e--)this._uploadQueue.push(this._fileRows[e]);this._uploadFile(this._fileRows[0])}},cancelFile:function(e){this._removeSingleFileRow(this._fileRows[e])},cancelAll:function(){var e=this;if(0<e._fileRows.length){for(var t=0;t<e._fileRows.length;t++)e._removeFileRow(e._fileRows[t]);setTimeout(function(){e._browseButton.css("margin-bottom",0)},400),e._fileRows.length=0,e._hideButtons(!0)}},propertyChangedHandler:function(e,t,i,s){var r=e.element.id;if("localization"===t)return!s.browseButton||i&&s.browseButton===i.browseButton||(e._browseButton.text(s.browseButton),e._browseButton.jqxButton({width:"auto"})),!s.uploadButton||i&&s.uploadButton===i.uploadButton||(e._uploadButton.text(s.uploadButton),e._uploadButton.jqxButton({width:"auto"})),!s.cancelButton||i&&s.cancelButton===i.cancelButton||(e._cancelButton.text(s.cancelButton),e._cancelButton.jqxButton({width:"auto"})),void(e.renderFiles||(!s.uploadFileTooltip||i&&s.uploadFileTooltip===i.uploadFileTooltip||u("#"+r+" .jqx-file-upload-file-upload").attr("title",s.uploadFileTooltip),!s.uploadFileTooltip||i&&s.cancelFileTooltip===i.cancelFileTooltip||u("#"+r+" .jqx-file-upload-file-cancel").attr("title",s.cancelFileTooltip)));if(s!==i)switch(t){case"width":if(e.host.css("width",s),e._ie7){e._borderAndPadding("width",e.host);for(var n=0;n<e._fileRows.length;n++){var o=e._fileRows[n].fileRow;o.css("width","100%"),e._borderAndPadding("width",o)}}return void(e._fluidWidth="string"==typeof s&&"%"===s.charAt(s.length-1));case"height":return e.host.css("height",s),e._ie7&&e._borderAndPadding("height",e.host),void(e._fluidHeight="string"==typeof s&&"%"===s.charAt(s-1));case"uploadUrl":for(var a=0;a<e._forms.length;a++)e._forms[a].form.attr("action",s);return;case"accept":for(var l=0;l<e._forms.length;l++)e._forms[l].fileInput.attr("accept",s);return;case"theme":return u.jqx.utilities.setTheme(i,s,e.host),e._browseButton.jqxButton({theme:s}),e._uploadButton.jqxButton({theme:s}),void e._cancelButton.jqxButton({theme:s});case"browseTemplate":return void e._browseButton.jqxButton({template:s});case"uploadTemplate":return void e._uploadButton.jqxButton({template:s});case"cancelTemplate":return void e._cancelButton.jqxButton({template:s});case"disabled":return e._browseButton.jqxButton({disabled:s}),e._uploadButton.jqxButton({disabled:s}),e._cancelButton.jqxButton({disabled:s}),void(!0===s?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")));case"rtl":var d=s?"addClass":"removeClass";e._browseButton[d](e.toThemeProperty("jqx-file-upload-button-browse-rtl")),e._cancelButton[d](e.toThemeProperty("jqx-file-upload-button-cancel-rtl")),e._uploadButton[d](e.toThemeProperty("jqx-file-upload-button-upload-rtl")),u.jqx.browser.msie&&8<u.jqx.browser.version&&e._uploadButton[d](e.toThemeProperty("jqx-file-upload-button-upload-rtl-ie"));for(var h=0;h<e._fileRows.length;h++){var c=e._fileRows[h];c.fileNameContainer[d](e.toThemeProperty("jqx-file-upload-file-name-rtl")),c.cancelFile[d](e.toThemeProperty("jqx-file-upload-file-cancel-rtl")),c.uploadFile[d](e.toThemeProperty("jqx-file-upload-file-upload-rtl")),c.loadingElement[d](e.toThemeProperty("jqx-file-upload-loading-element-rtl"))}return}},_raiseEvent:function(e,t){e=this.events[e],(t=void 0===t?{owner:null}:t).owner=this,e=new u.Event(e);return e.owner=this,e.args=t,e.preventDefault&&e.preventDefault(),this.host.trigger(e)},_setSize:function(){this.host.css("width",this.width),this.host.css("height",this.height)},_borderAndPadding:function(e,t){var i="width"===e?parseInt(t.css("border-left-width"),10)+parseInt(t.css("border-right-width"),10)+parseInt(t.css("padding-left"),10)+parseInt(t.css("padding-right"),10):parseInt(t.css("border-top-width"),10)+parseInt(t.css("border-bottom-width"),10)+parseInt(t.css("padding-top"),10)+parseInt(t.css("padding-bottom"),10);t.css(e,t[e]()-i)},_addClasses:function(){this.host.addClass(this.toThemeProperty("jqx-widget jqx-widget-content jqx-rc-all jqx-file-upload")),!0===this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))},_appendElements:function(){var e=this,t="Browse",i=90,s="Upload All",r=90,n="Cancel All",o=90,a=e.element.id;e.localization&&(e.localization.browseButton&&(t=e.localization.browseButton,i="auto"),e.localization.uploadButton&&(s=e.localization.uploadButton,r="auto"),e.localization.cancelButton&&(n=e.localization.cancelButton,o="auto")),e._browseButton=u('<button id="'+a+'BrowseButton" class="'+e.toThemeProperty("jqx-file-upload-button-browse")+'">'+t+"</button>"),e.host.append(e._browseButton),e._browseButton.jqxButton({theme:e.theme,width:i,template:e.browseTemplate,disabled:e.disabled}),e._browseButton.after('<div style="clear: both;"></div>'),e._bottomButtonsContainer=u('<div class="'+e.toThemeProperty("jqx-file-upload-buttons-container")+'"></div>'),e.host.append(e._bottomButtonsContainer),e._uploadButton=u('<button id="'+a+'UploadButton" class="'+e.toThemeProperty("jqx-file-upload-button-upload")+'">'+s+"</button>"),e._bottomButtonsContainer.append(e._uploadButton),e._uploadButton.jqxButton({theme:e.theme,width:r,template:e.uploadTemplate,disabled:e.disabled}),e._cancelButton=u('<button id="'+a+'CancelButton" class="'+e.toThemeProperty("jqx-file-upload-button-cancel")+'">'+n+"</button>"),e._bottomButtonsContainer.append(e._cancelButton),e._cancelButton.jqxButton({theme:e.theme,width:o,template:e.cancelTemplate,disabled:e.disabled}),e._bottomButtonsContainer.after('<div style="clear: both;"></div>'),e.rtl&&(e._browseButton.addClass(e.toThemeProperty("jqx-file-upload-button-browse-rtl")),e._cancelButton.addClass(e.toThemeProperty("jqx-file-upload-button-cancel-rtl")),e._uploadButton.addClass(e.toThemeProperty("jqx-file-upload-button-upload-rtl")),u.jqx.browser.msie&&8<u.jqx.browser.version&&e._uploadButton.addClass(e.toThemeProperty("jqx-file-upload-button-upload-rtl-ie"))),e._uploadIframe=u('<iframe name="'+a+'Iframe" class="'+e.toThemeProperty("jqx-file-upload-iframe")+'" src=""></iframe>'),e.host.append(e._uploadIframe),e._iframeInitialized=!1,e._uploadQueue=[],e._forms=[],e._addFormAndFileInput(),e._fileRows=[]},_addFormAndFileInput:function(){var e,t,i,s,r=this,n=r.element.id,o=u('<form class="'+r.toThemeProperty("jqx-file-upload-form")+'" action="'+r.uploadUrl+'" target="'+n+'Iframe" method="post" enctype="multipart/form-data"></form>'),a=(r.host.append(o),u('<input type="file" class="'+r.toThemeProperty("jqx-file-upload-file-input")+'" />'));r.accept&&a.attr("accept",r.accept),o.append(a),r._ieOldWebkit&&(e=r._browseButton.position(),t=r._browseButton.outerWidth(),i=r._browseButton.outerHeight(),s=r.rtl&&r._ie7?12:0,o.css({left:e.left-s,top:e.top,width:t,height:i}),o.addClass(r.toThemeProperty("jqx-file-upload-form-ie9")),a.addClass(r.toThemeProperty("jqx-file-upload-file-input-ie9")),r.addHandler(o,"mouseenter.jqxFileUpload"+n,function(){r._browseButton.addClass(r.toThemeProperty("jqx-fill-state-hover"))}),r.addHandler(o,"mouseleave.jqxFileUpload"+n,function(){r._browseButton.removeClass(r.toThemeProperty("jqx-fill-state-hover"))}),r.addHandler(o,"mousedown.jqxFileUpload"+n,function(){r._browseButton.addClass(r.toThemeProperty("jqx-fill-state-pressed"))}),r.addHandler(u(document),"mouseup.jqxFileUpload"+n,function(){r._browseButton.hasClass("jqx-fill-state-pressed")&&r._browseButton.removeClass(r.toThemeProperty("jqx-fill-state-pressed"))})),r.addHandler(a,"change.jqxFileUpload"+n,function(){var e=-1!==(e=this.value).indexOf("fakepath")?e.slice(12):e.slice(e.lastIndexOf("\\")+1),t=u.jqx.browser.msie&&u.jqx.browser.version<10?"IE9 and earlier do not support getting the file size.":this.files[0].size,e=r._addFileRow(e,o,a,t);1===r._fileRows.length&&(r._browseButton.css("margin-bottom","10px"),r._hideButtons(!1)),r._ieOldWebkit&&(r.removeHandler(o,"mouseenter.jqxFileUpload"+n),r.removeHandler(o,"mouseleave.jqxFileUpload"+n),r.removeHandler(o,"mousedown.jqxFileUpload"+n)),r._addFormAndFileInput(),r.removeHandler(a,"change.jqxFileUpload"+n),!0===r.autoUpload&&r._uploadFile(e)}),!0===r._ieOldWebkit&&r.addHandler(a,"click.jqxFileUpload"+n,function(e){!1===r.multipleFilesUpload&&0<r._fileRows.length&&e.preventDefault()}),r._forms.push({form:o,fileInput:a})},_addFileRow:function(e,t,i,s){var r,n,o,a,l=this,d="Cancel",h="Upload File",c=u('<div class="'+l.toThemeProperty("jqx-widget-content jqx-rc-all jqx-file-upload-file-row")+'"></div>'),d=((0===l._fileRows.length?l._browseButton:l._fileRows[l._fileRows.length-1].fileRow).after(c),l.renderFiles?c.html(l.renderFiles(e)):(r=u('<div class="'+l.toThemeProperty("jqx-widget-header jqx-rc-all jqx-file-upload-file-name")+'">'+e+"</div>"),c.append(r),l.localization&&(l.localization.cancelFileTooltip&&(d=l.localization.cancelFileTooltip),l.localization.uploadFileTooltip&&(h=l.localization.uploadFileTooltip)),o=u('<div class="'+l.toThemeProperty("jqx-widget-header jqx-rc-all jqx-file-upload-file-cancel")+'" title="'+d+'"><div class="'+l.toThemeProperty("jqx-icon-close jqx-file-upload-icon")+'"></div></div>'),c.append(o),a=u('<div class="'+l.toThemeProperty("jqx-widget-header jqx-rc-all jqx-file-upload-file-upload")+'" title="'+h+'"><div class="'+l.toThemeProperty("jqx-icon-arrow-up jqx-file-upload-icon jqx-file-upload-icon-upload")+'"></div></div>'),c.append(a),n=u('<div class="'+l.toThemeProperty("jqx-file-upload-loading-element")+'"></div>'),c.append(n),l.rtl&&(r.addClass(l.toThemeProperty("jqx-file-upload-file-name-rtl")),o.addClass(l.toThemeProperty("jqx-file-upload-file-cancel-rtl")),a.addClass(l.toThemeProperty("jqx-file-upload-file-upload-rtl")),n.addClass(l.toThemeProperty("jqx-file-upload-loading-element-rtl"))),l._setMaxWidth({fileNameContainer:r,uploadFile:a,cancelFile:o})),l._ie7&&(l._borderAndPadding("width",c),l._borderAndPadding("height",c),l.renderFiles||(l._borderAndPadding("height",r),l._borderAndPadding("height",a),l._borderAndPadding("height",o))),{fileRow:c,fileNameContainer:r,fileName:e,uploadFile:a,cancelFile:o,loadingElement:n,form:t,fileInput:i,index:l._fileRows.length});return l._addFileHandlers(d),l._fileRows.push(d),l._raiseEvent("0",{file:e,size:s}),d},_setMaxWidth:function(e){var t=e.cancelFile.outerWidth(!0)+e.uploadFile.outerWidth(!0),i=this._ie7?6:0,t=this.host.width()-parseInt(this.host.css("padding-left"),10)-parseInt(this.host.css("padding-right"),10)-t-i-7;e.fileNameContainer.css("max-width",t)},_addFileHandlers:function(e){var t,i=this;i.renderFiles||(t=i.element.id,i.addHandler(e.uploadFile,"mouseenter.jqxFileUpload"+t,function(){!1===i.disabled&&e.uploadFile.addClass(i.toThemeProperty("jqx-fill-state-hover"))}),i.addHandler(e.uploadFile,"mouseleave.jqxFileUpload"+t,function(){!1===i.disabled&&e.uploadFile.removeClass(i.toThemeProperty("jqx-fill-state-hover"))}),i.addHandler(e.uploadFile,"click.jqxFileUpload"+t,function(){!1===i.disabled&&i._uploadFile(e)}),i.addHandler(e.cancelFile,"mouseenter.jqxFileUpload"+t,function(){!1===i.disabled&&e.cancelFile.addClass(i.toThemeProperty("jqx-fill-state-hover"))}),i.addHandler(e.cancelFile,"mouseleave.jqxFileUpload"+t,function(){!1===i.disabled&&e.cancelFile.removeClass(i.toThemeProperty("jqx-fill-state-hover"))}),i.addHandler(e.cancelFile,"click.jqxFileUpload"+t,function(){!1===i.disabled&&i._removeSingleFileRow(e)}))},_removeSingleFileRow:function(e){var t=this;if(t._removeFileRow(e),t._fileRows.splice(e.index,1),0===t._fileRows.length)setTimeout(function(){t._browseButton.css("margin-bottom",0)},400),t._hideButtons(!0);else for(var i=0;i<t._fileRows.length;i++)t._fileRows[i].index=i},_removeFileRow:function(e){var t=this.element.id;this.renderFiles||(this.removeHandler(e.uploadFile,"mouseenter.jqxFileUpload"+t),this.removeHandler(e.uploadFile,"mouseleave.jqxFileUpload"+t),this.removeHandler(e.uploadFile,"click.jqxFileUpload"+t),this.removeHandler(e.cancelFile,"mouseenter.jqxFileUpload"+t),this.removeHandler(e.cancelFile,"mouseleave.jqxFileUpload"+t),this.removeHandler(e.cancelFile,"click.jqxFileUpload"+t)),e.fileRow.fadeOut(function(){e.fileRow.remove(),e.form.remove()}),this._raiseEvent("1",{file:e.fileName})},_hideButtons:function(e){!0===e?this._bottomButtonsContainer.fadeOut():this._bottomButtonsContainer.fadeIn()},_addHandlers:function(){var t=this,e=t.element.id;t._ieOldWebkit||t.addHandler(t._browseButton,"click.jqxFileUpload"+e,function(){t.browse()}),t.addHandler(t._uploadButton,"click.jqxFileUpload"+e,function(){t.uploadAll()}),t.addHandler(t._cancelButton,"click.jqxFileUpload"+e,function(){t.cancelAll()}),t.addHandler(t._uploadIframe,"load.jqxFileUpload"+e,function(){var e;(u.jqx.browser.chrome||u.jqx.browser.webkit)&&(t._iframeInitialized=!0),!1===t._iframeInitialized?t._iframeInitialized=!0:(e=t._uploadIframe.contents().find("body").html(),0<t._uploadQueue.length&&t._raiseEvent("3",{file:t._uploadQueue[t._uploadQueue.length-1].fileName,response:e}),t._fileObjectToRemove&&(t._removeSingleFileRow(t._fileObjectToRemove),t._fileObjectToRemove=null),t._uploadQueue.pop(),0<t._uploadQueue.length&&t._uploadFile(t._uploadQueue[t._uploadQueue.length-1]))})},_removeHandlers:function(e){var t=this,i=t.element.id;t.removeHandler(t._browseButton,"click.jqxFileUpload"+i),t.removeHandler(t._uploadButton,"click.jqxFileUpload"+i),t.removeHandler(t._cancelButton,"click.jqxFileUpload"+i),t.removeHandler(t._uploadIframe,"load.jqxFileUpload"+i),!0===e&&(e=t._forms[t._forms.length-1],t.removeHandler(e.fileInput,"change.jqxFileUpload"+i),t._ieOldWebkit&&(t.removeHandler(e.form,"mouseenter.jqxFileUpload"+i),t.removeHandler(e.form,"mouseleave.jqxFileUpload"+i),t.removeHandler(e.form,"mousedown.jqxFileUpload"+i),t.removeHandler(u("body"),"mouseup.jqxFileUpload"+i)))}})}(jqxBaseFramework),!function(w){w.jqx.jqxWidget("jqxForm","",{}),w.extend(w.jqx._jqxForm.prototype,{defineInstance:function(){w.extend(!0,this,{padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#F5F5F5",borderColor:"#E5E5E5",value:{},template:[{type:"text",label:"TextBox 1"},{type:"text",label:"TextBox 2"}]})},createInstance:function(e){this._isInitialized=!1;var t=this.host;t.addClass(this.toThemeProperty("jqx-widget")),t.addClass(this.toThemeProperty("jqx-form")),this._renderAndInit(),this._setValue(this.value),this._prevValue=this._getValue(),this._isInitialized=!0},destroy:function(){this._destroyElements(),this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_destroyElements:function(){for(var e=0;e<this.template.length;e++){if(w.isArray(this.template[e].columns))for(var t=0;t<this.template[e].columns.length;t++){var i=e+"_"+t;this._getComponentById(i).off(),this.host.find("#rowWrap_el_"+i).remove()}this._getComponentById(e).off(),this._getComponentLabelById(e).off(),this._getComponentLabelById(e).removeData(),this.host.find("#rowWrap_el_"+e).remove()}this.host.find("#formWrap").remove()},val:function(e){if(null==e)return this._getValue();this._setValue(e)},_onChangeHandler:function(e){if(this.isInitialized&&!this._suppressEvents){var t,i,s=this._getValue();if(!this._prevValue||JSON.stringify(s)!=JSON.stringify(this._prevValue))return(t=new w.Event("formDataChange")).args={value:s,previousValue:this._prevValue},i=(t.owner=this).host.trigger(t),t.cancel?this._setValue(this._prevValue):this._prevValue=s,i}},_onButtonClick:function(e,t){var i;if(this.isInitialized)return i=new w.Event("buttonClick"),i.args={name:t.name,text:e.val()},(i.owner=this).host.trigger(i)},submit:function(e,t,i){var s=this._getValue(!0),r="<form id='jqx_fromToSubmit'";e&&(r+=' action="'+e+'"'),t&&(r+=' target="'+t+'"'),i&&"get"===i.toString().toLowerCase()?r+=' method="GET"':r+=' method="POST"',r+=">";for(var n=0;n<s.length;n++){var o=s[n].value,a=s[n].tool,l=a.name;null==(l=null==l?a.id:l)&&(l=a.bind),("button"!=a.type&&"label"!=a.type||a.submit&&0!=a.submit)&&0!=a.submit&&void 0!==l&&(r=(r=r+'<input type="hidden"  name="'+l+'"')+' value="'+o+'">')}r+="</form>",this.host.find("#formSubmit").html(r),this.host.find("#jqx_fromToSubmit").submit()},_getValue:function(e){for(var t={},i=[],s=0;s<this.template.length;s++){var r=this.template[s],n="el_"+this.element.id+s;if(w.isArray(r.columns))for(var o=0;o<r.columns.length;o++){var a,l,d=r.columns[o];"option"==d.type&&"jqxDropDownList"!=d.component?(a=this._radioGroupGetValue(d,n+"."+o),null!=d.bind&&this._setObjectProperty(t,d.bind,a),e&&i.push({tool:d,value:a})):(void 0===(l=this._getComponentById(s+"_"+o).val())&&(l=null),null!=d.bind&&this._setObjectProperty(t,d.bind,l),e&&i.push({tool:d,value:l}))}else"option"==r.type&&"jqxDropDownList"!=r.component?(a=this._radioGroupGetValue(r,n),null!=r.bind&&this._setObjectProperty(t,r.bind,a),e&&i.push({tool:r,value:a})):(void 0===(l=this._getComponentById(s).val())&&(l=null),null!=r.bind&&this._setObjectProperty(t,r.bind,l),e&&i.push({tool:r,value:l}))}return e?i:w.extend({},this._prevValue,t)},_getObjectProperty:function(e,t){if("object"!=typeof e||void 0===e||void 0===t||""==t)return e;for(var i=t.split("."),s=e,r=0;r<i.length;r++)s=s[i[r]];return s},_setObjectProperty:function(e,t,i){if(void 0!==e)if(null==t||""==t)e=i;else{for(var s=t.split("."),r=0;r<s.length-1;)null==e[s[r]]&&(e[s[r]]={}),r++;e[s[r]]=i}},_setValue:function(e){this._suppressEvents=!0;for(var t=0;t<this.template.length;t++){var i,s=this.template[t],r="el_"+this.element.id+t,n=void 0;if(w.isArray(s.columns))for(var o=0;o<s.columns.length;o++){var a=s.columns[o],l=r+"."+o;a.bind&&(n=this._getObjectProperty(e,a.bind),"option"==a.type&&"jqxDropDownList"!=a.component?this._radioGroupSetValue(a,l,n):(a=this._getComponentById(t+"_"+o),void 0!==e&&a.val(n)))}else s.bind&&(n=this._getObjectProperty(e,s.bind),"option"==s.type&&"jqxDropDownList"!=s.component?this._radioGroupSetValue(s,r,n):(i=this._getComponentById(t),"label"==s.type?i.html(n):void 0!==e&&i.val(n)))}this._prevValue=e,this._suppressEvents=!1},_radioGroupGetValue:function(e,t){for(var i=0;i<e.options.length;i++){var s=this.host.find("#"+(t+"_option_"+i));if(0<s.length)if(1==s.jqxRadioButton("val"))return void 0!==e.options[i].value?e.options[i].value:e.options[i].label}},_radioGroupSetValue:function(e,t,i){for(var s=0;s<e.options.length;s++){if(void 0!==e.options[s].value){if(i!==e.options[s].value)continue}else if(i!==e.options[s].label)continue;var r=this.host.find("#"+(t+"_option_"+s));0<r.length&&r.jqxRadioButton("val",!0)}},_getToolStyle:function(e){var t="display: block;";return e.height&&(t+="height: "+e.height+";"),void 0!==e.valign?t+="vertical-align: "+e.valign+";":t+="vertical-align: middle;",t},_getAlignMargin:function(e,t){if(!e||!e[t])return"";var i=["left","right","top","bottom"],s={},r="";if(e[t]&&(s={},"left"==e[t]?(s.left="0px",s.right="auto"):"right"==e[t]?(s.left="auto",s.right="0px"):(s.left="auto",s.right="auto")),s)for(var n in i)s[i[n]]&&(r+="margin-"+i[n]+": "+s[i[n]]+";");return r},_getPaddingAndMarginStyle:function(e,t){var i="",s=["left","right","top","bottom"],r=t?"labelmargin":"margin",n=w.extend({left:5,top:5,right:5,bottom:5},e[t?"labelpadding":"padding"]);for(a in n)n[a]=isNaN(n[a])?parseFloat(n[a].toString()):n[a];var o=e[r];if(n)for(var a in s)n[s[a]]&&(i+="padding-"+s[a]+": "+n[s[a]]+"px;");if(o)for(var a in s)o[s[a]]&&(i+="margin-"+s[a]+": "+o[s[a]]+";");return i},_getToolLabelStyle:function(e){var t="display:block;";return void 0!==e.labelheight?t+="height: "+e.labelheight+";":t+="height: 100%;",void 0!==e.labelvalign?t+="vertical-align: "+e.labelvalign+";":void 0!==e.valign?t+="vertical-align: "+e.valign+";":t+="vertical-align: middle;",t},_renderAndInit:function(){var e=this._createTemplateHtml();this.host.append(e),this._initTools()},refresh:function(e){this._isInitialized&&!0!==e&&(e=this.val(),this._destroyElements(),this._renderAndInit(),this._prevValue=e,this.val(e))},_createTemplateHtml:function(){this.groups;for(var e="padding-left: "+parseFloat(this.padding.left)+"px;padding-right: "+parseFloat(this.padding.right)+"px;padding-top: "+parseFloat(this.padding.top)+"px;padding-bottom: "+parseFloat(this.padding.bottom)+"px;",t="<table id='formWrap' style='background-color: "+this.backgroundColor+"; width: 100%; white-space: nowrap; border: 1px solid "+this.borderColor+";"+e+"' cellpadding='0' cellspacing='0'><div id='formSubmit' style='display:hidden;'><div>",i=this.template,s=0;s<i.length;s++){var r="el_"+this.element.id+s,n=this.template[s];t+=this._getToolTemplate(n,r)}return t+="</table>"},_beginRow:function(e,t,i){t="<tr style='width: 100%; height: "+(t=void 0===t?"auto":t)+";' id='rowWrap_"+e+"' "+(i=i?"valign='"+i+"'":"")+">";return t+="<td style='width: 100%;'><table style='width: 100%; white-space: nowrap; border: 0px;' cellspacing='0' cellpadding='0'><tr style='width: 100%'>"},_endRow:function(){return"<td style='width: auto; background: transparent;'> </tr></table></td></tr>"},_beginColumn:function(e,t){e="<td style='width:"+(e=void 0===e?"auto":e)+"; background: transparent;'>";return e+="<div style='display:block; overflow: visible; width: 100%; background: transparent;'>"},_endColumn:function(){return"</div></td>"},_splitLabelToolWidth:function(e,t){var i,t=t?"auto":e.columnwidth,s=e.labelwidth,r=w.extend({left:5,top:5,right:5,bottom:5},e.padding),n=w.extend({left:5,top:5,right:5,bottom:5},e.labelpadding);for(i in r)r[i]=isNaN(r[i])?parseFloat(r[i].toString()):r[i];for(i in n)n[i]=isNaN(n[i])?parseFloat(n[i].toString()):n[i];return""!=e.label&&null!=e.label||(n={left:s=0,right:0,top:0,bottom:0}),"top"==e.labelposition||"bottom"==e.labelposition?(void 0===s&&(s=t),(t=(t=void 0===t?s:t)&&-1!=t.toString().indexOf("%")&&s&&-1!=s.toString().indexOf("%")?s=Math.max(parseFloat(t),parseFloat(s))+"%":t)&&-1==t.toString().indexOf("%")&&s&&-1==s.toString().indexOf("%")&&(t=s=Math.max(parseFloat(t),parseFloat(s))+"px"),[s,t]):void 0===s?void 0!==t&&"auto"!==t?["auto",t]:"right"!=e.labelposition||"right"==e.align||"center"==e.align||"middle"==e.align?["auto","100%"]:["100%","auto"]:-1!==s.toString().indexOf("%")?(s=parseFloat(s),void 0!==t?-1!==t.toString().indexOf("%")?(t=parseFloat(t),[Math.min(100,s)+"%",Math.min(t,100-s)+"%"]):(t=parseFloat(t),[Math.min(100,s)+"%",t]):[Math.min(100,s)+"%",Math.max(0,100-s)+"%"]):(s=parseFloat(s)+n.left+n.right,null==t?[s+"px","calc(100% - "+s+"px)"]:[s+"px",t])},_getToolTemplate:function(e,t,i,s){var r,n={};for(r in e)n[r.toLowerCase()]=e[r];if(w.isArray(n.columns)&&isNaN(i)){for(var o=this._beginRow(t,n.rowheight||"auto"),a=0;a<n.columns.length;a++){var l=this._getToolTemplate(n.columns[a],t+"_"+a,void 0,!0),d="auto";void 0!==n.columns[a].columnWidth?d=n.columns[a].columnWidth:void 0!==n.columns[a].width&&(d=n.columns[a].width),o=(o=o+this._beginColumn(d)+("<table cellspacing='0' cellpadding='0' style='width: 100%; white-space: nowrap; border: 0px;'>"+l+"</table>"))+this._endColumn()}return o+=this._endRow()}if("option"==n.type&&"jqxDropDownList"!=n.component&&isNaN(i)){for(var h=this._beginRow(t,n.rowheight||"auto",n.valign),a=0;a<n.options.length;a++){l=this._getToolTemplate(n,t+"_option_"+a,a,!0);"horizontal"==n.optionslayout?(d=100/Math.max(1,n.options.length)+"%",n.columnwidth&&(d=n.columnwidth),h=(h=h+this._beginColumn(d)+"<table cellspacing='0' cellpadding='0' style='width: 100%; white-space: nowrap; border: 0px;'>"+l+"</table>")+this._endColumn()):h+=l}return h+=this._endRow()}var c=n.labelposition,u=n.label,h=(void 0===(u="option"!=n.type||"jqxDropDownList"==n.component||isNaN(i)?u:n.options[i].label)&&(u=""),""),p=this._getToolLabelStyle(n)+this._getPaddingAndMarginStyle(n,!0),m=this._getToolStyle(n)+this._getPaddingAndMarginStyle(n,!1),g=this._getAlignMargin(n,"align"),f="text-align: left;",v=("center"==n.labelalign||"middle"==n.labelalign?f="text-align: center":"right"==n.labelalign&&(f="text-align: right"),"text-align: left;"),s=("center"==n.align||"middle"==n.align?v="text-align: center":"right"==n.align&&(v="text-align: right"),this._splitLabelToolWidth(n,s)),x=u,y=(n.required&&(y="<span class='' style='color:red;'>*</span>",x=n.requiredposition&&"left"==n.requiredposition.toLowerCase()?y+" "+u:u+" "+y),""),p=("boolean"!=n.type&&("option"!=n.type||isNaN(i))||(y+="; cursor: pointer;"),"<div class='' style='"+p+"'><div style='"+f+y+";' id='label_"+t+"'>"+x+"</div></div>"),f="<div style='"+(void 0!==n.info&&"left"!=n.infoposition?"margin-left: -3px;":"margin-right: -3px;")+"' class='"+this.toThemeProperty("jqx-info-icon")+"' title='"+n.info+"'></div>",y="<div style='background: transparent;"+m+"'><div style='width: auto; height: auto; "+g+"' id='"+t+"'></div></div>";return"text"==n.type||"button"==n.type?y="<div style='background: transparent;"+m+v+"'><input style='width: auto; height: auto; "+g+"' id='"+t+"' type='"+n.type+"'/></div>":"password"==n.type&&(y="<div style='background: transparent;"+m+v+"'><input type='password' style='width: auto; height: auto; "+g+"' id='"+t+"'/></div>"),"option"!=n.type||"jqxDropDownList"==n.component||isNaN(i)||(d=n.width,s=[n.labelwidth||"auto",d=void 0===d?"15px":d],!n.labelposition||"top"!=n.labelposition&&"bottom"!=n.labelposition||(s=["100%","100%"]),y="<div style='background: transparent;"+m+g+v+"'><div style='width: "+d+"; height: 100%; "+g+v+";' id='"+t+"'></div></div>"),void 0!==n.info&&""!==n.info&&(y="left"==n.infoposition?"<table cellspacing='0' cellpadding='0' style='border: 0px; white-space: nowrap;"+g+"'><tr><td>"+f+"</td><td>"+y+"</td></tr></table>":"<table cellspacing='0' cellpadding='0' style='border: 0px; white-space: nowrap;"+g+"'><tr><td>"+y+"</td><td>"+f+"</td></tr></table>"),h="right"==c?(h=(h+=this._beginRow(t,n.rowheight||"auto",n.valign))+this._beginColumn(s[1])+y,""!=u&&(h=(h+=this._endColumn())+this._beginColumn(s[0])+p),(h+=this._endColumn())+this._endRow()):"top"==c?(h=(h+=this._beginRow(t,n.rowheight||"auto",n.valign))+this._beginColumn(n.columnwidth),""!=u&&(h+=p),(h=(h+=y)+this._endColumn())+this._endRow()):"bottom"==c?(h=(h+=this._beginRow(t,n.rowheight||"auto",n.valign))+this._beginColumn(n.columnwidth)+y,""!=u&&(h+=p),(h+=this._endColumn())+this._endRow()):(h+=this._beginRow(t,n.rowheight||"auto",n.valign),(h=(h=(h=""!=u?(h=h+this._beginColumn(s[0])+p)+this._endColumn():h)+this._beginColumn(s[1])+y)+this._endColumn())+this._endRow())},_initTools:function(e,t){var i=e||this.template;null==t&&(t="");for(var s=0;s<i.length;s++){var r=i[s];if(w.isArray(r.columns))this._initTools(r.columns,s+"_");else{var n=t+s;switch(r.type){case"color":this._initColorTool(n);break;case"option":"jqxDropDownList"==r.component?this._initOptionToolDropDownList(n):this._initOptionTool(n);break;case"dropdownlist":this._initOptionToolDropDownList(n);break;case"number":this._initNumberTool(n);break;case"boolean":case"checkbox":this._initBooleanTool(n);break;case"text":this._initTextTool(n);break;case"password":this._initPasswordTool(n);break;case"label":this._initLabelTool(n);break;case"date":case"time":case"datetime":this._initDateTimeTool(n);break;case"button":this._initButtonTool(n);break;case"custom":this._initCustomTool(n)}!1===r.visible&&this._showhideComponent(void 0,n,!1),r.theme&&this._setToolTheme(r,n)}}},_setToolTheme:function(e,t){var i=this._getComponentById(t),s=e.theme||this.theme;switch(e.type){case"option":"jqxDropDownList"==e.component&&i.jqxDropDownList("theme",s);break;case"number":i.jqxNumberInput("theme",s);break;case"text":i.jqxInput("theme",s);break;case"password":i.jqxPasswordInput("theme",s)}},_initOptionTool:function(e){for(var t=this,i="el_"+this.element.id+e,s=t._getTool(e),r=0;r<s.options.length;r++){var n=i+"_option_"+r,o=t.host.find("#"+n),n=(0<o.length&&o.jqxRadioButton({width:25,theme:t.theme,groupName:"group_"+e}).on("change",function(e){t._onChangeHandler(e)}),t.host.find("#label_"+n));n.data("el",o),n.on("mousedown",function(e){w(this).data("el").jqxRadioButton("toggle")})}},_initOptionToolDropDownList:function(e){var t,i=this,s="el_"+this.element.id+e,r=i._getTool(e),e=this.host.find("#"+s),n=[];if(r.options&&w.isArray(r.options))for(var o=0;o<r.options.length;o++)n.push(r.options[o]);r.init?r.init(e):(s=isNaN(parseFloat(r.width))?"auto":r.width,r.width&&-1!=r.width.toString().indexOf("%")&&void 0===r.columnwidth&&(s="100%"),t=isNaN(parseFloat(r.height))?"30px":r.height,e.jqxDropDownList({theme:i.theme,width:s||"auto",autoDropDownHeight:!0,height:t,enableBrowserBoundsDetection:!0,source:n,selectedIndex:0})),e.on("change",function(e){i._onChangeHandler(e)})},_initNumberTool:function(e){var t,i=this,s="el_"+this.element.id+e,e=i._getTool(e),s=this.host.find("#"+s);e.init?e.init(s):(t=isNaN(parseFloat(e.width))?"auto":e.width,e=isNaN(parseFloat(e.height))?"30px":e.height,s.jqxNumberInput({theme:i.theme,width:t,height:e,inputMode:"simple"})),s.on("change",function(e){i._onChangeHandler(e)})},_initBooleanTool:function(e){var i=this,s="el_"+this.element.id+e,e=i._getTool(e),t=this.host.find("#"+s);if(e.init)e.init(t);else{var r=isNaN(parseFloat(e.width))?"auto":e.width,n=isNaN(parseFloat(e.height))?"30px":e.height,o=1==e.isThreeState;if(void 0!==e.component&&"jqxCheckBox"!=e.component)return;t.jqxCheckBox({theme:i.theme,width:r,height:n,hasThreeStates:o})}t.on("change",function(e){i._onChangeHandler(e)}),i.host.find("#label_"+s).on("mousedown",function(e){var t=i.host.find("#"+s).val();i.host.find("#"+s).val(!t)})},_initTextTool:function(e){var t,i=this,s="el_"+this.element.id+e,e=i._getTool(e),s=this.host.find("#"+s);e.init?e.init(s):(t=isNaN(parseFloat(e.width))?"auto":e.width,e=isNaN(parseFloat(e.height))?"30px":e.height,s.jqxInput({theme:i.theme,width:t,height:e})),s.on("change",function(e){i._onChangeHandler(e)})},_initLabelTool:function(e){var t="el_"+this.element.id+e,e=this._getTool(e),t=this.host.find("#"+t);e.render&&w.isFunction(e.render)&&(e=e.render(),t.html(e||""))},_getTool:function(e){var e=e.split("_"),t=this.template[e[0]];return e[1]?w.isArray(t.columns)&&t.columns.length>e[1]?t.columns[e[1]]:void 0:t},_initCustomTool:function(e){var t="el_"+this.element.id+e,e=this._getTool(e),t=this.host.find("#"+t);e.init&&e.init(t)},_initButtonTool:function(e){var t,i=this,s="el_"+this.element.id+e,r=i._getTool(e),n=this.host.find("#"+s);r.init?r.init(n):(e=isNaN(parseFloat(r.width))?"auto":r.width,t=isNaN(parseFloat(r.height))?"30px":r.height,n.jqxButton({theme:i.theme,width:e,height:t}),n.val(void 0===r.text?"Button":r.text)),this.host.find("#"+s).on("click",function(e){i._onButtonClick(n,r)})},_initPasswordTool:function(e){var t,i=this,s="el_"+this.element.id+e,e=i._getTool(e),s=this.host.find("#"+s);e.init?e.init(s):(t=isNaN(parseFloat(e.width))?"auto":e.width,e=isNaN(parseFloat(e.height))?"25px":e.height,s.jqxPasswordInput({theme:i.theme,width:t,height:e})),s.on("change",function(e){i._onChangeHandler(e)})},_initDateTimeTool:function(e){var t,i,s,r=this,n="el_"+this.element.id+e,e=r._getTool(e),n=this.host.find("#"+n);e.init?e.init(n):(t=isNaN(parseFloat(e.width))?"auto":e.width,i=isNaN(parseFloat(e.height))?"30px":e.height,s=(s=e.formatString)||("time"==e.type?"hh mm ss tt":"date"==e.type?"MM/dd/yyyy":"MM/dd/yyyy hh:mm:ss tt"),n.jqxDateTimeInput({theme:r.theme,width:t,height:i,formatString:s,showTimeButton:"date"!=e.type,showCalendarButton:"time"!=e.type})),n.on("valueChanged",function(e){r._onChangeHandler(e)})},getComponentByName:function(e){if(w.isArray(this.template))for(var t=0;t<this.template.length;t++){if(this.template[t].name==e)return this._getComponentById(t);if(w.isArray(this.template[t].columns))for(var i=0;i<this.template[t].columns.length;i++)if(this.template[t].columns[i].name==e)return this._getComponentById(t+"_"+i)}},_getComponentById:function(e){return this.host.find("#el_"+this.element.id+e)},_getComponentLabelById:function(e){return this.host.find("#label_el_"+e)},hideComponent:function(e){this._showhideComponent(e,void 0,!1)},showComponent:function(e){this._showhideComponent(e,void 0,!0)},_showhideComponent:function(e,t,i){if(w.isArray(this.template)){var s="";if(void 0===t)for(var r=0;r<this.template.length;r++){if(this.template[r].name==e){s=r;break}if(this.template[r].bind==e){s=r;break}if(w.isArray(this.template[r].columns))for(var n=0;n<this.template[r].length;n++){if(this.template[r].columns[n].name==e){s=r+"_"+n;break}if(this.template[r].columns[n].bind==e){s=r+"_"+n;break}}}else s=t;""==s||(t=this.host.find("#rowWrap_el_"+this.element.id+s))&&0!=t.length&&(i?t.show():t.hide())}}})}(jqxBaseFramework),!function(h){h.jqx.jqxWidget("jqxFormattedInput","",{}),h.extend(h.jqx._jqxFormattedInput.prototype,{defineInstance:function(){var e={width:null,height:null,radix:10,decimalNotation:"default",value:"0",min:"-9223372036854775808",max:"9223372036854775807",upperCase:!1,spinButtons:!0,spinButtonsStep:1,dropDown:!1,dropDownWidth:null,popupZIndex:2e4,placeHolder:"",roundedCorners:!0,disabled:!1,rtl:!1,changeType:null,template:"",hint:!0,_opened:!1,$popup:h("<ul></ul>"),item:'<li><a href="#"></a></li>',events:["open","close","change","radixChange"]};return this===h.jqx._jqxFormattedInput.prototype||h.extend(!0,this,e),e},createInstance:function(){this._Long(),this._regex={2:new RegExp(/([0-1])/),8:new RegExp(/([0-7])/),10:new RegExp(/([0-9\-])/),16:new RegExp(/([0-9]|[a-f])/i)},this.render()},render:function(){var e,i=this;if(i._radixNumber=i._getRadix(i.radix),""!==i.value&&(i._number=new i.longObj.math.Long.fromString(i.value.toString(),i._radixNumber)),this.element instanceof HTMLInputElement&&((e=h("<div></div>")).addClass(i.toThemeProperty("jqx-input-group")),this.host.after(e),r=this.element,t=this.host.data(),e.append(r),e[0].id=this.element.id,this.element.removeAttribute("id"),this.element.setAttribute("hint",!0),e[0].style=this.element.style,i.input=i.element,this.input instanceof HTMLInputElement||(this.input=this.host.find("input"),0<this.input.length&&(this.input=this.input[0]),h(this.input).addClass(this.toThemeProperty("jqx-input-widget"))),this.element.style=""),i.baseHost&&(i.host=i.baseHost,i.element=i.host[0]),"div"===this.element.nodeName.toLowerCase()){this.baseHost=this.element;var t,s,r=this.host.find("input"),n=!1;if(h.each(r,function(){var e=this.type;if(null===e||"text"===e||"textarea"===e)return r=h(this),!(n=!0)}),!n)throw new Error("jqxFormattedInput: Missing Text Input in the Input Group");0<r.length&&(this.baseHost=h(this.element),t=this.host.data(),this.host=r,this.element=r[0],this.host.data(t),this.baseHost.addClass(this.toThemeProperty("jqx-widget")),this.baseHost.addClass(this.toThemeProperty("jqx-rc-all")),this.baseHost.addClass(this.toThemeProperty("jqx-input-group")),this.baseHost.addClass(this.toThemeProperty("jqx-formattedinput")),s=this.baseHost.children(),h.each(s,function(e){var t;h(this).addClass(i.toThemeProperty("jqx-input-group-addon")),h(this).removeClass(i.toThemeProperty("jqx-rc-all")),0===e&&h(this).addClass(i.toThemeProperty("jqx-rc-l")),e===s.length-1&&h(this).addClass(i.toThemeProperty("jqx-rc-r")),this!==i.element&&h(this).addClass(i.toThemeProperty("jqx-fill-state-normal")),"div"===this.nodeName.toLowerCase()&&(t=function(e){i._addon=h(e),i._addon.addClass(i.toThemeProperty("jqx-formatted-input-addon")),i._arrow||(i._arrow=h('<div class="'+i.toThemeProperty("jqx-icon")+" "+i.toThemeProperty("jqx-icon-arrow-down")+'"></div>'),i._arrow.appendTo(i._addon)),i.template&&i._addon.addClass(i.toThemeProperty("jqx-"+i.template))},!(i.appendSpinButtons=function(e){i._spinButtonsContainer=h(e),i._spinButtonsContainer.addClass(i.toThemeProperty("jqx-formatted-input-spin-buttons-container"));e='<div class="'+i.toThemeProperty("jqx-fill-state-normal jqx-formatted-input-spin-button")+'"><div class="'+i.toThemeProperty("jqx-input-icon")+'"></div></div>';i._upbutton=h(e),i._spinButtonsContainer.append(i._upbutton),i._downbutton=h(e),i._spinButtonsContainer.append(i._downbutton),i._upArrow=i._upbutton.find("div"),i._upArrow.addClass(i.toThemeProperty("jqx-icon-arrow-up")),i._downArrow=i._downbutton.find("div"),i._downArrow.addClass(i.toThemeProperty("jqx-icon-arrow-down")),i.template&&(i._upbutton.addClass(i.toThemeProperty("jqx-"+i.template)),i._downbutton.addClass(i.toThemeProperty("jqx-"+i.template))),i._spinButtonsStepLong=new i.longObj.math.Long.fromNumber(i.spinButtonsStep)})===i.rtl?i._spinButtonsContainer||!0!==i.spinButtons?i._addon||!0!==i.dropDown||2!==e&&(1!==e||!1!==i.spinButtons)||t(this):i.appendSpinButtons(this):i._addon||!0!==i.dropDown?i._spinButtonsContainer||!0!==i.spinButtons||1!==e&&(0!==e||!1!==i.dropDown)||(i.appendSpinButtons(this),i._spinButtonsContainer.addClass(i.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl")),!0===i.dropDown&&i._addon.addClass(i.toThemeProperty("jqx-formatted-input-addon-rtl"))):(t(this),!0===i.spinButtons&&i._addon.addClass(i.toThemeProperty("jqx-formatted-input-addon-rtl"))))}))}i._inputAndAddon=i.host,i.baseHost&&(i._spinButtonsContainer&&(i._inputAndAddon=i._inputAndAddon.add(i._spinButtonsContainer)),i._addon&&(i._inputAndAddon=i._inputAndAddon.add(i._addon))),i.removeHandlers(),this.addHandlers(),this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl")),this.host.attr("role","textbox"),h.jqx.aria(this,"aria-autocomplete","both"),h.jqx.aria(this,"aria-disabled",this.disabled),h.jqx.aria(this,"aria-readonly",!1),h.jqx.aria(this,"aria-multiline",!1),h.jqx.aria(this,"aria-haspopup",!0),""!==i.value&&null!==i.value?(!0===i.upperCase?i.host.addClass(i.toThemeProperty("jqx-formatted-input-upper-case")):i.host.addClass(i.toThemeProperty("jqx-formatted-input-lower-case")),10===i._radixNumber&&"exponential"===i.decimalNotation?i.element.value=i._getDecimalNotation("exponential"):i.element.value=i.value):i._spinButtonsContainer&&i._spinButtonsContainer.addClass(i.toThemeProperty("jqx-fill-state-disabled")),10!==i._radixNumber&&"-9223372036854775808"===i.min.toString()?i._minLong=new i.longObj.math.Long.fromNumber(i.min):i._setMinMax("min"),10!==i._radixNumber&&"9223372036854775807"===i.max.toString()?i._maxLong=new i.longObj.math.Long.fromNumber(i.max):i._setMinMax("max"),this._addBarAndLabel(this.baseHost&&h(this.baseHost.children()[this.baseHost.children.length-1])||this.host),i.isMaterialized()&&setTimeout(function(){if(i.hint&&(i.label[0].innerHTML=i.placeHolder),!i.baseHost)return 0===i.element.value.length?i.element.removeAttribute("hint"):i.element.setAttribute("hint",!0),void i.bar.css("top","");0===i.element.value.length?i.baseHost[0].removeAttribute("hint"):i.baseHost[0].setAttribute("hint",!0)})},_refreshClasses:function(e){e=e?"addClass":"removeClass";this.host[e](this.toThemeProperty("jqx-widget-content")),this.host[e](this.toThemeProperty("jqx-input")),this.host[e](this.toThemeProperty("jqx-formatted-input")),this.host[e](this.toThemeProperty("jqx-widget")),this.$popup[e](this.toThemeProperty("jqx-popup")),h.jqx.browser.msie&&this.$popup[e](this.toThemeProperty("jqx-noshadow")),this.$popup[e](this.toThemeProperty("jqx-input-popup")),this.$popup[e](this.toThemeProperty("jqx-menu")),this.$popup[e](this.toThemeProperty("jqx-menu-vertical")),this.$popup[e](this.toThemeProperty("jqx-menu-dropdown")),this.$popup[e](this.toThemeProperty("jqx-widget")),this.$popup[e](this.toThemeProperty("jqx-widget-content")),this.roundedCorners?(this.host[e](this.toThemeProperty("jqx-rc-all")),this.$popup[e](this.toThemeProperty("jqx-rc-all")),this.baseHost&&(this.baseHost[e](this.toThemeProperty("jqx-rc-all")),!1===this.rtl?(this.host[e](this.toThemeProperty("jqx-rc-l")),this._addon&&this._addon[e](this.toThemeProperty("jqx-rc-r"))):(this.host[e](this.toThemeProperty("jqx-rc-r")),this._addon&&this._addon[e](this.toThemeProperty("jqx-rc-l"))))):(this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.$popup.removeClass(this.toThemeProperty("jqx-rc-all")),this.baseHost&&(this.baseHost.removeClass(this.toThemeProperty("jqx-rc-all")),!1===this.rtl?(this.host.removeClass(this.toThemeProperty("jqx-rc-l")),this.dropDown?this._addon.removeClass(this.toThemeProperty("jqx-rc-r")):this.spinButtons&&this._spinButtonsContainer.removeClass(this.toThemeProperty("jqx-rc-r"))):(this.host.removeClass(this.toThemeProperty("jqx-rc-r")),this.dropDown?this._addon.removeClass(this.toThemeProperty("jqx-rc-l")):this.spinButtons&&this._spinButtonsContainer.removeClass(this.toThemeProperty("jqx-rc-l"))))),this.disabled?(this.host[e](this.toThemeProperty("jqx-fill-state-disabled")),this.baseHost&&(this._spinButtonsContainer&&this._spinButtonsContainer[e](this.toThemeProperty("jqx-fill-state-disabled")),this._addon&&this._addon[e](this.toThemeProperty("jqx-fill-state-disabled")))):(this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.baseHost&&""!==this.value&&null!==this.value&&(this._spinButtonsContainer&&this._spinButtonsContainer.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this._addon&&this._addon.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))))},selectAll:function(){var t=this.host;setTimeout(function(){var e;"selectionStart"in t[0]?(t[0].focus(),t[0].setSelectionRange(0,t[0].value.length)):((e=t[0].createTextRange()).collapse(!0),e.moveEnd("character",t[0].value.length),e.moveStart("character",0),e.select())},10)},selectLast:function(){var e=this.host;this.selectStart(e[0].value.length)},selectFirst:function(){this.selectStart(0)},selectStart:function(t){var i=this.host;setTimeout(function(){var e;"selectionStart"in i[0]?(i[0].focus(),i[0].setSelectionRange(t,t)):((e=i[0].createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select())},10)},focus:function(){try{this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(e){}},refresh:function(){var e,t,i,s,r,n,o=this;this._refreshClasses(!1),this._refreshClasses(!0),this.baseHost?(this.width&&this.baseHost.width(this.width),this.height&&(this.baseHost.height(this.height),e=0,t=this.baseHost.height()-2,h.jqx.browser.msie&&h.jqx.browser.version<8&&this.baseHost.css("display","inline-block"),h.each(this.baseHost.children(),function(){return 0<=this.className.indexOf("jqx-input-bar")||(0<=this.className.indexOf("jqx-input-label")||(h(this).css("height","100%"),h.jqx.browser.msie&&h.jqx.browser.version<8&&h(this).css("height",t+"px"),void(this!==o.element&&(e+=h(this).outerWidth()))))}),i="string"==typeof o.width&&"%"===o.width.charAt(o.width.length-1)?1:0,this.host.css("width",this.baseHost.width()-e-i+"px"),h.jqx.browser.msie&&h.jqx.browser.version<9&&(o._spinButtonsContainer&&(!1===o.rtl||!0===o.rtl&&o._addon)&&o._spinButtonsContainer.css("border-left-width","0"),o._addon&&(!1===o.rtl?o._addon.css("border-left-width","0"):o._spinButtonsContainer||o._addon.css("border-right-width","0")),i=0,h.jqx.browser.version<8&&(s=0,r=parseInt(o.host.css("border-left-width"),10)+parseInt(o.host.css("border-right-width"),10),n=parseInt(o.host.css("padding-left"),10)+parseInt(o.host.css("padding-right"),10),o._spinButtonsContainer&&(r+=parseInt(o._spinButtonsContainer.css("border-left-width"),10)+parseInt(o._spinButtonsContainer.css("border-right-width"),10),n+=parseInt(o._spinButtonsContainer.css("padding-left"),10)+parseInt(o._spinButtonsContainer.css("padding-right"),10),o._addon||(s=2)),o._addon&&(r+=parseInt(o._addon.css("border-left-width"),10)+parseInt(o._addon.css("border-right-width"),10),n+=parseInt(o._addon.css("padding-left"),10)+parseInt(o._addon.css("padding-right"),10),o._spinButtonsContainer||(s=2)),o.host.width(o.host.width()-(n+r)-s),i=6),o.host.height(o.baseHost.height()-(parseInt(o.host.css("border-top-width"),10)+parseInt(o.host.css("border-bottom-width"),10)+parseInt(o.host.css("padding-top"),10)+parseInt(o.host.css("padding-bottom"),10)+i)),n=o.host.height()+"px",o.host.css("min-height",n),o.host.css("line-height",n))),o.baseHost&&o.bar&&o.bar.css("top",1+o.host.outerHeight())):(this.width&&this.host.width(this.width),this.height&&this.host.height(this.height)),this.host.attr("disabled",this.disabled),this.host.attr("placeholder")||this._refreshPlaceHolder()},_refreshPlaceHolder:function(){var e=this;this.isMaterialized()&&this.hint?this.label[0].innerHTML=this.placeHolder:"placeholder"in this.element?this.host.attr("placeHolder",this.placeHolder):""===(e=this).element.value&&(this.element.value=this.placeHolder,this.host.focus(function(){e.element.value===e.placeHolder&&(e.element.value="")}),this.host.blur(function(){""!==e.element.value&&e.element.value!==e.placeHolder||(e.element.value=e.placeHolder)}))},destroy:function(){this.removeHandlers(),this.baseHost?(h.jqx.utilities.resize(this.baseHost,null,!0),this.baseHost.remove()):(h.jqx.utilities.resize(this.host,null,!0),this.host.remove()),this.$popup&&this.$popup.remove()},propertyChangedHandler:function(r,e,t,i){if("placeHolder"===e)r._refreshPlaceHolder();else if("template"==e&&r.template&&(r._upbutton.removeClass(r.toThemeProperty("jqx-"+t)),r._downbutton.removeClass(r.toThemeProperty("jqx-"+t)),r._addon.removeClass(r.toThemeProperty("jqx-"+t)),r._upbutton.addClass(r.toThemeProperty("jqx-"+r.template)),r._downbutton.addClass(r.toThemeProperty("jqx-"+r.template)),r._addon.addClass(r.toThemeProperty("jqx-"+r.template))),"theme"===e)h.jqx.utilities.setTheme(t,i,r.host);else if("disabled"===e&&h.jqx.aria(r,"aria-disabled",r.disabled),"value"===e&&t.toString().toUpperCase()!==i.toString().toUpperCase())r.val(i);else if(t!==i&&"radix"===e)r._changeRadix(i);else{if(t!==i&&"decimalNotation"===e&&10===r._radixNumber&&(r.element.value="exponential"===i?r._getDecimalNotation("exponential"):r._number.toString(10)),t===i||"min"!==e&&"max"!==e)return t===i||"upperCase"!==e||""===r.element.value?"spinButtons"===e?t!==i?void(r._spinButtonsContainer?s(r._spinButtonsContainer,i):n("spinButtons",i)):void 0:(t!==i&&"spinButtonsStep"===e&&(r._spinButtonsStepLong=new r.longObj.math.Long.fromNumber(i)),"dropDown"===e?t!==i?void(r._addon?s(r._addon,i):n("dropDown",i)):void 0:void r.refresh()):void(!0===i?(r.host.removeClass(r.toThemeProperty("jqx-formatted-input-lower-case")),r.host.addClass(r.toThemeProperty("jqx-formatted-input-upper-case"))):(r.host.removeClass(r.toThemeProperty("jqx-formatted-input-upper-case")),r.host.addClass(r.toThemeProperty("jqx-formatted-input-lower-case"))));r._setMinMax(e),r._validateValue(r.value,!0),void(r.value=r.element.value)}function s(e,t){var i=r.host.width(),s=e.outerWidth();!1===t?(r.host.width(i+s),e.hide(),!0===r.rtl&&(!0===r.spinButtons&&r._spinButtonsContainer.addClass(r.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl-border")),!0===r.dropDown&&r._addon.removeClass(r.toThemeProperty("jqx-formatted-input-addon-rtl")))):(r.host.width(i-s),e.show(),!0===r.rtl&&!0===r.spinButtons&&!0===r.dropDown&&(r._spinButtonsContainer.removeClass(r.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl-border")),r._addon.addClass(r.toThemeProperty("jqx-formatted-input-addon-rtl"))))}function n(e,t){var i;!0===t&&(t=h("<div></div>"),r.baseHost?(i=r.baseHost.children("div"),!1===r.rtl&&"spinButtons"===e||!0===r.rtl&&"dropDown"===e?i.before(t):i.after(t),r.render(),r.host.width(r.host.width()-t.outerWidth())):(e=r.element.id,r.host.removeAttr("id"),r.host.wrap('<div id="'+e+'" style="display: inline-block;"></div>'),i=h("#"+e),!1===r.rtl?i.append(t):i.prepend(t),(e=r.host.data()).jqxFormattedInput.host=i,e.jqxFormattedInput.element=i[0],r.baseHost=i,r.baseHost.data(e),r.render(),r.refresh()))}},select:function(e,t,i){i=i||this.$popup.find(".jqx-fill-state-pressed").attr("data-value"),this._changeRadix(parseInt(i,10)),this._setMaxLength(!0),this.close()},val:function(e){var t=this;if(!e&&""!==e||"object"==typeof e&&!0===h.isEmptyObject(e)||"binary"===e||"octal"===e||"decimal"===e||"exponential"===e||"scientific"===e||"engineering"===e||"hexadecimal"===e)return!e||"object"==typeof e&&!0===h.isEmptyObject(e)?t.element.value:"exponential"===e||"scientific"===e||"engineering"===e?t._getDecimalNotation(e):(i=t._getRadix(e),t._number.toString(i));if((e=e.toString()).toUpperCase()===t.element.value.toString().toUpperCase())return e;for(var i=t.element.value,s=(e=!0===t.upperCase?e.toUpperCase():e).split(""),r=0;r<s.length;r++)if(!t._regex[""+t._radixNumber].test(s[r]))return;e=t._validateValue(e,!0);return t._raiseEvent("2",{value:e,oldValue:i,radix:t._radixNumber}),t.value=e},_changeRadix:function(e){var t=this._getRadix(e),i=""!==this.value?this._number.toString(t):"",s=this.radix,r=this.value;this.radix=e,this._radixNumber=t,this.element.value=i,this.value=i,this._raiseEvent("3",{radix:e,oldRadix:s,value:i,oldValue:r})},_raiseEvent:function(e,t){var i=this.events[e],i=((t=void 0===t?{owner:null}:t).owner=this,new h.Event(i));return i.owner=this,2==e&&(t.type=this.changeType,this.changeType=null),i.args=t,i.preventDefault&&i.preventDefault(),(this.baseHost||this.host).trigger(i)},open:function(){var e,t,i,s=this;if(s._setPopupOptions(),s._render(s._popupOptions),!h.jqx.isHidden(this.host))return e=s.baseHost?h.extend({},s.baseHost.coord(!0),{height:s.baseHost[0].offsetHeight}):h.extend({},s.host.coord(!0),{height:s.host[0].offsetHeight}),0===this.$popup.parent().length&&(i=this.element.id+"_popup",this.$popup[0].id=i,h.jqx.aria(this,"aria-owns",i)),this.$popup.appendTo(h(document.body)).css({position:"absolute",zIndex:this.popupZIndex,top:e.top+e.height,left:e.left}).show(),t=0,i=this.$popup.children(),h.each(i,function(){t+=h(this).outerHeight(!0)-1}),this.$popup.height(t),this._opened=!0,s.baseHost&&(s._addon.addClass(s.toThemeProperty("jqx-fill-state-pressed jqx-combobox-arrow-selected")),s._arrow.addClass(s.toThemeProperty("jqx-icon-arrow-down-selected"))),this._raiseEvent("0",{popup:this.$popup}),h.jqx.aria(this,"aria-expanded",!0),this},close:function(){return this.$popup.hide(),this._opened=!1,this.baseHost&&(this._addon.removeClass(this.toThemeProperty("jqx-fill-state-pressed jqx-combobox-arrow-selected")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this._raiseEvent("1",{popup:this.$popup}),h.jqx.aria(this,"aria-expanded",!1),this},_render:function(e){var t,s=this;switch(e=h(e).map(function(e,t){var i;switch(e){case 0:i=2;break;case 1:i=8;break;case 2:i=10;break;case 3:i=16}(e=h(s.item).attr("data-value",i)).find("a").html(t).attr("data-value",i);t="";return s.rtl&&(t=" "+s.toThemeProperty("jqx-rtl")+" "+s.toThemeProperty("jqx-formatted-input-item-rtl")),e[0].className=s.toThemeProperty("jqx-item")+" "+s.toThemeProperty("jqx-menu-item")+" "+s.toThemeProperty("jqx-formatted-input-item")+" "+s.toThemeProperty("jqx-rc-all")+t,e[0]}),s._radixNumber){case 2:t=0;break;case 8:t=1;break;case 10:t=2;break;case 16:t=3}return e.eq(t).addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.$popup.html(e),this.dropDownWidth?this.$popup.width(this.dropDownWidth):s.baseHost?(e="string"==typeof s.width&&"%"===s.width.charAt(s.width.length-1)?1:0,this.$popup.width(this.baseHost.outerWidth()-6-e)):this.$popup.width(this.host.outerWidth()-6),this},next:function(){var e=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")).next();(e=e.length?e:h(this.$popup.find("li")[0])).addClass(this.toThemeProperty("jqx-fill-state-pressed"))},prev:function(){var e=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")).prev();(e=e.length?e:this.$popup.find("li").last()).addClass(this.toThemeProperty("jqx-fill-state-pressed"))},addHandlers:function(){var e,t,i=this;this.addHandler(this.host,"focus",h.proxy(this.onFocus,this)),this.addHandler(this.host,"blur",h.proxy(this.onBlur,this)),this.addHandler(this.host,"keypress",h.proxy(this.keypress,this)),this.addHandler(this.host,"keyup",h.proxy(this.keyup,this)),this.addHandler(this.host,"keydown",h.proxy(this.keydown,this)),this.addHandler(this.$popup,"mousedown",h.proxy(this.click,this)),this.host.on?this.$popup.on("mouseenter","li",h.proxy(this.mouseenter,this)):this.$popup.bind("mouseenter","li",h.proxy(this.mouseenter,this)),this.addHandler(this.host,"change",function(e){e.stopPropagation(),e.preventDefault()}),i.baseHost&&(e=i.baseHost.attr("id"),i._spinButtonsContainer&&(t=i._upbutton.add(i._downbutton),i.addHandler(i._upbutton,"mousedown.jqxFormattedInputSpinButtonUp"+e,function(){i.disabled||""===i.value||null===i.value||(i._upbutton.addClass(i.toThemeProperty("jqx-fill-state-pressed")),i.changeType="mouse",i._incrementOrDecrement("add"))}),i.addHandler(i._upbutton,"mouseup.jqxFormattedInputSpinButtonUp"+e,function(){i.disabled||""===i.value||null===i.value||i._upbutton.removeClass(i.toThemeProperty("jqx-fill-state-pressed"))}),i.addHandler(i._downbutton,"mousedown.jqxFormattedInputSpinButtonDown"+e,function(){i.disabled||""===i.value||null===i.value||(i.changeType="mouse",i._downbutton.addClass(i.toThemeProperty("jqx-fill-state-pressed")),i._incrementOrDecrement("subtract"))}),i.addHandler(i._downbutton,"mouseup.jqxFormattedInputSpinButtonDown"+e,function(){i.disabled||""===i.value||null===i.value||i._downbutton.removeClass(i.toThemeProperty("jqx-fill-state-pressed"))}),i.addHandler(t,"mouseenter.jqxFormattedInputSpinButtons"+e,function(e){i.disabled||""===i.value||null===i.value||((e=h(e.target)).hasClass("jqx-icon-arrow-up")||e.children().hasClass("jqx-icon-arrow-up")?(i._upbutton.addClass(i.toThemeProperty("jqx-fill-state-hover")),i._upArrow.addClass(i.toThemeProperty("jqx-icon-arrow-up-hover"))):(i._downbutton.addClass(i.toThemeProperty("jqx-fill-state-hover")),i._downArrow.addClass(i.toThemeProperty("jqx-icon-arrow-down-hover"))))}),i.addHandler(t,"mouseleave.jqxFormattedInputSpinButtons"+e,function(e){i.disabled||""===i.value||null===i.value||((e=h(e.target)).hasClass("jqx-icon-arrow-up")||e.children().hasClass("jqx-icon-arrow-up")?(i._upbutton.removeClass(i.toThemeProperty("jqx-fill-state-hover")),i._upArrow.removeClass(i.toThemeProperty("jqx-icon-arrow-up-hover"))):(i._downbutton.removeClass(i.toThemeProperty("jqx-fill-state-hover")),i._downArrow.removeClass(i.toThemeProperty("jqx-icon-arrow-down-hover"))))}),i.addHandler(h("body"),"mouseup.jqxFormattedInputSpinButtons"+e,function(){i._upbutton.add(i._downbutton).removeClass(i.toThemeProperty("jqx-fill-state-pressed"))})),i._addon&&(i.addHandler(i._addon,"click.jqxFormattedInputAddon"+e,function(){i.disabled||(i._opened?i.close():i.open())}),i.addHandler(i._addon,"mouseenter.jqxFormattedInputAddon"+e,function(){i.disabled||""===i.value||null===i.value||(i._addon.addClass(i.toThemeProperty("jqx-fill-state-hover jqx-combobox-arrow-hover")),i._arrow.addClass(i.toThemeProperty("jqx-icon-arrow-down-hover")))}),i.addHandler(i._addon,"mouseleave.jqxFormattedInputAddon"+e,function(){i.disabled||""===i.value||null===i.value||(i._addon.removeClass(i.toThemeProperty("jqx-fill-state-hover jqx-combobox-arrow-hover")),i._arrow.removeClass(i.toThemeProperty("jqx-icon-arrow-down-hover")))}),i.addHandler(i._addon.add(i._arrow),"blur.jqxFormattedInputAddon"+e,function(){i._opened&&!i.disabled&&i.close()})),h.jqx.utilities.resize(i.baseHost,function(){!0===i._opened&&i.close();var e=0;i._spinButtonsContainer&&(e+=i._spinButtonsContainer.outerWidth()),i._addon&&(e+=i._addon.outerWidth()),i.host.css("width",i.baseHost.width()-e-1)}))},removeHandlers:function(){var e,t,i=this;this.removeHandler(this.host,"focus",h.proxy(this.onFocus,this)),this.removeHandler(this.host,"blur",h.proxy(this.onBlur,this)),this.removeHandler(this.host,"keypress",h.proxy(this.keypress,this)),this.removeHandler(this.host,"keyup",h.proxy(this.keyup,this)),this.removeHandler(this.host,"keydown",h.proxy(this.keydown,this)),this.removeHandler(this.$popup,"mousedown",h.proxy(this.click,this)),this.host.off?this.$popup.off("mouseenter","li",h.proxy(this.mouseenter,this)):this.$popup.unbind("mouseenter","li",h.proxy(this.mouseenter,this)),i.baseHost&&(e=i.baseHost.attr("id"),i._spinButtonsContainer&&(t=i._upbutton.add(i._downbutton),i.removeHandler(i._upbutton,"mousedown.jqxFormattedInputSpinButtonUp"+e),i.removeHandler(i._upbutton,"mouseup.jqxFormattedInputSpinButtonUp"+e),i.removeHandler(i._downbutton,"mousedown.jqxFormattedInputSpinButtonDown"+e),i.removeHandler(i._downbutton,"mouseup.jqxFormattedInputSpinButtonDown"+e),i.removeHandler(t,"mouseenter.jqxFormattedInputSpinButtons"+e),i.removeHandler(t,"mouseleave.jqxFormattedInputSpinButtons"+e),i.removeHandler(h("body"),"mouseup.jqxFormattedInputSpinButtons"+e)),i._addon&&(i.removeHandler(i._addon,"click.jqxFormattedInputAddon"+e),i.removeHandler(i._addon,"mouseenter.jqxFormattedInputAddon"+e),i.removeHandler(i._addon,"mouseleave.jqxFormattedInputAddon"+e),i.removeHandler(i._addon.add(i._arrow),"blur.jqxFormattedInputAddon"+e)))},move:function(e){if(this._opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(e){var t=this,i=(t.changeType="keyboard",this.suppressKeyPressRepeat=~h.inArray(e.keyCode,[40,38,9,13,27]),this.move(e),e.charCode||e.which),s=String.fromCharCode(i);if(96<=i&&i<=105&&(s=i-96,i-=48),!0===e.altKey){if(40===i)return void(t._addon&&this.open());if(38===i)return void(t._addon&&this.close())}if(!0===e.ctrlKey){if(67===i)return;if(65===i)return void t.selectAll()}var r=[8,9,13,37,38,39,40,46,88],n=t._regex[""+t._radixNumber];if(!(-1!==r.indexOf(i)||n.test(s)||n.test(e.key)||n.test(e.char)))return e.preventDefault(),!1;var n=t.host[0].selectionStart,o=t.host[0].selectionEnd-n,a=this._getCaretPosition(this.host[0]),l=this.element.value,d=l.split("");8===i?0<o?d.splice(n,o):d.splice(a-1,1):46===i?0<o?d.splice(n,o):d.splice(a,1):88===i?!0===e.ctrlKey?0<o&&d.splice(n,o):e.preventDefault():189===i?("-"===d[0]?(d.splice(0,1),t._minus=!1):(d.splice(0,0,"-"),t._minus=!0),e.preventDefault()):(e=-1===r.indexOf(i)?s:"",0<o?(d.splice(n,o),d.splice(n,0,e)):d.splice(a,0,e)),(d=d.join(""))!==l&&(!1===t._validateValue(d,!1)?t._inputAndAddon.addClass(t.toThemeProperty("jqx-input-invalid")):t._inputAndAddon.removeClass(t.toThemeProperty("jqx-input-invalid")))},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){var t=this;switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:this._opened?this.select(e,this):t._change();break;case 27:if(!this._opened)return;this.close();break;case 189:10===t._radixNumber&&(!0===t._minus?t.element.value="-"+t.element.value:t.element.value=t.element.value.slice(1))}e.stopPropagation(),e.preventDefault(),""!==t.element.value?(t.upperCase?t.host.addClass(t.toThemeProperty("jqx-formatted-input-upper-case")):t.host.addClass(t.toThemeProperty("jqx-formatted-input-lower-case")),t._spinButtonsContainer&&t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-fill-state-disabled"))):(t.host.removeClass(t.toThemeProperty("jqx-formatted-input-upper-case jqx-formatted-input-lower-case")),t._spinButtonsContainer&&t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-fill-state-disabled"))),t.isMaterialized()&&t.hint&&setTimeout(function(){t.label[0].innerHTML=t.placeHolder,t.baseHost&&(0===t.element.value.length?t.baseHost[0].removeAttribute("hint"):t.baseHost[0].setAttribute("hint",!0))})},_getCaretPosition:function(e){var t,i=0;return document.selection?(e.focus(),(t=document.selection.createRange()).moveStart("character",-e.value.length),i=t.text.length):!e.selectionStart&&"0"!==e.selectionStart||(i=e.selectionStart),i},onBlur:function(){var e=this;e._opened&&e.close(),e._setMaxLength(),e._inputAndAddon.removeClass(e.toThemeProperty("jqx-fill-state-focus")),e._change(),10===e._radixNumber&&"exponential"===e.decimalNotation&&(e.element.value=e._getDecimalNotation("exponential")),e._refreshPlaceHolder()},onFocus:function(){this._setMaxLength(!0),this._inputAndAddon.addClass(this.toThemeProperty("jqx-fill-state-focus")),10===this._radixNumber&&"exponential"===this.decimalNotation&&(this.element.value=this._number.toString(10))},click:function(e){e.stopPropagation(),e.preventDefault();var t=h(e.target).attr("data-value");this.select(e,this,t)},mouseenter:function(e){this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")),h(e.currentTarget).addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_change:function(){var e=this.value,t=this._validateValue(this.element.value,!0);this._inputAndAddon.removeClass(this.toThemeProperty("jqx-input-invalid")),t.toUpperCase()!==e.toString().toUpperCase()&&(this._raiseEvent("2",{value:t,oldValue:e,radix:this._radixNumber}),this.value=t)},_getRadix:function(e){switch(e){case 10:case"decimal":return 10;case 2:case"binary":return 2;case 8:case"octal":return 8;case 16:case"hexadecimal":return 16}},_setPopupOptions:function(){var e=this;e._popupOptions=new Array,""!==e.value?(e._popupOptions.push(e._number.toString(2)+" <em>(BIN)</em>"),e._popupOptions.push(e._number.toString(8)+" <em>(OCT)</em>"),e._popupOptions.push(e._number.toString(10)+" <em>(DEC)</em>"),e._popupOptions.push(e._number.toString(16)+" <em>(HEX)</em>")):(e._popupOptions.push("BIN"),e._popupOptions.push("OCT"),e._popupOptions.push("DEC"),e._popupOptions.push("HEX"))},_validateValue:function(e,t){var i,s,r=this;return""!==e?(i=new r.longObj.math.Long.fromString(e.toString(),r._radixNumber)).lessThan(r._minLong)?!!t&&(r._number=r._minLong,s=r._minLong.toString(r._radixNumber),16===r._radixNumber&&!0===r.upperCase&&(s=s.toUpperCase()),r.element.value=s):i.greaterThan(r._maxLong)?!!t&&(r._number=r._maxLong,s=r._maxLong.toString(r._radixNumber),16===r._radixNumber&&!0===r.upperCase&&(s=s.toUpperCase()),r.element.value=s):!t||(r._number=i,r.element.value=e):!t||(r.element.value="",e)},_getNegativeDecimal:function(e,t){var i=e;if(8===t){for(var s=new Array,r=0;r<11;r++){for(var n=parseInt(e.charAt(r),8).toString(2);3!==n.length;)n="0"+n;s.push(n)}"0"===(i=s.join("")).charAt(0)&&(i=i.slice(1))}else if(16===t){for(var o=new Array,a=0;a<8;a++){for(var l=parseInt(e.charAt(a),16).toString(2);4!==l.length;)l="0"+l;o.push(l)}i=o.join("")}for(var d="",h=0;h<i.length;h++)d+="1"===i.charAt(h)?"0":"1";return d=-1*(parseInt(d,2)+1)},_setMaxLength:function(e){var t;if(!0===e)switch(this._radixNumber){case 2:t=64;break;case 8:t=22;break;case 10:t=20;break;case 16:t=16}else t=524288;this.host.attr("maxlength",t)},_setMinMax:function(e){this["_"+e+"Long"]=new this.longObj.math.Long.fromString(this[e].toString(),this._radixNumber)},_getDecimalNotation:function(e){var t=this;var i,s,r,n,o=function(e){if("0"===e)return parseInt(e,10).toExponential();"-"===e.charAt(0)?(t="-",e=e.slice(1,e.length)):t="";for(var t,i=e.length-1;"0"===e.charAt(e.length-1);)e=e.slice(0,e.length-1);var s=e.slice(1,e.length);return""!==s&&(s="."+s),t+""+e.charAt(0)+s+"e+"+i}(t._number.toString(10));return"scientific"===e?(r=(s=o).indexOf("e"),n=s.slice(r+1),s=(s=s.slice(0,r+1)).replace("e","Ã10"),s=(s+=t._toSuperScript(n)).replace("+","")):"engineering"===e?(n=(r=o).indexOf("e"),s=r.slice(n+1),e=r.slice(0,n),i=parseInt(s,10)%3,e*=Math.pow(10,i),(e=0<=(r=r.slice(0,n).length-i-2)?e.toFixed(r):e)+"Ã10"+t._toSuperScript((parseInt(s,10)-i).toString())):o},_toSuperScript:function(e,t){for(var i,s="-0123456789",r="â»â°Â¹Â²Â³â´âµâ¶â·â¸â¹",n="",o=0;o<e.length;o++)n+=!0===t?-1!==(i=r.indexOf(e.charAt(o)))?s[i]:e[o]:-1!==(i=s.indexOf(e.charAt(o)))?r[i]:e[o];return n},_incrementOrDecrement:function(e){var t=this;t._number.toString(t._radixNumber)!==t.element.value&&(t._number=new t.longObj.math.Long.fromString(t.element.value,t._radixNumber)),t._number=t._number[e](t._spinButtonsStepLong),t.element.value=t._number.toString(t._radixNumber),t._change()},_negativeBinary:function(e,t){var i="";for(e=e.slice(1,e.length);e.length<64;)e="0"+e;for(var s=0;s<e.length;s++)i+="1"===e.charAt(s)?"0":"1";for(var r,n=!0,o="",a=i.length-1;0<=a;a--)"0"===i.charAt(a)?!0===n?n=!(r="1"):r="0":r=!0===n?"0":"1",o=r+""+o;switch(t){case 2:return o;case 8:for(var o="00"+o,l="",d=22;1<=d;d--)var h=o[3*d-3]+""+o[3*d-2]+o[3*d-1],l=parseInt(h,2).toString(8)+""+l;return l;case 16:for(var c="",u=16;1<=u;u--)var p=o[4*u-4]+""+o[4*u-3]+o[4*u-2]+o[4*u-1],c=parseInt(p,2).toString(16)+""+c;return c}},_Long:function(){var l=this,u=(l.longObj=new Object,l.longObj);u.math=new Object,u.math.Long=new Object,u.math.Long=function(e,t){this.lowBits=0|e,this.highBits=0|t},u.math.Long.IntCache={},u.math.Long.fromInt=function(e){if(-128<=e&&e<128){var t=u.math.Long.IntCache[e];if(t)return t}t=new u.math.Long(0|e,e<0?-1:0);return-128<=e&&e<128&&(u.math.Long.IntCache[e]=t),t},u.math.Long.fromNumber=function(e){return isNaN(e)||!isFinite(e)?u.math.Long.ZERO:e<=-u.math.Long.TWO_PWR_63_DBL_?u.math.Long.MIN_VALUE:e+1>=u.math.Long.TWO_PWR_63_DBL_?u.math.Long.MAX_VALUE:e<0?u.math.Long.fromNumber(-e).negate():new u.math.Long(e%u.math.Long.TWO_PWR_32_DBL_|0,e/u.math.Long.TWO_PWR_32_DBL_|0)},u.math.Long.fromBits=function(e,t){return new u.math.Long(e,t)},u.math.Long.fromString=function(e,t){if(0===e.length)throw new Error("number format error: empty string");var i=t||10;if(i<2||36<i)throw new Error("radix out of range: "+i);if("-"===e.charAt(0))return u.math.Long.fromString(e.substring(1),i).negate();if(0<=e.indexOf("-"))throw new Error('number format error: interior "-" character: '+e);for(var s=u.math.Long.fromNumber(Math.pow(i,8)),r=u.math.Long.ZERO,n=0;n<e.length;n+=8){var o=Math.min(8,e.length-n),a=parseInt(e.substring(n,n+o),i);r=o<8?(o=u.math.Long.fromNumber(Math.pow(i,o)),r.multiply(o).add(u.math.Long.fromNumber(a))):(r=r.multiply(s)).add(u.math.Long.fromNumber(a))}return r},u.math.Long.TWO_PWR_16_DBL_=65536,u.math.Long.TWO_PWR_24_DBL_=1<<24,u.math.Long.TWO_PWR_32_DBL_=u.math.Long.TWO_PWR_16_DBL_*u.math.Long.TWO_PWR_16_DBL_,u.math.Long.TWO_PWR_31_DBL_=u.math.Long.TWO_PWR_32_DBL_/2,u.math.Long.TWO_PWR_48_DBL_=u.math.Long.TWO_PWR_32_DBL_*u.math.Long.TWO_PWR_16_DBL_,u.math.Long.TWO_PWR_64_DBL_=u.math.Long.TWO_PWR_32_DBL_*u.math.Long.TWO_PWR_32_DBL_,u.math.Long.TWO_PWR_63_DBL_=u.math.Long.TWO_PWR_64_DBL_/2,u.math.Long.ZERO=u.math.Long.fromInt(0),u.math.Long.ONE=u.math.Long.fromInt(1),u.math.Long.NEG_ONE=u.math.Long.fromInt(-1),u.math.Long.MAX_VALUE=u.math.Long.fromBits(-1,2147483647),u.math.Long.MIN_VALUE=u.math.Long.fromBits(0,-2147483648),u.math.Long.TWO_PWR_24_=u.math.Long.fromInt(1<<24),u.math.Long.prototype.toInt=function(){return this.lowBits},u.math.Long.prototype.toNumber=function(){return this.highBits*u.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},u.math.Long.prototype.toString=function(e){var t,i,s,r=e||10;if(r<2||36<r)throw new Error("radix out of range: "+r);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(u.math.Long.MIN_VALUE))return e=u.math.Long.fromNumber(r),s=(i=this.div(e)).multiply(e).subtract(this),i.toString(r)+s.toInt().toString(r);switch(r){case 2:case 8:case 16:return t="-"+this.negate().toString(2),l._negativeBinary(t,r);default:return t="-"+this.negate().toString(r)}}var n=u.math.Long.fromNumber(Math.pow(r,6));for(s=this,t="";;){var o=s.div(n),a=s.subtract(o.multiply(n)).toInt().toString(r);if((s=o).isZero())return a+t;for(;a.length<6;)a="0"+a;t=""+a+t}},u.math.Long.prototype.getHighBits=function(){return this.highBits},u.math.Long.prototype.getLowBits=function(){return this.lowBits},u.math.Long.prototype.getLowBitsUnsigned=function(){return 0<=this.lowBits?this.lowBits:u.math.Long.TWO_PWR_32_DBL_+this.lowBits},u.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(u.math.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!==this.highBits?this.highBits:this.lowBits,t=31;0<t&&0==(e&1<<t);t--);return 0!==this.highBits?t+33:t+1},u.math.Long.prototype.isZero=function(){return 0===this.highBits&&0===this.lowBits},u.math.Long.prototype.isNegative=function(){return this.highBits<0},u.math.Long.prototype.isOdd=function(){return 1==(1&this.lowBits)},u.math.Long.prototype.equals=function(e){return this.highBits===e.highBits&&this.lowBits===e.lowBits},u.math.Long.prototype.notEquals=function(e){return this.highBits!==e.highBits||this.lowBits!==e.lowBits},u.math.Long.prototype.lessThan=function(e){return this.compare(e)<0},u.math.Long.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},u.math.Long.prototype.greaterThan=function(e){return 0<this.compare(e)},u.math.Long.prototype.greaterThanOrEqual=function(e){return 0<=this.compare(e)},u.math.Long.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),i=e.isNegative();return t&&!i||(t||!i)&&this.subtract(e).isNegative()?-1:1},u.math.Long.prototype.negate=function(){return this.equals(u.math.Long.MIN_VALUE)?u.math.Long.MIN_VALUE:this.not().add(u.math.Long.ONE)},u.math.Long.prototype.add=function(e){var t=this.highBits>>>16,i=65535&this.highBits,s=this.lowBits>>>16,r=65535&this.lowBits,n=e.highBits>>>16,o=65535&e.highBits,a=e.lowBits>>>16,l=0,d=0,h=0,c=0;return d+=(h=h+((c+=r+(65535&e.lowBits))>>>16)+(s+a))>>>16,u.math.Long.fromBits((h&=65535)<<16|(c&=65535),((l+=(d+=i+o)>>>16)+(t+n)&65535)<<16|(d&=65535))},u.math.Long.prototype.subtract=function(e){return this.add(e.negate())},u.math.Long.prototype.multiply=function(e){if(this.isZero())return u.math.Long.ZERO;if(e.isZero())return u.math.Long.ZERO;if(this.equals(u.math.Long.MIN_VALUE))return e.isOdd()?u.math.Long.MIN_VALUE:u.math.Long.ZERO;if(e.equals(u.math.Long.MIN_VALUE))return this.isOdd()?u.math.Long.MIN_VALUE:u.math.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(u.math.Long.TWO_PWR_24_)&&e.lessThan(u.math.Long.TWO_PWR_24_))return u.math.Long.fromNumber(this.toNumber()*e.toNumber());var t=this.highBits>>>16,i=65535&this.highBits,s=this.lowBits>>>16,r=65535&this.lowBits,n=e.highBits>>>16,o=65535&e.highBits,a=e.lowBits>>>16,e=65535&e.lowBits,l=0,d=0,h=0,c=(c=0)+((d=d+((h+=r*e)>>>16)+s*e)>>>16)+((d=(d&65535)+r*a)>>>16);return u.math.Long.fromBits((d&=65535)<<16|(h&=65535),((l+=(c+=i*e)>>>16)+((c=(c&65535)+s*a)>>>16)+((c=(c&65535)+r*o)>>>16)+(t*e+i*a+s*o+r*n)&65535)<<16|(c&=65535))},u.math.Long.prototype.div=function(e){if(e.isZero())throw new Error("division by zero");if(this.isZero())return u.math.Long.ZERO;var t,i;if(this.equals(u.math.Long.MIN_VALUE))return e.equals(u.math.Long.ONE)||e.equals(u.math.Long.NEG_ONE)?u.math.Long.MIN_VALUE:e.equals(u.math.Long.MIN_VALUE)?u.math.Long.ONE:(i=this.shiftRight(1).div(e).shiftLeft(1)).equals(u.math.Long.ZERO)?e.isNegative()?u.math.Long.ONE:u.math.Long.NEG_ONE:(t=this.subtract(e.multiply(i)),i.add(t.div(e)));if(e.equals(u.math.Long.MIN_VALUE))return u.math.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();var s=u.math.Long.ZERO;for(t=this;t.greaterThanOrEqual(e);){i=Math.max(1,Math.floor(t.toNumber()/e.toNumber()));for(var r=Math.ceil(Math.log(i)/Math.LN2),n=r<=48?1:Math.pow(2,r-48),o=u.math.Long.fromNumber(i),a=o.multiply(e);a.isNegative()||a.greaterThan(t);)i-=n,a=(o=u.math.Long.fromNumber(i)).multiply(e);o.isZero()&&(o=u.math.Long.ONE),s=s.add(o),t=t.subtract(a)}return s},u.math.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},u.math.Long.prototype.not=function(){return u.math.Long.fromBits(~this.lowBits,~this.highBits)},u.math.Long.prototype.and=function(e){return u.math.Long.fromBits(this.lowBits&e.lowBits,this.highBits&e.highBits)},u.math.Long.prototype.or=function(e){return u.math.Long.fromBits(this.lowBits|e.lowBits,this.highBits|e.highBits)},u.math.Long.prototype.xor=function(e){return u.math.Long.fromBits(this.lowBits^e.lowBits,this.highBits^e.highBits)},u.math.Long.prototype.shiftLeft=function(e){var t,i;return 0===(e&=63)?this:(t=this.lowBits,e<32?(i=this.highBits,u.math.Long.fromBits(t<<e,i<<e|t>>>32-e)):u.math.Long.fromBits(0,t<<e-32))},u.math.Long.prototype.shiftRight=function(e){var t,i;return 0===(e&=63)?this:(t=this.highBits,e<32?(i=this.lowBits,u.math.Long.fromBits(i>>>e|t<<32-e,t>>e)):u.math.Long.fromBits(t>>e-32,0<=t?0:-1))},u.math.Long.prototype.shiftRightUnsigned=function(e){var t,i;return 0===(e&=63)?this:(t=this.highBits,e<32?(i=this.lowBits,u.math.Long.fromBits(i>>>e|t<<32-e,t>>>e)):32===e?u.math.Long.fromBits(t,0):u.math.Long.fromBits(t>>>e-32,0))}}})}(jqxBaseFramework),!function(v){var e={defineInstance:function(){var e={width:350,height:350,radius:"50%",endAngle:270,startAngle:30,int64:!1,editableLabels:!1,value:0,min:0,max:220,disabled:!1,ticksDistance:"20%",colorScheme:"scheme01",animationDuration:400,showRanges:!0,easing:"easeOutCubic",labels:null,pointer:null,cap:null,caption:null,border:null,ticksMinor:null,ticksMajor:null,tickMode:"default",niceInterval:!1,style:null,ranges:[],_radius:100,_border:null,_radiusDifference:2,_pointer:null,_labels:[],_cap:null,_ticks:[],_ranges:[],_gauge:null,_caption:null,_animationTimeout:10,renderer:null,_animations:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===v.jqx._jqxGauge.prototype||v.extend(!0,this,e),e},createInstance:function(e){var t=this;if(t.that=this,v.jqx.aria(t),t._radius=t.radius,t.endAngle=t.endAngle*Math.PI/180+Math.PI/2,t.startAngle=t.startAngle*Math.PI/180+Math.PI/2,"s"===t.int64){if(!v.jqx.longInt)throw new Error("jqxGauge: Missing reference to jqxmath.js");v.jqx.longInt(t),t._value64=(new v.jqx.math).fromString(t.value.toString(),10),t._min64=(new v.jqx.math).fromString(t.min.toString(),10),t._max64=(new v.jqx.math).fromString(t.max.toString(),10)}else if("u"===t.int64){try{BigNumber}catch(e){throw new Error("jqxGauge: Missing reference to jqxmath.js")}t._value64=new BigNumber(t.value),t._min64=new BigNumber(t.min),t._max64=new BigNumber(t.max)}else t.value=new Number(t.value);t._refresh(),t.renderer.getContainer().css("overflow","hidden"),!1!==t.int64?t.setValue(t._value64,0):t.setValue(t.value,0),v.jqx.utilities.resize(t.host,function(){t._refresh(!0)}),t.host.addClass(t.toThemeProperty("jqx-widget"))},_validateEasing:function(){return!!v.easing[this.easing]},_validateProperties:function(){if(this.startAngle===this.endAngle)throw new Error("The end angle can not be equal to the start angle!");this._validateEasing()||(this.easing="linear"),this.ticksDistance=this._validatePercentage(this.ticksDistance,"20%"),this.border=this._borderConstructor(this.border,this),this.style=this.style||{fill:"#ffffff",stroke:"#E0E0E0"},this.ticksMinor=new this._tickConstructor(this.ticksMinor,this),this.ticksMajor=new this._tickConstructor(this.ticksMajor,this),this.cap=new this._capConstructor(this.cap,this),this.pointer=new this._pointerConstructor(this.pointer,this),this.labels=new this._labelsConstructor(this.labels,this),this.caption=new this._captionConstructor(this.caption,this);for(var e=0;e<this.ranges.length;e+=1)this.ranges[e]=new this._rangeConstructor(this.ranges[e],this)},_hostInit:function(e){var t=this._getScale(this.width,"width",this.host.parent()),i=this._getScale(this.height,"height",this.host.parent()),s=this._outerBorderOffset(),r=this.host,n=(r.width(t),r.height(i),this.radius=0,(this._getScale(this._radius,"width",this.host)||t/2)-s),s=(this._getScale(this._radius,"height",this.host)||i/2)-s;this.radius=Math.min(n,s),this._originalRadius=parseInt(this.radius,10)-this._radiusDifference,this._innerRadius=this._originalRadius,this.border&&(this._innerRadius-=this._getSize(this.border.size)),e||(r[0].innerHTML="<div />"),this._gaugeParent=r.children(),this._gaugeParent.width(t),this._gaugeParent.height(i),e?((n=this.renderer.getContainer())[0].style.width=t+"px",n[0].style.height=i+"px"):this.renderer.init(this._gaugeParent)},_initRenderer:function(e){if(v.jqx.createRenderer)return v.jqx.createRenderer(this,e);throw"Please include a reference to jqxdraw.js"},_refresh:function(e){var t=this;if(e)return t._ticksIterator=0,t._labelsIterator=0,t._ranges&&v(t._ranges).remove(),t._pointer&&v(t._pointer).remove(),t._pointer=null,t._ranges=[],t.niceInterval&&(t._labels&&v(t._labels).remove(),t._labels=[],t._ticks&&(v(t._ticks).remove(),t._ticks=[])),t._hostInit(e),void t._render(e);t.renderer||(t._isVML=!1,t.host.empty(),t._initRenderer(t.host)),t.renderer&&(t._ranges&&v(t._ranges).remove(),t._pointer&&v(t._pointer).remove(),t._labels&&v(t._labels).remove(),t._cap&&v(t._cap).remove(),t._ticks&&v(t._ticks).remove(),t._border&&v(t._border).remove(),t._caption&&v(t._caption).remove(),t._caption=null,t._labels=[],t._cap=null,t._ticks=[],t._ranges=[],t._border=null,t._pointer=null,t._validateProperties(),t._removeElements(),t._hostInit(),t._render(),t.setValue(this.value,0),t._editableLabels())},val:function(e){if(0==arguments.length||"object"==typeof e)return this.value;this.setValue(e,0)},refresh:function(e){!0!==e&&this._refresh.apply(this,Array.prototype.slice(arguments))},_outerBorderOffset:function(){return(parseInt(this.border.style["stroke-width"],10)||1)/2},_removeCollection:function(e){for(var t=0;t<e.length;t+=1)v(e[t]).remove()},_render:function(e){this._addBorder(e),this._addGauge(e),this._addRanges(e),this.niceInterval?this._addTicks():(this._addTicks(e),this._addLabels(e)),this._styleLabels(),this._addCaption(e),this._addPointer(e),this._addCap(e)},_addBorder:function(e){if(this.border.visible){if(e)return t=this._outerBorderOffset(),this._border.setAttribute("cx",this._originalRadius+t),this._border.setAttribute("cy",this._originalRadius+t),void this._border.setAttribute("r",this._originalRadius);var e=this.border.style.fill,t=this._outerBorderOffset(),e=e||"#BABABA";this.border.showGradient&&(e.indexOf("url")<0&&e.indexOf("#grd")<0?this._originalColor=e:e=this._originalColor,e=this.renderer._toLinearGradient(e,!0,[[0,1],[25,1.1],[50,1.5],[100,1]])),this._border=this.renderer.circle(this._originalRadius+t,this._originalRadius+t,this._originalRadius),this.border.style.fill=e,this.renderer.attr(this._border,this.border.style)}},_addGauge:function(e){var t=this._originalRadius,i=(this.renderer._toLinearGradient("#ffffff",[[3,2],[100,1]],!0),this._outerBorderOffset());e?(this._gauge.setAttribute("cx",t+i),this._gauge.setAttribute("cy",t+i),this._gauge.setAttribute("r",this._innerRadius)):(this._gauge=this.renderer.circle(t+i,t+i,this._innerRadius),this.renderer.attr(this._gauge,this.style))},_addCap:function(e){var t="visible",i=this._outerBorderOffset(),s=(this.cap.visible||(t="hidden"),this._originalRadius),r=this._getSize(this.cap.size);e?(this._cap.setAttribute("cx",s+i),this._cap.setAttribute("cy",s+i),this._cap.setAttribute("r",r),this._capCenter=[s,s]):(e=this.renderer.circle(s+i,s+i,r),this._capCenter=[s,s],this.renderer.attr(e,this.cap.style),v(e).css("visibility",t),this._cap=e)},_addTicks:function(t){var e,i,s,r=this,n=this.ticksMinor,o=this.ticksMajor,a={};if(!1!==o.visible||!1!==n.visible||!1!==this.labels.visible){var l=0;if("s"===r.int64)if("default"===this.tickMode?e=this.niceInterval?(i=this._getNiceInterval("radial"),this._getNiceInterval("radial",!0)):(i=(new v.jqx.math).fromString(o.interval.toString(),10),(new v.jqx.math).fromString(n.interval.toString(),10)):(e=(s=this._max64.subtract(this._min64)).div((new v.jqx.math).fromString(n.number.toString(),10)),i=s.div((new v.jqx.math).fromString(o.number.toString(),10))),this.niceInterval){m(this._min64),f(this._min64);for(var d=u=this._min64.subtract(this._min64.modulo(i)).add(i);d.greaterThanOrEqual(this._min64);d=d.subtract(e))p=d;for(var h=p,c=u;(h.lessThan(this._max64)||c.lessThan(this._max64))&&!(250<(l+=1))&&(c.lessThanOrEqual(this._max64)&&(m(c),a[c.toString()]=!0,h.equals(u)?Math.abs(this._getAngleByValue(c)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&f(c):(c.add(i).lessThan(this._max64)||Math.abs(this._getAngleByValue(c)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height)&&f(c)),!a[h.toString()]&&h.lessThanOrEqual(r._max64)&&g(h),!r._checkForOverflow(h,e)&&!r._checkForOverflow(c,i));h=h.add(e),c=c.add(i));m(this._max64),f(this._max64)}else for(h=(new v.jqx.math).fromString(r.min.toString(),10),c=(new v.jqx.math).fromString(r.min.toString(),10);(h.lessThanOrEqual(r._max64)||c.lessThanOrEqual(r._max64))&&!(250<(l+=1));h=h.add(e),c=c.add(i))c.lessThanOrEqual(r._max64)&&o.visible&&(m(c),a[c.toString()]=!0),!a[h.toString()]&&n.visible&&h.lessThanOrEqual(r._max64)&&g(h);else if("u"===r.int64)if("default"===this.tickMode?e=this.niceInterval?(i=this._getNiceInterval("radial"),this._getNiceInterval("radial",!0)):(i=new BigNumber(o.interval),new BigNumber(n.interval)):(e=(s=this._max64.subtract(this._min64)).divide(new BigNumber(n.number)),i=s.divide(new BigNumber(o.number))),this.niceInterval){m(this._min64),f(this._min64);for(d=u=this._min64.subtract(this._min64.mod(i)).add(i);-1!==d.compare(this._min64);d=d.subtract(e))p=d;for(h=p,c=u;(-1===h.compare(this._max64)||-1===c.compare(this._max64))&&!(250<(l+=1));h=h.add(e),c=c.add(i))1!==c.compare(this._max64)&&(m(c),a[c.toString()]=!0,0===h.compare(u)?Math.abs(this._getAngleByValue(c)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&f(c):(-1===c.add(i).compare(this._max64)||Math.abs(this._getAngleByValue(c)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height)&&f(c)),a[h.toString()]||1===h.compare(r._max64)||g(h);m(this._max64),f(this._max64)}else for(h=new BigNumber(r.min),c=new BigNumber(r.min);(1!==h.compare(r._max64)||1!==c.compare(r._max64))&&!(250<(l+=1));h=h.add(e),c=c.add(i))1!==c.compare(r._max64)&&o.visible&&(m(c),a[c.toString()]=!0),!a[h.toString()]&&n.visible&&1!==h.compare(r._max64)&&g(h);else if("default"===this.tickMode?e=this.niceInterval?(i=this._getNiceInterval("radial"),this._getNiceInterval("radial",!0)):(i=o.interval,n.interval):(e=(s=this.max-this.min)/n.number,i=s/o.number),this.niceInterval){m(this.min),f(this.min);for(var u,p,d=u=this.min-this.min%i+i;d>=this.min;d-=e)p=d;for(h=p,c=u;(h<this.max||c<this.max)&&!(250<(l+=1));h+=e,c+=i)c<=this.max&&(m(c),a[c.toFixed(5)]=!0,h===u?Math.abs(this._getAngleByValue(c)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&f(c):(c+i<this.max||Math.abs(this._getAngleByValue(c)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height)&&f(c)),!a[h.toFixed(5)]&&h<=this.max&&g(h);m(this.max),f(this.max)}else for(h=this.min,c=this.min;(h<=this.max||c<=this.max)&&!(250<(l+=1));h+=e,c+=i)c<=this.max&&o.visible&&(m(c),a[c.toFixed(5)]=!0),!a[h.toFixed(5)]&&n.visible&&h<=this.max&&g(h);this._handleTicksVisibility()}function m(e){o.visible&&r._drawTick({angle:r._getAngleByValue(e),distance:r._getDistance(r.ticksDistance),style:o.style,size:r._getSize(o.size),type:"major"},t)}function g(e){n.visible&&r._drawTick({angle:r._getAngleByValue(e),distance:r._getDistance(r.ticksDistance),style:n.style,size:r._getSize(n.size),type:"minor"},t)}function f(e){r.labels.visible&&r._addLabel({angle:r._getAngleByValue(e),value:1<=i?e:new Number(e).toFixed(2),distance:r._getDistance(r._getLabelsDistance()),style:r.labels.className},t)}},_handleTicksVisibility:function(){this.ticksMinor.visible?this.host.children(".jqx-gauge-tick-minor").css("visibility","visible"):this.host.children(".jqx-gauge-tick-minor").css("visibility","hidden"),this.ticksMajor.visible?this.host.children(".jqx-gauge-tick-major").css("visibility","visible"):this.host.children(".jqx-gauge-tick-major").css("visibility","hidden")},_getSize:function(e){return 0<=e.toString().indexOf("%")&&(e=parseInt(e,10)/100*this._innerRadius),e=parseInt(e,10)},_getDistance:function(e){return this._getSize(e)+(this._originalRadius-this._innerRadius)},_drawTick:function(e,t){var i,s=this.that,r=e.angle,n=e.distance,o=e.size,a=s._outerBorderOffset(),l=s._originalRadius,n=l-n,o=n-o,d=l+a+n*Math.sin(r),n=l+a+n*Math.cos(r),h=l+a+o*Math.sin(r),l=l+a+o*Math.cos(r);e.style.class=s.toThemeProperty("jqx-gauge-tick-"+e.type),s._isVML&&(d=Math.round(d),h=Math.round(h),n=Math.round(n),l=Math.round(l)),t&&!s.niceInterval?((i=s._ticks[s._ticksIterator]).setAttribute("x1",d),i.setAttribute("x2",h),i.setAttribute("y1",n),i.setAttribute("y2",l),s._ticksIterator++):(i=s.renderer.line(d,n,h,l,e.style),s._ticks.push(i))},_addRanges:function(e){var t="visible";if(this.showRanges)for(var i=this.ranges,s=0;s<i.length;s+=1)this._addRange(i[s],t,e)},_getMaxRangeSize:function(){for(var e,t=-1,i=0;i<this.ranges.length;i+=1)(t=t<(e=this.ranges[i].startWidth)?e:t)<(e=this.ranges[i].endWidth)&&(t=e);return t},_getRangeDistance:function(e,t){var i=this._getLabelsDistance(),e=this._getDistance(e),s=this._getMaxRangeSize();if("outside"===this.labels.position){if(i<e+this._getMaxTickSize())return this._getDistance(this.ticksDistance)+s/2+this._getSize(this.ticksMajor.size)}else if("inside"===this.labels.position&&i+this._getMaxTickSize()<e)return this._getSize(this.border.size)+this._originalRadius/20;return e},_addRange:function(e,t,i){var s,r,n,o,a,l,d,h,c,u,p,m,g=this.that;"s"===g.int64&&(e._startValue64.lessThan(g._min64)||e._endValue64.greaterThan(g._max64))||"u"===g.int64&&(-1===e._startValue64.compare(g._min64)||1===e._endValue64.compare(g._max64))||!1===g.int64&&(e.startValue<g.min||e.endValue>g.max)||(s=g.int64?g._getAngleByValue(e._startValue64):g._getAngleByValue(e.startValue),m=g.int64?g._getAngleByValue(e._endValue64):g._getAngleByValue(e.endValue),n=(r=g._originalRadius)-g._getRangeDistance(e.startDistance,e.startWidth),o=r-g._getRangeDistance(e.endDistance,e.endWidth),a=e.startWidth,l=e.endWidth,d={x:r+(u=g._outerBorderOffset())+n*Math.sin(s),y:r+u+n*Math.cos(s)},h={x:r+u+o*Math.sin(m),y:r+u+o*Math.cos(m)},c=g._getProjectionPoint(s,r+u,n,a),u=g._getProjectionPoint(m,r+u,o,l),p="default",Math.abs(m-s)>Math.PI&&(p="opposite"),m=g._isVML?g._rangeVMLRender(d,h,r,c,u,l,a,n,o,p):g._rangeSVGRender(d,h,r,c,u,l,a,n,o,p),e.style.visibility=t,e.style.class=g.toThemeProperty("jqx-gauge-range"),e=g.renderer.path(m,e.style),g._ranges.push(e))},_rangeSVGRender:function(e,t,i,s,r,n,o,a,l,d){var a=i-a,d="opposite"===d?["1,1","1,0"]:["0,1","0,0"],h="M"+e.x+","+e.y+" ";return(h+="A"+(i-a)+","+(i-a)+" 100 "+d[0]+" "+t.x+","+t.y+" ")+("L "+r.x+","+r.y+" ")+("A"+(i-n-a)+","+(i-n-a)+" 100 "+d[1]+" "+s.x+","+s.y+" ")+("L "+e.x+","+e.y+" ")+"z"},_rangeVMLRender:function(e,t,i,s,r,n,o,a,l,d){i-=i-a+10;var o=Math.floor(i+(o+n)/2),a=Math.floor(i-a),l=Math.floor(l),n=(s.x+r.x)/2,a=(s.y+r.y)/2,l=Math.sqrt((r.x-s.x)*(r.x-s.x)+(r.y-s.y)*(r.y-s.y)),h=Math.floor(n+Math.sqrt(i*i-l/2*(l/2))*(s.y-r.y)/l),c=Math.floor(a+Math.sqrt(i*i-l/2*(l/2))*(r.x-s.x)/l),u=(e.x+t.x)/2,p=(e.y+t.y)/2,m=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),g=Math.floor(u+Math.sqrt(Math.abs(o*o-m/2*(m/2)))*(e.y-t.y)/m),f=Math.floor(p+Math.sqrt(Math.abs(o*o-m/2*(m/2)))*(t.x-e.x)/m);return"opposite"===d&&(h=Math.floor(n-Math.sqrt(i*i-l/2*(l/2))*(s.y-r.y)/l),c=Math.floor(a-Math.sqrt(i*i-l/2*(l/2))*(r.x-s.x)/l),g=Math.floor(u-Math.sqrt(Math.abs(o*o-m/2*(m/2)))*(e.y-t.y)/m),f=Math.floor(p-Math.sqrt(Math.abs(o*o-m/2*(m/2)))*(t.x-e.x)/m)),i=Math.floor(i),t={x:Math.floor(t.x),y:Math.floor(t.y)},e={x:Math.floor(e.x),y:Math.floor(e.y)},s={x:Math.floor(s.x),y:Math.floor(s.y)},r={x:Math.floor(r.x),y:Math.floor(r.y)},d="m "+t.x+","+t.y,(d+="at "+(g-o)+" "+(f-o)+" "+(o+g)+" "+(o+f)+" "+t.x+","+t.y+" "+e.x+","+e.y)+("l "+s.x+","+s.y)+("m "+t.x+","+t.y)+("l "+r.x+","+r.y)+("at "+(h-i)+" "+(c-i)+" "+(i+h)+" "+(i+c)+" "+r.x+","+r.y+" "+s.x+","+s.y)+("qx "+s.x+" "+s.y)},_getProjectionPoint:function(e,t,i,s){return{x:t+(i-s)*Math.sin(e),y:t+(i-s)*Math.cos(e)}},_addLabels:function(e){var t=this,i=t._getLabelInterval();if(t.labels.visible&&"0"!==t.labels.interval.toString()){var s=this._getDistance(this._getLabelsDistance()),r=0;if("s"===t.int64)for(var n=(new v.jqx.math).fromNumber(t.min.toString(),10);n.lessThanOrEqual(t._max64)&&!(250<(r+=1))&&(!n.lessThan(t._min64)&&!n.greaterThan(t._max64));n=n.add(i))this._addLabel({angle:this._getAngleByValue(n),value:n.toString(),distance:s,style:this.labels.className});else if("u"===t.int64)for(n=new BigNumber(t.min);1!==n.compare(t._max64)&&!(250<(r+=1))&&(-1!==n.compare(t._min64)&&1!==n.compare(t._max64));n=n.add(i))this._addLabel({angle:this._getAngleByValue(n),value:n.toString(),distance:s,style:this.labels.className});else for(n=this.min;n<=this.max&&!(250<(r+=1));n+=i)this._addLabel({angle:this._getAngleByValue(n),value:1<=i?n:new Number(n).toFixed(2),distance:s,style:this.labels.className},e)}},_getLabelsDistance:function(){var e=this._getMaxLabelSize(),t=this._getDistance(this.labels.distance),i=this._getDistance(this.ticksDistance),e=e.width;return"inside"===this.labels.position?i+e-5:"outside"===this.labels.position?t<i-1.5*e?t:Math.max(i-1.5*e,.6*e):this.labels.distance},_addLabel:function(e,t){var i,s,r=this.that,n=e.angle,o=r._originalRadius,a=o-e.distance,l=r.labels.offset,d=r._outerBorderOffset(),h=o+d+a*Math.sin(n)+l[0],o=o+d+a*Math.cos(n)+l[1],d=e.value,a=e.style||"",l=r.labels.fontSize,d=r._formatLabel(d.toString()),e={class:a};l&&(e["font-size"]=l),r.labels.fontFamily&&(e["font-family"]=r.labels.fontFamily),r.labels.fontWeight&&(e["font-weight"]=r.labels.fontWeight),r.labels.fontStyle&&(e["font-style"]=r.labels.fontStyle),t&&!r.niceInterval?(i=r._labels[r._labelsIterator],(t=(a=r.renderer._measureText(d,0,e,!0)).textPartsInfo).parts,t.width,s=t.height,i.setAttribute("x",Math.round(h)-a.width/2+(a.width-t.width)/2),i.setAttribute("y",Math.round(o)+s+(a.height-s)/2),r._labelsIterator++):(t=r.renderer.measureText(d,0,e),void(a=0)!==l&&Math.PI>n&&(a=-t.width/2*(parseInt(l)/25),parseInt(l)<=10&&(a*=-1)),e.class=this.toThemeProperty("jqx-gauge-label"),i=r.renderer.text(d,Math.round(h)-t.width/2+a,Math.round(o),t.width,t.height,0,e),r._labels.push(i))},_addCaption:function(e){var t,i,s,r,n,o;!1!==this.caption.visible&&(i=(t=this.that).caption.value,s=t.toThemeProperty("jqx-gauge-caption"),n=t.caption.offset,r=t.renderer.measureText(i,0,{class:s}),n=t._getPosition(this.caption.position,r,n),t.caption.style,o=t._outerBorderOffset(),e?(this._caption.setAttribute("x",n.left+o),this._caption.setAttribute("y",n.top+o)):(e=t.renderer.text(i,n.left+o,n.top+o,r.width,r.height,0,{class:s}),this._caption=e))},_getPosition:function(e,t,i){var s=0,r=0,n=this._originalRadius;switch(e){case"left":s=(n-t.width)/2,r=n-t.height/2;break;case"right":s=n+(n-t.width)/2,r=n-t.height/2;break;case"bottom":s=(2*n-t.width)/2,r=(n+2*n-t.height)/2;break;default:s=(2*n-t.width)/2,r=(n+t.height)/2}return{left:s+i[0],top:r+i[1]}},_addPointer:function(e){var t="visible",i=(this.pointer.visible||(t="hidden"),this._originalRadius,this._getSize(this.pointer.length)),s=this._getAngleByValue(this.value),r=this.pointer.pointerType,s=this._computePointerPoints(this._getSize(this.pointer.width),s,i,"default"!==r);this._pointer=this.renderer.path(s,this.pointer.style),v(this._pointer).css("visibility",t)},_computePointerPoints:function(e,t,i,s){return s?this._computeRectPoints(e,t,i):this._computeArrowPoints(e,t,i)},_computeArrowPoints:function(e,t,i){var s=this._originalRadius-.5,r=Math.sin(t),t=Math.cos(t),n=this._outerBorderOffset(),o=s+n+i*r,i=s+n+i*t,a=s+n+e*t,l=s+n-e*r,t=s+n-e*t,s=s+n+e*r;return this._isVML&&(a=Math.round(a),t=Math.round(t),l=Math.round(l),s=Math.round(s),o=Math.round(o),i=Math.round(i)),"M "+a+","+l+" L "+t+","+s+" L "+o+","+i},_computeRectPoints:function(e,t,i){var s=this._originalRadius,r=Math.sin(t),t=Math.cos(t),n=this._outerBorderOffset(),o=s+n-e*t+i*r,a=s+n+e*r+i*t,l=s+n+e*t+i*r,i=s+n-e*r+i*t,d=s+n+e*t,h=s+n-e*r,t=s+n-e*t,s=s+n+e*r;return this._isVML&&(d=Math.round(d),t=Math.round(t),h=Math.round(h),s=Math.round(s),o=Math.round(o),a=Math.round(a),l=Math.round(l),i=Math.round(i)),"M "+d+","+h+" L "+t+","+s+" L "+o+","+a+" "+l+","+i},_getAngleByValue:function(e){var t,i,s,r=this.startAngle,n=r-this.endAngle;if(!1!==this.int64){e="s"===this.int64?(new v.jqx.math).fromString(e.toString(),10):new BigNumber(e),t=this._min64,i=this._max64.subtract(t),s=e.subtract(t),"u"===this.int64&&(s=s.intPart());var o,a=i.toString(),l=s.toString();if(15<a.length){var d=a.length-15,a=a.slice(0,15)+"."+a.slice(15),h=parseFloat(a);if(l.length>d)a=l.length-d,l=l.slice(0,a)+"."+l.slice(a);else if(l.length===d)l="0."+l;else{for(var c="0.",u=0;u<d-l.length;u++)c+="0";l=c+""+l}o=parseFloat(l)}else h=parseFloat(i.toString()),o=parseFloat(s.toString());a=n*o/h+r+Math.PI}else a=n*(s=e-(t=this.min))/(i=this.max-t)+r+Math.PI;return a},_setValue:function(e){var t,i,s=this;("s"===s.int64&&e.lessThanOrEqual(s._max64)&&e.greaterThanOrEqual(s._min64)||"u"===s.int64&&1!==e.compare(s._max64)&&-1!==e.compare(s._min64)||!1===s.int64&&e<=s.max&&e>=s.min)&&(i=s._getAngleByValue(e),t=s.pointer.pointerType,i=s._computePointerPoints(s._getSize(s.pointer.width),i,s._getSize(s.pointer.length),"default"!==t),s._isVML?(s._pointer&&v(s._pointer).remove(),s._pointer=s.renderer.path(i,s.pointer.style)):s.renderer.attr(s._pointer,{d:i}),!1!==s.int64?(s.value=e.toString(),"s"===s.int64?s._value64=(new v.jqx.math).fromString(s.value,10):s._value64=new BigNumber(s.value)):s.value=e,v.jqx.aria(s,"aria-valuenow",e.toString()))},resize:function(e,t){this.width=e,this.height=t,this.refresh()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._refresh(!0)},propertyChangedHandler:function(e,t,i,s){s==i||e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("min"==t&&(!0===e.int64?e._min64=(new v.jqx.math).fromString(s.toString(),10):this.min=parseInt(s),v.jqx.aria(e,"aria-valuemin",s)),"max"==t&&(!0===e.int64?e._max64=(new v.jqx.math).fromString(s.toString(),10):this.max=parseInt(s),v.jqx.aria(e,"aria-valuemax",s)),"disabled"===t?(s?this.disable():this.enable(),v.jqx.aria(this,"aria-disabled",s)):"value"===t?(this.value=i,this.setValue(s)):("startAngle"===t?this.startAngle=this.startAngle*Math.PI/180+Math.PI/2:"endAngle"===t?this.endAngle=this.endAngle*Math.PI/180+Math.PI/2:"colorScheme"===t?(this.pointer.style=null,this.cap.style=null):"radius"===t&&(this._radius=s),"animationDuration"!==t&&"easing"!==t&&this._refresh()),this.renderer instanceof v.jqx.HTML5Renderer&&this.renderer.refresh())},_tickConstructor:function(i,s){if(this.host)return new this._tickConstructor(i,s);function e(e,t){!1===s.int64?e[t]=parseFloat(i[t]):e[t]=i[t],e[t]||(e[t]=5)}i=i||{},this.size=s._validatePercentage(i.size,"10%"),e(this,"interval"),e(this,"number"),this.style=i.style||{stroke:"#898989","stroke-width":1},void 0===i.visible?this.visible=!0:this.visible=i.visible},_capConstructor:function(e,t){var i=t._getColorScheme(t.colorScheme)[0];if(this.host)return new this._capConstructor(e,t);void 0===(e=e||{}).visible?this.visible=!0:this.visible=e.visible,this.size=t._validatePercentage(e.size,"4%"),this.style=e.style||{fill:i,"stroke-width":"1px",stroke:i,"z-index":30}},_pointerConstructor:function(e,t){var i=t._getColorScheme(t.colorScheme)[0];if(this.host)return new this._pointerConstructor(e,t);void 0===(e=e||{}).visible?this.visible=!0:this.visible=e.visible,this.pointerType=e.pointerType,"default"!==this.pointerType&&"rectangle"!==this.pointerType&&(this.pointerType="default"),this.style=e.style||{"z-index":0,stroke:i,fill:i,"stroke-width":1},this.length=t._validatePercentage(e.length,"70%"),this.width=t._validatePercentage(e.width,"2%")},_labelsConstructor:function(e,t){if(this.host)return new this._labelsConstructor(e,t);void 0===(e=e||{}).visible?this.visible=!0:this.visible=e.visible,this.offset=e.offset,this.offset instanceof Array||(this.offset=[0,-10]),e.interval||(e.interval=20),!1!==t.int64?(this.interval=e.interval,"s"===t.int64?this._interval64=(new v.jqx.math).fromString(e.interval.toString(),10):this._interval64=new BigNumber(e.interval)):this.interval=parseFloat(e.interval),e.number||(e.number=5),this.number=e.number,this.distance=t._validatePercentage(e.distance,"38%"),this.position=e.position,"inside"!==this.position&&"outside"!==this.position&&(this.position="none"),this.formatValue=e.formatValue,this.formatSettings=e.formatSettings,this.fontSize=e.fontSize,this.fontFamily=e.fontFamily,this.fontWeight=e.fontWeight,this.fontStyle=e.fontStyle},_captionConstructor:function(e,t){if(this.host)return new this._captionConstructor(e,t);void 0===(e=e||{}).visible?this.visible=!0:this.visible=e.visible,this.value=e.value||"",this.position=e.position,"bottom"!==this.position&&"top"!==this.position&&"left"!==this.position&&"right"!==this.position&&(this.position="bottom"),this.offset=e.offset,this.offset instanceof Array||(this.offset=[0,0])},_rangeConstructor:function(e,t){if(this.host)return new this._rangeConstructor(e,t);this.startDistance=t._validatePercentage((e=e||{}).startDistance,"5%"),this.endDistance=t._validatePercentage(e.endDistance,"5%"),this.style=e.style||{fill:"#000000",stroke:"#111111"},this.startWidth=parseFloat(e.startWidth,10),this.startWidth||(this.startWidth=10),this.startWidth=Math.max(this.startWidth,2),this.endWidth=parseFloat(e.endWidth,10),this.endWidth||(this.endWidth=10),this.endWidth=Math.max(this.endWidth,2),void 0===e.startValue&&(e.startValue=0),void 0===e.endValue&&(e.endValue=100),!1!==t.int64?(this.startValue=e.startValue,this.endValue=e.endValue,"s"===t.int64?(this._startValue64=(new v.jqx.math).fromString(e.startValue.toString(),10),this._endValue64=(new v.jqx.math).fromString(e.endValue.toString(),10)):(this._startValue64=new BigNumber(e.startValue),this._endValue64=new BigNumber(e.endValue))):(this.startValue=parseFloat(e.startValue,10),this.endValue=parseFloat(e.endValue,10))},_borderConstructor:function(e,t){if(this.host)return new this._borderConstructor(e,t);this.size=t._validatePercentage((e=e||{}).size,"10%"),this.style=e.style||{stroke:"#cccccc"},void 0===e.showGradient?this.showGradient=!0:this.showGradient=e.showGradient,void 0===e.visible?this.visible=!0:this.visible=e.visible}},t={_events:["valueChanging","valueChanged"],_animationTimeout:10,_schemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_getScale:function(e,t,i){return e&&0<=e.toString().indexOf("%")?(e=parseInt(e,10)/100,i[t]()*e):parseInt(e,10)},_removeElements:function(){this.host.children(".chartContainer").remove(),this.host.children("#tblChart").remove()},_getLabelInterval:function(){var e,t=this,i=t.labels;return"default"===t.tickMode?t.niceInterval?t._getNiceInterval("jqxGauge"===t.widgetName?"radial":"linear"):!1===t.int64?i.interval:(i._interval64||(i._interval64="s"===t.int64?(new v.jqx.math).fromNumber(i.interval):new BigNumber(i.interval)),i._interval64):!1===t.int64?(e=t.max-t.min)/i.number:(e=t._max64.subtract(t._min64),"s"===t.int64?e.div((new v.jqx.math).fromNumber(i.number)):e.divide(new BigNumber(i.number)))},_getMaxLabelSize:function(){var e=this.max,t=this.min,t=this._formatLabel(t),e=this._formatLabel(e),i=v('<div style="position: absolute; visibility: hidden;" class="'+this.toThemeProperty("jqx-gauge-label")+'"></div>'),t=(i.css({"font-size":this.labels.fontSize,"font-family":this.labels.fontFamily,"font-weight":this.labels.fontWeight,"font-style":this.labels.fontStyle}),v("body").append(i),i.html(t),{width:i.width(),height:i.height()}),e=(i.html(e),{width:i.width(),height:i.height()});return i.remove(),e.width<t.width?t:e},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},destroy:function(){var e=this,t=(e._timeout&&clearTimeout(this._timeout),e._timeout=null,v.jqx.utilities.resize(e.host,null,!0),e._removeElements(),e.renderer.clear(),e.renderer=null,v.data(e.element,"jqxGauge"));t&&delete t.instance,e.host.children().remove(),e._caption=null,e._caption=null,e._pointer=null,e._labels=[],e._cap=null,e._ticks=[],e._ranges=[],e._border=null,e._gauge=null,e._caption=null,e.renderer=null,e._animations=[],e.host.removeData(),e.host.removeClass(),e.host.remove(),e.that=null,e.element=null,e._gaugeParent=null,delete e._gaugeParent,delete e.element,delete e.host},_validatePercentage:function(e,t){return e=0===parseFloat(e)||e&&parseInt(e,10)?e:t},_getColorScheme:function(e){for(var t,i=0;i<this._schemes.length;i+=1)if((t=this._schemes[i]).name===e)return t.colors;return null},setValue:function(e,t){var i=this;i.disabled||(t=t||i.animationDuration||0,"s"===i.int64?("number"==typeof e?e=(new v.jqx.math).fromNumber(e,10):"string"==typeof e&&(e=(new v.jqx.math).fromString(e,10)),(e=e.greaterThan(i._max64)?(new v.jqx.math).fromString(i._max64.toString(),10):e).lessThan(i._min64)&&(e=(new v.jqx.math).fromString(i._min64.toString(),10)),i._animate(i._value64,e,t)):"u"===i.int64?(-1===(e=1===(e=new BigNumber(e)).compare(i._max64)?new BigNumber(i._max64):e).compare(i._min64)&&(e=new BigNumber(i._min64)),i._animate(i._value64,e,t)):((e=e>i.max?i.max:e)<i.min&&(e=i.min),i._animate(i.value,e,t)),v.jqx.aria(i,"aria-valuenow",e.toString()))},_animate:function(e,t,i){this._timeout&&this._endAnimation(this.int64?this._value64:this.value,!1),i?this._animateHandler(e,t,0,i):this._endAnimation(t,!0)},_animateHandler:function(i,s,r,n){var o=this;r<=n?this._timeout=setTimeout(function(){var e,t;!1!==o.int64?(e=s.subtract(i),"s"===o.int64?(t=(new v.jqx.math).fromNumber(100*v.easing[o.easing](r/n,r,0,1,n),10),o._value64=i.add(e.multiply(t).div((new v.jqx.math).fromNumber(100,10)))):(t=new BigNumber(100*v.easing[o.easing](r/n,r,0,1,n)),o._value64=i.add(e.multiply(t).divide(100))),o.value=o._value64.toString(),o._setValue(o._value64)):(o.value=i+(s-i)*v.easing[o.easing](r/n,r,0,1,n),o._setValue(o.value)),o._raiseEvent(0,{value:o.value.toString()}),o._animateHandler(i,s,r+o._animationTimeout,n)},this._animationTimeout):this._endAnimation(s,!0)},_endAnimation:function(e,t){clearTimeout(this._timeout),this._timeout=null,this._setValue(e),t&&this._raiseEvent(1,{value:e.toString()})},_getMaxTickSize:function(){return Math.max(this._getSize(this.ticksMajor.size),this._getSize(this.ticksMinor.size))},_raiseEvent:function(e,t){e=v.Event(this._events[e]);return e.args=t||{},this.host.trigger(e)},_getNiceInterval:function(e,t){function i(e){return Math.log(parseFloat(e))/Math.LN10}var s,r,n,o,a,l,d=this,h="width",c=("linear"===e&&"vertical"===d.orientation&&(h="height"),v.jqx.browser.msie?0:1),u=v('<span class="'+d.toThemeProperty("jqx-gauge-label")+'" style="position: absolute; visibility: hidden;"></span>'),p=d._formatLabel(d.min),m=d._formatLabel(d.max),p=(u.css({"font-size":d.labels.fontSize,"font-family":d.labels.fontFamily,"font-weight":d.labels.fontWeight,"font-style":d.labels.fontStyle}),v("body").append(u),u.text(p),u[h]()+c),m=(u.text(m),u[h]()+c),h=(u.remove(),Math.max(m,p)),p=(h*="radial"===e?(c=d._innerRadius<50?.3:d._innerRadius<150?.6:d._innerRadius<250?.7:1,8/Math.max(1,i(d._innerRadius))*c):1.5+(105<h?(h-105)/100:0),m="radial"===e?(u=Math.abs(d.startAngle-d.endAngle)*d._innerRadius,Math.round(u)):d._getScaleLength(),Math.ceil(m/h));return!0===t&&(p*="radial"===e?4:3),!1===d.int64?(s=d.max-d.min,r=Math.floor(i(s)-i(p)),l=(a=s<2*(o=p*(n=Math.pow(10,r)))?1:s<3*o?2:s<7*o?5:10)*n):(s=new BigNumber(d.max).subtract(new BigNumber(d.min)),r=Math.floor(i(s.toString())-i(p)),n=new BigNumber(10).pow(new BigNumber(r)),o=new BigNumber(p).multiply(n),a=-1===s.compare(new BigNumber(2*o))?1:-1===s.compare(new BigNumber(3*o))?2:-1===s.compare(new BigNumber(7*o))?5:10,-1===(l=new BigNumber(a).multiply(n)).compare(1)&&(l=new BigNumber(1)),"s"===d.int64&&(l=(new v.jqx.math).fromString(l.toString()))),l},_styleLabels:function(){},_checkForOverflow:function(e,t){var i=new BigNumber("9223372036854775807"),e=new BigNumber(e.toString()),t=new BigNumber(t.toString());return 1===e.add(t).compare(i)},_formatLabel:function(e,t){var i,s=this.labels.formatValue,r=this.labels.formatSettings;return s?i=s(e,t):r?void 0!==r.radix?i=(new v.jqx.math).getRadixValue(e,this.int64,r.radix):void 0!==r.outputNotation&&"default"!==r.outputNotation&&"decimal"!==r.outputNotation?i=(new v.jqx.math).getDecimalNotation(e,r.outputNotation,r.decimalDigits,r.digits):void 0!==r.decimalDigits?i=Number(e).toFixed(r.decimalDigits):void 0!==r.digits&&(i=Number(e).toPrecision(r.digits)):i=e,i},_editableLabels:function(e){var t,i,s,r,n,o=this;function a(e,t){var i=o.renderer.measureText(o._formatLabel(t),0,{class:o.toThemeProperty("jqx-gauge-label")});r.offset(v(e).offset()),s.style.width=i.width+10+"px",s.style.height=i.height+"px",s.style.visibility="visible",s.value=t,r.select()}function l(e,t,i,s){if(e===o[t].toString())return!1;if("s"===o.int64){var r=(new v.jqx.math).fromString(e,10);if("min"===t&&-1!==r.compare(o["_"+s+"64"])||"max"===t&&1!==r.compare(o["_"+s+"64"]))return!1;o[i]=r,o[t]=e}else if("u"===o.int64){r=new BigNumber(e);if(-1===r.compare(0)||"min"===t&&-1!==r.compare(o["_"+s+"64"])||"max"===t&&1!==r.compare(o["_"+s+"64"]))return!1;o[i]=r,o[t]=e}else{if("min"===t&&e>=o[s]||"max"===t&&e<=o[s])return!1;o[t]=parseFloat(e)}}o.editableLabels&&0!==(i=o._labels).length&&(t=i[0],i=i[i.length-1],!0!==e?(s=document.createElement("input"),r=v(s),s.className="jqx-gauge-label-input",o.element.appendChild(s)):(r=o.host.children("input"),s=r[0]),t.style.cursor="text",i.style.cursor="text",o.addHandler(v(t),"dblclick.jqxGauge"+o.element.id,function(e){a(this,o.min),o._editedProperty="min"}),o.addHandler(v(i),"dblclick.jqxGauge"+o.element.id,function(e){a(this,o.max),o._editedProperty="max"}),n=/^-?\d+\.?\d*$/,!0!==e&&o.addHandler(r,"blur.jqxGauge"+o.element.id,function(e){var t=this.value;if(s.style.visibility="hidden",n.test(t)){if("min"===o._editedProperty){if(!1===l(t,"min","_min64","max"))return;v.jqx.aria(o,"aria-valuemin",t)}else{if(!1===l(t,"max","_max64","min"))return;v.jqx.aria(o,"aria-valuemax",t)}o.refresh(),o.renderer instanceof v.jqx.HTML5Renderer&&o.renderer.refresh()}}))}},i={defineInstance:function(){var e={int64:!1,editableLabels:!1,value:-50,max:40,min:-60,width:100,height:300,pointer:{},labels:{},animationDuration:1e3,showRanges:{},ticksMajor:{size:"15%",interval:5},ticksMinor:{size:"10%",interval:2.5},tickMode:"default",niceInterval:!1,ranges:[],easing:"easeOutCubic",colorScheme:"scheme01",disabled:!1,rangesOffset:0,background:{},ticksPosition:"both",rangeSize:"5%",scaleStyle:null,ticksOffset:null,scaleLength:"90%",orientation:"vertical",aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},displayTank:!1,tankStyle:null,_originalColor:"",_width:null,_height:null,renderer:null};return this===v.jqx._jqxLinearGauge.prototype||v.extend(!0,this,e),e},createInstance:function(){v.jqx.aria(this),this.host.css("overflow","hidden"),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.append('<input class="jqx-gauge-label-input"/>');var e=this;if("s"===e.int64){if(!v.jqx.longInt)throw new Error("jqxLinearGauge: Missing reference to jqxmath.js");v.jqx.longInt(e),e._value64=(new v.jqx.math).fromString(e.value.toString(),10),e._min64=(new v.jqx.math).fromString(e.min.toString(),10),e._max64=(new v.jqx.math).fromString(e.max.toString(),10)}else if("u"===e.int64){try{BigNumber}catch(e){throw new Error("jqxLinearGauge: Missing reference to jqxmath.js")}e._value64=new BigNumber(e.value),e._min64=new BigNumber(e.min),e._max64=new BigNumber(e.max)}v.jqx.utilities.resize(this.host,function(){e.refresh(!1,!1)})},val:function(e){if(0==arguments.length||"object"==typeof e)return this.value;this.setValue(e,0)},_initRenderer:function(e){if(v.jqx.createRenderer)return v.jqx.createRenderer(this,e);throw"Please include a reference to jqxdraw.js"},refresh:function(e,t){var i=this;i._nearLabels=[],i._farLabels=[],i.renderer||(i._isVML=!1,i.host.empty(),i._initRenderer(i.host)),i.renderer&&(i._validateProperties(),i._reset(),i._init(),i._performLayout(),i._render(),!1!==t&&i.setValue(i.value,1),e||("both"!==(t=i.labels.position)&&"near"!==t||(i._labels=i._nearLabels,i._editableLabels()),"both"!==t&&"far"!==t||(i._labels=i._farLabels,i._editableLabels("both"===t||void 0))))},_getBorderSize:function(){var e,t=1;return this._isVML&&(t=0),this.background?(e=(parseInt(this.background.style["stroke-width"],10)||t)/2,this._isVML?Math.round(e):e):t},_validateProperties:function(){this.background=this._backgroundConstructor(this.background,this),this.ticksOffset=this.ticksOffset||this._getDefaultTicksOffset(),this.rangesOffset=this.rangesOffset||0,this.rangeSize=this._validatePercentage(this.rangeSize,5),this.ticksOffset[0]=this._validatePercentage(this.ticksOffset[0],"5%"),this.ticksOffset[1]=this._validatePercentage(this.ticksOffset[1],"5%"),this.ticksMinor=this._tickConstructor(this.ticksMinor,this),this.ticksMajor=this._tickConstructor(this.ticksMajor,this),this.scaleStyle=this.scaleStyle||this.ticksMajor.style,this.labels=this._labelsConstructor(this.labels,this),this.pointer=this._pointerConstructor(this.pointer,this);for(var e=0;e<this.ranges.length;e+=1)this.ranges[e]=this._rangeConstructor(this.ranges[e],this)},_getDefaultTicksOffset:function(){return"horizontal"===this.orientation?["5%","36%"]:["36%","5%"]},_handleOrientation:function(){"vertical"===this.orientation?v.extend(this,linearVerticalGauge):v.extend(this,linearHorizontalGauge)},_reset:function(){this.host.empty()},_performLayout:function(){var e=parseInt(this.background.style["stroke-width"],10)||1;this._width-=e,this._height-=e,this.host.css("padding",e/2)},_init:function(){var e;this._getBorderSize();this._width=this._getScale(this.width,"width",this.host.parent())-3,this._height=this._getScale(this.height,"height",this.host.parent())-3,this.element.innerHTML="<div/>",this.host.width(this._width),this.host.height(this._height),this.host.children().width(this._width),this.host.children().height(this._height),this.renderer.init(this.host.children()),(e=this.renderer.getContainer()).width(this._width),e.height(this._height)},_render:function(){this._renderBackground(),this._renderTicks(),this.niceInterval||this._renderLabels(),this._styleLabels(),this._renderRanges(),this._renderPointer()},_renderBackground:function(){var e,t,i;this.background.visible&&(i=this.background.style,t=v.jqx._rup(this._getBorderSize()),e="rect",i=this._handleShapeOptions(i),"roundedRectangle"===this.background.backgroundType&&this._isVML&&(e="roundrect"),this._Vml||(i.x=t,i.y=t),t=this.renderer.shape(e,i),this._isVML&&this._fixVmlRoundrect(t,i))},_handleShapeOptions:function(e){var t=this.background.style.fill,t=(this._getBorderSize(),t||"#cccccc");return this.background.showGradient&&(t.indexOf("url")<0&&t.indexOf("#grd")<0?this._originalColor=t:t=this._originalColor,t=this.renderer._toLinearGradient(t,"horizontal"===this.orientation,[[1,1.1],[90,1.5]])),this.background.style.fill=t,"roundedRectangle"===this.background.backgroundType&&(this._isVML?e.arcsize=this.background.borderRadius+"%":(e.rx=this.background.borderRadius,e.ry=this.background.borderRadius)),e.width=this._width-1,e.height=this._height-1,e},_fixVmlRoundrect:function(e,t){var i=this._getBorderSize();e.style.position="absolute",e.style.left=i,e.style.top=i,e.style.width=this._width-1,e.style.height=this._height-1,e.strokeweight=0,delete t.width,delete t.height,delete t.arcsize,this.renderer.attr(e,t)},_renderTicks:function(){var e=this.ticksMinor,t=this.ticksMajor,i="s"===this.int64?((i=this._max64.subtract(this._min64)).isNegative()&&(i=i.negate()),"default"===this.tickMode?this.niceInterval?(s=this._getNiceInterval("linear"),this._getNiceInterval("linear",!0)):(s=t._interval64,e._interval64):(s=i.div((new v.jqx.math).fromNumber(t.number)),i.div((new v.jqx.math).fromNumber(e.number)))):"u"===this.int64?(i=this._max64.subtract(this._min64).abs(),"default"===this.tickMode?this.niceInterval?(s=this._getNiceInterval("linear"),this._getNiceInterval("linear",!0)):(s=t._interval64,e._interval64):(s=i.divide(new BigNumber(t.number)),i.divide(new BigNumber(e.number)))):(i=Math.abs(this.max-this.min),"default"===this.tickMode?this.niceInterval?(s=this._getNiceInterval("linear"),this._getNiceInterval("linear",!0)):(s=t.interval,e.interval):(s=i/t.number,i/e.number)),t={size:this._getSize(t.size),style:t.style,visible:t.visible,interval:s,type:"major"},s={size:this._getSize(e.size),style:e.style,visible:e.visible,interval:i,checkOverlap:!0,type:"minor"};"near"!==this.ticksPosition&&"both"!==this.ticksPosition||(this._ticksRenderHandler(t),this._ticksRenderHandler(s)),"far"!==this.ticksPosition&&"both"!==this.ticksPosition||(t.isFar=!0,s.isFar=!0,this._ticksRenderHandler(t),this._ticksRenderHandler(s)),this._renderConnectionLine()},_ticksRenderHandler:function(e){var t,i;!e.visible&&"minor"===e.type||(this._getSize(this.ticksOffset[0],"width"),this._getSize(this.ticksOffset[1],"height"),t=this._getBorderSize(),i=this._calculateTickOffset()+this._getMaxTickSize(),e.isFar&&(i+=e.size),this._drawTicks(e,t,i+t))},_drawTicks:function(r,n,o){var a,e,l=this,t=r.interval,i="vertical"===l.orientation?"width":"height",s="vertical"===l.orientation?"height":"width",d=l._getMaxLabelSize()[i],h=l._getMaxLabelSize()[s],c=l._getInterval("ticksMajor"),u=l._getInterval("ticksMinor");function p(e){if(a=l._valueToCoordinates(e),(!r.checkOverlap||!l._overlapTick(e,c,u))&&(r.visible&&l._renderTick(r.size,a,r.style,o),l.niceInterval&&l.labels.visible)){"vertical"===l.orientation?l._getSize(l.ticksOffset[1],"height"):l._getSize(l.ticksOffset[0],"width");var t=r.isFar?"far":"near",i="near"==t?l._calculateTickOffset()-d+n+l._getSize(l.labels.offset):l._calculateTickOffset()+2*l._getMaxTickSize()+d+n+l._getSize(l.labels.offset);if(!1===l.int64){if(e!==l.min&&Math.abs(l._valueToCoordinates(l.min)-a)<h)return;if(e!==l.max&&Math.abs(l._valueToCoordinates(l.max)-a)<h)return}else if("s"===l.int64){if(!1===e.equals(l._min64)&&Math.abs(l._valueToCoordinates(l._min64)-a)<h)return;if(!1===e.equals(l._max64)&&Math.abs(l._valueToCoordinates(l._max64)-a)<h)return}else if("u"===l.int64){if(0!==e.compare(l._min64)&&Math.abs(l._valueToCoordinates(l._min64)-a)<h)return;if(0!==e.compare(l._max64)&&Math.abs(l._valueToCoordinates(l._max64)-a)<h)return}var s=l.labels.position;"major"===r.type&&("both"===s||"near"===s&&!0!==r.isFar||"far"===s&&r.isFar)&&l._renderLabel(a,t,i,d,e)}}if(l.niceInterval)if("s"===l.int64){if(p(l._min64),e=l._min64.subtract(l._min64.modulo(t)).add(t),"minor"===r.type)for(var m=e;m.greaterThanOrEqual(l._min64);m=m.subtract(t))e=m;for(var g=e;g.lessThan(l._max64)&&!l._checkForOverflow(g,t);g=g.add(t))p(g);p(l._max64)}else if("u"===l.int64){if(p(l._min64),e=l._min64.subtract(l._min64.mod(t)).add(t),"minor"===r.type)for(m=e;-1!==m.compare(l._min64);m=m.subtract(t))e=m;for(g=e;-1===g.compare(l._max64);g=g.add(t))p(g);p(l._max64)}else{if(p(l.min),e=l.min-l.min%t+t,"minor"===r.type)for(m=e;m>=l.min;m-=t)e=m;for(g=e;g<=l.max;g+=t)p(g);p(l.max)}else if("s"===l.int64)for(g=(new v.jqx.math).fromString(l._min64.toString(),10);g.lessThanOrEqual(l._max64);g=g.add(t))p(g);else if("u"===l.int64)for(g=new BigNumber(l._min64);1!==g.compare(l._max64);g=g.add(t))p(g);else for(g=l.min;g<=l.max;g+=t)p(g)},_calculateTickOffset:function(){var e=this._getSize(this.ticksOffset[0],"width"),t=this._getSize(this.ticksOffset[1],"height");return t="vertical"===this.orientation?e:t},_getInterval:function(e){var t,i,s=this;return"default"===s.tickMode?!0===s.niceInterval?s._getNiceInterval("linear","ticksMinor"===e):!1!==s.int64?s[e]._interval64:s[e].interval:(t=s[e].number,!1!==s.int64?(i=s._max64.subtract(s._min64),"s"===s.int64?i.div((new v.jqx.math).fromNumber(t)):i.divide(new BigNumber(t))):(i=s.max-s.min)/s[e].number)},_overlapTick:function(e,t,i){return"s"===this.int64?!!(e=e.add(this._min64)).modulo(i).equals(e.modulo(t)):"u"===this.int64?0===(e=e.add(this._min64)).mod(i).compare(e.mod(t)):(e+=this.min)%i==e%t},_renderConnectionLine:function(){var e,t,i,s;(this.ticksMajor.visible||this.ticksMinor.visible)&&(this._getScaleLength(),t=this._getBorderSize(),t=this._getMaxTickSize()+t,s=!1!==this.int64?(e=this._valueToCoordinates(this._max64),this._valueToCoordinates(this._min64)):(e=this._valueToCoordinates(this.max),this._valueToCoordinates(this.min)),"vertical"===this.orientation?(t+=this._getSize(this.ticksOffset[0],"width"),this.renderer.line(t,e,t,s,this.scaleStyle)):(t+=this._getSize(this.ticksOffset[1],"height"),i=this._getSize(this.ticksOffset[0],"width"),this.renderer.line(i+e-s,t,i,t,this.scaleStyle)))},_getScaleLength:function(){return this._getSize(this.scaleLength,"vertical"===this.orientation?"height":"width")},_renderTick:function(e,t,i,s){e=this._handleTickCoordinates(e,t,s);this.renderer.line(Math.round(e.x1),Math.round(e.y1),Math.round(e.x2),Math.round(e.y2),i)},_handleTickCoordinates:function(e,t,i){return"vertical"===this.orientation?{x1:i-e,x2:i,y1:t,y2:t}:{x1:t,x2:t,y1:i-e,y2:i}},_getTickCoordinates:function(e,t){var i=this._handleTickCoordinates(e,0,this._calculateTickOffset()),i="vertical"===this.orientation?i.x1:i.y1;return i+=e},_renderLabels:function(){var e,t,i,s,r,n;this.labels.visible&&(e=this._getSize(this.ticksOffset[0],"width"),t=this._getMaxTickSize(),i=this.labels.position,n="height",s=this._getBorderSize(),r=this._calculateTickOffset()+t,"vertical"===this.orientation&&(e=this._getSize(this.ticksOffset[1],"height"),n="width"),n=this._getMaxLabelSize()[n],"near"!==i&&"both"!==i||this._labelListRender(r-t-n+s,e+s,n,"near"),"far"!==i&&"both"!==i||this._labelListRender(r+t+n+s,e+s,n,"far"))},_labelListRender:function(e,t,i,s){var r,n,o,a=this._getScaleLength();e+=this._getSize(this.labels.offset);for(var l=!1!==this.int64?(o=this._max64.subtract(this._min64),"default"===this.tickMode?(r=this.labels._interval64,n="s"===this.int64?o.div(r).toNumber():parseFloat(o.divide(r).toString())):(n=this.labels.number,r="s"===this.int64?o.div((new v.jqx.math).fromNumber(n)):o.divide(n)),"vertical"===this.orientation?this._max64:this._min64):(o=Math.abs(this.max-this.min),"default"===this.tickMode?n=o/(r=this.labels.interval):r=o/(n=this.labels.number),"vertical"===this.orientation?this.max:this.min),d=a/n,h=0;h<=n;h+=1)this._renderLabel(t,s,e,i,l),!1!==this.int64?l="vertical"===this.orientation?l.subtract(r):l.add(r):l+="vertical"===this.orientation?-r:r,t+=d},_renderLabel:function(e,t,i,s,r){var n,o=this.labels,a={class:this.toThemeProperty("jqx-gauge-label")},l=(this.labels.interval,"");o.fontSize&&(l+="font-size: "+o.fontSize+";"),o.fontFamily&&(l+="font-family: "+o.fontFamily),o.fontWeight&&(l+="font-weight: "+o.fontWeight),o.fontStyle&&(l+="font-style: "+o.fontStyle),""!==l&&(a.style=l),o=this._formatLabel(r.toString(),t),l=this.renderer.measureText(o,0,a),r="vertical"===this.orientation?(n="near"===t?s-l.width:0,this.renderer.text(o,Math.round(i)+n-s/2,Math.round(e-l.height/2),l.width,l.height,0,a)):(n="near"===t?s-l.height:0,this.renderer.text(o,Math.round(e-l.width/2),Math.round(i)+n-s/2,l.width,l.height,0,a)),"near"===t?this.niceInterval||"horizontal"===this.orientation?this._nearLabels.push(r):this._nearLabels.unshift(r):this.niceInterval||"horizontal"===this.orientation?this._farLabels.push(r):this._farLabels.unshift(r)},_renderRanges:function(){if(this.showRanges)for(var e,t="vertical"===this.orientation?"width":"height",i=this._getSize(this.rangesOffset,t),s=this._getSize(this.rangeSize,t),r=0;r<this.ranges.length;r+=1)(e=this.ranges[r]).size=s,this._renderRange(e,i)},_renderRange:function(e,t){this._getScaleLength();var i,s,r=this._getBorderSize(),n=this._getSize(this.ticksOffset[0],"width"),o=this._getSize(this.ticksOffset[1],"height"),a=this._getMaxTickSize(),l=this._getSize(e.size),d=(!1!==this.int64?(i=this._valueToCoordinates(e._endValue64),s=e._startValue64,"s"===this.int64&&s.lessThan(this._min64)?s=(new v.jqx.math).fromString(this._min64.toString(),10):"u"===this.int64&&-1===s.compare(this._min64)&&(s=new BigNumber(this._min64))):(i=this._valueToCoordinates(e.endValue),(s=e.startValue)<this.min&&(s=this.min)),Math.abs(this._valueToCoordinates(s)-i)),t="vertical"===this.orientation?this.renderer.rect(n+a+t-l+r,i,e.size,d,e.style):(n=d,this.renderer.rect(this._valueToCoordinates(s),o+a+r,n,e.size,e.style));this.renderer.attr(t,e.style)},_renderPointer:function(){this.pointer.visible&&("default"===this.pointer.pointerType?this._renderColumnPointer():this._renderArrowPointer())},_renderColumnPointer:function(){var e;this.displayTank&&(e={fill:"#FFFFFF","fill-opacity":0},this.tankStyle?(e.stroke=this.tankStyle.stroke,e["stroke-width"]=this.tankStyle.strokeWidth):(e.stroke="#A1A1A1",e["stroke-width"]="1px"),this._tank=this.renderer.rect(0,0,0,0,e),this._performTankLayout()),this._pointer=this.renderer.rect(0,0,0,0,this.pointer.style),this.renderer.attr(this._pointer,this.pointer.style),!1!==this.int64?this._setValue(this._value64):this._setValue(this.value)},_performTankLayout:function(){var e=this._valueToCoordinates(),t=this._getBorderSize(),i=this._getSize(this.ticksOffset[0],"width"),s=this._getSize(this.ticksOffset[1],"height"),r=this._getMaxTickSize(),n=this._getSize(this.pointer.size),o=this._getSize(this.pointer.offset),a={},l=!1!==this.int64?(e=this._valueToCoordinates(this._max64),this._valueToCoordinates(this._min64)):(e=this._valueToCoordinates(this.max),this._valueToCoordinates(this.min)),d=Math.abs(l-e),a="vertical"===this.orientation?{left:i+r+o+1+t,top:e,height:d,width:n}:{left:l,top:s+r+o-n-1+t,height:n,width:d};this._isVML?(this._tank.style.top=a.top,this._tank.style.left=a.left,this._tank.style.width=a.width,this._tank.style.height=a.height):(this.renderer.attr(this._tank,{x:a.left}),this.renderer.attr(this._tank,{y:a.top}),this.renderer.attr(this._tank,{width:a.width}),this.renderer.attr(this._tank,{height:a.height}))},_renderArrowPointer:function(){var e=this._getArrowPathByValue(0);this._pointer=this.renderer.path(e,this.pointer.style)},_renderArrowPointerByValue:function(e){e=this._getArrowPathByValue(e);this._pointer=this.renderer.path(e,this.pointer.style)},_getArrowPathByValue:function(e){var t,i=this._getBorderSize(),e=Math.ceil(this._valueToCoordinates(e))+i,s=Math.ceil(this._getSize(this.ticksOffset[0],"width")),r=(Math.ceil(this._getSize(this.ticksOffset[1],"height")),Math.ceil(this._getSize(this.pointer.offset))),n=Math.ceil(this._getMaxTickSize()),o=Math.ceil(this._getSize(this.pointer.size)),a=Math.ceil(Math.sqrt(o*o/3)),n="vertical"===this.orientation?"M "+(i+=s+n+r)+" "+e+" L "+(t=0<=r?i+o:i-o)+" "+(e-a)+" L "+t+" "+(e+a):(i+=s+n+r+this._getMaxLabelSize().height,this._isVML&&(i-=2),s=e,e=i,"M "+(i=s)+" "+e+" L "+(i-a)+" "+(t=e-o)+" L "+(i+a)+" "+t);return n},_setValue:function(e){"default"===this.pointer.pointerType?this._performColumnPointerLayout(e):this._performArrowPointerLayout(e),this.value=e},_performColumnPointerLayout:function(e){var e=this._valueToCoordinates(e),t=this._getBorderSize(),i=this._getSize(this.ticksOffset[0],"width"),s=this._getSize(this.ticksOffset[1],"height"),r=this._getMaxTickSize(),n=this._getSize(this.pointer.size),o=this._getSize(this.pointer.offset),a={},l=!1!==this.int64?this._valueToCoordinates(this._min64):this._valueToCoordinates(this.min),d=Math.abs(l-e),a="vertical"===this.orientation?{left:i+r+o+1+t,top:e,height:d,width:n}:{left:l,top:s+r+o-n-1+t,height:n,width:d};this._setRectAttrs(a)},_performArrowPointerLayout:function(e){var t=this._getArrowPathByValue(e);this._isVML?(this._pointer&&v(this._pointer).remove(),this._renderArrowPointerByValue(e)):this.renderer.attr(this._pointer,{d:t})},_setRectAttrs:function(e){this._isVML?(this._pointer.style.top=e.top,this._pointer.style.left=e.left,this._pointer.style.width=e.width,this._pointer.style.height=e.height):(this.renderer.attr(this._pointer,{x:e.left}),this.renderer.attr(this._pointer,{y:e.top}),this.renderer.attr(this._pointer,{width:e.width}),this.renderer.attr(this._pointer,{height:e.height}))},_valueToCoordinates:function(e){var t,i,s=this._getBorderSize(),r=this._getScaleLength(),n=this._getSize(this.ticksOffset[0],"width"),o=this._getSize(this.ticksOffset[1],"height");if(!1!==this.int64){t=e.subtract(this._min64),i=this._max64.subtract(this._min64),"s"===this.int64?(t.isNegative()&&t.negate(),i.isNegative()&&i.negate()):(t=t.intPart().abs(),i=i.abs());var a,l=t.toString();if(15<(h=i.toString()).length){var d=h.length-15,h=h.slice(0,15)+"."+h.slice(15),c=parseFloat(h);if(l.length>d)var h=l.length-d,l=l.slice(0,h)+"."+l.slice(h);else if(l.length===d)l="0."+l;else{for(var u="0.",p=0;p<d-l.length;p++)u+="0";l=u+""+l}a=parseFloat(l)}else c="s"===this.int64?(a=t.toNumber(),i.toNumber()):(a=parseFloat(t.toString()),parseFloat(i.toString()));h=a/c*r}else h=(t=Math.abs(this.min-e))/(i=Math.abs(this.max-this.min))*r;return"vertical"===this.orientation?this._height-h-(this._height-o-r)+s:h+n},_getSize:function(e,t){return t=t||("vertical"===this.orientation?"width":"height"),0<=e.toString().indexOf("%")&&(e=parseInt(e,10)/100*this["_"+t]),e=parseInt(e,10)},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(e,t,i,s){s==i||e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||"tankStyle"===t&&"arrow"===e.pointer.pointerType||("min"==t&&("s"===e.int64?e._min64=(new v.jqx.math).fromString(s.toString(),10):"u"===e.int64?e._min64=new BigNumber(s):this.min=parseFloat(s),v.jqx.aria(this,"aria-valuemin",s)),"max"==t&&("s"===e.int64?e._max64=(new v.jqx.math).fromString(s.toString(),10):"u"===e.int64?e._max64=new BigNumber(s):this.max=parseFloat(s),v.jqx.aria(this,"aria-valuemax",s)),"disabled"===t?(s?this.disable():this.enable(),v.jqx.aria(this,"aria-disabled",s)):"value"===t?(null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.value=i,this.setValue(s)):("colorScheme"===t?this.pointer.style=null:"orientation"===t&&i!==s&&(e=this.ticksOffset[0],this.ticksOffset[0]=this.ticksOffset[1],this.ticksOffset[1]=e),"animationDuration"!==t&&"easing"!==t&&this.refresh()),this.renderer instanceof v.jqx.HTML5Renderer&&this.renderer.refresh())},_backgroundConstructor:function(e,t){if(this.host)return new this._backgroundConstructor(e,t);this.style=(e=e||{}).style||{stroke:"#cccccc",fill:null},e.visible||void 0===e.visible?this.visible=!0:this.visible=!1,!{rectangle:!0,roundedRectangle:!0}[e.backgroundType]?this.backgroundType="roundedRectangle":this.backgroundType=e.backgroundType,"roundedRectangle"===this.backgroundType&&("number"==typeof e.borderRadius?this.borderRadius=e.borderRadius:this.borderRadius=15),void 0===e.showGradient?this.showGradient=!0:this.showGradient=e.showGradient},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_tickConstructor:function(e,t){if(this.host)return new this._tickConstructor(e,t);this.size=t._validatePercentage(e.size,"10%"),e.interval?this.interval=e.interval:this.interval=5,"s"===t.int64?this._interval64=(new v.jqx.math).fromString(this.interval.toString(),10):"u"===t.int64?this._interval64=new BigNumber(this.interval):this.interval=parseFloat(this.interval),e.number?this.number=e.number:this.number=5,this.style=e.style||{stroke:"#A1A1A1","stroke-width":"1px"},void 0===e.visible?this.visible=!0:this.visible=e.visible},_labelsConstructor:function(e,t){if(this.host)return new this._labelsConstructor(e,t);this.position=e.position,"far"!==this.position&&"near"!==this.position&&"both"!==this.position&&(this.position="both"),this.formatValue=e.formatValue,this.formatSettings=e.formatSettings,this.visible=e.visible,!1!==this.visible&&!0!==this.visible&&(this.visible=!0),e.interval?this.interval=e.interval:this.interval=10,"s"===t.int64?this._interval64=(new v.jqx.math).fromString(this.interval.toString(),10):"u"===t.int64?this._interval64=new BigNumber(this.interval):this.interval=parseFloat(this.interval),e.number?this.number=e.number:this.number=10,this.fontSize=e.fontSize,this.fontFamily=e.fontFamily,this.fontWeight=e.fontWeight,this.fontStyle=e.fontStyle,this.offset=t._validatePercentage(e.offset,0)},_rangeConstructor:function(e,t){if(this.host)return new this._rangeConstructor(e,t);e.startValue?this.startValue=e.startValue:this.startValue=t.min,e.endValue?this.endValue=e.endValue:this.endValue=t.max,"s"===t.int64?(this._startValue64=(new v.jqx.math).fromString(this.startValue.toString(),10),this._endValue64=(new v.jqx.math).fromString(this.endValue.toString(),10),this._endValue64.lessThanOrEqual(this._startValue64)&&(this._endValue64=this._startValue64.add((new v.jqx.math).fromNumber(1,10)),this.endValue=this._endValue64.toString())):"u"===t.int64?(this._startValue64=new BigNumber(this.startValue),this._endValue64=new BigNumber(this.endValue),1!==this._endValue64.compare(this._startValue64)&&(this._endValue64=this._startValue64.add(1),this.endValue=this._endValue64.toString())):(this.startValue=parseFloat(this.startValue),this.endValue=parseFloat(this.endValue),this.endValue<=this.startValue&&(this.endValue=this.startValue+1)),this.style=e.style||{fill:"#dddddd",stroke:"#dddddd"}},_pointerConstructor:function(e,t){if(this.host)return new this._pointerConstructor(e,t);var i=t._getColorScheme(t.colorScheme)[0];this.pointerType=e.pointerType,"default"!==this.pointerType&&"arrow"!==this.pointerType&&(this.pointerType="default"),this.style=e.style||{fill:i,stroke:i,"stroke-width":1},this.size=t._validatePercentage(e.size,"7%"),this.visible=e.visible,!0!==this.visible&&!1!==this.visible&&(this.visible=!0),this.offset=t._validatePercentage(e.offset,0)}};v.extend(e,t),v.extend(i,t),v.jqx.jqxWidget("jqxLinearGauge","",{}),v.jqx.jqxWidget("jqxGauge","",{}),v.extend(v.jqx._jqxGauge.prototype,e),v.extend(v.jqx._jqxLinearGauge.prototype,i)}(jqxBaseFramework),!function(re){function h(s,e){return this.owner=s,this.datafield=null,this.displayfield=null,this.text="",this.createfilterpanel=null,this.sortable=!0,this.hideable=!0,this.editable=!0,this.hidden=!1,this.adaptivehidden=!1,this.groupable=!0,this.renderer=null,this.cellsrenderer=null,this.checkchange=null,this.threestatecheckbox=!1,this.buttonclick=null,this.columntype=null,this.cellsformat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.filteritems=[],this.resizable=!0,this.initeditor=null,this.createeditor=null,this.createwidget=null,this.initwidget=null,this.destroywidget=null,this.destroyeditor=null,this.geteditorvalue=null,this.validation=null,this.classname="",this.cellclassname="",this.cellendedit=null,this.cellbeginedit=null,this.cellvaluechanging=null,this.aggregates=null,this.aggregatesrenderer=null,this.menu=!0,this.createfilterwidget=null,this.filtertype="default",this.filtercondition=null,this.rendered=null,this.exportable=!0,this.exporting=!1,this.draggable=!0,this.nullable=!0,this.clipboard=!0,this.selectable=!1,this.autofill=!0,this._applyStyle=function(){var e=this;return e.hovered?(e.style.headerBackgroundHoveredColor&&(e.element.style.backgroundColor=e.style.headerBackgroundHoveredColor),void(e.style.headerHoveredColor&&(e.element.style.color=e.style.headerHoveredColor))):e.selected?(e.style.headerBackgroundSelectedColor&&(e.element.style.backgroundColor=e.style.headerBackgroundSelectedColor),void(e.style.headerSelectedColor&&(e.element.style.color=e.style.headerSelectedColor))):(e.style.headerBackgroundColor?e.element.style.backgroundColor=e.style.headerBackgroundColor:e.element.style.backgroundColor="",void(e.style.headerColor?e.element.style.color=e.style.headerColor:e.element.style.color=""))},this._applyCellStyle=function(e){var t=this,i=!1;if(e.length)for(var s=0;s<e.length;s++)this._applyCellStyle(e[s]);else if(i=t.style.backgroundColor||t.style.color||t.style.hoveredColor||t.style.hoveredColor||t.style.backgroundSelectedColor||t.style.selectedColor?!0:i)return 0<=e.className.indexOf("hover")?(t.style.backgroundHoveredColor&&(e.style.backgroundColor=t.style.backgroundHoveredColor),void(t.style.hoveredColor&&(e.style.color=t.style.hoveredColor))):0<=e.className.indexOf("selected")?(t.style.backgroundSelectedColor&&(e.style.backgroundColor=t.style.backgroundSelectedColor),void(t.style.selectedColor&&(e.style.color=t.style.selectedColor))):(t.style.backgroundColor&&(e.style.backgroundColor=t.style.backgroundColor),t.style.color&&(e.style.color=t.style.color),t.style.fontFamily&&(e.style.fontFamily=t.style.fontFamily),void(t.style.fontWeight&&(e.style.fontWeight=t.style.fontWeight)))},this.style={headerBackgroundColor:"",headerColor:"",headerBackgroundHoveredColor:"",headerHoveredColor:"",headerBackgroundSelectedColor:"",headerSelectedColor:"",backgroundColor:"",color:"",backgroundHoveredColor:"",hoveredColor:"",backgroundSelectedColor:"",selectedColor:"",fontFamily:"",fontWeight:""},this.enabletooltips=!0,this.columngroup=null,this.filterdelay=800,this.reseteverpresentrowwidgetvalue=null,this.geteverpresentrowwidgetvalue=null,this.createeverpresentrowwidget=null,this.initeverpresentrowwidget=null,this.validateeverpresentrowwidgetvalue=null,this.destroyeverpresentrowwidget=null,this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){var i;this[e]?(i=this[e],this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)):this[e.toLowerCase()]&&(i=this[e.toLowerCase()],this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i))},this._initfields=function(e){if(null!=e){var t=this.that;if(re.jqx.hasProperty(e,"dataField")&&(this.datafield=re.jqx.get(e,"dataField")),re.jqx.hasProperty(e,"selectable")&&(this.selectable=re.jqx.get(e,"selectable")),re.jqx.hasProperty(e,"displayField")?this.displayfield=re.jqx.get(e,"displayField"):this.displayfield=this.datafield,re.jqx.hasProperty(e,"enableTooltips")&&(this.enabletooltips=re.jqx.get(e,"enableTooltips")),re.jqx.hasProperty(e,"text")?this.text=re.jqx.get(e,"text"):this.text=this.displayfield,re.jqx.hasProperty(e,"style")&&(this.style=re.jqx.get(e,"style")),re.jqx.hasProperty(e,"createfilterpanel")&&(this.createfilterpanel=re.jqx.get(e,"createfilterpanel")),re.jqx.hasProperty(e,"sortable")&&(this.sortable=re.jqx.get(e,"sortable")),re.jqx.hasProperty(e,"hideable")&&(this.hideable=re.jqx.get(e,"hideable")),re.jqx.hasProperty(e,"hidden")&&(this.hidden=re.jqx.get(e,"hidden")),re.jqx.hasProperty(e,"adaptivehidden")&&(this.adaptivehidden=re.jqx.get(e,"adaptivehidden")),re.jqx.hasProperty(e,"groupable")&&(this.groupable=re.jqx.get(e,"groupable")),re.jqx.hasProperty(e,"renderer")&&(this.renderer=re.jqx.get(e,"renderer")),re.jqx.hasProperty(e,"align")&&(this.align=re.jqx.get(e,"align")),re.jqx.hasProperty(e,"cellsAlign")&&(this.cellsalign=re.jqx.get(e,"cellsAlign")),re.jqx.hasProperty(e,"clipboard")&&(this.clipboard=re.jqx.get(e,"clipboard")),re.jqx.hasProperty(e,"cellsFormat")&&(this.cellsformat=re.jqx.get(e,"cellsFormat")),re.jqx.hasProperty(e,"width")&&(this.width=re.jqx.get(e,"width")),re.jqx.hasProperty(e,"autofill")&&(this.autofill=re.jqx.get(e,"autofill")),re.jqx.hasProperty(e,"minWidth")&&(this.minwidth=parseInt(re.jqx.get(e,"minWidth")),isNaN(this.minwidth)&&(this.minwidth=25)),re.jqx.hasProperty(e,"maxWidth")&&(this.maxwidth=parseInt(re.jqx.get(e,"maxWidth")),isNaN(this.maxwidth)&&(this.maxwidth="auto")),re.jqx.hasProperty(e,"cellsRenderer")?this.cellsrenderer=re.jqx.get(e,"cellsRenderer"):e.cellsRenderer&&(this.cellsrenderer=e.cellsRenderer),re.jqx.hasProperty(e,"columnType")&&(this.columntype=re.jqx.get(e,"columnType")),re.jqx.hasProperty(e,"checkChange")&&(this.checkchange=re.jqx.get(e,"checkChange")),re.jqx.hasProperty(e,"buttonClick")?this.buttonclick=re.jqx.get(e,"buttonClick"):e.buttonClick&&(this.buttonclick=e.buttonClick),re.jqx.hasProperty(e,"pinned")&&(this.pinned=re.jqx.get(e,"pinned")),re.jqx.hasProperty(e,"visibleIndex")&&(this.visibleindex=re.jqx.get(e,"visibleIndex")),re.jqx.hasProperty(e,"filterable")&&(this.filterable=re.jqx.get(e,"filterable")),re.jqx.hasProperty(e,"filter")&&(this.filter=re.jqx.get(e,"filter")),re.jqx.hasProperty(e,"resizable")&&(this.resizable=re.jqx.get(e,"resizable")),re.jqx.hasProperty(e,"editable")&&(this.editable=re.jqx.get(e,"editable")),re.jqx.hasProperty(e,"initEditor")?this.initeditor=re.jqx.get(e,"initEditor"):e.initEditor&&(this.initeditor=e.initEditor),re.jqx.hasProperty(e,"createEditor")?this.createeditor=re.jqx.get(e,"createEditor"):e.createEditor&&(this.createeditor=e.createEditor),re.jqx.hasProperty(e,"initWidget")?this.initwidget=re.jqx.get(e,"initWidget"):e.initWidget&&(this.initwidget=e.initWidget),re.jqx.hasProperty(e,"createWidget")?this.createwidget=re.jqx.get(e,"createWidget"):e.createWidget&&(this.createwidget=e.createWidget),re.jqx.hasProperty(e,"destroyWidget")?this.destroywidget=re.jqx.get(e,"destroyWidget"):e.destroyWidget&&(this.destroywidget=e.destroyWidget),re.jqx.hasProperty(e,"reseteverpresentrowwidgetvalue")||re.jqx.hasFunction(e,"reseteverpresentrowwidgetvalue")?this.reseteverpresentrowwidgetvalue=re.jqx.get(e,"reseteverpresentrowwidgetvalue"):e.resetEverPresentRowWidgetValue&&(this.reseteverpresentrowwidgetvalue=e.resetEverPresentRowWidgetValue),re.jqx.hasProperty(e,"geteverpresentrowwidgetvalue")||re.jqx.hasFunction(e,"geteverpresentrowwidgetvalue")?this.geteverpresentrowwidgetvalue=re.jqx.get(e,"geteverpresentrowwidgetvalue"):e.getEverPresentRowWidgetValue&&(this.geteverpresentrowwidgetvalue=e.getEverPresentRowWidgetValue),re.jqx.hasProperty(e,"createeverpresentrowwidget")||re.jqx.hasFunction(e,"createeverpresentrowwidget")?this.createeverpresentrowwidget=re.jqx.get(e,"createeverpresentrowwidget"):e.createEverPresentRowWidget&&(this.createeverpresentrowwidget=e.createEverPresentRowWidget),re.jqx.hasProperty(e,"initeverpresentrowwidget")||re.jqx.hasFunction(e,"initeverpresentrowwidget")?this.initeverpresentrowwidget=re.jqx.get(e,"initeverpresentrowwidget"):e.initEverPresentRowWidget&&(this.initeverpresentrowwidget=e.initEverPresentRowWidget),re.jqx.hasProperty(e,"validateeverpresentrowwidgetvalue")?this.validateeverpresentrowwidgetvalue=re.jqx.get(e,"validateeverpresentrowwidgetvalue"):e.validateEverPresentRowWidgetValue&&(this.validateeverpresentrowwidgetvalue=e.validateEverPresentRowWidgetValue),re.jqx.hasProperty(e,"destroyeverpresentrowwidget")||re.jqx.hasFunction(e,"destroyeverpresentrowwidget")?this.destroyeverpresentrowwidget=re.jqx.get(e,"destroyeverpresentrowwidget"):e.destroyEverPresentRowWidget&&(this.destroyEverPresentRowWidget=e.destroyEverPresentRowWidget),re.jqx.hasProperty(e,"destroyEditor")?this.destroyeditor=re.jqx.get(e,"destroyEditor"):e.destroyEditor&&(this.destroyeditor=e.destroyEditor),re.jqx.hasProperty(e,"getEditorValue")?this.geteditorvalue=re.jqx.get(e,"getEditorValue"):e.getEditorValue&&(this.geteditorvalue=e.getEditorValue),re.jqx.hasProperty(e,"validation")?this.validation=re.jqx.get(e,"validation"):e.validation&&(this.validation=e.validation),re.jqx.hasProperty(e,"cellBeginEdit")?this.cellbeginedit=re.jqx.get(e,"cellBeginEdit"):e.cellBeginEdit&&(this.cellbeginedit=e.cellBeginEdit),re.jqx.hasProperty(e,"cellEndEdit")?this.cellendedit=re.jqx.get(e,"cellEndEdit"):e.cellEndEdit&&(this.cellendedit=e.cellEndEdit),re.jqx.hasProperty(e,"className")&&(this.classname=re.jqx.get(e,"className")),re.jqx.hasProperty(e,"cellClassName")?this.cellclassname=re.jqx.get(e,"cellClassName"):e.cellClassName&&(this.cellclassname=e.cellClassName),re.jqx.hasProperty(e,"menu")&&(this.menu=re.jqx.get(e,"menu")),re.jqx.hasProperty(e,"aggregates")&&(this.aggregates=re.jqx.get(e,"aggregates")),re.jqx.hasProperty(e,"aggregatesRenderer")&&(this.aggregatesrenderer=re.jqx.get(e,"aggregatesRenderer")),re.jqx.hasProperty(e,"createFilterWidget")&&(this.createfilterwidget=re.jqx.get(e,"createFilterWidget")),re.jqx.hasProperty(e,"filterType")&&(this.filtertype=re.jqx.get(e,"filterType")),re.jqx.hasProperty(e,"filterDelay")&&(this.filterdelay=re.jqx.get(e,"filterDelay")),re.jqx.hasProperty(e,"rendered")&&(this.rendered=re.jqx.get(e,"rendered")),re.jqx.hasProperty(e,"exportable")&&(this.exportable=re.jqx.get(e,"exportable")),re.jqx.hasProperty(e,"filterItems")&&(this.filteritems=re.jqx.get(e,"filterItems")),re.jqx.hasProperty(e,"cellValueChanging")&&(this.cellvaluechanging=re.jqx.get(e,"cellValueChanging")),re.jqx.hasProperty(e,"draggable")&&(this.draggable=re.jqx.get(e,"draggable")),re.jqx.hasProperty(e,"filterCondition")&&(this.filtercondition=re.jqx.get(e,"filterCondition")),re.jqx.hasProperty(e,"threeStateCheckbox")&&(this.threestatecheckbox=re.jqx.get(e,"threeStateCheckbox")),re.jqx.hasProperty(e,"nullable")&&(this.nullable=re.jqx.get(e,"nullable")),re.jqx.hasProperty(e,"columnGroup")&&(this.columngroup=re.jqx.get(e,"columnGroup")),!e instanceof String&&"string"!=typeof e)for(var i in e)if(!t.hasOwnProperty(i)&&!t.hasOwnProperty(i.toLowerCase()))throw s.host.remove(),new Error("jqxGrid: Invalid property name - "+i+".")}},this._initfields(e),this}function p(e,t){return this.setdata=function(e){null!=e&&(this.bounddata=e,this.boundindex=e.boundindex,this.visibleindex=e.visibleindex,this.group=e.group,this.parentbounddata=e.parentItem,this.uniqueid=e.uniqueid,this.level=e.level)},this.setdata(t),this.parentrow=null,this.subrows=new Array,this.owner=e,this.height=25,this.hidden=!1,this.rowdetails=null,this.rowdetailsheight=100,this.rowdetailshidden=!0,this.top=-1,this.setrowinfo=function(e){this.hidden=e.hidden,this.rowdetails=e.rowdetails,this.rowdetailsheight=e.rowdetailsheight,this.rowdetailshidden=!e.showdetails,this.height=e.height},this}re.jqx.jqxWidget("jqxGrid","",{}),re.extend(re.jqx._jqxGrid.prototype,{defineInstance:function(){var e={adaptive:!1,compact:!1,adaptivewidth:600,disabled:!1,width:600,height:400,pagerheight:40,groupsheaderheight:34,pagesize:10,pagesizeoptions:["5","10","20"],rowsheight:32,columnsheight:36,filterrowheight:36,groupindentwidth:30,rowdetails:!1,enablerowdetailsindent:!0,enablemousewheel:!0,initrowdetails:null,layoutrowdetails:null,editable:!1,editmode:"selectedcell",batcheditable:!1,pageable:!1,pagermode:"default",pagerbuttonscount:5,groupable:!1,sortable:!1,sortmode:"one",sortmodekey:"",filterable:!1,filtermode:"default",filterbarmode:"default",autoshowfiltericon:!0,showfiltercolumnbackground:!0,showpinnedcolumnbackground:!0,showsortcolumnbackground:!0,altrows:!1,altstart:1,altstep:1,showrowdetailscolumn:!0,showrowlines:!0,showcolumnlines:!0,showcolumnheaderlines:!0,showtoolbar:!1,showfilterbar:!1,toolbarheight:36,showstatusbar:!1,statusbarheight:36,enableellipsis:!0,groups:[],groupsrenderer:null,groupcolumnrenderer:null,groupsexpandedbydefault:!1,pagerrenderer:null,touchmode:"auto",columns:[],selectedrowindex:-1,selectedrowindexes:new Array,selectedcells:new Array,autobind:!0,selectedcell:null,tableZIndex:79,headerZIndex:29,updatefilterconditions:null,showgroupaggregates:!1,showaggregates:!1,showfilterrow:!1,showeverpresentrow:!1,everpresentrowposition:"top",everpresentrowactions:"add reset",everpresentrowactionsmode:"buttons",everpresentrowheight:30,autorowheight:!1,autokoupdates:!0,handlekeyboardnavigation:null,showsortmenuitems:!0,showfiltermenuitems:!0,showgroupmenuitems:!0,enablebrowserselection:!1,enablekeyboarddelete:!0,clipboard:!0,clipboardbegin:null,clipboardend:null,copytoclipboardwithheaders:!1,copytoclipboardhiddencolumns:!1,ready:null,updatefilterpanel:null,autogeneratecolumns:!1,rowdetailstemplate:null,scrollfeedback:null,rendertoolbar:null,renderstatusbar:null,rendered:null,multipleselectionbegins:null,columngroups:null,cellhover:null,commandcolumn:!1,commandcolumnrenderer:null,source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},filter:null,dataview:null,updatedelay:null,autoheight:!1,autowidth:!1,showheader:!0,showgroupsheader:!0,closeablegroups:!0,scrollbarsize:re.jqx.utilities.scrollBarSize,touchscrollbarsize:re.jqx.utilities.touchScrollBarSize,scrollbarautoshow:re.jqx.utilities.scrollBarAutoShow,virtualmode:!1,sort:null,columnsmenu:!0,columnsresize:!1,columnsautoresize:!0,columnsreorder:!1,columnsmenuwidth:16,autoshowcolumnsmenubutton:!0,showcolumnsactionbutton:!1,popupwidth:"auto",popupheight:"auto",columnmenuopening:null,columnmenuclosing:null,sorttogglestates:2,rendergridrows:null,enableanimations:!0,enablecolumnsvirtualization:!0,enabletooltips:!1,selectionmode:"singlerow",autofill:!1,enableoptimization:!1,enablehover:!0,loadingerrormessage:"The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.",verticalscrollbarstep:30,verticalscrollbarlargestep:400,horizontalscrollbarstep:10,horizontalscrollbarlargestep:50,keyboardnavigation:!0,keyboardmenunavigation:!0,touchModeStyle:"auto",autoshowloadelement:!0,showdefaultloadelement:!0,showemptyrow:!0,autosavestate:!1,autoloadstate:!1,cardview:!1,cardviewcolumns:["20%","20%","20%","20%","20%"],cardheight:250,cardsize:3,enableSanitize:!0,enableSanitizeAll:!1,_updating:!1,_pagescache:new Array,_pageviews:new Array,_cellscache:new Array,_rowdetailscache:new Array,_rowdetailselementscache:new Array,_requiresupdate:!1,_hasOpenedMenu:!1,scrollmode:"physical",deferreddatafields:null,localization:null,rtl:!1,menuitemsarray:[],charting:{appendTo:null,colorScheme:"scheme02",dialog:{header:"Data Visualization",height:400,width:400,position:"center",enabled:!0},ready:null,formatSettings:{}},events:["initialized","rowClick","rowSelect","rowUnselect","groupExpand","groupCollapse","sort","columnClick","cellClick","pageChanged","pageSizeChanged","bindingComplete","groupsChanged","filter","columnResized","cellSelect","cellUnselect","cellBeginEdit","cellEndEdit","cellValueChanged","rowExpand","rowCollapse","rowDoubleClick","cellDoubleClick","columnReordered","pageChanging","columnChooserOkClick","columnChooserCancelClick"]};return this===re.jqx._jqxGrid.prototype||re.extend(!0,this,e),e},_applyThemeSettings:function(){var e,t,i,s,r;this.isMaterialized()&&(e=(r=window.getComputedStyle(this.element)).getPropertyValue("--jqx-grid-row-height"),t=r.getPropertyValue("--jqx-grid-column-height"),i=r.getPropertyValue("--jqx-grid-show-column-lines"),s=r.getPropertyValue("--jqx-grid-filter-menu-items-height"),r=r.getPropertyValue("--jqx-scrollbar-size"),e&&32===this.rowsheight&&!this.cardview&&(this.rowsheight=parseInt(e)),t&&36===this.columnsheight&&(this.columnsheight=parseInt(t)),i&&(this.showcolumnlines=this.showcolumnheaderlines=parseInt(i)),this.filterMenuItemsHeight=s?parseInt(s):23,r&&(this.scrollbarsize=r,re.jqx.utilities.scrollBarSize=r))},createInstance:function(e){var a=this.that=this,e=(a.pagesize=parseInt(a.pagesize),a.toolbarheight=parseInt(a.toolbarheight),a.columnsheight=parseInt(a.columnsheight),a.filterrowheight=parseInt(a.filterrowheight),a.statusbarheight=parseInt(a.statusbarheight),a.groupsheaderheight=parseInt(a.groupsheaderheight),a._undoRedo=[],a._undoRedoIndex=-1,a.cardview&&(a.__rowsheight=a.rowsheight,a.rowsheight=a.cardheight),a._applyThemeSettings(),a.detailsVisibility=new Array,a.savedArgs=e&&0<e.length?e[0]:null,"<div class='jqx-clear jqx-border-reset jqx-overflow-hidden jqx-max-size jqx-position-relative'><div tabindex='1' class='jqx-clear jqx-max-size jqx-position-relative jqx-overflow-hidden jqx-background-reset' id='wrapper"+a.element.id+"'><div class='jqx-clear jqx-position-absolute' id='toolbar' style='visibility: hidden;'></div><div class='jqx-clear jqx-position-absolute' id='groupsheader' style='visibility: hidden;'></div><div class='jqx-clear jqx-position-absolute' id='filter' style='visibility: hidden;'></div><div class='jqx-clear jqx-overflow-hidden jqx-position-absolute jqx-border-reset jqx-background-reset' id='content"+a.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='verticalScrollBar"+a.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='horizontalScrollBar"+a.element.id+"'></div><div class='jqx-clear jqx-position-absolute jqx-border-reset' id='bottomRight'></div><div class='jqx-clear jqx-position-absolute' id='addrow'></div><div class='jqx-clear jqx-position-absolute' id='statusbar'></div><div class='jqx-clear jqx-position-absolute' id='pager' style='z-index: 20;'></div></div></div>");if(a.element.innerHTML="",a.source){if(!a.source.dataBind){if(!re.jqx.dataAdapter)throw new Error("jqxGrid: Missing reference to jqxdata.js");a.source=new re.jqx.dataAdapter(a.source)}(i=a.source._source.datafields)&&0<i.length&&(a.editmode=a.editmode.toLowerCase(),a.selectionmode=a.selectionmode.toLowerCase())}a.host.attr("role","grid"),a.host.attr("align","left"),a.element.innerHTML=e,a.host.addClass(a.toTP("jqx-grid")),a.host.addClass(a.toTP("jqx-reset")),a.host.addClass(a.toTP("jqx-rc-all")),a.host.addClass(a.toTP("jqx-widget")),a.host.addClass(a.toTP("jqx-widget-content")),a.wrapper=a.host.find("#wrapper"+a.element.id),a.content=a.host.find("#content"+a.element.id),a.content.addClass(a.toTP("jqx-reset")),this.filterbar=this.host.find("#filter"),this.filterbar[0].id="filter"+this.element.id,this.filterbar.addClass(this.toTP("jqx-widget-header")),this.filterbar.addClass(this.toTP("jqx-grid-toolbar"));var t,i,e=a.host.find("#verticalScrollBar"+a.element.id),s=a.host.find("#horizontalScrollBar"+a.element.id);if(a.bottomRight=a.host.find("#bottomRight").addClass(a.toTP("jqx-grid-bottomright jqx-scrollbar-state-normal")),!e.jqxScrollBar)throw new Error("jqxGrid: Missing reference to jqxscrollbar.js");if(a.editors=new Array,a.vScrollBar=e.jqxScrollBar({vertical:!0,rtl:a.rtl,touchMode:a.touchmode,step:a.verticalscrollbarstep,largestep:a.verticalscrollbarlargestep,theme:a.theme,_triggervaluechanged:!1}),a.hScrollBar=s.jqxScrollBar({vertical:!1,rtl:a.rtl,touchMode:a.touchmode,step:a.horizontalscrollbarstep,largestep:a.horizontalscrollbarlargestep,theme:a.theme,_triggervaluechanged:!1}),a.addnewrow=a.host.find("#addrow"),a.addnewrow[0].id="addrow"+a.element.id,a.addnewrow.addClass(a.toTP("jqx-widget-header")),a.pager=a.host.find("#pager"),a.pager[0].id="pager"+a.element.id,a.toolbar=a.host.find("#toolbar"),a.toolbar[0].id="toolbar"+a.element.id,a.toolbar.addClass(a.toTP("jqx-grid-toolbar")),a.toolbar.addClass(a.toTP("jqx-widget-header")),a.statusbar=a.host.find("#statusbar"),a.statusbar[0].id="statusbar"+a.element.id,a.statusbar.addClass(a.toTP("jqx-grid-statusbar")),a.statusbar.addClass(a.toTP("jqx-widget-header")),a.pager.addClass(a.toTP("jqx-grid-pager")),a.pager.addClass(a.toTP("jqx-widget-header")),a.groupsheader=a.host.find("#groupsheader"),a.groupsheader.addClass(a.toTP("jqx-grid-groups-header")),a.groupsheader.addClass(a.toTP("jqx-widget-header")),a.groupsheader[0].id="groupsheader"+a.element.id,a.vScrollBar.css("visibility","hidden"),a.hScrollBar.css("visibility","hidden"),a.vScrollInstance=re.data(a.vScrollBar[0],"jqxScrollBar").instance,a.hScrollInstance=re.data(a.hScrollBar[0],"jqxScrollBar").instance,a.gridtable=null,a.isNestedGrid=!!a.host.parent()&&299==a.host.parent().css("z-index"),a.touchdevice=a.isTouchDevice(),a.localizestrings&&(a.localizestrings(),null!=a.localization&&a.localizestrings(a.localization,!1)),a.rowdetailstemplate&&"function"!=typeof a.rowdetailstemplate&&(null==a.rowdetailstemplate.rowdetails&&(a.rowdetailstemplate.rowdetails="<div></div>"),null==a.rowdetailstemplate.rowdetailsheight&&(a.rowdetailstemplate.rowdetailsheight=200),null==a.rowdetailstemplate.rowdetailshidden&&(a.rowdetailstemplate.rowdetailshidden=!0)),a.showfilterrow&&!a.filterable)throw new Error('jqxGrid: "showfilterrow" requires setting the "filterable" property to true!');if(a.autorowheight&&!a.autoheight&&!a.pageable)throw new Error('jqxGrid: "autorowheight" requires setting the "autoheight" or "pageable" property to true!');if(a.virtualmode&&null==a.rendergridrows)throw new Error('jqxGrid: "virtualmode" requires setting the "rendergridrows"!');if(a.virtualmode&&!a.pageable&&a.groupable)throw new Error('jqxGrid: "grouping" in "virtualmode" without paging is not supported!');if(!a._testmodules()){if(a._builddataloadelement(),a._cachedcolumns=a.columns,a.columns&&a.columns.length>a.headerZIndex&&(a.headerZIndex=a.columns.length+100),a.theme&&0<=a.theme.indexOf("material")&&(e=re("<span>Test</span>"),r=re("<span>Test</span>"),e.addClass(a.toTP("jqx-grid-row-cell")),r.addClass(a.toTP("jqx-grid-column-header-cell")),a.host.append(e),a.host.append(r),s=e.outerHeight(),t=r.outerHeight(),s>this.rowsheight&&(a.rowsheight=s,this._cellheight=s),t>this.columnsheight&&(a.columnsheight=t,this._columnHeight=t),e.remove(),r.remove()),a.compact&&(a.element.setAttribute("compact",""),this.rowsheight=25,this.columnsheight=25,this.pagerheight=30,this.groupsheaderheight=25),31!=a.rowsheight&&a._measureElement("cell"),32==a.columnsheight&&!a.columngroups||a._measureElement("column"),a.source)if(i=null==(i=a.source.datafields)&&a.source._source?a.source._source.datafields:i)for(var r,n=0;n<a.columns.length;n++)if((r=a.columns[n])&&r.cellsformat&&2<r.cellsformat.length)for(var o=0;o<i.length;o++)if(i[o].name==r.datafield&&!i[o].format){i[o].format=r.cellsformat;break}a.databind(a.source),a.showtoolbar&&a.toolbar.css("visibility","inherit"),a.showfilterbar&&a.filterbar.css("visibility","inherit"),a.showstatusbar&&a.statusbar.css("visibility","inherit"),a._arrange(),a.pageable&&a._initpager&&a._initpager(),a.tableheight=null;function l(){h.content&&(h.content[0].scrollTop=0,h.content[0].scrollLeft=0),h.gridcontent&&(h.gridcontent[0].scrollLeft=0,h.gridcontent[0].scrollTop=0)}var d,h=a.that;a.addHandler(a.content,"mousedown",function(){l()}),a.addHandler(a.content,"scroll",function(e){return l(),!1}),a.showfilterrow||(a.showstatusbar||a.showtoolbar||a.host.addClass("jqx-disableselect"),a.content.addClass("jqx-disableselect")),a.enablebrowserselection&&(a.content.removeClass("jqx-disableselect"),a.host.removeClass("jqx-disableselect")),a.batcheditable&&(a.toolbar[0].innerHTML='<div style="padding: 3px;"><button style="margin-left: 5px;" class="saveButton">'+this.gridlocalization.okstring+'</button><button style="margin-left: 5px;" class="cancelButton">'+this.gridlocalization.cancelstring+"</button></div>",s=a.toolbar[0].querySelectorAll("button"),re(s[0]).jqxButton({width:80,template:"primary",theme:a.theme}),re(s[1]).jqxButton({width:80,theme:a.theme}),d=function(e){for(var t=a.getrows(),i=0;i<t.length;i++)for(var s=t[i],r=0;r<a.columns.records.length;r++){var n=a.columns.records[r],o=s["_temp"+n.datafield];void 0!==o&&(e&&(s[n.datafield]=o),delete s["_temp"+n.datafield])}a.removesort(),a._rendervisualrows()},re(s[0]).on("click",function(){d(!0)}),re(s[1]).on("click",function(){d(!1)})),a._resizeWindow(),a.disabled&&a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled")),a.hasTransform=re.jqx.utilities.hasTransform(a.host),"logical"==a.scrollmode&&(a.vScrollInstance.thumbStep=a.rowsheight,a.vScrollInstance.step=a.rowsheight),re.jqx.isHidden(a.host)||(a.filterable||a.groupable||a.sortable)&&a._initmenu()}},_resizeWindow:function(){var e,t,o=this.that;(null!=this.width&&-1!=this.width.toString().indexOf("%")||null!=this.height&&-1!=this.height.toString().indexOf("%"))&&(this._updatesizeonwindowresize=!0,re.jqx.utilities.resize(this.host,function(e){var t,i=re(window).width(),s=re(window).height(),r=o.host.width(),n=o.host.height();if(o.pageable&&(t=o.host.find(".jqx-grid-pager-input"),i<350?t.hide():t.show()),o.autoheight&&(o._lastHostWidth=s),o._lastHostWidth!=r||o._lastHostHeight!=n){if(o.touchdevice&&o.editcell&&"orientationchange"!==e)return;o._updatesize(o._lastHostWidth!=r,o._lastHostHeight!=n)}o._lastWidth=i,o._lastHeight=s,o._lastHostWidth=r,o._lastHostHeight=n}),e=o.host.width(),t=o.host.height(),o._lastHostWidth=e,o._lastHostHeight=t)},_builddataloadelement:function(){var e;this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=re('<div style="overflow: hidden; position: absolute;"></div>'),this.showdefaultloadelement?((e=re('<div style="z-index: 99; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"></div><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>")).addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),e.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(e)):this.dataloadelement.addClass(this.toTP("jqx-grid-load")),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this.wrapper.prepend(this.dataloadelement)},_measureElement:function(e){var t=re("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");t.addClass(this.toTP("jqx-widget")),re(document.body).append(t),"cell"==e?this._cellheight=t.height():this._columnheight=t.height(),t.remove()},_measureMenuElement:function(){var e=re("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>"),t=(e.addClass(this.toTP("jqx-widget")),e.addClass(this.toTP("jqx-menu")),e.addClass(this.toTP("jqx-menu-item-top")),e.addClass(this.toTP("jqx-fill-state-normal")),this.isTouchDevice()&&e.addClass(this.toTP("jqx-grid-menu-item-touch")),re(document.body).append(e),e.outerHeight());return"light"!==this.theme&&"dark"!==this.theme||this._isIE10()||36<(t+=10)&&(t=36),e.remove(),t},_measureElementWidth:function(e){var e=re("<span style='visibility: hidden; white-space: nowrap;'>"+e+"</span>"),t=(e.addClass(this.toTP("jqx-widget")),e.addClass(this.toTP("jqx-grid")),e.addClass(this.toTP("jqx-grid-column-header")),e.addClass(this.toTP("jqx-widget-header")),re(document.body).append(e),e.outerWidth()+20);return e.remove(),t},_getBodyOffset:function(){var e=0,t=0;return"0px"!=re("body").css("border-top-width")&&(e=parseInt(re("body").css("border-top-width")),isNaN(e)&&(e=0)),"0px"!=re("body").css("border-left-width")&&(t=parseInt(re("body").css("border-left-width")),isNaN(t)&&(t=0)),{left:t,top:e}},_testmodules:function(){function t(){""!=i.length&&(i+=",")}var i="",s=this.that;if(this.columnsmenu&&!this.host.jqxMenu&&(this.sortable||this.groupable||this.filterable)&&(t(),i+=" jqxmenu.js"),this.host.jqxScrollBar||(t(),i+=" jqxscrollbar.js"),this.host.jqxButton||(t(),i+=" jqxbuttons.js"),re.jqx.dataAdapter||(t(),i+=" jqxdata.js"),this.pageable&&!this.gotopage&&(t(),i+="jqxgrid.pager.js"),this.filterable&&!this.applyfilters&&(t(),i+=" jqxgrid.filter.js"),this.groupable&&!this._initgroupsheader&&(t(),i+=" jqxgrid.grouping.js"),this.columnsresize&&!this.autoresizecolumns&&(t(),i+=" jqxgrid.columnsresize.js"),this.columnsreorder&&!this.setcolumnindex&&(t(),i+=" jqxgrid.columnsreorder.js"),this.sortable&&!this.sortby&&(t(),i+=" jqxgrid.sort.js"),this.editable&&!this.begincelledit&&(t(),i+=" jqxgrid.edit.js"),this.showaggregates&&!this.getcolumnaggregateddata&&(t(),i+=" jqxgrid.aggregates.js"),this.keyboardnavigation&&!this.selectrow&&(t(),i+=" jqxgrid.selection.js"),""!=i||this.editable||this.filterable||this.pageable){function e(e){switch(e){case"checkbox":s.host.jqxCheckBox||r.checkbox||(r.checkbox=!0,t(),i+=" jqxcheckbox.js");break;case"numberinput":s.host.jqxNumberInput||r.numberinput||(r.numberinput=!0,t(),i+=" jqxnumberinput.js");break;case"datetimeinput":s.host.jqxDateTimeInput||r.datetimeinput?s.host.jqxCalendar||r.calendar||(t(),i+=" jqxcalendar.js"):(t(),r.datetimeinput=!0,i+=" jqxdatetimeinput.js(requires: jqxcalendar.js)");break;case"combobox":s.host.jqxComboBox||r.combobox?s.host.jqxListBox||r.listbox||(t(),r.listbox=!0,i+=" jqxlistbox.js"):(t(),r.combobox=!0,i+=" jqxcombobox.js(requires: jqxlistbox.js)");break;case"dropdownlist":s.host.jqxDropDownList||r.dropdownlist?s.host.jqxListBox||r.listbox||(t(),r.listbox=!0,i+=" jqxlistbox.js"):(t(),r.dropdownlist=!0,i+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}}var r=[];(this.filterable||this.pageable)&&e("dropdownlist");for(var n,o=0;o<this.columns.length;o++)null!=this.columns[o]&&(e(this.columns[o].columntype),this.filterable&&this.showfilterrow&&("checkedlist"!=(n=this.columns[o].filtertype)&&"bool"!=n||e("checkbox"),"date"==n&&e("datetimeinput")));if(""!=i)throw new Error("jqxGrid: Missing references to the following module(s): "+i)}return!1},focus:function(){try{this.wrapper[0].focus({preventScroll:!0});var e=this.that;setTimeout(function(){e&&e.wrapper&&e.wrapper[0].focus({preventScroll:!0})},25),this.focused=!0}catch(e){}},hiddenParent:function(){return re.jqx.isHidden(this.host)},resize:function(e,t){this.width=e,this.height=t,this._updatesize(!0,!0)},_updatesize:function(e,t){if(!this._loading){var i,s,r=this.that,n=(r._newmax=null,r.host.width()),o=r.host.height();r._oldWidth||(r._oldWidth=n),r._oldHeight||(r._oldHeight=o),r._resizeTimer&&clearTimeout(r._resizeTimer);if(r.resizingGrid=!0,!re.jqx.isHidden(r.host)){if(r.editcell&&(r.endcelledit(r.editcell.row,r.editcell.column,!0,!0),r._oldselectedcell=null),o==r._oldHeight&&1!=t||(s=r.groupable&&0<r.groups.length,i=r.vScrollBar.css("visibility"),r.autoheight||(r.virtualmode&&(r._pageviews=new Array),s||r.rowdetails||r.pageable?(r._arrange(),r.prerenderrequired=!0,o=Math.round(r.host.height())+2*r.rowsheight,r._gettableheight(),s=Math.round(o/r.rowsheight),h=Math.max(r.dataview.totalrows,r.dataview.totalrecords),r.pageable&&(h=r.pagesize,r.pagesize>Math.max(r.dataview.totalrows,r.dataview.totalrecords)&&r.autoheight?h=Math.max(r.dataview.totalrows,r.dataview.totalrecords):r.autoheight||r.dataview.totalrows<r.pagesize&&(h=Math.max(r.dataview.totalrows,r.dataview.totalrecords))),r.rowsheight,r._getpagesize(),!r.pageable&&r.autoheight&&(s=h),r.virtualsizeinfo&&(r.virtualsizeinfo.visiblerecords=s),r.rendergridcontent(!0,!1),r._renderrows(r.virtualsizeinfo)):(r._arrange(),r.virtualsizeinfo=r._calculatevirtualheight(),o=Math.round(r.host.height())+2*r.rowsheight,parseInt(o)>=parseInt(r._oldHeight)&&(r.prerenderrequired=!0),r._renderrows(r.virtualsizeinfo),r.rtl&&(r._updatecolumnwidths(),r.table&&r.table.width(r.columnsheader.width()),r._updatecellwidths())),i!=r.vScrollBar.css("visibility")&&(r.vScrollInstance.setPosition(0),r._arrange(),r._updatecolumnwidths(),r.table&&r.table.width(r.columnsheader.width()),r._updatecellwidths()))),n!=r._oldWidth||1==e){var a=!1;if(r.editcell&&r.editcell.editor)switch(r.editcell.columntype){case"dropdownlist":if(a=r.editcell.editor.jqxDropDownList("isOpened")||r.editcell.editor.jqxDropDownList("isanimating")&&!r.editcell.editor.jqxDropDownList("ishiding"))return r.editcell.editor.jqxDropDownList({openDelay:0}),r.editcell.editor.jqxDropDownList("open"),void r.editcell.editor.jqxDropDownList({openDelay:250});break;case"combobox":if(a=r.editcell.editor.jqxComboBox("isOpened")||r.editcell.editor.jqxComboBox("isanimating")&&!r.editcell.editor.jqxComboBox("ishiding"))return r.editcell.editor.jqxComboBox({openDelay:0}),r.editcell.editor.jqxComboBox("open"),void r.editcell.editor.jqxComboBox({openDelay:250});break;case"datetimeinput":if(a)return a=r.editcell.editor.jqxDateTimeInput("isOpened")||r.editcell.editor.jqxDateTimeInput("isanimating")&&!r.editcell.editor.jqxDateTimeInput("ishiding"),r.editcell.editor.jqxDateTimeInput({openDelay:0}),r.editcell.editor.jqxDateTimeInput("open"),void r.editcell.editor.jqxDateTimeInput({openDelay:250})}var l,d,h=r.hScrollBar.css("visibility");r._arrange(),r._updatecolumnwidths(),r.table&&r.table.width(r.columnsheader.width()),r._updatecellwidths(),0==e&&r._oldWidth>n||t&&0!=r.dataview.rows.length||r._renderrows(r.virtualsizeinfo),h!=r.hScrollBar.css("visibility")&&r.hScrollInstance.setPosition(0),r.adaptive&&r.element.offsetWidth<=r.adaptivewidth?(l=0,d=r.element.offsetWidth-2,re.each(r.columns.records,function(e,t){if(l+=this.width,"adaptive"===this.columntype)return!0;d<=l&&(this.adaptivehidden=!0)}),r._updatecolumnwidths(),r._updatecellwidths(),r._renderrows(r.virtualsizeinfo)):r.adaptive&&(re.each(r.columns.records,function(e,t){if("adaptive"===this.columntype)return!0;this.adaptivehidden=!1,delete this.adaptivewidth}),r._updatecolumnwidths(),r._updatecellwidths(),r._renderrows(r.virtualsizeinfo))}r._oldWidth=n,r._oldHeight=o,r.resizingGrid=!1}}},getTouches:function(e){return re.jqx.mobile.getTouches(e)},_updateTouchScrolling:function(){var e,t,i,s=this.that;s.isTouchDevice()&&(s.scrollmode="logical",s.vScrollInstance.thumbStep=s.rowsheight,e=re.jqx.mobile.getTouchEventName("touchstart"),t=re.jqx.mobile.getTouchEventName("touchend"),i=re.jqx.mobile.getTouchEventName("touchmove"),s.enablehover=!1,s.gridcontent&&(s.removeHandler(s.gridcontent,e+".touchScroll"),s.removeHandler(s.gridcontent,i+".touchScroll"),s.removeHandler(s.gridcontent,t+".touchScroll"),s.removeHandler(s.gridcontent,"touchcancel.touchScroll"),re.jqx.mobile.touchScroll(s.gridcontent[0],s.vScrollInstance.max,function(e,t){null!=t&&"visible"==s.vScrollBar.css("visibility")&&s.vScrollInstance.setPosition(t),null!=e&&"visible"==s.hScrollBar.css("visibility")&&s.hScrollInstance.setPosition(e),s.vScrollInstance.thumbCapture=!0,s._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),s._overlayElement&&(s.removeHandler(s._overlayElement,e+".touchScroll"),s.removeHandler(s._overlayElement,i+".touchScroll"),s.removeHandler(s._overlayElement,t+".touchScroll"),s.removeHandler(s._overlayElement,"touchcancel.touchScroll"),re.jqx.mobile.touchScroll(s._overlayElement[0],s.vScrollInstance.max,function(e,t){null!=t&&"visible"==s.vScrollBar.css("visibility")&&s.vScrollInstance.setPosition(t),null!=e&&"visible"==s.hScrollBar.css("visibility")&&s.hScrollInstance.setPosition(e),s.vScrollInstance.thumbCapture=!0,s._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),this.addHandler(this.host,e,function(){s.editcell?s._overlayElement.css("visibility","hidden"):s._overlayElement.css("visibility","visible")}),this.addHandler(this.host,t,function(){s.editcell?s._overlayElement.css("visibility","hidden"):s._overlayElement.css("visibility","visible")}))))},_rendercelltexts:function(){var e,t,i;"10208878-FCD1-4EC7-9249-BA0F153A5DE8"!==re.jqx.credits&&(e="www.jqwidgets.com",-1==location.hostname.indexOf(e.substring(4))&&(this._gridRenderElement&&re(this._gridRenderElement).remove(),i=String.fromCharCode(83,80,65,78),t=String.fromCharCode(72,84,84,80,58,47,47),(i=document.createElement(i)).id=re.jqx.utilities.createId(),i.innerHTML=e,i.style.position="absolute",i.style.right="5px",i.style.bottom="5px",i.style.color="#909090",i.style.cursor="pointer",i.style.zIndex="999999",i.style.display="none",i.style.fontSize="9px",i.onmousedown=function(){open(t+e)},this.content[0].appendChild(i),this._gridRenderElement=i))},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var e=re.jqx.mobile.isTouchDevice();if(this.touchDevice=e,1==this.touchmode){if(re.jqx.browser.msie&&re.jqx.browser.version<9)return this.enablehover=!1;e=!0,re.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=e}else 0==this.touchmode&&(e=!1);return e&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),e},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(e,t){if(this._cellscache=new Array,re.jqx.dataFormat&&re.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null!=e){for(var i in e)i.toLowerCase()!==i&&(e[i.toLowerCase()]=e[i]);if(e.okstring&&(this.gridlocalization.okstring=e.okstring),e.cancelstring&&(this.gridlocalization.cancelstring=e.cancelstring),e.pagergotopagestring&&(this.gridlocalization.pagergotopagestring=e.pagergotopagestring),e.pagershowrowsstring&&(this.gridlocalization.pagershowrowsstring=e.pagershowrowsstring),e.pagerrangestring&&(this.gridlocalization.pagerrangestring=e.pagerrangestring),e.pagernextbuttonstring&&(this.gridlocalization.pagernextbuttonstring=e.pagernextbuttonstring),e.pagerpreviousbuttonstring&&(this.gridlocalization.pagerpreviousbuttonstring=e.pagerpreviousbuttonstring),e.pagerfirstbuttonstring&&(this.gridlocalization.pagerfirstbuttonstring=e.pagerfirstbuttonstring),e.pagerlastbuttonstring&&(this.gridlocalization.pagerlastbuttonstring=e.pagerlastbuttonstring),e.groupsheaderstring&&(this.gridlocalization.groupsheaderstring=e.groupsheaderstring),e.sortascendingstring&&(this.gridlocalization.sortascendingstring=e.sortascendingstring),e.sortdescendingstring&&(this.gridlocalization.sortdescendingstring=e.sortdescendingstring),e.sortremovestring&&(this.gridlocalization.sortremovestring=e.sortremovestring),e.groupbystring&&(this.gridlocalization.groupbystring=e.groupbystring),e.groupremovestring&&(this.gridlocalization.groupremovestring=e.groupremovestring),e.firstDay&&(this.gridlocalization.firstDay=e.firstDay),e.days&&(this.gridlocalization.days=e.days),e.months&&(this.gridlocalization.months=e.months),e.AM&&(this.gridlocalization.AM=e.AM),e.PM&&(this.gridlocalization.PM=e.PM),e.patterns&&(this.gridlocalization.patterns=e.patterns),e.percentsymbol&&(this.gridlocalization.percentsymbol=e.percentsymbol),e.currencysymbol&&(this.gridlocalization.currencysymbol=e.currencysymbol),e.currencysymbolposition&&(this.gridlocalization.currencysymbolposition=e.currencysymbolposition),null!=e.decimalseparator&&(this.gridlocalization.decimalseparator=e.decimalseparator),null!=e.thousandsseparator&&(this.gridlocalization.thousandsseparator=e.thousandsseparator),e.filterclearstring&&(this.gridlocalization.filterclearstring=e.filterclearstring),e.filterstring&&(this.gridlocalization.filterstring=e.filterstring),e.filtershowrowstring&&(this.gridlocalization.filtershowrowstring=e.filtershowrowstring),e.filtershowrowdatestring&&(this.gridlocalization.filtershowrowdatestring=e.filtershowrowdatestring),e.filterselectallstring&&(this.gridlocalization.filterselectallstring=e.filterselectallstring),e.filterchoosestring&&(this.gridlocalization.filterchoosestring=e.filterchoosestring),e.filterorconditionstring&&(this.gridlocalization.filterorconditionstring=e.filterorconditionstring),e.filterandconditionstring&&(this.gridlocalization.filterandconditionstring=e.filterandconditionstring),e.filterstringcomparisonoperators&&(this.gridlocalization.filterstringcomparisonoperators=e.filterstringcomparisonoperators),e.filternumericcomparisonoperators&&(this.gridlocalization.filternumericcomparisonoperators=e.filternumericcomparisonoperators),e.filterdatecomparisonoperators&&(this.gridlocalization.filterdatecomparisonoperators=e.filterdatecomparisonoperators),e.filterbooleancomparisonoperators&&(this.gridlocalization.filterbooleancomparisonoperators=e.filterbooleancomparisonoperators),e.emptydatastring&&(this.gridlocalization.emptydatastring=e.emptydatastring),e.filterselectstring&&(this.gridlocalization.filterselectstring=e.filterselectstring),e.todaystring&&(this.gridlocalization.todaystring=e.todaystring),e.clearstring&&(this.gridlocalization.clearstring=e.clearstring),e.validationstring&&(this.gridlocalization.validationstring=e.validationstring),e.loadtext&&(this.gridlocalization.loadtext=e.loadtext),e.addrowstring&&(this.gridlocalization.addrowstring=e.addrowstring),e.udpaterowstring&&(this.gridlocalization.udpaterowstring=e.udpaterowstring),e.deleterowstring&&(this.gridlocalization.deleterowstring=e.deleterowstring),e.resetrowstring&&(this.gridlocalization.resetrowstring=e.resetrowstring),e.everpresentrowplaceholder&&(this.gridlocalization.everpresentrowplaceholder=e.everpresentrowplaceholder),e.filtersearchstring&&(this.gridlocalization.filtersearchstring=e.filtersearchstring),!1!==t){if(this._initpager&&this._initpager(),this._initgroupsheader&&this._initgroupsheader(),this._initmenu&&this._initmenu(),this._builddataloadelement(),re(this.dataloadelement).css("visibility","hidden"),re(this.dataloadelement).css("display","none"),this.filterable&&this.showfilterrow&&this._updatefilterrow){for(var i in this._filterrowcache)re(this._filterrowcache[i]).remove();this._filterrowcache=[],this._updatefilterrow()}this.showaggregates&&this.refresheaggregates&&this.refresheaggregates(),"Search:"!==this.gridlocalization.filtersearchstring&&this._renderfilter(),this._renderrows(this.virtualsizeinfo)}}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filtersearchstring:"Search:",filterstring:"Filter",filtershowrowstring:"Show rows where:",filtershowrowdatestring:"Show rows where date:",filterorconditionstring:"Or",filterandconditionstring:"And",filterselectallstring:"(Select All)",filterchoosestring:"Please Choose:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",addrowstring:"Add",udpaterowstring:"Update",deleterowstring:"Delete",resetrowstring:"Reset",everpresentrowplaceholder:"Enter ",okstring:"Ok",editstring:"Edit",cancelstring:"Cancel"}},_getmenudefaultheight:function(){var e=0,t=(this.sortable&&this._togglesort&&this.showsortmenuitems&&(e=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(e+=2),this._measureMenuElement()),e=e*t+9;return this.filterable&&!this.showfilterrow&&this.showfiltermenuitems&&(e+=224,re.jqx.browser.msie&&re.jqx.browser.version<8&&(e+=20)),e},_initmenu:function(){var c=this.that;if(this.host.jqxMenu){if(this.gridmenu){if(this._hasOpenedMenu)return;this.filterable&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu.removeData(),this.gridmenu.remove()}this.menuitemsarray=new Array;var e="",t=(this.isTouchDevice()&&(e="jqx-grid-menu-item-touch"),this.gridmenu=re('<div tabindex=0 id="gridmenu'+this.element.id+'" style="z-index: 99;"></div>'),this.host.append(this.gridmenu),re("<ul></ul>")),i=re('<li class="'+e+'"><div class="jqx-grid-sortasc-icon"></div>'+this.gridlocalization.sortascendingstring+"</li>"),s=re('<li class="'+e+'"><div class="jqx-grid-sortdesc-icon"></div>'+this.gridlocalization.sortdescendingstring+"</li>"),r=re('<li class="'+e+'"><div class="jqx-grid-sortremove-icon"></div>'+this.gridlocalization.sortremovestring+"</li>"),n='<div class="jqx-grid-groupby-icon"></div>',o=re('<li class="'+e+'">'+n+this.gridlocalization.groupbystring+"</li>"),n=re('<li class="'+e+'">'+n+this.gridlocalization.groupremovestring+"</li>"),a=re('<li type="separator"></li>'),u=re('<li class="filter '+e+'" style="height: 224px;" ignoretheme="true"><div class="filter"></div></li>'),e=(this.gridmenu.addClass("jqx-grid-menu"),this.gridlocalization.sortascendingstring.length),l=this.gridlocalization.sortascendingstring,e=(this.gridlocalization.sortdescendingstring.length>e&&(e=this.gridlocalization.sortdescendingstring.length,l=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>e&&(e=this.gridlocalization.sortremovestring.length,l=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(this.gridlocalization.groupbystring.length>e&&(e=this.gridlocalization.groupbystring.length,l=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>e&&(e=this.gridlocalization.groupremovestring.length,l=this.gridlocalization.groupremovestring)),200),l=re.trim(l).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),l=re("<span>"+l+"</span>"),l=(l.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(l),e=l.outerWidth()+60,l.remove(),0),d=(this.sortable&&this._togglesort&&this.showsortmenuitems&&(t.append(i),this.menuitemsarray[0]=i[0],t.append(s),this.menuitemsarray[1]=s[0],t.append(r),this.menuitemsarray[2]=r[0],l=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(t.append(o),this.menuitemsarray[3]=o[0],t.append(n),this.menuitemsarray[4]=n[0],l+=2),this._measureMenuElement()),l=l*d+9,d=!0;if(this.filterable&&!this.showfilterrow&&this.showfiltermenuitems){if(!this._initfilterpanel)throw new Error("jqxGrid: Missing reference to jqxgrid.filter.js.");this.menuitemsarray[5]=u[0],this.menuitemsarray[6]=u[0],t.append(a),t.append(u),l+=220,re.jqx.browser.msie&&re.jqx.browser.version<8&&(l+=20),this.isTouchDevice()&&(l+=30);a=re(u).find("div:first");this.excelfilterpanel=re("<div></div>"),this.filterpanel=a,this.filtermenu=re(u),e+=20,this.adaptive&&this.element.offsetWidth<this.adaptivewidth&&(e=this.element.offsetWidth-50),this._initfilterpanel(this,a,"",e),this._initfilterpanel(this,this.excelfilterpanel,"",e,!0),d=!1,this.removeHandler(re(document),"click.menu"+c.element.id,c._closemenuafterclick,c),this.addHandler(re(document),"click.menu"+c.element.id,c._closemenuafterclick,c)}this.gridmenu.append(t),re.jqx.browser.msie&&re.jqx.browser.version<8&&this.filterable&&(re("#listBoxfilter1"+this.element.id).css("z-index",49),re("#listBoxfilter2"+this.element.id).css("z-index",49),re("#listBoxfilter3"+this.element.id).css("z-index",49),re("#gridmenu"+this.element.id).css("z-index",50),this.addHandler(re("#gridmenu"+this.element.id),"initialized",function(){re("#menuWrappergridmenu"+c.element.id).css("z-index",49)})),null==this.menuitemsarray[0]&&"light"!==this.theme&&"dark"!==this.theme&&(l=65),this.removeHandler(re(window),"orientationchange.jqxgrid"+this.element.id),this.removeHandler(re(window),"orientationchanged.jqxgrid"+this.element.id),this.addHandler(re(window),"orientationchange.jqxgrid"+this.element.id,function(){c.gridmenu.jqxMenu("close")}),this.addHandler(re(window),"orientationchanged.jqxgrid"+this.element.id,function(){c.gridmenu.jqxMenu("close")}),this.removeHandler(this.gridmenu,"keydown"),this.addHandler(this.gridmenu,"keydown",function(e){function t(e){for(var t=d.indexOf(e)-1;0<=t;t--)if(!(0<=d[t].className.indexOf("disabled")))return d[t];return e}function i(e){for(var t=d.indexOf(e)+1;t<d.length;t++)if(!(0<=d[t].className.indexOf("disabled")))return d[t];return e}function s(){var e=d[d.length-1];return 0<=e.className.indexOf("disabled")?t(e):e}function r(e){re(d).removeClass("jqx-fill-state-focus");for(var t=0;t<d.length;t++)d[t].active=!1;e&&(re(e).addClass("jqx-fill-state-focus"),e.active=!0)}var n,o,a,l,d=re(c.gridmenu.find(".jqx-item")).toArray(),h=function(){for(var e=0;e<d.length;e++)if(d[e].active)return d[e];return null};if((h()||c.filterable||(d[0].active=!0),c.keyboardmenunavigation&&c.keyboardnavigation)&&(40===e.keyCode?(h=h(),r(i(h))):38===e.keyCode&&(h=h(),r(t(h))),9===e.keyCode)){if(!h())return e.shiftKey&&(document.activeElement===re.find("#filter1"+c.element.id)[0]?(r(s()),re(re.find("#filter1"+c.element.id)).removeClass("jqx-fill-state-focus"),c.gridmenu.focus(),e.stopPropagation(),e.preventDefault()):document.activeElement===re.find("#filter1"+c.element.id+"ex")[0]&&(r(s()),re(re.find("#filter1"+c.element.id)+"ex").removeClass("jqx-fill-state-focus"),c.gridmenu.focus(),e.stopPropagation(),e.preventDefault())),!0;e.shiftKey?(h=h(),r(t(h))):(h=h())===s()&&c.filterable&&!c.showfilterrow?(r(null),0<re(re.find("#filter1"+c.element.id)).length?re(re.find("#filter1"+c.element.id)).jqxDropDownList("focus"):0<re(re.find("#filter1"+c.element.id+"ex")).length&&re(re.find("#filter1"+c.element.id+"ex")).jqxListBox("focus")):r(i(h)),e.stopPropagation(),e.preventDefault()}27==e.keyCode?c.gridmenu.jqxMenu("close"):13==e.keyCode&&(d=c.gridmenu.find(".jqx-item"),(h=h())?(re(h).trigger("click"),r(null)):c._buildfilter&&c.filterable&&!c.showfilterrow&&(0<re.find("#filter1"+c.element.id).length&&(l="block"==re(re.find("#filter1"+c.element.id)).jqxDropDownList("container").css("display"),n="block"==re(re.find("#filter2"+c.element.id)).jqxDropDownList("container").css("display"),o="block"==re(re.find("#filter3"+c.element.id)).jqxDropDownList("container").css("display")),e=re(re.find("#filterclearbutton"+c.element.id)).hasClass("jqx-fill-state-focus"),h=re(re.find("#filterbutton"+c.element.id)).hasClass("jqx-fill-state-focus"),e?(a=re.data(document.body,"contextmenu"+c.element.id).column,c._clearfilter(c,c.element,a),c.gridmenu.jqxMenu("close")):!h||l||n||o||(a=re.data(document.body,"contextmenu"+c.element.id).column,c.gridmenu.jqxMenu("close"),c._buildfilter(c,u,a))),e=0<c.selectedcells.length||0<c.selectedrowindexes.length,c.clearselection(),(h=c.getdisplayrows()[0])&&(l=c.getboundindex(h),0<=c.selectionmode.indexOf("cell")?e&&c.selectcell(l,c.columns.records[0].displayfield):e&&c.selectrow(l)))}),"auto"!=this.popupwidth&&(e=this.popupwidth),this.gridmenu.jqxMenu({popupZIndex:3e3,width:e,height:l,autoCloseOnClick:d,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0});var h,a=document.querySelectorAll(".jqx-menu-wrapper");this.gridmenu.parent().attr("tabindex",a.length-1),this.filterable&&this.gridmenu.jqxMenu("_setItemProperty",u[0].id,"closeOnClick",!1),this.rtl&&(h=this.that,re.each(t.find("li"),function(){re(this).addClass(h.toTP("jqx-rtl"))}),(e=function(e){e=e.find("div");e.css("float","right"),e.css("margin-left","4px"),e.css("margin-right","-4px")})(r),e(s),e(i),e(o),e(n)),this._handlemenueevents()}else this.columnsmenu=!1},_arrangemenu:function(){this.gridmenu||this._initmenu();var e=this.gridlocalization.sortascendingstring.length,t=this.gridlocalization.sortascendingstring,e=(this.gridlocalization.sortdescendingstring.length>e&&(e=this.gridlocalization.sortdescendingstring.length,t=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>e&&(e=this.gridlocalization.sortremovestring.length,t=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&(this.gridlocalization.groupbystring.length>e&&(e=this.gridlocalization.groupbystring.length,t=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>e&&(e=this.gridlocalization.groupremovestring.length,t=this.gridlocalization.groupremovestring)),200),t=re.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),t=re("<span>"+t+"</span>"),t=(t.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(t),e=t.outerWidth()+60,t.remove(),0),i=(this.sortable&&this._togglesort&&this.showsortmenuitems&&(t=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(t+=2),this._measureMenuElement()),t=t*i+9;this.filterable&&this.showfiltermenuitems&&this._initfilterpanel&&(t+=224,e+=20,re.jqx.browser.msie&&re.jqx.browser.version<8&&(t+=20),this.isTouchDevice()&&(t+=30)),null==this.menuitemsarray[0]&&"light"!==this.theme&&"dark"!==this.theme&&(t=65),"auto"!=this.popupwidth&&(e=this.popupwidth),"auto"!=this.popupheight&&(t=this.popupheight),this.gridmenu.jqxMenu({width:e,height:t})},_closemenuafterclick:function(e){var t=null!=e?e.data:this,i=!1;if(null==e.target||null!=e.target&&null==e.target.className.indexOf)t.gridmenu.jqxMenu("close");else if(-1==e.target.className.indexOf("filter")||-1!=e.target.className.indexOf("jqx-grid-cell-filter"))if(-1!=e.target.className.indexOf("jqx-grid-cell"))t.gridmenu.jqxMenu("close");else if(!t._hasOpenedMenu||!re(e.target).ischildof(t.gridmenu)){t.host.coord();var s=t.gridmenu.coord(),r=e.pageX,n=e.pageY;if(re.each(re(e.target).parents(),function(){return null!=this.id&&this.id.indexOf&&-1!=this.id.indexOf("filter")||this.className.indexOf&&-1!=this.className.indexOf("filter")&&-1==this.className.indexOf("jqx-grid-cell-filter")?!(i=!0):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-cell")||this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-column")?(t.gridmenu.jqxMenu("close"),!1):void 0}),!i){try{if("default"===t.filtermode){var o=re(re.find("#filter1"+t.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;if((a=new Date)-o<100)return;if(a-re(re.find("#filter3"+t.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup<100)return;if("block"==re(re.find("#filter3"+t.element.id)).jqxDropDownList("container").css("display"))return;if("block"==re(re.find("#filter1"+t.element.id)).jqxDropDownList("container").css("display"))return;if("block"==re(re.find("#filter2"+t.element.id)).jqxDropDownList("container").css("display"))return;if(t._hasdatefilter&&"div"==re(".filtertext1"+t.element.id)[0].nodeName.toLowerCase()){if("block"==re(".filtertext1"+t.element.id).jqxDateTimeInput("container").css("display"))return;if("block"==re(".filtertext2"+t.element.id).jqxDateTimeInput("container").css("display"))return}}else{var a,o=re(re.find("#filter1"+t.element.id)).data().jqxListBox.instance.vScrollInstance._mouseup;if((a=new Date)-o<100)return;if(a-re(re.find("#filter1"+t.element.id)).data().jqxListBox.instance.hScrollInstance._mouseup<100)return}}catch(e){}if(!(r>=s.left&&r<=s.left+t.gridmenu.width()&&n>=s.top&&n<=s.top+t.gridmenu.height())){if(t.columnmenuclosing){e=(e=re.data(document.body,"contextmenu"+t.element.id))||{column:{displayfield:null}};if(!1===t.columnmenuclosing(t.gridmenu,e.column.displayfield,re(t.gridmenu).height()))return}t.gridmenu.jqxMenu("close")}}}},openColumnChooser:function(e,t){for(var s=this,i=(t=t||"Columns",e&&!re.isEmptyObject(e)||(e=s.columns.records),[]),r=0;r<e.length;r++)null!==e[r].text&&i.push({label:e[r].text,value:e[r].datafield,checked:!e[r].hidden});var n=document.createElement("div"),o=(n.innerHTML="<div>"+t+'</div><div style="overflow:hidden;"></div>',document.createElement("div")),a=(o.style.width="100%",o.style.height="calc(100% - 30px)",new jqxListBox(o,{width:"100%",height:"calc(100% - 30px)",checkboxes:!0,source:i})),l=new jqxWindow(n,{width:400,height:400,position:"center",isModal:!0}),d=document.createElement("button"),h=(d.innerHTML=this.gridlocalization.okstring,document.createElement("button")),c=(h.innerHTML=this.gridlocalization.cancelstring,d.style.width="50%",d.style.height="100%",h.style.width="50%",h.style.height="100%",document.createElement("div"));c.style.height="30px",l.open(),setTimeout(function(){n.querySelector(".jqx-widget-content").appendChild(o),n.querySelector(".jqx-widget-content").appendChild(c),c.appendChild(d),c.appendChild(h),d=new jqxButton(d,{theme:s.theme}),h=new jqxButton(h,{theme:s.theme}),d.element.classList.add("primary"),d.element.style.borderTopRightRadius="0px",d.element.style.borderBottomRightRadius="0px",d.element.style.borderTopLeftRadius="0px",d.element.style.borderBottomLeftRadius="0px",h.element.style.borderTopLeftRadius="0px",h.element.style.borderBottomLeftRadius="0px",h.element.style.borderTopRightRadius="0px",h.element.style.borderBottomRightRadius="0px",h.element.style.marginLeft="-2px",d.element.style.outline="none",h.element.style.outline="none",a.on("checkChange",function(){var e=a.getCheckedItems();d.disabled=0===e.length}),d.on("click",function(){l.destroy(),s.beginupdate();for(var e=a.getItems(),t=0;t<e.length;t++){var i=e[t];!1===i.checked?s.hidecolumn(i.value):s.showcolumn(i.value)}s.endupdate(),s._raiseEvent(26)}),h.on("click",function(){l.destroy(),s._raiseEvent(27)})},100),l.on("close",function(){l.destroy()})},_handlemenueevents:function(){var a=this.that;this.removeHandler(this.gridmenu,"closed"),this.addHandler(this.gridmenu,"closed",function(e){a._closemenu()}),this.removeHandler(this.gridmenu,"itemclick"),this.addHandler(this.gridmenu,"itemclick",function(e){for(var t=e.args,i=0;i<a.menuitemsarray.length;i++)if(t==a.menuitemsarray[i]){if(null!=re(t).attr("ignoretheme"))return;var s=re.data(document.body,"contextmenu"+a.element.id),r=s.column,n=(a.filterable&&a.gridmenu.jqxMenu("close"),r.displayfield);if(null==n&&(n=r.datafield),null!=s)switch(i){case 0:a.sortby(n,"ascending",null);break;case 1:a.sortby(n,"descending",null);break;case 2:a.sortby(n,null,null);break;case 3:a.addgroup(n);break;case 4:a.removegroup(n);break;case 5:var o=re(a.menuitemsarray[6]);re(o).css("display","block")}break}})},getdatainformation:function(){var e=this.dataview.totalrecords;return this.summaryrows&&(e+=this.summaryrows.length),{rowscount:e,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumns:this.getsortcolumns?this.getsortcolumns():[],sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows(),this._updaterowheights(),this._updaterowdetails()},_updatehiddenrows:function(){var t=this.that,e=(this.hiddens=new Array,this.hiddenboundrows);re.each(e,function(e){null!=this.index&&(this.index,e=t.getrowvisibleindex(e),t.hiddens[e]=this.hidden)})},_updaterowheights:function(){var t=this.that,e=(this.heights=new Array,this.heightboundrows);re.each(e,function(e){null!=this.index&&(this.index,e=t.getrowvisibleindex(e),t.heights[e]=this.height)})},_updaterowdetails:function(){var t=this.that,e=(this.details=new Array,this.detailboundrows);re.each(e,function(e){null!=this.index&&(this.index,e=t.getrowvisibleindex(e),t.details[e]=this.details)})},_getmenuitembyindex:function(e){return null==e?null:this.menuitemsarray[e]},openmenu:function(e){if(!this._openingmenu){this._openingmenu=!0,this.closemenu();var t=this.getcolumn(e);if(!t.menu)return!1;this.gridmenu||this._initmenu();for(var i=t.columnsmenu,s=(re(t.element).trigger("mouseenter"),this.menuOwner=t,this),r=0;r<s.columns.records.length;r++)s.columns.records[r].datafield!=e&&re(s.columns.records[r].element).trigger("mouseleave");setTimeout(function(){"block"==re(i)[0].style.display&&re(i).trigger("click"),s._openingmenu=!1},200)}},closemenu:function(){this._closemenu()},_closemenu:function(){if(this._hasOpenedMenu){if(this.columnmenuclosing)if(e=(e=re.data(document.body,"contextmenu"+this.element.id))||{column:{displayfield:null}},!1===this.columnmenuclosing(this.gridmenu,e.column.displayfield,re(this.gridmenu).height()))return;null!=this.gridmenu&&this.gridmenu.jqxMenu("close");null!=(e=re.data(document.body,"contextmenu"+this.element.id))&&this.autoshowcolumnsmenubutton&&(this.enableanimations?(re(e.columnsmenu).animate({"margin-left":0},"fast",function(){re(e.columnsmenu).css("display","none")}),s=this.rtl?0:-32,e.column.iconscontainer.animate({"margin-left":s},"fast")):(re(e.columnsmenu).css("display","none"),s=this.rtl?0:-32,e.column.iconscontainer.css("margin-left",s)),re.data(document.body,"contextmenu"+this.element.id,null)),this._hasOpenedMenu=!1,this.menuOwner=null;var e,t,i,s=this._getmenuitembyindex(5);s&&(t=re(s).find("#filter1"+this.element.id),i=re(s).find("#filter2"+this.element.id),s=re(s).find("#filter3"+this.element.id),0<t.length&&"default"===this.filtermode&&(t.jqxDropDownList("hideListBox"),0<i.length&&i.jqxDropDownList("hideListBox"),0<s.length&&s.jqxDropDownList("hideListBox"))),this.focus()}},scrolloffset:function(e,t){null!=e&&null!=t&&null!=e&&null!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginupdate:function(e,t){this._updating=!0,!(this._datachanged=!1)===e&&(this._batchupdate=!0),!0===t&&(this._stopbindings=!0)},endupdate:function(){this.resumeupdate()},resumeupdate:function(){if(this._updating=!1,this._batchupdate)return this._batchupdate=!1,this._datachanged=!1,void(this._stopbindings?this.updatebounddata():this.render());var e;this._stopbindings?this.updatebounddata("data"):(1==this._datachanged?(e=this.vScrollInstance.value,this.render(!0,!0,!1),this._datachanged=!1,0!=e&&e<this.vScrollInstance.max&&this.scrolltop(e)):(this.rendergridcontent(!0),this._renderrows(this.virtualsizeinfo)),this.showaggregates&&this.renderaggregates&&this.renderaggregates(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))},updating:function(){return this._updating},showloadelement:function(){this.renderloadelement&&this.dataloadelement.html(this.renderloadelement()),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),re(this.dataloadelement).css("visibility","visible"),re(this.dataloadelement).css("display","block")},hideloadelement:function(){re(this.dataloadelement).css("visibility","hidden"),re(this.dataloadelement).css("display","none")},_updatefocusedfilter:function(){var i=this.that;i.focusedfilter&&(i.focusedfilter.focus(),setTimeout(function(){if(i.focusedfilter.focus(),"input"==i.focusedfilter[0].nodeName.toLowerCase()){var e,t=i.focusedfilter.val().length;try{"selectionStart"in i.focusedfilter[0]?i.focusedfilter[0].setSelectionRange(t,t):((e=i.focusedfilter[0].createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select())}catch(e){}}},50))},databind:function(e,a){var l,d,t,i,s;!0!==this.loadingstate&&!0!==this._stopbindings&&(l=window,"block"==this.host.css("display")&&(this.autoshowloadelement?(re(this.dataloadelement).css("visibility","visible"),re(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this._hideemptyrow()):(re(this.dataloadelement).css("visibility","hidden"),re(this.dataloadelement).css("display","none"))),!this._initgroupsheader&&0<this.groups.length&&(this.groups=new Array),d=this.that,(e=null==e?{}:e).recordstartindex||(e.recordstartindex=0),e.recordendindex||(e.recordendindex=0),null!=e.loadallrecords&&null!=e.loadallrecords||(e.loadallrecords=!0),null!=e.sortcomparer&&null!=e.sortcomparer||(e.sortcomparer=null),null!=e.filter&&null!=e.filter||(e.filter=null),null!=e.sort&&null!=e.sort||(e.sort=null),null!=e.data&&null!=e.data||(e.data=null),(t=null)!=e&&(t=(null!=e._source?e._source:e).url),this.dataview=this.dataview||new re.jqx.dataview,re.jqx.dataview.sort&&re.extend(this.dataview,new re.jqx.dataview.sort),re.jqx.dataview.grouping&&re.extend(this.dataview,new re.jqx.dataview.grouping),this.dataview.suspendupdate(),this.dataview.pageable=this.pageable,this.dataview.groupable=this.groupable,this.dataview.groups=this.groups,this.dataview.virtualmode=this.virtualmode,(this.dataview.grid=this).dataview._clearcaches(),this._columnClassNameCache=new Array,!this.pageable&&this.virtualmode&&(this.loadondemand=!0),d.initializedcall||(e._source&&this.sortable&&(null!=e._source.sortcolumn&&(this.sortcolumn=e._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=e._source.sortcolumn,e._source.sortcolumn=null),null!=e._source.sortdirection&&(this.dataview.sortfielddirection=e._source.sortdirection,s="a"==(i=e._source.sortdirection)||"asc"==i||"ascending"==i||1==i,this.sortdirection=null!=i?{ascending:s,descending:!s}:{ascending:!1,descending:!1})),this.pageable&&e._source&&(null!=e._source.pagenum&&(this.dataview.pagenum=e._source.pagenum),null!=e._source.pagesize?(this.pagesize=e._source.pagesize,this.dataview.pagesize=e._source.pagesize):(this.dataview.pagesize=e._source.pagesize,null==this.dataview.pagesize&&(this.dataview.pagesize=this.pagesize))),this.sortable&&(e.sortcolumn&&(this.dataview.sortfield=e.sortcolumn),e.sortdirection&&(this.dataview.sortfielddirection=e.sortdirection)),this.filterable&&this.columns&&re.each(this.columns,function(){this.filter&&d.dataview.addfilter(this.datafield,this.filter)})),this._loading=!0,this.dataview.update=function(e){if(!d.pageable&&d.virtualmode&&(d.loadondemand=!0),d._loading=!1,d.dataview.isupdating()&&d.dataview.resumeupdate(!1),d.pageable&&d.pagerrenderer){if(!d._initpager)throw new Error("jqxGrid: Missing reference to jqxgrid.pager.js.");d._initpager()}if(d.source&&d.source.sortcolumn&&d.sortby&&!d.virtualmode)d.render(),d.source._source.sort||d.sortby(d.source.sortcolumn,d.source.sortdirection,d.source.sortcomparer),d.source.sortcolumn=null,d._postrender("data");else{var t=d.vScrollInstance.value,i=d.hScrollInstance.value,s=d.source?d.source.datatype:"array";if("local"!=s||"array"!=s){s=null==d.virtualsizeinfo||null!=d.virtualsizeinfo&&0==d.virtualsizeinfo.virtualheight;if("cells"==a){var r=!1;if(d.filterable&&d._initfilterpanel&&d.dataview.filters.length&&(r=!0),0==e)return d.vScrollInstance.isScrolling()||d.hScrollInstance.isScrolling()||(d._cellscache=new Array,d._pagescache=new Array,d._renderrows(d.virtualsizeinfo),d.showfilterrow&&d.filterable&&d.filterrow&&d._updatelistfilters(!0),d.showaggregates&&d._updateaggregates&&d._updateaggregates()),d.sortcolumn&&d.sortby(d.sortcolumn,d.dataview.sortfielddirection,d.source.sortcomparer),d.autoshowloadelement&&(re(d.dataloadelement).css("visibility","hidden"),re(d.dataloadelement).css("display","none")),d.virtualmode&&!d._loading&&(d.loadondemand=!0,d._renderrows(d.virtualsizeinfo)),void d._postrender("data");r?a="filter":null!=d.sortcolumn&&(a="sort")}if(!d.virtualmode||s||d.virtualmode&&d.pageable)if(1==d.initializedcall&&"pagechanged"==a)t=0,d.groupable&&0<d.groups.length?(d._render(!0,!0,!1,!1,!1),d._updatecolumnwidths(),d._updatecellwidths(),d._renderrows(d.virtualsizeinfo),d._postrender("data")):(d.rendergridcontent(!0),d.pageable&&d.updatepagerdetails&&(d.updatepagerdetails(),d.autoheight?(d._updatepageviews(),d.autorowheight&&d._renderrows(this.virtualsizeinfo)):d.autorowheight&&(d._updatepageviews(),d._renderrows(this.virtualsizeinfo)))),d.showaggregates&&d._updateaggregates&&d._updateaggregates(),d._postrender("data");else if("filter"==a)d.virtualmode,d._render(!0,!0,!1,!1,!1),d._updatecolumnwidths(),d._updatecellwidths(),d._renderrows(d.virtualsizeinfo),d._updatefocusedfilter(),d._postrender("data");else if("sort"==a){if(d.virtualmode)d.rendergridcontent(!0),d.showaggregates&&d._updateaggregates&&d._updateaggregates(),d._postrender("data");else{if(d._render(!0,!0,!1,!1,!1),"many"===d.sortmode)for(var n in d.sortcolumns)d.sortby(n,d.sortcolumns[n],d.source.sortcomparer);else d.sortcolumn&&!d.source.sort&&d.sortby(d.sortcolumn,d.dataview.sortfielddirection,d.source.sortcomparer);d._postrender("data")}d.source.sort&&d._updatefocusedfilter()}else"data"==a?d._render(!0,!0,!1,!1,!1):"state"==a?d._render(!0,!0,!1,d.menuitemsarray&&0<d.menuitemsarray.length&&!d.virtualmode):d._render(!0,!0,!0,d.menuitemsarray&&0<d.menuitemsarray.length&&!d.virtualmode),d._postrender("data");else d.virtualmode&&1==e&&!d.pageable?(d._render(!0,!0,!1,!1,!1),d._updatefocusedfilter(),d._updatecolumnwidths(),d._updatecellwidths(),d._renderrows(d.virtualsizeinfo)):d.virtualmode&&!d.pageable&&0==e&&null!=a?(d.rendergridcontent(!0),d.showaggregates&&d._updateaggregates&&d._updateaggregates()):d.virtualmode&&0==d.dataview.totalrecords&&0<d.dataview.filters.length?d._render(!0,!0,!0,d.menuitemsarray&&!d.virtualmode):(d._pagescache=new Array,d._renderrows(d.virtualsizeinfo)),d._postrender("data");d.vScrollInstance.value!=t&&t<=d.vScrollInstance.max&&d.vScrollInstance.setPosition(t),d.hScrollInstance.value!=i&&i<=d.hScrollInstance.max&&d.hScrollInstance.setPosition(i)}}var o;d.autoshowloadelement&&(re(d.dataloadelement).css("visibility","hidden"),re(d.dataloadelement).css("display","none")),d.pageable&&(d.pagerrightbutton&&(d.pagerrightbutton.jqxButton({disabled:!1}),d.pagerleftbutton.jqxButton({disabled:!1}),d.pagershowrowscombo.jqxDropDownList({disabled:!1})),d.pagerfirstbutton&&(d.pagerfirstbutton.jqxButton({disabled:!1}),d.pagerlastbutton.jqxButton({disabled:!1}))),d._raiseEvent(11),d.initializedcall?d._updateTouchScrolling():(o=function(){if(d._raiseEvent(0),d.initializedcall=!0,d.isInitialized=!0,d.ready&&d.ready(),"many"===d.sortmode&&d.sortable&&d.source&&d.source.sortcolumns)for(var e=d.source.sortcolumns,t=0;t<e.length;t++)d.sortby(e[t],"asc"===d.source.sortdirections[t]);var i,s;d.renderstatusbar&&d.renderstatusbar(d.statusbar),d.rendertoolbar&&d.rendertoolbar(d.toolbar),d._rendercelltexts&&d._rendercelltexts(),d._gridRenderElement&&(re(d._gridRenderElement).show("slow"),i=6e3+Math.floor(4e3*Math.random()+1),s=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase(),l[re.camelCase(s)](function(){re(d._gridRenderElement).hide("slow",function(){re(d._gridRenderElement).remove()})},i)),d.autoloadstate&&d.loadstate&&d.loadstate(null,!0)},re.jqx.isHidden(d.host)?(d.readyInterval&&clearInterval(d.readyInterval),d.readyInterval=setInterval(function(){re.jqx.isHidden(d.host)||d.__isRendered&&(clearInterval(d.readyInterval),d.readyInterval=null,o(),d._initmenu())},200)):o(),null!=d.width&&-1!=d.width.toString().indexOf("%")||null!=d.height&&d.height.toString().indexOf("%"),"hidden"==d.host.css("visibility")&&(re.jqx.browser.msie&&re.jqx.browser.version,"visible"==d.vScrollBar.css("visibility")&&d.vScrollBar.css("visibility","inherit"),d.autowidth||"visible"==d.hScrollBar.css("visibility")&&d.hScrollBar.css("visibility","inherit"),d._intervalTimer=setInterval(function(){"visible"==d.host.css("visibility")&&(d._updatesize(!0),clearInterval(d._intervalTimer))},100)))},this.dataview.databind(e),this.dataview.isupdating()&&(null!=t?this.dataview.suspend=!1:this.dataview.resumeupdate(!1)),this._initializeRows())},scrollto:function(e,t){null!=e&&this.hScrollInstance.setPosition(e),null!=t&&this.vScrollInstance.setPosition(t)},scrollposition:function(){return{top:this.vScrollInstance.value,left:this.hScrollInstance.value}},ensurerowvisible:function(e){var t=this;if(this.autoheight&&!this.pageable)return!0;var i,s=this._getpagesize(),r=Math.floor(e/s),n=this.scrollmode;if(this.scrollmode="physical",this._pageviews[r]||this.pageable||this._updatepageviews(),this.groupable&&0<this.groups.length){for(var o=this.getdisplayrows(),a=0,l=0;l<o.length;l++){var d=o[l];if(d.boundindex===e){var h=this.vScrollInstance.value,c=this._gettableheight()-this.rowsheight;(a<h||h+c<a)&&this.scrolltop(a-this.rowsheight),a===h&&this.scrolltop(a-this.rowsheight);break}for(var u=d.parentItem,p=!0;u;){if(u&&(!(i=u).group||(!t.expandedgroups[i.uniqueid]||!t.expandedgroups[i.uniqueid].expanded))){p=!1;break}u=u.parentItem}p&&(a+=this.rowsheight,this.details[l]&&0==this.details[l].rowdetailshidden&&(a+=this.details[l].rowdetailsheight))}return this.scrollmode=n,!0}var m=!1;if(this.pageable&&this.gotopage&&!this.virtualmode){r=Math.floor(e/s);if(this.dataview.pagenum!=r){if(this.groupable&&0<this.groups.length)return!0;if(this.editcell)return setTimeout(function(){t.pagerpageinput.focus()},25),!1;this.gotopage(r),m=!0}}var h=this.vScrollInstance.value,c=this._gettableheight()-this.rowsheight,g=s*(e/s-r),g=Math.round(g);if(this._pageviews[r]){var f,v=(a=this._pageviews[r].top)+g*this.rowsheight;if(!this.autorowheight||0!==(f=(f=re(this.table[0].children[g])).position().top+f.height())&&(v=f),this.rowdetails)for(l=s*r;l<e;l++)this.details[l]&&0==this.details[l].rowdetailshidden&&(v+=this.details[l].rowdetailsheight);(v="deferred"==this.scrollmode&&this.vScrollInstance.max<=v+this.rowsheight?this.vScrollInstance.max:v)<h?(this.scrolltop(v),m=!0):h+c+2<v&&(this.scrolltop(v-c),m=!0)}else if(this.pageable){v=g*this.rowsheight;if(this.rowdetails)for(l=s*r;l<s*r+g;l++)this.details[l]&&0==this.details[l].rowdetailshidden&&(v+=this.details[l].rowdetailsheight);(v<h||h+c<v)&&(this.scrollto(0,v),m=!0)}return this.scrollmode=n,m},ensurecellvisible:function(e,t){var i=this.that,s=this.hScrollInstance.value,r=i.hScrollInstance.max,e=(i.rtl&&"visible"!=this.hScrollBar.css("visibility")&&(r=0),this.ensurerowvisible(e)),n=0;if(this.columns.records){var o=s,a=this.hScrollBar[0].style.visibility,l=this.vScrollBar[0].style.visibility;if("hidden"==a)return;for(var d=this.element.offsetWidth,h=0,c="visible"==l?20:0,u=!1,p=0,m=0;m<this.columns.records.length;m++){var g=this.columns.records[m];if(!g.hidden){if(g.pinned&&(p+=g.width),g.datafield==t){var f=0,v=i.rtl?r-s:o;n+g.width>v+d-c?(f=n+g.width-d+c,i.rtl&&(f=r-f),i.scrollleft(f),u=!0):n<=v+p&&(f=n-g.width-p,i.rtl&&(f=r-f),i.scrollleft(f),u=!0),0==h?(i.rtl?i.scrollleft(r):i.scrollleft(0),u=!0):h==i.columns.records.length-1&&"visible"==i.hScrollBar.css("visibility")&&(i.rtl?i.scrollleft(i.hScrollBar.jqxScrollBar("min")):i.scrollleft(i.hScrollBar.jqxScrollBar("max")),u=!0);break}h++,n+=g.width}}u||i.scrollleft(o)}return e},setrowheight:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return null!=e&&null!=t&&(this.heightboundrows[e]={index:e,height:t},!((e=this.getrowvisibleindex(e))<0)&&(this.rows.records[e]?this.rows.records[e].height=t:((i=new p(this,null)).height=t,this.rows.replace(e,i)),this.heights[e]=t,this.rendergridcontent(!0),!0));var i},getrowheight:function(e){return null==e?null:!((e=this.getrowvisibleindex(e))<0)&&(this.rows.records[e]?this.rows.records[e].height:void 0)},setrowdetails:function(e,t,i,s){var r,n;if(!(null==e||e<0))return r=e+"_",this._rowdetailscache[r]&&(n=this._rowdetailscache[r].element,re(n).remove(),this._rowdetailscache[r]=null),n=this.dataview.generatekey(),this.detailboundrows[e]={index:e,details:{rowdetails:t,rowdetailsheight:i,rowdetailshidden:s,key:n}},!((e=this.getrowvisibleindex(e))<0)&&this._setrowdetails(e,t,i,s,n)},getcolumn:function(e){var t=null;return this.columns.records?re.each(this.columns.records,function(){if(this.datafield==e||this.displayfield==e)return t=this,!1}):this.columns&&re.each(this.columns,function(){if(this.datafield==e||this.displayfield==e)return t=this,!1}),t},_getcolumnindex:function(e){var t=-1;return this.columns.records&&re.each(this.columns.records,function(){if(t++,this.datafield==e)return!1}),t},_getcolumnat:function(e){return this.columns.records[e]},_getprevvisiblecolumn:function(e){for(var t=this.that;0<e;){e--;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},_getnextvisiblecolumn:function(e){for(var t=this.that;e<this.columns.records.length;){e++;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},getcolumnat:function(e){return isNaN(e)?null:this.columns.records[e]},_getcolumn:function(e){var t=null;return re.each(this._columns,function(){if(this.datafield==e||this.displayfield==e)return t=this,!1}),t},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;t=t.toLowerCase();var s=this.getcolumn(e);if(null!=s){var r=s[t],e=(s[t]=i,this._getcolumn(e));switch(null!=e&&(e[t]=i),this._cellscache=new Array,t){case"filteritems":this.filterable&&this.showfilterrow&&this._updatelistfilters(!0,!0);break;case"text":this.prerenderrequired=!0,this._rendercolumnheaders(),this._updatecellwidths(),this._groupsheader()&&this._initgroupsheader&&this._initgroupsheader(),this._renderrows(this.virtualsizeinfo),this.filterable&&this.showfilterrow&&this.refreshfilterrow();break;case"editable":case"resizable":case"draggable":if("editable"==t&&i!=r){if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),"checkbox"==s.columntype&&(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this.updating()))return!1;if(this.updating())return!1;this._renderrows(this.virtualsizeinfo)}break;case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"classname":case"class":if(this.prerenderrequired=!0,"pinned"==t&&(this._initializeColumns(),this._preparecolumngroups()),this.rendergridcontent(!0),this.updating())return!1;"hidden"==t&&(this._updatecolumnwidths(),this._updatecellwidths()),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updateaggregates&&this._updateaggregates();break;case"width":case"minwidth":case"maxwidth":if(this.updating())return!1;s._width=null,s._percentagewidth=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}}},_getcolumnproperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getcolumn(e)[t])},setcolumnproperty:function(e,t,i){this._setcolumnproperty(e,t,i)},getcolumnproperty:function(e,t){return this._getcolumnproperty(e,t)},hidecolumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showcolumn:function(e){this._setcolumnproperty(e,"hidden",!1)},iscolumnvisible:function(e){return!this._getcolumnproperty(e,"hidden")},pincolumn:function(e){this._setcolumnproperty(e,"pinned",!0)},unpincolumn:function(e){this._setcolumnproperty(e,"pinned",!1)},iscolumnpinned:function(e){return this._getcolumnproperty(e,"pinned")},_setrowdetails:function(e,t,i,s,r){if(0==i&&(i=100),null==e||null==i)return!1;if(null!=r)this.details[e]={rowdetails:t,rowdetailsheight:i,rowdetailshidden:s,detailskey:r};else{for(var n=null!=this.details[e]?this.details[e].detailskey:null,o={rowdetails:t,rowdetailsheight:i,rowdetailshidden:s,detailskey:n},a=(this.that,0);a<this.detailboundrows.length;a++)if(null!=this.detailboundrows[a]){var l=this.detailboundrows[a];if(l.details.detailskey==n){l.details.rowdetailsheight=o.rowdetailsheight,l.details.rowdetailshidden=o.rowdetailshidden,l.details.rowdetails=o.rowdetails;break}}this.details[e]=o}return this._detailsUpdate?void 0:(this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),!0)},getrowdetails:function(e){return null!=e&&(e=this.getrowvisibleindex(e),this._getrowdetails(e))},_getrowdetails:function(e){return null!=e&&(!(e<0)&&(this.details[e]||(this.rowdetailstemplate?"function"==typeof this.rowdetailstemplate?(void 0===(e=this.rowdetailstemplate(e)).rowdetailshidden&&(e.rowdetailshidden=!0),void 0===e.rowdetailsheight&&(e.rowdetailsheight=200),void 0===e.rowdetails&&(e.rowdetails="<div></div>"),e):this.rowdetailstemplate:void 0)))},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e)return!1;if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!1,(e=this.getrowvisibleindex(e))<0)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!1)},hiderowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!0,(e=this.getrowvisibleindex(e))<0)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!0)},_togglerowdetails:function(e){this.detailsVisibility||(this.detailsVisibility=new Array);var t,i,s=e.visibleindex,r=this._getrowdetails(s);return null!=r&&(t=this.vScrollInstance.value,i=!r.rowdetailshidden,null!=(e=this.getboundindex(e))&&(this.detailsVisibility[e]=i),e=this._setrowdetailsvisibility(s,r,i),0!==t&&"hidden"!==this.vScrollBar.css("visibility")&&(t<=this.vScrollInstance.max?this.vScrollInstance.setPosition(t):this.vScrollInstance.setPosition(this.vScrollInstance.max)),e)},_setrowdetailsvisibility:function(e,t,i){if(this.rowdetailstemplate&&(this.details||(this.details=new Array),this.details[e]||(void 0===(s="function"==typeof this.rowdetailstemplate?this.rowdetailstemplate(e):this.rowdetailstemplate).rowdetailshidden&&(s.rowdetailshidden=!0),void 0===s.rowdetailsheight&&(s.rowdetailsheight=200),void 0===s.rowdetails&&(s.rowdetails="<div></div>"),this.details[e]={rowdetailshidden:s.rowdetailshidden,rowdetailsheight:s.rowdetailsheight,rowdetails:s.rowdetails},s=this.dataview.generatekey(),this.details[e].detailskey=s,this.detailboundrows[e]={index:e,details:this.details[e]})),null==t)return!1;this.details[e].rowdetailshidden=i;var s=this.details[e];return i?this._raiseEvent(21,{rowindex:e,details:s.rowdetails,height:s.rowdetailsheight}):this._raiseEvent(20,{rowindex:e,details:s.rowdetails,height:s.rowdetailsheight}),this._setrowdetails(e,s.rowdetails,s.rowdetailsheight,s.rowdetailshidden)},getrowvisibleindex:function(e){return!(null==e||e<0)&&(this.virtualmode?null==(t=this.dataview.loadedrecords[e])?-1:t.visibleindex:this.getrowdisplayindex(e));var t},hiderow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return!(null==e||e<0)&&(null!=e&&(this.hiddenboundrows[e]={index:e,hidden:!0},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!0)))},showrow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return!(null==e||e<0)&&(null!=e&&(this.hiddenboundrows[e]={index:e,hidden:!1},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!1)))},isrowhiddenat:function(e){return null==e?null:(e=this.getrowvisibleindex(e),this.rows.records[e]?this.rows.records[e].hidden:void 0)},_setrowvisibility:function(e,t,i){return null!=e&&(this.hiddens[e]=t,!(null!=i&&!i)&&(this.rendergridcontent(!0),!0))},_loadrows:function(){if(this._pageviews[this.dataview.pagenum]||this.pageable){var e=this.pageable?0:this._pageviews[this.dataview.pagenum].top;if(!this.pageable&&null!=this._pagescache[this.dataview.pagenum])return null;if(this.virtualsizeinfo){var t=this.that,i=new Array,s=new Array,r=t.groupable&&0<t.groups.length,n=(this.dataview.totalrecords,this.virtualsizeinfo.virtualheight,0),o=(this.rows.beginupdate(),this.dataview.pagesize);this.pageable&&r&&(o=this.dataview.rows.length);for(var a=0;a<o&&!(a>=this.dataview.rows.length);a++){var l,d,h=this.dataview.rows[a],c=null,u=(t.rows.records[h.visibleindex]?(c=t.rows.records[h.visibleindex]).setdata(h):c=new p(t,h),c.hidden=this.hiddens[c.visibleindex],this.rowdetailstemplate&&(u="function"==typeof this.rowdetailstemplate?this.rowdetailstemplate(c.boundindex):this.rowdetailstemplate,c.rowdetails=u.rowdetails,c.rowdetailsheight=u.rowdetailsheight,c.rowdetailshidden=u.rowdetailshidden,void 0===c.rowdetailshidden&&(c.rowdetailshidden=!0),void 0===c.rowdetailsheight&&(c.rowdetailsheight=200),void 0===c.rowdetails&&(c.rowdetails="<div></div>")),this.details[c.visibleindex]);u?(c.rowdetails=u.rowdetails,c.rowdetailsheight=u.rowdetailsheight,c.rowdetailshidden=u.rowdetailshidden,void 0===c.rowdetailshidden&&(c.rowdetailshidden=!0),void 0===c.rowdetailsheight&&(c.rowdetailsheight=200),void 0===c.rowdetails&&(c.rowdetails="<div></div>")):this.rowdetailstemplate||(c.rowdetails=null),r&&this.pageable&&null!=c.parentbounddata&&(null!=(d=i[c.parentbounddata.uniqueid])&&(l=this._findgroupstate(d.uniqueid),this._setsubgroupsvisibility&&this._setsubgroupsvisibility(this,c.parentbounddata,!l,!1),c.hidden=this.hiddens[c.visibleindex]),null!=d&&((c.parentrow=d).subrows[d.subrows.length++]=c)),c.hidden||(l=h.visibleindex,d=this.rowsheight,this.cardview&&(d=this.cardheight),this.heights[l]||(this.heights[l]=d),c.height=this.heights[l],this.rowdetails&&c.rowdetails&&!c.rowdetailshidden&&(c.height+=c.rowdetailsheight),i[c.uniqueid]=c,(s[n++]=c).top=e,e+=c.height,t.rows.replace(l,c))}(this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews&&0<this._pageviews.length&&(this._pageviews[0].height=e),this.rows.resumeupdate(),0<s.length&&(this._pagescache[this.dataview.pagenum]=s)}}},escapeHTML:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,function(e){return t[e]})},sanitizeHTML:function(e){var t=this,i=new RegExp("<s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)[^>]*>(.*?)<s*/s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)>","ig");return String(e).replace(i,function(e){return t.escapeHTML(e)})},escape_HTML:function(e){return this.enableSanitizeAll||e&&(0<=e.indexOf("onclick")||0<=e.indexOf("onload")||0<=e.indexOf("onerror"))?this.escapeHTML(e):this.sanitizeHTML(e)},_updateaddnewrowui:function(e){for(var t=this,i="bottom"!=t.everpresentrowposition?t.addnewrowtop:t.addnewrowbottom,s=t.columns.records.length,r=0,n=0;n<s;n++)(o=t.columns.records[n]).addnewrowwidget&&re(o.addnewrowwidget).detach();for(n=0;n<s;n++){var o,a=(o=t.columns.records[n]).width,l=((a=a<o.minwidth?o.minwidth:a)>o.maxwidth&&(a=o.maxwidth),re(i[0].cells[n]));l.css("left",r);l.width()==a&&0,e&&0,l.width(a),l[0].left=r,o.addnewrowwidget&&(l.html(""),l.append(o.addnewrowwidget)),o.hidden&&o.hideable||o.adaptivehidden?l.css("display","none"):r+=a}var d=t.everpresentrowactions.split(" "),d=(t.addnewrowbutton.show(),t.addnewrowupdatebutton.show(),t.addnewrowresetbutton.show(),t.addnewrowdeletebutton.show(),-1==d.indexOf("add")&&-1==d.indexOf("addBottom")&&t.addnewrowbutton.hide(),-1==d.indexOf("update")&&t.addnewrowupdatebutton.hide(),-1==d.indexOf("reset")&&t.addnewrowresetbutton.hide(),-1==d.indexOf("delete")&&t.addnewrowdeletebutton.hide(),re(i.children()[0]));d.width(parseInt(r)+2),d.height(t.everpresentrowheight),d.css("max-height",t.everpresentrowheight+"px")},_removeaddnewrow:function(){for(var e=this,t=e.columns.records.length,i=0;i<t;i++){var s=e.columns.records[i];s.addnewrowwidget&&(s.destroyeverpresentrowwidget?s.destroyeverpresentrowwidget(s.addnewrowwidget):s.addnewrowwidget.remove(),s.addnewrowwidget=null)}e.addnewrowbutton&&e.addnewrowbutton.remove(),e.addnewrowupdatebutton&&e.addnewrowupdatebutton.remove(),e.addnewrowdeletebutton&&e.addnewrowdeletebutton.remove(),e.addnewrowresetbutton&&e.addnewrowresetbutton.remove(),e.addnewrowpopup&&(e.addnewrowpopup.remove(),e.addnewrowpopup=null),e.addnewrowtop&&(e.addnewrowtop.remove(),e.addnewrowtop=null),e.addnewrowbottom&&(e.addnewrowbottom.remove(),e.addnewrowbottom=null)},_updateaddnewrow:function(){var c=this,e="bottom"!=c.everpresentrowposition?c.addnewrowtop:c.addnewrowbottom,t=re('<div style="position: relative;" id="row000'+c.element.id+'"></div>'),i=0,u=c.columns.records.length,s=c.toThemeProperty("jqx-grid-cell"),r=(s=(s+=" "+c.toThemeProperty("jqx-grid-cell-add-new-row"))+(" "+c.toThemeProperty("jqx-grid-cell-filter-row")),u+10),n=new Array,p=(c.that,e[0].cells=n,t.height(c.everpresentrowheight),c.showfilterrow||"bottom"==c.everpresentrowposition?c.showfilterrow&&"bottom"!=c.everpresentrowposition&&e.css("max-height",c.everpresentrowheight-3+"px"):e.css("max-height",c.everpresentrowheight-1+"px"),t.css("max-height",c.everpresentrowheight+"px"),e.append(t),re("<div style='border-width: 1px; border-style: solid; padding: 5px; z-index: 99; display: none; position: absolute;'><div>").appendTo(re(document.body))),o=re("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+c.gridlocalization.addrowstring+"</button>"),a=re("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+c.gridlocalization.udpaterowstring+"</button>"),l=re("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+c.gridlocalization.deleterowstring+"</button>"),m=re("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+c.gridlocalization.resetrowstring+"</button>"),d=(p.addClass(c.toThemeProperty("jqx-popup")),p.addClass(c.toThemeProperty("jqx-rc-all")),p.addClass(c.toThemeProperty("jqx-fill-state-normal")),p.addClass(c.toThemeProperty("jqx-shadow")),p.append(o),p.append(a),p.append(l),p.append(m),c.everpresentrowactions.split(" "));-1==d.indexOf("add")&&-1==d.indexOf("addBottom")&&o.hide(),-1==d.indexOf("update")&&a.hide(),-1==d.indexOf("reset")&&m.hide(),-1==d.indexOf("delete")&&l.hide(),c.addnewrowpopup=p,c.addnewrowbutton=o,c.addnewrowupdatebutton=a,c.addnewrowdeletebutton=l,c.addnewrowresetbutton=m,o.jqxButton({template:"success",theme:c.theme}),l.jqxButton({template:"danger",theme:c.theme}),a.jqxButton({template:"primary",theme:c.theme}),m.jqxButton({template:"warning",theme:c.theme}),a.mousedown(function(e){for(var t={},i={},s=0;s<u;s++)(a=c.columns.records[s]).geteverpresentrowwidgetvalue&&(l=a.geteverpresentrowwidgetvalue(a.displayfield,a.addnewrowwidget),i[a.datafield]=l,a.datafield!=a.displayfield&&(i[a.datafield]=l.value,i[a.displayfield]=l.label));for(var r,n,o=!1,s=0;s<u;s++)(a=c.columns.records[s]).geteverpresentrowwidgetvalue&&(l=a.geteverpresentrowwidgetvalue(a.displayfield,a.addnewrowwidget),a.createeverpresentrowwidget&&a.validateeverpresentrowwidgetvalue&&(r=a.validateeverpresentrowwidgetvalue(a.displayfield,l,i),n=c.gridlocalization.validationstring,null!=r.message&&(n=r.message),("boolean"==typeof r?r:r.result)?(a.addnewrowwidget.attr("title",""),a.addnewrowwidget.removeClass(c.toThemeProperty("jqx-input-invalid"))):(l="invalid editor state",a.addnewrowwidget.attr("title",n),a.addnewrowwidget.addClass(c.toThemeProperty("jqx-input-invalid")))),"invalid editor state"===l&&(e.preventDefault(),e.stopPropagation(),o=!0));if(o)return p.hide(),void c.focus();for(var a,l,d,s=0;s<u;s++)(a=c.columns.records[s]).geteverpresentrowwidgetvalue&&(l=a.geteverpresentrowwidgetvalue(a.displayfield,a.addnewrowwidget),t[a.datafield]=l,a.datafield!=a.displayfield&&(t[a.datafield]=l.value,t[a.displayfield]=l.label),a.reseteverpresentrowwidgetvalue&&a.reseteverpresentrowwidgetvalue(a.displayfield,a.addnewrowwidget));(0<c.selectedcells.length||0<c.selectedrowindexes.length)&&(d=0<=c.selectionmode.indexOf("cell")?c.getselectedcells()[0].rowindex:c.selectedrowindexes[0],(d=c.getrowdata(d))&&c.updaterow(d.uid,t)),p.hide(),c.focus()}),l.mousedown(function(e){var t;(0<c.selectedcells.length||0<c.selectedrowindexes.length)&&(t=0<=c.selectionmode.indexOf("cell")?c.getselectedcells()[0].rowindex:c.selectedrowindexes[0],(t=c.getrowdata(t))&&c.deleterow(t.uid));for(var i=0;i<u;i++){var s=c.columns.records[i];s.reseteverpresentrowwidgetvalue&&s.reseteverpresentrowwidgetvalue(s.displayfield,s.addnewrowwidget)}p.hide(),c.focus(),c.updateeverpresentrow()}),o.mousedown(function(e){for(var t={},i={},s=0;s<u;s++)(a=c.columns.records[s]).geteverpresentrowwidgetvalue&&(l=a.geteverpresentrowwidgetvalue(a.displayfield,a.addnewrowwidget),i[a.datafield]=l,a.datafield!=a.displayfield&&(i[a.datafield]=l.value,i[a.displayfield]=l.label),a.datafield!=a.displayfield&&(i[a.datafield]=l.label,i[a.displayfield]=l.value));for(var r,n,o=!1,s=0;s<u;s++)(a=c.columns.records[s]).geteverpresentrowwidgetvalue&&(l=a.geteverpresentrowwidgetvalue(a.displayfield,a.addnewrowwidget),a.createeverpresentrowwidget&&a.validateeverpresentrowwidgetvalue&&(r=a.validateeverpresentrowwidgetvalue(a.displayfield,l,i),n=c.gridlocalization.validationstring,null!=r.message&&(n=r.message),("boolean"==typeof r?r:r.result)?(a.addnewrowwidget.attr("title",""),a.addnewrowwidget.removeClass(c.toThemeProperty("jqx-input-invalid"))):(l="invalid editor state",a.addnewrowwidget.attr("title",n),a.addnewrowwidget.addClass(c.toThemeProperty("jqx-input-invalid")))),"invalid editor state"===l&&(e.preventDefault(),e.stopPropagation(),o=!0));if(o)return p.hide(),void c.focus();for(var a,l,s=0;s<u;s++)(a=c.columns.records[s]).geteverpresentrowwidgetvalue&&(l=a.geteverpresentrowwidgetvalue(a.displayfield,a.addnewrowwidget),t[a.datafield]=l,a.datafield!=a.displayfield&&(i[a.datafield]=l.label,i[a.displayfield]=l.value),a.reseteverpresentrowwidgetvalue&&a.reseteverpresentrowwidgetvalue(a.displayfield,a.addnewrowwidget));var d=0<=c.everpresentrowactions.indexOf("addBottom")?"last":"first";c.addrow(null,t,d),p.hide(),c.focus()}),m.mousedown(function(e){for(var t=0;t<u;t++){var i=c.columns.records[t];i.reseteverpresentrowwidgetvalue&&i.reseteverpresentrowwidgetvalue(i.displayfield,i.addnewrowwidget),i.addnewrowwidget&&(i.addnewrowwidget.attr("title",""),i.addnewrowwidget.removeClass(c.toThemeProperty("jqx-input-invalid")))}p.hide(),c.focus()});for(var h=0;h<u;h++){var g,f,v=c.columns.records[h],x=v.width,y=((x=x<v.minwidth?v.minwidth:x)>v.maxwidth&&(x=v.maxwidth),re('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+s+'"></div>'));t.append(y),y.css("left",i),c.rtl?(y.css("z-index",r++),y.css("border-left-width","1px")):y.css("z-index",r--),"auto"==x&&(x=0),y[0].style.width=parseFloat(x)+"px",y[0].left=i,v.hidden&&v.hideable||v.adaptivehidden?y.css("display","none"):i+=x,n[n.length]=y[0],v.checkboxcolumn?(x=c.toThemeProperty("jqx-grid-cell"),x=(x+=" "+c.toThemeProperty("jqx-grid-cell-filter-row"))+(" "+c.toThemeProperty("jqx-grid-cell-pinned")),y.removeClass().addClass(x)):(x=!0,c.rtl?(c.groupable&&(g=c.showrowdetailscolumn&&c.rowdetails?1:0,c.groups.length+g+h>u-1&&(x=!1)),c.showrowdetailscolumn&&c.rowdetails&&h==u-1&&(x=!1)):(c.groupable&&(g=c.showrowdetailscolumn&&c.rowdetails?1:0,c.groups.length+g>h&&(x=!1)),c.showrowdetailscolumn&&c.rowdetails&&0==h&&(x=!1)),c.updateeverpresentrow=function(){var e,t=null;if((0<c.selectedcells.length||0<c.selectedrowindexes.length)&&(e=0<=c.selectionmode.indexOf("cell")?c.getselectedcells()[0].rowindex:c.selectedrowindexes[0],t=c.getrowdata(e)),t)for(var i=0;i<c.columns.records.length;i++){var s,r=c.columns.records[i];r.seteverpresentrowwidgetvalue&&(s=c.getcelltext(e,r.displayfield),r.seteverpresentrowwidgetvalue(r.addnewrowwidget,s))}},x&&(v.createeverpresentrowwidget?(v.addnewrowwidget=v.createeverpresentrowwidget(v.datafield,y,p,function(){o.trigger("mousedown")}),v.initeverpresentrowwidget&&v.initeverpresentrowwidget(v.datafield,y,p)):(c._measureElement("column"),(x=c.everpresentrowheight/2-c._columnheight/2)<0&&(x=6),x+="px","addButtonColumn"===v.datafield?(f=re('<div style="padding-bottom: 2px; text-align: center; margin-top: '+x+';"><a href="#">'+c.gridlocalization.addrowstring+"</a></div>"),y.append(f),f.mousedown(function(){o.trigger("mousedown")})):"resetButtonColumn"===v.datafield?(f=re('<div style="padding-bottom: 2px; text-align: center; margin-top: '+x+';"><a href="#">'+c.gridlocalization.resetrowstring+"</a></div>"),y.append(f),f.mousedown(function(){m.trigger("mousedown")})):function(t,e,i){var d,h=re('<input style="box-sizing: border-box; padding-right: 4px; padding-left: 4px; border:none;" autocomplete="off" type="textarea"/>');h[0].id=re.jqx.utilities.createId(),h.addClass(t.toThemeProperty("jqx-widget")),h.addClass(t.toThemeProperty("jqx-input")),h.addClass(t.toThemeProperty("jqx-widget-content")),h.addClass(t.toThemeProperty("jqx-enableselect")),h.addClass(t.toThemeProperty("jqx-grid-cell-add-new-row")),h.css("text-align",i.cellsalign),t.rtl&&h.css("direction","rtl"),t.disabled&&h.attr("disabled",!0),h.attr("disabled",!1),h.attr("placeholder",t.gridlocalization.everpresentrowplaceholder+i.text),h.appendTo(e),h.css("width","100%"),h.css("height",t.everpresentrowheight+"px"),h.css("line-height",t.everpresentrowheight+"px"),h.css("max-height",t.everpresentrowheight+"px"),h.css("margin","0px"),h.focus(function(){(0<c.selectedcells.length||0<c.selectedrowindexes.length)&&(0<=c.selectionmode.indexOf("cell")?c.getselectedcells()[0].rowindex:c.selectedrowindexes[0]),h.addClass(t.toThemeProperty("jqx-fill-state-focus"));var e=t.columns.records.indexOf(i),e=("columns"!==t.everpresentrowactionsmode&&p.css({display:"block",top:h.coord().top+t.everpresentrowheight-1,left:0<e?h.coord().left:h.coord().left-1}),p.children().width());return"right"===i.cellsalign?(e=o.width()+m.width(),p.children().css("left",e-e+"px")):p.children().css("left","0px"),t.content[0].scrollLeft=0,t.content[0].scrollTop=0,setTimeout(function(){t.content[0].scrollLeft=0,t.content[0].scrollTop=0},50),!1}),i.addnewrowwidget=h,i.reseteverpresentrowwidgetvalue||(i.reseteverpresentrowwidgetvalue=function(e,t){t.val(""),t.focus(),t.blur(),t.removeClass(c.toThemeProperty("jqx-input-invalid")),t.attr("title","")}),i.seteverpresentrowwidgetvalue||(i.seteverpresentrowwidgetvalue=function(e,t){e.val(t)}),i.geteverpresentrowwidgetvalue||((d=i).geteverpresentrowwidgetvalue=function(e,t,i){t=t.val();if(!1!==i&&d.validateeverpresentrowwidgetvalue){for(var s={},r=0;r<u;r++){var n,o=c.columns.records[r];o.geteverpresentrowwidgetvalue&&(n=o.geteverpresentrowwidgetvalue(o.displayfield,o.addnewrowwidget,!1),s[o.datafield]=n,o.datafield!=o.displayfield&&(s[o.datafield]=n.value,s[o.displayfield]=n.label))}var i=d.validateeverpresentrowwidgetvalue(d.displayfield,t,s),a=c.gridlocalization.validationstring;if(null!=i.message&&(a=i.message),!("boolean"==typeof i?i:i.result))return h.addClass(c.toThemeProperty("jqx-input-invalid")),h.attr("title",a),"invalid editor state";h.removeClass(c.toThemeProperty("jqx-input-invalid")),h.attr("title","")}var l,i="string",a=c.source.datafields||(c.source._source?c.source._source.datafields:null);if(a&&(l="",re.each(a,function(){if(this.name==d.displayfield)return this.type&&(l=this.type),!1}),l&&(i=l)),"number"===i){a=parseFloat(t);if(isNaN(a))return null}return"date"===i?re.jqx.dataFormat.tryparsedate(t,c.gridlocalization):"bool"===i||"boolean"===i?"true"===t||("1"==t||"false"!==t&&("0"!=t&&((!0===t||!1===t)&&t))):t}),h.keydown(function(e){13===e.keyCode&&(0<=c.everpresentrowactions.indexOf("add")?o.trigger("mousedown"):0<=c.everpresentrowactions.indexOf("update")?a.trigger("mousedown"):0<=c.everpresentrowactions.indexOf("delete")&&l.trigger("mousedown"))}),h.blur(function(){h.removeClass(t.toThemeProperty("jqx-fill-state-focus")),p.css("display","none")}),i.initeverpresentrowwidget&&i.initeverpresentrowwidget(i.datafield,e,p)}(this,y,v))))}re.jqx.browser.msie&&re.jqx.browser.version<8&&t.css("z-index",r--),t.width(parseFloat(i)+2),e.addClass(s),e.css("border-bottom-width","0px"),c.showfilterrow?e.css("border-top-width","0px"):e.css("border-top-width","1px"),e.css("box-sizing","border-box"),e.css("border-right-width","0px")},_gettableheight:function(){if(null!=this.tableheight)return this.tableheight;var e,t=this.host.height();return this.columnsheader&&(e=this.columnsheader.outerHeight(),this.showheader||(e=0)),t-=e,"visible"==this.hScrollBar[0].style.visibility&&(t-=this.hScrollBar.outerHeight()),this.pageable&&(t-=this.pager.outerHeight()),this._groupsheader()&&(t-=this.groupsheader.outerHeight()),this.showtoolbar&&(t-=this.toolbarheight),this.showfilterbar&&(t-=this.toolbarheight),this.showstatusbar&&(t-=this.statusbarheight),this.showeverpresentrow&&"bottom"===this.everpresentrowposition&&(t-=this.everpresentrowheight),0<t?this.tableheight=t:this.host.height()},_getpagesize:function(){return this.pageable?this.pagesize:this.virtualmode?(e=Math.round(this.host.height())+2*this.rowsheight,Math.round(e/this.rowsheight)):this.autoheight||this.autorowheight||this.cardview?0==this.dataview.totalrows?1:this.dataview.totalrows:this.dataview.totalrows<100&&this.dataview.totalrecords<100&&0<this.dataview.totalrows?this.dataview.totalrows:100;var e},_calculatevirtualheight:function(){this.that;var e=Math.round(this.host.height())+2*this.rowsheight,t=this._gettableheight(),e=Math.round(e/this.rowsheight),i=(this.heights=new Array,this.hiddens=new Array,this.details=new Array,this.expandedgroups=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array,Math.max(this.dataview.totalrows,this.dataview.totalrecords)),s=(this.pageable&&(i=this.pagesize,this.pagesize>Math.max(this.dataview.totalrows,this.dataview.totalrecords)&&this.autoheight?i=Math.max(this.dataview.totalrows,this.dataview.totalrecords):this.autoheight||this.dataview.totalrows<this.pagesize&&(i=Math.max(this.dataview.totalrows,this.dataview.totalrecords))),i*this.rowsheight),r=(this.cardview&&(s=Math.ceil(i/this.cardsize)*this.rowsheight),0),n=0,o=0,a=this._getpagesize(),l=a*this.rowsheight,d=0;if(!this.pageable&&this.autoheight&&(e=i),0<i+a)for(;d<=i+a;){if(r+=l,d-a<i&&i<=d){var h=d-i;0<h&&(o-=l,this._pageviews[n-1]={top:o,height:l-h*this.rowsheight});break}this._pageviews[n++]={top:o,height:l},o=r,d+=a}if(1!=this.resizingGrid&&this.vScrollBar.jqxScrollBar({value:0}),"hidden"==this.hScrollBar.css("visibility")){var c=0;if(this.columns&&this.columns.records){for(d=0;d<this.columns.records.length;d++)c+=isNaN(this.columns.records[d].width)?this.columns.records[d].minwidth:this.columns.records[d].width;!isNaN(c)&&parseInt(c)>this.host.width()&&(t-=30)}}return t<s&&!this.autoheight?(this.vScrollBar.css("visibility","visible"),"deferred"==this.scrollmode?this.vScrollBar.jqxScrollBar({max:s}):(this.vScrollBar.jqxScrollBar({max:s-t}),this.cardview&&this.vScrollBar.jqxScrollBar({step:this.cardheight}))):this.vScrollBar.css("visibility","hidden"),this.dataview.pagesize=a,this.dataview.updateview(),{visiblerecords:e,virtualheight:s}},_updatepageviews:function(){if(!this.updating()){this._pagescache=new Array,this._pageviews=new Array,this.tableheight=null;var e=this.that,t=Math.round(this.host.height())+2*this.rowsheight,t=Math.round(t/this.rowsheight),i=Math.max(this.dataview.totalrows,this.dataview.totalrecords),s=i*this.rowsheight,r=0,n=0,o=0,a=0,l=0,d=this._getpagesize();if(this.pageable)this._updatepagedview&&(s=this._updatepagedview(i,s,0)),this.autoheight&&this._arrange();else for(var h=0;h<i;h++){var c,u,p={index:h,height:this.heights[h],hidden:this.hiddens[h],details:this.details[h]};null==this.heights[h]&&(this.heights[h]=this.rowsheight,p.height=this.rowsheight),null==this.hiddens[h]&&(this.hiddens[h]=!1,p.hidden=!1),null==this.details[h]&&(this.details[h]=null),p.height!=e.rowsheight&&(s=(s-=e.rowsheight)+p.height),p.hidden?s-=p.height:(n+=p.height,c=0,this.rowdetails&&(this.rowdetailstemplate&&!p.details&&(void 0===(u="function"==typeof this.rowdetailstemplate?this.rowdetailstemplate():this.rowdetailstemplate).rowdetailshidden&&(u.rowdetailshidden=!0),void 0===u.rowdetailsheight&&(u.rowdetailsheight=200),void 0===u.rowdetails&&(u.rowdetails="<div></div>"),p.details=u),p.details&&p.details.rowdetails&&!p.details.rowdetailshidden&&(n+=c=p.details.rowdetailsheight,s+=c)),r+=p.height+c),(d<=++l||h==i-1)&&(this._pageviews[o++]={top:a,height:n},a=r,l=n=0)}var m,g=this._gettableheight();g<s?(this.pageable&&this.gotopage&&(s=this._pageviews[0].height)<0&&(s=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(s<=g||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),0<s-g&&"deferred"!=this.scrollmode?(m=this.vScrollInstance.max,this.vScrollBar.jqxScrollBar({max:g=s-g}),g!=m&&this.vScrollBar.jqxScrollBar({value:0})):this.vScrollBar.jqxScrollBar({value:0,max:s})):(this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0})),this._arrange(),this.autoheight&&(t=Math.round(this.host.height()/this.rowsheight)),this.virtualsizeinfo={visiblerecords:t,virtualheight:s}}},updatebounddata:function(e){if("data"!=e&&"sort"!=e&&"filter"!=e&&"cells"!=e&&"pagechanged"!=e&&"pagesizechanged"!=e&&!this.virtualmode){if(this.virtualsizeinfo=null,this.columns&&this.columns.records)for(var t=0;t<this.columns.records.length;t++){var i=this.columns.records[t];i.destroywidget&&i.widget&&i.destroywidget&&i.destroywidget(i.widget)}this.showfilterrow&&this.filterable&&this.filterrow?(this.clearfilters&&this.clearfilters(!1),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.filterrow.remove(),this._filterrowcache=new Array,this.filterrow=null):this.filterable&&this.clearfilters&&this.clearfilters(!1),this.showeverpresentrow&&this._removeaddnewrow(),this.detailsVisibility=new Array,this.groupsVisibility=new Array,this.groupable&&(this.dataview.groups=[],this.groups=[]),this.pageable&&(this.pagenum=0,this.dataview.pagenum=0),this.sortable&&(this.sortcolumn=null,this.sortdirection="",this.dataview.sortfielddirection="",this.dataview.clearsortdata())}this.databind(this.source,e)},refreshdata:function(){this._refreshdataview(),this.render()},_updatevscrollbarmax:function(){var e,t;this._pageviews&&0<this._pageviews.length&&(e=this._pageviews[0].height,!this.virtualmode&&this.pageable||(e=this.virtualsizeinfo.virtualheight),(t=this._gettableheight())<e?(this.pageable&&this.gotopage&&(e=this._pageviews[0].height)<0&&(e=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(e<=t||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),0<e-t?this.vScrollBar.jqxScrollBar({max:e-t}):this.vScrollBar.jqxScrollBar({value:0,max:e})):(this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0})))},_refreshdataview:function(){this.dataview.refresh()},refresh:function(e){1==e||re.jqx.isHidden(this.host)||null!=this.virtualsizeinfo&&(this._cellscache=new Array,this._renderrows(this.virtualsizeinfo),this._updatesize())},render:function(){this._render(!0,!0,!0,!0)},invalidate:function(){this.virtualsizeinfo&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))},clear:function(){this.databind(null),this.render()},_preparecolumngroups:function(){var e=this.columnsheight;if(this.columngroups){if(this.columnshierarchy=new Array,this.columngroups.length){for(var s=this,t=0;t<this.columngroups.length;t++)this.columngroups[t].parent=null,this.columngroups[t].groups=null;for(t=0;t<this.columns.records.length;t++)this.columns.records[t].parent=null,this.columns.records[t].groups=null;function i(e){for(var t=0;t<s.columngroups.length;t++){var i=s.columngroups[t];if(i.name===e)return i}return null}for(t=0;t<this.columngroups.length;t++)(d=this.columngroups[t]).groups||(d.groups=null),d.parentgroup&&(r=i(d.parentgroup))&&((d.parent=r).groups||(r.groups=new Array),-1===r.groups.indexOf(d)&&r.groups.push(d));for(var r,t=0;t<this.columns.records.length;t++)(d=this.columns.records[t]).columngroup&&(r=i(d.columngroup))&&(r.groups||(r.groups=new Array),-1===(d.parent=r).groups.indexOf(d)&&r.groups.push(d));for(var n=0,t=0;t<this.columns.records.length;t++){var o=d=this.columns.records[t];for(d.level=0;o.parent;)o=o.parent,d.level++;for(var o=d,a=d.level,n=Math.max(n,d.level);o.parent;)(o=o.parent)&&(o.level=--a)}for(var l=function(e){var t=new Array;if(e.columngroup&&t.push(e),e.groups)for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var s=l(e.groups[i]),r=0;r<s.length;r++)t.push(s[r]);return t},t=0;t<this.columngroups.length;t++){for(var d=this.columngroups[t],h=l(d),c=(d.columns=h,new Array),u=0,p=0;p<h.length;p++)c.push(this.columns.records.indexOf(h[p])),h[p].pinned&&u++;if(0!=u)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:t<e?1:0});for(var m=1;m<c.length;m++)if(c[m]!=c[m-1]+1)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columngroupslevel=1+n,e=this.columngroupslevel*this.columnsheight}return e},_render:function(e,t,i,s,r){if(null!=this.dataview&&!this._loading&&!this._batchupdate){var n,o;if(re.jqx.isHidden(this.host))return(n=this).___hiddenTimer&&(clearInterval(n.___hiddenTimer),n.___hiddenTimer=null),void(this.___hiddenTimer=setInterval(function(){re.jqx.isHidden(n.host)||(clearInterval(n.___hiddenTimer),n.render())},300));null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1),this.validationpopup=null,this._removeHandlers(),this._addHandlers(),this._initializeRows(),this._requiresupdate=null==t||t,this._newmax=null,i&&(this._requiresupdate||0!=s&&this._initmenu(),null==this.columns?this.columns=new re.jqx.collection(this.element):((o=this).columns&&"observableArray"===this.columns.name&&(this.columns.notifier=function(e){function t(){o.columns=o._columns,o.render()}switch(e.type){case"add":t();break;case"update":if("index"===e.name){for(var i in o.beginupdate(),e.newValue)o.setcolumnproperty(e.newValue.datafield,i,e.newValue[i]);o.endupdate()}else{var s=e.path.split(".");o.setcolumnproperty(o.columns[s[0]].datafield,e.name,e.newValue)}break;case"delete":t()}}),this.columngroups&&"observableArray"===this.columngroups.name&&(this.columngroups.notifier=function(e){o.render()}),this._initializeColumns())),this.tableheight=null,this._pagescache=new Array,this._pageviews=new Array,this.visiblerows=new Array,this.hittestinfo=new Array,this._requiresupdate&&(this._clearcaches(),1==s&&this._initmenu()),this.virtualsizeinfo=null,this.prerenderrequired=!0,(this.groupable&&0<this.groups.length&&this.rowdetails||this.rowdetails)&&this.gridcontent&&(this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,this.detailboundrows=new Array,this.details=new Array,re.jqx.utilities.html(this.gridcontent,""),this.gridcontent=null),this.gridcontent&&this.editable&&this._destroyeditors&&this._destroyeditors(),i?(this.filterrow&&this.filterrow.detach(),re.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||re('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header"))):this.gridcontent&&re.jqx.utilities.html(this.gridcontent,""),this.showheader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||re('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove();this.columnsheight;t=this._preparecolumngroups();this.showfilterrow&&this.filterable?(this.columnsheader.height(t+this.filterrowheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&this.columnsheader.height(t+this.filterrowheight+this.everpresentrowheight)):this.showeverpresentrow&&"bottom"!==this.everpresentrowposition?this.columnsheader.height(t+this.everpresentrowheight):this.columnsheader.height(t),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._arrange(),this._initgroupsheader&&this._initgroupsheader(),this.selectionarea=this.selectionarea||re("<div style='z-index: 9999; visibility: hidden; position: absolute;'></div>"),this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea")),this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.content.append(this.selectionarea),this.tableheight=null,this.rendergridcontent(!1,i),0<this.groups.length&&this.groupable&&(s=this.vScrollBar[0].style.visibility,this.suspendgroupevents=!0,this.collapseallgroups&&(this.groupsexpandedbydefault?this.expandallgroups(!1):(this.collapseallgroups(!1),this._updatescrollbarsafterrowsprerender())),this.vScrollBar[0].style.visibility!=s&&(this._updatecolumnwidths(),this._updatecellwidths()),this.suspendgroupevents=!1),this.pageable&&this.updatepagerdetails&&(this.updatepagerdetails(),this.autoheight&&this._updatepageviews(),this.autorowheight&&(this.autoheight||this._updatepageviews(),this._renderrows(this.virtualsizeinfo))),this.showaggregates&&this._updateaggregates&&this._updateaggregates(),this._addoverlayelement(),"deferred"==this.scrollmode&&this._addscrollelement(),this.showfilterrow&&this.filterable&&this.filterrow&&(null==r||1==r)&&this._updatelistfilters(!i),(this.filterable&&"simple"===this.filtermode||"default"===this.filtermode&&this.showfilterbar)&&this._renderfilter(),this.rendered&&this.rendered("full"),this.__isRendered=!0}},_addoverlayelement:function(){var e,t,i=re.jqx.utilities.getBrowser();("msie"==i.browser&&parseInt(i.version)<9||this.isTouchDevice())&&(this._overlayElement&&this._overlayElement.remove(),this._overlayElement=re("<div class='jqxgrid-overlay' style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._overlayElement.css("background","white"),this._overlayElement.css("z-index",180),this._overlayElement.css("opacity",.001),this.isTouchDevice()?"hidden"!==this.vScrollBar.css("visibility")||"hidden"!==this.hScrollBar.css("visibility")?(i=0,"checkbox"==this.selectionmode&&(i+=30),(this.groupable||this.rowdetails)&&this._overlayElement.css("left",30*(this.groups.length+(this.rowdetails?1:0))),e=this._overlayElement.css("left"),this._overlayElement.css("left",e+i),this.cardview&&(this.content.prepend(this._overlayElement),(t=this).host.on("mouseup",function(){t._overlayElement.css("visibility","visible")}),this._overlayElement[0].onmouseup=function(e){t._overlayElement.css("visibility","hidden"),e.stopPropagation()})):this._overlayElement&&this._overlayElement.remove():this.content.prepend(this._overlayElement)),this._updateTouchScrolling()},_addscrollelement:function(){this._scrollelement&&this._scrollelement.remove(),this._scrollelementoverlay&&this._scrollelementoverlay.remove(),this._scrollelementoverlay=re("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._scrollelementoverlay.css("background","black"),this._scrollelementoverlay.css("z-index",1800),this._scrollelementoverlay.css("opacity",.1),this._scrollelement=re("<span style='visibility: hidden; top: 50%; right: 10px; position: absolute;'></span>"),this._scrollelement.css("z-index",1900),this._scrollelement.addClass(this.toThemeProperty("jqx-button")),this._scrollelement.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._scrollelement.addClass(this.toThemeProperty("jqx-rc-all")),this._scrollelement.addClass(this.toThemeProperty("jqx-shadow")),this.content.prepend(this._scrollelement),this.content.prepend(this._scrollelementoverlay)},_postrender:function(e){if(("filter"==e||"sort"==e||"group"==e)&&this.rowdetails&&this.detailsVisibility&&0<this.detailsVisibility.length){this._detailsUpdate=!0;for(var t=0;t<this.details.length;t++)this.details[t]&&(this.details[t].rowdetailshidden=!0);if(!this._loading)for(t=0;t<this.detailsVisibility.length;t++)!1===this.detailsVisibility[t]?this.showrowdetails(t):!0===this.detailsVisibility[t]&&this.hiderowdetails(t);this._detailsUpdate=!1,this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}if(this.groupable&&0<this.groups.length)if("filter"==e||"sort"==e)for(t=0;t<this.dataview.loadedgroups.length;t++){var i,s,r=this.dataview.loadedgroups[t],n=0;for(i in this.groupsVisibility)i==r.group&&this.groupsVisibility[i]&&(this._setgroupstate(r,!0,!1),n++);0<n&&(s=this.vScrollBar[0].style.visibility,this.rendergridcontent(!!1,!1),s==this.vScrollBar[0].style.visibility&&!this._hiddencolumns||(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)))}else"group"==e&&(this.groupsVisibility=new Array)},rendergridcontent:function(e,t){if(this.updating())return!1;this._requiresupdate=e=null==e?!1:e;var i,s,e=this.prerenderrequired,r=(this.prerenderrequired&&this._arrange(),this.that);return null==(t=t)&&(t=!0),this.tableheight=null,r.virtualsizeinfo=r.virtualsizeinfo||r._calculatevirtualheight(),r.pageable&&!r.autoheight&&r.dataview.totalrows<r.pagesize&&(r._requiresupdate=!0),t?r._rendercolumnheaders():(this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn()),r._renderrows(r.virtualsizeinfo),this.gridcontent&&(0!=this.gridcontent[0].scrollTop&&(this.gridcontent[0].scrollTop=0),0!=this.gridcontent[0].scrollLeft&&(this.gridcontent[0].scrollLeft=0)),e&&(t=this.tableheight,this._arrange(),t!=this.tableheight&&this.autoheight&&r._renderrows(r.virtualsizeinfo)),this.rtl&&this._renderhorizontalscroll(),this.autosavestate&&null!=this.initializedcall&&this.savestate&&this.savestate(),this.adaptive&&this.element.offsetWidth<=this.adaptivewidth?(i=0,s=r.element.offsetWidth-2,re.each(this.columns.records,function(e,t){if(i+=this.width,"adaptive"===this.columntype)return!0;s<=i&&(this.adaptivehidden=!0)}),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)):this.adaptive&&(re.each(this.columns.records,function(e,t){if("adaptive"===this.columntype)return!0;this.adaptivehidden=!1}),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)),!0},_updatecolumnwidths:function(){var n=this.host.width(),o=n,a="";if(null!=this.columns&&null!=this.columns.records){var i,l=this.that,r=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth,e=this.adaptive&&this.element.offsetWidth<=this.adaptivewidth,d=0,e=(e&&(i=1,re.each(this.columns.records,function(e,t){this.adaptivehidden&&i++}),e=0<this.vScrollBar[0].offsetWidth?this.vScrollBar[0].offsetWidth+4:0,"hidden"==this.vScrollBar.css("visibility")&&(e=0),h=this.columns.records.length-i,d=(this.element.offsetWidth-32-e)/h),re.each(this.columns.records,function(e,t){var i,s;this.hidden&&this.hideable||this.adaptivehidden||(-1!=this.width.toString().indexOf("%")||null!=this._percentagewidth?(i="hidden"==l.vScrollBar[t=0].style.visibility?0:l.scrollbarsize+5,!l.scrollbarautoshow&&0!=l.scrollbarsize||(i=0),s=o,t=parseFloat(this.width)*s/100,i+=r,(t=(t=null!=this._percentagewidth?parseFloat(this._percentagewidth)*(s-i)/100:t)<this.minwidth&&"auto"!=this.minwidth?this.minwidth:t)>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),n-=t):"auto"==this.width||this._width?a+=this.text:n-=this.width)}),this._gettableheight());if(!this.autoheight&&this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>e)if(this.groupable&&0<this.groups.length)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var t=this.dataview.loadedrootgroups.length*this.rowsheight;if(this.pageable)for(var s=0;s<this.dataview.rows.length;s++)this.dataview.rows[s].group&&0===this.dataview.rows[s].level&&(t+=this.rowsheight);(e<t||"visible"==this.vScrollBar.css("visibility"))&&(n-=this.scrollbarsize+5,o-=this.scrollbarsize+5)}else n-=this.scrollbarsize+5,o-=this.scrollbarsize+5;else"hidden"!=this.vScrollBar.css("visibility")&&0<this.scrollbarsize&&(n-=this.scrollbarsize+5,o-=this.scrollbarsize+5);var h,c,u,p,r=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;o-=r,!this.columnsheader||0!=(h=this.columnsheader.find("#columntable"+this.element.id)).length&&(p=c=0,re.each((u=this).columns.records,function(e,t){var i=re(this.element),s=(this.hidden||this.adaptivehidden||"none"!==this.element.style.display||(this.element.style.display="block"),this.adaptivehidden&&(this.element.style.display="none"),!1),r=this.width;-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(r=null!=this._percentagewidth?parseFloat(this._percentagewidth)*o/100:parseFloat(this.width)*o/100,s=!0),0<d&&"adaptive"!==this.columntype?(i.width(d),this.adaptivewidth=d):"auto"==this.width||this._width||s?s?(r<this.minwidth&&"auto"!=this.minwidth&&(r=this.minwidth,this.width=r),r>this.maxwidth&&"auto"!=this.maxwidth&&(r=this.maxwidth,this.width=r),parseInt(i[0].style.width)!=r&&(i.width(r),this.width=r)):(s=Math.floor(n*(this.text.length/a.length)),n-(p+=s)<3&&n!=p&&.01<n-p?n-p==1?s++:s+=2:e==l.columns.records.length-1&&p<n&&(s+=n-p),isNaN(s)&&(s=this.minwidth),(s=(s=isNaN(s)?this.minwidth:s)==1/0?0:s)<0&&(r=re("<span>"+u.escape_HTML(this.text)+"</span>"),re(document.body).append(r),s=10+r.width(),r.remove()),(s=s<this.minwidth?this.minwidth:s)>this.maxwidth&&(s=this.maxwidth),this._width="auto",this.width=s,i.width(this.width)):parseInt(i[0].style.width)!=this.width&&i.width(this.width),parseInt(i[0].style.left)!=c&&i.css("left",c),this.hidden&&this.hideable||this.adaptivehidden||(0<d&&"adaptive"!==this.columntype?c+=d:c+=this.width),this._requirewidthupdate=!0}),this.columnsheader.width(2+c),h.width(this.columnsheader.width()),this.columnsheader[0].style.visibility=0==c?"hidden":"inherit",this._resizecolumngroups(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),this.showeverpresentrow&&(("bottom"!==this.everpresentrowposition?this.addnewrowtop:this.addnewrowbottom).width(this.columnsheader.width()),this._updateaddnewrowui()),this.autowidth&&this._arrange())}},_rendercolumnheaders:function(){var x=this.that;if(this.cardview?(0<x.cardviewcolumns.length&&re.each(this.columns.records,function(e,t){if("string"!=typeof x.cardviewcolumns[0]){for(var i=!1,s=0;s<x.cardviewcolumns.length;s++)x.cardviewcolumns[s].datafield===this.datafield&&(this.__width=this.width,this.width=x.cardviewcolumns[s].width||"",i=!0);i||(this.__hidden=this.hidden,this.hidden=!0)}else x.cardviewcolumns[e]?(this.__width=this.width,this.width=x.cardviewcolumns[e]):this.hideable&&(this.__hidden=this.hidden,this.hidden=!0)}),this._cardviewmode=!0):this._cardviewmode&&(re.each(this.columns.records,function(e,t){void 0!==this.__width&&(this.width=this.__width,delete this.__width),void 0!==this.__hidden&&(this.hidden=this.__hidden,delete this.__hidden)}),this._cardviewmode=!1),!this.prerenderrequired)return this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),void(this.showeverpresentrow&&(("bottom"!==this.everpresentrowposition?this.addnewrowtop:this.addnewrowbottom).width(this.columnsheader.width()),this._updateaddnewrowui()));this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var y=re('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>'),w=(y[0].cells=new Array,0),b=0,_="",q=this.host.width(),j=q,s=new Array,r=new Array,n=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(re.each(this.columns.records,function(e,t){var i;this.hidden&&this.hideable||this.adaptivehidden||("auto"==this.width||this._width?_+=this.text:this.width<this.minwidth&&"auto"!=this.minwidth?q-=this.minwidth:this.width>this.maxwidth&&"auto"!=this.maxwidth?q-=this.maxwidth:-1!=this.width.toString().indexOf("%")?(i="hidden"==x.vScrollBar[t=0].style.visibility?0:x.scrollbarsize+5,i+=n,(t=(t=parseFloat(this.width)*(j-i)/100)<this.minwidth&&"auto"!=this.minwidth?this.minwidth:t)>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),q-=t):("string"==typeof this.width&&(this.width=parseInt(this.width)),q-=this.width)),this.pinned||this.grouped||this.checkboxcolumn?(x._haspinned&&(this.pinned=!0),s[s.length]=this):r[r.length]=this}),this.rtl){var e=0;s.reverse();for(t=this.columns.records.length-1;t>=this.columns.records.length-s.length;t--)this.columns.replace(t,s[e++]);for(i=0;i<r.length;i++)this.columns.replace(i,r[i])}else{for(var t=0;t<s.length;t++)this.columns.replace(t,s[t]);for(var i=0;i<r.length;i++)this.columns.replace(s.length+i,r[i])}var T=this.headerZIndex,C=x.groupable?x.groups.length:0,S=(this.rowdetails&&this.showrowdetailscolumn&&C++,x.columnsheader.height()),o=(this.showfilterrow&&(this.columngroups?S-=this.filterrowheight:S=this.columnsheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&(this.columngroups?S-=this.everpresentrowheight:S=this.columnsheight),this._gettableheight());if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>o&&!this.scrollbarautoshow)if(this.groupable&&0<this.groups.length)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var a=0;if(this.pageable){if(this.pageable)for(var l=0;l<this.dataview.rows.length;l++)this.dataview.rows[l].group&&0===this.dataview.rows[l].level&&(a+=this.rowsheight)}else a=this.dataview.loadedrootgroups.length*this.rowsheight;o<a&&(q-=this.scrollbarsize+5,j-=this.scrollbarsize+5)}else q-=this.scrollbarsize+5,j-=this.scrollbarsize+5;else!this.autoheight&&0<this.scrollbarsize&&(q-=this.scrollbarsize+5,j-=this.scrollbarsize+5);j-=n;var k=document.createDocumentFragment(),I=0;re.each(this.columns.records,function(e,t){this.height=x.columnsheight,x.columngroups&&x.columngroups.length&&(this.height=(this.datafield,r=this,n=x.columngroupslevel*x.columnsheight,n-=r.level*x.columnsheight),S=this.height);var i,s,r=x.toTP("jqx-grid-column-header")+" "+x.toTP("jqx-widget-header"),n=(x.rtl&&(r+=" "+x.toTP("jqx-grid-column-header-rtl")),x.rtl?150+T+1:150+T-1),o=x.rtl?T++:T--,a=re('<div role="columnheader" style="z-index: '+o+';position: absolute; height: 100%;" class="'+r+'"><div style="height: 100%; width: 100%;"></div></div>'),o=(x.columngroups&&(a[0].style.height=S+"px",a[0].style.bottom="0px",this.pinned&&(a[0].style.zIndex=n)),this.uielement=a,""!=this.classname&&this.classname&&a.addClass(this.classname),this.width),l=!1,d=(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(o=null!=this._percentagewidth?parseFloat(this._percentagewidth)*j/100:parseFloat(this.width)*j/100,l=!0),"auto"==this.width||this._width||l?l?((o=o<this.minwidth&&"auto"!=this.minwidth?this.minwidth:o)>this.maxwidth&&"auto"!=this.maxwidth&&(o=this.maxwidth),null!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),a.width(o),this.width=o):this.hidden||this.adaptivehidden||(l=Math.floor(q*(this.text.length/_.length)),q-(I+=l)<3&&q!=I&&.01<q-I?q-I==1?l++:l+=2:e==x.columns.records.length-1&&I<q&&(l+=q-I),(l=isNaN(l)?this.minwidth:l)<0&&(h=re("<span>"+this.text+"</span>"),re(document.body).append(h),l=10+h.width(),h.remove()),(l=l<this.minwidth?this.minwidth:l)>this.maxwidth&&(l=this.maxwidth),this._width="auto",this.width=l,o=this.width,a.width(this.width)):(o<this.minwidth&&"auto"!=this.minwidth&&(o=this.minwidth,this.width=o),o>this.maxwidth&&"auto"!=this.maxwidth&&(o=this.maxwidth,this.width=o),a[0].style.width=parseInt(o)+"px"),(this.hidden&&this.hideable||this.adaptivehidden)&&a.css("display","none"),re(a.children()[0])),h=x.rtl?x.toTP("jqx-grid-column-menubutton")+" "+x.toTP("jqx-grid-column-menubutton-rtl"):x.toTP("jqx-grid-column-menubutton"),l=(h+=" "+x.toTP("jqx-icon-arrow-down"),re('<div style="height: '+S+'px; display: none; left: 100%; top: 0%; position: absolute;"><div class="'+h+'" style="width: 100%; height:100%;"></div></div>')),h=(x.enableanimations||l.css("margin-left",-16),x.rtl&&l.css("left","0px"),this.columnsmenu=l[0],y[0].cells[e]=a[0],l[0].style.width=parseInt(x.columnsmenuwidth)+"px",x.columnsmenu),c=!1,u=!1,p=x.groupable&&0<C&&w<C||x.rowdetails&&w<C;if(x.rtl&&(p=x.groupable&&0<C&&w<C||x.rowdetails&&w<C,p&=e>x.columns.records.length-1-C),p?(w++,h&=!1,this.sortable=!1,u=!(this.editable=!1)):(null==(i=null!=this.renderer?this.renderer(this.text,this.align,S):x._rendercolumnheader(this.text,this.align,S,x))&&(i=x._rendercolumnheader(this.text,this.align,S,x)),null!=this.renderer&&(i=re(i)),h&=!0,c=!0),x.WinJS?MSApp.execUnsafeLocalFunction(function(){d.append(re(i))}):this.renderer?d.append(re(i)):i&&(d[0].innerHTML=i),null!=i&&(s=re('<div class="iconscontainer" style="height: '+S+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+x.toTP("jqx-widget-header")+'" style="height: '+S+'px; float: right; display: none; width: 16px;"><div class="'+x.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+x.toTP("jqx-widget-header")+'" style="height: '+S+'px; float: right; display: none; width: 16px;"><div class="'+x.toTP("jqx-grid-column-sortascbutton")+" "+x.toTP("jqx-icon-arrow-up")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+x.toTP("jqx-widget-header")+'" style="height: '+S+'px; float: right; display: none; width: 16px;"><div class="'+x.toTP("jqx-grid-column-sortdescbutton")+" "+x.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div><div class="sorticon '+x.toTP("jqx-widget-header")+'" style="height: '+S+'px; float: right; visibility: hidden; width: 16px;"><div class="'+x.toTP("jqx-grid-column-sorticon")+" "+x.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div></div>'),l.addClass(x.toTP("jqx-widget-header")),d.append(s),e=s.children(),this.sorticon=e[3],this.sortasc=e[1],this.sortdesc=e[2],this.filtericon=e[0],this.iconscontainer=s,x.rtl&&(s.css("margin-left","0px"),s.css("left","0px"),re(this.sorticon).css("float","left"),re(this.sortasc).css("float","left"),re(this.filtericon).css("float","left"),re(this.sortdesc).css("float","left")),!x.autoshowfiltericon&&this.filterable&&re(this.filtericon).css("display","block")),this.element=a[0],h&&(x._handlecolumnsmenu(x,d,a,l,this),this.menu||l.hide()),k.appendChild(a[0]),x.groupable&&c){if(a[0].id=x.dataview.generatekey(),!x._handlecolumnstogroupsdragdrop)throw new Error("jqxGrid: Missing reference to jqxgrid.grouping.js.");x._handlecolumnstogroupsdragdrop(this,a)}x.columnsreorder&&this.draggable&&x._handlecolumnsdragreorder&&x._handlecolumnsdragreorder(this,a);var m,g=this,f=(g._applyStyle(),x.addHandler(a,"mouseenter",function(e){g.hovered=!0,g._applyStyle()}),x.addHandler(a,"mouseleave",function(e){g.hovered=!1,g._applyStyle()}),function(e,t,i){if(e.selectable){var s=x.getrows();if(void 0===e.selected&&(e.selected=!1),t.shiftKey&&void 0!==x._clickedcolumn||(x._clickedcolumn=e),t.shiftKey&&x._clickedcolumn&&void 0===i){var r=x.columns.records.indexOf(x._clickedcolumn),n=x.columns.records.indexOf(e),o=Math.min(r,n),a=Math.max(r,n);x.clearselection();for(var l=o;l<=a;l++)f(x.columns.records[l],t,!0);x._renderrows(this.virtualsizeinfo)}else{i?e.selected=!0:(t.ctrlKey||x.clearselection(),e.selected=!e.selected);for(l=0;l<s.length;l++)x._applycellselection(s[l].boundindex,e.displayfield,e.selected,!1,!1);e.selected?e.element.setAttribute("selected",""):e.element.removeAttribute("selected"),e._applyStyle(),void 0===i&&(x.virtualsizeinfo=x._calculatevirtualheight(),x._renderrows(x.virtualsizeinfo))}}});if(x.addHandler(a,"click",function(e){if(g.checkboxcolumn)return!0;if(0<x.sorttogglestates&&x._togglesort&&!x._loading){if(x.suspendClick)return!0;("many"!==x.sortmode||"many"===x.sortmode&&!x.sortmodekey||"many"===x.sortmode&&"Control"===x.sortmodekey&&e.ctrlKey||"many"===x.sortmode&&"ctrlKey"===x.sortmodekey&&e.ctrlKey)&&x._togglesort(g)}f(g,e),e.preventDefault(),x._raiseEvent(7,{column:g.getcolumnproperties(),datafield:g.datafield,originalEvent:e})}),g.toggleSelection=f,g.resizable&&x.columnsresize&&!u&&(m=!1,p="mousemove",x.isTouchDevice()&&!0!==x.touchmode&&(m=!0,p=re.jqx.mobile.getTouchEventName("touchstart")),x.addHandler(a,p,function(e){var t=parseInt(e.pageX),i=5,s=parseInt(a.coord().left);if(x.hasTransform&&(s=re.jqx.utilities.getOffset(a).left),x.resizing)return!0;if(x._handlecolumnsresize){if(m)return i=40,(t=x.getTouches(e)[0].pageX)>=s+g.width-i?(x.resizablecolumn={columnelement:a,column:g},a.css("cursor","col-resize")):(a.css("cursor",""),x.resizablecolumn=null),!0;e=g.width;if(s+(e=x.rtl?0:e)-i<=t){if(t<=s+e+i)return x.resizablecolumn={columnelement:a,column:g},a.css("cursor","col-resize"),!1;a.css("cursor",""),x.resizablecolumn=null}else a.css("cursor",""),t<s+e-i&&(g._animating||g._menuvisible||a.mouseenter()),x.resizablecolumn=null}})),a.css("left",b),this.hidden&&this.hideable||this.adaptivehidden||(b+=o),g.rendered&&g.rendered(re(d[0].firstChild),g.align,S)&&null!=s&&s.hide(),g.checkboxcolumn){if(s&&s.hide(),!x.host.jqxCheckBox)throw new Error("jqxGrid: Missing reference to jqxcheckbox.js");d.html('<div style="cursor: pointer; margin-left: 3px; top: 50%; margin-top: -9px; position: relative;"></div>');var v=d.find("div:first"),e=(v.jqxCheckBox({rippleEffect:!1,_canFocus:!1,disabled:x.disabled,disabledContainer:!0,theme:x.theme,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0}),v.addClass(x.toThemeProperty("jqx-checkbox")),(g.checkboxelement=v).data().jqxCheckBox.instance);x._checkboxcolumn=g,e.updated=function(e,t,i){x._checkboxcolumnupdating=!0,x.disabled&&(v.jqxCheckBox({disabled:x.disabled}),t=i),t?x.selectallrows():x.unselectallrows(),x._checkboxcolumnupdating=!1}}}),0<b?this.columnsheader.width(2+b):this.columnsheader.width(b),y[0].appendChild(k),this.columnsrow=y,x.columnsheader.append(y),this.showfilterrow&&this._updatefilterrow&&(this.columngroups?y.height(this.columngroupslevel*this.columnsheight):y.height(this.columnsheight),this.filterrow||((o=re("<div style='position: relative !important; '></div>"))[0].id="filterrow."+this.element.id,o.height(this.filterrowheight),this.filterrow=o),this.filterrow.width(2+b),this.columnsheader.append(this.filterrow),this._updatefilterrow()),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition?(this.columngroups?y.height(this.columngroupslevel*this.columnsheight):y.height(this.columnsheight),this.addnewrowtop||((o=re("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>"))[0].id="addnewrowtop."+this.element.id,o.height(this.everpresentrowheight),this.addnewrowtop=o),this.addnewrowtop.width(2+b),"topAboveFilterRow"==this.everpresentrowposition&&this.filterrow?this.addnewrowtop.insertBefore(this.filterrow):this.columnsheader.append(this.addnewrowtop),this._updateaddnewrow()):this.showeverpresentrow&&"bottom"===this.everpresentrowposition&&(this.addnewrowbottom||((o=re("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>"))[0].id="addnewrowbottom."+this.element.id,o.height(this.everpresentrowheight),this.addnewrowbottom=o),this.addnewrowbottom.width(2+b),this.addnewrow.append(this.addnewrowbottom),this._updateaddnewrow()),y[0].style.visibility=0==b?"hidden":"inherit",y.width(b),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsreorder&&this._handlecolumnsreorder(),this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this._handlecolumnsresize&&this._handlecolumnsresize(),this.columngroups&&this._rendercolumngroups(),this._updatecheckboxselection&&this._updatecheckboxselection()},_rendercolumngroups:function(){if(this.columngroups){for(var e=0,t=0;t<this.columns.records.length;t++)this.columns.records[t].pinned&&e++;var i=this.headerZIndex-e+this.columns.records.length,s=this.that,r=s.toTP("jqx-grid-column-header")+" "+s.toTP("jqx-grid-columngroup-header")+" "+s.toTP("jqx-widget-header"),n=(s.rtl&&(r+=" "+s.toTP("jqx-grid-columngroup-header-rtl")),this.columnsheader.find("#columntable"+this.element.id));n.find("jqx-grid-columngroup-header").remove();for(var o=0;o<this.columngroupslevel-1;o++)for(t=0;t<this.columngroups.length;t++){var a,l,d,h,c,u,p=this.columngroups[t],m=p.level;m===o&&(m=m*this.columnsheight,a=99999,p.groups&&(l=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=l(s):s.hidden||(t+=s.width,a=Math.min(parseFloat(s.element.style.left),a))}return t},p.width=l(p),p.left=a,d=this.columnsheight,h=i--,h=re('<div role="columnheader" style="z-index: '+h+';position: absolute;" class="'+r+'"></div>'),c=re(this._rendercolumnheader(p.text,p.align,this.columnsheight,this)),p.renderer&&(c=re("<div style='height: 100%; width: 100%;'></div>"),u=p.renderer(p.text,p.align,d),c.html(u)),h.append(c),h[0].style.left=a+"px",0===a&&(h[0].style.borderLeftColor="transparent"),this.showcolumnheaderlines||(h[0].style.borderRightColor="transparent",h[0].style.borderBottomColor="transparent",h[0].style.boxShadow="none"),h[0].style.top=m+"px",h[0].style.height=d+"px",h[0].style.width=-1+p.width+"px",n.append(h),p.element=h,p.rendered&&p.rendered(c,p.align,d)))}}},_resizecolumngroups:function(){if(this.columngroups)for(var e=0;e<this.columngroups.length;e++){var r,t,i,s=this.columngroups[e],n=s.level*this.columnsheight,o=99999;s.groups&&(s.width=(r=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=r(s):s.hidden||(t+=s.width,o=Math.min(parseFloat(s.element.style.left),o))}return t})(s),s.left=o,t=this.columnsheight,(i=s.element)[0].style.left=o+"px",i[0].style.top=n+"px",i[0].style.height=t+"px",i[0].style.width=-1+s.width+"px")}},_handlecolumnsmenu:function(u,e,n,p,m){u.dragmousedown=null,p[0].id=u.dataview.generatekey(),e.append(p),n[0].columnsmenu=p[0],m.element=n[0];function t(){if(m.menu&&(u.gridmenu||u._initmenu(),!u.disabled)){for(var e=0;e<u.columns.records.length;e++)u.columns.records[e].datafield!=m.datafield&&(u.columns.records[e]._menuvisible=!1);var t=p.coord(!0),i=p.height();if(!g&&(g=!0,f==m.datafield))return u._closemenu();var s=u.host.coord(!0);if(u.hasTransform&&(s=re.jqx.utilities.getOffset(u.host),t=re.jqx.utilities.getOffset(p)),s.left+u.host.width()>parseInt(t.left)+u.gridmenu.width()?u.gridmenu.jqxMenu("open",t.left,t.top+i):u.gridmenu.jqxMenu("open",p.width()+t.left-u.gridmenu.width(),t.top+i),u.gridmenu.width()<100&&u._arrangemenu(),u.adaptive&&u.element.offsetWidth<u.adaptivewidth){u.gridmenu.jqxMenu("close"),u.gridmenu.jqxMenu("open",s.left,t.top+i);for(var r=0,e=0;e<u.columns.records.length;e++){var n=u.columns.records[e];n.hidden||n.adaptivehidden||"adaptive"===n.columntype||(r+=n.adaptivewidth)}u.gridmenu.width(r),u.gridmenu.height(u.content.height())}(!u.filterable||u.filterable&&u.showfilterrow)&&setTimeout(function(){u.gridmenu.focus();for(var e=u.gridmenu.find(".jqx-item"),t=0;t<e.length;t++)e[t].active&&(e[t].active=!1);var i=e[0];0<=e[0].className.indexOf("disabled")&&(i=e[1]),re(e).removeClass("jqx-fill-state-focus"),re(i).addClass("jqx-fill-state-focus"),i.active=!0},225),u._hasOpenedMenu=!0;var o,a,l,s=u._getmenuitembyindex(0),t=u._getmenuitembyindex(1),i=u._getmenuitembyindex(2),d=u._getmenuitembyindex(3),h=u._getmenuitembyindex(4),c=u._getmenuitembyindex(5);null!=s&&null!=t&&null!=i&&(l=m.sortable&&u.sortable,u.gridmenu.jqxMenu("disable",s.id,!l),u.gridmenu.jqxMenu("disable",t.id,!l),u.gridmenu.jqxMenu("disable",i.id,!l),null!=m.displayfield&&(a=(o=u.getsortinformation())&&o.sortcolumns&&o.sortcolumns.find(function(e){return e.dataField===m.displayfield}),u.sortcolumn==m.displayfield||a?(o=u.getsortinformation(),l&&(o.sortdirection.ascending?u.gridmenu.jqxMenu("disable",s.id,!0):u.gridmenu.jqxMenu("disable",t.id,!0))):u.gridmenu.jqxMenu("disable",i.id,!0))),null!=d&&null!=h&&(u.groupable&&m.groupable?u.groups&&-1!=u.groups.indexOf(m.datafield)?(u.gridmenu.jqxMenu("disable",d.id,!0),u.gridmenu.jqxMenu("disable",h.id,!1)):(u.gridmenu.jqxMenu("disable",d.id,!1),u.gridmenu.jqxMenu("disable",h.id,!0)):(u.gridmenu.jqxMenu("disable",h.id,!0),u.gridmenu.jqxMenu("disable",d.id,!0))),null!=c&&(u.menuOwner=m,u._updatefilterpanel(u,c,m),a=0,u.sortable&&u._togglesort&&u.showsortmenuitems&&(a+=3),u.groupable&&u.addgroup&&u.showgroupmenuitems&&(a+=2),l=36*a+6,l=a*u._measureMenuElement()+20,re.jqx.browser.msie&&re.jqx.browser.version<8&&(l+=20,re(c).height(220)),u.isTouchDevice()&&(l+=10),u.filterable&&u.showfiltermenuitems&&(m.filterable?(u.gridmenu.height(l+230),re(c).css("display","block")):(u.gridmenu.height(l),re(c).css("display","none")))),u.columnmenuopening&&!1===u.columnmenuopening(u.gridmenu,m.displayfield,u.gridmenu.height())&&setTimeout(function(){u._closemenu()}),re.data(document.body,"contextmenu"+u.element.id,{column:m,columnsmenu:p[0]})}}var o=this.columnsmenuwidth+1,e="mouseenter",g=(u.isTouchDevice()&&(e="touchstart"),u.addHandler(n,e,function(e){var e=parseInt(e.pageX),t=u.columnsresize&&m.resizable?3:0,i=parseInt(n.coord().left),s=(u.hasTransform&&(i=re.jqx.utilities.getOffset(n).left),m.width);if(u.rtl&&(s=0),0!=t&&i+s-t<=e&&e<=i+s+t)return!1;var r,e=u.vScrollInstance.isScrolling();if(m.menu&&u.autoshowcolumnsmenubutton&&!e&&!u.disabled&&m.menu&&!u.resizing){if(m._menuvisible&&u._hasOpenedMenu)return;m._animating=!0,u.menuitemsarray&&0<u.menuitemsarray.length&&(u.enableanimations?(p.css("display","block"),p.stop(),m.iconscontainer.stop(),u.rtl?(p.css("margin-left",-o),p.animate({"margin-left":"0px"},"fast",function(){p.css("display","block"),m._animating=!1,m._menuvisible=!0})):(p.css("margin-left","0px"),p.animate({"margin-left":-o},"fast",function(){p.css("display","block"),m._animating=!1,m._menuvisible=!0})),r=u.rtl?o:-(32+o),m.iconscontainer.animate({"margin-left":r},"fast")):(p.css("display","block"),r=u.rtl?16:-48,m.iconscontainer.css("margin-left",r+"px"),m._animating=!1,m._menuvisible=!0))}}),u.autoshowcolumnsmenubutton||(p.css("display","block"),e=u.rtl?16:-48,m.iconscontainer.css("margin-left",e+"px"),u.rtl?p.css({"margin-left":"0px"}):p.css({"margin-left":-o})),u.addHandler(n,"mouseleave",function(e){var t,i;u.menuitemsarray&&0<u.menuitemsarray.length&&m.menu&&(null!=(t=re.data(document.body,"contextmenu"+u.element.id))&&p[0].id==t.columnsmenu.id||u.autoshowcolumnsmenubutton&&(u.enableanimations?(u.rtl?p.css("margin-left","0px"):p.css("margin-left",-o),p.stop(),m.iconscontainer.stop(),u.rtl?p.animate({"margin-left":-o},"fast",function(){p.css("display","none"),m._menuvisible=!1}):p.animate({"margin-left":0},"fast",function(){p.css("display","none"),m._menuvisible=!1}),i=u.rtl?0:-32,m.iconscontainer.animate({"margin-left":i},"fast")):(p.css("display","none"),i=u.rtl?0:-32,m.iconscontainer.css("margin-left",i+"px"),m._menuvisible=!1)))}),!0),f="",e=re(m.filtericon);u.addHandler(p,"mousedown",function(e){u.gridmenu||u._initmenu(),g=!re.data(u.gridmenu[0],"contextMenuOpened"+u.gridmenu[0].id),null!=(f=re.data(document.body,"contextmenu"+u.element.id))&&(f=f.column.datafield)}),u.addHandler(e,"mousedown",function(e){u.gridmenu||u._initmenu(),g=!re.data(u.gridmenu[0],"contextMenuOpened"+u.gridmenu[0].id),null!=(f=re.data(document.body,"contextmenu"+u.element.id))&&(f=f.column.datafield)});u.addHandler(e,"click",function(e){return m.menu&&(u.showfilterrow||("block"!=p[0].style.display&&n.trigger("mouseenter"),setTimeout(function(){"block"!=p[0].style.display&&n.trigger("mouseenter"),t()},200))),!1}),u.addHandler(p,"click",function(e){return m.menu&&t(),!1}),u.isTouchDevice()&&u.addHandler(p,re.jqx.mobile.getTouchEventName("touchstart"),function(e){return m.menu&&(u._hasOpenedMenu?u._closemenu():t()),!1})},_removecolumnhandlers:function(e){var t=this.that,i=re(e.element);0<i.length&&(t.removeHandler(i,"mouseenter"),t.removeHandler(i,"mouseleave"),e=re(e.filtericon),t.removeHandler(e,"mousedown"),t.removeHandler(e,"click"),t.removeHandler(i,"click"),t.removeHandler(i,"mousemove"),t.columnsreorder&&(t.removeHandler(i,"mousedown.drag"),t.removeHandler(i,"mousemove.drag")),t.removeHandler(i,"dragstart"),i[0].columnsmenu&&(e=re(i[0].columnsmenu),t.removeHandler(e,"click"),t.removeHandler(e,"mousedown"),t.removeHandler(e,re.jqx.mobile.getTouchEventName("touchstart"))))},_rendercolumnheader:function(e,t,i,s){return s.columngroups?(i/2-this._columnheight/2<0&&0,0):32!=this.columnsheight&&(this.columnsheight/2-this._columnheight/2<0&&0,0),this.enableellipsis?"left"==t?'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 2px; line-height: "+i+'px;"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>":'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 2px; margin-right: 4px; line-height: "+i+'px;"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>":"center"==t||"middle"==t?'<div style="padding-bottom: 2px; text-align: center; line-height: '+i+'px;"><a href="#">'+e+"</a></div>":'<a style="line-height: '+i+"px; float: "+t+';" href="#">'+e+"</a>"},_renderrows:function(e,s,t){function i(){o._loading||(o.WinJS?MSApp.execUnsafeLocalFunction(function(){o._rendervisualrows()}):o._rendervisualrows(),o.virtualmode&&o.showaggregates&&o._updateaggregates&&o.refreshaggregates())}var n,o=this.that,r=((this.pageable||this.groupable)&&(this.autoheight||this.autorowheight)&&null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length<this.dataview.rows.length&&(o.prerenderrequired=!0),this.pageable||!this.autoheight&&!this.autorowheight||!this.virtualmode&&!this.unboundmode||(r=this.source.totalrecords,isNaN(r)||null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length!=r&&(o.prerenderrequired=!0)),!this.autoheight&&!this.autorowheight||o.prerenderrequired||this.table&&this.table[0].rows&&(this.table[0].rows.length<this.dataview.records.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize||!this.pageable)&&(o.prerenderrequired=!0),this.table[0].rows.length<this.dataview.cachedrecords.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize||!this.pageable)&&(o.prerenderrequired=!0)),o._prerenderrows(e),o._requiresupdate&&(o._requiresupdate=!1,o._updatepageviews()),re.jqx.browser.msie&&re.jqx.browser.version<10);if(this.virtualmode){this.loadondemand&&(i(),function(){if(o.rendergridrows){var e=o._startboundindex,t=(e=null==e?0:e)+1+o.dataview.pagesize;if(null!=e&&null!=t){var i=!!o.source._source;if((i?o.source._source:o.source).recordstartindex!=e||1==s){if(i){if(t>=o.source._source.totalrecords&&((e=(t=o.source._source.totalrecords)-o.dataview.pagesize-1)<0&&(e=0),o.source._source.recordendindex==t&&o.source._source.recordstartindex==e))return;o.source._source.recordstartindex=e,o.source._source.recordendindex=t}else o.source.recordstartindex=e,o.source.recordendindex=t;o.updatebounddata("cells")}}}}(),this.loadondemand=!1);var a=null==this._browser?this._isIE10():this._browser;(!this.editable||!this.editcell||this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())&&!this.autoheight&&(a||r||navigator&&-1!=navigator.userAgent.indexOf("Safari"))?(null!=this._scrolltimer&&clearTimeout(this._scrolltimer),this._scrolltimer=setTimeout(function(){i()},5)):i()}else{if("deferred"==this.scrollmode&&(this.hScrollInstance.isScrolling()||this.vScrollInstance.isScrolling()))return null!=this._scrolltimer&&clearInterval(this._scrolltimer),null!=(n=this._getfirstvisualrow())&&((e=this.scrollfeedback?this.scrollfeedback(n.bounddata):function(){if(null==n)return"";var e="<table>",t=o.deferreddatafields;null==t&&0<o.columns.records.length&&(t=new Array).push(o.columns.records[0].displayfield);for(var i=0;i<t.length;i++){var s,r=t[i],r=o._getcolumnbydatafield(r);r&&(s=o._getcellvalue(r,n),""!=r.cellsformat&&re.jqx.dataFormat&&(re.jqx.dataFormat.isDate(s)?s=re.jqx.dataFormat.formatdate(s,r.cellsformat,o.gridlocalization):re.jqx.dataFormat.isNumber(s)&&(s=re.jqx.dataFormat.formatnumber(s,r.cellsformat,o.gridlocalization))),e+="<tr><td>"+s+"</td></tr>")}return e+="</table>"}(n.bounddata))!=this._scrollelementcontent&&(this._scrollelement[0].innerHTML=e,this._scrollelementcontent=e)),this._scrollelement.css("visibility","visible"),this._scrollelementoverlay.css("visibility","visible"),this._scrollelement.css("margin-top",-this._scrollelement.height()/2),void(this._scrolltimer=setInterval(function(){o.hScrollInstance.isScrolling()||o.vScrollInstance.isScrolling()||(i(),o._scrollelement.css("visibility","hidden"),o._scrollelementoverlay.css("visibility","hidden"),clearInterval(o._scrolltimer),n&&o.ensurerowvisible(n.visibleindex))},100));if(navigator&&-1==navigator.userAgent.indexOf("Chrome")&&-1!=navigator.userAgent.indexOf("Safari")&&(this._updatedelay=1),null!=this.touchDevice&&1==this.touchDevice&&(this._updatedelay=5),((a=null==this._browser?this._isIE10():this._browser)||r)&&(this._updatedelay=5),a&&this.hScrollInstance.isScrolling())return void i();re.jqx.browser.mozilla&&0==this._updatedelay&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())&&(this._updatedelay=0),this.isTouchDevice()&&(this._updatedelay=0),null!=this.updatedelay&&(this._updatedelay=this.updatedelay),0==this._updatedelay?i():(null!=(e=this._jqxgridrendertimer)&&clearTimeout(e),this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()?(this._updatedelay?e=setTimeout(function(){i()},this._updatedelay):(e=null,i()),this._jqxgridrendertimer=e):(this._jqxgridrendertimer=e,i()))}o.autorowheight&&!o.autoheight&&0<this._pageviews.length&&((r=this._gettableheight())<(a=this._pageviews[0].height)?(this.pageable&&this.gotopage&&(a=this._pageviews[0].height)<0&&(a=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(a<=r||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),0<a-r?"deferred"!=this.scrollmode&&(e=this.vScrollInstance.max,this.vScrollBar.jqxScrollBar({max:r=a-r}),Math.round(r)!=Math.round(e)&&r<this.vScrollBar.jqxScrollBar("value")&&this.vScrollBar.jqxScrollBar({value:0})):this.vScrollBar.jqxScrollBar({value:0,max:a})):(this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0})),this._arrange(),this.virtualsizeinfo&&(this.virtualsizeinfo.virtualheight=a))},scrolling:function(){return{vertical:this.vScrollInstance.isScrolling(),horizontal:this.hScrollInstance.isScrolling()}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value,i=("hidden"===this.hScrollBar.css("visibility")&&(t=e.value=0),parseInt(t));if(null!=this.table){var s=this.table[0].rows.length,r=this.columnsrow,n=this.groupable&&0<this.groups.length?this.groups.length:0,o=this.columns.records.length-n,a=this.columns.records,l=0==this.dataview.rows.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),l&&!this._haspinned){for(var d=0;d<s;d++)for(var h=this.table[0].rows[d],c=0;c<n+o;c++)null!=(u=h.cells[c])&&a[c].pinned&&(u.style.marginLeft=i+"px",0==d&&(r[0].cells[c].style.marginLeft=i+"px"));this.table[0].style.marginLeft=-i+"px",r[0].style.marginLeft=-i+"px"}else if(this._haspinned||null==this._haspinned){for(d=0;d<s;d++)for(var u,p,m,g,h=this.table[0].rows[d],c=0;c<n+o;c++)null==(u=h.cells[c])||!a[c].pinned||0==i&&""==u.style.marginLeft||(g=m=p=null,this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(g=this.addnewrowtop[0].cells[c]),this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(m=this.filterrow[0].cells[c]),this.showaggregates&&this.statusbar[0].cells&&(p=this.statusbar[0].cells[c]),this.rtl?(u.style.marginLeft=-parseInt(t)+"px",0==d&&(r[0].cells[c].style.marginLeft=-parseInt(t)+"px",p&&(p.style.marginLeft=-parseInt(t)+"px"),m&&(m.style.marginLeft=-parseInt(t)+"px"),g&&(g.style.marginLeft=-parseInt(t)+"px"))):(u.style.marginLeft=i+"px",0==d&&(r[0].cells[c].style.marginLeft=i+"px",p&&(p.style.marginLeft=i+"px"),m&&(m.style.marginLeft=i+"px"),g&&(g.style.marginLeft=i+"px"))));this.table[0].style.marginLeft=-i+"px",r[0].style.marginLeft=-i+"px"}else 0==this._haspinned&&(this.table[0].style.marginLeft=-i+"px",r[0].style.marginLeft=-i+"px");this.showaggregates&&this.statusbar[0].cells&&(e=0,this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")&&(e=2+parseInt(this.hScrollBar.css("left"))),this.statusbar[0].style.marginLeft=-i+e+"px"),this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(this.filterrow[0].style.marginLeft=-i+"px"),this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(this.addnewrowtop[0].style.marginLeft=-i+"px")}},_updaterowdetailsvisibility:function(){if(this.rowdetails)for(var e=0;e<this._rowdetailselementscache.length;e++)re(this._rowdetailselementscache[e]).css("display","none")},_getvisualcolumnsindexes:function(e,t,i,s,r,n,o){var a=this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()||this._keydown;if((this.rowdetails||this.rtl||this.editcell&&a||this.width&&0<=this.width.toString().indexOf("%")&&!a&&!this.editcell||this.exporting)&&!o)return{start:0,end:i+s};var l=0,d=-1,h=i+s,c=!1;if(this.autorowheight)return{start:0,end:i+s};if(!r)for(var u=0;u<i+s;u++)if(c||this.columns.records[u].pinned&&n&&(c=!0),this.columns.records[u].hidden||this.columns.records[u].adaptivehidden||(l+=this.columns.records[u].width),e<=l&&-1==d&&(d=u),t+e<l){h=u;break}return{start:d=-1!=d&&!c?d:0,end:h=i+s<++h?i+s:h}},_getvirtualcolumnsindexes:function(e,t,i,s,r){var n=this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()||this._keydown;if(this.enableoptimization&&(this.rowdetails||this.rtl||this.editcell&&n||this.width&&0<=this.width.toString().indexOf("%")&&!n&&!this.editcell||this.exporting))return{start:0,end:i+s};if(this.rtl||this.editcell||this.exporting)return{start:0,end:i+s};var o=0,a=-1,l=i+s;if(this.autorowheight)return{start:0,end:i+s};if(!r)for(var d=0;d<i+s;d++)if(this.columns.records[d].hidden||this.columns.records[d].adaptivehidden||(o+=this.columns.records[d].width),e<=o&&-1==a&&(a=d),t+e<o){l=d;break}return{start:a=-1==a?0:a,end:l=i+s<++l?i+s:l}},_getfirstvisualrow:function(){var e=this.vScrollInstance.value,e=parseInt(e);if(0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"visible"!=this.vScrollBar[0].style.visibility&&(e=0),!this.pageable){var t=this._findvisiblerow(e,this._pageviews);if(-1==t)return null;t!=this.dataview.pagenum?(this.dataview.pagenum=t,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}t=this._findvisiblerow(e,this._pagescache[this.dataview.pagenum]),e=this._pagescache[this.dataview.pagenum];if(e&&e[0])return e[t]},_rendervisualrows:function(){if(this.virtualsizeinfo){var e=this.vScrollInstance,t=this.hScrollInstance,i=e.value,s=t.value,r=parseInt(i),n=parseInt(s),o=this._gettableheight(),z=null!=this._hostwidth?this._hostwidth:this.host.width(),E=("visible"==this.hScrollBar[0].style.visibility&&(o+=29),"deferred"==this.scrollmode&&0!=this._newmax&&r>this._newmax&&null!=this._newmax&&(r=this._newmax),e.isScrolling()||t.isScrolling()||this._keydown),a=this.groupable&&0<this.groups.length,l=(this.visiblerows=new Array,this.hittestinfo=new Array,this.editcell&&null==this.editrow&&this._hidecelleditor(!1),null!=this.editrow&&this._hideeditors(),this.virtualmode&&!this.pageable&&(this._pagescache=new Array),0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"hidden"==this.vScrollBar[0].style.visibility&&(r=0),this.pageable||(-1==(i=this._findvisiblerow(r,this._pageviews))&&(this._clearvisualrows(),this._renderemptyrow(),this._updaterowdetailsvisibility()),i!=this.dataview.pagenum?(this.dataview.pagenum=i,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()),this.groupable&&0<this.groups.length?this.groups.length:0);if(this.columns.records){var d=this.columns.records.length-l,s=this._findvisiblerow(r,this._pagescache[this.dataview.pagenum]),h=this._pagescache[this.dataview.pagenum],c=s,L=(c<0&&(c=0),0),u=0,N=0,O=0,p=this.virtualsizeinfo.visiblerecords,R=this.groupable?this.groups.length:0,m=this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item"),g=(this.rtl&&(m+=" "+this.toTP("jqx-grid-cell-rtl")),(this.autoheight||this.autorowheight)&&this.pageable&&(!this.groupable||this.groupable&&0===this.groups.length)&&(p=this.dataview.pagesize),a&&(m=" "+this.toTP("jqx-grid-group-cell")),this.isTouchDevice()&&(m+=" "+this.toTP("jqx-touch")),this.autorowheight&&(m+=" jqx-grid-cell-wrap"),this.rowsheight),F=(this.cardview&&(g=this.cardheight),this._rendercell),t=this._getvisualcolumnsindexes(n,z,l,d,a,!0),f=t.start,v=t.end,i=this._getvirtualcolumnsindexes(n,z,l,d,a),W=i.start,V=i.end;re.jqx.browser.msie&&re.jqx.browser.version;if((this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews[0]&&(this._oldpageviewheight=this._pageviews[0].height),0<=(c=this.autorowheight?0:c)){this._updaterowdetailsvisibility(),this._startboundindex=null!=h?h[c].bounddata.boundindex:0,this._startvisibleindex=null!=h?h[c].bounddata.visibleindex:0;var G=this.table[0].rows;if(10<this.columns.records.length&&this.enablecolumnsvirtualization){function x(e){return!(!e||!e.parentNode||"#document-fragment"==e.parentNode.nodeName)}for(var y=0;y<G.length;y++){(M=G[y]).className="";for(var w=0;w<W;w++){var b=w;this.columns.records[b].pinned||null!=this.columns.records[b].datafield&&(x(D=M.cells[b])&&D.parentNode.removeChild(D),_=this.columns.records[b].element,this.columns.records[b]._rendered=!1,x(_)&&this.columnsrow[0].removeChild(_),this.filterrow&&x(this.filterrow[0].cells[b])&&this.columns.records[b].filterable&&this.filterrow[0].cells[b].parentNode.removeChild(this.filterrow[0].cells[b]))}for(w=V;w<this.columns.records.length;w++){b=w;this.columns.records[b].pinned||null!=this.columns.records[b].datafield&&(x(D=M.cells[b])&&D.parentNode.removeChild(D),_=this.columns.records[b].element,this.columns.records[b]._rendered=!1,x(_)&&this.columnsrow[0].removeChild(_),this.filterrow&&x(this.filterrow[0].cells[b])&&this.columns.records[b].filterable&&this.filterrow[0].cells[b].parentNode.removeChild(this.filterrow[0].cells[b]))}for(w=W;w<V;w++){var b=w,_=(x(D=M.cells[b])||M.appendChild(D),this.columns.records[b].element);this.columns.records[b]._rendered=!0,_.selectable&&(D.removeAttribute("selected"),_.selected&&D.setAttribute("selected","")),x(_)||this.columnsrow[0].appendChild(_),this.filterrow&&this.showfilterrow&&!x(this.filterrow[0].cells[b])&&this.columns.records[b].filterable&&this.filterrow[0].firstChild.appendChild(this.filterrow[0].cells[b])}}}if(this.cardview)for(y=0;y<this.table[0].rows.length;y++)(M=this.table[0].rows[y]).innerHTML="";for(var q=0;q<p&&u<p;q+=1){var j,U,T=null!=h?h[c+q]:null;if(null==(T=this.virtualmode&&q>=this.source.totalrecords?null:T)){if(c=-q,this._pagescache[this.dataview.pagenum+1])h=this._pagescache[this.dataview.pagenum+1],this.dataview.pagenum++;else{var Y=this._pageviews.length;do{if(!(this.dataview.pagenum<this._pageviews.length-1)){h=void 0;break}}while(this.dataview.pagenum++,h=void 0,0<this._pageviews[this.dataview.pagenum].height&&(this.dataview.updateview(),this._loadrows(),h=this._pagescache[this.dataview.pagenum]),null==h&&this.dataview.pagenum<Y)}null!=h&&(T=h[c+q])}if(null!=T){if(T.hidden)continue;if(this._endboundindex=this._startboundindex+q,this._endvisibleindex=this._startvisibleindex+q,0==q&&(j=Math.abs(r-T.top),this.table[0].style.top=-j+"px",U=this.table,re.jqx.browser.chrome&&(this._chromeTimer&&clearTimeout(this._chromeTimer),this._chromeTimer=setTimeout(function(){U[0].style.top=.01-j+"px"},50)),O=-j),!(M=this.table[0].rows[u]))continue;parseInt(M.style.height)!=T.height&&(M.style.height=parseInt(T.height)+"px"),M.setAttribute("row-id",T.bounddata.uid),N+=T.height;for(var C=this.rowdetails&&T.rowdetails,S=!T.rowdetailshidden,K=(C&&S&&(M.style.height=parseInt(T.height-T.rowdetailsheight)+"px",p++),this._isrowselected(!0,T)),w=f;w<v;w++){b=w;this._rendervisualcell(F,m,K,C,S,a,R,M,T,b,u,E)}if(null!=T.group&&this._rendergroup&&this._rendergroup(R,M,T,l,d,u,z),this.autorowheight&&(this.autoheight||this.pageable)){for(g=this.rowsheight,w=f;w<v;w++)this.editable&&this.editcell&&this.editcell.column==this.columns.records[w].datafield&&this.editcell.row==this.getboundindex(T)&&this.editcell.editor?g=Math.max(g,this.editcell.editor.height()):M.cells[w].firstChild&&(g=Math.max(g,8+parseInt(M.cells[w].firstChild.offsetHeight)));M.style.height=parseInt(g)+"px",this.heights[this._startboundindex+q]=g,C&&S&&(g+=T.rowdetailsheight),T.height=g}if(this.cardview){for(var X='<div class="jqx-grid-card-row"',$=M.innerHTML="",Z=(X+='style="grid-template-columns: ',100/this.cardsize+"%"),J=c,Q=0;Q<this.cardsize;Q++)if(T=null!=h?h[J*this.cardsize+q*this.cardsize+Q]:T){X+=Z+" ";var k='<div id="'+T.bounddata.uid+'" class="jqx-grid-card-cell">';k+="<table>";for(w=f;w<v;w++){var I,ee,D,te,b=w,P=null;(H=this.columns.records[b]).hidden&&void 0===H.__hidden||(I=this._getcellvalue(H,T),""!=H.cellsformat&&re.jqx.dataFormat&&(re.jqx.dataFormat.isDate(I)?I=re.jqx.dataFormat.formatdate(I,H.cellsformat,this.gridlocalization):re.jqx.dataFormat.isNumber(I)&&(I=re.jqx.dataFormat.formatnumber(I,H.cellsformat,this.gridlocalization))),null!=H.cellsrenderer&&null!=(ee=H.cellsrenderer(this.getboundindex(T),H.datafield,I,null,H.getcolumnproperties(),T.bounddata))&&(I=ee),D=M.cells[b],te=this.editable&&H.editable?'<span row="'+T.bounddata.uid+'"  class="jqx-icon-edit"></span>':"",k=(k+='<tr class="jqx-grid-card-table-row">')+'<td class="jqx-grid-card-cell-label"><div>'+H.text+"</div></td>",""!=H.cellclassname&&H.cellclassname?k+='<td class="jqx-grid-card-cell-value '+H.cellclassname+'"><div>'+I+"</div></td>":k+='<td class="jqx-grid-card-cell-value"><div>'+I+"</div></td>",k+="</tr>")}$+=k=(k+="</table>")+te+"</div>"}X+=';">'+$+"</div>",M.innerHTML+=X,u++;continue}if(this.visiblerows[this.visiblerows.length]=T,this.hittestinfo[this.hittestinfo.length]={row:T,visualrow:M,details:!1},C&&S&&(u++,M=this.table[0].rows[u],this._renderrowdetails(m,M,T,l,d,u),this.visiblerows[this.visiblerows.length]=T,this.hittestinfo[this.hittestinfo.length]={row:T,visualrow:M,details:!0}),!this.autorowheight&&o<=N+O)break}else this._clearvisualrow(n,a,u,l,d),N+L+O<=o&&(L+=g);u++}this._horizontalvalue=n,0<L&&"visible"==this.vScrollBar[0].style.visibility&&(parseInt(this.table.css("top")),s=this._pageviews[this._pageviews.length-1],t=e.max,i=s.top+s.height-o,"visible"==this.hScrollBar.css("visibility")&&(i+=this.scrollbarsize+22),t==i||this.autorowheight||0<=i&&("deferred"!=this.scrollmode?(e.max=i,e.setPosition(e.max)):this._newmax!=i&&(this._newmax=i,this._rendervisualrows())))}if((this.autoheight||this.pageable)&&this.autorowheight){this._pagescache=new Array;for(var ie=0,se=0,y=0;y<this.visiblerows.length;y++){var A=this.visiblerows[y],C=(A.top=ie,ie+=A.height,se+=A.height,this.rowdetails&&A.rowdetails),S=!A.rowdetailshidden,M=this.table[0].rows[y];C&&S&&y++;for(var H,B,w=f;w<v;w++)(H=this.columns.records[w]).hidden||H.adaptivehidden||H.cellsrenderer||(B=0,(P=M.cells[w]).firstChild?(B=(A.height-parseInt(P.firstChild.offsetHeight)-8)/2,C&&S&&(B=(A.height-A.rowdetailsheight-re(P.firstChild).height()-8)/2)):B=(A.height-parseInt(re(P).height())-8)/2,0<=B&&(B=parseInt(B)+4,!P.firstChild||-1!=P.firstChild.className.indexOf("jqx-grid-groups-row")||"checkbox"==H.columntype||"button"==H.columntype||this.editable&&this.editcell&&this.editcell.column==H.datafield&&this.editcell.row==this.getboundindex(A)||(P.firstChild.style.marginTop=B+"px")))}this._pageviews[0]&&(this._pageviews[0].height=se),this._arrange()}this._renderemptyrow(),this.toCompile&&0<this.toCompile.length&&re.each(this.toCompile,function(e,t){return!!this.compiled||(!(i=this.cell)||(re.jqx.angularCompile&&re.jqx.angularCompile(i,"<div>"+this.value+"</div>"),void(this.compiled=!0)));var i})}}},_hideemptyrow:function(){if(this.showemptyrow&&this.table&&this.table[0].rows){var e=this.table[0].rows[0];if(e)for(var t=!1,i=0;i<e.cells.length;i++){var s=re(e.cells[i]);"none"==s.css("display")||t||s.width()!=this.host.width()&&s.text()!=this.gridlocalization.emptydatastring||(s[0].checkbox=null,t=!(s[0].button=null),s[0].innerHTML="")}}},_renderemptyrow:function(){if(!this._loading&&0==this.dataview.records.length&&this.showemptyrow){var e=!1,t=this.toTP("jqx-grid-cell");if(this.table&&0<this.table.length&&this.table[0].rows&&0<this.table[0].rows.length){var i=this.table[0].rows[0];this.table[0].style.top="0px";for(var s=0;s<i.cells.length;s++){var r,n,o=re(i.cells[s]);"none"==o.css("display")||e||(o[0].checkbox=null,o[0].button=null,o[0].className=t,e=!0,o[0].innerHTML="",(r=re("<span style='white-space: nowrap; float: left; margin-left: 50%; position: relative;'></span>")).text(this.gridlocalization.emptydatastring),o.append(r),n=0,this.oldhscroll||(n=parseInt(this.table[0].style.marginLeft),this.rtl&&(o.css("z-index",999),o.css("overflow","visible"))),r.css("left",-n-r.width()/2),r.css("top",this._gettableheight()/2-r.height()/2),re.jqx.browser.msie&&re.jqx.browser.version<8&&(r.css("margin-left","0px"),r.css("left",this.host.width()/2-r.width()/2)),n=Math.abs(parseInt(this.table[0].style.top)),isNaN(n)&&(n=0),re(i).height(this._gettableheight()+n),o.css("margin-left","0px"),o.width(this.host.width()),this.table.width()<this.host.width()&&this.table.width(this.host.width())),o.addClass(this.toThemeProperty("jqx-grid-empty-cell"))}}}},_clearvisualrows:function(){var e=this.virtualsizeinfo.visiblerecords,t=this.hScrollInstance.value,i=parseInt(t),s=this.groupable&&0<this.groups.length;if(this.columns.records)for(var r=0;r<e;r++)this._clearvisualrow(i,s,r,0,this.columns.records.length)},_iscellselected:function(e,t,i){var s=!1,r=0;if(this.virtualmode&&this.pageable&&this.groupable&&0<this.groups.length&&(r=this.dataview.pagesize*this.dataview.pagenum),0<this.groups.length&&this.pageable&&this.groupable){var n=this.getrowboundindexbyid(t.bounddata.uid);if(-1==n)return!1;for(o in this.selectedcells)o==n+"_"+i&&(s=!0);return s}if(e&&null!=t.bounddata)if("singlerow"!=this.selectionmode){if(0<this.dataview.filters.length)if(this.virtualmode||null==t.bounddata.dataindex)for(var o in this.selectedcells)o==r+t.bounddata.boundindex+"_"+i&&(s=!0);else for(var o in this.selectedcells)o==r+t.bounddata.dataindex+"_"+i&&(s=!0);else for(var o in this.selectedcells)if(o==r+t.bounddata.boundindex+"_"+i){s=!0;break}}else if(0<this.dataview.filters.length){if(this.virtualmode||null==t.bounddata.dataindex){for(var o in this.selectedcells)if(o==r+t.bounddata.boundindex+"_"+i){s=!0;break}}else for(var o in this.selectedcells)if(o==r+t.bounddata.dataindex+"_"+i){s=!0;break}}else for(var o in this.selectedcells)if(o==r+t.bounddata.boundindex==this.selectedrowindex){s=!0;break}return s},_isrowselected:function(e,t){var i,s=!1,r=0;return this.virtualmode&&this.pageable&&this.groupable&&0<this.groups.length&&(r=this.dataview.pagesize*this.dataview.pagenum),this.groupable&&0<this.groups.length&&this.pageable?null!=(i=this.getrowboundindexbyid(t.bounddata.uid))&&-1!=i&&((s=-1!=this.selectedrowindexes.indexOf(i)||s)||i==this.selectedrowindex&&-1!=this.selectedrowindex):(e&&null!=t.bounddata&&("singlerow"!=this.selectionmode?!(0<this.dataview.filters.length)||this.virtualmode||null==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(r+t.bounddata.boundindex)&&(s=!0):-1!=this.selectedrowindexes.indexOf(r+t.bounddata.dataindex)&&(s=!0):0<this.dataview.filters.length?this.virtualmode||null==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(r+t.bounddata.boundindex)&&(s=!0):-1!=this.selectedrowindexes.indexOf(r+t.bounddata.dataindex)&&(s=!0):r+t.bounddata.boundindex==this.selectedrowindex&&(s=!0)),s)},_rendervisualcell:function(e,t,i,s,r,n,o,a,l,d,h,c){var u=this.columns.records[d];if(u.hidden||u.adaptivehidden)(v=a.cells[d]).innerHTML="";else{var p,m,g,f=this._getcellvalue(u,l),v=a.cells[d],x=(-1!=this.selectionmode.indexOf("cell")&&(i=0<this.dataview.filters.length?!!this.selectedcells[l.bounddata.dataindex+"_"+u.datafield]:!!this.selectedcells[l.boundindex+"_"+u.datafield],this.editcell&&this.editcell.row===l.boundindex&&this.editcell.column===u.datafield&&"checkbox"!==u.columntype&&(i=!1),(this.virtualmode||this.groupable&&0<this.groups.length&&this.pageable)&&(i=this._iscellselected(!0,l,u.datafield))),""!=u.cellclassname&&u.cellclassname&&("string"==typeof u.cellclassname?t+=" "+u.cellclassname:(this._columnClassNameCache||(this._columnClassNameCache=[]),p=this.getboundindex(l),void 0!==this._columnClassNameCache[p+"_"+u.datafield+"_"+f]&&this.enableoptimization?(_=this._columnClassNameCache[p+"_"+u.datafield+"_"+f])&&(t+=" "+_):((_=u.cellclassname(p,u.datafield,f,l.bounddata))&&(t+=" "+_),this._columnClassNameCache[p+"_"+u.datafield+"_"+f]=_))),this.showsortcolumnbackground&&this.sortcolumn&&u.displayfield==this.sortcolumn);if("many"===this.sortmode&&this.showsortcolumnbackground)for(var y=this.getsortcolumns(),w=0;w<y.length;w++)u.displayfield===y[w].dataField&&(x=!0);x&&(t+=" "+this.toTP("jqx-grid-cell-sort")),u.filter&&this.showfiltercolumnbackground&&(t+=" "+this.toTP("jqx-grid-cell-filter")),l.bounddata.totalsrow&&(t+=" "+this.toTP("jqx-grid-cell-pinned")),!(u.pinned&&this.showpinnedcolumnbackground||u.grouped)||n&&l.bounddata.totalsrow||(t+=" "+this.toTP("jqx-grid-cell-pinned")),!this.altrows||null!=l.group||(p=l.visibleindex)>=this.altstart&&(this.altstart+p)%(1+this.altstep)==0&&(t+=x?" "+this.toTP("jqx-grid-cell-sort-alt"):" "+this.toTP("jqx-grid-cell-alt"),u.filter&&this.showfiltercolumnbackground&&(t+=" "+this.toTP("jqx-grid-cell-filter-alt")),u.pinned&&this.showpinnedcolumnbackground&&(t+=" "+this.toTP("jqx-grid-cell-pinned-alt"))),this.batcheditable&&void 0!==l.bounddata["_temp"+u.datafield]&&(t+=" "+this.toTP("jqx-grid-cell-batch")),d<=o?(n||this.rowdetails||this.pageable&&this.virtualmode)&&(m=re(v),g=this.columns.records[d].width,v.style.width!=parseInt(g)+"px"&&m.width(g)):(n||this.rowdetails)&&this._hiddencolumns&&(m=re(v),g=this.columns.records[d].width,parseInt(v.style.width)!=g&&m.width(g));var b,_=!0;if(this.rowdetails&&s)if(r&&!n?t+=" "+this.toTP("jqx-grid-details-cell"):n&&(t+=" "+this.toTP("jqx-grid-group-details-cell")),this.showrowdetailscolumn)if(this.rtl){if(null==l.group&&d==a.cells.length-o-1)return b=this.toThemeProperty("jqx-icon-arrow-down"),t=r?t+(" "+this.toTP("jqx-grid-group-expand-rtl"))+" "+b:(t+=" "+this.toTP("jqx-grid-group-collapse-rtl"))+" "+(b=this.toThemeProperty("jqx-icon-arrow-left")),_=!1,v.title="",v.innerHTML="",void(v.className!=t&&(v.className=t))}else if(null==l.group&&d==o&&!l.bounddata.totalsrow)return b=this.toThemeProperty("jqx-icon-arrow-down"),t=r?t+(" "+this.toTP("jqx-grid-group-expand"))+" "+b:(t+=" "+this.toTP("jqx-grid-group-collapse"))+" "+(b=this.toThemeProperty("jqx-icon-arrow-right")),_=!1,v.title="",v.innerHTML="",void(v.className!=t&&(v.className=t));if(i&&_&&o<=d&&(t=(t+=" "+this.toTP("jqx-grid-cell-selected"))+" "+this.toTP("jqx-fill-state-pressed")),v.className!=t&&(v.className=t),u._applyCellStyle(v),null!=l.group)return v.title=f="",void(v.innerHTML="");e(this,u,l,f,v,c)}},_rendercell:function(e,t,i,s,r,n){var o=s+"_"+t.visibleindex;if("number"!=t.columntype&&null==t.cellsrenderer||(o=i.uniqueid+"_"+t.visibleindex),"number"==t.columntype&&(s=i.visibleindex),"adaptive"===t.columntype&&(s="..."),t._applyCellStyle(r),e.showrowlines?r.style.borderBottomColor="":r.style.borderBottomColor="transparent",e.showcolumnheaderlines?(t.element.style.borderRightColor="",t.element.style.boxShadow=""):(t.element.style.borderRightColor="transparent",t.element.style.boxShadow="none"),e.showcolumnlines?r.style.borderRightColor="":r.style.borderRightColor="transparent",e.editcell&&null==e.editrow)if("selectedrow"==e.editmode&&t.editable&&e.editable){if(e.editcell.row==e.getboundindex(i)&&e._showcelleditor)return e.hScrollInstance.isScrolling()||e.vScrollInstance.isScrolling()?e._showcelleditor(e.editcell.row,t,r,!1,!1):e._showcelleditor(e.editcell.row,t,r,e.editcell.init),void(r.className+=" "+e.toTP("jqx-grid-cell-edit"))}else if(e.editcell.row==e.getboundindex(i)&&e.editcell.column==t.datafield&&(e.editcell.element=r,e.editcell.editing&&e._showcelleditor))return e.hScrollInstance.isScrolling()||e.vScrollInstance.isScrolling()?e._showcelleditor(e.editcell.row,t,e.editcell.element,e.editcell.init,!1):e._showcelleditor(e.editcell.row,t,e.editcell.element,e.editcell.init),void(r.className+=" "+e.toTP("jqx-grid-cell-edit"));var a=e._defaultcellsrenderer(s,t),l=e._cellscache[o];if(l){if("checkbox"==t.columntype){if(e.host.jqxCheckBox)return""===s&&(s=null),d=0==r.innerHTML.toString().length,!r.checkbox||e.groupable||d?e._rendercheckboxcell(e,r,t,i,s):(r.checkboxrow=e.getboundindex(i),null!=(s="false"==(s="true"==(s=0==(s=1==(s="0"==(s="1"==(s=""==s?!1:s)?!0:s)?!1:s)?!0:s)?!1:s)?!0:s)?!1:s)||t.threestatecheckbox||(s=!1),t.checkboxcolumn&&(s=!1,0<e.dataview.filters.length&&!e.virtualmode&&null!=i.bounddata.dataindex?-1!=e.selectedrowindexes.indexOf(i.bounddata.dataindex)&&(s=!0):-1!=e.selectedrowindexes.indexOf(i.bounddata.boundindex)&&(s=!0)),e.disabled||(r.checkboxinstance?r.checkboxinstance._setState(s):r.checkbox.jqxCheckBox("_setState",s))),void(null!=t.cellsrenderer&&null!=(d=t.cellsrenderer(e.getboundindex(i),t.datafield,s,a,t.getcolumnproperties(),i.bounddata))&&(r.innerHTML=d))}else if("button"==t.columntype){if(e.host.jqxButton)return""==s&&(s=!1),null!=t.cellsrenderer&&(s=t.cellsrenderer(e.getboundindex(i),t.datafield,s,a,t.getcolumnproperties(),i.bounddata)),""==r.innerHTML&&(r.buttonrow=e.getboundindex(i),r.button=null,e._renderbuttoncell(e,r,t,i,s)),void(r.button&&!e.groupable?(r.buttonrow=e.getboundindex(i),r.button.val(s)):e._renderbuttoncell(e,r,t,i,s))}else if(("progressbar"==t.columntype||"rating"===t.columntype)&&e.host.jqxButton)return""==s&&(s=!1),null!=t.cellsrenderer&&(s=t.cellsrenderer(e.getboundindex(i),t.datafield,s,a,t.getcolumnproperties(),i.bounddata)),""==r.innerHTML&&(r.progressrow=e.getboundindex(i),r.progress=null,e._renderprogresscell(e,r,t,i,s)),r.progress&&!e.groupable?(r.progressrow=e.getboundindex(i),r.progress.val(s)):e._renderprogresscell(e,r,t,i,s),void(e.enabletooltips&&t.enabletooltips&&(r.title=""+s));if(t.createwidget){if(""==r.innerHTML&&(r.widgetrow=e.getboundindex(i),r.widget=null,t.widget=null,e._renderwidgetcell(e,r,t,i,s)),r.widget&&!e.groupable){if(r.widgetrow=e.getboundindex(i),!t.initwidget)throw new Error("jqxGrid: 'initwidget' column function is not implemented. Please, implement 'initwidget'");t.initwidget(e.getboundindex(i),t.datafield,s,r.firstChild)}else e._renderwidgetcell(e,r,t,i,s);return}var d=l.element;return null!=t.cellsrenderer||r.childNodes&&0==r.childNodes.length||e.groupable||e.rowdetails?r.innerHTML!=d&&(r.innerHTML=d):0<=r.innerHTML.indexOf("editor")?r.innerHTML=d:n?(h=d.indexOf(">"),c=d.indexOf("</"),u=d.substring(h+1,c),p=r.childNodes[0],0<=u.indexOf(">")?r.innerHTML=d:p.childNodes[0]?"#text"!==p.childNodes[0].nodeName?r.innerHTML=d:u!=p.childNodes[0].nodeValue&&(0<=u.indexOf("&")?r.innerHTML=d:p.childNodes[0].nodeValue=u):(m=document.createTextNode(u),p.appendChild(m))):r.innerHTML!=d&&(r.innerHTML=d),void(e.enabletooltips&&t.enabletooltips&&(r.title=l.title))}if("checkbox"==t.columntype)return e._rendercheckboxcell(e,r,t,i,s),e._cellscache[o]={element:"",title:s},void(e.enabletooltips&&t.enabletooltips&&(r.title=""+s));if("button"==t.columntype)return null!=t.cellsrenderer&&(s=t.cellsrenderer(e.getboundindex(i),t.datafield,s,a,t.getcolumnproperties(),i.bounddata)),e._renderbuttoncell(e,r,t,i,s),e._cellscache[o]={element:"",title:s},void(e.enabletooltips&&t.enabletooltips&&(r.title=""+s));if("progressbar"==t.columntype||"rating"===t.columntype)return null!=t.cellsrenderer&&(s=t.cellsrenderer(e.getboundindex(i),t.datafield,s,a,t.getcolumnproperties(),i.bounddata)),e._renderprogresscell(e,r,t,i,s),e._cellscache[o]={element:"",title:s},void(e.enabletooltips&&t.enabletooltips&&(r.title=""+s));if("number"==t.columntype&&(s=i.visibleindex),t.createwidget)return null!=t.cellsrenderer&&(s=t.cellsrenderer(e.getboundindex(i),t.datafield,s,a,t.getcolumnproperties(),i.bounddata)),e._renderwidgetcell(e,r,t,i,s),e._cellscache[o]={element:"",title:s},void(e.enabletooltips&&t.enabletooltips&&(r.title=s));d=null;if(null!=t.cellsrenderer){e._columnCellsRenderCache||(e._columnCellsRenderCache=[]);n=e.getboundindex(i);if(void 0!==e._columnCellsRenderCache[n+"_"+t.datafield+"_"+s]&&e.enableoptimization?d=e._columnCellsRenderCache[n+"_"+t.datafield+"_"+s]:(d=t.cellsrenderer(e.getboundindex(i),t.datafield,s,a,t.getcolumnproperties(),i.bounddata),e._columnCellsRenderCache[n+"_"+t.datafield+"_"+s]=d),d&&(0<=d.indexOf("<jqx-")||0<=d.indexOf(" ng-")))return void(e.toCompile&&e.toCompile.push({cell:r,value:d,row:e.getboundindex(i)}))}else d=a;null==d&&(d=a);var h,c,u,p,m,l=s;return e.enabletooltips&&t.enabletooltips&&(""!=t.cellsformat&&re.jqx.dataFormat&&(re.jqx.dataFormat.isDate(s)?l=re.jqx.dataFormat.formatdate(l,t.cellsformat,e.gridlocalization):re.jqx.dataFormat.isNumber(s)&&(l=re.jqx.dataFormat.formatnumber(l,t.cellsformat,e.gridlocalization))),r.title=l),e.WinJS?re(r).html(d):0<=(n=r.innerHTML).indexOf("editor")||null!=t.cellsrenderer||e.groupable||e.virtualmode?r.innerHTML=d:0<n.length?(h=d.indexOf(">"),c=d.indexOf("</"),u=d.substring(h+1,c),p=r.childNodes[0],0<=u.indexOf(">")?r.innerHTML=d:p.childNodes[0]?u!=p.childNodes[0].nodeValue&&(0<=u.indexOf("&")||0<=n.indexOf("span")||0<=n.indexOf("img")?r.innerHTML=d:p.childNodes[0].nodeValue=u):(m=document.createTextNode(u),p.appendChild(m))):n!=d&&(r.innerHTML=d),e._cellscache[o]={element:r.innerHTML,title:l},!0},_isIE10:function(){var e;return null==this._browser&&("msie"==(e=re.jqx.utilities.getBrowser()).browser&&9<parseInt(e.version)?this._browser=!0:(this._browser=!1,"msie"==e.browser&&(e="Browser CodeName: "+navigator.appCodeName,-1!=(e=(e=(e=(e+="Browser Name: "+navigator.appName)+("Browser Version: "+navigator.appVersion))+("Platform: "+navigator.platform))+("User-agent header: "+navigator.userAgent)).indexOf("Zune 4.7")&&(this._browser=!0)))),this._browser},_renderinlinecell:function(e,t,i,s,r){re(t);t.innerHTML='<div style="position: absolute;"></div>'},_rendercheckboxcell:function(l,d,h,e,t){var i,s;l.host.jqxCheckBox&&(i=re(d),"false"==(t="true"==(t=0==(t=1==(t="0"==(t="1"==(t=null!==(t=""===t?!!h.threestatecheckbox&&null:t)||h.threestatecheckbox?t:!1)?!0:t)?!1:t)?!0:t)?!1:t)?!0:t)&&(t=!1),h.checkboxcolumn&&(t=!1,s=this.getboundindex(e),-1!=this.selectedrowindexes.indexOf(s)&&(t=!0)),0==i.find(".jqx-checkbox").length?(d.innerHTML='<div style="position: absolute; top: 50%; left: 50%; margin-top: -9px; margin-left: -12px;"></div>',re(d.firstChild).jqxCheckBox({rippleEffect:!1,disabled:l.disabled,_canFocus:!1,hasInput:!1,hasThreeStates:h.threestatecheckbox,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,locked:!0,theme:l.theme,checked:t}),this.enabletooltips&&h.enabletooltips&&(d.title=""+t),this.editable&&h.editable&&re(d.firstChild).jqxCheckBox({locked:!1}),h.checkboxcolumn&&re(d.firstChild).jqxCheckBox({locked:!1}),d.checkbox=re(d.firstChild),d.checkboxinstance=d.checkbox.data().jqxCheckBox.instance,d.checkboxrow=this.getboundindex(e),re.data(d.firstChild,"jqxCheckBox").instance.updated=function(e,t,i){if(l.disabled){t=i;for(var s=l.table[0].rows.length,r=l._getcolumnindex(h.datafield),n=0;n<s;n++)(a=l.table[0].rows[n].cells[r].firstChild)&&re(a).jqxCheckBox({disabled:l.disabled})}if(h.editable&&!l.disabled){var o,s=l.table[0].rows.length,r=l._getcolumnindex(h.datafield);if(void 0!==l.editrow&&void 0===l.editcell[h.datafield]&&(l.editcell[h.datafield]=i),h.cellbeginedit)if(0==h.cellbeginedit(d.checkboxrow,h.datafield,h.columntype,!t))return void l.setcellvalue(d.checkboxrow,h.datafield,!t,!0);if(!h.cellvaluechanging||null!=(o=h.cellvaluechanging(d.checkboxrow,h.datafield,h.columntype,i,t))&&(t=o),"selectedrow"!==l.editmode)for(var a,n=0;n<s;n++)(a=l.table[0].rows[n].cells[r].firstChild)&&re(a).jqxCheckBox("destroy");l.editcell&&0==l.editcell.validated?l.setcellvalue(d.checkboxrow,h.datafield,!t,!0):"selectedrow"!==l.editmode||null==l.editcell?(o=l.getrowdata(d.checkboxrow),l._raiseEvent(17,{rowindex:d.checkboxrow,row:o,datafield:h.datafield,value:i,columntype:h.columntype}),l.pushToHistory=!0,l.setcellvalue(d.checkboxrow,h.datafield,t,!0),l.pushToHistory=!1,l._raiseEvent(18,{rowindex:d.checkboxrow,row:o,datafield:h.datafield,oldvalue:i,value:t,columntype:h.columntype})):(l.pushToHistory=!0,l.setcellvalue(d.checkboxrow,h.datafield,t,!1,!1),l.pushToHistory=!1),h.cellendedit&&h.cellendedit(d.checkboxrow,h.datafield,h.columntype,t)}else h.checkboxcolumn&&(l.editcell&&l.endcelledit(l.editcell.row,l.editcell.column,!1,!0),l.disabled||(t?l.selectrow(d.checkboxrow):l.unselectrow(d.checkboxrow),l.autosavestate&&l.savestate&&l.savestate()))}):(d.checkboxrow=this.getboundindex(e),re(d.firstChild).jqxCheckBox("_setState",t,!(this.editable&&h.editable||h.checkboxcolumn))))},_renderwidgetcell:function(e,t,i,s,r){0==re(t).find(".jqx-grid-widget").length?(t.innerHTML='<div class="jqx-grid-widget" style="opacity: 1; position: absolute; width: 100%; height:100%; top: 0%; left: 0%; padding: 0px;"></div>',i.createwidget(s,i.datafield,r,t.firstChild),re(t.firstChild).attr("hideFocus","true"),re(t.firstChild).children().addClass("jqx-grid-widget"),t.widget=re(t.firstChild),t.widgetrow=e.getboundindex(s),i.widget=re(t.firstChild)):(i.initwidget(e.getboundindex(s),i.datafield,r,t.firstChild),t.widgetrow=e.getboundindex(s),re(t.firstChild).val(r))},_renderprogresscell:function(e,t,i,s,r){var n=re(t);if("rating"===i.columntype){e._linkadded||((l=document.createElement("link")).rel="stylesheet",l.href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",document.head.appendChild(l),e._linkadded=!0),i.ratingmax||(i.ratingmax=5);for(var o="",a=0;a<i.ratingmax;a++)o+=a+1<=r?'<span style="color: rgba(255, 165, 0, 1);" class="fa fa-star checked"></span>':'<span style="color: rgba(255, 165, 0, .3);" class="fa fa-star"></span>';var l=i.cellsalign;t.innerHTML='<div style="display: flex; width: 100%; height: 100%; justify-content: '+(l="right"===l?"flex-end":l)+'; padding: 5px; box-sizing: border-box; font-size: 16px; align-items: center;">'+o+"</div>"}else""==r&&(r=!1),0==n.find(".jqx-progress").length?(t.innerHTML='<progress class="jqx-progress" max="100" style="opacity: 1; position: absolute; top: 10%; left: 10%; width:80%; height:80%; padding: 0px;"/>',re(t.firstChild).val(r),t.progress=re(t.firstChild),t.progressrow=e.getboundindex(s)):(t.progressrow=e.getboundindex(s),re(t.firstChild).val(r))},_renderbuttoncell:function(e,t,i,s,r){var n;e.host.jqxButton&&(""==r&&(r=!1),0==re(t).find(".jqx-button").length?(t.innerHTML='<input type="button" style="opacity: 1; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/>',re(t.firstChild).val(r),re(t.firstChild).attr("hideFocus","true"),re(t.firstChild).jqxButton({disabled:e.disabled,theme:e.theme,height:e.rowsheight-4,width:i.width-4}),t.button=re(t.firstChild),t.buttonrow=e.getboundindex(s),this.isTouchDevice()?(n=re.jqx.mobile.getTouchEventName("touchend"),e.addHandler(re(t.firstChild),n,function(e){i.buttonclick&&i.buttonclick(t.buttonrow,e)})):e.addHandler(re(t.firstChild),"click",function(e){i.buttonclick&&i.buttonclick(t.buttonrow,e)})):(t.buttonrow=e.getboundindex(s),re(t.firstChild).val(r)))},_clearvisualrow:function(e,t,i,s,r){for(var n,o,a,l=this.toTP("jqx-grid-cell"),d=(t&&(l=" "+this.toTP("jqx-grid-group-cell")),l+=" "+this.toTP("jqx-grid-cleared-cell"),this.table[0].rows),h=0;h<s+r;h++)d[i]&&((n=d[i].cells[h]).className!=l&&(n.className=l),o=this.columns.records[h],this._horizontalvalue==e||o.pinned||1==this.oldhscroll&&(n.style.marginLeft=-e+"px"),a=o.width,(a=(a=o.adaptivewidth?o.adaptivewidth:a)<o.minwidth?o.minwidth:a)>o.maxwidth&&(a=o.maxwidth),parseInt(n.style.width)!=a&&(re(n)[0].style.width="auto"!=a?a+"px":a),""!=n.title&&(n.title=""),""!=n.innerHTML&&(n.innerHTML=""));d[i]&&(t=this.rowsheight,this.cardview&&(t=this.cardheight),parseInt(d[i].style.height)!=t&&(d[i].style.height=parseInt(t)+"px"))},_findgroupstate:function(e){e=this._findgroup(e);return null!=e&&e.expanded},_findgroup:function(e){return this.expandedgroups[e]||null},_clearcaches:function(){this._columnsbydatafield=new Array,this._pagescache=new Array,this._pageviews=new Array,this._cellscache=new Array,this._columnClassNameCache=new Array,this._columnCellsRenderCache=new Array,this.heights=new Array,this.hiddens=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array,this.details=new Array,this.expandedgroups=new Array,this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,re.jqx.dataFormat&&re.jqx.dataFormat.cleardatescache(),this.tableheight=null},_getColumnText:function(e){if(null==this._columnsbydatafield&&(this._columnsbydatafield=new Array),this._columnsbydatafield[e])return this._columnsbydatafield[e];var t=e,i=null;return re.each(this.columns.records,function(){if(this.datafield==e||this.displayfield==e)return t=this.text,i=this,!1}),this._columnsbydatafield[e]={label:t,column:i},this._columnsbydatafield[e]},_getcolumnbydatafield:function(e){if(null==this.__columnsbydatafield&&(this.__columnsbydatafield=new Array),this.__columnsbydatafield[e])return this.__columnsbydatafield[e];var t=null;return re.each(this.columns.records,function(){if(this.datafield==e||this.displayfield==e)return this.text,t=this,!1}),this.__columnsbydatafield[e]=t,this.__columnsbydatafield[e]},isscrollingvertically:function(){return this.vScrollBar.jqxScrollBar("isScrolling")},_renderrowdetails:function(e,t,i,s,r,n){if(null!=t){var o=re(t),a=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(this.groupable&&0<this.groups.length)for(var l,d=0;d<=r;d++)(l=re(t.cells[d]))[0].innerHTML="",l[0].className="jqx-grid-details-cell";if("none"==(l=re(t.cells[0]))[0].style.display){for(var h=t.cells[0],c=2;null!=h&&"none"==h.style.display&&c<10;)h=t.cells[0+c-1],c++;l=re(h)}if(this.rtl)for(var u=s;u<r;u++)t.cells[u].innerHTML="",t.cells[u].className="jqx-grid-details-cell";l.css("width","100%"),o.height(i.rowdetailsheight),l[0].className=e;s=this.getboundindex(i),o=s+"_";if(this._rowdetailscache[o])return e=this._rowdetailscache[o].html,void(this.initrowdetails?this._rowdetailscache[o].element&&(p=this._rowdetailscache[o].element,m=l.coord(),g=this.gridcontent.coord(),f=parseInt(m.top)-parseInt(g.top),v=parseInt(m.left)-parseInt(g.left),this.rtl&&(v=0),re(p).css("top",f),re(p).css("left",v),re(p).css("display","block"),re(p).width(this.host.width()-a),this.layoutrowdetails&&this.layoutrowdetails(s,p,this.element,this.getrowdata(s))):l[0].innerHTML=e);l[0].innerHTML="";var p,m,g,f,v,e='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: '+(a=this.enablerowdetailsindent?a:0)+'px;">'+i.rowdetails+"</div>";this.rtl&&(e='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: 0px; margin-right: '+a+'px;">'+i.rowdetails+"</div>"),this._rowdetailscache[o]={id:t.id,html:e},this.initrowdetails?(p=re(e)[0],re(this.gridcontent).prepend(re(p)),re(p).css("position","absolute"),re(p).width(this.host.width()-a),re(p).height(l.height()),m=l.coord(),re(p).css("z-index",1799),this.isTouchDevice()&&re(p).css("z-index",1999),re(p).addClass(this.toThemeProperty("jqx-widget-content")),m=l.coord(),g=this.gridcontent.coord(),f=parseInt(m.top)-parseInt(g.top),v=parseInt(m.left)-parseInt(g.left),re(p).css("top",f),re(p).css("left",v),this.content[0].scrollTop=0,this.content[0].scrollLeft=0,""!=(i=re(re(p).children()[0]))[0].id&&(i[0].id=i[0].id+s),this.initrowdetails(s,p,this.element,this.getrowdata(s)),this._rowdetailscache[o].element=p,this._rowdetailselementscache[s]=p):l[0].innerHTML=e}},_defaultcellsrenderer:function(e,t){""!=t.cellsformat&&re.jqx.dataFormat&&(re.jqx.dataFormat.isDate(e)?e=re.jqx.dataFormat.formatdate(e,t.cellsformat,this.gridlocalization):re.jqx.dataFormat.isNumber(e)&&(e=re.jqx.dataFormat.formatnumber(e,t.cellsformat,this.gridlocalization)));var i="8px";if(31!=this.rowsheight&&((i=this.rowsheight/2-this._cellheight/2)<0&&(i=4),i+="px"),this.enableellipsis){if("center"==t.cellsalign||"middle"==t.cellsalign)return'<div class="jqx-grid-cell-middle-align" style="margin-top: '+i+';">'+e+"</div>";if("left"==t.cellsalign)return'<div class="jqx-grid-cell-left-align" style="margin-top: '+i+';">'+e+"</div>";if("right"==t.cellsalign)return'<div class="jqx-grid-cell-right-align" style="margin-top: '+i+';">'+e+"</div>"}return"center"==t.cellsalign||"middle"==t.cellsalign?'<div style="text-align: center; margin-top: '+i+';">'+e+"</div>":'<span style="margin-left: 4px; margin-right: 2px; margin-top: '+i+"; float: "+t.cellsalign+';">'+e+"</span>"},getcelltext:function(e,t){if(null==e||null==t)return null;e=this.getcellvalue(e,t),t=this.getcolumn(t);return t&&""!=t.cellsformat&&re.jqx.dataFormat&&(re.jqx.dataFormat.isDate(e)?e=re.jqx.dataFormat.formatdate(e,t.cellsformat,this.gridlocalization):re.jqx.dataFormat.isNumber(e)&&(e=re.jqx.dataFormat.formatnumber(e,t.cellsformat,this.gridlocalization))),e},getcelltextbyid:function(e,t){if(null==e||null==t)return null;e=this.getcellvaluebyid(e,t),t=this.getcolumn(t);return t&&""!=t.cellsformat&&re.jqx.dataFormat&&(re.jqx.dataFormat.isDate(e)?e=re.jqx.dataFormat.formatdate(e,t.cellsformat,this.gridlocalization):re.jqx.dataFormat.isNumber(e)&&(e=re.jqx.dataFormat.formatnumber(e,t.cellsformat,this.gridlocalization))),e},_getcellvalue:function(e,t){var i,s=null;return s=t.bounddata[e.datafield],this.batcheditable&&void 0!==(i=t.bounddata["_temp"+e.datafield])&&(s=i),null!=e.displayfield&&(s=t.bounddata[e.displayfield],this.batcheditable&&void 0!==(i=t.bounddata["_temp"+e.displayfield])&&(s=i)),null==s&&(s=""),this.enableSanitize&&s&&"string"==typeof s?this.escape_HTML(s):s},getcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),s=e,r="";return null!=(s=isNaN(i)?s:this.getrowdata(i))&&(r=s[t]),this._getcellresult(r,e,t)},getrenderedcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),s=e,r="";return null!=(s=isNaN(i)?s:this.getrenderedrowdata(i))&&(r=s[t]),this._getcellresult(r,e,t)},_getcellresult:function(e,t,i){var s=this.getcolumn(i);if(null==s)return null;var s=s.getcolumnproperties(),r=s.hidden,n=s.width,o=s.pinned,a=s.cellsalign,s=s.cellsformat,l=this.getrowheight(t);return 0==l?null:{value:e,row:t,column:i,datafield:i,width:n,height:l,hidden:r,pinned:o,align:a,format:s}},setcellvaluebyid:function(e,t,i,s,r){e=this.getrowboundindexbyid(e);return this.setcellvalue(e,t,i,s,r)},getcellvaluebyid:function(e,t){e=this.getrowboundindexbyid(e);return this.getcellvalue(e,t)},setcellvalue:function(t,i,e,s,r){if(null==t||null==i)return!1;var n=parseInt(t),o=(this._columnClassNameCache=[],t),a=(isNaN(n)||(o=this.getrowdata(n)),!1),l=(this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(a=!0),this.virtualmode&&(this._pagescache=new Array),this.sortcache&&(this.sortcache={}),""),d="";if(o[i]&&e&&re.jqx.dataFormat.isDate(o[i])&&re.jqx.dataFormat.isDate(e)&&o[i].toString()===e.toString())this._updating||0==s||this._renderrows(this.virtualsizeinfo);else{if(null==o||o[i]===e)return this._updating||0==s||this._renderrows(this.virtualsizeinfo),!1;if(null!==o[i]||""!==e){var h,c=this._getcolumnbydatafield(i),u="string",p=(this.source||(this.source=new re.jqx.dataAdapter({})),this.source.datafields||(this.source._source?this.source._source.datafields:null));if(p&&(h="",re.each(p,function(){if(this.name==c.displayfield)return this.type&&(h=this.type),!1}),h&&(u=h),d=o[c.displayfield]),l=o[i],this.pushToHistory&&(this._undoRedoIndex=-1,this._undoRedo.push({action:"setcellvalue",data:{oldvalue:l,value:e,datafield:i,row:t}})),(!c.nullable||null!=e&&""!==e&&c.nullable&&void 0===e.label)&&(re.jqx.dataFormat.isNumber(l)||"number"==u||"float"==u||"int"==u||"decimal"==u&&"date"!=u?(this.gridlocalization&&","==this.gridlocalization.decimalseparator&&e&&e.indexOf&&0<=e.indexOf(",")&&(e=e.replace(",",".")),e=new Number(e),e=parseFloat(e),isNaN(e)&&(e=0)):!re.jqx.dataFormat.isDate(l)&&"date"!=u||""==e||(u=e,"Invalid Date"!=(u=new Date(u))&&null!=u?e=u:"Invalid Date"==u&&(e=u=re.jqx.dataFormat.parsedate(e,c.cellsformat))),o[i]===e))this._updating||0==s||this._renderrows(this.virtualsizeinfo);else{var u=this.source&&this.source._source.localdata&&"observableArray"===this.source._source.localdata.name,m=(o[i]=e,!u||(g=this.source._source.localdata)._updating||(g._updating=!0,g[t][i]=e,g._updating=!1),this.getrenderedrowdata(n,!0));if(m){if(m[i]=e,this.batcheditable&&(o["_temp"+i]=e,m["_temp"+i]=e,o[i]=l,m[i]=l),null!=e&&null!=e.label&&(o[(c=this._getcolumnbydatafield(i)).displayfield]=e.label,m[c.displayfield]=e.label,o[i]=e.value,m[i]=e.value,u&&!g._updating&&(g._updating=!0,g[t][i]=e.value,g[t][c.displayfield]=e.label,g._updating=!1)),a&&null!=o.dataindex&&(o.dataindex,null!=(this.dataview.cachedrecords[o.dataindex][i]=e)&&null!=e.label&&(this.dataview.cachedrecords[o.dataindex][i]=e.value,this.dataview.cachedrecords[o.dataindex][c.displayfield]=e.label)),this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var m=n,u=(a&&null!=o.dataindex&&(m=o.dataindex),this.source._source._localdata()[m]),g=(this.source.suspendKO=!0,u);if(g[i]&&g[i].subscribe)null!=e&&null!=e.label?(g[c.displayfield](e.label),g[i](e.value)):g[i](e);else{var p=this.source._source.datafields,f=null;if(p&&re.each(p,function(){if(this.name==i)return f=this.map,!1}),null==f)null!=e&&null!=e.label?(g[i]=e.value,g[c.displayfield]=e.label):g[i]=e;else{var v=f.split(this.source.mapChar);if(0<v.length){for(var x=g,y=0;y<v.length-1;y++)x=x[v[y]];x[v[v.length-1]]=e}}this.source._source._localdata.replace(u,re.extend({},g))}this.source.suspendKO=!1}if(this.sortcolumn&&this.dataview.sortby&&!this._updating){m=this.getsortinformation();if(this.sortcolumn==i&&"many"!==this.sortmode)this.dataview.clearsortdata(),this.dataview.sortby(m.sortcolumn,m.sortdirection.ascending);else if("many"===this.sortmode){var w=this.getsortcolumns();this.dataview.clearsortdata(),this.sortby(null);for(var b=0;b<w.length;b++)this.sortby(w[b].dataField,w[b].ascending)}}else this._updating||this.dataview.sortby&&this.dataview.sortcache[i]&&(this.dataview.sortcache[i]=null);if(this._cellscache=new Array,this._pagescache=new Array,this.source.updaterow&&(null==r||1==r)){var _=this.that;try{var q=this.getrowid(n);null==this.source.updaterow(q,o,function(e){0==e&&(_.setcellvalue(t,i,l,!0,!1),l!=d&&_.setcellvalue(t,_.getcolumn(i).displayfield,d,!0,!1))})&&0}catch(e){return _.setcellvalue(t,i,l,!!1,!1),void(l!=d&&_.setcellvalue(t,_.getcolumn(i).displayfield,d,!0,!1))}}p=this.vScrollInstance.value;return 1!=(s=this._updating&&1!=s?!1:s)&&null!=s||(_=this.that,u=function(){_.pageable&&_.updatepagerdetails&&(_.updatepagerdetails(),(_.autoheight||_.autorowheight)&&_._updatepageviews())},g=this.groupable&&0<this.groups.length,a&&!g?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.refresh(),this.rendergridcontent(!0,!1),u(),this._renderrows(this.virtualsizeinfo)):this.sortcolumn&&!g?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.reloaddata(),this.rendergridcontent(!0,!1),u(),this._renderrows(this.virtualsizeinfo)):this.groupable&&0<this.groups.length?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.pageable&&-1!=this.groups.indexOf(i)?(this._pagescache=new Array,this._cellscache=new Array,this.dataview.refresh(),this._render(!0,!0,!1,!1)):(this._pagescache=new Array,this._cellscache=new Array,this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))):(this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))),this.vScrollInstance.setPosition(p),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this.showfilterrow&&this.filterable&&this.filterrow&&("list"!=(m=this.getcolumn(i).filtertype)&&"checkedlist"!=m||this._updatelistfilters(!0)),this._raiseEvent(19,{rowindex:t,datafield:i,newvalue:e,value:e,oldvalue:l}),!0}}}}},getcellvalue:function(e,t){if(null==e||null==t)return null;var i=parseInt(e);return null!=(e=isNaN(i)?e:this.getrowdata(i))?e[t]:null},getrows:function(){var e=this.dataview.records.length;if(this.virtualmode){for(var t=new Array,i=0;i<this.dataview.records.length;i++){var s=this.dataview.records[i];s&&t.push(s)}void 0===this.dataview.records.length&&re.each(this.dataview.records,function(){this&&t.push(this)});var r=0;return this.pageable&&(r=this.dataview.pagenum*this.dataview.pagesize),t.length>this.source._source.totalrecords-r?t.slice(0,this.source._source.totalrecords-r):t}if(this.dataview.sortdata){for(t=new Array,i=0;i<e;i++){var n=re.extend({},this.dataview.sortdata[i].value);t[i]=n}return t}return this.dataview.records},getrowboundindexbyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t&&t.boundindex)return this.getboundindex(t);for(var i=this.getboundrows(),s=0;s<i.length;s++)if(i[s]&&i[s].uid==e)return s;return-1},getrowdatabyid:function(e){var t=this.dataview.recordsbyid["id"+e];return t||(t=this.getrowboundindexbyid(e),this.getboundrows()[t])},getrowdata:function(e){return null==e&&(e=0),(this.virtualmode?this.dataview.records:this.getboundrows())[e]},getrenderedrowdata:function(e,t){var i,s;return null==e&&(e=0),this.virtualmode?(i=this.getrowvisibleindex(e),this.dataview.loadedrecords[i]):0<=(i=this.getrowvisibleindex(e))?(this.groupable&&0<this.groups.length?s=this.dataview.loadedrecords[i]:(s=this.dataview.loadedrecords[i],!this.pageable||null!=t&&0!=t||(s=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+e])),s):null},getboundrows:function(){return this.dataview.cachedrecords},getrowdisplayindex:function(e){for(var t=this.getdisplayrows(),i=0;i<t.length;i++)if(t[i])if(void 0!==t[i].dataindex){if(t[i].dataindex==e)return t[i].visibleindex}else if(t[i].boundindex==e)return t[i].visibleindex;return-1},getboundindex:function(e){var t=e.boundindex;return this.groupable&&0<this.groups.length&&this.pageable&&e.bounddata&&(t=this.getrowboundindexbyid(e.bounddata.uid)),0<this.dataview.filters.length&&(e.bounddata?void 0!==e.bounddata.dataindex&&(t=e.bounddata.dataindex):void 0!==e.dataindex&&(t=e.dataindex)),t},getrowboundindex:function(e){e=this.getdisplayrows()[e];return e?void 0!==e.dataindex?e.dataindex:e.boundindex:-1},getdisplayrows:function(){return this.dataview.loadedrecords},getloadedrows:function(){return this.getdisplayrows()},getvisiblerowdata:function(e){var t=this.getvisiblerows();return t?t[e]:null},getloadedrowdata:function(e){var t=this.getloadedrows();return t?t[e]:null},getvisiblerows:function(){if(this.virtualmode)return this.dataview.loadedrecords;if(this.pageable){for(var e=[],t=0;t<this.dataview.pagesize;t++){if(null==(i=this.dataview.loadedrecords[t+this.dataview.pagesize*this.dataview.pagenum]))break;e.push(i)}return e}if(null==this._startboundindex||null==this._endboundindex)return this.dataview.loadedrecords;for(var i,e=[],t=this._startvisibleindex;t<=this._endvisibleindex&&null!=(i=this.dataview.loadedrecords[t]);t++)e.push(i);return e},getrowid:function(e){if(null==e&&(e=0),this.virtualmode){var t=this.getrowvisibleindex(e);if(i=this.dataview.loadedrecords[t])return i.uid}else{var i=null,s=0<this.dataview.filters.length;if(0<=e&&e<this.dataview.bounditems.length&&!s)if(this.groupable&&this.groups.length,t=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[t])return i.uid;if(0<this.dataview.filters.length)return(i=this.getboundrows()[e])&&null!=i.uid?i.uid:null}return null},_updateGridData:function(e){var t=!1;(t=this.filterable&&this._initfilterpanel&&this.dataview.filters.length?!0:t)?(this.dataview.refresh(),"updaterow"==e?(this._render(!0,!0,!1,!1,!1),this.invalidate()):this.render()):this.sortcolumn||this.groupable&&0<this.groups.length?(this.dataview.reloaddata(),this.render()):("updaterow"===e&&(this.dataview.refresh(),this.virtualmode||this._render(!0,!0,!1,!1,!1)),this._cellscache=new Array,this._pagescache=new Array,this._renderrows(this.virtualsizeinfo)),this.showfilterrow&&this.filterable&&this.filterrow&&this._updatelistfilters(!0)},updaterow:function(t,i,a){if(null==t||null==i)return!1;var e,s=this.that,r=!1,n=(s._datachanged=!0,this._columnClassNameCache=[],this.pushToHistory&&(e=this.getrowdatabyid(t),this._undoRedoIndex=-1,this._undoRedo.push({action:"updaterow",data:{id:t,rowdata:i,oldrowdata:e}})),function(i,e,s){if(i._loading)throw new Error("jqxGrid: "+i.loadingerrormessage);var t,r,n=!1,o=(re.isArray(e)?(re.each(e,function(e,t){n=i.dataview.updaterow(""+this,s[e],!1)}),i._cellscache=new Array,i._pagescache=new Array,i.dataview.refresh()):n=i.dataview.updaterow(e,s),i.vScrollInstance.value);return null!=a&&1!=a||null!=i._updating&&0!=i._updating||i._updateGridData("updaterow"),i.showaggregates&&i._updatecolumnsaggregates&&i._updatecolumnsaggregates(),i.source&&i.source._knockoutdatasource&&!i._updateFromAdapter&&i.autokoupdates&&i.source._source._localdata&&(t=i.dataview.recordsbyid["id"+e],r=i.dataview.records.indexOf(t),r=i.source._source._localdata()[r],i.source.suspendKO=!0,i.source._source._localdata.replace(r,re.extend({},t)),i.source.suspendKO=!1),i.source&&i.source._source.localdata&&"observableArray"===i.source._source.localdata.name&&!i.source._source.localdata._updating&&(i.source._source.localdata._updating=!0,r=i.getrowboundindexbyid(e),i.source._source.localdata.set(r,s),i.source._source.localdata._updating=!1),i.vScrollInstance.setPosition(o),n});if(this.source.updaterow)try{null==(r=this.source.updaterow(t,i,function(e){1==e||null==e?n(s,t,i):r=!1}))&&(r=!0)}catch(e){r=!1}else r=n(s,t,i);return r},deleterow:function(t,l){if(null==t)return!1;var i=!(this._datachanged=!0),s=this.that,d=this.getrowboundindexbyid(t),h=new Array;new Array;if(null!=d&&(0<=this.selectedrowindexes.indexOf(d)&&this.selectedrowindexes.splice(this.selectedrowindexes.indexOf(d),1),this.selectedrowindex==d&&(this.selectedrowindex=-1),!this.virtualmode)){if(0<=s.selectionmode.indexOf("row"))re.each(this.selectedrowindexes,function(){var e=s.getrowid(this);h.push(e)}),this.selectedrowindexes=new Array,this.selectedrowindex=-1;else if(0<=s.selectionmode.indexOf("cell"))for(var e in s.selectedcells){var e=s.selectedcells[e],r=s.getrowid(e.rowindex);e.rowid=r}this._rendervisualrows()}var n=function(t,e){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var i=!1,s=t.vScrollInstance.value;if(re.isArray(e)?(re.each(e,function(){i=t.dataview.deleterow(this,!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh()):i=t.dataview.deleterow(e),!t.virtualmode)if(0<=t.selectionmode.indexOf("row"))re.each(h,function(){var e=t.getrowboundindexbyid(this);-1!=e&&t.selectrow(e,!1)});else{var r,n=new Array;for(r in t.selectedcells){var o=t.selectedcells[r],a=o.rowid,a=t.getrowboundindexbyid(a);-1!=a&&(n[(o.rowindex=a)+"_"+o.datafield]=o)}t.selectedcells=n}return null!=t._updating&&0!=t._updating||null!=l&&1!=l||setTimeout(function(){t._render(!0,!0,!1,!1),"visible"!=t.vScrollBar.css("visibility")&&(t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._renderrows(t.virtualsizeinfo)),t.vScrollInstance.setPosition(s)}),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.pop(),t.source.suspendKO=!1),t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name&&!t.source._source.localdata._updating&&(t.source._source.localdata._updating=!0,t.source._source.localdata.splice(d,1),t.source._source.localdata._updating=!1),t.dataview.sortby&&"many"!==t.sortmode&&(e=t.getsortinformation()).sortcolumn&&(t.dataview.clearsortdata(),t.dataview.sortby(e.sortcolumn,e.sortdirection?e.sortdirection.ascending:null)),t.vScrollInstance.setPosition(s),i};if(this.source.deleterow)try{this.source.deleterow(t,function(e){1!=e&&null!=e||n(s,t)}),null==i&&(i=!0)}catch(e){i=!1}else i=n(s,t);return i},addrow:function(i,s,r){if(null==s)return!1;this._datachanged=!0,null==r&&(r="last");var t=!1,n=this.that;if(null==i){var o=this.dataview.filters&&0<this.dataview.filters.length?this.dataview.cachedrecords.length:this.dataview.totalrecords;if(re.isArray(s)){var a=new Array;re.each(s,function(e,t){e=n.dataview.getid(n.dataview.source.id,s[e],o+e);a.push(e)}),i=a}else for(i=this.dataview.getid(this.dataview.source.id,s,o);null!=this.dataview.recordsbyid["id"+i];)i++}var l=function(s,r,e,n){if(s._loading)throw new Error("jqxGrid: "+s.loadingerrormessage);var t,i=s.vScrollInstance.value,o=!1;return re.isArray(e)?(re.each(e,function(e,t){null!=this.dataindex&&delete this.dataindex;var i=null;null!=r&&null!=r[e]&&(i=r[e]),o=s.dataview.addrow(i,this,n,!1)}),s._cellscache=new Array,s._pagescache=new Array,s.dataview.refresh()):(null!=e&&null!=e.dataindex&&delete e.dataindex,o=s.dataview.addrow(r,e,n)),null!=s._updating&&0!=s._updating||(s._render(!0,!0,!1,!1),s.invalidate()),s.source&&s.source._knockoutdatasource&&!s._updateFromAdapter&&s.autokoupdates&&s.source._source._localdata&&(s.source.suspendKO=!0,s.source._source._localdata.push(e),s.source.suspendKO=!1),s.source&&s.source._source.localdata&&"observableArray"===s.source._source.localdata.name&&!s.source._source.localdata._updating&&(s.source._source.localdata._updating=!0,t=s.getrowboundindexbyid(r),s.source._source.localdata.set(t,e),s.source._source.localdata._updating=!1),"deferred"!=s.scrollmode?s.vScrollInstance.setPosition(i):s.vScrollInstance.setPosition(0),o};if(this.source&&this.source.addrow){try{null==(t=this.source.addrow(i,s,r,function(e,t){1!=e&&null!=e||l(n,i=null!=t?t:i,s,r)}))&&(t=!0)}catch(e){t=!1}if(0==t)return!1}else l(this,i,s,r);return t},_findvisiblerow:function(e,t){null==e&&(e=parseInt(this.vScrollInstance.value));for(var i=0,s=(t=null==t?this.rows.records:t).length;i<=s;){var r=parseInt((i+s)/2),n=t[r];if(null==n)break;if(n.top>e&&n.top+n.height>e)s=r-1;else{if(!(n.top<e&&n.top+n.height<e))return r;i=r+1}}return-1},_updatecellwidths:function(){var e=this.virtualsizeinfo;if(e){var t=this.that;if(null!=t.gridcontent){null==t.table&&(t.table=t.gridcontent.find("#contenttable"+t.element.id));var i=t.groupable&&0<t.groups.length,s=0,r=e.visiblerecords;if(t.pageable&&(t.autoheight||t.autorowheight)&&(r=t.dataview.pagesize,t.groupable&&(t.dataview.updateview(),r=t.dataview.rows.length)),t.groupable||t.pageable||!t.autoheight&&!t.autorowheight||(r=t.dataview.totalrecords),t.rowdetails&&(r+=t.dataview.pagesize),t.columns.records){for(var n=t.columns.records.length,o=t.table[0].rows,a=0;a<r;a++){var l=o[a];if(!l)break;for(var d=l.cells,h=0,c=0;c<n;c++){var u=t.columns.records[c],p=u.width,m=(u.adaptivewidth&&(p=u.adaptivewidth),d[c]);parseInt(m.style.left)!=h&&(m.style.left=h+"px"),parseInt(m.style.width)!=p&&(m.style.width=p+"px"),u.hidden&&u.hideable||u.adaptivehidden?m.style.display="none":(h+=parseFloat(p),t.adaptive&&(m.style.display=""))}0==s&&(t.table.width(parseFloat(h)+2),s=h)}t.showaggregates&&t._updateaggregates&&t._updateaggregates(),t.showfilterrow&&t.filterable&&t._updatefilterrowui&&t._updatefilterrowui(),t.showeverpresentrow&&t._updateaddnewrowui(),t._updatescrollbarsafterrowsprerender(),i&&t._renderrows(t.virtualsizeinfo)}}}},_updatescrollbarsafterrowsprerender:function(){var e=this.that,t=e.hScrollBar[0].style.visibility,i=0,s=e.vScrollBar[0].style.visibility;"visible"==s&&(i=e.scrollbarsize+3),0==e.scrollbarsize&&(i=0),e.scrollbarautoshow&&(i=0);var r=0<=(r=e.element.style.width).toString().indexOf("%")?e.host.width():parseInt(r);parseInt(e.table[0].style.width)-2>r-i?("visible"!=t&&(e.autowidth||(e.hScrollBar[0].style.visibility="visible"),e._arrange()),"visible"==s?"deferred"==e.scrollmode||e.virtualmode?e._updatevscrollbarmax():e.virtualsizeinfo&&(r=e.virtualsizeinfo.virtualheight-e._gettableheight(),!isNaN(r)&&0<r&&("hidden"!=t?e.vScrollBar.jqxScrollBar("max",r+e.scrollbarsize+4):e.vScrollBar.jqxScrollBar("max",r))):i=-2,e.hScrollBar.jqxScrollBar("max",i+e.table.width()-e.host.width())):"hidden"!=t&&(e.hScrollBar.css("visibility","hidden"),e._arrange()),e._renderhorizontalscroll()},_hascolumnstyle:function(){if(void 0!==this._hascolumnstyles)return this._hascolumnstyles;this._hascolumnstyles=!1;for(var e=0;e<this.columns.records.length;e++){var t=this.columns.records[e];if(t.style.headerBackgroundColor||t.style.headerColor||t.style.headerBackgroundHoveredColor||t.style.headerHoveredColor||t.style.headerBackgroundSelectedColor||t.style.headerSelectedColor||t.style.backgroundColor||t.style.color||t.style.backgroundHoveredColor||t.style.hoveredColor||t.style.backgroundSelectedColor||t.style.selectedColor)return this._hascolumnstyles=!0}return!1},_prerenderrows:function(e){var t=this.that;if(1==t.prerenderrequired&&(t.prerenderrequired=!1,t.editable&&t._destroyeditors&&t._destroyeditors(),null!=t.gridcontent)){t.gridcontent.find("#contenttable"+t.element.id).remove(),null!=t.table&&(t.table.remove(),t.table=null),t.table=re('<div id="contenttable'+t.element.id+'" style="overflow: hidden; position: relative;"></div>'),t.gridcontent.addClass(t.toTP("jqx-grid-content")),t.gridcontent.addClass(t.toTP("jqx-widget-content")),t.gridcontent.append(t.table);var i=t.groupable&&0<t.groups.length,s=0,r=(t.table[0].rows=new Array,t.toTP("jqx-grid-cell")),n=(i&&(r=" "+t.toTP("jqx-grid-group-cell")),e.visiblerecords);if(t.pageable&&(t.autoheight||t.autorowheight)&&(n=t.dataview.pagesize,t.groupable&&(t.dataview.updateview(),(n=t.dataview.rows.length)<t.dataview.pagesize&&(n=t.dataview.pagesize))),t.pageable||!t.autoheight&&!t.autorowheight||(n=t.dataview.totalrecords),t.groupable&&0<t.groups.length&&(t.autoheight||t.autorowheight)&&!t.pageable&&(n=t.dataview.rows.length),t.rowdetails&&(t.autoheight||t.autorowheight?n+=t.dataview.pagesize:n+=n),t.columns.records){for(var o=t.columns.records.length,a=(re.jqx.browser.msie&&8<re.jqx.browser.version&&t.table.css("opacity","0.99"),re.jqx.browser.mozilla,navigator.userAgent.indexOf("Safari"),re.jqx.browser.msie&&re.jqx.browser.version<8),l=(a&&t.host.attr("hideFocus","true"),t.tableZIndex),d=(l<n*o&&(l=n*o),t.dataview.records.length,t.isTouchDevice(),""),h=(t._hiddencolumns=!1,5+t.columns.records.length),c=0;c<n;c++){for(var u='<div role="row" style="position: relative; height:'+t.rowsheight+'px;" id="row'+c+t.element.id+'">',p=(a&&(u='<div role="row" style="position: relative; z-index: '+l+"; height:"+t.rowsheight+'px;" id="row'+c+t.element.id+'">',l--),0),m=0;m<o;m++){(b=(b=(y=t.columns.records[m]).width)<y.minwidth?y.minwidth:b)>y.maxwidth&&(b=y.maxwidth),t.rtl?(w='<div columnindex="'+m+'" role="gridcell" style="left: '+p+"px; z-index: "+(l-o+2*m)+"; width:"+b+"px;",l--):w='<div columnindex="'+m+'" role="gridcell" style="left: '+p+"px; z-index: "+l--+"; width:"+b+"px;",y.hidden&&y.hideable||y.adaptivehidden?(w+="display: none;",t._hiddencolumns=!0,l++):p+=b,0===c&&0===m&&(w+='" tabindex="'+h+'"'),w+='" class="'+r+'">';var g=this._defaultcellsrenderer("",y);u+=w=w+g+"</div>"}0==s&&(t.table.width(parseInt(p)+2),s=p),d+=u+="</div>"}t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.table.html(d)}):t.table[0].innerHTML=d,t.table[0].rows=new Array;for(var f=t.table.children(),c=0;c<n;c++)for(var v=f[c],x=(t.table[0].rows.push(v),v.cells=new Array,re(v).children()),m=0;m<o;m++)v.cells.push(x[m]);if(0==n){p=0;t.showemptyrow&&(u=re('<div style="position: relative;" id="row0'+t.element.id+'"></div>'),t.table.append(u),u.height(t.rowsheight),t.table[0].rows[0]=u[0],t.table[0].rows[0].cells=new Array);for(m=0;m<o;m++){var y,w,b=(y=t.columns.records[m]).width;t.showemptyrow&&((w=re('<div style="position: absolute; height: 100%; left: '+p+"px; z-index: "+l--+"; width:"+b+'px;" class="'+r+'"></div>')).height(t.rowsheight),u.append(w),t.table[0].rows[0].cells[m]=w[0]),(b=b<y.minwidth?y.minwidth:b)>y.maxwidth&&(b=y.maxwidth),y.hidden&&y.hideable||y.adaptivehidden||(p+=b)}t.table.width(parseInt(p)+2),s=p}t._updatescrollbarsafterrowsprerender(),t.rendered&&t.rendered("rows"),t.toCompile=new Array,t._addoverlayelement()}}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var e=null,t=null,i=(this.tableheight=null,this.that),s=!1,r=!1;if((null==i.width||-1==i.width.toString().indexOf("px"))&&(null==i.width||isNaN(i.width))||(e=i.width),null!=i.width&&-1!=i.width.toString().indexOf("%")&&(e=i.width,s=!0),i.scrollbarautoshow&&(i.vScrollBar[0].style.display="none",i.hScrollBar[0].style.display="none",i.vScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex,i.hScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex),i.autowidth){for(var n=0,o=0;o<i.columns.records.length;o++){var a=i.columns.records[o].width;n+="auto"==a?a=i._measureElementWidth(i.columns.records[o].text):a}"hidden"!=i.vScrollBar.css("visibility")&&(n+=i.scrollbarsize+4),e=n,i.width=e}(null!=i.height&&-1!=i.height.toString().indexOf("px")||null!=i.height&&!isNaN(i.height))&&(t=i.height),null!=i.height&&-1!=i.height.toString().indexOf("%")&&(t=i.height,r=!0);function l(){var e=0;return e+=i.showheader&&null!=i.columnsheader?i.columnsheader.height()+2:0,i.pageable&&(e+=i.pagerheight),i._groupsheader()&&(e+=i.groupsheaderheight),i.showtoolbar&&(e+=i.toolbarheight),i.showfilterbar&&(e+=i.toolbarheight),i.showstatusbar&&(e+=i.statusbarheight),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(e+=i.everpresentrowheight),"visible"==i.hScrollBar[0].style.visibility&&(e+=15),e}function d(e){var t;"visible"==e.vScrollBar[0].style.visibility&&"visible"==e.hScrollBar[0].style.visibility?(e.bottomRight[0].style.visibility="visible",e.bottomRight.css({left:1+parseInt(e.vScrollBar.css("left")),top:parseInt(e.hScrollBar.css("top"))}),e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight.width(parseInt(c)+3),e.bottomRight.height(parseInt(c)+4),0<(t=e.showeverpresentrow&&"bottom"==e.everpresentrowposition?e.everpresentrowheight:0)&&!e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(c)+4+t),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-t})),e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(c)+4+e.statusbarheight+t),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.statusbarheight-t}))):e.bottomRight[0].style.visibility="hidden"}i.autoheight&&i.virtualsizeinfo?i.pageable&&i.gotopage?(t=(h=0)+(i._pageviews[0]?i._pageviews[0].height:0),t+=l(),i.showemptyrow&&0==i.dataview.totalrecords&&(t+=i.rowsheight)):(h=i.host.height()-i._gettableheight(),0<i._pageviews.length?(t=h+i._pageviews[i._pageviews.length-1].height+i._pageviews[i._pageviews.length-1].top,i.vScrollBar[0].style.visibility="hidden"):(t=l(),i.showemptyrow&&(t+=i.rowsheight))):i.autoheight&&(t=i.dataview.totalrecords*i.rowsheight,i.pageable&&i.gotopage&&(t=i.pagesize*i.rowsheight),i._loading&&i.dataloadelement.height(t=250),1e4<(t+=l())&&(t=1e4)),null!=e?(e=parseInt(e),s?i.element.style.width=i.width:i.element.style.width!=parseInt(i.width)+"px"&&(i.element.style.width=parseInt(i.width)+"px"),s&&((e=i.host.width())<=2&&i.host.width(e=600),i._oldWidth||(i._oldWidth=e))):i.host.width(250),null!=t?(this.autoheight&&(t+=2),r||(t=parseInt(t)),r?i.element.style.height=i.height:i.element.style.height!=parseInt(t)+"px"&&(i.element.style.height=parseInt(t)+"px"),r&&!i.autoheight&&(0==(t=i.host.height())&&i.host.height(t=400),i._oldHeight||(i._oldHeight=t))):i.host.height(250),i.autoheight&&(i.tableheight=null,i._gettableheight());var h=0,c=(i.showtoolbar?(i.toolbar.width(e),i.toolbar.height(i.toolbarheight-1),i.toolbar.css("top",0),h+=i.toolbarheight,t-=parseInt(i.toolbarheight)):i.toolbar[0].style.height="0px",i.showfilterbar?(i.filterbar.width(e),i.filterbar.height(i.toolbarheight-1),i.filterbar.css("top",h),h+=i.toolbarheight,t-=parseInt(i.toolbarheight)):i.filterbar[0].style.height="0px",i.showstatusbar?(i.showaggregates?i.statusbar.width(i.table?Math.max(e,i.table.width()):e):i.statusbar.width(e),i.statusbar.height(i.statusbarheight)):i.statusbar[0].style.height="0px",i.showeverpresentrow&&"bottom"===i.everpresentrowposition?(i.addnewrow.width(e),i.addnewrow.height(i.everpresentrowheight)):i.addnewrow[0].style.height="0px",i._groupsheader()?(i.groupsheader.width(e),i.groupsheader.height(i.groupsheaderheight),i.groupsheader.css("top",h),h+=u=i.groupsheader.height()+1,u<t&&(t-=parseInt(u))):(i.groupsheader[0].style.width!=e+"px"&&(i.groupsheader[0].style.width=parseInt(e)+"px"),i.groupsheader[0].style.height="0px",i.groupsheader[0].style.top!=h+"px"&&i.groupsheader.css("top",h),u=i.showgroupsheader&&i.groupable?i.groupsheaderheight:0,i.content[0].style.top!=h+u+"px"&&i.content.css("top",h+i.groupsheaderheight)),i.scrollbarsize),s=(isNaN(c)&&(c=parseInt(c),isNaN(c)?c="17px":c+="px"),c=parseInt(c),2),r=0,u=("visible"==i.vScrollBar[0].style.visibility&&(r=c+4),"visible"==i.hScrollBar[0].style.visibility&&(s=c+4+2),0==c&&(s=r=0),0),p=(i.pageable&&(u=i.pagerheight,s+=i.pagerheight),i.showstatusbar&&(s+=i.statusbarheight,u+=i.statusbarheight),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(s+=i.everpresentrowheight,u+=i.everpresentrowheight),i.hScrollBar[0].style.height!=c+"px"&&(i.hScrollBar[0].style.height=parseInt(c)+"px"),i.hScrollBar[0].style.top==h+t-4-c-u+"px"&&"0px"==i.hScrollBar[0].style.left||i.hScrollBar.css({top:h+t-4-c-u+"px",left:"0px"}),i.hScrollBar[0].style.width),m=!1,g=!1,p=(0==r?p!=e-2+"px"&&(i.hScrollBar.width(e-2),m=!0):p!=e-c-4+"px"&&(i.hScrollBar.width(e-c-4+"px"),m=!0),i.autoheight||(i.vScrollBar[0].style.width!=c+"px"&&(i.vScrollBar.width(c),g=!0),i.vScrollBar[0].style.height!=parseInt(t)-s+"px"&&(i.vScrollBar.height(parseInt(t)-s+"px"),g=!0),i.vScrollBar[0].style.left==parseInt(e)-parseInt(c)-4+"px"&&i.vScrollBar[0].style.top==h+"px"||i.vScrollBar.css({left:parseInt(e)-parseInt(c)-4+"px",top:h})),i.rtl&&(i.vScrollBar.css({left:"0px",top:h}),"hidden"!=i.vScrollBar.css("visibility")&&i.hScrollBar.css({left:c+2})),i.vScrollInstance),g=(p.disabled=i.disabled,i.autoheight||g&&p.refresh(),i.hScrollInstance);g.disabled=i.disabled,m&&g.refresh(),i.autowidth&&(i.hScrollBar[0].style.visibility="hidden"),i.statusbarheight=parseInt(i.statusbarheight),i.toolbarheight=parseInt(i.toolbarheight);d(this),i.content[0].style.width!=e-r+"px"&&i.content.width(e-r),i.content[0].style.height!=t-s+3+"px"&&i.content.height(t-s+3),i.scrollbarautoshow&&(i.content[0].style.width!=e+"px"&&i.content.width(e),i.content[0].style.height!=t+"px"&&i.content.height(t)),i.content[0].style.top!=h+"px"&&i.content.css("top",h),i.rtl&&(i.content.css("left",r),i.scrollbarautoshow&&i.content.css("left","0px"),i.table&&(p=i.table.width())<e-r&&i.content.css("left",e-p)),i.showstatusbar&&(i.statusbar.css("top",h+t-i.statusbarheight-(i.pageable?i.pagerheight:0)),i.autoheight&&(i.statusbar.css("top",h+t-2-i.statusbarheight-(i.pageable?i.pagerheight:0)),i.statusbar.height(i.statusbarheight+2)),i.showaggregates&&("visible"==i.hScrollBar.css("visibility")&&(i.hScrollBar.css({top:h+t-4-c-u+i.statusbarheight+"px"}),i.statusbar.css("top",1+h+t-c-5-i.statusbarheight-(i.pageable?i.pagerheight:0))),d(this)),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.statusbar.css("left",i.content.css("left")):i.statusbar.css("left","0px"))),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(i.addnewrow.css("top",h+t-(i.showstatusbar?i.statusbarheight:0)-(i.pageable?i.pagerheight:0)-i.everpresentrowheight),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.addnewrow.css("left",i.content.css("left")):i.addnewrow.css("left","0px"))),i.pageable?(i.pager.width(e),i.pager.height(i.pagerheight),i.pager.css("top",h+t-i.pagerheight-1)):i.pager[0].style.height="0px",null!=i.table&&(m=-2,"visible"==i.vScrollBar[0].style.visibility&&(m=i.scrollbarsize+3),"visible"==i.hScrollBar[0].style.visibility&&(0<=(g=m+i.table.width()-i.host.width())&&i.hScrollBar.jqxScrollBar("max",g),"visible"==i.hScrollBar[0].style.visibility&&0==g&&(i.hScrollBar[0].style.visibility="hidden",i._arrange()))),e!=parseInt(i.dataloadelement[0].style.width)&&(i.dataloadelement[0].style.width=i.element.style.width),t!=parseInt(i.dataloadelement[0].style.height)&&(i.dataloadelement[0].style.height=i.element.style.height),this.pagergotoinput&&(this.pagergotoinput.offset().top!==this.pagergoto.offset().top?(this.pagergotoinput.css("visibility","hidden"),this.pagergoto.css("visibility","hidden")):(this.pagergotoinput.css("visibility","inherit"),this.pagergoto.css("visibility","inherit"))),i._hostwidth=e},destroy:function(){if(delete re.jqx.dataFormat.datescache,delete this.gridlocalization,delete this._undoRedo,re.jqx.utilities.resize(this.host,null,!0),""==document.referrer&&!window.frameElement||null==window.top||window.top==window.self||this.removeHandler(re(window.top.document),"mouseup.grid"+this.element.id),this.table&&this.table[0]){for(var e=this.table[0].rows.length,t=0;t<e;t++){for(var i=this.table[0].rows[t],s=i.cells.length,r=0;r<s;r++)re(i.cells[r]).remove(),i.cells[r]=null,delete i.cells[r];i.cells=null,i.cells&&delete i.cells,re(this.table[0].rows[t]).remove(),this.table[0].rows[t]=null}try{delete this.table[0].rows}catch(e){}this.table.remove(),delete this.table}if(this.columns&&this.columns.records){for(t=0;t<this.columns.records.length;t++){var n=this.columns.records[t];n.addnewrowwidget&&n.destroyeverpresentrowwidget&&n.destroyeverpresentrowwidget(n.addnewrowwidget),n.destroywidget&&n.destroywidget&&n.destroywidget(n.widget),this._removecolumnhandlers(this.columns.records[t]),n.element&&(re(n.element).remove(),re(n.sortasc).remove(),re(n.sortdesc).remove(),re(n.filtericon).remove(),re(n.menu).remove(),n.element=null,n.uielement=null,n.sortasc=null,n.sortdesc=null,n.filtericon=null,n.menu=null,delete n.element,delete n.uielement,delete n.sortasc,delete n.sortdesc,delete n.filtericon,delete n.menu,delete this.columnsrow[0].cells[t])}try{delete this.columnsrow[0].cells}catch(e){}delete this.columnsrow}var o,a,l;if(re.removeData(document.body,"contextmenu"+this.element.id),this.host.jqxDropDownList&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.editable&&this._destroyeditors&&this._destroyeditors(),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.host.jqxMenu&&this.gridmenu&&(this.removeHandler(re(document),"click.menu"+this.element.id),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu=null),this.pagershowrowscombo&&(this.pagershowrowscombo.jqxDropDownList("destroy"),this.pagershowrowscombo=null),this.pagerrightbutton&&(this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.pagerrightbutton.jqxButton("destroy"),this.pagerrightbutton=null),this.pagerleftbutton&&(this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.pagerleftbutton.jqxButton("destroy"),this.removeHandler(re(document),"mouseup.pagerbuttons"+this.element.id),this.pagerleftbutton=null),this.removeHandler(re(document),"selectstart."+this.element.id),this.removeHandler(re(document),"mousedown.resize"+this.element.id),this.removeHandler(re(document),"mouseup.resize"+this.element.id),this.removeHandler(re(document),"mousemove.resize"+this.element.id),this.isTouchDevice()&&(o=re.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,a=re.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,l=re.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id,this.removeHandler(re(document),o),this.removeHandler(re(document),a),this.removeHandler(re(document),l)),this.removeHandler(re(document),"mousedown.reorder"+this.element.id),this.removeHandler(re(document),"mouseup.reorder"+this.element.id),this.removeHandler(re(document),"mousemove.reorder"+this.element.id),this.isTouchDevice()&&(o=re.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,a=re.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,l=re.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id,this.removeHandler(re(document),o),this.removeHandler(re(document),a),this.removeHandler(re(document),l)),this.removeHandler(re(window),"resize."+this.element.id),this.resizeline&&this.resizeline.remove(),this.resizestartline&&this.resizestartline.remove(),this.groupable&&(o="mousemove.grouping"+this.element.id,a="mousedown.grouping"+this.element.id,l="mouseup.grouping"+this.element.id,this.removeHandler(re(document),o),this.removeHandler(re(document),a),this.removeHandler(re(document),l)),this.columnsreorder&&(o="mousemove.reorder"+this.element.id,a="mousedown.reorder"+this.element.id,l="mouseup.reorder"+this.element.id,this.removeHandler(re(document),o),this.removeHandler(re(document),a),this.removeHandler(re(document),l),delete this.columnsbounds),this.content&&(this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"scroll")),this._removeHandlers(),this.hScrollInstance.destroy(),this.vScrollInstance.destroy(),this.hScrollBar.remove(),this.vScrollBar.remove(),this._clearcaches(),delete this.hScrollInstance,delete this.vScrollInstance,delete this.visiblerows,delete this.hittestinfo,delete this.rows,delete this.columns,delete this.columnsbydatafield,delete this.pagescache,delete this.pageviews,delete this.cellscache,delete this.heights,delete this.hiddens,delete this.hiddenboundrows,delete this.heightboundrows,delete this.detailboundrows,delete this.details,delete this.expandedgroups,delete this._rowdetailscache,delete this._rowdetailselementscache,delete this.columnsmenu,this.columnsheader&&(this.columnsheader.remove(),delete this.columnsheader),this.selectionarea&&(this.selectionarea.remove(),delete this.selectionarea),this.menuitemsarray&&this.menuitemsarray.length)for(var d=this.menuitemsarray.length,t=0;t<d;t++)re(this.menuitemsarray[t]).remove();delete this.menuitemsarray,this.dataview._clearcaches(),this.content.removeClass(),this.content.remove(),this.content=null,delete this.content,this.vScrollBar=null,this.hScrollBar=null,delete this.hScrollBar,delete this.hScrollBar,this.gridcontent&&(this.gridcontent.remove(),delete this.gridcontent),this.gridmenu&&(this.gridmenu=null,delete this.gridmenu),delete this._mousemovefunc,delete this._mousewheelfunc,this.dataview.destroy(),delete this.dataview,this.bottomRight.remove(),delete this.bottomRight,this.wrapper.remove(),delete this.wrapper,this.pagerdiv&&(this.pagerdiv.remove(),delete this.pagerdiv),this.pagerpageinput&&(this.pagerpageinput.remove(),delete this.pagerpageinput),this.pagergoto&&(this.pagergoto.remove(),delete this.pagergoto),this.pagershowrows&&(this.pagershowrows.remove(),delete this.pagershowrows),this.pagerfirstbutton&&(this.pagerfirstbutton.remove(),delete this.pagerfirstbutton),this.pagerlastbutton&&(this.pagerlastbutton.remove(),delete this.pagerlastbutton),this.pagerbuttons&&(this.pagerbuttons.remove(),delete this.pagerbuttons),this.pagerdetails&&(this.pagerdetails.remove(),delete this.pagerdetails),this.pagergotoinput&&(this.pagergotoinput.remove(),delete this.pagergotoinput),this.pager.remove(),delete this.pager,this.groupsheader.remove(),delete this.groupsheader,this.dataloadelement.remove(),delete this.dataloadelement,this.toolbar.remove(),delete this.toolbar,this.statusbar.remove(),delete this.statusbar,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.host=null,delete this.host,delete this.element,delete this.set,delete this.get,delete this.that,delete this.call},_initializeColumns:function(){var e=this.source?this.source.datafields:null,i=!!(e=null==e&&this.source&&this.source._source?this.source._source.datafields:e)&&0<e.length;if(this.autogeneratecolumns){var t,s=new Array;if(e)re.each(e,function(){var e={datafield:this.name,text:this.text||this.name,cellsformat:this.format||""};s.push(e)});else if(0<this.source.records.length)for(t in this.source.records[0])"uid"!=t&&s.push(n={width:100,datafield:t,text:t});this.columns=s}if(this.columns&&this.columns.records)for(var r=0;r<this.columns.records.length;r++)this._removecolumnhandlers(this.columns.records[r]);var n,o=this.that,a=new re.jqx.collection(this.element),l=0,d=(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,this.commandcolumn&&this.columns.push({text:"",visible:this.editable,width:120,filterable:!1,sortable:!1,editable:!1,resizable:!1,draggable:!1,cellsrenderer:function(e,t){if(o.commandcolumnrenderer){t=o.commandcolumnrenderer(e,t,o._commandColumnEdit&&o._commandColumnEdit.boundindex===e);if(void 0!==t)return t}return o._commandColumnEdit&&o._commandColumnEdit.boundindex===e?'<span style="display: flex; justify-content: center; height: 100%; align-items: center;"><span style="cursor: pointer; text-decoration: underline;" update>'+o.gridlocalization.udpaterowstring+'</span><span style="cursor: pointer; text-decoration: underline; margin-left: 10px;" cancel>'+o.gridlocalization.cancelstring+"</span></span>":'<span style="display: flex; justify-content: center; height: 100%; align-items: center;"><span style="cursor: pointer; text-decoration: underline;" edit>'+o.gridlocalization.editstring+"</span></span>"},datafield:"_commandColumn"}),this.groupable&&re.each(this.groups,function(e){var t=new h(o,this);t.visibleindex=l++,t.width=o.groupindentwidth,a.add(t),t.grouped=!0,t.filterable=!1,t.sortable=!1,t.editable=!1,t.resizable=!1,t.draggable=!1}),this.rowdetails&&this.showrowdetailscolumn&&((n=new h(o,this)).visibleindex=l++,n.width=o.groupindentwidth,n.pinned=!0,n.editable=!1,n.filterable=!1,n.draggable=!1,n.groupable=!1,n.resizable=!1,a.add(n),o._haspinned=!0),"checkbox"==this.selectionmode&&((n=new h(o,null)).visibleindex=l++,n.width=o.groupindentwidth,n.checkboxcolumn=!0,n.editable=!1,n.columntype="checkbox",n.groupable=!1,n.draggable=!1,n.filterable=!1,n.resizable=!1,n.datafield="_checkboxcolumn",a.add(n)),new Array);re.each(this.columns,function(e){if(null!=o.columns[e]){var t=new h(o,this);if(t.visibleindex=l++,null!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(o._haspinned=!0),!o.showeverpresentrow||"addButtonColumn"!==this.datafield&&"resetButtonColumn"!==this.datafield&&"updateButtonColumn"!==this.datafield&&"deleteButtonColumn"!==this.datafield||(t.editable=!1,t.groupable=!1,t.draggable=!1,t.filterable=!1,t.resizable=!1,t.menu=!1),null==this.datafield)o.source&&o.source._source&&"array"==o.source._source.datatype&&(i||(o.source._source.datafields||(o.source._source.datafields=new Array),o.source._source.datafields.push({name:e.toString()})),this.datafield=e.toString(),this.displayfield=e.toString(),t.datafield=this.datafield,t.displayfield=this.displayfield);else{if(d[this.datafield])throw new Error("jqxGrid: Invalid column 'datafield' setting. jqxGrid's columns should be initialized with unique data fields.");d[this.datafield]=!0}a.add(t)}}),this.adaptive&&((n=new h(o,null)).visibleindex=l++,n.width=o.groupindentwidth,n.editable=!1,n.columntype="adaptive",n.cellsalign="center",n.groupable=!1,n.draggable=!1,n.menu=!1,n.sortable=!1,n.filterable=!1,n.resizable=!1,n.datafield="_adaptivecolumn",a.add(n)),this.rtl&&a.records.reverse(),this.columns=a},_initializeRows:function(){var e=new re.jqx.collection(this.element);this.rows&&this.rows.clear(),this.rows=e},_raiseEvent:function(e,t){var i,s;if(null==t&&(t={owner:null}),!1!==this._trigger)return s=this.events[e],this._camelCase||(s=s.toLowerCase()),2!=e&&15!=e||this.showeverpresentrow&&(0<=this.everpresentrowactions.indexOf("delete")||0<=this.everpresentrowactions.indexOf("update"))&&(this.updateeverpresentrow&&(i=this),setTimeout(function(){i.updateeverpresentrow()},50)),e=t,e.owner=this,s=new re.Event(s),s.owner=this,s.args=e,e=this.host.trigger(s),t=s.args,e},wheel:function(e,t){return t.autoheight&&"visible"!=t.hScrollBar.css("visibility")?e.returnValue=!0:(i=0,(e=e||window.event).originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i?((t=t._handleDelta(i))&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!t&&(e.returnValue=t=!1)):(e.preventDefault&&e.preventDefault(),void(e.returnValue=!1)));var i},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;if(e<0?this.scrollDown():this.scrollUp(),t!=this.vScrollInstance.value)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){t=this.hScrollInstance.value;if(0<e?this.hScrollInstance.value>2*this.horizontalscrollbarstep?this.hScrollInstance.setPosition(this.hScrollInstance.value-2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(this.hScrollInstance.max),t!=this.hScrollInstance.value)return this._activeFilterElement&&this._activeFilterElement.jqxDropDownList("close"),!0}return!1},scrollDown:function(){var e;"hidden"!=this.vScrollBar.css("visibility")&&((e=this.vScrollInstance).value+this.rowsheight<=e.max?e.setPosition(parseInt(e.value)+this.rowsheight):e.setPosition(e.max))},scrollUp:function(){var e;"hidden"!=this.vScrollBar.css("visibility")&&((e=this.vScrollInstance).value-this.rowsheight>=e.min?e.setPosition(parseInt(e.value)-this.rowsheight):e.setPosition(e.min))},_removeHandlers:function(){var e=this.that,t=(e.removeHandler(re(window),"orientationchange.jqxgrid"+e.element.id),e.removeHandler(re(window),"orientationchanged.jqxgrid"+e.element.id),e.removeHandler(e.vScrollBar,"valueChanged"),e.removeHandler(e.hScrollBar,"valueChanged"),e.vScrollInstance.valueChanged=null,e.hScrollInstance.valueChanged=null,"mousedown.jqxgrid");e.isTouchDevice()&&(t=re.jqx.mobile.getTouchEventName("touchend")),e.removeHandler(e.host,"dblclick.jqxgrid"),e.removeHandler(e.host,t),e.removeHandler(e.content,"mousemove",e._mousemovefunc),e.removeHandler(e.host,"mouseleave.jqxgrid"),e.removeHandler(e.content,"mouseenter"),e.removeHandler(e.content,"mouseleave"),e.removeHandler(e.content,"mousedown"),e.removeHandler(e.content,"scroll"),e.removeHandler(e.content,"selectstart."+e.element.id),e.removeHandler(e.host,"dragstart."+e.element.id),e.removeHandler(e.host,"keydown.edit"+e.element.id),e.removeHandler(re(document),"keydown.edit"+e.element.id),e.removeHandler(re(document),"keyup.edit"+e.element.id),e._mousemovedocumentfunc&&e.removeHandler(re(document),"mousemove.selection"+e.element.id,e._mousemovedocumentfunc),e.removeHandler(re(document),"mouseup.selection"+e.element.id),e._mousewheelfunc&&e.removeHandler(e.host,"mousewheel",e._mousewheelfunc),e.editable&&e.removeHandler(re(document),"mousedown.gridedit"+e.element.id),e.host.off&&(e.content.off("mousemove"),e.host.off("mousewheel"))},_addHandlers:function(){var e,h=this.that,i=h.isTouchDevice(),t=(i||h.addHandler(h.host,"dragstart."+h.element.id,function(e){return!1}),h.scrollbarautoshow&&(h.addHandler(h.host,"mouseenter.gridscroll"+h.element.id,function(e){h.vScrollBar.fadeIn("fast"),h.hScrollBar.fadeIn("fast")}),h.addHandler(h.host,"mouseleave.gridscroll"+h.element.id,function(e){h.vScrollInstance.isScrolling()||h.hScrollInstance.isScrolling()||(h.vScrollBar.fadeOut("fast"),h.hScrollBar.fadeOut("fast"))})),h.editable&&h.addHandler(re(document),"mousedown.gridedit"+h.element.id,function(s){if(h.editable&&h.begincelledit&&h.editcell&&!h.vScrollInstance.isScrolling()&&!h.vScrollInstance.isScrolling()){var e=h.host.coord(),t=h.host.width(),i=h.host.height(),r=!1,n=!1;if((s.pageY<e.top||s.pageY>e.top+i)&&(n=r=!0),r=s.pageX<e.left||s.pageX>e.left+t?!0:r){if(h.editcell&&h.editcell.editor)switch(h.editcell.columntype){case"datetimeinput":if(h.editcell.editor.jqxDateTimeInput&&h.editcell.editor.jqxDateTimeInput("container")&&"block"==h.editcell.editor.jqxDateTimeInput("container")[0].style.display){var o=h.editcell.editor.jqxDateTimeInput("container").coord().top,a=h.editcell.editor.jqxDateTimeInput("container").coord().top+h.editcell.editor.jqxDateTimeInput("container").height();if(!n||!(s.pageY<o||s.pageY>a))return;r=!0,h.editcell.editor.jqxDateTimeInput("close")}break;case"combobox":if(h.editcell.editor.jqxComboBox&&h.editcell.editor.jqxComboBox("container")&&"block"==h.editcell.editor.jqxComboBox("container")[0].style.display){o=h.editcell.editor.jqxComboBox("container").coord().top,a=h.editcell.editor.jqxComboBox("container").coord().top+h.editcell.editor.jqxComboBox("container").height();if(!n||!(s.pageY<o||s.pageY>a))return;r=!0,h.editcell.editor.jqxComboBox("close")}break;case"dropdownlist":if(h.editcell.editor.jqxDropDownList&&h.editcell.editor.jqxDropDownList("container")&&"block"==h.editcell.editor.jqxDropDownList("container")[0].style.display){o=h.editcell.editor.jqxDropDownList("container").coord().top,a=h.editcell.editor.jqxDropDownList("container").coord().top+h.editcell.editor.jqxDropDownList("container").height();if(!n||!(s.pageY<o||s.pageY>a))return;r=!0,h.editcell.editor.jqxDropDownList("close")}break;case"template":case"custom":for(var l=["jqxDropDownList","jqxComboBox","jqxDropDownButton","jqxDateTimeInput"],d=0;d<l.length;d++)if(0==function(e){var t,i=h.editcell.editor.data();if(i[e]&&i[e].instance.container&&"block"==i[e].instance.container[0].style.display)return e=(i=i[e].instance).container.coord().top,t=i.container.coord().top+i.container.height(),!(!n||!(s.pageY<e||s.pageY>t))&&(r=!0,i.close(),!0)}(l[d]))return}h.endcelledit(h.editcell.row,h.editcell.column,!1,!0),h._oldselectedcell=null}}}),h.vScrollInstance.valueChanged=function(e){h.virtualsizeinfo&&(h._closemenu(),"physical"==h.scrollmode&&null!=h.currentScrollValue&&Math.abs(h.currentScrollValue-e.currentValue),h._renderrows(h.virtualsizeinfo),h.currentScrollValue=e.currentValue,h.pageable||h.groupable||!h.dataview.virtualmode||(h.loadondemandupdate&&clearTimeout(h.loadondemandupdate),h.loadondemandupdate=setTimeout(function(){h.loadondemand=!0,h._renderrows(h.virtualsizeinfo)},100)),i&&(h._lastScroll=new Date))},h.hScrollInstance.valueChanged=function(e){var t;h.virtualsizeinfo&&(h._closemenu(),t=function(){h._renderhorizontalscroll(),h._renderrows(h.virtualsizeinfo),h.editcell&&!h.editrow&&h._showcelleditor&&h.editcell.editing&&(h.hScrollInstance.isScrolling()||h._showcelleditor(h.editcell.row,h.getcolumn(h.editcell.column),h.editcell.element,h.editcell.init))},i?t():(null==h._browser?h._isIE10():h._browser,navigator&&-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")?(h._hScrollTimer&&clearTimeout(h._hScrollTimer),h._hScrollTimer=setTimeout(function(){t()},1)):re.jqx.browser.msie?(h._hScrollTimer&&clearTimeout(h._hScrollTimer),h._hScrollTimer=setTimeout(function(){t()},.01)):t()),i&&(h._lastScroll=new Date))},h._mousewheelfunc=h._mousewheelfunc||function(e){if(!h.editcell&&h.enablemousewheel)return h.wheel(e,h),!1},h.removeHandler(h.host,"mousewheel",h._mousewheelfunc),h.addHandler(h.host,"mousewheel",h._mousewheelfunc),"mousedown.jqxgrid");i&&(t=re.jqx.mobile.getTouchEventName("touchend")),h.addHandler(h.host,t,function(e){if(h.isTouchDevice()){if(h._newScroll=new Date,h._newScroll-h._lastScroll<500)return!1;if(re(e.target).ischildof(h.vScrollBar))return!1;if(re(e.target).ischildof(h.hScrollBar))return!1}h._mousedown=new Date;var t=h._handlemousedown(e,h);return!h.isNestedGrid||h.resizablecolumn||h.columnsreorder||e.stopPropagation(),h._lastmousedown=new Date,t}),i||(h.addHandler(h.host,"dblclick.jqxgrid",function(e){return h.editable&&h.begincelledit&&"dblclick"==h.editmode?h._handledblclick(e,h):re.jqx.browser.msie&&re.jqx.browser.version<9&&h._handlemousedown(e,h),h.mousecaptured=!1,h._lastmousedown=new Date,!0}),h._mousemovefunc=function(e){if(h._handlemousemove)return h._handlemousemove(e,h)},h.addHandler(h.content,"mousemove",h._mousemovefunc),h._handlemousemoveselection&&(h._mousemovedocumentfunc=function(e){if(h._handlemousemoveselection)return h._handlemousemoveselection(e,h)},h.addHandler(re(document),"mousemove.selection"+h.element.id,h._mousemovedocumentfunc)),h.addHandler(re(document),"mouseup.selection"+h.element.id,function(e){var t;h._handlemouseupselection&&(e.shiftKey&&re(e.target).ischildof(h.host)&&h.autofill&&(t=h.editable,h.editable=!1,h._lastmousedown=new Date(2e3,1,1),h._handlemousedown(e,h),h.mousecaptured=!0,h.editable=t),h._handlemouseupselection(e,h))}));try{""==document.referrer&&!window.frameElement||null==window.top||window.top==window.self||(e=null,(e=window.parent&&document.referrer?document.referrer:e)&&-1!=e.indexOf(document.location.host)&&h.addHandler(re(window.top.document),"mouseup.grid"+h.element.id,function(e){if(h._handlemouseupselection)try{h._handlemouseupselection(e,h)}catch(e){}}))}catch(e){}h.focused=!1,i||(h.addHandler(h.content,"mouseenter",function(e){h.focused=!0,h.wrapper&&(h.wrapper.attr("tabindex",1),h.content.attr("tabindex",2)),h._overlayElement&&(h.vScrollInstance.isScrolling()||h.hScrollInstance.isScrolling()?h._overlayElement[0].style.visibility="visible":h._overlayElement[0].style.visibility="hidden")}),h.addHandler(h.content,"mouseleave",function(e){h._handlemousemove&&h.enablehover&&h._clearhoverstyle(),h._overlayElement&&(h._overlayElement[0].style.visibility="hidden"),h.focused=!1}),(h.groupable||h.columnsreorder)&&h.addHandler(re(document),"selectstart."+h.element.id,function(e){if(!0===h.__drag)return!1}),h.addHandler(h.content,"selectstart."+h.element.id,function(e){if(h.enablebrowserselection)return!0;if(h.showfilterrow&&re(e.target).ischildof(h.filterrow))return!0;if(h.showeverpresentrow){if(re(e.target).ischildof(h.addnewrow))return!0;if(h.addnewrowtop&&re(e.target).ischildof(h.addnewrowtop))return!0}return!!(e.target.className&&0<=e.target.className.indexOf("jqx-grid-widget"))||!!h.editcell&&void(e.stopPropagation&&e.stopPropagation())}),h.addHandler(re(document),"keyup.edit"+h.element.id,function(e){h._keydown=!1}),h.addHandler(re(document),"keydown.edit"+h.element.id,function(e){if(h.adaptiveview)return!0;h._keydown=!h.editcell;var t=e.charCode||e.keyCode||0;if((20===t&&(h._capsLock?h._capsLock=!1:h._capsLock=!0),h.handlekeyboardnavigation)&&((h.focused||e.target===h.element||re(e.target).ischildof(h.host))&&1==h.handlekeyboardnavigation(e)))return!1;if(h.editable&&h.editcell&&(13!=t&&27!=t&&9!=t&&32!=t||h._handleeditkeydown&&(i=h._handleeditkeydown(e,h))),27==t&&(h.mousecaptured=!1,"visible"==h.selectionarea.css("visibility")&&h.selectionarea.css("visibility","hidden")),re.jqx.browser.msie&&re.jqx.browser.version<12&&h.focused&&!h.isNestedGrid){if(13==t&&0==i)return i;var i=!0,t=e.charCode||e.keyCode||0;if((i=!h.editcell&&h.editable&&"programmatic"!=h.editmode&&h._handleeditkeydown?h._handleeditkeydown(e,h):i)&&h.keyboardnavigation&&h._handlekeydown)return(i=h._handlekeydown(e,h))||(e.preventDefault&&e.preventDefault(),null!=e.stopPropagation&&e.stopPropagation()),i}return!0}),h.addHandler(h.host,"keyup.edit"+h.element.id,function(e){if(h.adaptiveview)return!0;if(9===e.keyCode&&!re(document.activeElement).ischildof(h.filterrow)&&!re(document.activeElement).ischildof(h.pager))switch(h.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":h.getselectedcell();break;default:h.getselectedrowindex()}}),h.addHandler(h.host,"keydown.edit"+h.element.id,function(e){var t,i=!0;if(h.adaptiveview)return!0;if(h.handlekeyboardnavigation&&1==h.handlekeyboardnavigation(e))return!1;return h.editable&&"programmatic"!=h.editmode&&h._handleeditkeydown&&(i=h._handleeditkeydown(e,h),h.isNestedGrid&&e.stopPropagation()),h.editcell||!e.altKey||re(document.activeElement).ischildof(h.filterrow)||re(document.activeElement).ischildof(h.pager)||(40===e.keyCode?(t=h.getselectedcell())&&h.openmenu(t.column):38===e.keyCode&&h._closemenu()),re.jqx.browser.msie&&re.jqx.browser.version<8?h.isNestedGrid&&i&&h.keyboardnavigation&&h._handlekeydown&&(i=h._handlekeydown(e,h),e.stopPropagation()):i&&h.keyboardnavigation&&h._handlekeydown&&(i=h._handlekeydown(e,h),h.isNestedGrid&&e.stopPropagation()),i||(e.preventDefault&&e.preventDefault(),null!=e.stopPropagation&&e.stopPropagation()),i&&h.selectedcells&&0<h.selectedcells.length&&9===e.keyCode&&e.shiftKey&&h.table&&h.table[0].rows&&0<h.table[0].rows.length&&(re(document.activeElement).ischildof(h.filterrow)||re(document.activeElement).ischildof(h.pager)||h.table[0].rows[0].cells[0].focus()),i}))},_hittestrow:function(e,t){if(null!=this.vScrollInstance&&null!=this.hScrollInstance){null==e&&(e=0);var i,s,r,e=this.vScrollInstance,n=this.hScrollInstance,e=e.value,n=("visible"!=this.vScrollBar.css("visibility")&&(e=0),n.value),e=("visible"!=this.hScrollBar.css("visibility")&&(n=0),"deferred"==this.scrollmode&&null!=this._newmax&&e>this._newmax&&(e=this._newmax),parseInt(e)+t);parseInt(n);if(null!=this.visiblerows)if(0!=this.visiblerows.length)return n=!1,0<=(e=this._findvisiblerow(e,this.visiblerows))&&(i=this.visiblerows[e],s=this.rowdetails&&i.rowdetails,r=!i.rowdetailshidden,s&&((s=this.visiblerows[e-1])==i&&(i=s,e--),r&&(s=re(this.hittestinfo[e].visualrow).position().top+parseInt(this.table.css("top")),r=re(this.hittestinfo[e].visualrow).height(),s<=t&&t<=s+r||(i=this.visiblerows[++e],n=!0)))),{index:e,row:i,details:n}}},getcellatposition:function(e,t){var i=this.that,s=this.showheader?this.columnsheader.height()+2:0,r=this._groupsheader()?this.groupsheader.height():0,n=(r=r+(this.showtoolbar?this.toolbarheight:0)+(this.showfilterbar?this.toolbarheight:0),this.host.coord()),o=e-(n=this.hasTransform?re.jqx.utilities.getOffset(this.host):n).left,a=t-s-n.top-r,t=this._hittestrow(o,a),s=t.row,n=t.index,l=this.table[0].rows[n];if(this.dataview&&0==this.dataview.records.length){for(var d=this.table[0].rows,h=0,c=0;c<d.length;c++){if(h<=a&&a<h+this.rowsheight){l=d[c];break}h+=this.rowsheight}s={boundindex:c}}if(null==l)return!0;for(var u=this.hScrollInstance.value,p=0,c=(this.groupable&&this.groups.length,0);c<l.cells.length;c++){var m=parseInt(re(this.columnsrow[0].cells[c]).css("left")),e=m-u;if(i.columns.records[c].pinned&&(e=m),!i.columns.records[c].hidden&&!i.columns.records[c].adaptivehidden)if(o<=e+re(this.columnsrow[0].cells[c]).width()&&e<=o){p=c;break}}return null!=s?(r=this._getcolumnat(p),{row:this.getboundindex(s),column:r.datafield,value:this.getcellvalue(this.getboundindex(s),r.datafield)}):null},_handlecardedit:function(e){var p=e.target.getAttribute("row"),m=document.createElement("div"),t=this.getrowdatabyid(p),i='<div class="jqx-grid-card-cell">';i+="<table>";for(var s=0;s<this.columns.records.length;s++){var r,n=this.columns.records[s];n.hidden&&void 0===n.__hidden||(r=t[n.datafield],""!=n.cellsformat&&re.jqx.dataFormat&&(re.jqx.dataFormat.isDate(r)?r=re.jqx.dataFormat.formatdate(r,n.cellsformat,this.gridlocalization):re.jqx.dataFormat.isNumber(r)&&(r=re.jqx.dataFormat.formatnumber(r,n.cellsformat,this.gridlocalization))),i=(i=(i+='<tr class="jqx-grid-card-table-row">')+'<td class="jqx-grid-card-cell-label"><div>'+n.text+"</div></td>")+'<td class="jqx-grid-card-cell-value"><div><input datafield="'+n.datafield+'" class="jqx-widget jqx-input" value="'+r+'"/></div></td></tr>')}m.innerHTML="<div>"+this.gridlocalization.udpaterowstring+" "+p+'</div><div style="overflow: hidden;">'+(i=(i=i+"</table>"+"</div>")+'<div class="jqx-card-edit-buttons"><input style="margin-right: 5px;" type="button" dataid="Save" value="Save" /><input dataid="Cancel" type="button" value="Cancel" /></td>'+"</div>")+"</div></div>";var e=m.querySelector('[dataid="Save"]'),o=m.querySelector('[dataid="Cancel"]'),g=(re(e).jqxButton({template:"primary",width:"40%",theme:this.theme}),re(o).jqxButton({width:"40%",theme:this.theme}),this);e.onclick=function(){for(var e=re(m).find("[datafield]"),t={},i=0;i<e.length;i++){for(var s=e[i].getAttribute("datafield"),r=e[i].value,n=0;n<g.dataview.source.datafields.length;n++){var o=g.dataview.source.datafields[n];if(o.name===s){"bool"!==o.type&&"boolean"!==o.type||(r=!0);var a=g._getcolumnbydatafield(o.name),o=o.type,l="date"===o||"time"===o;if("number"===o||"float"===o||"int"===o||"integer"===o||"string"===o&&(-1!=a.cellsformat.indexOf("p")||-1!=a.cellsformat.indexOf("c")||-1!=a.cellsformat.indexOf("n")||-1!=a.cellsformat.indexOf("f"))){if(""===r&&a.nullable)return"";r=r.indexOf&&-1<r.indexOf(g.gridlocalization.currencysymbol)?r.replace(g.gridlocalization.currencysymbol,""):r;var d=parseFloat(r);if(isNaN(d)){-1<(r=(r=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s}(r,g.gridlocalization.thousandsseparator,"")).replace(g.gridlocalization.decimalseparator,".")).indexOf(g.gridlocalization.percentsymbol)&&(r=r.replace(g.gridlocalization.percentsymbol,""));for(var h="",c=0;c<r.length;c++){var u=r.substring(c,c+1);"-"===u&&(h+="-"),"."===u&&(h+="."),null!=u.match(/^[0-9]+$/)&&(h+=u)}r=(r=h).replace(/ /g,""),r=new Number(r),isNaN(r)&&(r="")}else r=d}if(l||"string"===o&&(-1!=a.cellsformat.indexOf("H")||-1!=a.cellsformat.indexOf("m")||-1!=a.cellsformat.indexOf("M")||-1!=a.cellsformat.indexOf("y")||-1!=a.cellsformat.indexOf("h")||-1!=a.cellsformat.indexOf("d"))){if(""===r&&a.nullable)return"";d=r;"Invalid Date"!=(r=re.jqx.dataFormat?re.jqx.dataFormat.tryparsedate(d,g.gridlocalization):r)&&null!=r||(r="")}}}t[s]=r}g.updaterow(p,t),re(m).jqxWindow("close")},o.onclick=function(){re(m).jqxWindow("close")},document.body.appendChild(m),re(m).jqxWindow({position:{left:this.host.offset().left,top:this.host.offset().top},modalOpacity:.01,width:this.element.offsetWidth,height:this.element.offsetHeight,isModal:!0,autoOpen:!1,resizable:!1,draggable:!1}),re(m).jqxWindow("open"),this.cardwindow&&re(this.cardwindow).remove(),this.cardwindow=m},_handlemousedown:function(e,n){if(null==e.target)return!0;if(n.disabled)return!0;if(re(e.target).ischildof(this.columnsheader)||re(e.target).ischildof(this.hScrollBar)||re(e.target).ischildof(this.vScrollBar))return!0;if(e.target===n.bottomRight[0])return!0;var t;if(n.cardview&&e.target&&0<=e.target.className.indexOf("jqx-icon-edit")&&n._handlecardedit(e),e.which?t=3==e.which:e.button&&(t=2==e.button),e.which?i=2==e.which:e.button&&(i=1==e.button),i)return!0;if(this.adaptiveview){if(re(e.target).ischildof(re(this.adaptiveview)))return!0;if(e.target==this.adaptiveview)return!0}if(this.showstatusbar){if(re(e.target).ischildof(this.statusbar))return!0;if(e.target==this.statusbar[0])return!0}if(this.showtoolbar){if(re(e.target).ischildof(this.toolbar))return!0;if(e.target==this.toolbar[0])return!0}if(this.showfilterbar){if(re(e.target).ischildof(this.filterbar))return!0;if(e.target==this.filterbar[0])return!0}if(this.pageable){if(re(e.target).ischildof(this.pager))return!0;if(e.target==this.pager[0])return!0}if(!this.columnsheader)return!0;if(!this.editcell&&this.pageable&&re(e.target).ischildof(this.pager))return!0;var i=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0,r=(s=s+(this.showtoolbar?this.toolbarheight:0)+(this.showfilterbar?this.toolbarheight:0),this.host.coord()),o=(this.hasTransform&&(r=re.jqx.utilities.getOffset(this.host),a=this._getBodyOffset(),r.left-=a.left,r.top-=a.top),parseInt(e.pageX)),a=parseInt(e.pageY),l=(this.isTouchDevice()&&(d=n.getTouches(e)[0],o=parseInt(d.pageX),a=parseInt(d.pageY),1==n.touchmode&&null!=d._pageX&&(o=parseInt(d._pageX),a=parseInt(d._pageY))),o-r.left),d=a-i-r.top-s;if(this.pageable&&!this.autoheight&&this.gotopage&&this.pager.coord().top-r.top-s-i<d)return;a=this._hittestrow(l,d);if(a&&!a.details){var r=a.row,h=a.index,i=e.target.className,c=this.table[0].rows[h];if(null==c)return n.editable&&n.begincelledit&&n.editcell&&n.endcelledit(n.editcell.row,n.editcell.column,!1,!0),!0;n.mousecaptured=!0,n.mousecaptureposition={left:e.pageX,top:e.pageY-s,clickedrow:c};var d=this.hScrollInstance,u=d.value,p=(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(u=d.max-d.value),-1),s=this.groupable?this.groups.length:0;this.rtl&&("hidden"!=this.vScrollBar[0].style.visibility&&(u-=this.scrollbarsize+4),"hidden"==this.hScrollBar[0].style.visibility&&(u=-parseInt(this.content.css("left"))));for(var m=0;m<c.cells.length;m++){var o=(f=parseInt(re(this.columnsrow[0].cells[m]).css("left")))-u,g=(n.columns.records[m].pinned&&!n.rtl&&(o=f),this._getcolumnat(m));if(null==g||!g.hidden)if(null==g||!g.adaptivehidden)if(l<=o+re(this.columnsrow[0].cells[m]).width()&&o<=l){p=m,n.mousecaptureposition.clickedcell=m;break}}if(this.rtl&&this._haspinned)for(m=c.cells.length-1;0<=m&&n.columns.records[m].pinned;m--){var f,o=f=re(this.columnsrow[0].cells[m]).coord().left-this.host.coord().left,g=this._getcolumnat(m);if((null==g||!g.hidden)&&(null==g||!g.adaptivehidden)&&l<=o+re(this.columnsrow[0].cells[m]).width()&&o<=l){p=m,n.mousecaptureposition.clickedcell=m;break}}if(null!=r&&0<=p){this._raiseEvent(1,{rowindex:this.getboundindex(r),visibleindex:r.visibleindex,row:r,group:r.group,rightclick:t,originalEvent:e});g=this._getcolumnat(p),d=this.getcellvalue(this.getboundindex(r),g.datafield);if(this.editable&&this.editcell&&(this._currentEditableColumn=p,g.datafield==this.editcell.column&&this.getboundindex(r)==this.editcell.row&&(this.mousecaptured=!1)),"adaptive"===g.columntype){for(var v,x,y=document.createElement("div"),w=document.createElement("div"),b=document.createElement("a"),_=document.createElement("a"),q=document.createElement("div"),j=this.getrowdata(this.getboundindex(r)),T=(b.href="#",_.href="#",y.style.zIndex=99999,y.style.position="absolute",y.style.left="0px",y.style.top="0px",y.style.width="100%",y.style.height="100%",y.className="jqx-adaptive-view jqx-widget-content",q.style.position="relative",q.style.top="100%",q.style.textAlign="center",q.style.marginTop="-40px",w.style.position="absolute",w.style.left="0px",w.style.top="0px",w.style.width="100%",w.style.height="100%",this.theme&&(y.className="jqx-widget-content jqx-widget-content-"+this.theme),document.createElement("span")),C=(T.className="jqx-icon-close",this.theme&&(T.className="jqx-icon-close jqx-widget-close-"+this.theme),T.style.zIndex=99,T.style.position="absolute",T.style.right="10px",T.style.top="10px",T.style.width="16px",T.style.height="16px",y.appendChild(w),y.appendChild(T),b.innerHTML=this.gridlocalization.okstring,_.innerHTML=this.gridlocalization.cancelstring,b.addEventListener("mousedown",function(e){for(var t={},i=n.adaptiveview.querySelectorAll("input"),s=0;s<i.length;s++){var r=n.escape_HTML(i[s].value);t[i[s].getAttribute("data-column")]=r}return n.updaterow(j.uid,t),y.parentNode.removeChild(y),n.adaptiveview=null,e.stopPropagation(),!1}),_.addEventListener("mousedown",function(){return y.parentNode.removeChild(y),n.adaptiveview=null,e.stopPropagation(),!1}),this.editable&&(q.appendChild(b),q.appendChild(_),y.appendChild(q)),"<table class='jqx-adaptive-table'><tr>"),h=0,m=0;m<this.columns.records.length;m++)"adaptive"!==(g=this.columns.records[m]).columntype&&"_checkboxcolumn"!==g.datafield&&(0<m&&h%2==0&&(C+="</tr><tr>"),v=j[g.displayfield],""!=g.cellsformat&&re.jqx.dataFormat&&(re.jqx.dataFormat.isDate(v)?v=re.jqx.dataFormat.formatdate(v,g.cellsformat,this.gridlocalization):re.jqx.dataFormat.isNumber(v)&&(v=re.jqx.dataFormat.formatnumber(v,g.cellsformat,this.gridlocalization))),x=this.filterable?'<div datafield="'+g.datafield+'" class="'+n.toTP("jqx-grid-column-filterbutton")+'" style="position: relative; top: 4px; display: inline-block; width: 16px; height:16px;"></div>':"",this.editable?g.editable?C+="<td>"+x+this.escape_HTML(g.text)+": <input data-column='"+g.displayfield+"' value='"+v+"'/></td>":C+="<td>"+x+this.escape_HTML(g.text)+": <input data-column='"+g.displayfield+"' readonly value='"+v+"'/></td>":C+="<td>"+x+this.escape_HTML(g.text)+": "+v+"</td>",h++);return w.innerHTML=C+="</tr></table>",T.addEventListener("mousedown",function(e){y.parentNode.removeChild(y),n.adaptiveview=null}),this.wrapper[0].appendChild(y),this.adaptiveview=y,void re(this.adaptiveview).find(".jqx-grid-column-filterbutton").on("click",function(){var e=this.getAttribute("datafield"),t=this.offsetTop;n.openmenu(e),setTimeout(function(){n.gridmenu.css("top",30+t),n.gridmenu.css("left",25),n.gridmenu.css("z-index",99999),n.gridmenu.parent().css("z-index",99999)},300)})}if("_commandColumn"===g.datafield&&(h=this.getboundindex(r),!this._commandColumnEdit&&e.target&&e.target.hasAttribute("edit")?(this._commandColumnEdit=r,this._commandColumnEditMode=this.editmode,this.editmode="selectedrow",this._rendervisualrows(),this.beginrowedit(h)):e.target&&e.target.hasAttribute("cancel")?(this.endrowedit(h,!0),this._cellscache=new Array,this._renderrows(this.virtualsizeinfo)):e.target&&e.target.hasAttribute("update")&&(this.endrowedit(h,!1),this._cellscache=new Array,this._renderrows(this.virtualsizeinfo))),this._raiseEvent(8,{rowindex:this.getboundindex(r),column:g?g.getcolumnproperties():null,row:r,visibleindex:r.visibleindex,datafield:g?g.datafield:null,columnindex:p,value:d,rightclick:t,originalEvent:e}),g.createwidget)return!0;if(this.isTouchDevice())if("checkbox"==g.columntype&&this.editable&&this._overlayElement){if(!this.editcell)return this._overlayElement.css("visibility","hidden"),this.editcell=this.getcell(h,g.datafield),!0}else if("button"==g.columntype&&this._overlayElement)return g.buttonclick&&g.buttonclick(c.cells[p].buttonrow,e),!0;b=!1;if(null!=this._lastmousedown&&this._mousedown-this._lastmousedown<300&&this._clickedrowindex==this.getboundindex(r)&&(this._raiseEvent(22,{rowindex:this.getboundindex(r),row:r,visibleindex:r.visibleindex,group:r.group,rightclick:t,originalEvent:e}),this._clickedcolumn==g.datafield&&this._raiseEvent(23,{rowindex:this.getboundindex(r),row:r,visibleindex:r.visibleindex,column:g?g.getcolumnproperties():null,datafield:g?g.datafield:null,columnindex:p,value:d,rightclick:t,originalEvent:e}),b=!0,this._clickedrowindex=-1,this._clickedcolumn=null,e.isPropagationStopped&&e.isPropagationStopped()))return!1;if(t)return!0;b||(this._clickedrowindex=this.getboundindex(r),this._clickedcolumn=g.datafield);_=re.jqx.utilities.getBrowser();if("msie"==_.browser&&parseInt(_.version)<=7&&(0==p&&this.rowdetails&&(i="jqx-grid-group-collapse"),0<s&&p<=s&&(i="jqx-grid-group-collapse")),-1!=i.indexOf("jqx-grid-group-expand")||-1!=i.indexOf("jqx-grid-group-collapse"))this.rtl?0<s&&p>c.cells.length-s-1&&this._togglegroupstate?this._togglegroupstate(r.bounddata,!0):p==c.cells.length-1-s&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(r.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0):0<s&&p<s&&this._togglegroupstate?this._togglegroupstate(r.bounddata,!0):p==s&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(r.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0);else if(-1!=r.boundindex){var S,k,q=this.selectedrowindexes.slice(0),w=!1;if("none"!=n.selectionmode&&"checkbox"!=n.selectionmode&&this._selectrowwithmouse&&("multiplecellsadvanced"!=n.selectionmode&&"multiplecellsextended"!=n.selectionmode&&"multiplerowsextended"!=n.selectionmode&&"multiplerowsadvanced"!=n.selectionmode||e.ctrlKey||e.shiftKey||e.metaKey||(n.selectedrowindexes=new Array,n.selectedcells=new Array),S=!1,k=this.getboundindex(r),n._oldselectedrow!==k&&"none"!==n.selectionmode||(S=!0),-1==n.selectionmode.indexOf("cell")?("singlerow"!=n.selectionmode||n.selectedrowindex!=k&&"singlerow"==n.selectionmode)&&(this._applyrowselection(k,!0,!1,null,g.datafield),this._selectrowwithmouse(n,a,q,g.datafield,e.ctrlKey||e.metaKey,e.shiftKey)):null!=g.datafield&&(this._selectrowwithmouse(n,a,q,g.datafield,e.ctrlKey||e.metaKey,e.shiftKey),e.shiftKey||this._applycellselection(k,g.datafield,!0,!1)),n._oldselectedcell&&n._oldselectedcell.datafield==n.selectedcell.datafield&&n._oldselectedcell.rowindex==n.selectedcell.rowindex&&(w=!0),n._oldselectedcell=n.selectedcell,n._oldselectedrow=k),n.autosavestate&&n.savestate&&n.savestate(),n.editable&&n.begincelledit&&"programmatic"!=n.editmode)return e.isPropagationStopped&&e.isPropagationStopped()?!1:("selectedrow"==n.editmode?S&&!n.editcell?"checkbox"!==g.columntype&&(this._currentEditableColumn=p,n.beginrowedit(this.getboundindex(r))):n.editcell&&!S&&"none"!=n.selectionmode&&n.endrowedit(n.editcell.row):(k=this.getboundindex(r),T="click"==n.editmode||w&&"selectedcell"==n.editmode,(T=-1==n.selectionmode.indexOf("cell")&&"dblclick"!=n.editmode?!0:T)&&null!=r.boundindex&&g.editable&&(n.begincelledit(this.getboundindex(r),g.datafield,g.defaulteditorvalue,!1),-1!=n.selectionmode.indexOf("cell")&&n._applycellselection(k,g.datafield,!1,!1)),-1!=n.selectionmode.indexOf("cell")&&"selectedcell"==n.editmode&&!w&&n.editcell&&n.endcelledit(n.editcell.row,n.editcell.column,!1,!0),"dblclick"!=n.editmode||w||!n.editcell||n.editcell.row==k&&g.datafield==n.editcell.column||n.endcelledit(n.editcell.row,n.editcell.column,!1,!0)),!0)}}return!0}},_columnPropertyChanged:function(e,t,i,s){},_rowPropertyChanged:function(e,t,i,s){},_serializeObject:function(e){if(null==e)return"";var s="";return re.each(e,function(e){0<e&&(s+=", "),s+="[";var t,i=0;for(t in this)0<i&&(s+=", "),s+="{"+t+":"+this[t]+"}",i++;s+="]"}),s},isbindingcompleted:function(){return!this._loading},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._updatesize(!0,!0),e._resizeWindow(),e.virtualmode&&!e._loading?e.vScrollInstance.setPosition(0):setTimeout(function(){e._renderrows(e.virtualsizeinfo)},100))},propertyChangedHandler:function(e,t,i,s){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length))switch(t=t.toLowerCase()){case"cardview":case"cardviewsize":case"cardviewcolumns":case"cardheight":"cardview"===t&&s&&(e._oldrowsheight=e.rowsheight),e.prerenderrequired,e.rowsheight=32,e.__rowsheight=e.rowsheight,e.virtualsizeinfo=null,e.cardview?(e.__rowsheight=e.rowsheight,e.rowsheight=e.cardheight):e._oldrowsheight&&(e.__rowsheight=e._oldrowsheight,e.rowsheight=e._oldrowsheight,delete e._oldrowsheight),e.virtualsizeinfo=null,e.rendergridcontent(!0,!1),e.refreshdata();break;case"compact":const n=e;n.compact?(n.element.setAttribute("compact",""),this.rowsheight=25,this.columnsheight=25,this.pagerheight=30,this.groupsheaderheight=25):(n.element.removeAttribute("compact",""),this.rowsheight=32,this.columnsheight=36,this.pagerheight=40,this.groupsheaderheight=34),e.virtualsizeinfo=null,e.rendergridcontent(!0,!1),e.refreshdata();break;case"editable":case"showcolumnheaderlines":case"showcolumnlines":case"showrowlines":e.refresh();break;case"everpresentrowactionsmode":i!=s&&(e._removeaddnewrow(),e.render());break;case"everpresentrowactions":e._updateaddnewrowui();break;case"showeverpresentrow":case"everpresentrowposition":case"everpresentrowheight":i!=s&&(e._removeaddnewrow(),e.render());break;case"rtl":e.content.css("left",""),e.columns=e._columns,e._filterrowcache=[],e.vScrollBar.jqxScrollBar({rtl:s}),e.hScrollBar.jqxScrollBar({rtl:s}),e._initpager&&e._initpager(),e._initgroupsheader&&e._initgroupsheader(),e.render();break;case"enablebrowserselection":e.showfilterrow||(e.showstatusbar||e.showtoolbar||e.host.addClass("jqx-disableselect"),e.content.addClass("jqx-disableselect")),e.enablebrowserselection&&(e.content.removeClass("jqx-disableselect"),e.host.removeClass("jqx-disableselect"));break;case"columnsheight":32==e.columnsheight&&!e.columngroups||e._measureElement("column"),e._render(!0,!0,!0,!1,!1);break;case"rowsheight":s!=i&&(31!=e.rowsheight&&e._measureElement("cell"),e.virtualsizeinfo=null,e.rendergridcontent(!0,!1),e.refresh());break;case"scrollMode":e.vScrollInstance.thumbStep=e.rowsheight;break;case"showdefaultloadelement":e._builddataloadelement();break;case"showfiltermenuitems":case"showsortmenuitems":case"showgroupmenuitems":case"filtermode":e._initmenu();break;case"touchmode":i!=s&&(e._removeHandlers(),e.touchDevice=null,e.vScrollBar.jqxScrollBar({touchMode:s}),e.hScrollBar.jqxScrollBar({touchMode:s}),e._updateTouchScrolling(),e._arrange(),e._updatecolumnwidths(),e._updatecellwidths(),e._addHandlers());break;case"autoshowcolumnsmenubutton":i!=s&&e._rendercolumnheaders();break;case"rendergridrows":i!=s&&e.updatebounddata();break;case"editmode":i!=s&&(e._removeHandlers(),e._addHandlers());break;case"source":e.updatebounddata(),e.virtualmode&&!e._loading&&(e.loadondemand=!0,e._renderrows(e.virtualsizeinfo));break;case"horizontalscrollbarstep":case"verticalscrollbarstep":case"horizontalscrollbarlargestep":case"verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep}),this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep});break;case"closeablegroups":e._initgroupsheader&&e._initgroupsheader();break;case"showgroupsheader":i!=s&&(e._arrange(),e._initgroupsheader&&e._initgroupsheader(),e._renderrows(e.virtualsizeinfo));break;case"theme":s!=i&&(re.jqx.utilities.setTheme(i,s,e.host),e.gridmenu&&e.gridmenu.jqxMenu({theme:s}),e.pageable&&e._updatepagertheme(),e.filterable&&e._updatefilterrowui(!0),e.showeverpresentrow&&e._updateaddnewrowui(!0),e._applyThemeSettings());break;case"showtoolbar":case"showfilterbar":case"toolbarheight":i!=s&&(e._arrange(),e.refresh());break;case"showstatusbar":i!=s&&(e.statusbar&&(s?e.statusbar.show():e.statusbar.hide()),e._arrange(),e.refresh());break;case"statusbarheight":i!=s&&(e._arrange(),e.refresh());break;case"filterable":case"showfilterrow":i!=s&&e.render();break;case"autoshowfiltericon":case"showfiltercolumnbackground":case"showpinnedcolumnbackground":case"showsortcolumnbackground":i!=s&&e.rendergridcontent();break;case"showrowdetailscolumn":i!=s&&e.render();break;case"scrollbarsize":i!=s&&(re.jqx.utilities.scrollBarSize=s,e._arrange());break;case"width":case"height":i!=s&&(e._updatesize(!0,!0),e._resizeWindow(),e.virtualmode&&!e._loading?e.vScrollInstance.setPosition(0):setTimeout(function(){e._renderrows(e.virtualsizeinfo)},100));break;case"altrows":case"altstart":case"altstep":i!=s&&e._renderrows(e.virtualsizeinfo);break;case"groupsheaderheight":i!=s&&(e._arrange(),e._initgroupsheader&&e._initgroupsheader());break;case"pagerheight":i!=s&&e._initpager();break;case"selectedrowindex":e.selectrow(s);break;case"selectionmode":i!=s&&("none"==s&&(e.selectedrowindexes=new Array,e.selectedcells=new Array,e.selectedrowindex=-1),e._renderrows(e.virtualsizeinfo),"checkbox"==s&&e._render(!1,!1,!0,!1,!1));break;case"showheader":s?e.columnsheader.css("display","block"):e.columnsheader.css("display","none");break;case"virtualmode":i!=s&&(e.dataview.virtualmode=e.virtualmode,e.dataview.refresh(!1),e._render(!1,!1,!1));break;case"columnsmenu":i!=s&&e.render();break;case"columngroups":e._render(!0,!0,!0,!1,!1);break;case"commandcolumn":case"columns":var r;e.columns&&e.columns.length>e.headerZIndex&&(e.headerZIndex=e.columns.length+100),e._serializeObject(e._cachedcolumns)!==e._serializeObject(s)?(r=!1,e.filterable&&i&&i.records&&re.each(i.records,function(){this.filter&&(r=!0),e.dataview.removefilter(this.displayfield,this.filter)}),e._columns=null,e._filterrowcache=[],e.render(),r&&e.applyfilters(),e._cachedcolumns=e.columns,e.removesort&&e.removesort()):e[t]=i;break;case"autoheight":i!=s&&e._render(!1,!1,!0);break;case"pagermode":case"pagerbuttonscount":i!=s&&e._initpager&&(e.pagershowrowscombo&&(e.pagershowrowscombo.jqxDropDownList("destroy"),e.pagershowrowscombo=null),e.pagerrightbutton&&(e.removeHandler(e.pagerrightbutton,"mousedown"),e.removeHandler(e.pagerrightbutton,"mouseup"),e.removeHandler(e.pagerrightbutton,"click"),e.pagerrightbutton.jqxButton("destroy"),e.pagerrightbutton=null),e.pagerleftbutton&&(e.removeHandler(e.pagerleftbutton,"mousedown"),e.removeHandler(e.pagerleftbutton,"mouseup"),e.removeHandler(e.pagerleftbutton,"click"),e.pagerleftbutton.jqxButton("destroy"),e.removeHandler(re(document),"mouseup.pagerbuttons"+e.element.id),e.pagerleftbutton=null),e.pagerdiv.remove(),e._initpager());break;case"pagesizeoptions":case"pageable":case"pagesize":if(i!=s){if(e._loading)throw new Error("jqxGrid: "+e.loadingerrormessage);if(!e.host.jqxDropDownList||!e.host.jqxListBox)return void e._testmodules();if(e._initpager){if("pageable"!=t&&"pagermode"!=t)if("string"==typeof s)throw new Error("Invalid Value for: "+t+". "+("pagesize"!=t?"The expected value type is: Array of Int values.":"The expected value type is: Int."));e.dataview.pageable=e.pageable,e.dataview.pagenum=0,e.dataview.pagesize=e._getpagesize(),e.virtualmode&&e.updatebounddata(),e.dataview.refresh(!0),e._initpager(),"pagesizeoptions"==t&&null!=s&&0<s.length&&(e.pagesize=parseInt(s[0]),e.dataview.pagesize=parseInt(s[0]),e.prerenderrequired=!0,e._requiresupdate=!0,e.dataview.pagenum=-1,e.gotopage(0))}e._render(!1,!1,!1)}break;case"groups":e._serializeObject(i)!==e._serializeObject(s)&&(e.dataview.groups=s,e._refreshdataview(),e._render(!0,!0,!0,!1));break;case"groupable":i!=s&&(e.dataview.groupable=e.groupable,e.dataview.pagenum=0,e.dataview.refresh(!1),e._render(!1,!1,!0));break;case"renderstatusbar":null!=s&&e.renderstatusbar(e.statusbar);break;case"rendertoolbar":null!=s&&e.rendertoolbar(e.toolbar);break;case"disabled":s?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),re.jqx.aria(e,"aria-disabled",e.disabled),e.pageable&&(e.pagerrightbutton&&(e.pagerrightbutton.jqxButton({disabled:s}),e.pagerleftbutton.jqxButton({disabled:s}),e.pagershowrowscombo.jqxDropDownList({disabled:s}),e.pagergotoinput.attr("disabled",s)),e.pagerfirstbutton&&(e.pagerfirstbutton.jqxButton({disabled:s}),e.pagerlastbutton.jqxButton({disabled:s}))),e.vScrollBar.jqxScrollBar({disabled:s}),e.hScrollBar.jqxScrollBar({disabled:s}),e.filterable&&e.showfilterrow&&e._updatefilterrowui(!0),e.showeverpresentrow&&e._updateaddnewrowui(!0)}}}),re.jqx.collection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginupdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this._raiseEvent=function(e){},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t,this.updating||this._raiseEvent({type:"replace",element:t})},this.isempty=function(e){return null==this.records[e]},this.initialize=function(e){this.records[(e=e<1?1:e)-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,this.updating||this._raiseEvent({type:"add",element:e}),!0)},this.insertAt=function(e,t){return null!=e&&(null!=t&&(0<=e&&(e<this.records.length?(this.records.splice(e,0,t),this.updating||this._raiseEvent({type:"insert",index:e,element:t}),!0):this.add(t))))},this.remove=function(e){if(null==e)return!1;var t=this.records.indexOf(e);return-1!=t&&(this.records.splice(t,1),this.updating||this._raiseEvent({type:"remove",element:e}),!0)},this.removeAt=function(e){return null!=e&&(!(e<0)&&(e<this.records.length&&(t=this.records[e],this.records.splice(e,1),this.updating||this._raiseEvent({type:"removeAt",index:e,element:t}),!0)));var t},this},re.jqx.dataview=function(){return(this.self=this).aggregates=!1,this.grid=null,this.uniqueId="id",this.records=[],this.rows=[],this.columns=[],this.groups=[],this.filters=new Array,this.updated=null,this.update=null,this.suspend=!1,this.pagesize=0,this.pagenum=0,this.totalrows=0,this.totalrecords=0,this.groupable=!0,this.loadedrecords=[],this.loadedrootgroups=[],this.loadedgroups=[],this.loadedgroupsByKey=[],this.virtualmode=!0,this._cachegrouppages=new Array,this.source=null,this.changedrecords=new Array,this.rowschangecallback=null,(this.that=this).destroy=function(){delete this.self,delete this.grid,delete this.uniqueId,delete this.records,delete this.rows,delete this.columns,delete this.groups,delete this.filters,delete this.updated,delete this.update,delete this.suspend,delete this.pagesize,delete this.pagenum,delete this.totalrows,delete this.totalrecords,delete this.groupable,delete this.loadedrecords,delete this.loadedrootgroups,delete this.loadedgroups,delete this.loadedgroupsByKey,delete this.virtualmode,delete this._cachegrouppages,delete this.source,delete this.changedrecords,delete this.rowschangecallback,delete this.that},this.suspendupdate=function(){this.suspend=!0},this.isupdating=function(){return this.suspend},this.resumeupdate=function(e){this.suspend=!1,this.refresh(e=null==e?!0:e)},this.getrecords=function(){return this.records},this.clearrecords=function(){this.recordids=new Array},this.databind=function(d,e){var t=!!d._source,h=null,i=(this.grid&&(this.aggregates=this.grid.showgroupaggregates),t?d=(h=d)._source:h=new re.jqx.dataAdapter(d,{autoBind:!1}),function(e){if(e.totalrecords=h.totalrecords,e.virtualmode){var t={startindex:e.pagenum*e.pagesize,endindex:e.pagenum*e.pagesize+e.pagesize};if(null!=d.recordstartindex&&(t.startindex=parseInt(d.recordstartindex)),null!=d.recordendindex?t.endindex=parseInt(d.recordendindex):e.grid.pageable||(t.endindex=t.startindex+100,e.grid.autoheight&&(t.endindex=t.startindex+e.totalrecords)),d.recordendindex||(e.grid.pageable?t={startindex:e.pagenum*e.pagesize,endindex:e.pagenum*e.pagesize+e.pagesize}:(t.endindex=t.startindex+100,e.grid.autoheight&&(t.endindex=t.startindex+e.totalrecords))),t.data=h.records,e.grid.rendergridrows&&0<e.totalrecords){var i,s,r=0;if(d.records=e.grid.rendergridrows(t),d.records.length&&(r=d.records.length),d.records&&!d.records[t.startindex]&&(i=new Array,s=t.startindex,re.each(d.records,function(){i[s]=this,s++,r++}),d.records=i),0==r&&d.records&&re.each(d.records,function(){r++}),0<r&&r<t.endindex-t.startindex&&!e.grid.groupable)for(var n=d.records[0],o=0;o<t.endindex-t.startindex-r;o++){var a,l={};for(a in n)l[a]="";d.records.push&&d.records.push(l)}}d.records&&0!=e.totalrecords||(d.records=new Array),e.originaldata=d.records,e.records=d.records,e.cachedrecords=d.records}else e.originaldata=h.originaldata,e.records=h.records,e.recordids=h.recordids,e.cachedrecords=h.cachedrecords}),o=(t=this,h.recordids=[],h.records=new Array,h.cachedrecords=new Array,h.originaldata=new Array,h._options.virtualmode=t.virtualmode,h._options.totalrecords=t.totalrecords,h._options.originaldata=t.originaldata,h._options.recordids=t.recordids,h._options.cachedrecords=new Array,h._options.pagenum=t.pagenum,h._options.pageable=t.pageable,null!=d.type&&(h._options.type=d.type),null!=d.formatdata&&(h._options.formatData=d.formatdata),null!=d.contenttype&&(h._options.contentType=d.contenttype),null!=d.async&&(h._options.async=d.async),null!=d.updaterow&&(h._options.updaterow=d.updaterow),null!=d.addrow&&(h._options.addrow=d.addrow),null!=d.deleterow&&(h._options.deleterow=d.deleterow),0==t.pagesize&&(t.pagesize=10),h._options.pagesize=t.pagesize,this.source=d,void 0!==e&&0,this.that);switch(d.datatype){case"local":case"array":default:null==d.localdata&&(d.localdata=[]),null!=d.localdata&&(h.unbindBindingUpdate(o.grid.element.id),(!o.grid.autobind&&o.grid.isInitialized||o.grid.autobind)&&h.dataBind(),(_=function(r){var n;if(null!=r&&""!=r&&(h._changedrecords[0]&&(n=new Array,re.each(h._changedrecords,function(e){var t=this.index,i=this.record;switch(o.grid._updateFromAdapter=!0,r){case"update":var s=o.grid.getrowid(t);return e==h._changedrecords.length-1?o.grid.updaterow(s,i):o.grid.updaterow(s,i,!1),void(o.grid._updateFromAdapter=!1);case"add":return o.grid.addrow(null,i),void(o.grid._updateFromAdapter=!1);case"remove":s=o.grid.getrowid(t);return void n.push(s)}}),0<n.length&&(o.grid.deleterow(n,!1),o.grid._updateFromAdapter=!1)),"update"==r))return;var e=o.totalrecords;i(o,r),null===d.localdata.notifier&&"observableArray"==d.localdata.name&&(d.localdata.notifier=function(e){if(!o._updating){o._updating=!0;var t=o.grid.getrowid(e.index);switch(e.type){case"add":var i=re.extend({},e.object[e.index]),s=h.getid(d.id,i,e.index);0===e.index?o.grid.addrow(s,i,"first"):o.grid.addrow(s,i);break;case"delete":o.grid.deleterow(t);break;case"update":e.path&&1<e.path.split(".").length?(s=e.path.split("."),o.grid.setcellvalue(e.index,s[s.length-1],e.newValue)):(i=re.extend({},e.object[e.index]),o.grid.updaterow(t,i))}o._updating=!1}}),"updateData"==r?(o.refresh(),o.grid._updateGridData()):(d.recordstartindex&&o.virtualmode?o.updateview(d.recordstartindex,d.recordstartindex+o.pagesize):o.refresh(),o.update(e!=o.totalrecords))})(),h.bindBindingUpdate(o.grid.element.id,_));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=d.localdata)return h.unbindBindingUpdate(o.grid.element.id),(!o.grid.autobind&&o.grid.isInitialized||o.grid.autobind)&&h.dataBind(),(_=function(e){var t=o.totalrecords;i(o),"updateData"==e?(o.refresh(),o.grid._updateGridData()):(d.recordstartindex&&o.virtualmode?o.updateview(d.recordstartindex,d.recordstartindex+o.pagesize):o.refresh(),o.update(t!=o.totalrecords))})(),void h.bindBindingUpdate(o.grid.element.id,_);for(var s=[],r=0,n={},a=0;a<o.filters.length;a++){var l=o.filters[a].datafield,c=o.filters[a].filter;if(c.getfilters){if(!l)for(var u=0;u<o.grid.columns.length;u++)o.grid.columns[u].filter===c&&(l=o.grid.columns[u].datafield||o.grid.columns[u].dataField);var p=c.getfilters();n[l+"operator"]=c.operator;for(var m=0;m<p.length;m++){p[m].datafield=l;var g,f=p[m].value,v=("datefilter"==p[m].type?p[m].value&&p[m].value.toLocaleString&&(g=o.grid.getcolumn(p[m].datafield))&&g.cellsformat?(g=o.grid.source.formatDate(p[m].value,g.cellsformat,o.grid.gridlocalization),n["filtervalue"+r]=g||p[m].value.toLocaleString()):n["filtervalue"+r]=f.toString():(n["filtervalue"+r]=f.toString(),p[m].data&&(n["filterid"+r]=p[m].data.toString()),p[m].id&&(n["filterid"+r]=p[m].id.toString())),n["filtercondition"+r]=p[m].condition,n["filteroperator"+r]=p[m].operator,n["filterdatafield"+r]=l,{label:f.toString()}),x=(p[m].data&&(v.value=p[m].data.toString()),p[m].id?v.value=p[m].id.toString():v.value=f.toString(),v.condition=p[m].condition,v.operator=0==p[m].operator?"and":"or",v.field=l,v.type=p[m].type,!1);if(0<s.length)for(var y=0;y<s.length;y++){var w=s[y];if(w.field==l){w.filters.push(v),x=!0;break}}x||(s.push({field:l,filters:[]}),s[s.length-1].filters.push(v)),r++}}}n.filterGroups=s,n.filterscount=r,n.groupscount=o.groups.length;for(a=0;a<o.groups.length;a++)n["group"+a]=o.groups[a];null==d.recordstartindex&&(d.recordstartindex=0),null!=d.recordendindex&&0!=d.recordendindex||(o.grid.height&&-1==o.grid.height.toString().indexOf("%")?(d.recordendindex=parseInt(o.grid.height)/o.grid.rowsheight,d.recordendindex+=2):d.recordendindex=re(window).height()/o.grid.rowsheight,d.recordendindex=parseInt(d.recordendindex),o.pageable&&(d.recordendindex=o.pagesize)),o.pageable&&(d.recordstartindex=o.pagenum*o.pagesize,d.recordendindex=(o.pagenum+1)*o.pagesize),re.extend(n,{sortdatafield:o.sortfield,sortorder:o.sortfielddirection,pagenum:o.pagenum,pagesize:o.grid.pagesize,recordstartindex:d.recordstartindex,recordendindex:d.recordendindex});var b=h._options.data,_=(h._options.data?re.extend(h._options.data,n):(d.data&&re.extend(n,d.data),h._options.data=n),function(){function e(){var e=o.totalrecords;i(o),d.recordstartindex&&o.virtualmode?o.updateview(d.recordstartindex,d.recordstartindex+o.pagesize):o.refresh(),o.update(e!=o.totalrecords)}if(re.jqx.browser.msie&&re.jqx.browser.version<9)try{e()}catch(e){}else e()});h.unbindDownloadComplete(o.grid.element.id),h.bindDownloadComplete(o.grid.element.id,_),!o.grid.autobind&&o.grid.isInitialized||o.grid.autobind?h.dataBind():o.grid.isInitialized||o.grid.autobind||_(),h._options.data=b}},this.getid=function(e,t,i){if(0<re(e,t).length)return re(e,t).text();if(e&&0<e.toString().length){t=re(t).attr(e);if(null!=t&&0<t.toString().length)return t}return i},this.getvaluebytype=function(e,t){var i,s=e;return"date"==t.type?null==(e=("NaN"==(i=new Date(e)).toString()||"Invalid Date"==i.toString())&&re.jqx.dataFormat?re.jqx.dataFormat.tryparsedate(e):i)&&(e=s):"float"==t.type?(e=parseFloat(e),isNaN(e)&&(e=s)):"int"==t.type?(e=parseInt(e),isNaN(e)&&(e=s)):"bool"==t.type&&(null!=e&&("false"==e.toLowerCase()?e=!1:"true"==e.toLowerCase()&&(e=!0)),e=1==e||0!=e&&""),e},this.setpaging=function(e){null!=e.pageSize&&(this.pagesize=e.pageSize),null!=e.pageNum&&(this.pagenum=Math.min(e.pageNum,Math.ceil(this.totalrows/this.pagesize))),this.refresh()},this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}},this._clearcaches=function(){this.sortcache={},this.sortdata=null,this.changedrecords=new Array,this.records=new Array,this.rows=new Array,this.cacheddata=new Array,this.originaldata=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid=new Array,this.cachedrecords=new Array,this.recordids=new Array},this.addfilter=function(e,t){for(var i=-1,s=0;s<this.filters.length;s++)if(this.filters[s].datafield==e){i=s;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removefilter=function(e){for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this.getItemFromIndex=function(e){return this.records[e]},this.updaterow=function(e,t,i){if(!(this.filters&&0<this.filters.length&&!this.virtualmode)&&null!=t&&null!=e)return t.uid=e,t[this.source.id]||(t[this.source.id]=t.uid),r=this.recordsbyid["id"+e],-1!=(n=this.records.indexOf(r))&&(this.records[n]=t,this.cachedrecords&&(this.cachedrecords[n]=t),1!=i&&null!=i||this.refresh(),this.changedrecords[t.uid]={Type:"Update",OldData:r,Data:t},!0);if(this.filters&&0<this.filters.length){for(var s=this.cachedrecords,r=null,n=-1,o=0;o<s.length;o++)if(s[o].uid==e){r=s[o],n=o;break}if(r){var a,l=this.that;for(a in t)l.cachedrecords[n][a]=t[a];return 1!=i&&null!=i||this.refresh(),!0}}return!1},this.addrow=function(e,t,i,s){if(null==t)return!1;if(re.isEmptyObject(t)&&this.source&&this.source.datafields&&re.each(this.source.datafields,function(){var e="";"number"==this.type&&(e=null),"date"==this.type&&(e=null),"bool"!=this.type&&"boolean"!=this.type||(e=!1),t[this.name]=e}),!e||this.recordsbyid["id"+e]){t.uid=this.getid(this.source.id,t,this.totalrecords);for(var r=this.recordsbyid["id"+t.uid];null!=r;){var n=Math.floor(1e4*Math.random()).toString();t.uid=n,r=this.recordsbyid["id"+n]}}else t.uid=e;return t[this.source.id]||null!=this.source.id&&(t[this.source.id]=t.uid),t.boundindex=this.records.length,"last"==i?this.records.push(t):"number"==typeof i&&isFinite(i)?this.records.splice(i,0,t):this.records.splice(0,0,t),this.filters&&0<this.filters.length&&("last"==i?this.cachedrecords.push(t):"number"==typeof i&&isFinite(i)?this.cachedrecords.splice(i,0,t):this.cachedrecords.splice(0,0,t)),this.totalrecords++,this.virtualmode&&(this.source.totalrecords=this.totalrecords),1!=s&&null!=s||this.refresh(),this.changedrecords[t.uid]={Type:"New",Data:t},!0},this.deleterow=function(e,t){if(null==e)return!1;var i=this.filters&&0<this.filters.length;if(this.recordsbyid["id"+e]&&!i){var s=this.recordsbyid["id"+e],r=this.records.indexOf(s);if(this.grid&&this.grid.sortable&&"many"==this.grid.sortmode)for(var n=0;n<this.records.length;n++)if(this.records[n].boundindex===s.boundindex){r=n;break}return this.changedrecords[e]={Type:"Delete",Data:this.records[r]},this.records.splice(r,1),this.totalrecords--,this.virtualmode&&(this.source.totalrecords=this.totalrecords),1!=t&&null!=t||this.refresh(),!0}if(this.filters&&0<this.filters.length){for(var o=this.cachedrecords,s=null,r=-1,n=0;n<o.length;n++)if(o[n].uid==e){s=o[n],r=n;break}if(s)return this.cachedrecords.splice(r,1),1!=t&&null!=t||(this.totalrecords=0,this.records=this.cachedrecords,this.refresh()),!0}return!1},this.reload=function(e,t,i,s,r,n,o){var a,l=this.that,d=new Array,h=t.length,c=0;if(this.columns=[],this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid={},0==this.totalrecords&&(Object.size=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i},e=Object.size(e),this.totalrecords=e,re.each(this.records,function(e){var i=0;return re.each(this,function(e,t){l.columns[i++]=e}),!1})),this.virtualmode){if(this.pageable)return void this.updateview();n=0;if(!this.groupable)return void this.updateview();o=this.totalrecords}else n=0,o=this.totalrecords;return this.groupable&&0<this.groups.length&&this.loadgrouprecords?a=this.loadgrouprecords(0,a=n,o,i,0,s,t,h,d):c=this.loadflatrecords(n,o,i,0,s,t,h,d),0<h&&t.splice(0,+h),0<this.groups.length&&this.groupable?this.totalrows=a:this.totalrows=c,d},this.loadflatrecords=function(e,t,i,s,r,n,o,a){for(var l,d=this.that,h=e,c=e,u=(t=Math.min(t,this.totalrecords),null!=this.sortdata),p=(!this.source.id||"local"!=this.source.datatype&&"array"!=this.source.datatype&&this.source.datatype,u?this.sortdata:this.records),m=e;m<t;m++){var g,f={};u?(g=(f=re.extend({},p[m].value))[d.uniqueId],f.boundindex=p[m].index,null==f.uid&&(f.uid=d.getid(d.source.id,f,f.boundindex)),d.recordsbyid["id"+f.uid]=p[m].value,(d.loadedrecords[h]=f).uniqueid=d.generatekey(),d.bounditems[f.boundindex]=f):(g=(f=new Object(p[m]))[d.uniqueId],f.boundindex=h,null==(d.loadedrecords[h]=f).uid&&(f.uid=d.getid(d.source.id,f,h)),d.recordsbyid["id"+f.uid]=p[m],f.uniqueid=d.generatekey(),d.bounditems[this.bounditems.length]=f),(o<=s||g!=n[s][d.uniqueId]||r&&r[g])&&(a[a.length]=s),n[s]=f,s++,f.visibleindex=c,c++,h++}return d.grid.summaryrows&&(l=h,re.each(d.grid.summaryrows,function(){var e=re.extend({},this);e.boundindex=t++,(d.loadedrecords[l]=e).uniqueid=d.generatekey(),d.bounditems[d.bounditems.length]=e,n[s]=e,s++,e.visibleindex=c,c++,l++})),c},this.updateview=function(e,t){var i=this.that,s=this.pagesize*this.pagenum,r=0,n=new Array,o=this.filters,a=this.updated,l=n.length;if(this.pageable){if(this.virtualmode)if(this.groupable&&0!=this.groups.length){if(this.groupable&&0<this.groups.length&&this.loadgrouprecords){if(null!=this._cachegrouppages[this.pagenum+"_"+this.pagesize])return this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize],void(this.totalrows=this.rows.length);var d=this.pagesize*(1+this.pagenum);return d>this.totalrecords&&(d=this.totalrecords),this.loadgrouprecords(0,this.pagesize*this.pagenum,d,o,r,a,n,l,[]),this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows,void(this.totalrows=this.rows.length)}}else this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),o,r,a,n,l,[]),this.totalrows=n.length}else if(this.virtualmode&&(!this.groupable||0==this.groups.length)){d=this.pagesize;d=0==d?Math.min(100,this.totalrecords):d,this.pagenum;if(this.loadedrecords.length,null!=e&&null!=t?this.loadflatrecords(e,t,o,r,a,n,l,[]):this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),o,r,a,n,l,[]),this.totalrows=this.loadedrecords.length,(this.rows=n).length>=d)return}if(this.groupable&&this.pageable&&0<this.groups.length&&this._updategroupsinpage)n=this._updategroupsinpage(i,o,s,r,l,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum));else for(var h=this.pagesize*this.pagenum;h<this.pagesize*(1+this.pagenum);h++)null!=(c=h<this.loadedrecords.length?this.loadedrecords[h]:null)&&((!this.pagesize||s>=this.pagesize*this.pagenum&&s<=this.pagesize*(this.pagenum+1))&&(n[r]=c,r++),s++);if((0==n.length||n.length<this.pagesize)&&!this.pageable&&this.virtualmode)for(var c,r=n.length,u=n.length,h=this.pagesize*this.pagenum;h<this.pagesize*(1+this.pagenum)-u;h++)(c={}).boundindex=h+u,c.visibleindex=h+u,c.uniqueid=i.generatekey(),c.empty=!0,i.bounditems[h+u]=c,n[r]=c,r++;this.rows=n},this.generatekey=function(){function e(){return 16*(1+Math.random())|0}return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,!0)},this.refresh=function(e){if(!this.suspend){null==e&&(e=!0);var t=this.rows.length,i=this.totalrows;if(0<this.filters.length&&!this.virtualmode){var s="",r=this.cachedrecords.length,n=new Array,o=(this.totalrecords=0,this.cachedrecords),a=(this._dataIndexToBoundIndex=new Array,this.filters.length);if(null!=this.source&&null!=this.source.filter&&null!=this.source.localdata){var l=this.source.filter(this.filters,o,r);null==l&&(l=new Array);for(var d=0;d<r;d++){var h=o[d];(c=0<=l.indexOf(h))?(n[n.length]=re.extend({dataindex:d},h),this._dataIndexToBoundIndex[d]={boundindex:n.length-1}):this._dataIndexToBoundIndex[d]=null}this.records=n}else if(null==this.source.filter||null==this.source.filter){for(d=0;d<r;d++){for(var h=o[d],c=void 0,u=0;u<a;u++){var s=this.filters[u].filter,p=h[this.filters[u].datafield],m=!s||!s.evaluate||s.evaluate(p);!this.grid.filter||void 0!==(p=this.grid.filter(p,h,this.filters[u].datafield,s,m))&&(m=p),c=null==c?m:"or"==s.operator?c||m:c&&m}c?(n[n.length]=re.extend({dataindex:d},h),this._dataIndexToBoundIndex[d]={boundindex:n.length-1}):this._dataIndexToBoundIndex[d]=null}this.records=n}if(this.sortdata){if(!this.grid||"many"===this.grid.sortmode){for(var g=this.grid.getsortcolumns(),f=0;f<g.length;f++){var v=(y=g[f]).dataField;this.grid.sortby(v,y.ascending,null)}return}var x=this.sortfield;if(this.sortcache[x])return this.sortdata=null,w=this.sortcache[x].direction,this.sortcache[x]=null,void this.sortby(this.sortfield,w)}}else if(0==this.filters.length&&!this.virtualmode&&this.cachedrecords){this.totalrecords=0;o=this.cachedrecords;if(this.records=o,this.sortdata){if(!this.grid||"many"===this.grid.sortmode){for(g=this.grid.getsortcolumns(),f=0;f<g.length;f++){var y,v=(y=g[f]).dataField;this.grid.sortby(v,y.ascending,null)}return}x=this.sortfield;if(this.sortcache[x])return this.sortdata=null,w=this.sortcache[x].direction,this.sortcache[x]=null,void this.sortby(this.sortfield,w)}}var w,x=this.reload(this.records,this.rows,this.filter,this.updated,e);(this.updated=null)!=this.rowschangecallback&&(w=this.rows,i!=this.totalrows&&this.rowschangecallback({type:"PagingChanged",data:this.getpagingdetails()}),t!=w.length&&this.rowschangecallback({type:"RowsCountChanged",data:{previous:t,current:w.length}}),(0<x.length||t!=w.length)&&this.rowschangecallback({type:"RowsChanged",data:{previous:t,current:w.length,diff:x}}))}},this}}(jqxBaseFramework),!function(E){E.jqx.dataview.grouping=function(){this.loadgrouprecords=function(u,i,e,z,t,s,r,n,o){for(var a=u,l=this,d=new Array,h=0;h<l.groups.length;h++)d[h]=l.generatekey();var c=new Array,p=0,m=new Array,g=i,f=l.groups.length,v=(this.loadedrecords=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this.sortedgroups=new Array,null!=this.sortdata),x=v?this.sortdata:this.records;if(this.pageable&&(y=new Array,w=0,x[i]||(E.each(x,function(e,t){y[i+e++]=this}),x=y)),this.virtualmode){for(var y=new Array,w=0,g=0;g<e-i;g++)x[g]?y[i+w++]=x[g]:x[i+w]&&(y[i+w]=x[i+w],w++);g=0,x=y}for(var b=i;b<e;b++){for(var _={},q=(_=v?E.extend({},x[b].value):E.extend({},x[b]))[l.uniqueId],j=((n<=t||q!=r[t][l.uniqueId]||s&&s[q])&&(o[o.length]=t),new Array),T=0,h=0;h<f;h++){var C=_[B=l.groups[h]];null==C&&(C=""),j[T++]={value:C,hash:d[h]}}if(j.length!=f)break;for(var S=null,k="",I=0;I<j.length;I++){0;var D,P=j[I].value;null!=m[k=k+"_"+j[I].hash+"_"+P]&&null!=m[k]?S=m[k]:(null==S?(S={group:P,subItems:new Array,subGroups:new Array,level:0},(c[p++]=S).uniqueid=l.generatekey(),l.loadedgroupsByKey[P]=S):(D={group:P,subItems:new Array,subGroups:new Array,parentItem:S,level:S.level+1},(l.loadedgroupsByKey[S.uniqueid+"_"+P]=D).uniqueid=l.generatekey(),S.subGroups[S.subGroups.length++]=D,S=D),m[k]=S)}null!=S?(null==_.uid&&(_.uid=this.getid(this.source.id,_,g)),v?(_.boundindex=x[b].index,this.recordsbyid["id"+_.uid]=x[b].value):(_.boundindex=g,this.recordsbyid["id"+_.uid]=x[b]),this.bounditems[_.boundindex]=_,(this.sortedgroups[g]=_).uniqueid=l.generatekey(),_.parentItem=S,_.level=S.level+1,S.subItems[S.subItems.length++]=_):(null==_.uid&&(_.uid=this.getid(this.source.id,_,g)),v?(_.boundindex=x[b].index,this.recordsbyid["id"+_.uid]=x[b].value):(_.boundindex=g,this.recordsbyid["id"+_.uid]=x[b]),this.sortedgroups[g]=_,(this.bounditems[_.boundindex]=_).uniqueid=l.generatekey()),t++,g++,0}for(var A=function(e,t,i){for(var s=0;s<t.subItems.length;s++)t.subItems[s].visibleindex=u+i,e.rows[i]=t.subItems[s],e.loadedrecords[i]=t.subItems[s],i++;return i},M=function(h,e,r){var t=1,c=h.grid.columns.records||h.grid.columns;if(1==h.aggregates)for(var i=0;i<c.length;i++)c[i].aggregates&&(t=Math.max(t,c[i].aggregates.length));for(var s in e.subGroups){s=e.subGroups[s];s.subGroups&&((h.loadedgroups[h.loadedgroups.length]=s).visibleindex=u+r,h.rows[r]=s,h.loadedrecords[r]=s,r++,0<s.subGroups.length?r=M(h,s,r):0<s.subItems.length&&(r=A(h,s,r)))}0<e.subItems.length&&(r=A(h,e,r));var n=e;if(1==h.aggregates){function o(l){function e(e){for(var t=0;t<c.length;t++)if(c[t].aggregates)for(var i,s,r,n,o=h.grid.getcolumnaggregateddata(c[t].datafield,c[t].aggregates,!0,e),a=0;a<c[t].aggregates.length;a++)c[t].aggregates[l]&&(i=c[t],s=c[t].aggregates[l],n=(r=h.grid._getaggregatename(r=s))+":"+o[s],o[s]?d[i.datafield]=n:d[i.datafield]=r+":"+o[r])}var i,s,t=n,d={};null!=t&&(d.level=t.level,d.visibleindex=u+r,d.uniqueid=h.generatekey(),h.rows[r]=d,(h.loadedrecords[r++]=d).totalsrow=!0,0<n.subItems.length?(t=n.subItems[n.subItems.length-1],d.parentItem=t.parentItem,d.parentItem.subItems&&(d.parentItem.subItems[d.parentItem.subItems.length]=d),i=[],(s=function(){for(var e=0;e<n.subItems.length;e++)n.subItems[e].totalsrow||(i[i.length]=n.subItems[e])})(n),e(i)):0<n.subGroups.length&&(t=n.subGroups[n.subGroups.length-1],d.level=t.level,(d.parentItem=n).subGroups[n.subGroups.length]=d,i=[],(s=function(e){if(!e.totalsrow){for(var t=0;t<e.subItems.length;t++)e.subItems[t].totalsrow||(i[i.length]=e.subItems[t]);for(t=0;t<e.subGroups.length;t++)s(e.subGroups[t])}})(n),e(i)))}for(var a=0;a<t;a++)o(a)}return r},H=c.length,a=(this.loadedgroups=new Array,this.rows=new Array,0),g=0;g<H;g++){var B=c[g];this.loadedrootgroups[g]=B,(this.loadedgroups[this.loadedgroups.length]=B).visibleindex=u+a,this.rows[a]=B,this.loadedrecords[a]=B,a=M(this,B,++a)}return a},this._updategroupsinpage=function(e,t,i,s,r,n,o){var h=new Array,a=[];if(this.groupable&&0<this.groups.length){for(var l=0,d=new Array,c=new Array,u=0;u<e.groups.length;u++)c[u]=e.generatekey();var p=0,m=new Array,g=0;o>this.totalrecords&&(o=this.totalrecords);for(var f=n;f<o;f++){var v=E.extend({},e.sortedgroups[f]),x=v[e.uniqueId];if(!e.pagesize||i>=e.pagesize*e.pagenum&&i<e.pagesize*(e.pagenum+1)){(r<=s||x!=h[s][e.uniqueId]||updated&&updated[x])&&(a[a.length]=s);for(var y=new Array,w=0,u=0;u<e.groups.length;u++){var b=v[P=e.groups[u]];null==b&&(b=""),y[w++]={value:b,hash:c[u]}}if(y.length!=e.groups.length)break;for(var _=null,q="",j=0;j<y.length;j++){0;var T,C,S=y[j].value;null!=d[q=q+"_"+y[j].hash+"_"+S]&&null!=d[q]?_=d[q]:(null==_?(_={group:S,subItems:new Array,subGroups:new Array,level:0},m[g++]=_,null!=(C=e.loadedgroupsByKey[S])&&(_.visibleindex=C.visibleindex,_.uniqueid=C.uniqueid)):(T={group:S,subItems:new Array,subGroups:new Array,parentItem:_,level:_.level+1},C=e.loadedgroupsByKey[_.uniqueid+"_"+S],T.visibleindex=C.visibleindex,T.uniqueid=C.uniqueid,_.subGroups[_.subGroups.length++]=T,_=T),d[q]=_)}null!=_&&(v.parentItem=_,v.level=_.level+1,_.subItems[_.subItems.length++]=v),s++}p++,i++}for(var k=function(e,t,i){for(var s=0;s<t.subItems.length;s++)h[i]=E.extend({},t.subItems[s]),i++;return i},I=function(e){var t,i=!1;for(t in e.subGroups){var s=e.subGroups[t];if(s.subGroups){if(0<s.subGroups.length)if(I(s))return i=!0;if(0<s.subItems.length)return i=!0}}return 0<e.subItems.length||i},D=function(l,e,r){var t=1,d=l.grid.columns.records||l.grid.columns;if(1==l.aggregates)for(var i=0;i<d.length;i++)d[i].aggregates&&(t=Math.max(t,d[i].aggregates.length));for(var s in e.subGroups){s=e.subGroups[s];s.subGroups&&I(s)&&(h[r]=s,r++,0<s.subGroups.length?r=D(l,s,r):0<s.subItems.length&&(r=k(l,s,r)))}0<e.subItems.length&&(r=k(l,e,r));var n=e;if(1==l.aggregates){function o(o){function e(e){for(var t=0;t<d.length;t++)if(d[t].aggregates)for(var i,s,r=l.grid.getcolumnaggregateddata(d[t].datafield,d[t].aggregates,!0,e),n=0;n<d[t].aggregates.length;n++)d[t].aggregates[o]&&(i=d[t],s=d[t].aggregates[o],s=l.grid._getaggregatename(s)+":"+r[s],a[i.datafield]=s)}var i,s,t=n,a={};null!=t&&(a.level=t.level,a.visibleindex=r,a.uniqueid=l.generatekey(),h[r]=a,(l.loadedrecords[r++]=a).totalsrow=!0,0<n.subItems.length?(t=n.subItems[n.subItems.length-1],a.parentItem=t.parentItem,a.parentItem.subItems&&(a.parentItem.subItems[a.parentItem.subItems.length]=a),i=[],(s=function(){for(var e=0;e<n.subItems.length;e++)n.subItems[e].totalsrow||(i[i.length]=n.subItems[e])})(n),e(i)):0<n.subGroups.length&&(t=n.subGroups[n.subGroups.length-1],a.level=t.level,(a.parentItem=n).subGroups[n.subGroups.length]=a,i=[],(s=function(e){if(!e.totalsrow){for(var t=0;t<e.subItems.length;t++)e.subItems[t].totalsrow||(i[i.length]=e.subItems[t]);for(t=0;t<e.subGroups.length;t++)s(e.subGroups[t])}})(n),e(i)))}for(var a=0;a<t;a++)o(a)}return r},p=0;p<m.length;p++){var P=m[p];I(P)&&(h[l]=P,l=D(this,P,++l))}}return h}},E.extend(E.jqx._jqxGrid.prototype,{_initgroupsheader:function(){var r,n,o,e;this.groupsheader.css("visibility","hidden"),this._groupsheader()&&(this.groupsheader.css("visibility","inherit"),e=(r=this).gridlocalization.groupsheaderstring,this.groupsheaderdiv=this.groupsheaderdiv||E('<div style="width: 100%; position: relative;"></div>'),this.groupsheaderdiv.height(this.groupsheaderheight),this.groupsheaderdiv.css("top",0),this.groupsheader.append(this.groupsheaderdiv),this.groupheadersbounds=new Array,n=this.groups.length,this.groupsheaderdiv.children().remove(),this.groupsheaderdiv[0].innerHTML="",o=new Array,0<n?E.each(this.groups,function(e){var t,i=this,s=r._getColumnText(this).label,s=r._rendergroupcolumn(s,i);s.addClass(r.toThemeProperty("jqx-grid-group-column")),r.groupsheaderdiv.append(s),r.closeablegroups&&(t=E(s.find(".jqx-icon-close")),r.isTouchDevice()&&!0!==r.touchmode?r.addHandler(t,"touchstart",function(){return r.removegroupat(e),!1}):r.addHandler(t,"click",function(){return r.removegroupat(e),!1})),r.sortable&&r.addHandler(s,"click",function(){var e=r.getcolumn(i);return null!=e&&r._togglesort(e),!1}),o[o.length]=s,r._handlegroupstocolumnsdragdrop(this,s),e<n-1&&(t=s.height(),s=E('<div style="float: left; position: relative;"></div>'),r.rtl&&s.css("float","right"),s.width(r.groupindentwidth/3),s.height(1),s.css("top",t/2),s.addClass(r.toThemeProperty("jqx-grid-group-column-line")),r.groupsheaderdiv.append(s))}):(e=E('<div style="position: relative;">'+e+"</div>"),this.groupsheaderdiv.append(e),this.rtl&&e.addClass(this.toThemeProperty("jqx-rtl"))),this._groupheaders=o,this._updategroupheadersbounds())},_updategroupheadersbounds:function(){var i=this,e=this.groupsheaderdiv.children().outerHeight(),e=(this.groupsheader.height()-e)/2;this.groupsheaderdiv.css("top",e),this.rtl?(this.groupsheaderdiv.css("left",""),this.groupsheaderdiv.css("right",e)):(this.groupsheaderdiv.css("left",e),this.groupsheaderdiv.css("right","")),this.rtl&&this._groupheaders.reverse(),E.each(this._groupheaders,function(e){var t=this.coord();i.groupheadersbounds[e]={left:t.left,top:t.top,width:this.outerWidth(),height:this.outerHeight(),index:e}})},addgroup:function(e){var t;e&&((t=this).groups!==t.dataview.groups&&(t.dataview.groups=t.groups),t.groups[t.groups.length]=e,t.refreshgroups(),this._raiseEvent(12,{type:"Add",index:t.groups[t.groups.length],groups:t.groups}))},insertgroup:function(e,t){null!=e&&0<=e&&e<=this.groups.length&&t&&(this.groups!==this.dataview.groups&&(this.dataview.groups=this.groups),this.groups.splice(e,0,t.toString()),this.refreshgroups(),this._raiseEvent(12,{type:"Insert",index:e,groups:this.groups}))},refreshgroups:function(){this._refreshdataview(),this._render(!0,!0,!0,!1),this._postrender("group")},_insertaftergroup:function(e,t){e=this._getGroupIndexByDataField(e);this.insertgroup(e+1,t)},_insertbeforegroup:function(e,t){e=this._getGroupIndexByDataField(e);this.insertgroup(e,t)},removegroupat:function(e){return 0<=e&&null!=e&&null!=e&&(this.groups!==this.dataview.groups&&(this.dataview.groups=this.groups),this.groups.splice(e,1),this.refreshgroups(),this.virtualmode&&this.updatebounddata(),this._raiseEvent(12,{type:"Remove",index:e,groups:this.groups}),!0)},cleargroups:function(){return this.groups=[],this.dataview.groups=this.groups,this.refreshgroups(),this._raiseEvent(12,{type:"Clear",index:-1,groups:this.groups}),!0},removegroup:function(e){if(null==e)return!1;e=this.groups.indexOf(e.toString());return this.removegroupat(e)},getrootgroupscount:function(){return this.dataview.loadedrootgroups.length},collapsegroup:function(e){if(0<=e&&-1===e.toString().indexOf("."))return this._setrootgroupstate(e,!1);var t=e.toString().split("."),i=null;this.groupsVisibility||(this.groupsVisibility=new Array);for(var s=0;s<t.length;s++){var r,e=parseInt(t[s]);0==s?(i=this.dataview.loadedrootgroups[e],this.groupsVisibility[i.group]=null):(r=i.subGroups[e])&&(i=r,s==t.length-1&&(this._setgroupstate(i,!1,!0),this.groupsVisibility[i.group]=null))}},expandgroup:function(e){if(0<=e&&-1===e.toString().indexOf("."))return this._setrootgroupstate(e,!0);for(var t=e.toString().split("."),i=null,s=0;s<t.length;s++){var r,e=parseInt(t[s]);0==s?(i=this.dataview.loadedrootgroups[e],this._setrootgroupstate(e,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[i.group]=i):(r=i.subGroups[e])&&(this._setgroupstate(i=r,!0,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[i.group]=i)}},collapseallgroups:function(e){this._setbatchgroupstate(!1,e)},expandallgroups:function(e){this._setbatchgroupstate(!0,e)},isgroupexpanded:function(e){e=this.dataview.loadedrootgroups[e];return null==e?null:this.expandedgroups[e.uniqueid].expanded},jsonParser:function(){var f="~",v="\\x"+("0"+f.charCodeAt(0).toString(16)).slice(-2),x="\\"+v,y=new RegExp(v,"g"),u=new RegExp(x,"g"),r=new RegExp("(?:^|([^\\\\]))"+x),w=[].indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},p=String;function m(e,t,i){if(t instanceof Array){for(var s=e,r=t,n=i,o=0,a=r.length;o<a;o++)r[o]=m(s,r[o],n);return r}if(t instanceof p)return t.length?i.hasOwnProperty(t)?i[t]:i[t]=function(e,t){for(var i=0,s=t.length;i<s;e=e[t[i++].replace(u,f)]);return e}(e,t.split(f)):e;if(t instanceof Object){var l,d=e,h=t,c=i;for(l in h)h.hasOwnProperty(l)&&(h[l]=m(d,h[l],c));return h}return t}var b={stringify:function(e,t,i,s){return b.parser.stringify(e,(l=!1,h=[],c=[e],u=[e],p=[(n=!s)?f:"[Circular]"],m=e,g=1,(d=!!(r=t))&&(a="object"==typeof r?function(e,t){return""!==e&&w.call(r,e)<0?void 0:t}:r),function(e,t){return d&&(t=a.call(this,e,t)),l?(m!==this&&(o=g-w.call(c,this)-1,g-=o,c.splice(g,c.length),h.splice(g-1,h.length),m=this),"object"==typeof t&&t?(w.call(c,t)<0&&c.push(m=t),g=c.length,(o=w.call(u,t))<0?(o=u.push(t)-1,n?(h.push((""+e).replace(y,v)),p[o]=f+h.join(f)):p[o]=p[0]):t=p[o]):"string"==typeof t&&n&&(t=t.replace(v,x).replace(f,v))):l=!0,t}),i);var r,n,o,a,l,d,h,c,u,p,m,g},parse:function(e,t){return b.parser.parse(e,(s=t,function(e,t){var i="string"==typeof t;return i&&t.charAt(0)===f?new p(t.slice(1)):(""===e&&(t=m(t,t,{})),i&&(t=t.replace(r,"$1"+f).replace(x,v)),s?s.call(this,e,t):t)}));var s},parser:JSON};return b},getgroup:function(e){e=this.dataview.loadedrootgroups[e];if(null==e)return null;var t,i=this.expandedgroups[e.uniqueid].expanded,s=e.group,r=e.level,n=new Array,o=(this._getsubgroups(n,e),this),s={group:s,level:r,expanded:i,subgroups:n},r=(e.subItems&&(t=new Array,E.each(e.subItems,function(){var e=this.boundindex;t[t.length]=o.getrowdata(e)}),0<t.length&&(s.subrows=t)),this.jsonParser().stringify(e));return r=(r=r.replace(/subItems/gi,"subrows")).replace(/subGroups/gi,"subgroups"),s=this.jsonParser().parse(r)},getrootgroups:function(){for(var e=this.dataview.loadedrootgroups.length,t=new Array,i=0;i<e;i++)t[i]=this.getgroup(i);return t},_getsubgroups:function(e,t){var i,s=this;for(i in t.subGroups){var r,n=t.subGroups[i],o=s.expandedgroups[n.uniqueid].expanded,a=n.group,l=n.level;e[e.length]={group:a,level:l,expanded:o},n.subItems&&(r=new Array,E.each(n.subItems,function(){var e=this.boundindex;r[r.length]=s.getrowdata(e)}),e[e.length-1].subrows=r),n.subGroups&&(a=new Array,s._getsubgroups(a,n))}return e},_setbatchgroupstate:function(e,t){for(var i in this.dataview.loadedrootgroups)this._setrootgroupstate(i,e,!1,!0);if(0==t)return this._requiresupdate=!0,this._renderrows(this.virtualsizeinfo),!0;t=this.vScrollBar[0].style.visibility;return this.rendergridcontent(!0,!1),t==this.vScrollBar[0].style.visibility&&!this._hiddencolumns||(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)),!0},_setrootgroupstate:function(e,t,i,s){if(null==e||e<0)return!1;if(!this.groupable||0==this.groups.length)return!1;i=null==i||i;if(0<=e&&e<this.dataview.loadedrootgroups.length){var r=this.dataview.loadedrootgroups[e];if(this.pageable){for(var n=new Array,o=0;o<this.dataview.rows.length;o++)null!=this.dataview.rows[o].group&&0===this.dataview.rows[o].level&&n.push(this.dataview.rows[o]);if(!(r=n[e]))return}return this._setgroupstate(r,t,i,s)}return!1},_togglegroupstate:function(e,t){if(null==e)return!1;var i=this.vScrollInstance.value,s=this.expandedgroups[e.uniqueid],e=(s=!(s=null!=s&&s.expanded),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[e.group]=s?e:null,this._setgroupstate(e,s,t));return this._newmax=null,0!==i&&"hidden"!==this.vScrollBar.css("visibility")&&(i<=this.vScrollInstance.max?this.vScrollInstance.setPosition(i):this.vScrollInstance.setPosition(this.vScrollInstance.max)),e},_setgroupstate:function(e,t,i,s){if(null==e)return!1;var r=!1,n=(this.editable&&this.editcell&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1),this.expandedgroups[e.uniqueid]);return null==n&&(n={expanded:!1},r=!0),!!(r=!(n.expanded==t&&!s)||r)&&(this.expandedgroups[e.uniqueid]={expanded:t,group:e},this._setsubgroupsvisibility(this,e,!t,s),i&&(n=this.vScrollBar[0].style.visibility,this.rendergridcontent(!0,!1),n==this.vScrollBar[0].style.visibility&&!this._hiddencolumns||(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))),null!=this.suspendgroupevents&&0!=this.suspendgroupevents||(t?this._raiseEvent(4,{group:e.group,parentgroup:e.parentItem?e.parentItem.group:null,level:e.level,visibleindex:e.visibleindex}):this._raiseEvent(5,{group:e.group,parentgroup:e.parentItem?e.parentItem.group:null,level:e.level,visibleindex:e.visibleindex})),!0)},_setgroupitemsvisibility:function(e,t,i){for(var s=0;s<t.subItems.length;s++)e._setrowvisibility(t.subItems[s].visibleindex,i,!1)},_setsubgroupsvisibility:function(e,t,i,s){if(null!=t.parentItem){if(this.hiddens[t.parentItem.visibleindex])return}else if(null==t.parentItem&&this.hiddens[t.visibleindex])return;for(var r in t.subGroups){var r=t.subGroups[r],n=(i||e._setrowvisibility(r.visibleindex,i,!1),!i);s?this.expandedgroups[r.uniqueid]={expanded:n,group:r}:n=null!=e.expandedgroups[r.uniqueid]&&e.expandedgroups[r.uniqueid].expanded,r.subGroups&&(0<r.subGroups.length?e._setsubgroupsvisibility(e,r,!n||i,s):0<r.subItems.length&&e._setgroupitemsvisibility(e,r,!n||i)),i&&e._setrowvisibility(r.visibleindex,i,!1)}t.subItems&&0<t.subItems.length&&e._setgroupitemsvisibility(e,t,i)},_handlecolumnsdragdrop:function(){var e,t,a,l=this,d=-1,h=!1;l.groupable&&(e="mousemove.grouping"+this.element.id,this.element.id,t="mouseup.grouping"+this.element.id,a=!1,this.isTouchDevice()&&!0!==this.touchmode&&(a=!0,e=E.jqx.mobile.getTouchEventName("touchmove")+".grouping"+this.element.id,E.jqx.mobile.getTouchEventName("touchstart"),this.element.id,t=E.jqx.mobile.getTouchEventName("touchend")+".grouping"+this.element.id),this.removeHandler(E(document),e),this.addHandler(E(document),e,function(e){if(!l.showgroupsheader)return!0;if(null!=l.dragcolumn){var t=parseInt(e.pageX),i=parseInt(e.pageY),s=(a&&(s=l.getTouches(e)[0],t=parseInt(s.pageX),i=parseInt(s.pageY)),l.host.coord()),r=parseInt(s.left),s=parseInt(s.top),n=(null!=l.dragmousedownoffset&&null!=l.dragmousedownoffset||(l.dragmousedownoffset={left:0,top:0}),parseInt(t)-parseInt(l.dragmousedownoffset.left)),o=parseInt(i)-parseInt(l.dragmousedownoffset.top);if(l.dragcolumn.css({left:n+"px",top:o+"px"}),h=!1,r<=t&&t<=r+l.host.width()&&s<=i&&i<=s+l.host.height()&&(h=!0),d=-1,h?(l.dragcolumnicon.removeClass(l.toThemeProperty("jqx-grid-dragcancel-icon")),l.dragcolumnicon.addClass(l.toThemeProperty("jqx-grid-drag-icon")),o=(n=l.groupsheader.coord()).top+l.groupsheader.height(),r=-1==(s=(r=E.data(l.dragcolumn[0],"datarecord"))?l.groups.indexOf(r.toString()):-1)||1<l.groups.length&&-1<s,null!=l.dropline&&(i>=n.top&&i<=o?r&&(d=l._handlegroupdroplines(t)):l.dropline.fadeOut("slow"))):(null!=l.dropline&&l.dropline.fadeOut("slow"),l.dragcolumnicon.removeClass(l.toThemeProperty("jqx-grid-drag-icon")),l.dragcolumnicon.addClass(l.toThemeProperty("jqx-grid-dragcancel-icon"))),a)return e.preventDefault(),e.stopPropagation(),!1}},{passive:!1}),this.removeHandler(E(document),t),this.addHandler(E(document),t,function(e){if(!l.showgroupsheader)return!0;l.__drag=!1,E(document.body).removeClass("jqx-disableselect");parseInt(e.pageX);var t,i,s,r,n=parseInt(e.pageY),e=(a&&(e=l.getTouches(e)[0],parseInt(e.pageX),n=parseInt(e.pageY)),l.host.coord()),e=(parseInt(e.left),parseInt(e.top)),o=l.groupsheader.height();l.showtoolbar&&(e+=l.toolbarheight),l.showfilterbar&&(e+=l.toolbarheight),l.dragstarted=!1,(l.dragmousedown=null)!=l.dragcolumn&&(t=E.data(l.dragcolumn[0],"datarecord"),l.dragcolumn.remove(),(l.dragcolumn=null)!=t&&(l.getcolumn(t).groupable&&h&&(-1!=d?(i=d.index,s=l.groups[i],(r=l._getGroupIndexByDataField(t))!=i&&(null!=r&&0<=r&&l.groups.splice(r,1),"before"==d.position?l.rtl?l._insertaftergroup(s,t):l._insertbeforegroup(s,t):l.rtl?l._insertbeforegroup(s,t):l._insertaftergroup(s,t))):0==l.groups.length?e<n&&n<=e+o&&l.addgroup(t):e+o<n&&(r=l._getGroupIndexByDataField(t),l.removegroupat(r))),null!=l.dropline&&(l.dropline.remove(),l.dropline=null)))}))},_getGroupIndexByDataField:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return t;return-1},_isColumnInGroups:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return!0;return!1},_handlegroupdroplines:function(i){var s=this,r=-1;return E.each(s.groupheadersbounds,function(e){var t;if(i<=this.left+this.width/2)return t=this.left-3,0<e&&(t=this.left-1-s.groupindentwidth/6),s.dropline.css("left",t),s.dropline.css("top",this.top),s.dropline.height(this.height),s.dropline.fadeIn("slow"),r={index:e,position:"before"},s.rtl&&(r={index:s.groupheadersbounds.length-1-e,position:"before"}),!1;i>=this.left+this.width/2&&(s.dropline.css("left",1+this.left+this.width),s.dropline.css("top",this.top),s.dropline.height(this.height),s.dropline.fadeIn("slow"),r={index:e,position:"after"},s.rtl&&(r={index:s.groupheadersbounds.length-1-e,position:"after"}))}),r},_handlegroupstocolumnsdragdrop:function(s,r){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var n,o=this,e="mousedown",t="mousemove",a=!1;this.isTouchDevice()&&!0!==this.touchmode&&(a=!0,e=E.jqx.mobile.getTouchEventName("touchstart"),t=E.jqx.mobile.getTouchEventName("touchmove")),this.addHandler(r,"dragstart",function(e){return!1}),this.addHandler(r,e,function(e){if(!o.showgroupsheader)return!0;var t=e.pageX,i=e.pageY,s=(o.__drag=!0,o.dragmousedown={left:t,top:i},a&&(t=(s=o.getTouches(e)[0]).pageX,i=s.pageY,o.dragmousedown={left:t,top:i},e.preventDefault&&e.preventDefault()),E(e.target).coord());o.dragmousedownoffset={left:parseInt(t)-parseInt(s.left),top:parseInt(i-s.top)}}),this.addHandler(r,t,function(e){if(!o.showgroupsheader)return!0;var t,i;o.dragmousedown&&(n={left:e.pageX,top:e.pageY},a&&(t=o.getTouches(e)[0],n={left:t.pageX,top:t.pageY}),o.dragstarted||null!=o.dragcolumn||(t=Math.abs(n.left-o.dragmousedown.left),i=Math.abs(n.top-o.dragmousedown.top),(3<t||3<i)&&(o._createdragcolumn(r,n,!0),E(document.body).addClass("jqx-disableselect"),E.data(o.dragcolumn[0],"datarecord",s),e.preventDefault&&e.preventDefault())))},{passive:!1})},_createdragcolumn:function(e,t,i){var s=this,r=(s.dragcolumn=E("<div></div>"),e.clone()),n=(s.dragcolumn.css("z-index",999999),r.css("border-width","1px"),r.css("opacity","0.4"),E(r.find("."+s.toThemeProperty("jqx-grid-column-menubutton")))),n=(0<n.length&&n.css("display","none"),E(r.find(".jqx-icon-close")));0<n.length&&n.css("display","none"),s.dragcolumnicon=E('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),s.dragcolumnicon.addClass(s.toThemeProperty("jqx-grid-drag-icon")),s.dragcolumn.css("float","left"),s.dragcolumn.css("position","absolute"),s.host.coord();r.width(e.width()+16),s.dragcolumn.append(r),s.dragcolumn.height(e.height()),s.dragcolumn.width(r.width()),s.dragcolumn.append(s.dragcolumnicon),E(document.body).append(s.dragcolumn),r.css("margin-left",0),r.css("left",0),r.css("top",0),s.dragcolumn.css("left",t.left+s.dragmousedown.left),s.dragcolumn.css("top",t.top+s.dragmousedown.top),null!=i&&i&&(s.dropline=E('<div style="display: none; position: absolute;"></div>'),s.dropline.width(2),s.dropline.addClass(s.toThemeProperty("jqx-grid-group-drag-line")),E(document.body).append(s.dropline))},iscolumngroupable:function(e){return this._getcolumnproperty(e,"groupable")},_handlecolumnstogroupsdragdrop:function(r,n){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var o=this,a=!1,e=(this.isTouchDevice()&&!0!==this.touchmode&&(a=!0),"mousedown.drag"),l="mousemove.drag";a?(e=E.jqx.mobile.getTouchEventName("touchstart")+".drag",l=E.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(n,"dragstart",function(e){return!1}),this.addHandler(n,e,function(e){if(!o.showgroupsheader)return!0;if(o.__drag=!0,o._isColumnInGroups(r.displayfield))return n.css("cursor"),!0;if(0==r.groupable)return!0;var t=e.pageX,i=e.pageY,s=(a&&(t=(s=o.getTouches(e)[0]).pageX,i=s.pageY),o.dragmousedown={left:t,top:i},a&&e.preventDefault&&e.preventDefault(),E(e.target).coord());o.dragmousedownoffset={left:parseInt(t)-parseInt(s.left),top:parseInt(i-s.top)}}),this.addHandler(n,l,function(e){return!o.showgroupsheader||(o._isColumnInGroups(r.displayfield)?(n.css("cursor"),!0):void(o.dragmousedown&&(s=e.pageX,t=e.pageY,a&&(s=(i=o.getTouches(e)[0]).pageX,t=i.pageY),l={left:s,top:t},o.dragstarted||null!=o.dragcolumn||(i=Math.abs(l.left-o.dragmousedown.left),s=Math.abs(l.top-o.dragmousedown.top),(3<i||3<s)&&(o._createdragcolumn(n,l,!0),E.data(o.dragcolumn[0],"datarecord",r.displayfield),e.preventDefault&&e.preventDefault())))));var t,i,s})},_rendergroupcolumn:function(e,t){var i,s,r=E('<div style="float: left; position: relative;"></div>');return this.rtl&&r.css("float","right"),null!=this.groupcolumnrenderer&&(r[0].innerHTML=this.groupcolumnrenderer(e),r.addClass(this.toThemeProperty("jqx-grid-group-column")),r.addClass(this.toThemeProperty("jqx-fill-state-normal"))),this.closeablegroups?(""==r[0].innerHTML&&(r[0].innerHTML='<a style="float: left;" href="#">'+e+"</a>"),this.rtl&&(r[0].innerHTML='<a style="float: right;" href="#">'+e+"</a>"),s='<div style="float: '+(i=this.rtl?"left":"right")+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>',E.jqx.browser.msie&&E.jqx.browser.version<8&&(s='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>'),this.rtl&&(s='<div style="float: '+i+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>',E.jqx.browser.msie&&E.jqx.browser.version<8&&(s='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>')),r[0].innerHTML+=s):""==r[0].innerHTML&&(r[0].innerHTML='<a href="#">'+e+"</a>"),this.sortable&&(i=E('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),s=E('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>'),this.closeablegroups&&(i=E('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),s=E('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>')),this.rtl&&(i=E('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),s=E('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>'),this.closeablegroups&&(i=E('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),s=E('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>'))),i.css("display","none"),s.css("display","none"),E.jqx.browser.msie&&E.jqx.browser.version<8&&(i.css("float","left"),s.css("float","left")),r.append(i),r.append(s),E.data(document.body,"groupsortelements"+t,{sortasc:i,sortdesc:s})),r.addClass(this.toThemeProperty("jqx-fill-state-normal")),r.addClass(this.toThemeProperty("jqx-grid-group-column")),r},_rendergroup:function(e,t,i,s,r,n,o){for(var a=t,l=t.cells[i.level],d=(this.rtl&&(l=t.cells[t.cells.length-1-i.level]),this._findgroupstate(i.uniqueid)),l=((0<i.bounddata.subGroups.length||0<i.bounddata.subItems.length)&&(h=this.rtl?"-rtl":"",c=this.toThemeProperty("jqx-icon-arrow-right"),h&&(c=this.toThemeProperty("jqx-icon-arrow-left")),l.className+=d?" "+this.toThemeProperty("jqx-grid-group-expand"+h)+" "+this.toThemeProperty("jqx-icon-arrow-down"):" "+this.toThemeProperty("jqx-grid-group-collapse"+h)+" "+c),this._getColumnText(this.groups[i.level]).label),h=this.groupindentwidth,c=this.rowdetails&&this.showrowdetailscolumn?(1+e)*h:e*h,e=o-c,u=i.level+1,p=(this.rtl&&(u=0),a.cells[u]),m=2;null!=p&&"none"==p.style.display&&m<a.cells.length-1;)p=a.cells[u+m-1],m++;var g=E(p);if(p){if(p.style.width=parseInt(e)+"px",-1!=p.className.indexOf("jqx-grid-cell-filter")&&g.removeClass(this.toThemeProperty("jqx-grid-cell-filter")),-1!=p.className.indexOf("jqx-grid-cell-sort")&&g.removeClass(this.toThemeProperty("jqx-grid-cell-sort")),-1!=p.className.indexOf("jqx-grid-cell-pinned")&&g.removeClass(this.toThemeProperty("jqx-grid-cell-pinned")),null!=this.groupsrenderer){var f={group:i.group,level:i.level,parent:i.bounddata.parentItem,subGroups:i.bounddata.subGroups,subItems:i.bounddata.subItems,groupcolumn:this._getColumnText(this.groups[i.level]).column},d=this.groupsrenderer(l+": "+i.group,i.group,d,f);if(d)p.innerHTML=d,t.classList.add("jqx-grid-groups-custom-row"),this.theme&&t.classList.add("jqx-grid-groups-custom-row-"+this.theme);else{var v=(0<i.bounddata.subItems.length?i.bounddata.subItems:i.bounddata.subGroups).length;if(this.showgroupaggregates)for(var x=0<i.bounddata.subItems.length?i.bounddata.subItems:i.bounddata.subGroups,y=v=0;y<x.length;y++)x[y].totalsrow||v++;p.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+l+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+i.group+" ("+v+")</span></div>"}}else{var w=this._getcolumnbydatafield(this.groups[i.level]),f=i.group;if(null==w)throw new Error("jqxGrid: Unable to find '"+this.groups[i.level]+"' group in the Grid's columns collection.");w.cellsformat&&E.jqx.dataFormat&&(E.jqx.dataFormat.isDate(f)?f=E.jqx.dataFormat.formatdate(f,w.cellsformat,this.gridlocalization):E.jqx.dataFormat.isNumber(f)&&(f=E.jqx.dataFormat.formatnumber(f,w.cellsformat,this.gridlocalization)));v=(0<i.bounddata.subItems.length?i.bounddata.subItems:i.bounddata.subGroups).length;if(this.showgroupaggregates)for(x=0<i.bounddata.subItems.length?i.bounddata.subItems:i.bounddata.subGroups,y=v=0;y<x.length;y++)x[y].totalsrow||v++;p.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+l+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+f+" ("+v+")</span></div>"}this.rtl&&(w=w||this._getcolumnbydatafield(this.groups[i.level]),d="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max-this.hScrollInstance.value,l="hidden"==this.vScrollBar.css("visibility")?0:this.scrollbarsize+6,c=this.rowdetails&&this.showrowdetailscolumn?(2+i.level)*h:(1+i.level)*h,p.style.width=o+parseInt(d)-c-l+"px",g.addClass(this.toThemeProperty("jqx-rtl")),f=E(t.cells[t.cells.length-1]).css("z-index"),g.css("z-index",f),e=(h=g.find("div")).width(),h.css("left","100%"),f=null!=this.columns.records[t.cells.length-2-i.level]&&this.columns.records[t.cells.length-2-i.level].pinned,this.table.width()<o&&(o=this.table.width(),"hidden"!=this.vScrollBar.css("visibility")&&(o+=this.vScrollBar.outerWidth())),w.pinned||f?(this.rowdetails&&this.showrowdetailscolumn&&(o+=30),h.css("margin-left",-e),p.style.width=o+d-c-l+"px"):(d="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max,p.style.width=o+d-c-l+"px",e=h.width(),h.css("margin-left",-e)))}}})}(jqxBaseFramework),!function(S){S.extend(S.jqx._jqxGrid.prototype,{_handledblclick:function(e,t){if(null!=e.target&&!(t.disabled||S(e.target).ischildof(this.columnsheader)||(e.which?i=3==e.which:e.button&&(i=2==e.button),i||(e.which?s=2==e.which:e.button&&(s=1==e.button),s)))){var i=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0,r=(s=s+(this.showtoolbar?this.toolbarheight:0)+(this.showfilterbar?this.toolbarheight:0),this.host.offset()),n=e.pageX-r.left,i=e.pageY-i-r.top-s,r=this._hittestrow(n,i);if(r){var i=r.row,r=r.index,o=e.target.className,a=this.table[0].rows[r];if(null!=a){t.mousecaptured=!0,t.mousecaptureposition={left:e.pageX,top:e.pageY-s};for(var l=this.hScrollInstance.value,d=0,h=(this.groupable&&this.groups.length,0);h<a.cells.length;h++){var c=parseInt(S(this.columnsrow[0].cells[h]).css("left")),u=c-l,p=(t.columns.records[h].pinned&&(u=c),this._getcolumnat(h));if(null==p||!p.hidden)if(n<=u+S(this.columnsrow[0].cells[h]).width()&&u<=n){d=h;break}}null!=i&&(p=this._getcolumnat(d),-1==o.indexOf("jqx-grid-group-expand")&&-1==o.indexOf("jqx-grid-group-collapse")&&-1!=i.boundindex&&t.begincelledit(t.getboundindex(i),p.datafield,p.defaulteditorvalue))}}}},_getpreveditablecolumn:function(e){for(;0<e;){e--;var t=this.getcolumnat(e);if(!t)return null;if(t.editable&&!t.hidden)return t}return null},_getnexteditablecolumn:function(e){for(;e<this.columns.records.length;){e++;var t=this.getcolumnat(e);if(!t)return null;if(t.editable&&!t.hidden)return t}return null},_handleeditkeydown:function(e,t){if(t.handlekeyboardnavigation&&1==t.handlekeyboardnavigation(e))return!0;var i,s,r,n=e.charCode||e.keyCode||0;if(t.editEvent=e,t.showfilterrow&&t.filterable&&this.filterrow&&S(e.target).ischildof(this.filterrow))return!0;if(t.showfilterbar&&t.filterable&&this.filterbar&&S(e.target).ischildof(this.filterbar))return!0;if(e.target.className&&0<=e.target.className.indexOf("jqx-grid-widget"))return!0;if(t.pageable&&S(e.target).ischildof(this.pager))return!0;if(this.showtoolbar&&S(e.target).ischildof(this.toolbar))return!0;if(this.showeverpresentrow){if(this.addnewrowtop&&S(e.target).ischildof(this.addnewrowtop))return!0;if(this.addnewrowbottom&&S(e.target).ischildof(this.addnewrowbottom))return!0}if(this.showstatusbar&&S(e.target).ischildof(this.statusbar))return!0;if(this.rowdetails&&S(e.target).ischildof(this.content.find("[role='rowgroup']")))return!0;if(this.editcell){if("selectedrow"===this.editmode){if(13===n)return this.endrowedit(this.editcell.row,!1),!1;if(27===n)return this.endrowedit(this.editcell.row,!0),!1;if(32==n)if(this._currentColumn&&"checkbox"==this.getcolumn(this._currentColumn).columntype)if((l=this.getcolumn(this._currentColumn)).editable)return d=!this.getcellvalue(this.editcell.row,l.datafield),h=this.getrowdata(this.editcell.row),i=this.editcell.row,h=t.getrowdata(t.editcell.row),this.pushToHistory=!0,this.setcellvalue(this.editcell.row,l.datafield,d,!1),this.pushToHistory=!1,g=this._focusedColumn,a=this._currentColumn,p=this._currentEditableColumn,this.endrowedit(this.editcell.row,!1),this.beginrowedit(i,!1),this._currentColumn=a,this._focusedColumn=g,this._currentEditableColumn=p,this._renderrows(),this.selectcell(i,l.datafield),this._oldselectedcell=this.selectedcell,g&&(s=this,setTimeout(function(){s.selectcell(i,l.datafield),s._oldselectedcell=s.selectedcell,S(s._checkboxCells[l.datafield].checkbox).jqxCheckBox("focus")},25)),!1;if(9!==n)return!0;var o=this.editcell.datafield,a=this._getcolumnindex(o),l=(this._currentEditableColumn?a=this._currentEditableColumn:this._currentEditableColumn=a,this._getnexteditablecolumn(a));if(l=e.shiftKey||this.rtl?this._getpreveditablecolumn(a):l){var a=this._getcolumnindex(l.datafield);if(this.editcell[l.datafield])this._currentEditableColumn=a,(u=this.editcell[l.datafield].editor)&&(u.data().jqxWidget&&u.data().jqxWidget.focus?u.data().jqxWidget.focus():(u.focus(),u[0].onkeyup=function(){0!=t.gridcontent[0].scrollTop&&(t.scrolltop(Math.abs(t.gridcontent[0].scrollTop)),t.gridcontent[0].scrollTop=0),0!=t.gridcontent[0].scrollLeft&&(t.gridcontent[0].scrollLeft=0)})),this._focusedColumn=l.datafield,this._currentColumn=l.datafield,0!=this.gridcontent[0].scrollTop&&(this.scrolltop(Math.abs(this.gridcontent[0].scrollTop)),this.gridcontent[0].scrollTop=0),0!=this.gridcontent[0].scrollLeft&&(this.gridcontent[0].scrollLeft=0);else if("checkbox"==l.columntype)return this._currentColumn=l.datafield,this._currentEditableColumn=a,this.selectcell(this.editcell.row,l.datafield),this._oldselectedcell=this.selectedcell,this._checkboxCells[l.datafield]&&S(this._checkboxCells[l.datafield].checkbox).jqxCheckBox("focus"),!1}return!1}if(null==this.editcell.columntype||"textbox"==this.editcell.columntype||"numberinput"==this.editcell.columntype||"combobox"==this.editcell.columntype||"datetimeinput"==this.editcell.columntype?33<=n&&n<=40&&"multiplecellsadvanced"==t.selectionmode&&(u="textbox"==this.editcell.columntype||null==this.editcell.columntype?this.editcell.editor:this.editcell.editor.find("input"),p=t._selection(u),g=u.val().length,0<p.length&&"datetimeinput"!=this.editcell.columntype&&(t._cancelkeydown=!0),0<p.start&&37==n&&(t._cancelkeydown=!0),p.start<g&&39==n&&"datetimeinput"!=this.editcell.columntype&&(t._cancelkeydown=!0),"datetimeinput"==this.editcell.columntype&&39==n&&p.start+p.length<g&&(t._cancelkeydown=!0)):"dropdownlist"==this.editcell.columntype?(37==n||39==n&&"multiplecellsadvanced"==t.selectionmode)&&(t._cancelkeydown=!1):"multiplecellsadvanced"==this.selectionmode&&"textbox"!=this.editcell.columntype&&"numberinput"!=this.editcell.columntype&&(t._cancelkeydown=!0),32==n)if("checkbox"==t.editcell.columntype)if((l=t.getcolumn(t.editcell.datafield)).editable){var d=!t.getcellvalue(t.editcell.row,t.editcell.column);if(l.cellbeginedit)if(0==l.cellbeginedit(t.editcell.row,l.datafield,l.columntype,!d))return!1;var h=t.getrowdata(t.editcell.row);return t.pushToHistory=!0,t.setcellvalue(t.editcell.row,t.editcell.column,d,!0),t.pushToHistory=!1,t._raiseEvent(18,{rowindex:t.editcell.row,row:h,datafield:t.editcell.column,oldvalue:!d,value:d,columntype:"checkbox"}),!1}if(9==n){var c=this.editcell.row,u=o=this.editcell.column,a=t._getcolumnindex(o),p=!1,m=t.getrowvisibleindex(c),g=c,f=(this.editchar="",this.editcell.validated);if(0!=(f=this.editcell.validated?f:this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1))){if(e.shiftKey||this.rtl?(l=t._getpreveditablecolumn(a))?(o=l.datafield,p=!0,-1!=t.selectionmode.indexOf("cell")&&(t.selectprevcell(c,u),t._oldselectedcell=t.selectedcell,setTimeout(function(){t.ensurecellvisible(m,o)},10))):(f=t._getlastvisiblecolumn(),p=!0,o=f.displayfield,(x=t.getdisplayrows()[m-1])&&(void 0===(c=x.dataindex)&&(c=x.boundindex),m=t.getrowvisibleindex(c)),y=!0,t.pageable&&(v=Math.floor(m/this.pagesize),this.dataview.pagenum!=v&&(y=!1)),y&&-1!=t.selectionmode.indexOf("cell")&&(t.clearselection(),t.selectcell(c,o),t._oldselectedcell=t.selectedcell,setTimeout(function(){t.ensurecellvisible(m,o)},10))):(l=t._getnexteditablecolumn(a))?(o=l.datafield,p=!0,-1!=t.selectionmode.indexOf("cell")&&(t.selectnextcell(c,u),t._oldselectedcell=t.selectedcell,setTimeout(function(){t.ensurecellvisible(m,o)},10))):(f=t._getfirstvisiblecolumn(),p=!0,o=f.displayfield,(x=t.getdisplayrows()[m+1])&&(void 0===(c=x.dataindex)&&(c=x.boundindex),m=t.getrowvisibleindex(c)),y=!0,t.pageable&&(v=Math.floor(m/this.pagesize),this.dataview.pagenum!=v&&(y=!1)),-1!=t.selectionmode.indexOf("cell")&&y&&(t.clearselection(),t.selectcell(c,o),t._oldselectedcell=t.selectedcell,setTimeout(function(){t.ensurecellvisible(m,o)},10))),!p)return null!=this.editcell&&(t.endcelledit(c,o,!1),this._renderrows(this.virtualsizeinfo)),!0;if(t.pageable){var v=Math.floor(m/this.pagesize);if(this.dataview.pagenum!=v)return this._renderrows(this.virtualsizeinfo),-1!=t.selectionmode.indexOf("cell")&&(t.clearselection(),t.selectcell(g,u),t._oldselectedcell=t.selectedcell),void(v>this.dataview.pagenum&&setTimeout(function(){t.pagerpageinput.focus()},25))}t.begincelledit(c,o),null!=this.editcell&&"checkbox"==this.editcell.columntype&&this._renderrows(this.virtualsizeinfo)}return!1}if(13==n)return(a=this.selectedcell)&&(r=this.getrowvisibleindex(a.rowindex)),this.endcelledit(this.editcell.row,this.editcell.column,!1,!0),"multiplecellsadvanced"==this.selectionmode&&null!=(C=t.getselectedcell())&&t.selectcell&&null==this.editcell&&C.rowindex+1<this.dataview.totalrecords&&(this.sortcolumn!=C.datafield?(m=this.getrowvisibleindex(C.rowindex),(w=this.dataview.loadedrecords[m+1])&&(!this.pageable||this.pageable&&m+1<(this.dataview.pagenum+1)*this.pagesize)&&(this.clearselection(!1),this.selectcell(this.getboundindex(w),C.datafield),C=this.getselectedcell(),this.ensurecellvisible(w.visibleindex,C.datafield))):null!=a&&(f=this.dataview.loadedrecords[r+1])&&(!this.pageable||this.pageable&&r+1<this.pagesize?(this.clearselection(!1),this.selectcell(this.getboundindex(f),C.datafield)):this.pageable&&r+1>=this.pagesize&&(this.clearselection(!1),f=this.dataview.loadedrecords[r],this.selectcell(this.getboundindex(f),C.datafield)))),!1;if(27==n)return this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),!1}else{var x=113==n?!0:!1;if(!e.ctrlKey&&!e.altKey&&!e.metaKey){48<=n&&n<=57&&(this.editchar=String.fromCharCode(n),x=!0),189===n&&(x=!0),65<=n&&n<=90?(this.editchar=String.fromCharCode(n),y=!1,e.shiftKey?y=e.shiftKey:e.modifiers&&(y=!!(4&e.modifiers)),(y=this._capsLock?!y:y)||(this.editchar=this.editchar.toLowerCase()),x=!0):96<=n&&n<=105&&(this.editchar=n-96,this.editchar=this.editchar.toString(),x=!0);var y,p=S(".jqx-grid").length,x=x&&(1==p||1<p&&t.focused),g=S.data(document.body,"jqxgrid.edit");if(void 0!==g&&""!==g&&(13===n||x)&&g!=t.element.id)return!0}if((13==n||x)&&t.getselectedrowindex){var w,c=t.getselectedrowindex();if("selectedrow"===t.editmode){if(!(0<=c))return null!=(C=t.getselectedcell())&&(l=t._getcolumnbydatafield(C.datafield),t.beginrowedit(C.rowindex)),!1;t.beginrowedit(c)}switch(t.selectionmode){case"singlerow":case"multiplerows":case"multiplerowsextended":if(0<=c){for(var o="",b=0;b<t.columns.records.length;b++)if((l=t.getcolumnat(b)).editable){o=l.datafield;break}"selectedrow"===t.editmode?t.beginrowedit(c):t.begincelledit(c,o)}break;case"singlecell":case"multiplecells":case"multiplecellsextended":null!=(C=t.getselectedcell())&&(l=t._getcolumnbydatafield(C.datafield),"selectedrow"===t.editmode?t.beginrowedit(C.rowindex):"checkbox"!=l.columntype&&t.begincelledit(C.rowindex,C.datafield));break;case"multiplecellsadvanced":null!=(C=t.getselectedcell())&&(13==n?t.selectcell&&(m=this.getrowvisibleindex(C.rowindex))+1<t.dataview.totalrecords&&(w=this.dataview.loadedrecords[m+1])&&(this.clearselection(!1),this.selectcell(this.getboundindex(w),C.datafield),C=this.getselectedcell(),this.ensurecellvisible(w.visibleindex,C.datafield)):"selectedrow"!==t.editmode&&t.begincelledit(C.rowindex,C.datafield,null,!1))}return!1}if(46==n){var _=t.getselectedcells();if(null!=(_=-1==t.selectionmode.indexOf("cell")&&t._getcellsforcopypaste?t._getcellsforcopypaste():_)&&0<_.length){for(var q=0;q<_.length;q++)if((C=_[q]).datafield){var l=t.getcolumn(C.datafield),j=t.getcellvalue(C.rowindex,C.datafield);if(""!==j&&l.editable&&t.enablekeyboarddelete){var T=null;if("checkbox"!=l.columntype||l.threestatecheckbox||(T=!1),l.cellbeginedit)if(0==l.cellbeginedit(C.rowindex,l.datafield,l.columntype,T))return!1;h=t.getrowdata(C.rowindex);t._raiseEvent(17,{rowindex:C.rowindex,row:h,datafield:C.datafield,value:j}),t.pushToHistory=!0,q==_.length-1?t.setcellvalue(C.rowindex,C.datafield,T,!0):t.setcellvalue(C.rowindex,C.datafield,T,!1),l.displayfield!=l.datafield&&t.setcellvalue(C.rowindex,l.displayfield,T,!0),t.pushToHistory=!1,l.cellendedit&&l.cellendedit(C.rowindex,l.datafield,l.columntype,T),t._raiseEvent(18,{rowindex:C.rowindex,row:h,datafield:C.datafield,oldvalue:j,value:T})}}return this.dataview.updateview(),this._renderrows(this.virtualsizeinfo),!1}}if(32==n){var C=t.getselectedcell();if(null!=C)if("checkbox"==(l=t.getcolumn(C.datafield)).columntype&&l.editable){d=!t.getcellvalue(C.rowindex,C.datafield);if(l.cellbeginedit)if(0==l.cellbeginedit(C.rowindex,l.datafield,l.columntype,!d))return!1;h=t.getrowdata(C.rowindex);return t._raiseEvent(17,{rowindex:C.rowindex,row:h,datafield:C.datafield,value:!d,columntype:"checkbox"}),t.pushToHistory=!0,t.setcellvalue(C.rowindex,C.datafield,d,!0),t.pushToHistory=!1,t._raiseEvent(18,{rowindex:C.rowindex,row:h,datafield:C.datafield,oldvalue:!d,value:d,columntype:"checkbox"}),!1}}}return!0},begincelledit:function(e,t,i,s,r){var n=this.getcolumn(t);if(this._cellscache=new Array,null!=t&&"number"!=n.columntype&&"button"!=n.columntype&&!n.createwidget){if(this.groupable){if(0<=this.groups.indexOf(t))return;if(0<=this.groups.indexOf(n.displayfield))return}if(null==this.editrow){if(this.editcell){if(this.editcell.row==e&&this.editcell.column==t)return!0;if("selectedrow"===this.editmode&&this.editcell.row==e)return;if(0==this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1))return}var o="checkbox"==n.columntype||"button"==n.columntype||n.createwidget;if(this.host.removeClass("jqx-disableselect"),this.content.removeClass("jqx-disableselect"),n.editable){if(n.cellbeginedit){var a=this.getcell(e,t);if(0==n.cellbeginedit(e,t,n.columntype,null!=a?a.value:null))return}var a=this.getrowvisibleindex(e);if(this.editcell=this.getcell(e,t),this.editcell)if(this.editcell.visiblerowindex=a,!this.editcell.editing)if(o||(this.editcell.editing=!0),this.editcell.columntype=n.columntype,this.editcell.defaultvalue=i,null!=n.defaultvalue&&(this.editcell.defaultvalue=n.defaultvalue),this.editcell.init=!0,"checkbox"!=n.columntype&&"selectedrow"!=this.editmode&&(t=this.getrowdata(e),this._raiseEvent(17,{rowindex:e,row:t,datafield:n.datafield,value:this.editcell.value,columntype:n.columntype})),S.data(document.body,"jqxgrid.edit",this.element.id),o||(a=this.getrowvisibleindex(e),!1===s||this.autorowheight||0!==this.groups.length||this.ensurecellvisible(a,n.datafield),!1!==r&&this._renderrows(this.virtualsizeinfo)),this.editcell)return!(this.editcell.init=!1)}else this.editcell?(this.editchar="",this.editcell.editor=null,(this.editcell.editing=!1)!==r&&this._renderrows(this.virtualsizeinfo),this.editcell=null):this.editchar=""}}},getScrollTop:function(){return this._py||(this._py="undefined"!=typeof pageYOffset,this._py?pageYOffset:(e=document.body,(t=(t=document.documentElement).clientHeight?t:e).scrollTop));var e,t},getScrollLeft:function(){var e,t;return"undefined"!=typeof pageXOffset?pageXOffset:(e=document.body,(t=(t=document.documentElement).clientHeight?t:e).scrollLeft)},endcelledit:function(s,r,e,n,i){if(null!=s&&null!=r||(this.editcell&&(s=this.editcell.row,r=this.editcell.column),null==e&&(e=!0)),this.editcell){var o=this.getcolumn(r),a=this;if("selectedrow"!==a.editmode){var l=function(){if(0!=i&&!a.isTouchDevice()&&!a.isNestedGrid){var e=a.getScrollTop(),t=a.getScrollLeft();try{a.element.focus(),a.content.focus(),e!=a.getScrollTop()&&window.scrollTo(t,e),setTimeout(function(){a.element.focus(),a.content.focus(),e!=a.getScrollTop()&&window.scrollTo(t,e)},10)}catch(e){}}};if("checkbox"==o.columntype||"button"==o.columntype||o.createwidget)return this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1,this.editcell=null),!0;function t(e){e._hidecelleditor(),o.cellendedit&&o.cellendedit(s,r,o.columntype,e.editcell.value,d),e.editchar=null,o.displayfield!=o.datafield&&(t=e.getcellvalue(e.editcell.row,o.displayfield)),e.editcell.value;var t,i=e.getrowdata(s);e._raiseEvent(18,{rowindex:s,row:i,datafield:r,displayfield:o.displayfield,oldvalue:d,value:d,columntype:o.columntype}),e.editcell.editor=null,e.editcell.editing=!1,e.editcell=null,!n&&null!=n||e._renderrows(e.virtualsizeinfo),l(),e.enablebrowserselection||(e.host.addClass("jqx-disableselect"),e.content.addClass("jqx-disableselect"))}var d=this._geteditorvalue(o);if(e)return t(this),!1;if(this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),!o.cellvaluechanging||null!=(h=o.cellvaluechanging(s,r,o.columntype,this.editcell.value,d))&&(d=h),o.validation){var h=this.getcell(s,r);try{var c=o.validation(h,d),u=this.gridlocalization.validationstring;if(null!=c.message&&(u=c.message),!("boolean"==typeof c?c:c.result))return null!=c.showmessage&&1!=c.showmessage||this._showvalidationpopup(s,r,u),this.editcell.validated=!1}catch(e){return this._showvalidationpopup(s,r,this.gridlocalization.validationstring),this.editcell.validated=!1}}c=o.displayfield!=o.datafield?(h=this.getcellvalue(this.editcell.row,o.displayfield),{value:this.editcell.value,label:h}):this.editcell.value;u=this.getrowdata(s);if(o.cellendedit)if(0==o.cellendedit(s,r,o.columntype,this.editcell.value,d))return this._raiseEvent(18,{rowindex:s,row:u,datafield:r,displayfield:o.displayfield,oldvalue:c,value:c,columntype:o.columntype}),t(this),!1;return this._raiseEvent(18,{rowindex:s,row:u,datafield:r,displayfield:o.displayfield,oldvalue:c,value:d,columntype:o.columntype}),this._hidecelleditor(!1),null!=this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1),this.editcell=null,this.editchar=null,this.pushToHistory=!0,this.setcellvalue(s,r,d,n),this.pushToHistory=!1,this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),S.jqx.browser.msie||l(),S.data(document.body,"jqxgrid.edit",""),!0}this.endrowedit(s,e)}},beginrowedit:function(r){var e,t,n,o=this;null!=r&&(o._oldselectedrow=r,this._cellscache=new Array,e=!1,(e="selectedrow"!=this.editmode?!0:e)&&(t=this.editmode,this.editmode="selectedrow"),n=null,this._currentEditableColumn&&(n=this.getcolumnat(this._currentEditableColumn).datafield),S.each(this.columns.records,function(e,t){if(o.editable&&this.editable){if("checkbox"===this.columntype||"custom"===this.columntype||"widget"===this.columntype||"template"===this.columntype||"button"===this.columntype)return!0;n=n||this.datafield;var i=o.getcell(r,this.datafield),s=(o.begincelledit(r,this.datafield,null,!1,!1),o.getrowdata(r));o._raiseEvent(17,{rowindex:r,row:s,datafield:this.datafield,value:i.value,columntype:this.columntype})}}),o.editcell&&(o.editcell.init=!0),this._renderrows(this.virtualsizeinfo),e&&(this.editmode=t),n&&o.editcell&&setTimeout(function(){var e;o.editcell&&o.editcell[n]&&((e=o.editcell[n].editor)&&(e.data().jqxWidget&&e.data().jqxWidget.focus?e.data().jqxWidget:e).focus())},25))},endrowedit:function(r,e){var n=this;if(this._currentEditableColumn=0,this._focusedColumn=null,this._currentColumn=null,this._checkboxCells=[],!this.editcell)return!1;if(null==this.editcell.editor&&"checkbox"!==this.editcell.columntype)return!1;this._commandColumnEdit&&(this.editmode=this._commandColumnEditMode,delete this._commandColumnEdit,delete this._commandColumnEditMode,delete this.editrow);var t,i=!1,s=((i="selectedrow"!=this.editmode?!0:i)&&(t=this.editmode,this.editmode="selectedrow"),!1),o={};this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide());for(var a=0;a<this.columns.records.length;a++){var l=this.columns.records[a];if(l.editable&&(!l.hidden&&!l.createwidget)){var d=this._geteditorvalue(l);if("checkbox"==l.columntype)e&&(d=this.editcell[l.datafield],y=this.getcellvalue(this.editcell.row,l.displayfield),this.setcellvalue(this.editcell.row,l.displayfield,d));else{var h=function(e){e._hidecelleditor();var t=e.getcellvalue(e.editcell.row,l.displayfield),i=(l.cellendedit&&l.cellendedit(r,u,l.columntype,t,d),e.editchar=null,l.displayfield!=l.datafield&&e.getcellvalue(e.editcell.row,l.displayfield),e.getrowdata(r));e._raiseEvent(18,{rowindex:r,row:i,datafield:u,displayfield:l.displayfield,oldvalue:t,value:t,columntype:l.columntype}),e.editcell.editing=!1};if(e)h(this);else{l.cellvaluechanging&&(y=this.getcellvalue(this.editcell.row,l.displayfield),null!=(p=l.cellvaluechanging(r,u,l.columntype,y,d))&&(d=p));var c,u=l.datafield;if(l.validation){var p=this.getcell(r,l.datafield);try{var m=l.validation(p,d),g=this.gridlocalization.validationstring;if(null!=m.message&&(g=m.message),!(b="boolean"==typeof m?m:m.result)){null!=m.showmessage&&1!=m.showmessage||this._showvalidationpopup(r,u,g),s=!0,this.editcell[l.datafield].validated=!1;continue}}catch(e){this._showvalidationpopup(r,u,this.gridlocalization.validationstring),s=!(this.editcell[l.datafield].validated=!1);continue}}y=l.displayfield!=l.datafield?(c=this.getcellvalue(this.editcell.row,l.displayfield),{value:this.editcell.value,label:c}):this.getcellvalue(this.editcell.row,l.displayfield),o[l.datafield]={newvalue:d,oldvalue:y}}}}}var f={},v={};if(!s){this._hidecelleditor(!1);for(a=0;a<this.columns.records.length;a++){u=(l=this.columns.records[a]).datafield;if(!l.hidden&&l.editable){var x=this.getrowdata(r);if(!l.createwidget)if("checkbox"==l.columntype){d=this.getcellvalue(r,l.displayfield);this._raiseEvent(18,{rowindex:r,row:x,datafield:l.datafield,displayfield:l.displayfield,oldvalue:d,value:d,columntype:l.columntype})}else if(o[l.datafield]){var d=o[l.datafield].newvalue,y=o[l.datafield].oldvalue;if(l.cellendedit)if(0==l.cellendedit(r,u,l.columntype,y,d)){this._raiseEvent(18,{rowindex:r,row:x,datafield:u,displayfield:l.displayfield,oldvalue:y,value:y,columntype:l.columntype}),h(this);continue}this.source.updaterow||this._raiseEvent(18,{rowindex:r,row:x,datafield:l.datafield,displayfield:l.displayfield,oldvalue:y,value:d,columntype:l.columntype}),f[l.datafield]=d,v[l.datafield]=y}}}var w=this.getrowid(r),x=this.getrowdata(r);if(S.each(f,function(e,t){var i;t&&null!=t.label?(i=n.getcolumn(e),x[i.displayfield]=t.label,x[i.datafield]=t.value):x[e]=t}),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),S.data(document.body,"jqxgrid.edit",""),this.editcell=null,this.editchar=null,this.pushToHistory=!0,this.source.updaterow&&!e){var n=this,b=function(e){var t=n.source.updaterow;n.source.updaterow=null,0==e&&S.each(v,function(e,t){var i;t&&null!=t.label?(i=n.getcolumn(e),x[i.displayfield]=t.label,x[i.datafield]=t.value):x[e]=t}),n.updaterow(w,x);for(var i=0;i<n.columns.records.length;i++){var s=n.columns.records[i];s.datafield;n._raiseEvent(18,{rowindex:r,datafield:s.datafield,row:x,displayfield:s.displayfield,oldvalue:v[s.datafield],value:x[s.displayfield],columntype:s.columntype})}n.source.updaterow=t};try{null==this.source.updaterow(w,x,b)&&0}catch(e){return void 0}}else e||this.updaterow(w,x),this._renderrows(this.virtualsizeinfo)}return this.pushToHistory=!1,i&&(this.editmode=t),s},_selection:function(e){if("selectionStart"in e[0])return s=(i=e[0]).selectionEnd-i.selectionStart,{start:i.selectionStart,end:i.selectionEnd,length:s,text:i.value};var t=document.selection.createRange();if(null==t)return{start:0,end:i.value.length,length:0};var i=e[0].createTextRange(),e=i.duplicate(),s=(i.moveToBookmark(t.getBookmark()),e.setEndPoint("EndToStart",i),t.text.length);return{start:e.text.length,end:e.text.length+t.text.length,length:s,text:t.text}},_setSelection:function(e,t,i){try{var s;"selectionStart"in e?e.setSelectionRange(t,i):((s=e.createTextRange()).collapse(!0),s.moveEnd("character",i),s.moveStart("character",t),s.select())}catch(e){}},findRecordIndex:function(e,t,i){if(t)for(var s=i.length,r=0;r<s;r++)if(e==i[r].label)return r;return-1},_destroyeditors:function(){var o=this;this.columns.records&&(S.each(this.columns.records,function(e,t){var i=S.trim(this.datafield).split(" ").join("");switch(this.columntype){case"dropdownlist":var s=o.editors["dropdownlist_"+i];s&&(s.jqxDropDownList("destroy"),o.editors["dropdownlist_"+i]=null);break;case"combobox":s=o.editors["combobox_"+i];s&&(s.jqxComboBox("destroy"),o.editors["combobox_"+i]=null);break;case"datetimeinput":s=o.editors["datetimeinput_"+this.datafield];s&&(s.jqxDateTimeInput("destroy"),o.editors["datetimeinput_"+i]=null);break;case"numberinput":s=o.editors["numberinput_"+i];s&&(s.jqxNumberInput("destroy"),o.editors["numberinput_"+i]=null);break;case"custom":case"template":if(o.destroyeditor&&o.editors["templateeditor_"+i]&&(o.destroyeditor(o.editors["templateeditor_"+i]),o.editors["templateeditor_"+i]=null),o.destroyeditor)for(var r=o.getrows.length(),n=0;n<r;n++)o.editors["customeditor_"+i+"_"+n]&&(o.destroyeditor(o.editors["customeditor_"+i+"_"+n],n),o.editors["customeditor_"+i+"_"+n]=null);break;default:s=o.editors["textboxeditor_"+i];s&&(o.removeHandler(s,"keydown"),o.editors["textbox_"+i]=null)}}),o.editors=new Array)},_showcelleditor:function(e,o,t,i,s){if(null!=t&&null!=this.editcell)if("checkbox"==o.columntype&&o.editable)"selectedrow"==this.editmode&&(this._checkboxCells||(this._checkboxCells=[]),this._checkboxCells[o.datafield]=t);else{null==s&&(s=!0),"selectedrow"==this.editmode&&(this.editchar="",s=!1);function r(e){h.hScrollInstance.isScrolling()||h.vScrollInstance.isScrolling()||!s||h.isTouchDevice()||(e&&e.focus(),0!=h.gridcontent[0].scrollTop&&(h.scrolltop(Math.abs(h.gridcontent[0].scrollTop)),h.gridcontent[0].scrollTop=0),0!=h.gridcontent[0].scrollLeft&&(h.gridcontent[0].scrollLeft=0))}var n,a,l=o.datafield,d=S(t),h=this,c=this.editcell.editor,u=this.getcellvalue(e,l),p=this.getcelltext(e,l),m=this.hScrollInstance.value,g=parseInt(m);this.columns.records.indexOf(o),this.editcell.element=t,0==this.editcell.validated&&(m="",this.validationpopup&&(m=this.validationpopup.text()),this._showvalidationpopup(e,l,m));switch(o.columntype){case"dropdownlist":if(this.host.jqxDropDownList){t.innerHTML="";var f=S.trim(o.datafield).split(" ").join(""),v=S.trim(o.displayfield).split(" ").join(""),x=(-1!=f.indexOf(".")&&(f=f.replace(".","")),-1!=v.indexOf(".")&&(v=v.replace(".","")),"fluent"===h.theme?2:0),y=this.editors["dropdownlist_"+f],y=((c=null==y?S("<div style='border: none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='dropdownlisteditor'></div>"):y).css("top",x+S(t).parent().position().top),this.oldhscroll?c.css("left",x-g+parseInt(S(t).position().left)):c.css("left",x+parseInt(S(t).position().left)),o.pinned&&c.css("left",x+g+parseInt(S(t).position().left)),null==y&&(c.prependTo(this.table),c[0].id="dropdownlisteditor"+this.element.id+f,q=null,q=!!this.source._source?(b={localdata:JSON.parse(JSON.stringify(this.source.records)),datatype:this.source.datatype,async:!1},new S.jqx.dataAdapter(b,{autoBind:!1,async:!1,uniqueDataFields:[v],autoSort:!0,autoSortField:v})):new S.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[v],async:!1,autoSort:!0,autoSortField:v}),C=!o.createeditor,c.jqxDropDownList({hint:!1,enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:q,rtl:this.rtl,autoDropDownHeight:C,theme:this.theme,width:d.width()-x,height:d.height()-x,displayMember:v,valueMember:l}),this.editors["dropdownlist_"+f]=c,o.createeditor&&o.createeditor(e,u,c)),o._requirewidthupdate&&c.jqxDropDownList({width:d.width()}),c.jqxDropDownList("listBox").visibleItems),u=(o.createeditor||(y.length<8?c.jqxDropDownList("autoDropDownHeight",!0):c.jqxDropDownList("autoDropDownHeight",!1)),this.getcellvalue(e,v)),w=this.findRecordIndex(u,v,y);if(i&&(""!=u?c.jqxDropDownList("selectIndex",w,!0):c.jqxDropDownList("selectIndex",-1)),!this.editcell)return;null!=this.editcell.defaultvalue&&c.jqxDropDownList("selectIndex",this.editcell.defaultvalue,!0),s&&c.jqxDropDownList("focus")}break;case"combobox":if(this.host.jqxComboBox){t.innerHTML="";var b,f=S.trim(o.datafield).split(" ").join(""),v=S.trim(o.displayfield).split(" ").join(""),x=(-1!=f.indexOf(".")&&(f=f.replace(".","")),-1!=v.indexOf(".")&&(v=v.replace(".","")),"fluent"===h.theme?2:0),_=this.editors["combobox_"+f],y=((c=null==_?S("<div style='border: none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='comboboxeditor'></div>"):_).css("top",x+S(t).parent().position().top),this.oldhscroll?c.css("left",-g+x+parseInt(S(t).position().left)):c.css("left",x+parseInt(S(t).position().left)),o.pinned&&c.css("left",x+g+parseInt(S(t).position().left)),null==_&&(c.prependTo(this.table),c[0].id="comboboxeditor"+this.element.id+f,q=null,q=!!this.source._source?(b={localdata:JSON.parse(JSON.stringify(this.source.records)),datatype:this.source.datatype,async:!1},new S.jqx.dataAdapter(b,{autoBind:!1,async:!1,uniqueDataFields:[v],autoSort:!0,autoSortField:v})):new S.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[v],async:!1,autoSort:!0,autoSortField:v}),C=!o.createeditor,c.jqxComboBox({hint:!1,enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:q,rtl:this.rtl,autoDropDownHeight:C,theme:this.theme,width:d.width()-x,height:d.height()-x,displayMember:v,valueMember:l}),c.removeAttr("tabindex"),c.find("div").removeAttr("tabindex"),this.editors["combobox_"+f]=c,o.createeditor&&o.createeditor(e,u,c)),o._requirewidthupdate&&c.jqxComboBox({width:d.width()-2}),c.jqxComboBox("listBox").visibleItems),u=(o.createeditor||(y.length<8?c.jqxComboBox("autoDropDownHeight",!0):c.jqxComboBox("autoDropDownHeight",!1)),this.getcellvalue(e,v)),w=this.findRecordIndex(u,v,y);if(i&&(""!=u?c.jqxComboBox("selectIndex",w,!0):c.jqxComboBox("selectIndex",-1),c.jqxComboBox("val",u)),!this.editcell)return;null!=this.editcell.defaultvalue&&c.jqxComboBox("selectIndex",this.editcell.defaultvalue,!0),this.editchar&&0<this.editchar.length&&c.jqxComboBox("input").val(this.editchar),s&&setTimeout(function(){var e;r(c.jqxComboBox("input")),c&&(c.jqxComboBox("_setSelection",0,0),h.editchar?(c.jqxComboBox("_setSelection",1,1),h.editchar=null):c.jqxComboBox("input")&&(e=c.jqxComboBox("input").val(),c.jqxComboBox("_setSelection",0,e.length)))},10)}break;case"datetimeinput":this.host.jqxDateTimeInput&&(t.innerHTML="",-1!=(f=S.trim(o.datafield).split(" ").join("")).indexOf(".")&&(f=f.replace(".","")),x="fluent"===h.theme?2:0,_=this.editors["datetimeinput_"+f],(c=null==_?S("<div style='border: none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='datetimeeditor'></div>"):_).show(),c.css("top",x+S(t).parent().position().top),this.oldhscroll?c.css("left",x-g+parseInt(S(t).position().left)):c.css("left",x+parseInt(S(t).position().left)),o.pinned&&c.css("left",x+g+parseInt(S(t).position().left)),null==_&&(c.prependTo(this.table),c[0].id="datetimeeditor"+this.element.id+f,b={calendar:this.gridlocalization},c.jqxDateTimeInput({hint:!1,firstDayOfWeek:this.gridlocalization.firstDay,enableBrowserBoundsDetection:!0,localization:b,_editor:!0,theme:this.theme,rtl:this.rtl,width:d.width()-x,height:d.height()-4*x,formatString:o.cellsformat}),this.editors["datetimeinput_"+f]=c,o.createeditor&&o.createeditor(e,u,c)),o._requirewidthupdate&&c.jqxDateTimeInput({width:d.width()}),i&&(""!=u&&null!=u?("Invalid Date"==(q=new Date(u))&&this.source.getvaluebytype&&(q=this.source.getvaluebytype(u,{name:o.datafield,type:"date"})),c.jqxDateTimeInput("setDate",q)):c.jqxDateTimeInput("setDate",null),null!=this.editcell.defaultvalue&&c.jqxDateTimeInput("setDate",this.editcell.defaultvalue)),s&&(n=this.editEvent,setTimeout(function(){r(c.jqxDateTimeInput("dateTimeInput")),setTimeout(function(){var e;c.jqxDateTimeInput("_selectGroup",0),h.editchar&&0<h.editchar.length&&(e=parseInt(h.editchar),isNaN(e)||n&&(e=n.charCode||n.keyCode||0,c.jqxDateTimeInput("_handleKeyPress",n,e)))},25)},10)));break;case"numberinput":this.host.jqxNumberInput&&(t.innerHTML="",-1!=(f=S.trim(o.datafield).split(" ").join("")).indexOf(".")&&(f=f.replace(".","")),x="fluent"===h.theme?2:0,C=this.editors["numberinput_"+f],(c=null==C?S("<div style='border:none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='numbereditor'></div>"):C).show(),c.css("top",x+S(t).parent().position().top),this.oldhscroll?c.css("left",x-g+parseInt(S(t).position().left)):c.css("left",x+parseInt(S(t).position().left)),o.pinned&&c.css("left",x+g+parseInt(S(t).position().left)),null==C&&(c.prependTo(this.table),c[0].id="numbereditor"+this.element.id+f,v="",y="left",w=2,o.cellsformat?-1!=o.cellsformat.indexOf("c")?(v=this.gridlocalization.currencysymbol,y="before"==(y=this.gridlocalization.currencysymbolposition)?"left":"right",1<o.cellsformat.length&&(w=parseInt(o.cellsformat.substring(1),10))):-1!=o.cellsformat.indexOf("p")&&(v=this.gridlocalization.percentsymbol,y="right",1<o.cellsformat.length&&(w=parseInt(o.cellsformat.substring(1),10))):w=0,c.jqxNumberInput({decimalSeparator:this.gridlocalization.decimalseparator,decimalDigits:w,inputMode:"simple",theme:this.theme,rtl:this.rtl,width:d.width()-x,height:d.height()-x,spinButtons:!0,symbol:v,symbolPosition:y}),this.editors["numberinput_"+f]=c,o.createeditor&&o.createeditor(e,u,c)),o._requirewidthupdate&&c.jqxNumberInput({width:d.width()}),i&&(""!=u&&null!=u?(a=u,c.jqxNumberInput("setDecimal",a)):c.jqxNumberInput("setDecimal",0),null!=this.editcell.defaultvalue&&c.jqxNumberInput("setDecimal",this.editcell.defaultvalue),this.editchar&&0<this.editchar.length&&(_=parseInt(this.editchar),isNaN(_)||c.jqxNumberInput("setDecimal",_)),s&&setTimeout(function(){var e;r(c.jqxNumberInput("numberInput")),c.jqxNumberInput("_setSelectionStart",0),h.editchar?(0<o.cellsformat.length&&0<=o.cellsformat.indexOf("c")?c.jqxNumberInput("_setSelectionStart",2):c.jqxNumberInput("_setSelectionStart",1),h.editchar=null):(c.jqxNumberInput("spinButtons")?(e=c.jqxNumberInput("numberInput").val(),h._setSelection(c.jqxNumberInput("numberInput")[0],e.length,e.length)):(e=c.jqxNumberInput("numberInput").val(),h._setSelection(c.jqxNumberInput("numberInput")[0],0,e.length)),c.jqxNumberInput("selectAll"))},10)));break;case"rating":this.host.jqxRating&&(t.innerHTML="",-1!=(f=S.trim(o.datafield).split(" ").join("")).indexOf(".")&&(f=f.replace(".","")),b=this.editors["rating_"+f],(c=null==b?S("<div style='margin: 5px;white-space: nowrap; overflow: auto; border:none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='ratingEditor'></div>"):b).show(),c.css("top",S(t).parent().position().top),this.oldhscroll?c.css("left",-g+parseInt(S(t).position().left)):c.css("left",parseInt(S(t).position().left)),o.pinned&&c.css("left",g+parseInt(S(t).position().left)),null==b&&(c.prependTo(this.table),c[0].id="ratingEditor"+this.element.id+f,c.jqxRating({theme:this.theme,width:d.width(),height:d.height()}),this.editors["numberinput_"+f]=c,o.createeditor&&o.createeditor(e,u,c)),o._requirewidthupdate&&c.jqxRating({width:d.width()}),i&&(""!=u&&null!=u?(a=u,c.jqxRating("val",a)):c.jqxRating("val",0),null!=this.editcell.defaultvalue&&c.jqxRating("val",this.editcell.defaultvalue)));break;case"custom":t.innerHTML="";-1!=(f=S.trim(o.datafield).split(" ").join("")).indexOf(".")&&(f=f.replace(".",""));var q=this.editors["customeditor_"+f+"_"+e];(c=null==q?S("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='customeditor'></div>"):q).show(),c.css("top",S(t).parent().position().top),this.oldhscroll?c.css("left",-g+parseInt(S(t).position().left)):c.css("left",parseInt(S(t).position().left)),o.pinned&&c.css("left",g+parseInt(S(t).position().left)),null==q&&(c.prependTo(this.table),c[0].id="customeditor"+this.element.id+f+"_"+e,this.editors["customeditor_"+f+"_"+e]=c,j=d.width()-1,T=d.height()-1,c.width(j),c.height(T),o.createeditor&&o.createeditor(e,u,c,p,j,T,this.editchar)),o._requirewidthupdate&&c.width(d.width());break;case"template":t.innerHTML="";-1!=(f=S.trim(o.datafield).split(" ").join("")).indexOf(".")&&(f=f.replace(".",""));var j,T,C=this.editors["templateeditor_"+f];(c=null==C?S("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='templateeditor'></div>"):C).show(),c.css("top",S(t).parent().position().top),this.oldhscroll?c.css("left",-g+parseInt(S(t).position().left)):c.css("left",parseInt(S(t).position().left)),o.pinned&&c.css("left",g+parseInt(S(t).position().left)),null==C&&(c.prependTo(this.table),c[0].id="templateeditor"+this.element.id+f,this.editors["templateeditor_"+f]=c,j=d.width()-1,T=d.height()-1,c.width(j),c.height(T),o.createeditor&&o.createeditor(e,u,c,p,j,T,this.editchar)),o._requirewidthupdate&&c.width(d.width());break;default:t.innerHTML="",(c=this.editors["textboxeditor_"+o.datafield]||S("<input autocomplete='off' style='padding-left: 4px; padding-right:4px; border: none; border-color: transparent;' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox' id='textboxeditor'/>"))[0].id="textboxeditor"+this.element.id+o.datafield,c.appendTo(d),this.rtl&&c.css("direction","rtl"),!i&&""!=c[0].className||(c.addClass(this.toThemeProperty("jqx-input")),c.addClass(this.toThemeProperty("jqx-widget-content")),this.editchar&&0<this.editchar.length?c.val(this.editchar):(""!=o.cellsformat&&(u=this.getcelltext(e,l)),c.val(u=null==u?"":u)),null!=this.editcell.defaultvalue&&c.val(this.editcell.defaultvalue),c.width(d.width()+1),c.height(d.height()+1),o.createeditor&&o.createeditor(e,u,c),""==o.cellsformat||-1==o.cellsformat.indexOf("p")&&-1==o.cellsformat.indexOf("c")&&-1==o.cellsformat.indexOf("n")&&-1==o.cellsformat.indexOf("f")||this.editors["textboxeditor_"+o.datafield]||c.keydown(function(e){e=e.charCode||e.keyCode||0,e=String.fromCharCode(e),e=parseInt(e);if(isNaN(e))return!0;if(0<h._selection(c).length)return!0;var t,i="",s=c.val();if(1<o.cellsformat.length?(t=parseInt(o.cellsformat.substring(1)),isNaN(t)&&(t=0)):t=0,0<t&&-1!=s.indexOf(h.gridlocalization.decimalseparator)&&h._selection(c).start>s.indexOf(h.gridlocalization.decimalseparator))return!0;for(var r=0;r<s.length-t;r++){var n=s.substring(r,r+1);null!=n.match(/^[0-9]+$/)&&(i+=n)}return!(11<=i.length)&&void 0})),this.editors["textboxeditor_"+o.datafield]=c,i&&s&&setTimeout(function(){r(c),h.editchar?(h._setSelection(c[0],1,1),h.editchar=null):h._setSelection(c[0],0,c.val().length)},25)}c&&(c.addClass("jqx-grid-cell-edit"),c[0].style.zIndex=1+parseInt(t.style.zIndex),S.jqx.browser.msie&&S.jqx.browser.version<8&&(c[0].style.zIndex=1+this.columns.records.length+t.style.zIndex),c.css("display","block"),this.editcell.editor=c,this.editcell[l]||(this.editcell[l]={}),this.editcell[l].editor=c),i&&o.initeditor&&o.initeditor(e,u,c,p,this.editchar),h.isTouchDevice()||setTimeout(function(){h.content&&(h.content[0].scrollTop=0,h.content[0].scrollLeft=0),h.gridcontent&&(h.gridcontent[0].scrollLeft=0,h.gridcontent[0].scrollTop=0)},10)}},_hideeditors:function(){if(null!=this.editcells)for(var e in this.editcells)this.editcell=this.editcells[e],this._hidecelleditor()},_hidecelleditor:function(e){if(this.editcell)if("selectedrow"===this.editmode){for(var t=0;t<this.columns.records.length;t++){var i=this.columns.records[t];if(this.editcell[i.datafield]&&this.editcell[i.datafield].editor){this.editcell[i.datafield].editor.hide();var s=this.editcell[i.datafield].editor;switch(i.columntype){case"dropdownlist":s.jqxDropDownList({closeDelay:0}),s.jqxDropDownList("hideListBox"),s.jqxDropDownList({closeDelay:300});break;case"combobox":s.jqxComboBox({closeDelay:0}),s.jqxComboBox("hideListBox"),s.jqxComboBox({closeDelay:300});break;case"datetimeinput":s.jqxDateTimeInput("isOpened")&&(s.jqxDateTimeInput({closeDelay:0}),s.jqxDateTimeInput("hideCalendar"),s.jqxDateTimeInput({closeDelay:300}))}}}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide())}else if("checkbox"!=this.editcell.columntype){if(this.editcell.editor)switch(this.editcell.editor.hide(),this.editcell.columntype){case"dropdownlist":this.editcell.editor.jqxDropDownList({closeDelay:0}),this.editcell.editor.jqxDropDownList("hideListBox"),this.editcell.editor.jqxDropDownList({closeDelay:300});break;case"combobox":this.editcell.editor.jqxComboBox({closeDelay:0}),this.editcell.editor.jqxComboBox("hideListBox"),this.editcell.editor.jqxComboBox({closeDelay:300});break;case"datetimeinput":var r=this.editcell.editor;r.jqxDateTimeInput("isOpened")&&(r.jqxDateTimeInput({closeDelay:0}),r.jqxDateTimeInput("hideCalendar"),r.jqxDateTimeInput({closeDelay:300}))}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),this.isNestedGrid||0!=e&&this.element.focus()}},_geteditorvalue:function(e){var t=new String;if(!this.editcell)return null;var i,s=this.editcell.editor;if(s="selectedrow"==this.editmode&&this.editcell[e.datafield]?this.editcell[e.datafield].editor:s){switch(e.columntype){case"textbox":default:if(t=s.val(),""!=e.cellsformat){var r,n="string",o=this.source.datafields||(this.source._source?this.source._source.datafields:null),o=(o&&(r="",S.each(o,function(){if(this.name==e.displayfield)return this.type&&(r=this.type),!1}),r&&(n=r)),"number"===n||"float"===n||"int"===n||"integer"===n),a="date"===n||"time"===n;if(o||"string"===n&&(-1!=e.cellsformat.indexOf("p")||-1!=e.cellsformat.indexOf("c")||-1!=e.cellsformat.indexOf("n")||-1!=e.cellsformat.indexOf("f"))){if(""===t&&e.nullable)return"";t=t.indexOf&&-1<t.indexOf(this.gridlocalization.currencysymbol)?t.replace(this.gridlocalization.currencysymbol,""):t;o=new Number(t);if(!isNaN(o))return o;-1<(t=(t=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s}(t,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)&&(t=t.replace(this.gridlocalization.percentsymbol,""));for(var l="",d=0;d<t.length;d++){var h=t.substring(d,d+1);"-"===h&&(l+="-"),"."===h&&(l+="."),null!=h.match(/^[0-9]+$/)&&(l+=h)}t=(t=l).replace(/ /g,""),t=new Number(t),isNaN(t)&&(t="")}if(a||"string"===n&&(-1!=e.cellsformat.indexOf("H")||-1!=e.cellsformat.indexOf("m")||-1!=e.cellsformat.indexOf("M")||-1!=e.cellsformat.indexOf("y")||-1!=e.cellsformat.indexOf("h")||-1!=e.cellsformat.indexOf("d"))){if(""===t&&e.nullable)return"";o=t;"Invalid Date"!=(t=S.jqx.dataFormat?S.jqx.dataFormat.tryparsedate(o,this.gridlocalization):t)&&null!=t||(t="")}}e.displayfield!=e.datafield&&(t={label:t,value:t});break;case"checkbox":s.jqxCheckBox&&(t=s.jqxCheckBox("checked"));break;case"datetimeinput":if(s.jqxDateTimeInput){if(s.jqxDateTimeInput({isEditing:!1}),"none"!==s.jqxDateTimeInput("container").css("display")&&s.jqxDateTimeInput("close"),s.jqxDateTimeInput("_validateValue"),null==(t=s.jqxDateTimeInput("getDate")))return null;t=new Date(t.toString()),e.displayfield!=e.datafield&&(t={label:t,value:t})}break;case"dropdownlist":s.jqxDropDownList&&(a=s.jqxDropDownList("selectedIndex"),i=s.jqxDropDownList("listBox").getVisibleItem(a),null==(t=e.displayfield!=e.datafield?i?{label:i.label,value:i.value}:"":i?i.label:"")&&(t=""));break;case"combobox":s.jqxComboBox&&(t=s.jqxComboBox("val"),null==(t=e.displayfield!=e.datafield&&null!=(i=s.jqxComboBox("getSelectedItem"))?{label:i.label,value:i.value}:t)&&(t=""));break;case"numberinput":s.jqxNumberInput&&(this.touchdevice&&s.jqxNumberInput("_doTouchHandling"),n=s.jqxNumberInput("getDecimal"),t=new Number(n),t=parseFloat(t),isNaN(t)&&(t=0),null===n&&(t=null),o=s.jqxNumberInput("max"),a=s.jqxNumberInput("min"),t=Math.min(o,Math.max(a,t)),e.displayfield!=e.datafield&&(t={label:t,value:t}))}e.geteditorvalue&&(t="selectedrow"==this.editmode?e.geteditorvalue(this.editcell.row,this.getcellvalue(this.editcell.row,e.datafield),s):e.geteditorvalue(this.editcell.row,this.editcell.value,s))}return t},hidevalidationpopups:function(){this.popups&&(S.each(this.popups,function(){this.validation.remove(),this.validationrow.remove()}),this.popups=new Array),this.validationpopup&&(this.validationpopuparrow.hide(),this.validationpopup.hide())},showvalidationpopup:function(i,s,r){null==r&&(r=this.gridlocalization.validationstring);var e=S("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),t=S("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");e.html(r),t.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),e.addClass(this.toThemeProperty("jqx-grid-validation")),e.addClass(this.toThemeProperty("jqx-rc-all")),e.prependTo(this.table),t.prependTo(this.table);for(var n,o=this.hScrollInstance.value,o=parseInt(o),a=this.getcolumn(s).uielement,l=null,d=0;d<this.hittestinfo.length;d++)i===this.hittestinfo[d].row.visibleindex&&(l=this.hittestinfo[d]);if(!l)return this.ensurerowvisible(i),n=this,e.remove(),t.remove(),void setTimeout(function(){for(var e=null,t=0;t<n.hittestinfo.length;t++)i===n.hittestinfo[t].row.visibleindex&&(e=n.hittestinfo[t]);e&&n.showvalidationpopup(i,s,r)},25);var h=S(l.visualrow),c=(e.css("top",parseInt(h.position().top)+30+"px"),parseInt(e.css("top"))),u=(t.css("top",c-12),t.removeClass(),t.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),!1),h=(c>=this._gettableheight()-this.rowsheight&&(t.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),t.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),(c=parseInt(h.position().top)-this.rowsheight)<0&&(c=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),u=!0),e.css("top",c+"px"),t.css("top",c+e.outerHeight()-9)),-o+parseInt(S(a).position().left)),c=(0===a[0].offsetHeight&&(h=-o+parseInt(a[0].style.left)),t.css("left",o+h+30),e.width());c+h>this.host.width()-20&&(h-=c+h-this.host.width()+40),u?e.css("left",o+parseInt(S(a).position().left)-e.outerWidth()):e.css("left",o+h),e.show(),t.show(),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:e,validationrow:t}},_showvalidationpopup:function(e,t,i){var s,r=this.editcell,n=this.editcell.editor;"selectedrow"==this.editmode&&(r=this.editcell[t])&&r.editor&&(n=r.editor,r.element=n),!n||this.validationpopup&&S.jqx.isHidden(this.validationpopup)&&(this.validationpopup.remove&&(this.validationpopup.remove(),this.validationpopuparrow.remove()),this.validationpopup=null,this.validationpopuparrow=null,void 0===t&&void 0===i&&this.editors&&0===this.editors.length)||(this.validationpopup?this.validationpopup.html(i):(n=S("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),t=S("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>"),n.html(i),t.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),n.addClass(this.toThemeProperty("jqx-grid-validation")),n.addClass(this.toThemeProperty("jqx-rc-all")),n.prependTo(this.table),t.prependTo(this.table),this.validationpopup=n,this.validationpopuparrow=t),i=this.hScrollInstance.value,n=parseInt(i),"selectedrow"==this.editmode?this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.validationpopup.css("top",this.visiblerows[this.editcell.visiblerowindex].top+(this.rowsheight+5)+"px"):this.validationpopup.css("top",parseInt(S(r.editor).position().top)+(this.rowsheight+5)+"px"):this.validationpopup.css("top",parseInt(S(r.element).parent().position().top)+(this.rowsheight+5)+"px"),t=parseInt(this.validationpopup.css("top")),this.validationpopuparrow.css("top",t-11),this.validationpopuparrow.removeClass(),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),i=!1,this._gettableheight()<=t&&(this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),t=parseInt(S(r.element).parent().position().top)-this.rowsheight-5,(t="selectedrow"==this.editmode?this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.visiblerows[this.editcell.visiblerowindex].top-this.rowsheight-5:parseInt(S(r.editor).position().top)-this.rowsheight-5:t)<0&&(t=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),i=!0),this.validationpopup.css("top",t+"px"),this.validationpopuparrow.css("top",t+this.validationpopup.outerHeight()-9)),t=-n+parseInt(S(r.element).position().left),this.validationpopuparrow.css("left",n+t+30),(s=this.validationpopup.width())+t>this.host.width()-20&&(t-=s+t-this.host.width()+40),i?this.validationpopup.css("left",n+parseInt(S(r.element).position().left)-this.validationpopup.outerWidth()):this.validationpopup.css("left",n+t),"none"==this.editcell.editor.css("display")?(this.validationpopup.hide(),this.validationpopuparrow.hide()):(this.validationpopup.show(),this.validationpopuparrow.show()))}})}(jqxBaseFramework),!function(C){C.extend(C.jqx._jqxGrid.prototype,{autoresizecolumns:function(e,t){"cells"!=e&&"all"!=e&&"column"!=e&&(e="all");var i,s=this.that,r=this.getrows(),n=(this.pageable&&(r=this.dataview.rows,this.groupable&&(r=this.dataview.records)),t=null==t?0:parseInt(t),r.length),o=(null==n&&null!=r&&(i=new Array,C.each(r,function(e){i.push(this)}),n=(r=i).length),C("<span></span>")),a=(o.addClass(this.toThemeProperty("jqx-widget")),o.addClass(this.toThemeProperty("jqx-grid-cell")),C(document.body).append(o),[]),l=[],d=[],h=[],c=s.host.width(),u=0;"hidden"!=s.vScrollBar[0].style.visibility&&(c-=this.scrollbarsize+5),c<0&&(c=0);for(var p=0;p<n;p++)for(var m,g,f,v,x,y=r[p],w=0;w<this.columns.records.length;w++)(T=this.columns.records[w]).hidden||0<this.groups.length&&w<=this.groups.length-1||(null==l[T.displayfield]&&(l[T.displayfield]=0),null==d[T.displayfield]&&(d[T.displayfield]=""),g=y[T.displayfield],""!=T.cellsformat?C.jqx.dataFormat&&(C.jqx.dataFormat.isDate(g)?g=C.jqx.dataFormat.formatdate(g,T.cellsformat,this.gridlocalization):C.jqx.dataFormat.isNumber(g)&&(g=C.jqx.dataFormat.formatnumber(g,T.cellsformat,this.gridlocalization))):T.cellsrenderer&&(m=s._defaultcellsrenderer(g,T),null!=(m=T.cellsrenderer(p,T.datafield,g,m,T.getcolumnproperties(),y))&&(g=C(m).text())),null!=e&&"cells"!=e&&"all"!=e||null!=g&&(a=g.toString().length,f=g.toString().replace(/[^A-Z]/g,"").length,a>l[T.displayfield]&&(l[T.displayfield]=a,d[T.displayfield]=g,h[T.displayfield]=f),0<a&&f<=a&&((x=20*h[T.displayfield]+15*(l[T.displayfield]-h[T.displayfield]))<(v=20*f+15*(a-f))&&0<v&&0<x&&(l[T.displayfield]=a,d[T.displayfield]=g,h[T.displayfield]=f))),"column"!=e&&"all"!=e||(null!==T.text&&void 0!==T.text||(T.text=""),T.text.toString().length>l[T.displayfield]&&(d[T.displayfield]=T.text,l[T.displayfield]=T.text.length,f=T.text.toString().replace(/[^A-Z]/g,"").length,h[T.displayfield]=f),a=(g=T.text).toString().length,f=g.toString().replace(/[^A-Z]/g,"").length,0<a&&f<=a&&((x=20*h[T.displayfield]+15*(l[T.displayfield]-h[T.displayfield]))<(v=20*f+15*(a-f))&&0<v&&0<x&&(l[T.displayfield]=a,d[T.displayfield]=g,h[T.displayfield]=f))));if(this.columns.records){for(var b,_,q=0,w=0;w<this.columns.records.length;w++)(T=this.columns.records[w]).displayfield&&(null==d[T.displayfield]&&(d[T.displayfield]=T.text),0<=o[0].className.indexOf("jqx-grid-column-header")&&o.removeClass(this.toThemeProperty("jqx-grid-column-header")),d[T.displayfield]==T.text&&o.addClass(this.toThemeProperty("jqx-grid-column-header")),o[0].innerHTML=this.escape_HTML(d[T.displayfield].toString()),b=o.outerWidth()+10,0<o.children().length&&(b=o.children().outerWidth()+10),C.jqx.browser.msie&&C.jqx.browser.version<8&&(b+=10),this.filterable&&this.showfilterrow&&(b+=5),(b=b+t+20)>T.maxwidth&&(b=T.maxwidth),null!=T._width&&(T.__width=T._width),T._width=null,("auto"==T.maxwidth||b<=T.maxwidth)&&(_=T.width,b<T.minwidth&&(b=T.minwidth),T.width=b,null!=T._percentagewidth&&(T._percentagewidth=null),this._raiseEvent(14,{columntext:T.text,column:T.getcolumnproperties(),datafield:T.datafield,displayfield:T.displayfield,oldwidth:_,newwidth:b})),u+=T.width,q++);if(u<c)for(var j=Math.round((c-u-2)/q),w=0;w<this.columns.records.length;w++)(T=this.columns.records[w]).displayfield&&(T._width=null,T.width+=j);o.remove(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo);for(var T,w=0;w<this.columns.records.length;w++)null!=(T=this.columns.records[w]).__width&&(T._width=T.__width)}},autoresizecolumn:function(e,t,i){if("cells"!=t&&"all"!=t&&"column"!=t&&(t="all"),null==e)return!1;var s=this.getrows(),r=(this.pageable&&(s=this.dataview.rows,this.groupable&&(s=this.dataview.records)),this.getcolumn(e));if(null==r)return!1;i=null==i?0:parseInt(i);var n=s.length,o=C("<span></span>"),a=(o.addClass(this.toThemeProperty("jqx-widget")),o.addClass(this.toThemeProperty("jqx-grid-cell")),C(document.body).append(o),0),l="",d=0,h=this.that,c=h.host.width();if("hidden"!=h.vScrollBar[0].style.visibility&&(c-=this.scrollbarsize+5),c<0&&(c=0),null==t||"cells"==t||"all"==t)for(var u=0;u<n;u++){var p,m,g,f,v,x=s[u][r.displayfield];""!=r.cellsformat?C.jqx.dataFormat&&(C.jqx.dataFormat.isDate(x)?x=C.jqx.dataFormat.formatdate(x,r.cellsformat,this.gridlocalization):C.jqx.dataFormat.isNumber(x)&&(x=C.jqx.dataFormat.formatnumber(x,r.cellsformat,this.gridlocalization))):r.cellsrenderer&&null!=(p=r.cellsrenderer(u,r,x))&&(x=C(p).text()),null!=x&&(m=x.toString().length,g=x.toString().replace(/[^A-Z]/g,"").length,a<m&&(a=m,l=x,d=g),0<m&&g<=m&&(v=20*d+15*(a-d))<(f=20*g+15*(m-g))&&0<f&&0<v&&(a=m,l=x,d=g))}"column"!=t&&"all"!=t||(r.text.toString().length>a&&(l=r.text),m=(x=r.text.toString()).toString().length,g=x.toString().replace(/[^A-Z]/g,"").length,0<m&&g<=m&&(v=20*d+15*(a-d))<(f=20*g+15*(m-g))&&0<f&&0<v&&(a=m,l=x,d=g)),null==l&&(l=r.text),o[0].innerHTML=this.escape_HTML(l),l==r.text&&o.addClass(this.toThemeProperty("jqx-grid-column-header"));h=o.outerWidth()+10;C.jqx.browser.msie&&C.jqx.browser.version<8&&(h+=5),this.filterable&&this.showfilterrow&&(h+=5),h+=i,o.remove(),h>r.maxwidth&&(h=r.maxwidth),("auto"==r.maxwidth||h<=r.maxwidth)&&(c=r.width,h<r.minwidth&&(h=r.minwidth),r.width=h,null!=r._width&&(r.__width=r._width),(r._width=null)!=r._percentagewidth&&(r._percentagewidth=null),this._updatecolumnwidths(),this._updatecellwidths(),this._raiseEvent(14,{columntext:r.text,column:r.getcolumnproperties(),datafield:e,displayfield:r.displayfield,oldwidth:c,newwidth:h}),this._renderrows(this.virtualsizeinfo),null!=r._width&&(r._width=r.__width))},_handlecolumnsresize:function(){var a=this.that;if(this.columnsresize){var e,t,l=!1,i=(a.isTouchDevice()&&!0!==a.touchmode&&(l=!0),"mousemove.resize"+this.element.id),s="mousedown.resize"+this.element.id,r="mouseup.resize"+this.element.id,n=(l&&(i=C.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,s=C.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,r=C.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id),this.removeHandler(C(document),i),this.addHandler(C(document),i,function(e){if(null!=C.data(document.body,"contextmenu"+a.element.id)&&a.autoshowcolumnsmenubutton)return!0;if(null!=a.resizablecolumn&&!a.disabled&&a.resizing&&null!=a.resizeline){a.resizablecolumn.columnelement;var t=a.host.coord(),i=parseInt(a.resizestartline.coord().left),s=i-a._startcolumnwidth,r="auto"==(r=a.resizablecolumn.column.minwidth)?0:parseInt(r),n="auto"==(n=a.resizablecolumn.column.maxwidth)?0:parseInt(n),o=e.pageX,r=(l&&(o=a.getTouches(e)[0].pageX),s+=r,0<n?i+n:0),i=0==n||a._startcolumnwidth+o-i<n;if(i=a.rtl?!0:i)if(a.rtl){if(o>=t.left&&o<=t.left+a.host.width()&&(a.resizeline.css("left",o),l))return!1}else if(o>=t.left&&s<=o&&((0!=r&&e.pageX<r||0==r)&&a.resizeline.css("left",o),l))return!1}return!(!l&&null!=a.resizablecolumn)&&void 0}),this.removeHandler(C(document),s),this.addHandler(C(document),s,function(e){if(null!=C.data(document.body,"contextmenu"+a.element.id)&&a.autoshowcolumnsmenubutton)return!0;if(null!=a.resizablecolumn&&!a.disabled){var t=a.resizablecolumn.columnelement;if(t.coord().top+t.height()+5<e.pageY)a.resizablecolumn=null;else if(t.coord().top-5>e.pageY)a.resizablecolumn=null;else{if(a._startcolumnwidth=a.resizablecolumn.column.width,a.resizablecolumn.column._width=null,C(document.body).addClass("jqx-disableselect"),C(document.body).addClass("jqx-position-reset"),a.host.addClass("jqx-disableselect"),a.content.addClass("jqx-disableselect"),a._mouseDownResize=new Date,a.resizing=!0,a._lastmouseDownResize&&a.columnsautoresize&&a._lastmouseDownResize-a._mouseDownResize<300&&-500<a._lastmouseDownResize-a._mouseDownResize){var i,t=a.resizablecolumn.column;if(t.resizable)return a.resizablecolumn.column.width,i=a.hScrollBar[0].style.visibility,a._resizecolumn=null,a.resizeline.hide(),a.resizestartline.hide(),a.resizebackground.remove(),a.resizablecolumn=null,a.columndragstarted=!1,a.dragmousedown=null,a.__drag=!1,a.autoresizecolumn(t.displayfield,"all"),i!=a.hScrollBar[0].style.visibility&&a.hScrollInstance.setPosition(0),a.rtl&&a._arrange(),a.autosavestate&&a.savestate&&a.savestate(),e.stopPropagation(),a.suspendClick=!0,setTimeout(function(){a.suspendClick=!1},100),!1}a._lastmouseDownResize=new Date,a._resizecolumn=a.resizablecolumn.column,a.resizeline=a.resizeline||C('<div style="position: absolute;"></div>'),a.resizestartline=a.resizestartline||C('<div style="position: absolute;"></div>'),a.resizebackground=a.resizebackground||C('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),a.resizebackground.css("opacity",.01),a.resizebackground.css("cursor","col-resize"),a.resizeline.css("cursor","col-resize"),a.resizestartline.css("cursor","col-resize"),a.resizeline.addClass(a.toThemeProperty("jqx-grid-column-resizeline")),a.resizestartline.addClass(a.toThemeProperty("jqx-grid-column-resizestartline")),C(document.body).append(a.resizeline),C(document.body).append(a.resizestartline),C(document.body).append(a.resizebackground);function s(e){a.rtl?e.css("left",parseInt(r.left)):e.css("left",parseInt(r.left)+a._startcolumnwidth);var t=a._groupsheader()?a.groupsheader.height():0,i=(t=t+(a.showtoolbar?a.toolbarheight:0)+(a.showstatusbar?a.statusbarheight:0),0),s=(a.pageable&&(i=a.pagerheight),"visible"==a.hScrollBar.css("visibility")?17:0);e.css("top",parseInt(r.top)),e.css("z-index",99999),a.columngroups?e.height(a.host.height()+a.resizablecolumn.columnelement.height()-i-t-s-a.columngroupslevel*a.columnsheight):e.height(a.host.height()-i-t-s),a.enableanimations?e.show("fast"):e.show()}var r=a.resizablecolumn.columnelement.coord();a.resizebackground.css("left",a.host.coord().left),a.resizebackground.css("top",a.host.coord().top),a.resizebackground.width(a.host.width()),a.resizebackground.height(a.host.height()),a.resizebackground.css("z-index",9999);s(a.resizeline),s(a.resizestartline),a.dragmousedown=null}}}),function(){if(C(document.body).removeClass("jqx-disableselect"),C(document.body).removeClass("jqx-position-reset"),(a.showfilterrow||a.showstatusbar||a.showtoolbar||a.enablebrowserselection)&&(a.host.removeClass("jqx-disableselect"),a.content.removeClass("jqx-disableselect")),a.resizing){if(a._mouseUpResize=new Date,a._mouseUpResize-a._mouseDownResize<200)return a.resizing=!1,void(null!=a._resizecolumn&&null!=a.resizeline&&"block"==a.resizeline.css("display")&&(a._resizecolumn=null,a.resizeline.hide(),a.resizestartline.hide(),a.resizebackground.remove()));if(a.resizing=!1,!a.disabled){var e=a.host.width();if("hidden"!=a.vScrollBar[0].style.visibility&&(e-=20),e<0&&(e=0),null!=a._resizecolumn&&null!=a.resizeline&&"block"==a.resizeline.css("display")){var t=parseInt(a.resizeline.css("left")),i=parseInt(a.resizestartline.css("left")),s=a._startcolumnwidth+t-i,t=(a.rtl&&(s=a._startcolumnwidth-t+i),a._resizecolumn.width);a._closemenu(),s<a._resizecolumn.minwidth&&(s=a._resizecolumn.minwidth),a._resizecolumn.width=s,null!=a._resizecolumn._percentagewidth&&(a._resizecolumn._percentagewidth=s/e*100);for(var r=0;r<a._columns.length;r++)if(a._columns[r].datafield===a._resizecolumn.datafield){a._columns[r].width=a._resizecolumn.width,a._columns[r].width<a._resizecolumn.minwidth&&(a._columns[r].width=a._resizecolumn.minwidth);break}i=a.hScrollBar[0].style.visibility;a._updatecolumnwidths(),a._updatecellwidths(),a._raiseEvent(14,{columntext:a._resizecolumn.text,column:a._resizecolumn.getcolumnproperties(),datafield:a._resizecolumn.datafield,oldwidth:t,newwidth:s}),a._renderrows(a.virtualsizeinfo),a.autosavestate&&a.savestate&&a.savestate(),i!=a.hScrollBar[0].style.visibility&&a.hScrollInstance.setPosition(0),a.rtl&&a._arrange(),a._resizecolumn=null,a.resizeline.hide(),a.resizestartline.hide(),a.resizebackground.remove(),a.resizablecolumn=null}else a.resizablecolumn=null}}});try{""==document.referrer&&!window.frameElement||(e=(e=null)!=window.top&&window.top!=window.self&&window.parent&&document.referrer?document.referrer:e)&&-1!=e.indexOf(document.location.host)&&(t=function(e){n()},window.top.document.addEventListener?window.top.document.addEventListener("mouseup",t,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",t))}catch(e){}this.removeHandler(C(document),r),this.addHandler(C(document),r,function(e){if(null!=C.data(document.body,"contextmenu"+a.element.id)&&a.autoshowcolumnsmenubutton)return!0;n()})}}})}(jqxBaseFramework),!function(c){c.extend(c.jqx._jqxGrid.prototype,{getcolumnindex:function(e){e=this.getcolumn(e);return this.columns.records.indexOf(e)},setcolumnindex:function(e,t,i){var s,r,n,o,a,l,d,h,e=this.getcolumn(e);e.pinned||e.hidden||e.checkboxcolumn||e.grouped||(s=this.columns.records.indexOf(e),this.columns.records.splice(s,1),this.columns.records.splice(t,0,e),r=0,n=this.headerZIndex,this.columnsrow.children().detach(),o=this.toThemeProperty("jqx-grid-cell"),o+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),this.filterrow&&(c(this.filterrow.children()[0]).children().detach(),this.filterrow[0].cells=[]),(l=null)!=(a=this).filterrow&&(l=c(a.filterrow.children()[0])),d=!(this.columnsrow[0].cells=[]),c.each(this.columns.records,function(e,t){var i=this.uielement,s=(a.columnsrow.append(i),a.rtl?i.css("z-index",n++):i.css("z-index",n--),this.width);i.css("left",r),a.columnsrow[0].cells[a.columnsrow[0].cells.length]=i[0],a.filterrow&&(i=c('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+o+'"></div>'),l.append(i),i.css("left",r),i.css("z-index",n+1),i.width(this.width),i[0].left=r,i.append(this._filterwidget),a.filterrow[0].cells[a.filterrow[0].cells.length]=i[0]),this.hidden&&(d=!0),this.hidden&&this.hideable||(r+=s)}),this.groupable&&0<(h=this.groups.length)&&0<=s-h&&(s-=h,t-=h),this.rowdetails&&0<=s-1&&(s--,t--),"checkbox"==this.selectionmode&&0<=s-1&&(s--,t--),e=this._columns[s],this._columns.splice(s,1),this._columns.splice(t,0,e),this._raiseEvent(24,{columntext:e.text,datafield:e.datafield,oldindex:s,newindex:t}),0!=i&&(!d&&"checkbox"!=e.columntype||(this.prerenderrequired=!0,this.rendergridcontent(!0,!1)),this._updatecolumnwidths(),this._updatecellwidths(),this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui(),this.showeverpresentrow&&this._updateaddnewrowui(),this._rendercolumngroups(),this._renderrows(this.virtualsizeinfo)))},_pinnedColumnsLength:function(){var e=0;return c.each(this.columns.records,function(){this.pinned&&e++,this.grouped&&e++}),"checkbox"==this.selectionmode&&e++,e},_handlecolumnsreorder:function(){var e,t,i,a,l=this,d=-1,h=!1;l.columnsreorder&&(e="mousemove.reorder"+this.element.id,t="mousedown.reorder"+this.element.id,i="mouseup.reorder"+this.element.id,a=!1,this.isTouchDevice()&&!0!==this.touchmode&&(a=!0,e=c.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,t=c.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,i=c.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(c(document),e),this.addHandler(c(document),e,function(e){if(l.resizing)return!0;if(null!=l.reordercolumn){var t=parseInt(e.pageX),i=parseInt(e.pageY),s=(!a||null!=(s=l.getTouches(e)[0])&&(t=parseInt(s.pageX),i=parseInt(s.pageY)),l.host.coord()),r=parseInt(s.left),s=parseInt(s.top),n=(null!=l.dragmousedownoffset&&null!=l.dragmousedownoffset||(l.dragmousedownoffset={left:0,top:0}),parseInt(t)-parseInt(l.dragmousedownoffset.left)),o=parseInt(i)-parseInt(l.dragmousedownoffset.top);if(l.reordercolumn.css({left:n+"px",top:o+"px"}),h=!1,r<=t&&t<=r+l.host.width()&&s<=i&&i<=s+l.host.height()&&(h=!0),d=-1,h?(l.reordercolumnicon.removeClass(l.toThemeProperty("jqx-grid-dragcancel-icon")),l.reordercolumnicon.addClass(l.toThemeProperty("jqx-grid-drag-icon")),o=(n=l.columnsheader.coord()).top+l.columnsheader.height(),null!=l.columnsdropline&&(i>=n.top&&i<=o?d=l._handlereordercolumnsdroplines(t):l.columnsdropline.fadeOut("slow"))):(null!=l.columnsdropline&&l.columnsdropline.fadeOut("slow"),l.reordercolumnicon.removeClass(l.toThemeProperty("jqx-grid-drag-icon")),l.reordercolumnicon.addClass(l.toThemeProperty("jqx-grid-dragcancel-icon"))),a)return e.preventDefault(),e.stopPropagation(),!1}}),this.columnsbounds=new Array,this.removeHandler(c(document),t),this.addHandler(c(document),t,function(e){if(l.resizing)return!0;l.columnsbounds=new Array;var i=l.host.coord().left,s=l.host.coord().top,r=(l.showtoolbar&&(s+=l.toolbarheight),l.groupable&&l.showgroupsheader&&(s+=l.groupsheaderheight),l.showfilterbar&&(s+=l.toolbarheight),0);c.each(l.columns.records,function(e){if(this.hidden)return l.columnsbounds[l.columnsbounds.length]={top:s,column:this,left:i,width:0,height:2+l.rowsheight},!0;0==r&&(i=l.rtl?"hidden"!=l.hScrollBar.css("visibility")?parseInt(l.host.coord().left)-l.hScrollInstance.max+l.hScrollInstance.value:"hidden"==l.vScrollBar.css("visibility")?c(this.element).coord().left:c(this.element).coord().left-l.vScrollBar.width()-l.host.offset().left:parseInt(l.host.coord().left)-l.hScrollInstance.value),r++;var t=2+l.columnsheight;l.columnshierarchy&&(s=c(this.uielement).coord().top,t=c(this.uielement).height()),l.columnsbounds[l.columnsbounds.length]={top:s,column:this,left:i,width:this.width,height:t},i+=this.width})}),this.removeHandler(c(document),i),this.addHandler(c(document),i,function(e){if(l.resizing)return!0;l.__drag=!1,c(document.body).removeClass("jqx-disableselect");parseInt(e.pageX),parseInt(e.pageY);a&&(e=l.getTouches(e)[0],parseInt(e.pageX),parseInt(e.pageY));e=l.host.coord();parseInt(e.left),parseInt(e.top),l.groupsheader.height();if(l.showtoolbar&&l.toolbarheight,l.showfilterbar&&l.toolbarheight,l.columndragstarted=!1,(l.dragmousedown=null)!=l.reordercolumn){var e=c.data(l.reordercolumn[0],"reorderrecord"),t=l.columns.records.indexOf(l.getcolumn(e)),i=(l.reordercolumn.remove(),l.reordercolumn=null,0);if(i+=l._pinnedColumnsLength(),null!=e){if(h&&-1!=d){var s=d.index;if(i<=s){i=l.columns.records[s];if(null!=i){s=l.columns.records.indexOf(l.getcolumn(i.datafield));if(null==i.datafield&&(s=l.columns.records.indexOf(l.getcolumnbytext(i.text))),l.columngroups)if((i=t<s&&"before"==d.position?l.columns.records[s-1]:i).columngroup!=l.getcolumn(e).columngroup)return void(null!=l.columnsdropline&&(l.columnsdropline.remove(),l.columnsdropline=null));t<s?"before"==d.position?l.setcolumnindex(e,s-1):l.setcolumnindex(e,s):s<t&&l.setcolumnindex(e,s),l.autosavestate&&l.savestate&&l.savestate()}}}null!=l.columnsdropline&&(l.columnsdropline.remove(),l.columnsdropline=null)}}}))},getcolumnbytext:function(e){var t=null;return this.columns.records&&c.each(this.columns.records,function(){if(this.text==e)return t=this,!1}),t},_handlereordercolumnsdroplines:function(t){var i=this,s=-1,r=i._pinnedColumnsLength(),n=parseInt(i.host.coord().left)+i.host.width(),o="hidden"!=i.vScrollBar.css("visibility")?19:0;return i.rtl||(o=0),c.each(i.columnsbounds,function(e){if(r<=e){if(0==this.width)return!0;if(t<=this.left+this.width/2)return n<t?(i.columnsdropline.fadeOut(),!1):(i.columnsdropline.css("left",o+parseInt(this.left)+"px"),i.columnsdropline.css("top",parseInt(this.top)+"px"),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),!(s={index:e,position:"before"}));if(t>=this.left+this.width/2){if(this.left+this.width>n)return i.columnsdropline.fadeOut(),!1;i.columnsdropline.css("left",o+1+this.left+this.width),i.columnsdropline.css("top",this.top),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),s={index:e,position:"after"}}}}),s},_createreordercolumn:function(e,t,i){var s=this,r=(s.reordercolumn&&s.reordercolumn.remove(),s.columnsdropline&&s.columnsdropline.remove(),s.reordercolumn=c("<div></div>"),e.clone()),n=(s.reordercolumn.css("z-index",999999),r.css("border-width","1px"),r.css("opacity","0.4"),c(r.find("."+s.toThemeProperty("jqx-grid-column-menubutton")))),n=(0<n.length&&n.css("display","none"),c(r.find(".jqx-icon-close")));0<n.length&&n.css("display","none"),s.reordercolumnicon=c('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),s.reordercolumnicon.addClass(s.toThemeProperty("jqx-grid-drag-icon")),s.reordercolumn.css("float","left"),s.reordercolumn.css("position","absolute"),s.host.coord();r.width(e.width()+16),s.reordercolumn.append(r),s.reordercolumn.height(e.height()),s.reordercolumn.width(r.width()),s.reordercolumn.append(s.reordercolumnicon),c(document.body).append(s.reordercolumn),r.css("margin-left",0),r.css("left",0),r.css("top",0),s.reordercolumn.css("left",t.left+s.dragmousedown.left),s.reordercolumn.css("top",t.top+s.dragmousedown.top),null!=i&&i&&(s.columnsdropline=c('<div style="z-index: 9999; display: none; position: absolute;"></div>'),s.columnsdropline.width(2),s.columnsdropline.addClass(s.toThemeProperty("jqx-grid-group-drag-line")),c(document.body).append(s.columnsdropline))},_handlecolumnsdragreorder:function(r,s){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var n=this,o=!1,e=(this.isTouchDevice()&&!0!==this.touchmode&&(o=!0),"mousedown.drag"),a="mousemove.drag";o?(e=c.jqx.mobile.getTouchEventName("touchstart")+".drag",a=c.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(s,"dragstart",function(e){return!1}),this.addHandler(s,e,function(e){if(0==r.draggable)return!0;if(n.resizing)return!0;n.__drag=!0;var t=e.pageX,i=e.pageY,s=(o&&(t=(s=n.getTouches(e)[0]).pageX,i=s.pageY),n.dragmousedown={left:t,top:i},c(e.target).coord());return n.dragmousedownoffset={left:parseInt(t)-parseInt(s.left),top:parseInt(i-s.top)},!0}),this.addHandler(s,a,function(e){return!r.draggable||(null==r.datafield||(!!r.pinned||(!!n.resizing||void(n.dragmousedown&&(i=e.pageX,t=e.pageY,o&&null!=(e=n.getTouches(e)[0])&&(i=e.pageX,t=e.pageY),a={left:i,top:t},n.columndragstarted||null!=n.reordercolumn||(e=Math.abs(a.left-n.dragmousedown.left),i=Math.abs(a.top-n.dragmousedown.top),(3<e||3<i)&&(n._createreordercolumn(s,a,!0),c(document.body).addClass("jqx-disableselect"),c.data(n.reordercolumn[0],"reorderrecord",r.datafield))))))));var t,i})}})}(jqxBaseFramework),!function(z){z.extend(z.jqx._jqxGrid.prototype,{selectallrows:function(){this._trigger=!1;for(var e=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length,t=(this.selectedrowindexes=new Array,this.selectedcells=new Array,this.dataview.loadedrecords),i=0;i<e;i++){var s=t[i];if(s){var r=this.getboundindex(s);null!=r&&(this.selectedrowindexes[i]=r);for(var n=0;n<this.columns.records.length;n++)this.selectedcells[r+"_"+this.columns.records[n].datafield]=!0}else this.selectedrowindexes[i]=i}"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},unselectallrows:function(){this._trigger=!1;this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array,this.selectedcells=new Array,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},selectrow:function(e,t){"none"!==this.selectionmode&&(this._applyrowselection(e,!0,t),!1!==t&&this._updatecheckboxselection())},_updatecheckboxselection:function(){var e,t;"checkbox"==this.selectionmode&&(e=this.getrows())&&this._checkboxcolumn&&(0===e.length?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}):(e=e.length,this.groupable&&(e=this.dataview.loadedrecords.length),this.virtualmode&&(e=this.source._source.totalrecords),(t=this.selectedrowindexes.length)===e?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}):0===t?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}):this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:null})))},unselectrow:function(e,t){this._applyrowselection(e,!1,t),!1!==t&&this._updatecheckboxselection()},selectcell:function(e,t){this._applycellselection(e,t,!0)},unselectcell:function(e,t){this._applycellselection(e,t,!1)},clearselection:function(e,t){if(this._trigger=!1,this.selectedrowindex=-1,this._oldselectedcell=null,!1!==t)for(var i=0;i<this.selectedrowindexes.length;i++)this._raiseEvent(3,{rowindex:this.selectedrowindexes[i]});this.selectedrowindexes=new Array,this.selectedcells=new Array,this.selectedcell=null,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});for(i=0;i<this.columns.records.length;i++)this.columns.records[i].selected=!1,this.columns.records[i]._applyStyle();!1===e?this._trigger=!0:(this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(3,{rowindex:this.selectedrowindexes}))},getselectedrowindex:function(){if(-1==this.selectedrowindex||null==this.selectedrowindex){var e=0;if(e<this.selectedrowindexes.length)return this.selectedrowindexes[e]}return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedcell:function(){if(!this.selectedcell)return null;var e=this.selectedcell;return e.row=this.selectedcell.rowindex,e.column=this.selectedcell.datafield,e.value=this.getcellvalue(e.row,e.column),e},getselectedcells:function(){var e,t=new Array;for(e in this.selectedcells)t[t.length]=this.selectedcells[e];return t},getselection:function(){return{cells:this.getselectedcells(),rows:this.getselectedrowindexes()}},_getcellsforcopypaste:function(){var e=new Array;if(-1==this.selectionmode.indexOf("cell"))for(var t=this.selectedrowindexes,i=0;i<t.length;i++)for(var s,r=t[i],n=0;n<this.columns.records.length;n++)"_checkboxcolumn"!==this.columns.records[n].datafield&&(this.columns.records[n].datafield,s={rowindex:r,datafield:this.columns.records[n].datafield},e.push(s));return e},deleteselection:function(){var e=this.getselectedcells();if(null!=(e=-1==this.selectionmode.indexOf("cell")?this._getcellsforcopypaste():e)&&0<e.length){for(var t=0;t<e.length;t++){var i,s=e[t],r=this.getcolumn(s.datafield),n=this.getcellvalue(s.rowindex,s.datafield);r&&""!==n&&(i=null,"checkbox"!=r.columntype||r.threestatecheckbox||(i=!1),this._raiseEvent(17,{rowindex:s.rowindex,datafield:s.datafield,value:n}),t==e.length-1?this.setcellvalue(s.rowindex,s.datafield,i,!0):this.setcellvalue(s.rowindex,s.datafield,i,!1),r.displayfield!=r.datafield&&this.setcellvalue(s.rowindex,r.displayfield,i,!0),this._raiseEvent(18,{rowindex:s.rowindex,datafield:s.datafield,oldvalue:n,value:i}))}this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}},copyselection:function(){var i="",s=this,e=(this.clipboardselection={},this.logicalclipboardselection={},this._clipboardselection=[],s.getselectedcells()),t=(-1==this.selectionmode.indexOf("cell")&&(e=this._getcellsforcopypaste()),new Array);if(null!=e&&0<e.length){for(var r=999999999999999,n=-1,o=0;o<e.length;o++){var a,l,d=e[o],h=s.getcolumn(d.datafield);null==h||!h.clipboard||h.hidden&&!this.copytoclipboardhiddencolumns||(-1==t.indexOf(h.text)&&t.push(h.text),a=s.getcelltext(d.rowindex,h.displayfield),l=this.getrowdisplayindex(d.rowindex),this.clipboardselection[l]||(this.clipboardselection[l]={}),this.clipboardselection[l][h.displayfield]=a,this.logicalclipboardselection[l]||(this.logicalclipboardselection[l]={}),this.logicalclipboardselection[l][h.displayfield]=a,h.displayfield!=h.datafield&&(this.logicalclipboardselection[l][h.datafield]=s.getcellvalue(d.rowindex,h.datafield)),r=Math.min(r,l),n=Math.max(n,l))}for(var c,u=new Array,p=r;p<=n;p++)this.logicalclipboardselection[p]&&(c=z.extend({},this.logicalclipboardselection[p]),u.push(c));if(this.logicalclipboardselection=u,this.copytoclipboardwithheaders){for(var m=0;m<t.length;m++)0<m&&(i+="\t"),i+=t[m];i+="\r\n"}for(p=r;p<=n;p++){var g=0;this._clipboardselection[this._clipboardselection.length]=new Array,null!=this.clipboardselection[p]&&(z.each(this.clipboardselection[p],function(e,t){0<g&&(i+="\t");t=null==t?"":t;s._clipboardselection[s._clipboardselection.length-1][g]=t,g++,i+=t}),p<n&&(i+="\r\n"))}}return this.clipboardselectedtext=i},pasteselection:function(){var e=this.getselectedcells();if((this._oldselectedcell=null)!=(e=-1==this.selectionmode.indexOf("cell")?this._getcellsforcopypaste():e)&&0<e.length){var t=e[0].rowindex,i=this.getrowdisplayindex(t),t=e[0].datafield,s=this._getcolumnindex(t),r=(this.selectedrowindexes=new Array,this.selectedcells=new Array,e.length,0),n=new Array,o=[];this.copytoclipboardwithheaders&&this._clipboardselection.splice(0,1),this._clipboardselection||(this._clipboardselection=[]);for(var a=0;a<this._clipboardselection.length;a++){r+=this._clipboardselection[a].length,n[a]=new Array;for(var l=0;l<this._clipboardselection[a].length;l++){var d=this._clipboardselection[a][l];n[a].push(d)}}if(r<e.length){for(var h=new Array,a=0;a<e.length;a++)h[(y=e[a]).rowindex]||(h[y.rowindex]=new Array),h[y.rowindex].push(y);for(var c=0,u=0,a=0;a<h.length;a++)if(h[a]){for(l=0;l<h[a].length;l++){var p=(y=h[a][l]).rowindex,m=this.getcolumn(y.datafield);if("_checkboxcolumn"!==m.datafield&&(!m.hidden&&!1!==m.editable)){d="";if(n[c]&&null==n[c][u]&&(u=0),d=""+n[c][u],u++,m.cellsformat&&(-1!=m.cellsformat.indexOf("p")||-1!=m.cellsformat.indexOf("d")||-1!=m.cellsformat.indexOf("c")||-1!=m.cellsformat.indexOf("n")||-1!=m.cellsformat.indexOf("f"))){-1<(d=(d=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s}(d=d.indexOf&&-1<d.indexOf(this.gridlocalization.currencysymbol)?d.replace(this.gridlocalization.currencysymbol,""):d,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)&&(d=d.replace(this.gridlocalization.percentsymbol,""));for(var g="",f=0;f<d.length;f++)"-"===(w=d.substring(f,f+1))&&(g+="-"),"."===w&&(g+="."),null!=w.match(/^[0-9]+$/)&&(g+=w);d=(d=g).replace(/ /g,""),d=new Number(d),isNaN(d)&&(d="")}this._raiseEvent(17,{rowindex:p,datafield:y.datafield,value:d});var v=this.getrowdata(p);o.push({oldvalue:v[y.datafield],value:d,datafield:y.datafield,row:p}),this.pushToHistory=!0,this.setcellvalue(p,m.displayfield,d,!1),this.pushToHistory=!1,m.displayfield!=m.datafield&&this.logicalclipboardselection&&this.logicalclipboardselection[p]&&null!=(b=this.logicalclipboardselection[p][m.datafield])&&this.setcellvalue(p,m.datafield,b,!1),this._raiseEvent(18,{rowindex:p,datafield:y.datafield,oldvalue:this.getcellvalue(y.rowindex,y.datafield),value:d}),this._applycellselection(p,y.datafield,!0,!1)}}u=0,n[++c]||(c=0)}}else{if(!this._clipboardselection)return;for(v=0;v<this._clipboardselection.length;v++)for(var x=0;x<this._clipboardselection[v].length;x++){m=this.getcolumnat(s+x);if(m&&("_checkboxcolumn"!==m.datafield&&!m.hidden&&!1!==m.editable)){var p=this.getrowboundindex(i+v),y=this.getcell(p,m.datafield),d=null;if(null!=(d=this._clipboardselection[v][x])){if(m.cellsformat&&(-1!=m.cellsformat.indexOf("p")||-1!=m.cellsformat.indexOf("d")||-1!=m.cellsformat.indexOf("c")||-1!=m.cellsformat.indexOf("n")||-1!=m.cellsformat.indexOf("f"))){-1<(d=(d=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s}(d=-1<d.indexOf(this.gridlocalization.currencysymbol)?d.replace(this.gridlocalization.currencysymbol,""):d,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)&&(d=d.replace(this.gridlocalization.percentsymbol,""));for(var w,g="",f=0;f<d.length;f++)"-"===(w=d.substring(f,f+1))&&(g+="-"),"."===w&&(g+="."),null!=w.match(/^[0-9]+$/)&&(g+=w);d=(d=g).replace(/ /g,""),d=new Number(d),isNaN(d)&&(d="")}this._raiseEvent(17,{rowindex:p,datafield:y.datafield,value:d});var b,_=this.getrowdata(p);o.push({oldvalue:_[y.datafield],value:d,datafield:y.datafield,row:p}),this.pushToHistory=!0,this.setcellvalue(p,m.displayfield,d,!1),this.pushToHistory=!1,m.displayfield!=m.datafield&&this.logicalclipboardselection&&null!=(b=this.logicalclipboardselection[v][m.datafield])&&this.setcellvalue(p,m.datafield,b,!1),this._raiseEvent(18,{rowindex:p,datafield:y.datafield,oldvalue:this.getcellvalue(y.rowindex,y.datafield),value:d}),this._applycellselection(p,y.datafield,!0,!1)}}}}"checkbox"==this.selectionmode&&this._updatecheckboxselection(),this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}this._undoRedo.push({action:"paste",data:o}),this._undoRedoIndex=-1,this.clipboardend&&this.clipboardend("paste")},_applyrowselection:function(e,t,i,s,r){if(null==e)return!1;var n,o,a=this.selectedrowindex,s=("singlerow"==this.selectionmode&&(n=this,setTimeout(function(){t?n._raiseEvent(2,{rowindex:e,row:n.getrowdata(e)}):n._raiseEvent(3,{rowindex:e,row:n.getrowdata(e)}),n._raiseEvent(3,{rowindex:a})}),this.selectedrowindexes=new Array,this.selectedcells=new Array),1==s&&(this.selectedrowindexes=new Array),0<this.dataview.filters.length&&((s=this.getrowdata(e))&&void 0!==s.dataindex?e=s.dataindex:s&&void 0===s.dataindex&&null!=s.uid&&(e=this.getrowboundindexbyid(s.uid))),this.selectedrowindexes.indexOf(e));return t?(this.selectedrowindex=e,-1==s?(this.selectedrowindexes.push(e),"singlerow"!=this.selectionmode&&this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)})):"multiplerows"==this.selectionmode&&(this.selectedrowindexes.splice(s,1),this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(e)}),this.selectedrowindex=0<this.selectedrowindexes.length?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1)):(0<=s||"singlerow"==this.selectionmode||"multiplerowsextended"==this.selectionmode||"multiplerowsadvanced"==this.selectionmode)&&(o=this.selectedrowindexes[s],this.selectedrowindexes.splice(s,1),this._raiseEvent(3,{rowindex:o,row:this.getrowdata(e)}),this.selectedrowindex=-1),null!=i&&!i||this._rendervisualrows(),!0},_applycellselection:function(e,t,i,s,r){if(null==e)return!1;if(null==t)return!1;this._autofill&&(this._autofill.remove(),z(document).off("pointermove.autofill"),z(document).off("pointerup.autofill"),this._autofill=null);this.selectedrowindex;"singlecell"==this.selectionmode&&(null!=(n=this.selectedcell)&&this._raiseEvent(16,{rowindex:n.rowindex,datafield:n.datafield}),this.selectedcells=new Array),"multiplecellsextended"!=this.selectionmode&&"multiplecellsadvanced"!=this.selectionmode||null!=(n=this.selectedcell)&&this._raiseEvent(16,{rowindex:n.rowindex,datafield:n.datafield});var n=e+"_"+t,o=(0<this.dataview.filters.length&&((o=this.getrowdata(e))&&void 0!==o.dataindex?n=(e=o.dataindex)+"_"+t:o&&void 0===o.dataindex&&o.uid&&(n=(e=this.getrowboundindexbyid(o.uid))+"_"+t)),{rowindex:e,datafield:t});return i?(e=this.selectedcell,this.selectedcell=o,this.selectedcells[n]?"multiplecells"!=this.selectionmode&&"multiplecellsextended"!=this.selectionmode&&"multiplecellsadvanced"!=this.selectionmode||(delete this.selectedcells[n],0<this.selectedcells.length&&this.selectedcells.length--,!1!==r&&this._raiseEvent(16,o)):(this.selectedcells[n]=o,this.selectedcells.length++,t=!0,(t=e&&e.datafield===o.datafield&&o.rowindex===e.rowindex?!1:t)&&!1!==r&&this._raiseEvent(15,o))):(delete this.selectedcells[n],0<this.selectedcells.length&&this.selectedcells.length--,!1!==r&&this._raiseEvent(16,o)),null!=s&&!s||this._rendervisualrows(),!0},_getcellindex:function(e){var t=-1;return z.each(this.selectedcells,function(){if(t++,this[e])return!1}),t},_clearhoverstyle:function(){if(null!=this.hoveredrow&&-1!=this.hoveredrow&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var e=this.table.find(".jqx-grid-cell-hover");0<e.length&&(e.removeClass(this.toTP("jqx-grid-cell-hover")),e.removeClass(this.toTP("jqx-fill-state-hover")));for(var t=0;t<e.length;t++){var i=e[t].getAttribute("columnindex");!i||(i=this.columns.records[parseInt(i)])&&i._applyCellStyle(e[t])}this.hoveredrow=-1}},_clearselectstyle:function(){for(var e=this.table[0].rows.length,t=this.table[0].rows,i=this.toTP("jqx-grid-cell-selected"),s=this.toTP("jqx-fill-state-pressed"),r=this.toTP("jqx-grid-cell-hover"),n=this.toTP("jqx-fill-state-hover"),o=0;o<e;o++)for(var a=t[o],l=a.cells.length,d=a.cells,h=0;h<l;h++){var c=d[h],u=z(c),u=(-1!=c.className.indexOf("jqx-grid-cell-selected")&&(u.removeClass(i),u.removeClass(s)),-1!=c.className.indexOf("jqx-grid-cell-hover")&&(u.removeClass(r),u.removeClass(n)),c.getAttribute("columnindex"));!u||(u=this.columns.records[parseInt(u)])&&u._applyCellStyle(c)}},_selectpath:function(e,t){var i=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,s=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0;if(i<=s){for(var r=this._getcolumnindex(this._lastClickedCell.column||this._lastClickedCell.datafield),t=this._getcolumnindex(t),n=Math.min(r,t),o=Math.max(r,t),a=(this.selectedcells=new Array,this.dataview.loadedrecords),l=i;l<=s;l++)for(var d=n;d<=o;d++){e=a[l];this._applycellselection(this.getboundindex(e),this._getcolumnat(d).datafield,!0,!1),this.getboundindex(e),this._getcolumnat(d).datafield}this._rendervisualrows()}},_selectrowpath:function(e){if("multiplerowsextended"==this.selectionmode){var t=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,i=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0,s=this.dataview.loadedrecords;if(t<=i){this.selectedrowindexes=new Array;for(var r=t;r<=i;r++){var e=s[r],n=this.getrowboundindex(r);this._applyrowselection(n,!0,!1)}this._rendervisualrows()}}},_selectrowwithmouse:function(e,t,i,s,r,n){var o=t.row;if(null!=o){t=t.index;if(null!=this.hittestinfo[t]){for(var a=0;a<this.columns.records.length;a++){var l=this.columns.records[a];l.selected=!1,l.element&&l.element.removeAttribute("selected"),l._applyStyle()}var d=this.hittestinfo[t].visualrow;if(!this.hittestinfo[t].details){d.cells[0].className;if(!o.group){if("multiplerows"==this.selectionmode||"multiplecells"==this.selectionmode||"checkbox"==this.selectionmode||-1!=this.selectionmode.indexOf("multiple")&&(1==n||1==r)){var h=this.getboundindex(o),c=(0<this.dataview.filters.length&&((c=this.getrowdata(h))&&null==(h=c.dataindex)&&(h=this.getboundindex(o))),-1!=i.indexOf(h)),i=this.getboundindex(o)+"_"+s;if(-1!=this.selectionmode.indexOf("cell")){var h=null!=this.selectedcells[i];null!=this.selectedcells[i]&&h?this._selectcellwithstyle(e,!1,t,s,d):this._selectcellwithstyle(e,!0,t,s,d),!n||null!=this._lastClickedCell||(i=this.getselectedcells())&&0<i.length&&(this._lastClickedCell={row:i[0].rowindex,column:i[0].datafield}),n&&this._lastClickedCell&&(this._selectpath(o.visibleindex,s),this.mousecaptured=!1,"visible"==this.selectionarea.css("visibility")&&this.selectionarea.css("visibility","hidden"))}else if(c?r?this._applyrowselection(this.getboundindex(o),!1):this._selectrowwithstyle(e,d,!1,s):this._selectrowwithstyle(e,d,!0,s),!n||null!=this._lastClickedCell||(h=this.getselectedrowindexes())&&0<h.length&&(this._lastClickedCell={row:h[0],column:s}),n&&this._lastClickedCell){this.selectedrowindexes=new Array;for(var i=this._lastClickedCell?Math.min(this._lastClickedCell.row,o.visibleindex):0,u=this._lastClickedCell?Math.max(this._lastClickedCell.row,o.visibleindex):0,p=this.dataview.loadedrecords,m=i;m<=u;m++)(o=p[m])&&this._applyrowselection(this.getboundindex(o),!0,!1,!1);this._rendervisualrows()}}else this._clearselectstyle(),this._selectrowwithstyle(e,d,!0,s),-1!=this.selectionmode.indexOf("cell")&&this._selectcellwithstyle(e,!0,t,s,d);n||(this._lastClickedCell={row:o.visibleindex,column:s})}}}}},_selectcellwithstyle:function(e,t,i,s,r){r=z(r.cells[e._getcolumnindex(s)]);r.removeClass(this.toTP("jqx-grid-cell-hover")),r.removeClass(this.toTP("jqx-fill-state-hover")),t?(r.addClass(this.toTP("jqx-grid-cell-selected")),r.addClass(this.toTP("jqx-fill-state-pressed"))):(r.removeClass(this.toTP("jqx-grid-cell-selected")),r.removeClass(this.toTP("jqx-fill-state-pressed"))),this.getcolumn(s)._applyCellStyle(r)},_selectrowwithstyle:function(e,t,i,s){var r=t.cells.length,n=0;e.rowdetails&&e.showrowdetailscolumn?this.rtl?(--r,r-=this.groups.length):n=1+this.groups.length:this.groupable&&(this.rtl?r-=this.groups.length:n=this.groups.length);for(var o=n;o<r;o++){var a,l=t.cells[o];i?(z(l).removeClass(this.toTP("jqx-grid-cell-hover")),z(l).removeClass(this.toTP("jqx-fill-state-hover")),-1==e.selectionmode.indexOf("cell")&&(z(l).addClass(this.toTP("jqx-grid-cell-selected")),z(l).addClass(this.toTP("jqx-fill-state-pressed")))):(z(l).removeClass(this.toTP("jqx-grid-cell-hover")),z(l).removeClass(this.toTP("jqx-grid-cell-selected")),z(l).removeClass(this.toTP("jqx-fill-state-hover")),z(l).removeClass(this.toTP("jqx-fill-state-pressed"))),!(s=l.getAttribute("columnindex"))||(a=this.columns.records[parseInt(s)])&&a._applyCellStyle(l)}},_handlemousemoveselection:function(e,i,t){if(i.hScrollInstance.isScrolling()||i.vScrollInstance.isScrolling())return!1;if(("multiplerowsextended"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&i.mousecaptured){if(i.multipleselectionbegins)if(!1===i.multipleselectionbegins(e))return!0;var s=this.showheader?this.columnsheader.height()+2:0,r=this._groupsheader()?this.groupsheader.height():0,n=(r=r+(this.showtoolbar?this.toolbar.height():0)+(this.showfilterbar?this.toolbarheight:0),this.host.coord()),o=(this.hasTransform&&(n=z.jqx.utilities.getOffset(this.host),a=this._getBodyOffset(),n.left-=a.left,n.top-=a.top),"0px"===this.host.css("border-top-width")&&(r-=2),e.pageX),a=e.pageY-r;if(e._pageX&&(o=e._pageX,a=e._pageY-r),3<Math.abs(this.mousecaptureposition.left-o)||3<Math.abs(this.mousecaptureposition.top-a)||i.autofill){parseInt(this.columnsheader.coord().top);this.hasTransform&&z.jqx.utilities.getOffset(this.columnsheader).top,(o=o<n.left?n.left:o)>n.left+this.host.width()&&(o=n.left+this.host.width());var s=n.top+s,s=(a<s&&(a=s+5),parseInt(Math.min(i.mousecaptureposition.left,o))),l=-5+parseInt(Math.min(i.mousecaptureposition.top,a)),d=parseFloat(Math.abs(i.mousecaptureposition.left-o)),h=parseInt(Math.abs(i.mousecaptureposition.top-a));if(s-=n.left,l-=n.top,this.selectionarea.css("visibility","visible"),"multiplecellsadvanced"==i.selectionmode){for(var c=(o=s)+d,a=i.hScrollInstance,u=a.value,a=(this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(u=a.max-a.value),this.vScrollBar[0].style.visibility),i.table[0].rows[0]),p=0,m=q=i.mousecaptureposition.clickedcell,g=!1,f=0,v=a.cells.length,x=!1,y=f=i.mousecaptureposition.left<=e.pageX?q:f;y<v;y++){var w=parseFloat(z(this.columnsrow[0].cells[y]).css("left")),b=w-u;if(i.columns.records[y].pinned&&!i.columns.records[y].hidden){y==q&&(x=!0);var _=w+z(this.columnsrow[0].cells[y]).width();if(i.mousecaptureposition.left>e.pageX){if(o<=_&&b<=o){m=y,g=!0;break}}else if(c<=_&&b<=c){m=y,g=!0;break}}else{if(x){g=!0,m--;break}w=this._getcolumnat(y);if(!(null!=w&&w.hidden||i.groupable&&0<i.groups.length&&y<i.groups.length)){_=b+z(this.columnsrow[0].cells[y]).width();if(i.mousecaptureposition.left>e.pageX){if(o<=_&&b<=o){m=y,g=!0;break}}else if(c<=_&&b<=c){m=y,g=!0;break}}}}g||(i.mousecaptureposition.left>e.pageX?z.each(this.columns.records,function(e,t){return!!(i.groupable&&0<i.groups.length&&e<i.groups.length)||(this.pinned||this.hidden?void 0:(m=e,!1))}):(!i.groupable||i.groupable&&0<!i.groups.length)&&(m=a.cells.length-1));var f=q,q=Math.min(q,m),m=Math.max(f,m);l=l+5+r;i.table[0].rows.indexOf(i.mousecaptureposition.clickedrow);for(var j=0,T=-1,C=-1,S=0,y=0;y<i.table[0].rows.length;y++){var k=z(i.table[0].rows[y]),I=(0==y&&(S=k.coord().top),k.height()),D=S-n.top;if(-1==T&&l<=D+I){for(var P=!1,A=0;A<i.groups.length;A++)if(-1!=(M=k[0].cells[A].className).indexOf("jqx-grid-group-collapse")||-1!=M.indexOf("jqx-grid-group-expand")){P=!0;break}if(P)continue;T=y}if(S+=I,i.groupable&&0<i.groups.length){for(var M,P=!1,A=0;A<i.groups.length;A++)if(-1!=(M=k[0].cells[A].className).indexOf("jqx-grid-group-collapse")||-1!=M.indexOf("jqx-grid-group-expand")){P=!0;break}if(P)continue;for(var p=0,H=i.groups.length;H<k[0].cells.length;H++){var B=k[0].cells[H];""==z(B).html()&&p++}if(p==k[0].cells.length-i.groups.length)continue}if(-1!=T&&(j+=I),l+h<D+I){C=y;break}}if(-1!=T){l=z(i.table[0].rows[T]).coord().top-n.top-r-2,a=0,f=(this.filterable&&this.showfilterrow&&(a=this.filterrowheight),parseFloat(i.table[0].style.top)<0&&l<this.rowsheight+a&&(l-=parseFloat(i.table[0].style.top),j+=parseFloat(i.table[0].style.top)),h=j,z(this.columnsrow[0].cells[q])),r=z(this.columnsrow[0].cells[m]),s=parseFloat(f.css("left")),d=parseFloat(r.css("left"))-parseFloat(s)+r.width()-2;if(s-=u,x&&(s+=u),i.editcell&&i.editable&&i.endcelledit&&(q!=m||T!=C)){if(0==i.editcell.validated)return;i.endcelledit(i.editcell.row,i.editcell.column,!0,!0)}}}this.selectionarea.width(d),this.selectionarea.css("left",s),null!==t&&(this.selectionarea.css("top",l),this.selectionarea.height(h))}}},_handlemouseupselection:function(t,i,e){if(this.selectionarea){if("visible"!=this.selectionarea[0].style.visibility)return i._handlemousemoveselection(t,i),!1!==e&&(i.__firstcell?(s=i.getselectedcell())&&(i.__firstcell.index=i.columns.records.indexOf(i.getcolumn(s.datafield)),i.__firstcell.row=s.row,i.__firstcell.rowindex=s.rowindex,i._handleAutofill(t,i)):(i.__firstcell=i.getselectedcell(),i.__firstcell&&(i.__firstcell.index=i.columns.records.indexOf(i.getcolumn(i.__firstcell.datafield)),i._handleAutofill(t,i)))),i.mousecaptured=!1,i.selectionarea[0].style.visibility="hidden",!0;if(i.mousecaptured&&("multiplerowsextended"==i.selectionmode||"multiplerowsadvanced"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)){if(i.mousecaptured=!1,"visible"==this.selectionarea.css("visibility")){this.selectionarea.css("visibility","hidden");var s=this.showheader?this.columnsheader.height()+2:0,r=this._groupsheader()?this.groupsheader.height():0,n=("0px"===this.host.css("border-top-width")&&(r-=2),this.showtoolbar?this.toolbar.height():0),n=(r=r+n+(this.showfilterbar?this.toolbarheight:0),this.selectionarea.coord()),o=this.host.coord(),a=(this.hasTransform&&(o=z.jqx.utilities.getOffset(this.host),n=z.jqx.utilities.getOffset(this.selectionarea)),"0px"===this.host.css("border-top-width")&&(r-=2),n.left-o.left),l=n.top-s-o.top-r,d=l,h=a+this.selectionarea.width(),c=a,u=new Array,p=new Array;if("multiplerowsextended"==i.selectionmode){for(;l<d+this.selectionarea.height();){var m=(g=this._hittestrow(a,l)).row;-1==(j=g.index)||p[j]||(p[j]=!0,u[u.length]=g),l+=20}d=0;z.each(u,function(){var e=this.row;"none"!=i.selectionmode&&i._selectrowwithmouse&&(!t.ctrlKey&&!t.metaKey&&0==d?i._applyrowselection(i.getboundindex(e),!0,!1,!0):i._applyrowselection(i.getboundindex(e),!0,!1,!1),d++)})}else{var g,f=null,v=null,n=("multiplecellsadvanced"==i.selectionmode&&(l+=2),i.hScrollInstance),x=n.value,y=(this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(x=n.max-n.value),"hidden"!=this.vScrollBar[0].style.visibility&&(x-=this.scrollbarsize+4)),i.table[0].rows[0]),s=i.selectionarea.height(),w=(!t.ctrlKey&&!t.metaKey&&0<s&&(i.selectedcells=new Array),s),b=(parseInt(this.vScrollInstance.value),parseInt(this.hScrollInstance.value)),o=(this._gettableheight(),null!=this._hostwidth?this._hostwidth:this.host.width()),r=this.groupable&&0<this.groups.length?this.groups.length:0,n=this.columns.records.length-r,s=this.groupable&&0<this.groups.length,o=this._getvisualcolumnsindexes(b,o,r,n,s,!0,!0),_=o.start,q=o.end;for(this.__firstcell=null;l<d+w;)if(g=i._hittestrow(a,l)){var m=g.row,j=g.index;if(-1!=j&&!p[j])if(p[j]=!0,this.enableoptimization)for(T=_;T<q;T++){C=(b=parseFloat(i.columnsrow[0].cells[T].style.left)-x)+i.columns.records[T].width;(b<=c&&c<=C||b<=h&&h<=C||c<=b&&b<=h)&&(i._applycellselection(i.getboundindex(m),i._getcolumnat(T).datafield,!0,!1),f={x:a,y:l,rowindex:j,row:i.getboundindex(m),index:T,datafield:i._getcolumnat(T).datafield},i.__lastcell=f,v||(v=f,i.__firstcell=v))}else for(var T=0;T<y.cells.length;T++){var C=(b=parseFloat(z(i.columnsrow[0].cells[T]).css("left"))-x)+z(i.columnsrow[0].cells[T]).width();(b<=c&&c<=C||b<=h&&h<=C||c<=b&&b<=h)&&(i._applycellselection(i.getboundindex(m),i._getcolumnat(T).datafield,!0,!1),f={x:a,y:l,rowindex:j,row:i.getboundindex(m),index:T,datafield:i._getcolumnat(T).datafield},i.__lastcell=f,v||(v=f,i.__firstcell=v))}l+=5}else l+=5}i.autosavestate&&i.savestate&&i.savestate()}i._renderrows(i.virtualsizeinfo),!1!==e&&i._handleAutofill(t,i)}}},_handleAutofill:function(e,o){var t,i,a,s,l,d,h;this.autofill&&((h=this).showheader&&this.columnsheader.height(),s=this._groupsheader()?this.groupsheader.height():0,"0px"===this.host.css("border-top-width")&&(s-=2),new Array,new Array,s=s+(this.showtoolbar?this.toolbar.height():0)+(this.showfilterbar?this.toolbarheight:0),t=this.selectionarea.coord(),i=this.host.coord(),this.hasTransform&&(i=z.jqx.utilities.getOffset(this.host),t=z.jqx.utilities.getOffset(this.selectionarea)),"0px"===this.host.css("border-top-width")&&(s-=2),s=t.left-i.left,t.top,i.top,i=s+this.selectionarea.width(),h.__lastcell,a=h.__firstcell,o.selectionmode,(s=o.hScrollInstance).value,this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(s.max,s.value),"hidden"!=this.vScrollBar[0].style.visibility&&this.scrollbarsize),o.table[0].rows[0],s=o.selectionarea.height(),l=parseInt(e.pageX),d=parseInt(e.pageY),e=s,(h=o)._autofill&&h._autofill.remove(),a&&!h.getcolumn(a.datafield).autofill||h.autofill&&(h._autofill=document.createElement("div"),h._autofill.style.width="6px",h._autofill.style.height="6px",h._autofill.style.position="absolute",h._autofill.style.top=t.top-h.host.offset().top+e+1+"px",h._autofill.style.left=i+2+"px",h._autofill.style.cursor="crosshair",h._autofill.style.paddingLeft="0px",h._autofill.style.paddingTop="0px",h._autofill.style.paddingRight="0px",h._autofill.style.paddingBottom="0px",h._autofill.style.borderTopLeftRadius="0px",h._autofill.style.borderTopRightRadius="0px",h._autofill.style.borderBottomLeftRadius="0px",h._autofill.style.borderBottomRightRadius="0px",h._autofill.style.background="transparent",z(h._autofill).addClass(h.toThemeProperty("jqx-widget")),z(h._autofill).addClass(h.toThemeProperty("jqx-button")),z(h._autofill).addClass(h.toThemeProperty("primary")),z(h._autofill).addClass(h.toThemeProperty("jqx-fill-state-pressed")),h._autofill.onpointerdown=function(e){h._handlemouseupselection(e,h,!1);var e=e.originalEvent||e,t=(h._autofillDragStart=!0,h.mousecaptured=!0,h.showheader?h.columnsheader.height()+2:0),i=h._groupsheader()?h.groupsheader.height():0,s=(i=i+(h.showtoolbar?h.toolbarheight:0)+(h.showfilterbar?h.toolbarheight:0),h.host.coord()),r=l-s.left,n=d-t-s.top-i;if(h.pageable&&!h.autoheight&&h.gotopage&&h.pager.coord().top-s.top-i-t<n)return;s=h._hittestrow(r,n);s&&!s.details&&(s.row,s.index,e.target.className,i=h.table[0].rows[a.rowindex],t=z(o.columnsrow[0].cells[a.index]).coord().left,r=z(i).coord().top+1,h.mousecaptured=!0,h.mousecaptureposition={x:t,y:r,left:e.pageX,top:e.pageY,clickedrow:i},h.copyselection(),e.stopPropagation(),e.preventDefault())},z(document).off("pointermove.autofill"),z(document).off("pointerup.autofill"),z(document).on("pointermove.autofill",function(e){h._autofillDragStart&&(e=e.originalEvent||e,h.mousecaptureposition.position?"y"===h.mousecaptureposition.position?(e._pageX=h.mousecaptureposition.x,e._pageY=e.pageY,h.mousecaptureposition.top=h.mousecaptureposition.y,h._handlemousemoveselection(e,h)):(e._pageX=e.pageX,e._pageY=h.mousecaptureposition.y,h.mousecaptureposition.clickedcell=a.index,h.mousecaptureposition.left=h.mousecaptureposition.x,h._handlemousemoveselection(e,h,null)):5<=Math.abs(h.mousecaptureposition.left-e.pageX)?h.mousecaptureposition.position="x":Math.abs(h.mousecaptureposition.top-e.pageY)&&(h.mousecaptureposition.position="y"))}),z(document).on("pointerup.autofill",function(e){e=e.originalEvent||e;if(!h._autofillDragStart)return h._autofill&&h._autofill.remove(),void h.clearselection();h._handlemouseupselection(e,h),h._autofillDragStart=!1,h.mousecaptureposition=null,h.mousecaptured=!1,h.pasteselection(),h._handlemouseupselection(e,h)}),h.wrapper[0].appendChild(h._autofill)))},selectprevcell:function(e,t){t=this._getcolumnindex(t),this.columns.records.length,t=this._getprevvisiblecolumn(t);null!=t&&(this.clearselection(),this.selectcell(e,t.datafield))},selectnextcell:function(e,t){t=this._getcolumnindex(t),this.columns.records.length,t=this._getnextvisiblecolumn(t);null!=t&&(this.clearselection(),this.selectcell(e,t.datafield))},_getfirstvisiblecolumn:function(){for(var e=this.columns.records.length,t=0;t<e;t++){var i=this.columns.records[t];if(!i.hidden&&null!=i.datafield)return i}return null},_getlastvisiblecolumn:function(){for(var e=this.columns.records.length-1;0<=e;e--){var t=this.columns.records[e];if(!t.hidden&&null!=t.datafield)return t}return null},_handlekeydown:function(p,m){if(m.groupable&&m.groups.length,m.disabled)return!1;if(32===(f=p.charCode||p.keyCode||0)&&(p.metaKey||p.ctrlKey)&&"multiplecellsadvanced"==m.selectionmode){var e=this.getselectedcell();if(p.shiftKey){if(this.clearselection(),this.selectallrows(),this.columns.records.length<30)for(var t,i=0;i<this.columns.records.length;i++)(t=this.columns.records[i]).selectable&&t.toggleSelection(t,p,!0);return void this._renderrows(this.virtualsizeinfo)}e&&(t=this.getcolumn(e.datafield)).selectable&&(this.clearselection(),t.toggleSelection(t,p,!0),this._renderrows(this.virtualsizeinfo))}if(m.editcell&&"multiplecellsadvanced"!=m.selectionmode)return!0;if(m.editcell&&"multiplecellsadvanced"==m.selectionmode){if(!(33<=f&&f<=40))return!0;if(p.altKey)return!(m._cancelkeydown=!1);if(null!=m._cancelkeydown&&0!=m._cancelkeydown)return!(m._cancelkeydown=!1);if("selectedrow"===m.editmode)return!0;if(m.endcelledit(m.editcell.row,m.editcell.column,!1,!0),m._cancelkeydown=!1,m.editcell&&!m.editcell.validated)return m._rendervisualrows(),m.endcelledit(m.editcell.row,m.editcell.column,!1,!0),!1}if("none"==m.selectionmode)return!0;if(m.showfilterrow&&m.filterable&&this.filterrow&&z(p.target).ischildof(m.filterrow))return!0;if(m.showeverpresentrow){if(m.addnewrowtop&&z(p.target).ischildof(m.addnewrowtop))return!0;if(m.addnewrowbottom&&z(p.target).ischildof(m.addnewrowbottom))return!0}if(p.target.className&&0<=p.target.className.indexOf("jqx-grid-widget"))return!0;if(m.pageable&&z(p.target).ischildof(this.pager))return!0;if(this.showtoolbar&&z(p.target).ischildof(this.toolbar))return!0;if(this.showfilterbar&&z(p.target).ischildof(this.filterbar))return!0;if(this.showstatusbar&&z(p.target).ischildof(this.statusbar))return!0;var g=!1;if(p.altKey)return!0;if((p.ctrlKey||p.metaKey)&&this.clipboard){var s,r=String.fromCharCode(f).toLowerCase();if("z"===r&&this._undoRedo){if(-1===this._undoRedoIndex&&(this._undoRedoIndex=this._undoRedo.length-1),s=this._undoRedo[this._undoRedoIndex])if("setcellvalue"===s.action)this.setcellvalue(s.data.row,s.data.datafield,s.data.oldvalue),this.clearselection(),this.selectcell(s.data.row,s.data.datafield),this.ensurecellvisible(s.data.row,s.data.datafield);else if("paste"===s.action){if(this.clearselection(),s.data)for(i=0;i<s.data.length;i++){var n=s.data[i];this.setcellvalue(n.row,n.datafield,n.oldvalue),this._applycellselection(n.row,n.datafield,!0,!1),0===i&&this.ensurecellvisible(n.row,n.datafield)}this._rendervisualrows()}0<this._undoRedoIndex&&this._undoRedoIndex--}if("y"===r&&this._undoRedo){if(-1===this._undoRedoIndex&&(this._undoRedoIndex=this._undoRedo.length-1),s=this._undoRedo[this._undoRedoIndex])if("setcellvalue"===s.action)this.setcellvalue(s.data.row,s.data.datafield,s.data.value),this.clearselection(),this.selectcell(s.data.row,s.data.datafield),this.ensurecellvisible(s.data.row,s.data.datafield);else if("paste"===s.action){this.clearselection();for(i=0;i<s.data.length;i++){n=s.data[i];this.setcellvalue(n.row,n.datafield,n.value),this._applycellselection(n.row,n.datafield,!0,!1),0===i&&this.ensurecellvisible(n.row,n.datafield)}this._rendervisualrows()}this._undoRedoIndex<this._undoRedo.length-1&&this._undoRedoIndex++}if("d"===r&&(this.copyselection(),this._clipboardselection[0],this._clipboardselection=[this._clipboardselection[0]],this.pasteselection(),p.preventDefault(),p.stopPropagation()),this.clipboardbegin){var o=null;if("c"==r?o=this.clipboardbegin("copy",this.copyselection()):"x"==r?o=this.clipboardbegin("cut",this.copyselection()):"v"==r&&(o=this.clipboardbegin("paste")),!1===o)return!1}if("c"==r||"x"==r){var a,o=this.copyselection();if("c"==r&&this.clipboardend&&this.clipboardend("copy"),"x"==r&&this.clipboardend&&this.clipboardend("cut"),window.clipboardData?window.clipboardData.setData("Text",o):((a=z('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>')).val(o),z("body").append(a),a.select(),setTimeout(function(){document.designMode="off",a.select(),a.remove(),m.focus()},100)),"c"==r&&z.jqx.browser.msie)return!1;if("c"==r)return!0}else if("v"==r){if(document.activeElement&&"INPUT"===document.activeElement.nodeName)return!0;var l=z('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>'),d=(z("body").append(l),l.select(),this);return setTimeout(function(){d._clipboardselection=new Array;for(var e,t=l.val(),i=(0==t.length&&window.clipboardData&&(l.val(window.clipboardData.getData("Text")),t=l.val()),t.split("\n")),s=0;s<i.length;s++)0<i[s].split("\t").length&&(1==(e=i[s].split("\t")).length&&s==i.length-1&&""==e[0]||0<e.length&&d._clipboardselection.push(e));d.pasteselection(),l.remove(),d.focus()},100),!0}if("x"==r)return this.deleteselection(),this.host.focus(),!1}var o=Math.round(m._gettableheight()),h=Math.round(o/m.rowsheight),c=m.getdatainformation();switch(m.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":if(null===(e=m.getselectedcell())&&m.selectcell(0,m.columns.records[0].displayfield),null!=e){var u,f,v,x=this.getrowvisibleindex(e.rowindex),y=e.datafield,w=m._getcolumnindex(y),b=(m.columns.records.length,function(e,t,c,u){function i(e,t){var i,s,r=m.dataview.loadedrecords[e];if(m.groupable&&0<m.groups.length){for(var n=e,r=("up"==u&&n++,"down"==u&&n--,m.getdisplayrows()[n]),o=1,a=!0;a&&o<300&&(a=!1,"down"==u?r=m.getdisplayrows()[n+o]:"up"==u&&(r=m.getdisplayrows()[n-o]),r);){r&&r.group&&(a=!0),r&&r.totalsrow&&(a=!0);for(var l=r.parentItem;l;)!l||(i=l).group&&m.expandedgroups[i.uniqueid]&&m.expandedgroups[i.uniqueid].expanded||(a=!0),l=l.parentItem;if(!a)break;o++}if(300==o&&(r=null),m.pageable){var d=!1;if(r){for(var h=0;h<m.dataview.rows.length;h++)m.dataview.rows[h].boundindex==r.boundindex&&(d=!0);d||(r=null)}}}else if(m.pageable){d=!1;if(r){for(h=0;h<m.dataview.rows.length;h++)m.dataview.rows[h].boundindex==r.boundindex&&(d=!0);d||(m.pagerpageinput&&9===p.keyCode&&r.boundindex>m.dataview.rows[m.dataview.rows.length-1].boundindex&&(m.pagerpageinput.focus(),p.preventDefault()),m.ensurerowvisible(r))}}return null!=r&&null!=t&&!r.totalsrow&&(!c&&null!=c||m.clearselection(),s=m.getboundindex(r),m.selectcell(s,t),m._oldselectedcell=m.selectedcell,g=!0,m.groupable?m.ensurecellvisible(s,t):m.ensurecellvisible(e,t),!0)}var s;i(e,t)||m.groupable||(m.ensurecellvisible(e,t),i(e,t),m.virtualmode&&m.host.focus()),m.groupable&&0<m.groups.length||(p.shiftKey&&9!=p.keyCode?"multiplecellsextended"!=m.selectionmode&&"multiplecellsadvanced"!=m.selectionmode||m._lastClickedCell&&(m._selectpath(e,t),s=m.dataview.loadedrecords[e],s=m.getboundindex(s),m.selectedcell={rowindex:s,datafield:t}):p.shiftKey||(m._lastClickedCell={row:e,column:t}))}),_=p.shiftKey&&"singlecell"!=m.selectionmode&&"multiplecells"!=m.selectionmode,q=function(){var e;m.pageable?(e=m.dataview.pagenum*m.dataview.pagesize,b(e,y,!_)):b(0,y,!_)},j=function(){var e=c.rowscount-1;m.pageable&&(e=m.dataview.pagenum*m.dataview.pagesize+m.dataview.rows.length-1),b(e,y,!_)},T=9==f&&!p.shiftKey,C=9==f&&p.shiftKey;if(m.rtl&&(I=T,T=C,C=I),(T||C)&&(_=!1),(T||C)&&document.activeElement&&document.activeElement.className&&0<=document.activeElement.className.indexOf("jqx-grid-cell-add-new-row"))return!0;(I=p.ctrlKey||p.metaKey)&&37==f?null!=(v=m._getfirstvisiblecolumn(w))&&b(x,v.datafield):I&&39==f?null!=(u=m._getlastvisiblecolumn(w))&&b(x,u.datafield):39==f||T?null!=(u=m._getnextvisiblecolumn(w))?b(x,u.datafield,!_):T?(u=m._getfirstvisiblecolumn(),f=40,y=u.displayfield):g=!0:37==f||C?null!=(v=m._getprevvisiblecolumn(w))?b(x,v.datafield,!_):C?(T=m._getlastvisiblecolumn(),f=38,y=T.displayfield):g=!0:36==f?q():35==f?j():33==f?0<=x-h?(b(S=x-h,y,!_),m.pageable&&m.virtualmode&&(m.gotoprevpage(),setTimeout(function(){b(S,y,!_)},25))):q():34==f&&(c.rowscount>x+h?(b(S=x+h,y,!_),m.pageable&&m.virtualmode&&(m.gotonextpage(),setTimeout(function(){b(S,y,!_)},25))):j()),38==f&&(I?q():0<x?b(x-1,y,!_,"up"):g=!1),40==f&&(I?j():c.rowscount>x+1||m.groupable&&0<m.groups.length?b(x+1,y,!_,"down"):g=!0)}break;case"singlerow":case"multiplerows":case"multiplerowsextended":case"multiplerowsadvanced":if(null==(x=m.getselectedrowindex())||-1==x)return!0;x=this.getrowvisibleindex(x);var S,k=function(e,h,c){function t(e){var t,i,s,r=m.dataview.loadedrecords[e];if(m.groupable&&0<m.groups.length){"up"==c&&e++,"down"==c&&e--;for(var r=m.getdisplayrows()[e],n=1,o=!0;o&&n<300&&(o=!1,"down"==c?r=m.getdisplayrows()[e+n]:"up"==c&&(r=m.getdisplayrows()[e-n]),r);){r&&r.group&&(o=!0),r&&r.totalsrow&&(o=!0);for(var a=r.parentItem;a;)!a||(t=a).group&&m.expandedgroups[t.uniqueid]&&m.expandedgroups[t.uniqueid].expanded||(o=!0),a=a.parentItem;if(!o)break;n++}if(300==n&&(r=null),m.pageable){var l=!1;if(r){for(var d=0;d<m.dataview.rows.length;d++)m.dataview.rows[d].boundindex==r.boundindex&&(l=!0);l||(r=null)}}}return null!=r&&(i=m.getboundindex(r),s=m.selectedrowindex,!h&&null!=h||m.clearselection(),m.selectedrowindex=s,m.selectrow(i,!1),(m.groupable&&0<m.groups.length?m.ensurerowvisible(i):m.ensurerowvisible(e))&&!m.autoheight&&!m.groupable||m._rendervisualrows(),g=!0)}t(e)||m.groupable||(m.ensurerowvisible(e),t(e),m.virtualmode&&setTimeout(function(){t(e)},25),m.virtualmode&&m.host.focus()),m.groupable&&0<m.groups.length||(p.shiftKey&&9!=f?"multiplerowsextended"==m.selectionmode&&m._lastClickedCell&&(m._selectrowpath(e),m.selectedrowindex=m.getrowboundindex(e)):p.shiftKey||(m._lastClickedCell={row:e},m.selectedrowindex=m.getrowboundindex(e)))},_=p.shiftKey&&"singlerow"!=m.selectionmode&&"multiplerows"!=m.selectionmode,q=function(){var e;m.pageable?(e=m.dataview.pagenum*m.dataview.pagesize,k(e,!_)):k(0,!_)},j=function(){var e=c.rowscount-1;m.pageable&&(e=m.dataview.pagenum*m.dataview.pagesize+m.dataview.rows.length-1),k(e,!_)},I=p.ctrlKey||p.metaKey;36==f||I&&38==f?q():35==f||I&&40==f?j():33==f?0<=x-h?(k(S=x-h,!_,"up"),m.pageable&&m.virtualmode&&(m.gotoprevpage(),setTimeout(function(){k(S,!_)},25))):q():34==f?c.rowscount>x+h?(k(S=x+h,!_,"down"),m.pageable&&m.virtualmode&&(m.gotonextpage(),setTimeout(function(){k(S,!_)},25))):j():38==f?0<x?k(x-1,!_,"up"):g=!0:40==f&&(c.rowscount>x+1||m.groupable&&0<m.groups.length?k(x+1,!_,"down"):g=!0)}return!g||(m.autosavestate&&m.savestate&&m.savestate(),!1)},_handlemousemove:function(e,t){var i;if(!t.vScrollInstance.isScrolling()&&(!t.hScrollInstance.isScrolling()&&(!t.enablehover&&"multiplerows"!=t.selectionmode||(s=this.showheader?this.columnsheader.height()+2:0,n=(n=this._groupsheader()?this.groupsheader.height():0)+(this.showtoolbar?this.toolbarheight:0)+(this.showfilterbar?this.toolbarheight:0),r=this.host.coord(),this.hasTransform&&(r=z.jqx.utilities.getOffset(this.host),a=this._getBodyOffset(),r.left-=a.left,r.top-=a.top),i=e.pageX-r.left,a=e.pageY-s-r.top-n),"multiplerowsextended"!=t.selectionmode&&"multiplecellsextended"!=t.selectionmode&&"multiplecellsadvanced"!=t.selectionmode||1!=t.mousecaptured))){if(!t.enablehover)return!0;if(!t.disabled&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var s=this._hittestrow(i,a);if(s){var r=s.row,n=s.index;if((-1==this.hoveredrow||-1==n||this.hoveredrow!=n||-1!=this.selectionmode.indexOf("cell")||"checkbox"==this.selectionmode)&&(this._clearhoverstyle(),-1!=n&&null!=r)){var o=this.hittestinfo[n].visualrow;if(null!=o&&!(this.hittestinfo[n].details||e.clientX>z(o).width()+z(o).coord().left)){var a=0,l=o.cells.length;if(t.rowdetails&&t.showrowdetailscolumn?this.rtl?(--l,l-=this.groups.length):a=1+this.groups.length:this.groupable&&(this.rtl?l-=this.groups.length:a=this.groups.length),0!=o.cells.length){s=o.cells[a].className;if(!(r.group||0<=this.selectionmode.indexOf("row")&&-1!=s.indexOf("jqx-grid-cell-selected")))if(this.hoveredrow=n,-1!=this.selectionmode.indexOf("cell")||"checkbox"==this.selectionmode){var d=-1,t=this.hScrollInstance,h=t.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(h=t.max-t.value);for(var c=a;c<l;c++){var u=parseInt(this.columnsrow[0].cells[c].style.left)-h;if(i<=(u=this.columns.records[c].pinned&&!this.rtl?parseInt(this.columnsrow[0].cells[c].style.left):u)+this.columns.records[c].width&&u<=i){d=c;break}}if(-1!=d){var p=o.cells[d];if(this.cellhover&&this.cellhover(p,e.pageX,e.pageY),-1==p.className.indexOf("jqx-grid-cell-selected")&&this.editcell){var m=this._getcolumnat(d);if(m&&this.editcell.row==n&&this.editcell.column==m.datafield)return}z(p).addClass(this.toTP("jqx-grid-cell-hover")),z(p).addClass(this.toTP("jqx-fill-state-hover")),(m=this._getcolumnat(d))._applyCellStyle(p)}}else for(c=a;c<l;c++){p=o.cells[c];z(p).addClass(this.toTP("jqx-grid-cell-hover")),z(p).addClass(this.toTP("jqx-fill-state-hover")),this.cellhover&&this.cellhover(p,e.pageX,e.pageY),(m=this._getcolumnat(c))._applyCellStyle(p)}}}}}}}}})}(jqxBaseFramework),!function(C){C.extend(C.jqx._jqxGrid.prototype,{savestate:function(i){var s=this.getstate();return void 0===i||C.isEmptyObject(i)||(-1==i.indexOf("sort")&&(delete s.sortcolumn,delete s.sortdirection),-1==i.indexOf("pager")&&(delete s.pagenum,delete s.pagesizeoptions,delete s.pagesize),-1==i.indexOf("selection")&&(delete s.selectedcells,delete s.selectedrowindexes,delete s.selectedrowindex),-1==i.indexOf("grouping")&&delete s.groups,-1==i.indexOf("filter")&&delete s.filters,C.each(this.columns.records,function(e){var t=s.columns[this.datafield];-1==i.indexOf("hidden_columns")&&delete t.hidden,-1==i.indexOf("reorder")&&delete t.index,-1==i.indexOf("columns_width")&&delete t.width,-1==i.indexOf("columns_text")&&delete t.text,-1==i.indexOf("alignment")&&(delete t.align,delete t.cellsalign)})),window.localStorage&&(window.localStorage["jqxGrid"+this.element.id]=this._stringify(s)),this._savedstate=s},loadstate:function(e,t){var i="";if(null!=e&&null!=e.width?i=e:window.localStorage?window.localStorage["jqxGrid"+this.element.id]&&(i=C.parseJSON(window.localStorage["jqxGrid"+this.element.id])):this._savedstate&&(i=this._savedstate),null!=i&&""!==i){(this.virtualmode||this.source._source.url&&""!=this.source._source.url)&&this.source.beginUpdate();e=i;if(void 0!==e.width&&(this.width=e.width),void 0!==e.height&&(this.height=e.height),this.pageable&&(null!=e.pagesize&&(this.pagesize=e.pagesize,this.dataview.pagesize=e.pagesize),null!=e.pagenum&&(this.dataview.pagenum=e.pagenum),null!=e.pagesizeoptions&&(this.pagesizeoptions=e.pagesizeoptions),this.pagesizeoptions)){for(var s=0,r=0;r<this.pagesizeoptions.length;r++)this.pagesize>=this.pagesizeoptions[r]&&(s=r);this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList({selectedIndex:s})}this.sortable&&(this._loading&&(this._loading=!1),e.sortdirection?(e.sortdirection.ascending||e.sortdirection.descending)&&(this.dataview.sortfield=e.sortcolumn,i=e.sortdirection.ascending?"asc":"desc",this.dataview.sortfielddirection=i,this.source.sortcolumn=e.sortcolumn,this.source.sortdirection=i,this.sortby(e.sortcolumn,i)):null==this.dataview.sortfield||"asc"!=this.dataview.sortfielddirection&&"desc"!=this.dataview.sortfielddirection||this.sortby(this.dataview.sortfield,null)),this.groupable&&e.groups&&(this.dataview.groups=e.groups,this.groups=e.groups),this.loadingstate=!0,this.virtualsizeinfo&&this._loadselectionandcolumnwidths(e),this.loadingstate=!1,(this.virtualmode||this.source._source.url&&""!=this.source._source.url)&&(1==t?this.source.endUpdate(!1):(this.source.endUpdate(!1),(this.virtualmode||this.source._source.filter||this.source._source.sort)&&this.updatebounddata("state")))}},_loadselectionandcolumnwidths:function(e){this.loadingstate=!0;var t="";if(null!=e&&null!=e.width?t=e:window.localStorage?window.localStorage["jqxGrid"+this.element.id]&&(t=C.parseJSON(window.localStorage["jqxGrid"+this.element.id])):this._savedstate&&(t=this._savedstate),null!=t&&""!=t){var e=this._loading,s=(this._loading=!1,t),n=this,r=!1,o=[];o.length=0;if(C.each(this.columns.records,function(e){var t=s.columns[this.datafield];if(null!=t){if(this.text!=t.text&&(r=!0),this.hidden!=t.hidden&&(r=!0),void 0!==t.width&&(this.width=t.width,this._width&&(this._width=null),this._percentagewidth&&(this._percentagewidth=null)),void 0!==t.hidden&&(this.hidden=t.hidden),void 0!==t.pinned&&(this.pinned=t.pinned),void 0!==t.groupable&&(this.groupable=t.groupable),void 0!==t.resizable&&(this.resizable=t.resizable),this.draggable=t.draggable,void 0!==t.text&&(this.text=t.text),void 0!==t.align&&(this.align=t.align),void 0!==t.cellsalign&&(this.cellsalign=t.cellsalign),n._columns)for(var i=0;i<n._columns.length;i++)n._columns[i].datafield==this.datafield&&(void 0!==t.hidden&&(n._columns[i].hidden=t.hidden),void 0!==t.width&&(n._columns[i].width=t.width));void 0!==t.index&&(o[this.datafield]=t.index,o.length++)}}),0<o.length){if(this.setcolumnindex){this.rowdetails;this.groupable&&this.groups.length;for(var i=new Array,a=0;a<this.columns.records.length;a++)i.push(this.columns.records[a]);for(var l=0,d=new Array,a=0;a<i.length;a++){var h,c=i[a],u=o[c.datafield];this.groupable&&c.grouped?l++:0==a&&this.rowdetails?l++:(a!==u||this.groupable||this.rowdetails)&&(h=l+u,d.push({column:c,key:h}))}d.sort(function(e,t){return e.key<t.key?-1:e.key>t.key?1:0}),d.reverse(),C.each(d,function(e,t){var i=this.key;n.setcolumnindex(this.column.datafield,i,!1)})}this.prerenderrequired=!0,this.groupable&&this._refreshdataview(),this.rendergridcontent(!0),this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui(),this._renderrows(this.virtualsizeinfo)}if(this.filterable&&void 0!==s.filters){this.clearfilters&&(this._loading=!1,this.clearfilters(!1));for(var p="",m=new C.jqx.filter,a=0;a<s.filters.filterscount;a++){var g=s.filters["filtercondition"+a],f=s.filters["filterdatafield"+a],c=this.getcolumn(f);if(f!=p&&(m=new C.jqx.filter),p=f,c&&c.filterable){var v=s.filters["filtervalue"+a],x=s.filters["filteroperator"+a];if(b="datefilter"==(w=s.filters["filtertype"+a])?m.createfilter(w,v,g,null,c.cellsformat,this.gridlocalization):m.createfilter(w,v,g),m.addfilter(x,b),this.showfilterrow){var y,w,b,_,q,j=c._filterwidget,T=c._filterwidget.parent();if(null!=j)switch(c.filtertype){case"number":T.find("input").val(v),this.host.jqxDropDownList&&(y=m.getoperatorsbyfiltertype("numericfilter"),j.find(".filter").jqxDropDownList("selectIndex",y.indexOf(g)));break;case"date":this.host.jqxDateTimeInput?C(T.children()[0]).jqxDateTimeInput("setDate",v):j.val(v);break;case"range":this.host.jqxDateTimeInput?(y=s.filters["filtervalue"+(a+1)],w=s.filters["filtertype"+a],b=m.createfilter(w,y,"LESS_THAN_OR_EQUAL"),m.addfilter(x,b),q=new Date(v),_=new Date(y),isNaN(q)&&(q=C.jqx.dataFormat.tryparsedate(v)),isNaN(_)&&(_=C.jqx.dataFormat.tryparsedate(v)),C(T.children()[0]).jqxDateTimeInput("setRange",q,_),a++):j.val(v);break;case"textbox":case"default":j.val(v),n["_oldWriteText"+j[0].id]=v;break;case"list":this.host.jqxDropDownList?(q=C(T.children()[0]).jqxDropDownList("getItems"),u=-1,C.each(q,function(e){if(this.value==v)return u=e,!1}),C(T.children()[0]).jqxDropDownList("selectIndex",u)):j.val(v);break;case"checkedlist":this.host.jqxDropDownList||j.val(v);break;case"bool":case"boolean":this.host.jqxCheckBox?C(T.children()[0]).jqxCheckBox({checked:v}):j.val(v)}}this.addfilter(f,m)}}s.filters&&0<s.filters.filterscount&&(this.applyfilters(),this.showfilterrow&&C.each(this.columns.records,function(){if("checkedlist"==this.filtertype&&this.filterable&&n.host.jqxDropDownList){var e=this._filterwidget,t=(e.jqxDropDownList("getItems"),e.jqxDropDownList("listBox"));if(t.checkAll(!1),this.filter){t.uncheckAll(!1);for(var i=this.filter.getfilters(),s=0;s<t.items.length;s++){var r=t.items[s].label;C.each(i,function(){if("NOT_EQUAL"==this.condition)return!0;r==this.value&&t.checkIndex(s,!1,!1)})}t._updateCheckedItems();e=t.getCheckedItems().length;t.items.length!=e&&0<e&&t.host.jqxListBox("indeterminateIndex",0,!0,!1)}}})),this.pageable&&void 0!==s.pagenum&&(this.gotopage&&!this.virtualmode?(this.dataview.pagenum=-1,this.gotopage(s.pagenum)):this.gotopage&&this.virtualmode&&this.gotopage(s.pagenum))}if(s.selectedrowindexes&&s.selectedrowindexes&&0<s.selectedrowindexes.length&&(this.selectedrowindexes=s.selectedrowindexes,this.selectedrowindex=s.selectedrowindex,"checkbox"===this.selectionmode&&this._updatecheckboxselection()),s.selectedcells&&this._applycellselection&&C.each(s.selectedcells,function(){n._applycellselection(this.rowindex,this.datafield,!0,!1)}),this.groupable&&void 0!==s.groups)return this._refreshdataview(),this.render(),this._loading=e,void(this.loadingstate=!1);if(r){if(this.prerenderrequired=!0,this.rendergridcontent(!0),this._loading=e,this.loadingstate=!1,this.updating())return!1}else this._loading=e,this._updatecolumnwidths(),this._updatecellwidths(),this.loadingstate=!1;this.loadingstate=!1,this._loading=e,this._renderrows(this.virtualsizeinfo)}this.loadingstate=!1},getstate:function(){var e,t=this.getdatainformation(),s={},i=(s.width=this.width,s.height=this.height,s.pagenum=t.paginginformation.pagenum,s.pagesize=t.paginginformation.pagesize,s.pagesizeoptions=this.pagesizeoptions,s.sortcolumn=t.sortinformation.sortcolumn,s.sortdirection=t.sortinformation.sortdirection,null!=this.selectionmode&&this.getselectedcells&&(-1!=this.selectionmode.toString().indexOf("cell")?(t=this.getselectedcells(),e=new Array,C.each(t,function(){e.push({datafield:this.datafield,rowindex:this.rowindex})}),s.selectedcells=e):(t=this.getselectedrowindexes(),s.selectedrowindexes=t,s.selectedrowindex=this.selectedrowindex)),{}),r=0;if(this.dataview.filters)for(var n=0;n<this.dataview.filters.length;n++){var o=this.dataview.filters[n].datafield,a=this.dataview.filters[n].filter,l=a.getfilters();i[o+"operator"]=a.operator;for(var d,h=0;h<l.length;h++)l[h].datafield=o,"datefilter"==l[h].type&&l[h].value&&l[h].value.toLocaleString?(d=this.getcolumn(l[h].datafield)).cellsformat?(d=this.source.formatDate(l[h].value,d.cellsformat,this.gridlocalization),i["filtervalue"+r]=d||l[h].value.toLocaleString()):i["filtervalue"+r]=l[h].value.toLocaleString():i["filtervalue"+r]=l[h].value,i["filtercondition"+r]=l[h].condition,i["filteroperator"+r]=l[h].operator,i["filterdatafield"+r]=o,i["filtertype"+r]=l[h].type,r++}i.filterscount=r,s.filters=i,s.groups=this.groups,s.columns={};var c=0;return this.columns.records&&C.each(this.columns.records,function(e,t){if(!this.datafield)return!0;var i={};i.width=this.width,i.hidden=this.hidden,i.pinned=this.pinned,i.groupable=this.groupable,i.resizable=this.resizable,i.draggable=this.draggable,i.text=this.text,i.align=this.align,i.cellsalign=this.cellsalign,i.index=c++,s.columns[this.datafield]=i}),s},_stringify:function(t){if(window.JSON&&"function"==typeof window.JSON.stringify){var e="";try{e=window.JSON.stringify(t)}catch(e){return this._str("",{"":t})}return e}return e=this._str("",{"":t})},_quote:function(e){var i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return'"'+e.replace(/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(e){var t=i[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'},_stringifyArray:function(e){for(var t=e.length,i=[],s=0;s<t;s++)i.push(this._str(s,e)||"null");return"["+i.join(",")+"]"},_stringifyObject:function(e){var t,i,s=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i=this._str(t,e))&&s.push(this._quote(t)+":"+i);return"{"+s.join(",")+"}"},_stringifyReference:function(e){return"[object Array]"===Object.prototype.toString.call(e)?this._stringifyArray(e):this._stringifyObject(e)},_stringifyPrimitive:function(e,t){switch(t){case"string":return this._quote(e);case"number":return isFinite(e)?e:"null";case"boolean":return e}return"null"},_str:function(e,t){var t=t[e],i=typeof t;return t&&"object"==typeof t&&"function"==typeof t.toJSON&&(i=typeof(t=t.toJSON(e))),/(number|string|boolean)/.test(i)||!t&&"object"===i?this._stringifyPrimitive(t,i):this._stringifyReference(t)}})}(jqxBaseFramework),!function(C){C.extend(C.jqx._jqxGrid.prototype,{_updatefilterrowui:function(e){var t=this.columns.records.length,i=0;if(this.filterrow){for(var s=0;s<t;s++){var r=this.columns.records[s],n=parseInt(r.width),o=((n=n<r.minwidth?r.minwidth:n)>r.maxwidth&&(n=r.maxwidth),C(this.filterrow[0].cells[s])),a=(o.css("left",i),!0);if(o.width()==n&&(a=!1),e&&(a=!0),o.width(n),o[0]&&(o[0].left=i,r.element&&(o[0].style.width=r.element.style.width,o[0].style.left=r.element.style.left),r.hidden&&r.hideable?o.css("display","none"):i+=n,a))if(r.createfilterwidget&&"custom"==r.filtertype)r.createfilterwidget(r,o);else if(r.filterable){function l(e,t){t=C(t.children()[0]);t[0]&&(t[0].style.width=n-8+"px",C.jqx.browser.msie&&(t[0].style.width=n-16+"px")),t.attr("disabled",e.disabled)}switch(r.filtertype){case"number":case"input":C(o.children()[0]).width(n),o.find("input")[0].style.width=n-30+"px",C.jqx.browser.msie&&(o.find("input")[0].style.width=n-36+"px"),o.find("input").attr("disabled",this.disabled),C(o.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({theme:this.theme,disabled:this.disabled});break;case"date":case"range":this.host.jqxDateTimeInput?C(o.children()[0]).jqxDateTimeInput({theme:this.theme,disabled:this.disabled,width:n-10}):l(this,o);break;case"textbox":case"default":l(this,o);break;case"list":case"checkedlist":this.host.jqxDropDownList?C(o.children()[0]).jqxDropDownList({theme:this.theme,disabled:this.disabled,width:n-10}):l(this,o);break;case"bool":case"boolean":this.host.jqxCheckBox?C(o.children()[0]).jqxCheckBox({theme:this.theme,disabled:this.disabled}):l(this,o)}}}var d=C(this.filterrow.children()[0]);d.width(parseInt(i)+2),d.height(this.filterrowheight)}},clearfilterrow:function(e){if(this._disablefilterrow=!0,this.columns.records){for(var t=this.columns.records.length,i=0;i<t;i++){var s=this.columns.records[i],r=C(this.filterrow[0].cells[i]);if(("string"!=typeof e||s.displayfield==e)&&s.filterable){function n(e,t){t=C(t.children()[0]);t.val(""),t[0]&&(e["_oldWriteText"+t[0].id]="")}var o,a,l;switch(s.filtertype){case"number":case"input":r.find("input").val(""),this.host.jqxDropDownList&&((o=C(C(C(r).children()[0]).children()[1])).jqxDropDownList("clearSelection"),(a=0)==a&&(this._getfiltersbytype("number"==s.filtertype?"number":"string"),l=(new C.jqx.filter).getoperatorsbyfiltertype("number"==s.filtertype?"numberfilter":"stringfilter"),null!=s.filtercondition&&-1!=(a=l.indexOf(s.filtercondition.toUpperCase()))||(a="number"==s.filtertype?0:2)),o.jqxDropDownList({selectedIndex:a}),o.jqxDropDownList("ensureVisible",a));break;case"date":case"range":this.host.jqxDateTimeInput?C(r.children()[0]).jqxDateTimeInput("setDate",null):n(this,r);break;case"textbox":case"default":n(this,r);break;case"list":this.host.jqxDropDownList?C(r.children()[0]).jqxDropDownList("clearSelection"):n(this,r);break;case"checkedlist":this.host.jqxDropDownList?C(r.children()[0]).jqxDropDownList("checkAll",!1):n(this,r);break;case"bool":case"boolean":this.host.jqxCheckBox?C(r.children()[0]).jqxCheckBox({checked:null}):n(this,r)}}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){if(1!=this._disablefilterrow&&!this.disabled){for(var e=this.columns.records.length,a=this.that,t=0;t<e;t++){var i=new C.jqx.filter,s=this.columns.records[t];if(s.filterable&&null!==s.datafield){function r(e,t,i){var s=!0;if(e._filterwidget){var r=e._filterwidget.val();if(""!=r){var n="stringfilter"==t?"contains":"equal";if("numericfilter"==t&&","==a.gridlocalization.decimalseparator&&0<=r.indexOf(a.gridlocalization.decimalseparator)&&(r=r.replace(a.gridlocalization.decimalseparator,".")),"stringfilter"!=t){var o=0;if(-1!=r.indexOf(">")&&(n="greater_than",o=1),-1!=r.indexOf("<")&&(n="less_than",o=1),0!=(o=-1!=r.indexOf("=")?"greater_than"==n?(n="greater_than_or_equal",2):"less_than"==n?(n="less_than_or_equal",2):(n="equal",1):o)&&(r=r.substring(o)).length<1)return!1}null!=e.filtercondition&&(n=e.filtercondition),o="datefilter"==t?i.createfilter(t,r,n,null,e.cellsformat,a.gridlocalization):i.createfilter(t,r,n),i.addfilter(f,o)}else s=!1}return s}var n,o,l,d,h,c,u,p,m=a._getcolumntypebydatafield(s),g=a._getfiltertype(m),f=1,v=!0;s.filtertype;switch(s.filtertype){case"range":case"date":s._filterwidget.jqxDateTimeInput?"range"==s.filtertype?null!=(b=s._filterwidget.jqxDateTimeInput("getRange"))&&null!=b.from&&null!=b.to?(q="GREATER_THAN_OR_EQUAL",(n=new Date(0)).setHours(0),n.setMinutes(0),n.setFullYear(b.from.getFullYear(),b.from.getMonth(),b.from.getDate()),(p=new Date(0)).setHours(0),p.setMinutes(0),p.setFullYear(b.to.getFullYear(),b.to.getMonth(),b.to.getDate()),p.setHours(b.to.getHours()),p.setMinutes(b.to.getMinutes()),p.setSeconds(b.to.getSeconds()),o=i.createfilter(g,n,q),i.addfilter(0,o),p=i.createfilter(g,p,"LESS_THAN_OR_EQUAL"),i.addfilter(0,p)):v=!1:null!=(b=s._filterwidget.jqxDateTimeInput("getDate"))?((n=new Date(0)).setHours(0),n.setMinutes(0),n.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),s._filterwidget.jqxDateTimeInput("showTimeButton")&&(n.setHours(b.getHours()),n.setMinutes(b.getMinutes())),q="EQUAL",null!=s.filtercondition&&(q=s.filtercondition),o=i.createfilter(g,n,q),s._filterwidget.jqxDateTimeInput("showTimeButton")&&(o=i.createfilter(g,n,q,null,s.cellsformat)),i.addfilter(0,o)):v=!1:v=r(s,g,i);break;case"input":s._filterwidget?(b=s._filterwidget.find("input").val(),(l=s._filterwidget.find(".filter").jqxDropDownList("selectedIndex"))<0&&(l=0),h=i.getoperatorsbyfiltertype(g)[l],a.updatefilterconditions&&(null!=(d=a.updatefilterconditions(g,i.getoperatorsbyfiltertype(g)))&&i.setoperatorsbyfiltertype(g,d),h=i.getoperatorsbyfiltertype(g)[l]),c="NULL"==h||"NOT_NULL"==h,u="EMPTY"==h||"NOT_EMPTY"==h,null!=b&&0<b.length||c||u?(o=i.createfilter(g,b,h,null,s.cellsformat,a.gridlocalization),i.addfilter(0,o)):v=!1):v=!1;break;case"number":s._filterwidget?(b=s._filterwidget.find("input").val(),","==a.gridlocalization.decimalseparator&&0<=b.indexOf(a.gridlocalization.decimalseparator)&&(b=b.replace(a.gridlocalization.decimalseparator,".")),l=s._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),h=i.getoperatorsbyfiltertype(g)[l],a.updatefilterconditions&&(null!=(d=a.updatefilterconditions(g,i.getoperatorsbyfiltertype(g)))&&i.setoperatorsbyfiltertype(g,d),h=i.getoperatorsbyfiltertype(g)[l]),c="NULL"==h||"NOT_NULL"==h,u="EMPTY"==h||"NOT_EMPTY"==h,null!=b&&0<b.length||c||u?(o=i.createfilter(g,new Number(b),h,null,s.cellsformat,a.gridlocalization),i.addfilter(0,o)):v=!1):v=!1;break;case"textbox":case"default":v=r(s,g,i);break;case"bool":case"boolean":s._filterwidget.jqxCheckBox?null!=(b=s._filterwidget.jqxCheckBox("checked"))?(j=i.createfilter(g,b,q="equal"),i.addfilter(f,j)):v=!1:v=r(s,g,i);break;case"list":0<=(x=s._filterwidget.jqxDropDownList("listBox")).selectedIndex?(b=(p=x.getSelectedItem()).label,_=p.value,q="equal",j=i.createfilter(g,b,q=""===b?"NULL":q),i.addfilter(f,j),_!==b&&(j.data=_)):v=!1;break;case"checkedlist":if(s._filterwidget.jqxDropDownList){var x,y=(x=s._filterwidget.jqxDropDownList("listBox")).getCheckedItems();if(0==y.length){for(var w=1;w<x.items.length;w++){var b=x.items[w].label,_=x.items[w].value,q="not_equal",j=i.createfilter(g,b,q=""===b?"NOT_NULL":q);_!==b&&(j.data=_),i.addfilter(0,j)}v=!0}else if(y.length!=x.items.length)for(w=0;w<y.length;w++){b=y[w].label,_=y[w].value,q="equal",j=i.createfilter(g,b,q=""===b?"NULL":q);_!==b&&(j.data=_),i.addfilter(f,j)}else v=!1}else v=r(s,g,i)}this._loading||(v?this.addfilter(s.displayfield,i,!1):this.removefilter(s.displayfield,!1))}}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){for(var e=C('<div style="position: relative;" id="row00'+this.element.id+'"></div>'),t=0,i=this.columns.records.length,s=this.toThemeProperty("jqx-grid-cell"),r=(s=(s+=" "+this.toThemeProperty("jqx-grid-cell-pinned"))+(" "+this.toThemeProperty("jqx-grid-cell-filter-row")),i+10),n=new Array,o=this.that,a=(this.filterrow[0].cells=n,e.height(this.filterrowheight),this.filterrow.children().detach(),this.filterrow.append(e),this._filterrowcache||(this._filterrowcache=new Array),this._initcolumntypes(),!1),l=new Array,d=document.createDocumentFragment(),h=0;h<i;h++){var c,u=this.columns.records[h],p=u.width,m=((p=p<u.minwidth?u.minwidth:p)>u.maxwidth&&(p=u.maxwidth),document.createElement("div")),g=(m.style.overflow="hidden",m.style.position="absolute",m.style.height="100%",m.className=s,m=C(m),d.appendChild(m[0]),m[0].style.left=t+"px",this.rtl?(m.css("z-index",r++),m.css("border-left-width","1px")):m.css("z-index",r--),"auto"==p&&(p=0),m[0].style.width=parseFloat(p)+"px",m[0].left=t,u.hidden&&u.hideable?m.css("display","none"):t+=p,n[n.length]=m[0],!0);this.rtl?(this.groupable&&(c=this.showrowdetailscolumn&&this.rowdetails?1:0,this.groups.length+c+h>i-1&&(g=!1)),this.showrowdetailscolumn&&this.rowdetails&&h==i-1&&(g=!1)):(this.groupable&&(c=this.showrowdetailscolumn&&this.rowdetails?1:0,this.groups.length+c>h&&(g=!1)),this.showrowdetailscolumn&&this.rowdetails&&0==h&&(g=!1)),g&&("custom"==u.filtertype&&u.createfilterwidget?u.createfilterwidget(u,m,function(){o._applyfilterfromfilterrow()}):u.filterable&&(this._filterrowcache[u.datafield]?(a=!0,m.append(this._filterrowcache[u.datafield]),u._filterwidget=this._filterrowcache[u.datafield]):(this._addfilterwidget(u,m,p),l[u.datafield]=u._filterwidget)))}e[0].appendChild(d),this._filterrowcache=l,C.jqx.browser.msie&&C.jqx.browser.version<8&&e.css("z-index",r--),e.width(parseFloat(t)+2),this.filterrow.addClass(s),this.filterrow.css("border-top-width","1px"),this.filterrow.css("border-right-width","0px"),a&&this._updatefilterrowui(!0)},_getfilterdataadapter:function(n){var o,e=!!this.source._source;if(a=e?(t={localdata:C.extend(!0,{},this.source.records),datatype:this.source.datatype,async:!1},o=this,new C.jqx.dataAdapter(t,{autoBind:!1,autoSort:!0,autoSortField:n.displayfield,async:!1,uniqueDataFields:[n.displayfield],beforeLoadComplete:function(e){var t=new Array;if(n.cellsformat){for(var i=o._getcolumntypebydatafield(n),s=0;s<e.length;s++){t.push(e[s]);var r=e[s][n.displayfield];e[s][n.displayfield+"JQValue"]=r,"date"===i?e[s][n.displayfield]=null!=r?a.formatDate(r,n.cellsformat,o.gridlocalization):"":"number"!==i&&"float"!==i&&"int"!==i||(e[s][n.displayfield]=null!=r?a.formatNumber(r,n.cellsformat,o.gridlocalization):"")}return t}return e}})):new C.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[n.displayfield],autoSort:!0,autoSortField:n.displayfield,async:!1}),n.filteritems&&0<n.filteritems.length)var t={localdata:n.filteritems,datatype:this.source.datatype,async:!1},a=new C.jqx.dataAdapter(t,{autoBind:!1,async:!1});else if(n.filteritems){if(n.filteritems._source)return n.filteritems._options.autoBind=!1,n.filteritems._options.async=!1,n.filteritems;if(C.isFunction(n.filteritems))return n.filteritems()}return a},refreshfilterrow:function(){if(this.showfilterrow){this.refreshingfilter=!0,this._updatefilterrowui(),this._updatelistfilters(!0,!0);for(var e=this.that,t=this.columns.records.length,i=0;i<t;i++){var s=this.columns.records[i];if(s.filterable&&s.filter){var r=s.filter.getfilters();if(0<r.length){var n,o,a=r[0].value,l=s._filterwidget,d=s._filterwidget.parent();if(null!=l)switch(s.filtertype){case"number":d.find("input").val(a),this.host.jqxDropDownList&&(n=s.filter.getoperatorsbyfiltertype("numericfilter"),l.find(".filter").jqxDropDownList("selectIndex",n.indexOf(r[0].condition)));break;case"input":d.find("input").val(a),this.host.jqxDropDownList&&(n=s.filter.getoperatorsbyfiltertype("stringfilter"),l.find(".filter").jqxDropDownList("selectIndex",n.indexOf(r[0].condition)));break;case"date":case"range":this.host.jqxDateTimeInput?null!=(a=s.filter.getfilterat(0).filtervalue)&&(o=s.filter.getfilterat(1)?s.filter.getfilterat(1).filtervalue:a,"range"==s.filtertype?C(d.children()[0]).jqxDateTimeInput("setRange",new Date(a),new Date(o)):C(d.children()[0]).jqxDateTimeInput("setDate",new Date(a))):l.val(a);break;case"textbox":case"default":l.val(a),e["_oldWriteText"+l[0].id]=a;break;case"bool":case"boolean":this.host.jqxCheckBox?C(d.children()[0]).jqxCheckBox({checked:a}):l.val(a)}}}}this.refreshingfilter=!1}},_destroyedfilters:function(){this.that;for(var e=this.columns.records.length,t=0;t<e;t++){var i,s=this.columns.records[t];s.filterable&&(i=s._filterwidget,"list"==s.filtertype||"checkedlist"==s.filtertype?(this.removeHandler(i,"select"),this.removeHandler(i,"close"),i.jqxDropDownList("destroy")):"date"==s.filtertype||"range"==s.filtertype?(this.removeHandler(i,"valueChanged"),i.jqxDateTimeInput("destroy")):"bool"==s.filtertype?(this.removeHandler(i,"change"),i.jqxCheckBox("destroy")):"number"==s.filtertype||"input"===s.filtertype?(s=i.find(".jqx-input"),this.removeHandler(s,"keydown"),C(i.children()[1]).jqxDropDownList("destroy")):this.removeHandler(i,"keydown"),i.remove())}},_updatelistfilters:function(e,t){for(var i=this.that,s=this.columns.records.length,r=0;r<s;r++){var n=this.columns.records[r];if(n.filterable&&("list"==n.filtertype||"checkedlist"==n.filtertype)){var o=n._filterwidget;if(e){var a=this._getfilterdataadapter(n);o.jqxDropDownList({source:a});var l=!0;if(l=(c=o.jqxDropDownList("getItems")).length!=a.records.length+1?!1:l)for(var d=1;d<c.length;d++)if(c[d].label!=a.records[d-1][n.displayfield]){l=!1;break}if(l&&!t)continue}else if(null==n.filter){o.jqxDropDownList("renderSelection");continue}var h="checkedlist"==n.filtertype,c=o.jqxDropDownList("getItems"),u=o.jqxDropDownList("listBox");if(o.jqxDropDownList("dataBind"),h){o.jqxDropDownList({selectionRenderer:function(){return i.gridlocalization.filterselectstring}}),null==u.getItem(this.gridlocalization.filterselectallstring)&&u.insertAt({label:this.gridlocalization.filterselectallstring},0);h=C('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+this.gridlocalization.filterselectstring+"</span>");if(h.addClass(this.toThemeProperty("jqx-item")),o.jqxDropDownList("setContent",h),u.checkAll(!1),n.filter){for(var p=n.filter.getfilters(),d=0;d<u.items.length;d++){var m=u.items[d].label,g=void 0;C.each(p,function(){var e;"NOT_EQUAL"==this.condition?e=m!=this.value:"EQUAL"==this.condition&&(e=m==this.value),g=null==g&&void 0!==e?e:"EQUAL"==this.condition?g||e:g&&e}),g?u.checkIndex(d,!1,!1):u.uncheckIndex(d,!1,!1)}u._updateCheckedItems();h=u.getCheckedItems().length;u.items.length!=h&&0<h&&u.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(null==u.getItem(this.gridlocalization.filterchoosestring)&&u.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),o.jqxDropDownList({selectedIndex:0}),n.filter){for(var p=n.filter.getfilters(),f=-1,d=0;d<u.items.length;d++){m=u.items[d].label;C.each(p,function(){return"NOT_EQUAL"==this.condition||(m==this.value?(f=d,!1):void 0)})}-1!=f&&u.selectIndex(f)}c.length<8?o.jqxDropDownList("autoDropDownHeight",!0):o.jqxDropDownList("autoDropDownHeight",!1)}}},_renderfilter:function(){for(var o=this,e=C("<div style='display: flex; height: calc(100% - 10px); margin-top: 5px; align-items: center; position: relative; margin-left: 4px;'><input style='width: 200px; height: 100%; direction: ltr;' role='textbox' type='text'/><div style='cursor: pointer; height: 100%;'><div></div></div></div>"),a=e.find("input"),l=e.find("div:first"),t=(e.addClass(this.toThemeProperty("jqx-rc-all")),e.addClass(this.toThemeProperty("jqx-widget")),e.addClass(this.toThemeProperty("jqx-input-group")),a.addClass(this.toThemeProperty("jqx-input")),a.addClass(this.toThemeProperty("jqx-rc-l")),a.addClass(this.toThemeProperty("jqx-input-group-addon")),a.addClass(this.toThemeProperty("jqx-widget")),a.addClass(this.toThemeProperty("jqx-widget-content")),l.addClass(this.toThemeProperty("jqx-fill-state-normal")),l.addClass(this.toThemeProperty("jqx-rc-r")),l.addClass(this.toThemeProperty("jqx-input-group-addon")),l.find("div").addClass(this.toThemeProperty("jqx-icon-search")),this.rtl&&(a.addClass(this.toThemeProperty("jqx-rtl")),a.css("direction","rtl")),this.filterbar.children().remove(),this.filterbutton=l,new Array),i=0;i<o.columns.records.length;i++)o.columns.records[i].datafield&&o.columns.records[i].filterable&&t.push({label:o.columns.records[i].text,value:o.columns.records[i].displayfield});function s(e){o.filterinput.val("");for(var t=0;t<o.dataview.filters.length;t++){var i=o.dataview.filters[t];i.datafield===e&&o.filterinput.val(i.filter.getfilterat(0).filtervalue)}}function r(){if(!l.hasClass("jqx-fill-state-disabled")){function e(e,t,i){var s=new C.jqx.filter,r=o._getcolumnbydatafield(e),r=o._getfiltertype(r);return e="datefilter"==r?s.createfilter(r,t,"EQUAL",null,e.cellsFormat,o.gridlocalization):"numericfilter"==r||"booleanfilter"==r?("numericfilter"==r&&0<=(t=0<=(t=","==o.gridlocalization.decimalseparator&&0<=t.indexOf(o.gridlocalization.decimalseparator)?t.replace(o.gridlocalization.decimalseparator,"."):t).indexOf(o.gridlocalization.currencysymbol)?t.replace(o.gridlocalization.currencysymbol,""):t).indexOf(o.gridlocalization.percentagesymbol)&&(t=t.replace(o.gridlocalization.percentagesymbol,"")),s.createfilter(r,t,"EQUAL",null,e.cellsFormat,o.gridlocalization)):s.createfilter(r,t,"CONTAINS"),s.operator=i,s.addfilter(0,e),s}var t,i=a.val();h.jqxDropDownList&&(t=h.jqxDropDownList("getSelectedItem"));if("simple"!==o.filterbarmode)t&&(r=e(t=t.value,i,"and"),0<i.length?(o.removefilter(t),o.addfilter(t,r)):o.removefilter(t),o.applyfilters());else{if(o.clearfilters(!1,!1),0<i.length)for(var s=0;s<o.columns.records.length;s++){var r,n=o.columns.records[s];!0===n.filterable&&("date"!==n.datatype&&"number"!==n.datatype||-1!==i.indexOf("1")||-1!==i.indexOf("2")||-1!==i.indexOf("3")||-1!==i.indexOf("4")||-1!==i.indexOf("5")||-1!==i.indexOf("6")||-1!==i.indexOf("7")||-1!==i.indexOf("8")||-1!==i.indexOf("9"))&&(r=e(n,i,"or"),o.addfilter(n.datafield,r))}o.applyfilters()}0==o.dataview.filters.length?o.filtericon.fadeOut(200):o.filtericon.fadeIn(200)}}var n=t.length<10,d=C("<div style='position: relative;  display: none; margin-right: 4px; margin-left: 4px; float: left;'>"+this.gridlocalization.filtersearchstring+"</div>"),h=(this.filterbar.append(d),C("<div class='filtercolumns' style='position: relative; margin-top:5px; margin-left:4px; margin-right: 4px; float: left;'></div>")),n=(this.filterbar.append(h),h.jqxDropDownList&&h.jqxDropDownList({theme:this.theme,enableBrowserBoundsDetection:!0,autoDropDownHeight:n,rtl:o.rtl,dropDownWidth:220,selectedIndex:0,width:"auto",height:25,source:t,displayMember:"label",valueMember:"value"}),this.filtercolumnsList=h,a[0].parentElement.insertBefore(d[0],a[0]),o.filterHeight,o._updateSimpleFilter=s,this.addHandler(h,"select",function(e){e=e.args.item.value;s(e)}),"simple"===this.filterbarmode?(this.filtercolumnsList.hide(),d.show()):(this.filtercolumnsList.show(),d.hide()),a.keydown(function(e){if(13===e.keyCode)return r(),e.preventDefault&&e.preventDefault(),!1}),l.click(function(){r()}),this.filterinput=a,this.filterbar.append(e),C("<div style='float: left; width: 16px; height: 16px; position: relative; margin: 3px;'></div>"));n.attr("title",o.gridlocalization.filterclearstring),n.addClass(o.toThemeProperty("jqx-icon-close")),e.append(n),n.hide(),(o.filtericon=n).click(function(){o.clearfilters(),a.val(""),o.filtericon.fadeOut(200)}),0<o.dataview.filters.length&&s(o.dataview.filters[0].datafield)},_renderfiltercolumn:function(){var s=this.that;this.filterable&&this.columns.records&&C.each(this.columns.records,function(e,t){var i=!1;s.autoshowfiltericon?this.filter?(C(this.filtericon).show(),i=!0):C(this.filtericon).hide():this.filterable&&(C(this.filtericon).show(),i=!0),this.element.removeAttribute("filter"),i&&this.element.setAttribute("filter",!0),"right"!=this.align||this.renderer||this.element&&(this.element.firstChild.firstChild.style.marginRight=i?"18px":"2px")})},_initcolumntypes:function(){if(this.columns&&this.columns.records){var e=this.source._source.datafields;if(e)for(var t=0;t<this.columns.records.length;t++){var i,s=this.columns.records[t];s.datatype||(i="",C.each(e,function(){if(this.name==s.displayfield)return this.type&&(i=this.type),!1}),s.datatype=""!=i?i:"")}}},_getcolumntypebydatafield:function(e){var t=this.that,i="string",t=t.source.datafields||(t.source._source?t.source._source.datafields:null);if(t){var s="";if(C.each(t,function(){if(this.name==e.displayfield)return this.type&&(s=this.type),!1}),s)return s}if(null!=e){if(null==this.dataview.cachedrecords)return i;var r=null;if(this.virtualmode)C.each(this.dataview.cachedrecords,function(){return r=this[e.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return i;if(null!=(r=this.dataview.cachedrecords[0][e.displayfield])&&""==r.toString())return"string"}if(null!=r)if("boolean"==typeof r)i="boolean";else if(C.jqx.dataFormat.isNumber(r))i="number";else{t=new Date(r);if("NaN"==t.toString()||"Invalid Date"==t.toString())if(C.jqx.dataFormat){if(null!=(t=C.jqx.dataFormat.tryparsedate(r))){if(t&&t.getFullYear())if(1970==t.getFullYear()&&0==t.getMonth()&&1==t.getDate())return t=new Number(r),isNaN(t)?"string":"number";return"date"}i="string"}else i="string";else i="date"}}return i},_getfiltersbytype:function(e){var t=this.that,i="";switch(e){case"number":case"float":case"int":i=t.gridlocalization.filternumericcomparisonoperators;break;case"date":i=t.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":i=t.gridlocalization.filterbooleancomparisonoperators;break;default:i=t.gridlocalization.filterstringcomparisonoperators}return i},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":case"range":t="datefilter";break;case"string":case"input":t="stringfilter"}return t},_buildfilter:function(e,t,i){var s=C(t).find(".filter1"),r=C(t).find(".filter2"),n=C(t).find(".filter3"),o=C(t).find(".filtertext1"+e.element.id),a=C(t).find(".filtertext2"+e.element.id),o=o.val(),a=a.val(),l=e._getcolumntypebydatafield(i),d=(e._getfiltersbytype(l),new C.jqx.filter),h=e._getfiltertype(l);if("default"===e.filtermode&&"list"!==i.filtertype&&"checkedlist"!==i.filtertype){var l=s.jqxDropDownList("selectedIndex"),r=r.jqxDropDownList("selectedIndex"),c=n.jqxDropDownList("selectedIndex"),u=(!e.updatefilterconditions||null!=(u=e.updatefilterconditions(h,d.getoperatorsbyfiltertype(h)))&&d.setoperatorsbyfiltertype(h,u),!1),l=d.getoperatorsbyfiltertype(h)[l],n=d.getoperatorsbyfiltertype(h)[c],c="NULL"==l||"NOT_NULL"==l,p="EMPTY"==l||"NOT_EMPTY"==l,p=(null==l&&(l=d.getoperatorsbyfiltertype(h)[0]),null==n&&(n=d.getoperatorsbyfiltertype(h)[0]),(0<o.length||c||p)&&(c=d.createfilter(h,o,l,null,i.cellsformat,e.gridlocalization),d.addfilter(r,c),u=!0),"NULL"==n||"NOT_NULL"==n);(0<a.length||p||("EMPTY"==n||"NOT_EMPTY"==n))&&(o=d.createfilter(h,a,n,null,i.cellsformat,e.gridlocalization),d.addfilter(r,o),u=!0),u?(m=i.displayfield,this.addfilter(m,d,!0)):this._clearfilter(e,t,i)}else if("excel"===e.filtermode||"list"===i.filtertype||"checkedlist"===i.filtertype){var m,l=!1,g=s.data().jqxListBox.instance,c="excel"===this.filtermode||"checkedlist"===i.filtertype,f=g.getCheckedItems();if(0==(f=c?f:g.getSelectedItems()).length){for(var v=1;v<g.items.length;v++){var x="not_equal";(y=void 0===(y=g.items[v].value)?"":y)&&y.indexOf&&(0<=y.indexOf("|")||0<=y.indexOf(" AND ")||0<=y.indexOf(" OR ")||0<=y.indexOf(" and ")||0<=y.indexOf(" or "))&&(y=(y=(y=(y=(y=y.replace("|","")).replace("AND","")).replace("OR","")).replace("and","")).replace("or",""),x="equal"),w="datefilter"==h?d.createfilter(h,y,x,null,i.cellsformat,e.gridlocalization):d.createfilter(h,y,x,null),d.addfilter(0,w)}l=!0}else if(f.length!=g.items.length)for(var y,w,l=!0,v=0;v<f.length;v++)e.gridlocalization.filterselectallstring!==f[v].value&&(void 0===(y=f[v].value)&&(y=""),x="equal",w="datefilter"==h?d.createfilter(h,y,x,null,i.cellsformat,e.gridlocalization):d.createfilter(h,y,x,null),d.addfilter(1,w));else l=!1;l?(m=i.displayfield,this.addfilter(m,d,!0)):(m=i.displayfield,this.removefilter(m,!0))}},_clearfilter:function(e,t,i){i=i.displayfield;this.removefilter(i,!0)},addfilter:function(e,t,i){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var s=this.getcolumn(e),r=this._getcolumn(e);null!=s&&(s.filter=t,r&&(r.filter=t),this.dataview.addfilter(e,t),1==i&&null!=i&&this.applyfilters("add"))},removefilter:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var i=this.getcolumn(e),s=this._getcolumn(e);null!=i&&null!=i.filter&&(this.dataview.removefilter(e,i.filter),i.filter=null,s.filter=null,this.showfilterrow&&this.clearfilterrow(e),1!=t&&!1===t||this.applyfilters("remove"))},applyfilters:function(e){if(0<=this.dataview.filters.length&&(this.virtualmode||!this.source.localdata)&&null!=this.source&&this.source.filter&&(t=-1,this.pageable?(t=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo)),this.pageable&&this.virtualmode&&(this.dataview.pagenum=0),this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length),this.pageable&&!this.virtualmode&&(this.dataview.pagenum=t)),this._cellscache=new Array,this.dataview.clearsortdata&&this.dataview.clearsortdata(),this.virtualmode)return this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0)),this.rendergridcontent(!1,!1),this.showfilterrow&&"string"!=typeof e&&C.isEmptyObject(e)&&this.refreshfilterrow(),this._postrender("filter"),void this._raiseEvent(13,{filters:this.dataview.filters});var t;this.selectedrowindexes,this.that;this.dataview.refresh(),this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection&&(t=this.sortdirection.ascending?"asc":"desc",this._loading?this.sortby(this.sortcolumn,t,null,!1,!1):this.sortby(this.sortcolumn,t,null,!1)),this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails())),this._updaterowsproperties(),!this.groupable||this.groupable&&0==this.groups.length?(this._rowdetailscache=new Array,this.virtualsizeinfo=null,this._pagescache=new Array,this.columns&&this.columns.records&&0<this.columns.records.length&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates()):(this.collapseallgroups(),this._rowdetailscache=new Array,this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)),this._postrender("filter"),this.showfilterrow&&"string"!=typeof e&&C.isEmptyObject(e)&&this.refreshfilterrow(),this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var e=new Array,t=0;t<this.dataview.filters.length;t++){var i=this.getcolumn(this.dataview.filters[t].datafield);e[t]={filter:this.dataview.filters[t].filter,datafield:i.datafield,displayfield:i.displayfield,filtercolumn:i.datafield,filtercolumntext:i.text}}return e},clearfilters:function(e){var t,i=this.that;this.showfilterrow&&this.clearfilterrow(),this.columns.records&&(t=1==e||!1!==e,C.each(this.columns.records,function(){i.removefilter(this.displayfield,!t)})),!1===e||1!=e&&!1===e||this.applyfilters("clear")},_updatefilterpanel:function(i,t,s){var e=(i=null==i?this:i)._getcolumntypebydatafield(s),r=i._getfiltersbytype(e);if(!i.host.jqxDropDownList)throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.");i.filterpanel.detach(),i.excelfilterpanel.detach(),s.filterpanel&&s.filterpanel.detach(),C(t).children().detach();var n=C(i.menuitemsarray[6]),n=(C(n).css("height","190px"),s.createfilterpanel&&!s.filterpanel&&(n=C("<div class='filter' style='margin-left: 7px;'></div>"),C(t).append(n),s.createfilterpanel(s.displayfield,n),s.filterpanel=n),"list"===s.filtertype||"checkedlist"===s.filtertype?C(t).append(i.excelfilterpanel):"custom"!==s.filtertype?C(t).append(i.filterpanel):s.filterpanel&&C(t).append(s.filterpanel),C(t)),o=n.find("#filterclearbutton"+i.element.id),a=n.find("#filterbutton"+i.element.id),l=n.find(".filter1"),d=n.find(".filter2"),h=n.find(".filter3"),c=n.find(".filtertext1"+i.element.id),u=n.find(".filtertext2"+i.element.id);if(this._hasdatefilter&&"list"!==s.filtertype&&"checkedlist"!==s.filtertype&&"custom"!==s.filtertype&&(f=c.parent(),v=u.parent(),f.children().remove(),v.children().remove(),p="date"==s.filtertype?(i._showwhere.text(i.gridlocalization.filtershowrowdatestring),p=C("<div class='filtertext1"+i.element.id+"' style=''></div>"),f.append(p),(j=function(e){var t={calendar:i.gridlocalization,todayString:i.gridlocalization.todaystring,clearString:i.gridlocalization.clearstring};e.jqxDateTimeInput({disabled:i.disabled,firstDayOfWeek:i.gridlocalization.firstDay,localization:t,rtl:i.rtl,width:i._filterpanelwidth-10,height:this.filterMenuItemsHeight,value:null,formatString:s.cellsformat,theme:i.theme})})(p),C("<div class='filtertext2"+i.element.id+"' style=''></div>")):(i._showwhere.text(i.gridlocalization.filtershowrowstring),p=C("<input autocomplete='off' class='filtertext1"+i.element.id+"' style='box-sizing: content-box; height: 16px; padding: 3px;' type='text'></input>"),f.append(p),(j=function(e){e.addClass(i.toThemeProperty("jqx-input")),e.addClass(i.toThemeProperty("jqx-filter-input jqx-widget-content")),e.addClass(i.toThemeProperty("jqx-rc-all")),e.width(i._filterpanelwidth-18),e[0].style.height=this.filterMenuItemsHeight+"px"})(p),C("<input autocomplete='off' class='filtertext2"+i.element.id+"' style='box-sizing: content-box; height: 16px; padding: 3px;' type='text'></input>")),v.append(p),j(p),c=n.find(".filtertext1"+i.element.id),u=n.find(".filtertext2"+i.element.id)),"date"!=s.filtertype?(c.val(""),u.val("")):(c.val(null),u.val(null)),this.removeHandler(a,"click"),this.addHandler(a,"click",function(){i._buildfilter(i,t,s),i._closemenu()}),this.removeHandler(o,"click"),this.addHandler(o,"click",function(){i._clearfilter(i,t,s),i._closemenu()}),this.removeHandler(a,"keydown"),this.addHandler(a,"keydown",function(e){13===e.keyCode&&(i._buildfilter(i,t,s),i._closemenu())}),this.removeHandler(o,"keydown"),this.addHandler(o,"keydown",function(e){13===e.keyCode&&(i._clearfilter(i,t,s),i._closemenu())}),this.removeHandler(c,"keydown"),this.addHandler(c,"keydown",function(e){13===e.keyCode&&a.trigger("click"),27===e.keyCode&&i._closemenu()}),this.removeHandler(u,"keydown"),this.addHandler(u,"keydown",function(e){13===e.keyCode&&a.trigger("click"),27===e.keyCode&&i._closemenu()}),"default"===this.filtermode&&"list"!==s.filtertype&&"checkedlist"!==s.filtertype&&"custom"!==s.filtertype){l.jqxDropDownList("source")!=r&&(l.jqxDropDownList({enableBrowserBoundsDetection:!1,source:r}),h.jqxDropDownList({enableBrowserBoundsDetection:!1,source:r})),"boolean"==e||"bool"==e?(l.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),h.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0})):(j=!1,r&&r.length&&r.length<5&&(j=!0),l.jqxDropDownList({autoDropDownHeight:j,selectedIndex:2}),h.jqxDropDownList({autoDropDownHeight:j,selectedIndex:2})),d.jqxDropDownList({selectedIndex:0});var p=s.filter,m=new C.jqx.filter,g="";switch(e){case"number":case"int":case"float":case"decimal":x=m.getoperatorsbyfiltertype(g="numericfilter");break;case"boolean":case"bool":x=m.getoperatorsbyfiltertype(g="booleanfilter");break;case"date":case"time":x=m.getoperatorsbyfiltertype(g="datefilter");break;case"string":x=m.getoperatorsbyfiltertype(g="stringfilter")}if(null!=p){var f=p.getfilterat(0),v=p.getfilterat(1);p.getoperatorat(0);if(i.updatefilterconditions){var x=[],y=i.updatefilterconditions(g,x);if(null!=y){for(var w=0;w<y.length;w++)y[w]=y[w].toUpperCase();p.setoperatorsbyfiltertype(g,y),x=y}}n="default";null!=f&&(r=x.indexOf(f.comparisonoperator),j=f.filtervalue,c.val(j),l.jqxDropDownList({selectedIndex:r,animationType:n})),null!=v&&(f=x.indexOf(v.comparisonoperator),j=v.filtervalue,u.val(j),h.jqxDropDownList({selectedIndex:f,animationType:n})),null==p.getoperatorat(0)?d.jqxDropDownList({selectedIndex:0,animationType:n}):"and"==p.getoperatorat(0)||0==p.getoperatorat(0)?d.jqxDropDownList({selectedIndex:0}):d.jqxDropDownList({selectedIndex:1})}i.updatefilterpanel&&i.updatefilterpanel(l,h,d,c,u,a,o,p,g,x),this._hasdatefilter&&(!this._hasdatefilter||"date"==s.filtertype)||this.touchdevice||(c.focus(),setTimeout(function(){c.focus()},10))}else if("excel"===this.filtermode||"list"===s.filtertype||"checkedlist"===s.filtertype){r=i._getfilterdataadapter(s),g=i._getfiltertype(e),v="excel"===this.filtermode||"checkedlist"===s.filtertype;if("date"==s.filtertype&&i._showwhere.text(i.gridlocalization.filtershowrowstring),l.jqxListBox("focus"),this.removeHandler(l,"keyup"),this.addHandler(l,"keyup",function(e){13===e.keyCode&&a.trigger("click"),27===e.keyCode&&i._closemenu()}),s.cellsformat?l.jqxListBox({checkboxes:v,displayMember:s.displayfield,valueMember:s.displayfield+"JQValue",source:r}):l.jqxListBox({checkboxes:v,displayMember:s.displayfield,valueMember:s.displayfield,source:r}),v){l.jqxListBox("insertAt",{label:i.gridlocalization.filterselectallstring},0);(T=l.data().jqxListBox.instance).checkAll(!1);if(s.filter){T.uncheckAll(!1);for(var b=s.filter.getfilters(),_=0;_<T.items.length;_++){var q=T.items[_].value;C.each(b,function(){return"NOT_EQUAL"==this.condition?q!=this.value||null!=q&&null!=this.value&&q.toString()!=this.value.toString()?(T.uncheckIndex(_,!1,!1),!1):void 0:"EQUAL"==this.condition&&(q==this.value||null!=q&&null!=this.value&&q.toString()==this.value.toString())?(T.checkIndex(_,!1,!1),!1):void 0})}T._updateCheckedItems();var j=T.getCheckedItems().length;T.items.length!=j&&0<j&&T.host.jqxListBox("indeterminateIndex",0,!0,!1),j===T.items.length-1&&T.host.jqxListBox("checkIndex",0,!0,!1)}}else if(s.filter){(T=l.data().jqxListBox.instance).clearSelection();for(var T,b=s.filter.getfilters(),_=0;_<T.items.length;_++){q=T.items[_].value;C.each(b,function(){if("NOT_EQUAL"==this.condition){if(q!=this.value)return T.unselectIndex(_,!1,!1),!1}else if("EQUAL"==this.condition&&q==this.value)return T.selectIndex(_,!0,!1),!1})}T._renderItems()}}},_initfilterpanel:function(s,e,t,i,r){null==s&&(s=this),e[0].innerHTML="";var n=C("<div class='filter' style='position: absolute; bottom: 3px; margin-left: 3px;'></div>"),e=(e.append(n),C("<div class='filter showwhere' style='height: 18px; margin-top: 3px; margin-bottom: 3px;'></div>")),o=(e.text(s.gridlocalization.filtershowrowstring),this._showwhere=e,r?"ex":""),a=C("<div class='filter filter1' id='filter1"+s.element.id+o+"'></div>"),l=C("<div class='filter filter2' id='filter2"+s.element.id+o+"' style='margin-top: 3px; margin-bottom: 3px;'></div>"),o=C("<div class='filter filter3' id='filter3"+s.element.id+o+"'></div>"),t=s._getcolumntypebydatafield(t);if(!a.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");t=s._getfiltersbytype(t);if(this._hasdatefilter=!1,this._filterpanelwidth=i,this.columns&&this.columns.records){for(var d=0;d<this.columns.records.length;d++)if("date"==this.columns.records[d].filtertype){this._hasdatefilter=!0;break}}else if(this.columns&&!this.columns.records)for(d=0;d<this.columns.length;d++)if("date"==this.columns[d].filtertype){this._hasdatefilter=!0;break}function h(e){var t;return e?(-1!=e.text().indexOf("case sensitive")&&(t=(t=e.text()).replace("case sensitive","match case"),e.text(t)),e.css("font-family",s.host.css("font-family")),e.css("font-size",s.host.css("font-size")),e.css("top","2px"),e.css("position","relative"),e):""}var c,u=C("<div style='margin-top:3px;' class='filter'><input autocomplete='off' class='filtertext1"+s.element.id+"' style='padding: 3px; height: 17px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>"),p=u.find("input"),m=(p.addClass(this.toThemeProperty("jqx-input")),p.addClass(this.toThemeProperty("jqx-filter-input jqx-widget-content")),p.addClass(this.toThemeProperty("jqx-rc-all")),p.width(i-18),C("<div style='margin-top:3px;' class='filter'><input autocomplete='off' class='filtertext2"+s.element.id+"' style='padding: 3px; height: 17px; margin-top: 3px;' type='text'></input></div>")),g=m.find("input"),p=(g.addClass(this.toThemeProperty("jqx-input")),g.addClass(this.toThemeProperty("jqx-filter-input jqx-widget-content")),g.addClass(this.toThemeProperty("jqx-rc-all")),g.width(i-18),s.rtl&&(p.css("direction","rtl"),g.css("direction","rtl")),C("<div class='filter' style='height: 35px; text-align:center; margin-top: 15px; margin-left:-2px;'></div>")),g=C('<span tabIndex=0 id="filterbutton'+s.element.id+'" class="primary filterbutton" style="padding: 6px 15px;">'+s.gridlocalization.filterstring+"</span>"),f=(p.append(g),C('<span tabIndex=0 id="filterclearbutton'+s.element.id+'" class="secondary filterclearbutton" style="position: relative; left: 1px; padding: 6px 15px; margin-left: 7px;">'+s.gridlocalization.filterclearstring+"</span>"));p.append(f),g.jqxButton({height:this.filterMenuItemsHeight,theme:s.theme}),f.jqxButton({height:this.filterMenuItemsHeight,theme:s.theme});"default"!==this.filtermode||r?"excel"!==this.filtermode&&!r||(n.append(e),n.append(a),a.attr("tabindex",0),a.jqxListBox({rtl:s.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:i-10,height:130,theme:s.theme}),c=!0,s.addHandler(a,"checkChange",function(e){var t,i;c=c&&(e.args.label!=s.gridlocalization.filterselectallstring?(c=!1,a.jqxListBox("checkIndex",0,!0,!1),t=a.jqxListBox("getCheckedItems"),i=a.jqxListBox("getItems"),1==t.length?a.jqxListBox("uncheckIndex",0,!0,!1):i.length!=t.length&&a.jqxListBox("indeterminateIndex",0,!0,!1)):(c=!1,e.args.checked?a.jqxListBox("checkAll",!1):a.jqxListBox("uncheckAll",!1)),!0)})):(n.append(e),n.append(a),a.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:s.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:i-10,height:24,dropDownHeight:150,dropDownWidth:i-10,selectionRenderer:h,source:t,theme:s.theme}),n.append(u),(r=new Array)[0]=s.gridlocalization.filterandconditionstring,r[1]=s.gridlocalization.filterorconditionstring,l.jqxDropDownList({_checkForHiddenParent:!1,rtl:s.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:24,source:r,selectionRenderer:h,theme:s.theme}),n.append(l),o.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:s.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:i-10,height:24,dropDownHeight:150,dropDownWidth:i-10,selectionRenderer:h,source:t,theme:s.theme}),n.append(o),n.append(m)),n.append(p),s.updatefilterpanel&&s.updatefilterpanel(a,o,l,u,m,g,f,null,null,t)}})}(jqxBaseFramework),!function(S){S.extend(S.jqx._jqxGrid.prototype,{_updatefilterrowui:function(e){var t=this.columns.records.length,i=0;if(this.filterrow){for(var s=0;s<t;s++){var r=this.columns.records[s],n=parseInt(r.width),o=((n=n<r.minwidth?r.minwidth:n)>r.maxwidth&&(n=r.maxwidth),S(this.filterrow[0].cells[s])),a=(o.css("left",i),!0);if(o.width()==n&&(a=!1),e&&(a=!0),o.width(n),o[0].left=i,r.element&&(o[0].style.width=r.element.style.width,o[0].style.left=r.element.style.left),r.hidden&&r.hideable?o.css("display","none"):i+=n,a)if(r.createfilterwidget&&"custom"==r.filtertype)r.createfilterwidget(r,o);else if(r.filterable){function l(e,t){t=S(t.children()[0]);t[0]&&(t[0].style.width=n-8+"px",S.jqx.browser.msie&&(t[0].style.width=n-16+"px")),t.attr("disabled",e.disabled)}switch(r.filtertype){case"number":case"input":S(o.children()[0]).width(n),o.find("input")[0].style.width=n-30+"px",S.jqx.browser.msie&&(o.find("input")[0].style.width=n-36+"px"),o.find("input").attr("disabled",this.disabled),S(o.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({theme:this.theme,disabled:this.disabled});break;case"date":case"range":this.host.jqxDateTimeInput?S(o.children()[0]).jqxDateTimeInput({theme:this.theme,disabled:this.disabled,width:n-10}):l(this,o);break;case"textbox":case"default":l(this,o);break;case"list":case"checkedlist":this.host.jqxDropDownList?S(o.children()[0]).jqxDropDownList({theme:this.theme,disabled:this.disabled,width:n-10}):l(this,o);break;case"bool":case"boolean":this.host.jqxCheckBox?S(o.children()[0]).jqxCheckBox({theme:this.theme,disabled:this.disabled}):l(this,o)}}}var d=S(this.filterrow.children()[0]);d.width(parseInt(i)+2),d.height(this.filterrowheight)}},clearfilterrow:function(e){if(this._disablefilterrow=!0,this.columns.records){for(var t=this.columns.records.length,i=0;i<t;i++){var s=this.columns.records[i],r=S(this.filterrow[0].cells[i]);if(("string"!=typeof e||s.displayfield==e)&&s.filterable){function n(e,t){t=S(t.children()[0]);t.val(""),t[0]&&(e["_oldWriteText"+t[0].id]="")}var o,a,l;switch(s.filtertype){case"number":case"input":r.find("input").val(""),this.host.jqxDropDownList&&((o=S(S(S(r).children()[0]).children()[1])).jqxDropDownList("clearSelection"),(a=0)==a&&(this._getfiltersbytype("number"==s.filtertype?"number":"string"),l=(new S.jqx.filter).getoperatorsbyfiltertype("number"==s.filtertype?"numberfilter":"stringfilter"),null!=s.filtercondition&&-1!=(a=l.indexOf(s.filtercondition.toUpperCase()))||(a="number"==s.filtertype?0:2)),o.jqxDropDownList({selectedIndex:a}),o.jqxDropDownList("ensureVisible",a));break;case"date":case"range":this.host.jqxDateTimeInput?S(r.children()[0]).jqxDateTimeInput("setDate",null):n(this,r);break;case"textbox":case"default":n(this,r);break;case"list":this.host.jqxDropDownList?S(r.children()[0]).jqxDropDownList("clearSelection"):n(this,r);break;case"checkedlist":this.host.jqxDropDownList?S(r.children()[0]).jqxDropDownList("checkAll",!1):n(this,r);break;case"bool":case"boolean":this.host.jqxCheckBox?S(r.children()[0]).jqxCheckBox({checked:null}):n(this,r)}}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){if(1!=this._disablefilterrow&&!this.disabled){for(var e=this.columns.records.length,a=this.that,t=0;t<e;t++){var i=new S.jqx.filter,s=this.columns.records[t];if(s.filterable&&null!==s.datafield){function r(e,t,i){var s=!0;if(e._filterwidget){var r=e._filterwidget.val();if(""!=r){var n="stringfilter"==t?"contains":"equal";if("numericfilter"==t&&","==a.gridlocalization.decimalseparator&&0<=r.indexOf(a.gridlocalization.decimalseparator)&&(r=r.replace(a.gridlocalization.decimalseparator,".")),"stringfilter"!=t){var o=0;if(-1!=r.indexOf(">")&&(n="greater_than",o=1),-1!=r.indexOf("<")&&(n="less_than",o=1),0!=(o=-1!=r.indexOf("=")?"greater_than"==n?(n="greater_than_or_equal",2):"less_than"==n?(n="less_than_or_equal",2):(n="equal",1):o)&&(r=r.substring(o)).length<1)return!1}null!=e.filtercondition&&(n=e.filtercondition),o="datefilter"==t?i.createfilter(t,r,n,null,e.cellsformat,a.gridlocalization):i.createfilter(t,r,n),i.addfilter(x,o)}else s=!1}return s}var n,o,l,d,h,c,u,p,m,g,f=a._getcolumntypebydatafield(s),v=a._getfiltertype(f),x=1,y=!0;s.filtertype;switch(s.filtertype){case"range":case"date":s._filterwidget.jqxDateTimeInput?"range"==s.filtertype?null!=(q=s._filterwidget.jqxDateTimeInput("getRange"))&&null!=q.from&&null!=q.to?(T="GREATER_THAN_OR_EQUAL",(n=new Date(0)).setHours(0),n.setMinutes(0),n.setFullYear(q.from.getFullYear(),q.from.getMonth(),q.from.getDate()),(o=new Date(0)).setHours(0),o.setMinutes(0),o.setFullYear(q.to.getFullYear(),q.to.getMonth(),q.to.getDate()),o.setHours(q.to.getHours()),o.setMinutes(q.to.getMinutes()),o.setSeconds(q.to.getSeconds()),l=i.createfilter(v,n,T),i.addfilter(0,l),o=i.createfilter(v,o,"LESS_THAN_OR_EQUAL"),i.addfilter(0,o)):y=!1:null!=(q=s._filterwidget.jqxDateTimeInput("getDate"))?((n=new Date(0)).setHours(0),n.setMinutes(0),n.setFullYear(q.getFullYear(),q.getMonth(),q.getDate()),(o=s._filterwidget.jqxDateTimeInput("showTimeButton"))&&(n.setHours(q.getHours()),n.setMinutes(q.getMinutes())),T="EQUAL",null!=s.filtercondition&&(T=s.filtercondition),l=i.createfilter(v,n,T),o&&(l=i.createfilter(v,n,T,null,s.cellsformat)),i.addfilter(0,l)):y=!1:y=r(s,v,i);break;case"input":s._filterwidget?(q=s._filterwidget.find("input").val(),(d=s._filterwidget.find(".filter").jqxDropDownList("selectedIndex"))<0&&(d=0),c=i.getoperatorsbyfiltertype(v)[d],a.updatefilterconditions&&(null!=(h=a.updatefilterconditions(v,i.getoperatorsbyfiltertype(v)))&&i.setoperatorsbyfiltertype(v,h),c=i.getoperatorsbyfiltertype(v)[d]),u="NULL"==c||"NOT_NULL"==c,p="EMPTY"==c||"NOT_EMPTY"==c,null!=q&&0<q.length||u||p?(l=i.createfilter(v,q,c,null,s.cellsformat,a.gridlocalization),i.addfilter(0,l)):y=!1):y=!1;break;case"number":s._filterwidget?(q=s._filterwidget.find("input").val(),","==a.gridlocalization.decimalseparator&&0<=q.indexOf(a.gridlocalization.decimalseparator)&&(q=q.replace(a.gridlocalization.decimalseparator,".")),d=s._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),c=i.getoperatorsbyfiltertype(v)[d],a.updatefilterconditions&&(null!=(h=a.updatefilterconditions(v,i.getoperatorsbyfiltertype(v)))&&i.setoperatorsbyfiltertype(v,h),c=i.getoperatorsbyfiltertype(v)[d]),u="NULL"==c||"NOT_NULL"==c,p="EMPTY"==c||"NOT_EMPTY"==c,null!=q&&0<q.length||u||p?(l=i.createfilter(v,new Number(q),c,null,s.cellsformat,a.gridlocalization),i.addfilter(0,l)):y=!1):y=!1;break;case"textbox":case"default":y=r(s,v,i);break;case"bool":case"boolean":s._filterwidget.jqxCheckBox?null!=(q=s._filterwidget.jqxCheckBox("checked"))?(C=i.createfilter(v,q,T="equal"),i.addfilter(x,C)):y=!1:y=r(s,v,i);break;case"list":0<=(w=s._filterwidget.jqxDropDownList("listBox")).selectedIndex?(q=(m=w.getSelectedItem()).label,g=this.gridlocalization.filterchoosestring,"Please Choose:"!==q&&q!==g&&(j=m.value,T="equal",C=i.createfilter(v,q,T=""===q?"NULL":T),i.addfilter(x,C),j!==q&&(C.data=j))):y=!1;break;case"checkedlist":if(s._filterwidget.jqxDropDownList){var w,b=(w=s._filterwidget.jqxDropDownList("listBox")).getCheckedItems();if(0==b.length){for(var _=1;_<w.items.length;_++){var q=w.items[_].label,j=w.items[_].value,T="not_equal",C=i.createfilter(v,q,T=""===q?"NOT_NULL":T);j!==q&&(C.data=j),i.addfilter(0,C)}y=!0}else if(b.length!=w.items.length)for(_=0;_<b.length;_++){q=b[_].label,j=b[_].value,T="equal",C=i.createfilter(v,q,T=""===q?"NULL":T);j!==q&&(C.data=j),i.addfilter(x,C)}else y=!1}else y=r(s,v,i)}this._loading||(y?this.addfilter(s.displayfield,i,!1):this.removefilter(s.displayfield,!1))}}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){for(var e=S('<div style="position: relative;" id="row00'+this.element.id+'"></div>'),t=0,i=this.columns.records.length,s=this.toThemeProperty("jqx-grid-cell"),r=(s=(s+=" "+this.toThemeProperty("jqx-grid-cell-pinned"))+(" "+this.toThemeProperty("jqx-grid-cell-filter-row")),i+10),n=new Array,o=this.that,a=(this.filterrow[0].cells=n,e.height(this.filterrowheight),this.filterrow.children().detach(),this.filterrow.append(e),this._filterrowcache||(this._filterrowcache=new Array),this._initcolumntypes(),!1),l=new Array,d=document.createDocumentFragment(),h=0;h<i;h++){var c,u=this.columns.records[h],p=u.width,m=((p=p<u.minwidth?u.minwidth:p)>u.maxwidth&&(p=u.maxwidth),document.createElement("div")),g=(m.style.overflow="hidden",m.style.position="absolute",m.style.height="100%",m.className=s,m=S(m),d.appendChild(m[0]),m[0].style.left=t+"px",this.rtl?(m.css("z-index",r++),m.css("border-left-width","1px")):m.css("z-index",r--),"auto"==p&&(p=0),m[0].style.width=parseFloat(p)+"px",m[0].left=t,u.hidden&&u.hideable?m.css("display","none"):t+=p,n[n.length]=m[0],!0);this.rtl?(this.groupable&&(c=this.showrowdetailscolumn&&this.rowdetails?1:0,this.groups.length+c+h>i-1&&(g=!1)),this.showrowdetailscolumn&&this.rowdetails&&h==i-1&&(g=!1)):(this.groupable&&(c=this.showrowdetailscolumn&&this.rowdetails?1:0,this.groups.length+c>h&&(g=!1)),this.showrowdetailscolumn&&this.rowdetails&&0==h&&(g=!1)),g&&("custom"==u.filtertype&&u.createfilterwidget?u.createfilterwidget(u,m,function(){o._applyfilterfromfilterrow()}):u.filterable&&(this._filterrowcache[u.datafield]?(a=!0,m.append(this._filterrowcache[u.datafield]),u._filterwidget=this._filterrowcache[u.datafield]):(this._addfilterwidget(u,m,p),l[u.datafield]=u._filterwidget)))}e[0].appendChild(d),this._filterrowcache=l,S.jqx.browser.msie&&S.jqx.browser.version<8&&e.css("z-index",r--),e.width(parseFloat(t)+2),this.filterrow.addClass(s),this.filterrow.css("border-top-width","1px"),this.filterrow.css("border-right-width","0px"),a&&this._updatefilterrowui(!0)},_addfilterwidget:function(s,e,r){for(var n=this.that,t=this,o="",i=0;i<n.dataview.filters.length;i++){var a=n.dataview.filters[i];if(a.datafield&&a.datafield==s.datafield){o=(i=a.filter.getfilters()[0]).value;"range"===s.filtertype&&(o={from:o,to:a.filter.getfilters()[1].value}),a=i.condition,s.filtercondition=a;break}}function l(t,e){var i=S('<input autocomplete="off" type="textarea"/>');i.attr("tabindex",5+s.visibleindex),i[0].id=S.jqx.utilities.createId(),i.addClass(t.toThemeProperty("jqx-widget")),i.addClass(t.toThemeProperty("jqx-filter-input jqx-input jqx-input-widget")),i.addClass(t.toThemeProperty("jqx-rc-all")),i.addClass(t.toThemeProperty("jqx-widget-content")),t.rtl&&i.css("direction","rtl"),t.disabled&&i.attr("disabled",!0),i.attr("disabled",!1),i.appendTo(e),i.css("margin","4px"),i.width(r-8),i.height(t.filterrowheight-9),s.createfilterwidget&&s.createfilterwidget(s,e,i),(s._filterwidget=i).focus(function(){return t.content[0].scrollLeft=0,setTimeout(function(){t.content[0].scrollLeft=0},10),(t.focusedfilter=i).addClass(t.toThemeProperty("jqx-fill-state-focus")),!1}),i.blur(function(){i.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),i.keydown(function(e){"13"==e.keyCode&&t._applyfilterfromfilterrow(),i[0]._writeTimer&&clearTimeout(i[0]._writeTimer),i[0]._writeTimer=setTimeout(function(){t._loading||(t["_oldWriteText"+i[0].id]||(t["_oldWriteText"+i[0].id]=""),(0<t["_oldWriteText"+i[0].id].length&&t["_oldWriteText"+i[0].id]!=i.val()||0==t["_oldWriteText"+i[0].id].length)&&(t._applyfilterfromfilterrow(),t["_oldWriteText"+i[0].id]=i.val()))},s.filterdelay),t.focusedfilter=i}),t.host.removeClass("jqx-disableselect"),t.content.removeClass("jqx-disableselect"),i.val(o)}var d,h,c,u;switch(null!=s.datatype&&("number"!=s.filtertype||"string"!=s.datatype&&"date"!=s.datatype&&"bool"!=s.datatype||(s.filtertype="textbox"),"date"!=s.filtertype||"string"!=s.datatype&&"number"!=s.datatype&&"bool"!=s.datatype||(s.filtertype="textbox"),"bool"!=s.filtertype||"string"!=s.datatype&&"number"!=s.datatype&&"date"!=s.datatype||(s.filtertype="textbox")),s.filtertype){case"number":case"input":var p,m,g=S("<div></div>"),f=(g.width(e.width()),g.height(this.filterrowheight),e.append(g),20),r=("fluent"===this.theme&&(f=25),e.width()-f-1),v=(v=g,x=r,u=S('<input style="float: left;" autocomplete="off" type="textarea"/>'),n.rtl&&(u.css("float","right"),u.css("direction","rtl")),u.attr("tabindex",5+s.visibleindex),u[0].id=S.jqx.utilities.createId(),u.addClass(n.toThemeProperty("jqx-widget jqx-input jqx-rc-all jqx-input-widget jqx-filter-input jqx-widget-content")),u.appendTo(v),u.width(x-10),n.disabled&&u.attr("disabled",!0),u.attr("disabled",!1),u[0].style.height=n.filterrowheight-9+"px",u.css("margin","4px"),u.css("margin-right","3px"),u.focus(function(){(n.focusedfilter=u).addClass(n.toThemeProperty("jqx-fill-state-focus"))}),u.blur(function(){u.removeClass(n.toThemeProperty("jqx-fill-state-focus"))}),u.keydown(function(e){"13"==e.keyCode&&n._applyfilterfromfilterrow(),"9"!=e.keyCode&&(u[0]._writeTimer&&clearTimeout(u[0]._writeTimer),u[0]._writeTimer=setTimeout(function(){n._loading||n["_oldWriteText"+u[0].id]!=u.val()&&(n._applyfilterfromfilterrow(),n["_oldWriteText"+u[0].id]=u.val())},s.filterdelay),n.focusedfilter=u)}),u.val(o),n._getfiltersbytype("number"==s.filtertype?"number":"string")),x=((p=S("<div class='filter' style='float: left;'></div>")).css("margin-top","4px"),p.appendTo(g),n.rtl&&p.css("float","right"),0),y=(null!=s.filtercondition&&-1!=(m=(i=new S.jqx.filter).getoperatorsbyfiltertype("number"==s.filtertype?"numericfilter":"stringfilter").indexOf(s.filtercondition.toUpperCase()))&&(x=m),180),w=("input"==s.filtertype&&(y=240,0==x&&(x=-1!=(m=v.indexOf("contains")||2)&&null==s.filtercondition?m:-1)),p.jqxDropDownList({disabled:n.disabled,touchMode:n.touchmode,rtl:n.rtl,dropDownHorizontalAlignment:"right",enableBrowserBoundsDetection:!0,selectedIndex:x,width:f,height:27,dropDownHeight:150,dropDownWidth:y,source:v,theme:n.theme}),p.jqxDropDownList({selectionRenderer:function(e){return""}}),p.attr("tabindex",5+s.visibleindex),p.jqxDropDownList("setContent",""),p.find(".jqx-dropdownlist-content").hide(),s.createfilterwidget&&s.createfilterwidget(s,e,g),s._filterwidget=g,null);this.addHandler(p,"open",function(){t._activeFilterElement=p}),this.addHandler(p,"select",function(){var e=(e=p.jqxDropDownList("getSelectedItem"))?e.label:"contains";0<s._filterwidget.find("input").val().length&&!n.refreshingfilter&&n._applyfilterfromfilterrow(),("input"!=s.filtertype||n.refreshingfilter)&&(0!=s._filterwidget.find("input").val().length||n.refreshingfilter||"null"!=w&&"not null"!=w&&"null"!=e&&"not null"!=e)||n._applyfilterfromfilterrow(),w=e});break;case"textbox":case"default":default:l(this,e);break;case"none":break;case"date":case"range":this.host.jqxDateTimeInput?((m=S("<div></div>")).css("margin","4px"),m.css("margin-left","5px"),m.appendTo(e),x={calendar:this.gridlocalization,todayString:this.gridlocalization.todaystring,clearString:this.gridlocalization.clearstring},m.jqxDateTimeInput({firstDayOfWeek:this.gridlocalization.firstDay,readonly:!0,disabled:n.disabled,localization:x,rtl:n.rtl,showFooter:!0,formatString:s.cellsformat,selectionMode:s.filtertype,value:null,theme:this.theme,width:r-9,height:"fluent"===this.theme?20:this.filterrowheight-9}),s.createfilterwidget&&s.createfilterwidget(s,e,m),o&&o.from?m.jqxDateTimeInput("setRange",o.from,o.to):o&&1<o.toString().length&&m.val(o),m.find("input").attr("tabindex",5+s.visibleindex),s._filterwidget=m,this.addHandler(m,"valueChanged",function(e){n.refreshingfilter||(n._applyfilterfromfilterrow(),n.focusedfilter=null)})):l(this,e);break;case"list":case"checkedlist":this.host.jqxDropDownList?(f=this._getfilterdataadapter(s),v=!1,(p=S("<div></div>")).css("margin","4px"),p.css("margin-left","5px"),g=s.datafield,m="checkedlist"==s.filtertype,y=r<150?220:"auto",f.dataBind(),v=d=f.records.length<8,p.appendTo(e),p.jqxDropDownList({hint:!1,placeHolder:n.gridlocalization.filterchoosestring,disabled:n.disabled,touchMode:n.touchmode,rtl:n.rtl,checkboxes:m,dropDownWidth:y,source:f.records,autoDropDownHeight:d,theme:this.theme,width:r-9,height:this.filterrowheight-9,displayMember:s.displayfield,valueMember:g}),p.attr("tabindex",5+s.visibleindex),p.attr("default-placeholder",!0),s.createfilterwidget&&s.createfilterwidget(s,e,p),this.addHandler(p,"open",function(){t._activeFilterElement=p}),h=p.jqxDropDownList("listBox"),m?(p.jqxDropDownList({selectionRenderer:function(){return'<span class="'+n.toThemeProperty("jqx-item")+'" style="top: 4px; position: relative; color: inherit; border: none; background-color: transparent;">'+n.gridlocalization.filterselectstring+"</span>"}}),(y=S('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+n.gridlocalization.filterselectstring+"</span>")).addClass(this.toThemeProperty("jqx-item")),null!=h&&(v||h.host.height(200),h.insertAt({label:n.gridlocalization.filterselectallstring},0),p.jqxDropDownList("setContent",y),c=!0,new Array,h.checkAll(!1),n.addHandler(h.host,"checkChange",function(e){var t,i;p[0]._selectionChanged=!0,c=c&&(e.args.label!=n.gridlocalization.filterselectallstring?(c=!1,h.host.jqxListBox("checkIndex",0,!0,!1),t=h.host.jqxListBox("getCheckedItems"),i=h.host.jqxListBox("getItems"),1==t.length?h.host.jqxListBox("uncheckIndex",0,!0,!1):i.length!=t.length&&h.host.jqxListBox("indeterminateIndex",0,!0,!1)):(c=!1,e.args.checked?h.host.jqxListBox("checkAll",!1):h.host.jqxListBox("uncheckAll",!1)),!0)}))):(h.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),p.jqxDropDownList({selectedIndex:0})),(s._filterwidget=p).jqxDropDownList("dropdownlistWrapper"),"list"==s.filtertype?this.addHandler(p,"select",function(e){n.refreshingfilter||e.args&&"none"!=e.args.type&&(n._applyfilterfromfilterrow(),n.focusedfilter=null)}):this.addHandler(p,"close",function(e){p[0]._selectionChanged&&(n._applyfilterfromfilterrow(),n.focusedfilter=null,p[0]._selectionChanged=!1)})):l(this,e);break;case"bool":case"boolean":this.host.jqxCheckBox?((f=S('<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -9px; margin-left: -12px;"></div>')).appendTo(e),f.jqxCheckBox({disabled:n.disabled,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,hasThreeStates:!0,theme:this.theme,checked:null}),f.attr("tabindex",5+s.visibleindex),s.createfilterwidget&&s.createfilterwidget(s,e,f),!0===o||"true"==o?f.jqxCheckBox({checked:!0}):!1!==o&&"false"!=o||f.jqxCheckBox({checked:!1}),s._filterwidget=f,this.addHandler(f,"change",function(e){n.refreshingfilter||e.args&&(n.focusedfilter=null,n._applyfilterfromfilterrow())})):l(this,e)}},_getfilterdataadapter:function(n){var o,e=!!this.source._source;if(a=e?(t={localdata:S.extend(!0,{},this.source.records),datatype:this.source.datatype,async:!1},o=this,new S.jqx.dataAdapter(t,{autoBind:!1,autoSort:!0,autoSortField:n.displayfield,async:!1,uniqueDataFields:[n.displayfield],beforeLoadComplete:function(e){var t=new Array;if(n.cellsformat){for(var i=o._getcolumntypebydatafield(n),s=0;s<e.length;s++){t.push(e[s]);var r=e[s][n.displayfield];e[s][n.displayfield+"JQValue"]=r,"date"===i?e[s][n.displayfield]=null!=r?a.formatDate(r,n.cellsformat,o.gridlocalization):"":"number"!==i&&"float"!==i&&"int"!==i||(e[s][n.displayfield]=null!=r?a.formatNumber(r,n.cellsformat,o.gridlocalization):"")}return t}return e}})):new S.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[n.displayfield],autoSort:!0,autoSortField:n.displayfield,async:!1}),n.filteritems&&0<n.filteritems.length)var t={localdata:n.filteritems,datatype:this.source.datatype,async:!1},a=new S.jqx.dataAdapter(t,{autoBind:!1,async:!1});else if(n.filteritems){if(n.filteritems._source)return n.filteritems._options.autoBind=!1,n.filteritems._options.async=!1,n.filteritems;if(S.isFunction(n.filteritems))return n.filteritems()}return a},refreshfilterrow:function(){if(this.showfilterrow){this.refreshingfilter=!0,this._updatefilterrowui(),this._updatelistfilters(!0,!0);for(var e=this.that,t=this.columns.records.length,i=0;i<t;i++){var s=this.columns.records[i];if(s.filterable&&s.filter){var r=s.filter.getfilters();if(0<r.length){var n,o,a,l=r[0].value,d=s._filterwidget,h=s._filterwidget.parent();if(null!=d)switch(s.filtertype){case"number":h.find("input").val(l),this.host.jqxDropDownList&&(n=s.filter.getoperatorsbyfiltertype("numericfilter"),d.find(".filter").jqxDropDownList("selectIndex",n.indexOf(r[0].condition)));break;case"input":h.find("input").val(l),this.host.jqxDropDownList&&(n=s.filter.getoperatorsbyfiltertype("stringfilter"),d.find(".filter").jqxDropDownList("selectIndex",n.indexOf(r[0].condition)));break;case"date":case"range":this.host.jqxDateTimeInput?null!=(l=s.filter.getfilterat(0).filtervalue)&&(a=s.filter.getfilterat(1)?s.filter.getfilterat(1).filtervalue:l,"range"==s.filtertype?(o=new Date(l),a=new Date(a),isNaN(o)&&(o=S.jqx.dataFormat.tryparsedate(l)),isNaN(a)&&(a=S.jqx.dataFormat.tryparsedate(l)),S(h.children()[0]).jqxDateTimeInput("setRange",o,a)):S(h.children()[0]).jqxDateTimeInput("setDate",new Date(l))):d.val(l);break;case"textbox":case"default":d.val(l),e["_oldWriteText"+d[0].id]=l;break;case"bool":case"boolean":this.host.jqxCheckBox?S(h.children()[0]).jqxCheckBox({checked:l}):d.val(l)}}}}this.refreshingfilter=!1}},_destroyedfilters:function(){this.that;for(var e=this.columns.records.length,t=0;t<e;t++){var i,s=this.columns.records[t];s.filterable&&(i=s._filterwidget,"list"==s.filtertype||"checkedlist"==s.filtertype?(this.removeHandler(i,"select"),this.removeHandler(i,"close"),i.jqxDropDownList("destroy")):"date"==s.filtertype||"range"==s.filtertype?(this.removeHandler(i,"valueChanged"),i.jqxDateTimeInput("destroy")):"bool"==s.filtertype?(this.removeHandler(i,"change"),i.jqxCheckBox("destroy")):"number"==s.filtertype||"input"===s.filtertype?(s=i.find(".jqx-input"),this.removeHandler(s,"keydown"),S(i.children()[1]).jqxDropDownList("destroy")):this.removeHandler(i,"keydown"),i.remove())}},_updatelistfilters:function(e,t){for(var i=this.that,s=this.columns.records.length,r=0;r<s;r++){var n=this.columns.records[r];if(n.filterable&&("list"==n.filtertype||"checkedlist"==n.filtertype)){var o=n._filterwidget;if(e){var a=this._getfilterdataadapter(n);o.jqxDropDownList({source:a});var l=!0;if(l=(c=o.jqxDropDownList("getItems")).length!=a.records.length+1?!1:l)for(var d=1;d<c.length;d++)if(c[d].label!=a.records[d-1][n.displayfield]){l=!1;break}if(l&&!t)continue}else if(null==n.filter){o.jqxDropDownList("renderSelection");continue}var h="checkedlist"==n.filtertype,c=o.jqxDropDownList("getItems"),u=o.jqxDropDownList("listBox");if(o.jqxDropDownList("dataBind"),h){o.jqxDropDownList({selectionRenderer:function(){return i.gridlocalization.filterselectstring}}),null==u.getItem(this.gridlocalization.filterselectallstring)&&u.insertAt({label:this.gridlocalization.filterselectallstring},0);h=S('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+this.gridlocalization.filterselectstring+"</span>");if(h.addClass(this.toThemeProperty("jqx-item")),o.jqxDropDownList("setContent",h),u.checkAll(!1),n.filter){for(var p=n.filter.getfilters(),d=0;d<u.items.length;d++){var m=u.items[d].label,g=void 0;S.each(p,function(){var e;"NOT_EQUAL"==this.condition?e=m!=this.value:"EQUAL"==this.condition&&(e=m==this.value),g=null==g&&void 0!==e?e:"EQUAL"==this.condition?g||e:g&&e}),g?u.checkIndex(d,!1,!1):u.uncheckIndex(d,!1,!1)}u._updateCheckedItems();h=u.getCheckedItems().length;u.items.length!=h&&0<h&&u.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(null==u.getItem(this.gridlocalization.filterchoosestring)&&u.items[0].label!==this.gridlocalization.filterchoosestring&&u.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),o.jqxDropDownList({selectedIndex:0}),n.filter){for(var p=n.filter.getfilters(),f=-1,d=0;d<u.items.length;d++){m=u.items[d].label;S.each(p,function(){return"NOT_EQUAL"==this.condition||(m==this.value?(f=d,!1):void 0)})}-1!=f&&u.selectIndex(f)}c.length<8?o.jqxDropDownList("autoDropDownHeight",!0):o.jqxDropDownList("autoDropDownHeight",!1)}}},_renderfiltercolumn:function(){var s=this.that;this.filterable&&this.columns.records&&S.each(this.columns.records,function(e,t){var i=!1;s.autoshowfiltericon?this.filter?(S(this.filtericon).show(),i=!0):S(this.filtericon).hide():this.filterable&&(S(this.filtericon).show(),i=!0),this.element.removeAttribute("filter"),i&&this.element.setAttribute("filter",!0),"right"!=this.align||this.renderer||this.element&&(this.element.firstChild.firstChild.style.marginRight=i?"18px":"2px")})},_initcolumntypes:function(){if(this.columns&&this.columns.records){var e=this.source._source.datafields;if(e)for(var t=0;t<this.columns.records.length;t++){var i,s=this.columns.records[t];s.datatype||(i="",S.each(e,function(){if(this.name==s.displayfield)return this.type&&(i=this.type),!1}),s.datatype=""!=i?i:"")}}},_getcolumntypebydatafield:function(e){var t=this.that,i="string",t=t.source.datafields||(t.source._source?t.source._source.datafields:null);if(t){var s="";if(S.each(t,function(){if(this.name==e.displayfield)return this.type&&(s=this.type),!1}),s)return s}if(null!=e){if(null==this.dataview.cachedrecords)return i;var r=null;if(this.virtualmode)S.each(this.dataview.cachedrecords,function(){return r=this[e.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return i;if(null!=(r=this.dataview.cachedrecords[0][e.displayfield])&&""==r.toString())return"string"}if(null!=r)if("boolean"==typeof r)i="boolean";else if(S.jqx.dataFormat.isNumber(r))i="number";else{t=new Date(r);if("NaN"==t.toString()||"Invalid Date"==t.toString())if(S.jqx.dataFormat){if(null!=(t=S.jqx.dataFormat.tryparsedate(r))){if(t&&t.getFullYear())if(1970==t.getFullYear()&&0==t.getMonth()&&1==t.getDate())return t=new Number(r),isNaN(t)?"string":"number";return"date"}i="string"}else i="string";else i="date"}}return i},_getfiltersbytype:function(e){var t=this.that,i="";switch(e){case"number":case"float":case"int":i=t.gridlocalization.filternumericcomparisonoperators;break;case"date":i=t.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":i=t.gridlocalization.filterbooleancomparisonoperators;break;default:i=t.gridlocalization.filterstringcomparisonoperators}return i},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":case"range":t="datefilter";break;case"string":case"input":t="stringfilter"}return t},_buildfilter:function(e,t,i){var s=S(t).find(".filter1"),r=S(t).find(".filter2"),n=S(t).find(".filter3"),o=S(t).find(".filtertext1"+e.element.id),a=S(t).find(".filtertext2"+e.element.id),o=o.val(),a=a.val(),l=e._getcolumntypebydatafield(i),d=(e._getfiltersbytype(l),new S.jqx.filter),h=e._getfiltertype(l);if("default"===e.filtermode&&"list"!==i.filtertype&&"checkedlist"!==i.filtertype){var l=s.jqxDropDownList("selectedIndex"),r=r.jqxDropDownList("selectedIndex"),c=n.jqxDropDownList("selectedIndex"),u=(!e.updatefilterconditions||null!=(u=e.updatefilterconditions(h,d.getoperatorsbyfiltertype(h)))&&d.setoperatorsbyfiltertype(h,u),!1),l=d.getoperatorsbyfiltertype(h)[l],n=d.getoperatorsbyfiltertype(h)[c],c="NULL"==l||"NOT_NULL"==l,p="EMPTY"==l||"NOT_EMPTY"==l,p=(null==l&&(l=d.getoperatorsbyfiltertype(h)[0]),null==n&&(n=d.getoperatorsbyfiltertype(h)[0]),(0<o.length||c||p)&&(c=d.createfilter(h,o,l,null,i.cellsformat,e.gridlocalization),d.addfilter(r,c),u=!0),"NULL"==n||"NOT_NULL"==n);(0<a.length||p||("EMPTY"==n||"NOT_EMPTY"==n))&&(o=d.createfilter(h,a,n,null,i.cellsformat,e.gridlocalization),d.addfilter(r,o),u=!0),u?(m=i.displayfield,this.addfilter(m,d,!0)):this._clearfilter(e,t,i)}else if("excel"===e.filtermode||"list"===i.filtertype||"checkedlist"===i.filtertype){var m,l=!1,g=s.data().jqxListBox.instance,c="excel"===this.filtermode||"checkedlist"===i.filtertype,f=g.getCheckedItems();if(0==(f=c?f:g.getSelectedItems()).length){for(var v=1;v<g.items.length;v++){var x="not_equal";(y=void 0===(y=g.items[v].value)?"":y)&&y.indexOf&&(0<=y.indexOf("|")||0<=y.indexOf(" AND ")||0<=y.indexOf(" OR ")||0<=y.indexOf(" and ")||0<=y.indexOf(" or "))&&(y=(y=(y=(y=(y=y.replace("|","")).replace("AND","")).replace("OR","")).replace("and","")).replace("or",""),x="equal"),w="datefilter"==h?d.createfilter(h,y,x,null,i.cellsformat,e.gridlocalization):d.createfilter(h,y,x,null),d.addfilter(0,w)}l=!0}else if(f.length!=g.items.length)for(var y,w,l=!0,v=0;v<f.length;v++)e.gridlocalization.filterselectallstring!==f[v].value&&(void 0===(y=f[v].value)&&(y=""),x="equal",w="datefilter"==h?d.createfilter(h,y,x,null,i.cellsformat,e.gridlocalization):d.createfilter(h,y,x,null),d.addfilter(1,w));else l=!1;l?(m=i.displayfield,this.addfilter(m,d,!0)):(m=i.displayfield,this.removefilter(m,!0))}},_clearfilter:function(e,t,i){i=i.displayfield;this.removefilter(i,!0)},addfilter:function(e,t,i){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var s=this.getcolumn(e),r=this._getcolumn(e);null!=s&&(s.filter=t,null!=r&&(r.filter=t,this.dataview.addfilter(e,t),1==i&&null!=i&&this.applyfilters("add")))},removefilter:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var i=this.getcolumn(e),s=this._getcolumn(e);null!=i&&null!=i.filter&&(this.dataview.removefilter(e,i.filter),i.filter=null,s.filter=null,this.showfilterrow&&this.clearfilterrow(e),1!=t&&!1===t||this.applyfilters("remove"))},applyfilters:function(e){if(0<=this.dataview.filters.length&&(this.virtualmode||!this.source.localdata)&&null!=this.source&&this.source.filter&&(t=-1,this.pageable?(t=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo)),this.pageable&&this.virtualmode&&(this.dataview.pagenum=0),this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length),this.pageable&&!this.virtualmode&&(this.dataview.pagenum=t)),this._cellscache=new Array,this.dataview.clearsortdata&&this.dataview.clearsortdata(),this.virtualmode)return this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0)),this.rendergridcontent(!1,!1),this.showfilterrow&&"string"!=typeof e&&S.isEmptyObject(e)&&this.refreshfilterrow(),this._postrender("filter"),void this._raiseEvent(13,{filters:this.dataview.filters});var t;this.selectedrowindexes,this.that;this.dataview.refresh(),this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection&&(t=this.sortdirection.ascending?"asc":"desc",this._loading?this.sortby(this.sortcolumn,t,null,!1,!1):this.sortby(this.sortcolumn,t,null,!1)),this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails())),this._updaterowsproperties(),!this.groupable||this.groupable&&0==this.groups.length?(this._rowdetailscache=new Array,this.virtualsizeinfo=null,this._pagescache=new Array,this.columns&&this.columns.records&&0<this.columns.records.length&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this._postrender("filter")):(this.collapseallgroups(),this._rowdetailscache=new Array,this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this._postrender("group")),this.showfilterrow&&"string"!=typeof e&&S.isEmptyObject(e)&&this.refreshfilterrow(),this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var e=new Array,t=0;t<this.dataview.filters.length;t++){var i=this.getcolumn(this.dataview.filters[t].datafield);e[t]={filter:this.dataview.filters[t].filter,datafield:i.datafield,displayfield:i.displayfield,filtercolumn:i.datafield,filtercolumntext:i.text}}return e},clearfilters:function(e){var t,i=this.that;this.showfilterrow&&this.clearfilterrow(),this.columns.records&&(t=1==e||!1!==e,S.each(this.columns.records,function(){i.removefilter(this.displayfield,!t)})),!1===e||1!=e&&!1===e||this.applyfilters("clear")},_destroyfilterpanel:function(){var e=S(S.find("#filterclearbutton"+this.element.id)),t=S(S.find("#filterbutton"+this.element.id)),i=S(S.find("#filter1"+this.element.id)),s=S(S.find("#filter2"+this.element.id)),r=S(S.find("#filter3"+this.element.id)),n=S(S.find(".filtertext1"+this.element.id)),o=S(S.find(".filtertext2"+this.element.id)),i=(0<n.length&&0<o.length&&(n.removeClass(),o.removeClass(),n.remove(),o.remove()),0<e.length&&(e.jqxButton("destroy"),t.jqxButton("destroy"),this.removeHandler(e,"click"),this.removeHandler(t,"click")),0<i.length&&i.jqxDropDownList("destroy"),0<s.length&&s.jqxDropDownList("destroy"),0<r.length&&r.jqxDropDownList("destroy"),S(S.find("#filter1"+this.element.id+"ex"))),s=S(S.find("#filter2"+this.element.id+"ex")),r=S(S.find("#filter3"+this.element.id+"ex"));0<i.length&&i.jqxDropDownList("destroy"),0<s.length&&s.jqxDropDownList("destroy"),0<r.length&&r.jqxDropDownList("destroy"),this.excelfilterpanel&&(i=S(this.excelfilterpanel).find("#filter1"+this.element.id+"ex"),s=S(this.excelfilterpanel).find("#filter2"+this.element.id+"ex"),r=S(this.excelfilterpanel).find("#filter3"+this.element.id+"ex"),0<i.length&&(this.removeHandler(i,"checkChange"),i.jqxListBox("destroy")),0<s.length&&s.jqxDropDownList("destroy"),0<r.length&&r.jqxDropDownList("destroy"),e=S(this.excelfilterpanel).find("#filterclearbutton"+this.element.id+"ex"),t=S(this.excelfilterpanel).find("#filterbutton"+this.element.id+"ex"),i=S(this.excelfilterpanel).find("#filter1"+this.element.id+"ex"),s=S(this.excelfilterpanel).find("#filter2"+this.element.id+"ex"),r=S(this.excelfilterpanel).find("#filter3"+this.element.id+"ex"),n=S(this.excelfilterpanel).find(".filtertext1"+this.element.id+"ex"),o=S(this.excelfilterpanel).find(".filtertext2"+this.element.id+"ex"),0<n.length&&0<o.length&&(n.removeClass(),o.removeClass(),n.remove(),o.remove()),0<e.length&&(e.jqxButton("destroy"),t.jqxButton("destroy"),this.removeHandler(e,"click"),this.removeHandler(t,"click")),this.excelfilterpanel.removeData(),this.excelfilterpanel.remove(),delete this.excelfilterpanel)},_updatefilterpanel:function(i,t,s){var e=(i=null==i?this:i)._getcolumntypebydatafield(s),r=i._getfiltersbytype(e);if(!i.host.jqxDropDownList)throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.");i.filterpanel.detach(),i.excelfilterpanel.detach(),s.filterpanel&&s.filterpanel.detach(),S(t).children().detach();var n=S(i.menuitemsarray[6]),n=(S(n).css("height","220px"),s.createfilterpanel&&!s.filterpanel&&(n=S("<div class='filter' style='margin-left: 7px;'></div>"),S(t).append(n),s.createfilterpanel(s.displayfield,n),s.filterpanel=n),"list"===s.filtertype||"checkedlist"===s.filtertype?S(t).append(i.excelfilterpanel):"custom"!==s.filtertype?S(t).append(i.filterpanel):s.filterpanel&&S(t).append(s.filterpanel),this._showwhere=S(t).find(".filter.showwhere"),S(t)),o=n.find("#filterclearbutton"+i.element.id),a=n.find("#filterbutton"+i.element.id),l=n.find(".filter1"),d=n.find(".filter2"),h=n.find(".filter3"),c=n.find(".filtertext1"+i.element.id),u=n.find(".filtertext2"+i.element.id);if(this._hasdatefilter&&"list"!==s.filtertype&&"checkedlist"!==s.filtertype&&"custom"!==s.filtertype&&(f=c.parent(),v=u.parent(),p="date"==s.filtertype?(c.jqxDateTimeInput("destroy"),u.jqxDateTimeInput("destroy"),f.children().remove(),v.children().remove(),i._showwhere.text(i.gridlocalization.filtershowrowdatestring),p=S("<div class='filtertext1"+i.element.id+"' style=''></div>"),f.append(p),(b=function(e){var t={calendar:i.gridlocalization,todayString:i.gridlocalization.todaystring,clearString:i.gridlocalization.clearstring};e.jqxDateTimeInput({disabled:i.disabled,firstDayOfWeek:i.gridlocalization.firstDay,localization:t,rtl:i.rtl,width:i._filterpanelwidth-10,height:24,value:null,formatString:s.cellsformat,theme:i.theme})})(p),S("<div class='filtertext2"+i.element.id+"' style=''></div>")):(f.children().remove(),v.children().remove(),i._showwhere.text(i.gridlocalization.filtershowrowstring),p=S("<input autocomplete='off' class='filtertext1"+i.element.id+"' style='box-sizing: content-box; height: 16px; padding: 3px;' type='text'></input>"),f.append(p),(b=function(e){e.addClass(i.toThemeProperty("jqx-input")),e.addClass(i.toThemeProperty("jqx-filter-input jqx-widget-content")),e.addClass(i.toThemeProperty("jqx-rc-all")),e.width(i._filterpanelwidth-18)})(p),S("<input autocomplete='off' class='filtertext2"+i.element.id+"' style='box-sizing: content-box; height: 16px; padding: 3px;' type='text'></input>")),v.append(p),b(p),c=n.find(".filtertext1"+i.element.id),u=n.find(".filtertext2"+i.element.id)),"date"!=s.filtertype?(c.val(""),u.val("")):(c.val(null),u.val(null)),0<a.length&&(a.jqxButton({height:this.filterMenuItemsHeight}),o.jqxButton({height:this.filterMenuItemsHeight}),this.removeHandler(a,"click"),this.addHandler(a,"click",function(){i._buildfilter(i,t,s),i._closemenu()}),this.removeHandler(o,"click"),this.addHandler(o,"click",function(){i._clearfilter(i,t,s),i._closemenu()}),this.removeHandler(a,"keydown"),this.addHandler(a,"keydown",function(e){13===e.keyCode&&(i._buildfilter(i,t,s),i._closemenu())}),this.removeHandler(o,"keydown"),this.addHandler(o,"keydown",function(e){13===e.keyCode&&(i._clearfilter(i,t,s),i._closemenu())})),0<c.length&&(this.removeHandler(c,"keydown"),this.addHandler(c,"keydown",function(e){if(13===e.keyCode)return a.trigger("click"),!1;27===e.keyCode&&i._closemenu()}),this.removeHandler(u,"keydown"),this.addHandler(u,"keydown",function(e){if(13===e.keyCode)return a.trigger("click"),!1;27===e.keyCode&&i._closemenu()})),"default"===this.filtermode&&"list"!==s.filtertype&&"checkedlist"!==s.filtertype&&"custom"!==s.filtertype){l.jqxDropDownList("source")!=r&&(l.jqxDropDownList({enableBrowserBoundsDetection:!1,source:r}),h.jqxDropDownList({enableBrowserBoundsDetection:!1,source:r})),"boolean"==e||"bool"==e?(l.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),h.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0})):(b=!1,r&&r.length&&r.length<5&&(b=!0),l.jqxDropDownList({autoDropDownHeight:b,selectedIndex:2}),h.jqxDropDownList({autoDropDownHeight:b,selectedIndex:2})),d.jqxDropDownList({selectedIndex:0});var p=s.filter,m=new S.jqx.filter,g="";switch(e){case"number":case"int":case"float":case"decimal":x=m.getoperatorsbyfiltertype(g="numericfilter");break;case"boolean":case"bool":x=m.getoperatorsbyfiltertype(g="booleanfilter");break;case"date":case"time":x=m.getoperatorsbyfiltertype(g="datefilter");break;case"string":x=m.getoperatorsbyfiltertype(g="stringfilter")}if(null!=p){var f=p.getfilterat(0),v=p.getfilterat(1);p.getoperatorat(0);if(i.updatefilterconditions){var x=[],y=i.updatefilterconditions(g,x);if(null!=y){for(var w=0;w<y.length;w++)y[w]=y[w].toUpperCase();p.setoperatorsbyfiltertype(g,y),x=y}}n="default";null!=f&&(r=x.indexOf(f.comparisonoperator),b=f.filtervalue,c.val(b),l.jqxDropDownList({selectedIndex:r,animationType:n})),null!=v&&(f=x.indexOf(v.comparisonoperator),b=v.filtervalue,u.val(b),h.jqxDropDownList({selectedIndex:f,animationType:n})),null==p.getoperatorat(0)?d.jqxDropDownList({selectedIndex:0,animationType:n}):"and"==p.getoperatorat(0)||0==p.getoperatorat(0)?d.jqxDropDownList({selectedIndex:0}):d.jqxDropDownList({selectedIndex:1})}i.updatefilterpanel&&i.updatefilterpanel(l,h,d,c,u,a,o,p,g,x),this._hasdatefilter&&(!this._hasdatefilter||"date"==s.filtertype)||this.touchdevice||setTimeout(function(){c.focus()},10)}else if("excel"===this.filtermode||"list"===s.filtertype||"checkedlist"===s.filtertype){r=i._getfilterdataadapter(s),g=i._getfiltertype(e),v="excel"===this.filtermode||"checkedlist"===s.filtertype;if(l.jqxListBox("focus"),this.removeHandler(l,"keyup"),this.addHandler(l,"keyup",function(e){13===e.keyCode&&a.trigger("click"),27===e.keyCode&&i._closemenu()}),s.cellsformat?l.jqxListBox({checkboxes:v,displayMember:s.displayfield,valueMember:s.displayfield+"JQValue",source:r}):l.jqxListBox({checkboxes:v,displayMember:s.displayfield,valueMember:s.displayfield,source:r}),v){var b=l.jqxListBox("getItem",0);b&&b.label===i.gridlocalization.filterselectallstring||l.jqxListBox("insertAt",{label:i.gridlocalization.filterselectallstring},0);(T=l.data().jqxListBox.instance).checkAll(!1);if(s.filter){T.uncheckAll(!1);for(var _=s.filter.getfilters(),q=0;q<T.items.length;q++){var j=T.items[q].value;S.each(_,function(){return"NOT_EQUAL"==this.condition?j!=this.value||null!=j&&null!=this.value&&j.toString()!=this.value.toString()?(T.uncheckIndex(q,!1,!1),!1):void 0:"EQUAL"==this.condition&&(j==this.value||null!=j&&null!=this.value&&j.toString()==this.value.toString())?(T.checkIndex(q,!1,!1),!1):void 0})}T._updateCheckedItems();f=T.getCheckedItems().length;T.items.length!=f&&0<f&&T.host.jqxListBox("indeterminateIndex",0,!0,!1),f===T.items.length-1&&T.host.jqxListBox("checkIndex",0,!0,!1)}}else if(s.filter){(T=l.data().jqxListBox.instance).clearSelection();for(var T,_=s.filter.getfilters(),q=0;q<T.items.length;q++){j=T.items[q].value;S.each(_,function(){if("NOT_EQUAL"==this.condition){if(j!=this.value)return T.unselectIndex(q,!1,!1),!1}else if("EQUAL"==this.condition&&j==this.value)return T.selectIndex(q,!0,!1),!1})}T._renderItems()}}},_initfilterpanel:function(s,e,t,i,r){null==s&&(s=this),e[0].innerHTML="";var n=S("<div class='filter' style='position: absolute; bottom: 3px; margin-left: 3px;'></div>"),e=(e.append(n),S("<div class='filter showwhere' style='height: 18px; margin-top: 3px; margin-bottom: 3px;'></div>")),o=(e.text(s.gridlocalization.filtershowrowstring),this._showwhere=e,r?"ex":""),a=S("<div class='filter filter1' id='filter1"+s.element.id+o+"'></div>"),l=S("<div class='filter filter2' id='filter2"+s.element.id+o+"' style='margin-top: 3px; margin-bottom: 3px;'></div>"),o=S("<div class='filter filter3' id='filter3"+s.element.id+o+"'></div>"),t=s._getcolumntypebydatafield(t);if(!a.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");t=s._getfiltersbytype(t);if(this._hasdatefilter=!1,this._filterpanelwidth=i,this.columns&&this.columns.records){for(var d=0;d<this.columns.records.length;d++)if("date"==this.columns.records[d].filtertype){this._hasdatefilter=!0;break}}else if(this.columns&&!this.columns.records)for(d=0;d<this.columns.length;d++)if("date"==this.columns[d].filtertype){this._hasdatefilter=!0;break}this._hasdatefilter=!0;function h(e){var t;return e?(-1!=e.text().indexOf("case sensitive")&&(t=(t=e.text()).replace("case sensitive","match case"),e.text(t)),e.css("font-family",s.host.css("font-family")),e.css("font-size",s.host.css("font-size")),e.css("top","2px"),e.css("position","relative"),e):""}var c,u=S("<div style='margin-top:3px;' class='filter'><input autocomplete='off' class='filtertext1"+s.element.id+"' style='padding: 3px; height: 16px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>"),p=u.find("input"),m=(p.addClass(this.toThemeProperty("jqx-input")),p.addClass(this.toThemeProperty("jqx-filter-input jqx-widget-content")),p.addClass(this.toThemeProperty("jqx-rc-all")),p.width(i-18),S("<div style='margin-top:3px;' class='filter'><input autocomplete='off' class='filtertext2"+s.element.id+"' style='padding: 3px; height: 16px; margin-top: 3px;' type='text'></input></div>")),g=m.find("input"),p=(g.addClass(this.toThemeProperty("jqx-input")),g.addClass(this.toThemeProperty("jqx-filter-input jqx-widget-content")),g.addClass(this.toThemeProperty("jqx-rc-all")),g.width(i-18),s.rtl&&(p.css("direction","rtl"),g.css("direction","rtl")),S("<div class='filter' style='height: 35px; text-align:center; margin-top: 15px; margin-left:-2px;'></div>")),g=S('<span tabIndex=0 id="filterbutton'+s.element.id+'" class="primary filterbutton" style="padding: 6px 15px;">'+s.gridlocalization.filterstring+"</span>"),f=(p.append(g),S('<span tabIndex=0 id="filterclearbutton'+s.element.id+'" class="filterclearbutton secondary" style="position: relative; left: 2px; padding: 6px 15px; margin-left: 7px;">'+s.gridlocalization.filterclearstring+"</span>"));p.append(f),g.jqxButton({height:this.filterMenuItemsHeight,theme:s.theme}),f.jqxButton({height:this.filterMenuItemsHeight,theme:s.theme});"default"!==this.filtermode||r?"excel"!==this.filtermode&&!r||(n.append(e),n.append(a),a.attr("tabindex",0),a.jqxListBox({rtl:s.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:i-10,height:160,theme:s.theme}),c=!0,s.addHandler(a,"checkChange",function(e){var t,i;c=c&&(e.args.label!=s.gridlocalization.filterselectallstring?(c=!1,a.jqxListBox("checkIndex",0,!0,!1),t=a.jqxListBox("getCheckedItems"),i=a.jqxListBox("getItems"),1==t.length?a.jqxListBox("uncheckIndex",0,!0,!1):i.length!=t.length&&a.jqxListBox("indeterminateIndex",0,!0,!1)):(c=!1,e.args.checked?a.jqxListBox("checkAll",!1):a.jqxListBox("uncheckAll",!1)),!0)})):(n.append(e),n.append(a),a.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:s.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:i-10,height:this.filterMenuItemsHeight,dropDownHeight:200,dropDownWidth:i-10,selectionRenderer:h,source:t,theme:s.theme}),n.append(u),(r=new Array)[0]=s.gridlocalization.filterandconditionstring,r[1]=s.gridlocalization.filterorconditionstring,l.jqxDropDownList({_checkForHiddenParent:!1,rtl:s.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:this.filterMenuItemsHeight,source:r,selectionRenderer:h,theme:s.theme}),n.append(l),o.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:s.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:i-10,height:this.filterMenuItemsHeight,dropDownHeight:200,dropDownWidth:i-10,selectionRenderer:h,source:t,theme:s.theme}),n.append(o),n.append(m)),n.append(p),s.updatefilterpanel&&s.updatefilterpanel(a,o,l,u,m,g,f,null,null,t)}})}(jqxBaseFramework),!function(_){_.jqx.dataview.sort=function(){this.sortby=function(e,t,i){var s=Object.prototype.toString;if(null==t&&(this.sortdata=null,"many"!==this.grid.sortmode?this.sortcache={}:this.sortcache[e]&&delete this.sortcache[e],this.grid._pagescache=new Array,this.grid._cellscache=new Array,"many"!==this.grid.sortmode))this.refresh();else{"many"===this.grid.sortmode&&(this.grid._pagescache=new Array,this.grid._cellscache=new Array),null!=t&&(t="a"==t||"asc"==t||"ascending"==t||1==t);var r,n=e,o=(this.sortfield=e,this.sortfielddirection=t?"asc":"desc",null==t&&(this.sortfielddirection=null),null==this.sortcache&&(this.sortcache={}),this.sortdata=[],[]),a=!1,l=("constructor"==n&&(n=""),this.virtualmode||null==this.sortcache[n]||"many"===this.grid.sortmode||(o=(x=this.sortcache[n])._sortdata,x.direction==t?o.reverse():(!x.direction&&t&&o.reverse(),a=!0),o.length<this.totalrecords&&(a=!(this.sortcache={}),o=[])),Object.prototype.toString="function"==typeof e?e:function(){return this[e]},this.records),d=(this.that,"");if(this.source.datafields&&_.each(this.source.datafields,function(){if(this.name==e)return this.type&&(d=this.type),!1}),0==o.length)if(l.length)for(var h,c=l.length,u=0;u<c;u++)null!=(m=l[u])&&(h=(f=m).toString(),o.push({sortkey:h,value:f,index:u}));else{var p,m,g=!1;for(p in l){if(null==(m=l[p])){g=!0;break}var f=m;o.push({sortkey:f.toString(),value:f,index:p})}g&&_.each(l,function(e,t){o.push({sortkey:t.toString(),value:t,index:e})})}if(a||(null==i?(this._sortcolumntype=d,r=this,o.sort(function(e,t){return r._compare(e,t,d)})):o.sort(i)),t||o.reverse(),Object.prototype.toString=s,this.sortdata=o,null!==t&&(this.sortcache[n]={_sortdata:o,direction:t,dataType:this._sortcolumntype,dataField:n}),"many"===this.grid.sortmode){var v,x,y=[],w=[],b=[];for(v in this.sortcache)"data"!==v&&(x=this.sortcache[v],y.push(x.dataField),w.push(x.direction?"asc":"desc"),b.push(x.dataType));if(!(0<y.length))return this.sortcache={},this.sortdata=null,void this.refresh();a=this.multiSort(l,y,w,b);o=[],a&&_.each(a,function(e,t){o.push({sortkey:n,value:t,index:t.boundindex})}),this.sortdata=o}this.reload(this.records,this.rows,this.filters,this.updated,!0)}},this.multiSort=function(e,r,t,i,s){if(0===e.length)return[];for(var n=[],o=0;o<e.length;o++){var a=_.extend({},e[o]);n.push(a)}var l=!1;if(n&&n.constructor&&"ObservableArray"===n.constructor.name&&(l=!0),!(n&&n instanceof Array&&0!==n.length&&r&&!(r instanceof Array&&0===r.length)||l))throw new Error("sort: Missing or Invalid arguments!");"string"==typeof r&&(r=[r]);for(var d=[],h=[],o=(void 0===t&&(t=[]),0);o<r.length;o++){void 0===t[o]||"asc"===t[o]||"ascending"===t[o]?d[o]=1:d[o]=-1;var c=n[0][r[o]];h[o]=function(e,t){var i;switch(t||typeof e){case"string":default:i=(new Intl.Collator).compare;break;case"date":case"time":case"datetime":case"number":case"int":case"float":i=function(e,t){return e-t};break;case"boolean":i=function(e,t){return e===t?0:!1===e?-1:1};break;case"object":e instanceof Date&&(i=function(e,t){return e.getTime()-t.getTime()})}return i}(c,i[o])}if(!s)return n.sort(function(e,t){for(var i=0;i<r.length;i++){var s=h[i](e[r[i]],t[r[i]]);if(0!==s)return s*d[i];if(!r[i+1])return void 0!==e._index?(e._index-t._index)*d[i]:0}if(0===r.length)return e.boundIndex<t.boundIndex?-1:e.boundIndex>t.boundIndex?1:0}),n;s(n,r,t,h)},this.clearsortdata=function(){this.sortcache={},this.sortdata=null},this._compare=function(e,t,i){e=e.sortkey;if(void 0===(t=t.sortkey)&&(t=null),null===(e=void 0===e?null:e)&&null===t)return 0;if(null===e&&null!==t)return-1;if(null!==e&&null===t)return 1;if(_.jqx.dataFormat)if(i&&""!=i)switch(i){case"number":case"int":case"float":return e<t?-1:t<e?1:0;case"date":case"time":return e<t?-1:t<e?1:0;case"string":case"text":e=String(e).toLowerCase(),t=String(t).toLowerCase()}else{if(_.jqx.dataFormat.isNumber(e)&&_.jqx.dataFormat.isNumber(t))return e<t?-1:t<e?1:0;if(_.jqx.dataFormat.isDate(e)&&_.jqx.dataFormat.isDate(t))return e<t?-1:t<e?1:0;_.jqx.dataFormat.isNumber(e)||_.jqx.dataFormat.isNumber(t)||(e=String(e).toLowerCase(),t=String(t).toLowerCase())}try{if(e<t)return-1;if(t<e)return 1}catch(e){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)}},_.extend(_.jqx._jqxGrid.prototype,{_rendersortcolumn:function(){var e,s=this.that,r=this.getsortcolumn();if("many"===this.sortmode){this.__columnsbydatafield=new Array;var t=this.getsortcolumns();if(_.each(this.columns.records,function(e,t){_(this.sortasc).hide(),_(this.sortdesc).hide(),_(this.sorticon).css("visibility","hidden"),this.element.removeAttribute("sort"),this.element.removeAttribute("sort-index"),_(this.sorticon)[0]&&_(this.sorticon)[0].removeAttribute("order")}),0<t.length)for(var i=0;i<t.length;i++){var n=t[i],o=this._getcolumnbydatafield(n.dataField);o.element.setAttribute("sort",!0),o.element.setAttribute("sort-index",i),s.isMaterialized()||s.isModern()?(_(o.sorticon).show(),_(o.sorticon).css("visibility","inherit"),_(o.sorticon).removeClass("ascending"),_(o.sorticon).removeClass("descending"),_(o.sorticon)[0].setAttribute("order",i+1),n.ascending?_(o.sorticon).addClass("ascending"):_(o.sorticon).addClass("descending")):n.ascending?(_(o.sortasc).show(),_(o.sortdesc).hide()):!1===n.ascending&&(_(o.sortasc).hide(),_(o.sortdesc).show())}}else this.sortdirection&&(e=function(e,t){e=s.getcolumn(e);e&&(t.ascending?_.jqx.aria(e.element,"aria-sort","ascending"):t.descending?_.jqx.aria(e.element,"aria-sort","descending"):_.jqx.aria(e.element,"aria-sort","none"))},this._oldsortinfo&&this._oldsortinfo.column&&e(this._oldsortinfo.column,{ascending:!1,descending:!1}),e(r,this.sortdirection)),this._oldsortinfo={column:r,direction:this.sortdirection},this.sortdirection&&_.each(this.columns.records,function(e,t){var i=_.data(document.body,"groupsortelements"+this.displayfield);null==r||this.displayfield!=r?(_(this.sortasc).hide(),_(this.sortdesc).hide(),_(this.sorticon).css("visibility","hidden"),_(this.sorticon).removeClass("ascending"),_(this.sorticon).removeClass("descending"),this.element.removeAttribute("sort"),null!=i&&(i.sortasc.hide(),i.sortdesc.hide())):(s.isMaterialized()||s.isModern()?(_(this.sortasc).hide(),_(this.sortdesc).hide(),_(this.sorticon).show(),_(this.sorticon).css("visibility","inherit"),null!=i&&(i.sortasc.hide(),i.sortdesc.show()),_(this.sorticon).removeClass("ascending"),_(this.sorticon).removeClass("descending"),s.sortdirection.ascending?_(this.sorticon).addClass("ascending"):_(this.sorticon).addClass("descending")):s.sortdirection.ascending?(_(this.sortasc).show(),_(this.sortdesc).hide(),null!=i&&(i.sortasc.show(),i.sortdesc.hide())):(_(this.sortasc).hide(),_(this.sortdesc).show(),null!=i&&(i.sortasc.hide(),i.sortdesc.show())),this.element.setAttribute("sort",!0))})},getsortcolumns:function(){var e,t=[];for(e in this.dataview.sortcache)"data"!==e&&t.push({dataField:e,ascending:this.dataview.sortcache[e].direction});if(0===t.length)for(var i in this.sortcolumns){var s=this.sortcolumns[i];null!==s&&t.push({dataField:i,ascending:s})}return t},getsortcolumn:function(){return null!=this.sortcolumn?this.sortcolumn:null},removesort:function(){if(this.sortby(null),"many"===this.sortmode)for(var e in this.sortcolumns)this.sortby(e,null)},sortby:function(e,t,i,s,r){if(this._loading&&!1!==r)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e&&(t=null,e=this.sortcolumn),null!=e){var n,r=this.that;if(null==i&&r.source&&null!=r.source.sortcomparer&&(i=r.source.sortcomparer),n="a"==(t=void 0===t?!0:t)||"asc"==t||"ascending"==t||1==t,r.sortdirection=null!=t?{ascending:n,descending:!n}:{ascending:!1,descending:!1},r.sortcolumn=null!=t?e:null,r.sortcolumns||(r.sortcolumns=[]),r.sortcolumns[e]=t,r.source&&(r.source.sort||r.virtualmode)){if(r.dataview.sortfield=e,r.dataview.sortfielddirection=null==t?"":n?"asc":"desc",r.source.sort&&!this._loading)return r.source.sort(e,t,r.sortcolumns),void r._raiseEvent(6,{sortinformation:r.getsortinformation()})}else r.dataview.sortby(e,t,i);!1!==s&&(r.groupable&&0<r.groups.length?(r._render(!0,!1,!1),r._updategroupheadersbounds&&r.showgroupsheader&&r._updategroupheadersbounds()):(r.pageable&&r.dataview.updateview(),r._updaterowsproperties(),r.rendergridcontent(!0)),r._postrender("sort"),r._raiseEvent(6,{sortinformation:r.getsortinformation()}))}},_togglesort:function(e){var t,i=this.that;if(!this.disabled)if("many"===this.sortmode){if(e.sortable&&i.sortable){for(var s=i.getsortcolumns(),r=null,n=0;n<s.length;n++){var o=s[n];if(e.displayfield===o.dataField)return r=o.ascending,r=1<i.sorttogglestates?1!=r&&null:!r,void i.sortby(e.displayfield,r,null)}i.sortby(e.displayfield,!0,null)}}else e.sortable&&i.sortable&&(r=(r=null)==(t=i.getsortinformation()).sortcolumn||t.sortcolumn!=e.displayfield||(r=t.sortdirection.ascending,1<i.sorttogglestates?1!=r&&null:!r),i.sortby(e.displayfield,r,null))}})}(jqxBaseFramework),!function(D){D.extend(D.jqx._jqxGrid.prototype,{_exportData:function(e,t,i){for(var l=this,s=(s="string"==typeof t?t:t.fileName)||"jqxGrid",s=new D.jqx.dataAdapter.DataExporter({exportHeader:(t=t&&"string"!=typeof t?t:{header:!0,filterBy:null,groupBy:null,style:null,fileName:s,pageOrientation:"portrait",expandChart:"+",collapseChar:"-"}).header}),r=(s.expandChar=t.expandChar,s.collapseChar=t.collapseChar,s.pageOrientation=t.pageOrientation,s.style=t.style,s.filterBy=t.filterBy,s.groupBy=t.groupBy,[]),n=l.columngroups||[],o=0,a=0;a<l.columns.records.length;a++)(x=l.columns.records[a]).exportable&&null!==l.columns.records[a].datafield&&(r[o++]={label:l.columns.records[a].text,dataField:l.columns.records[a].datafield});if(s.header={columns:r,columngroups:n},!t.style){var n=window.getComputedStyle(l.element),d=window.getComputedStyle(0<l.columns.records.length&&l.columns.records[0].element?l.columns.records[0].element:l.host.find(".jqx-grid-header")[0]),h=window.getComputedStyle(l.host.find(".jqx-grid-header")[0]);if(!(0===l.offsetWidth||0===l.offsetHeight)){function c(e){function o(e){return isNaN(e)?"00":n[(e-e%16)/16]+n[e%16]}function t(e){var t,i,s,r,n;return-1!=e.toString().indexOf("rgba")?(r=a.split(","),t=parseInt(r[0].substring(5)),i=parseInt(r[1]),s=parseInt(r[2]),r=r[3]?parseFloat(r[3].substring(1,4)):1,n=l._rgbToHex({r:t,g:i,b:s}),0==t&&0==i&&0==s&&0==r?"#ffffff":"#"+n):(e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))?"#"+o(e[1])+o(e[2])+o(e[3]).toUpperCase():"#ffffff"}var i=e.fontSize,s=e.borderRightColor,r=e.backgroundColor,a=e.color,n=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f");return{borderColor:t(s),fontSize:i,fontFamily:"Helvetica",color:t(a),backgroundColor:t(r)}}for(var u,n=c(n),d=c(d),h=c(h),p={height:"30px",border:"1px solid "+n.borderColor,fontFamily:h.fontFamily,fontSize:h.fontSize,color:h.color,backgroundColor:d.backgroundColor,fontWeight:"400"},m={border:"1px solid "+n.borderColor,fontFamily:n.fontFamily,fontSize:n.fontSize},h={height:l.rowsheight+"px"},a=0;a<l.columns.records.length;a++)(x=l.columns.records[a]).exportable&&(p[x.datafield]={textAlign:x.align,width:x.width+"px",format:x.cellsformat||""},u=x.cellsformat||"","date"===x.dataType?u="d":"dateTime"===x.dataType?u="D":"time"===x.dataType&&(u="t"),u={textAlign:x.cellsalign,format:u},m[x.datafield]=u);l.altrows&&(h.alternationCount=2,h.alternationStart=0,h.alternationEnd=0,h.alternationIndex0Color=n.color,h.alternationIndex0BackgroundColor=n.backgroundColor,h.alternationIndex1Color=n.color,h.alternationIndex1BackgroundColor="#F5F5F5"),s.style={border:"1px solid "+n.borderColor,borderCollapse:"collapse",header:p,columns:m,rows:h}}}for(var g=i||this.getrows(),f=[],a=0;a<g.length;a++){var v=g[a];if(!v.hidden){for(var x,y={},w=0;w<l.columns.records.length;w++)(x=l.columns.records[w]).exportable&&(y[x.datafield]=v[x.datafield]);f.push(y)}}return!t.groupBy&&l.groups&&(s.groupBy=l.groups.slice(0)),s.exportData(f,e,t.fileName,null)},exportview:function(e,t,i){this._exportData(e,t,i)},exportdata:function(h,e,c,u,t,i,s){if(!D.jqx.dataAdapter.ArrayExporter)throw"jqxGrid: Missing reference to jqxdata.export.js!";if("xlsx"===h)this._exportData("xlsx",e);else{null==c&&(c=!0);var p=this;if(null==u)if(0==(u=this.getrows()).length)throw"No data to export.";this.exporting=!0,this.pageable||(this.loadondemand=!0),this.altrows&&this._renderrows(this.virtualsizeinfo);for(var m,r=this.hScrollInstance.value,g=(this.hScrollInstance.setPosition(0),this._renderrows(this.virtualsizeinfo),null!=t&&t),f={},v={},t=this.host.find(".jqx-grid-cell:first"),n=this.host.find(".jqx-grid-cell-alt:first"),x=(t.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),t.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),n.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),n.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),t.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),t.removeClass(this.toThemeProperty("jqx-fill-state-hover")),n.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),n.removeClass(this.toThemeProperty("jqx-fill-state-hover")),"cell"),y=1,w=1,b=[],o=0;o<this.columns.records.length;o++){var a=this.columns.records[o];if(""!=a.cellclassname)if(a.customCellStyles=new Array,"string"==typeof a.cellclassname)for(var l=0;l<u.length;l++)a.customCellStyles[l]=a.cellclassname;else for(l=0;l<u.length;l++){var d=this.getrowboundindex(l),d=a.cellclassname(d,a.displayfield,u[l][a.displayfield],u[l]);d&&(a.customCellStyles[l]=d)}}var _,q,j,T=new Array,C=null,S=null,k=null,I=(D.each(this.columns.records,function(e){function t(e){if(e.removeClass(p.toThemeProperty("jqx-grid-cell-selected")),e.removeClass(p.toThemeProperty("jqx-fill-state-pressed")),e.removeClass(p.toThemeProperty("jqx-grid-cell-hover")),e.removeClass(p.toThemeProperty("jqx-fill-state-hover")),s.customCellStyles)for(var t in s.customCellStyles)e.removeClass(s.customCellStyles[t])}var i=D(p.table[0].rows[0].cells[e]),s=(1<p.table[0].rows.length&&(r=D(p.table[0].rows[1].cells[e]),k=k||r),S=S||i,this);if(t(i),r&&t(r),null==this.displayfield)return!0;p.showaggregates&&p.getcolumnaggregateddata&&b.push(p.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,u));var r,n,d=p._getexportcolumntype(this),o=(!this.exportable||this.hidden&&!g||(f[this.displayfield]={},f[this.displayfield].text=this.text,f[this.displayfield].width=parseInt(this.width),isNaN(f[this.displayfield].width)&&(f[this.displayfield].width=60),f[this.displayfield].formatString=this.cellsformat,f[this.displayfield].localization=p.gridlocalization,f[this.displayfield].type=d,f[this.displayfield].cellsAlign=this.cellsalign,f[this.displayfield].hidden=!c,f[this.displayfield].displayfield=this.displayfield,T.push(f[this.displayfield])),x="cell"+y,D(this.element));if(null==this.element&&(o=D(this.uielement)),C?s._rendered||(o=C,i=S,r=k,n=p.toTP("jqx-grid-cell")+" "+p.toTP("jqx-item"),i[0].className=n,n+=p.toTP("jqx-grid-cell-alt"),r&&(r[0].className=n)):C=o,m="column"+w,"html"==h||"xls"==h||"pdf"==h){function a(e,t,i,s,r,n,o,a,l){v[e]={},null!=t&&(0==t[0].offsetWidth||0==t[0].offsetHeight?i||(v[e].dataType=d):(v[e]["font-size"]=t.css("font-size"),v[e]["font-weight"]=t.css("font-weight"),v[e]["font-style"]=t.css("font-style"),v[e]["background-color"]=n._getexportcolor(t.css("background-color")),v[e].color=n._getexportcolor(t.css("color")),v[e]["border-color"]=n._getexportcolor(t.css("border-top-color")),i?v[e]["text-align"]=r.align:(v[e]["text-align"]=r.cellsalign,v[e].formatString=r.cellsformat,v[e].dataType=d),"html"!=h&&"pdf"!=h||(v[e]["border-top-width"]=t.css("border-top-width"),v[e]["border-left-width"]=t.css("border-left-width"),v[e]["border-right-width"]=t.css("border-right-width"),v[e]["border-bottom-width"]=t.css("border-bottom-width"),v[e]["border-top-style"]=t.css("border-top-style"),v[e]["border-left-style"]=t.css("border-left-style"),v[e]["border-right-style"]=t.css("border-right-style"),v[e]["border-bottom-style"]=t.css("border-bottom-style"),i?(0==o&&(v[e]["border-left-width"]=t.css("border-right-width")),v[e]["border-top-width"]=t.css("border-right-width"),v[e]["border-bottom-width"]=t.css("border-bottom-width")):0==o&&(v[e]["border-left-width"]=t.css("border-right-width")),v[e].height=t.css("height")),!r.exportable||r.hidden&&!g||(1==a?(f[r.displayfield].customCellStyles||(f[r.displayfield].customCellStyles=new Array),f[r.displayfield].customCellStyles[l]=e):i?f[r.displayfield].style=e:s?f[r.displayfield].cellAltStyle=e:f[r.displayfield].cellStyle=e)))}if(a(m,o,!0,!1,this,p,e),w++,a(x,i,!1,!1,this,p,e),p.altrows&&a(x="cellalt"+y,r,!1,!0,this,p,e),this.customCellStyles){for(var l in s.customCellStyles)i.removeClass(s.customCellStyles[l]);for(var l in s.customCellStyles)i.addClass(s.customCellStyles[l]),a(x+s.customCellStyles[l],i,!1,!1,this,p,e,!0,l),i.removeClass(s.customCellStyles[l])}y++}}),D.each(this.columns.records,function(e){f[this.displayfield]&&(f[this.displayfield].columnsDataFields=T)}),this.showaggregates&&(_=[],q="xls"==h?"_AG":"",j=this.groupable?this.groups.length:0,this.rowdetails&&j++,"checkbox"===this.selectionmode&&j++,0<b.length&&(D.each(this.columns.records,function(e){if(this.aggregates)for(var t,i,s,r=0;r<this.aggregates.length;r++)_[r]||(_[r]={}),_[r]&&(t=p._getaggregatename(this.aggregates[r]),i=p._getaggregatetype(this.aggregates[r]),(s=b[e-j])&&(_[r][this.displayfield]=q+t+": "+s[i]))}),D.each(this.columns.records,function(e){for(var t=0;t<_.length;t++)null==_[t][this.displayfield]&&(_[t][this.displayfield]=q)})),D.each(_,function(){u.push(this)})),this),t=D.jqx.dataAdapter.ArrayExporter(u,f,v);if(null==e)return this._renderrows(this.virtualsizeinfo),n=t.exportTo(h),this.showaggregates&&D.each(_,function(){u.pop(this)}),setTimeout(function(){I.exporting=!1},50),this.hScrollInstance.setPosition(r),this._renderrows(this.virtualsizeinfo),n;t.exportToFile(h,e,i,s),this.showaggregates&&D.each(_,function(){u.pop(this)}),this._renderrows(this.virtualsizeinfo),setTimeout(function(){I.exporting=!1},50),this.hScrollInstance.setPosition(r),this._renderrows(this.virtualsizeinfo)}},_getexportcolor:function(e){e="transparent"==e?"#FFFFFF":e;if(-1==(e=e&&e.toString()?e:"#FFFFFF").toString().indexOf("rgb"))return-1!=e.toString().indexOf("#")&&4==e.toString().length&&(t=e.toString().substring(1,4),e+=t),e;var t=e.split(",");if(-1!=e.toString().indexOf("rgba"))return i=parseInt(t[0].substring(5)),s=parseInt(t[1]),r=parseInt(t[2]),e=parseFloat(t[3].substring(1,4)),n=this._rgbToHex(o={r:i,g:s,b:r}),0==i&&0==s&&0==r&&0==e?"#ffffff":"#"+n;var i,s,r,n,o={r:i=parseInt(t[0].substring(4)),g:s=parseInt(t[1]),b:r=parseInt(t[2].substring(1,4))};return"#"+(n=this._rgbToHex(o))},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){e=parseInt(e).toString(16);return(e=1==e.length?"0"+e:e).toUpperCase()},_getexportcolumntype:function(e){var t="string",i=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(i){var s="";if(D.each(i,function(){if(this.name==e.displayfield)return this.type&&(s=this.type),!1}),s)return s}if(null!=e){if(null==this.dataview.cachedrecords)return t;var r=null;if(this.virtualmode)D.each(this.dataview.cachedrecords,function(){return r=this[e.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return t;if(null!=(r=this.dataview.cachedrecords[0][e.displayfield])&&""==r.toString())return"string"}if(null!=r){if(-1!=e.cellsformat.indexOf("c"))return"number";if(-1!=e.cellsformat.indexOf("n"))return"number";if(-1!=e.cellsformat.indexOf("p"))return"number";if(-1!=e.cellsformat.indexOf("d"))return"date";if(-1!=e.cellsformat.indexOf("y"))return"date";if(-1!=e.cellsformat.indexOf("M"))return"date";if(-1!=e.cellsformat.indexOf("m"))return"date";if(-1!=e.cellsformat.indexOf("t"))return"date";if("boolean"==typeof r)t="boolean";else if(D.jqx.dataFormat.isNumber(r))t="number";else{var i=new Date(r);if("NaN"==i.toString()||"Invalid Date"==i.toString())if(D.jqx.dataFormat){if(null!=(i=D.jqx.dataFormat.tryparsedate(r))){if(i&&i.getFullYear())if(1970==i.getFullYear()&&0==i.getMonth()&&1==i.getDate())return i=new Number(r),isNaN(i)?"string":"number";return"date"}t="string"}else t="string";else t="date"}}}return t}})}(jqxBaseFramework),!function(f){f.extend(f.jqx._jqxGrid.prototype,{_initpager:function(){var c=this.that,e=this.gridlocalization.pagergotopagestring,t=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),i=(this.pagerheight-28)/2;if(this.pagerdiv=this.pagerdiv||f('<div style="line-height: 26px; width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.vScrollBar.jqxScrollBar({thumbSize:0});if("material"===this.pagermode){var s=function(){var e=f("<div style='margin-top: 5px; width: 100%; height: 100%;'></div>"),t=document.createElement("style");t.innerHTML=".jqx-center{text-align:center}.jqx-pagination{display:inline-block}.jqx-pagination span{float:left;text-decoration:none;transition:background-color .3s;border-style:solid;border-width:1px;margin:0 4px;border-radius:100%;width:38px;height:38px;display:flex;justify-content:center;align-content:center;align-items:center;cursor:pointer}",e[0].appendChild(t);for(var i=c.getdatainformation().paginginformation,t=(document.querySelector("#pager"),document.createElement("div")),s=(t.classList.add("jqx-center"),"<span>â®</span>"),r=0;r<i.pagesize;r++)s+="<span>"+i.pagenum+r+"1</span>";t.innerHTML='<div class="jqx-pagination">'+(s+="<span>â¯</span>")+"</div>",e[0].appendChild(t);function d(e,t,i){e.classList.add("jqx-grid-column-header"),"hover"===i&&e.classList[t]("jqx-fill-state-hover"),n&&(e.classList.add("jqx-grid-column-header-"+n),"hover"===i&&e.classList[t]("jqx-fill-state-hover-"+n)),"pressed"===i&&(e.classList[t]("active"),e.classList[t]("jqx-grid-cell-selected"),n&&e.classList[t]("jqx-grid-cell-selected-"+n))}for(var h=t.querySelectorAll("span"),n=c.theme,r=0;r<h.length;r++){var o=h[r];0<r&&r<h.length-1?(o.innerHTML=i.pagenum+r,o.setAttribute("data-page",r)):(0===r&&o.setAttribute("data-page","prev"),r===h.length-1&&o.setAttribute("data-page","next")),r===i.pagenum+1&&d(o,"add","pressed"),d(o,"add","normal"),o.onmouseenter=function(){d(this,"add","hover")},o.onmouseleave=function(){d(this,"remove","hover")},o.onpointerdown=function(){d(this,"add","pressed")},o.onclick=function(){for(var e=0;e<h.length;e++)d(h[e],"remove","pressed");for(var t=this.getAttribute("data-page"),i=c.getdatainformation().paginginformation,s=("prev"===t&&0<i.pagenum?c.gotoprevpage():"next"===t&&i.pagenum<i.pagescount-1?c.gotonextpage():"prev"!==t&&"next"!==t&&(t=parseInt(t),c.gotopage(t-1)),!1),r=null,i=c.getdatainformation().paginginformation,n=0;n<h.length;n++){var o=h[n],a=((t=parseInt(o.getAttribute("data-page")))===i.pagenum+1&&d(o,"add","pressed"),parseInt(h[1].getAttribute("data-page"))-1),a=[a,a+i.pagesize];(i.pagenum<a[0]||i.pagenum>=a[1])&&0<n&&n<h.length-1&&(r?r++:r=Math.max(1,i.pagenum-i.pagesize+n+1),o.innerHTML=r,s=!0)}if(s)for(n=1;n<h.length-1;n++){var o=h[n],l=parseInt(o.innerHTML);l===i.pagenum+1&&d(o,"add","pressed"),o.setAttribute("data-page",l)}return!1}}return e}();this.pagerdiv.children().remove(),this.pagerdiv.append(f(s)),this.pager.append(this.pagerdiv)}else if(this.pagerrenderer)this.pagerdiv.children().remove(),null!=(s=this.pagerrenderer())&&this.pagerdiv.append(f(s)),this.pager.append(this.pagerdiv);else{this.pagerdiv.css("top",i),this.pager.append(this.pagerdiv),this.pagergotoinput=this.pagergotoinput||f('<div style="margin-right: 12px; height: 28px; float: right;"><input style="height:100%; box-sizing: border-box; text-align: right; width: 36px;" type="text"/></div>'),this.pagergoto=this.pagergoto||f('<div style="float: right; margin-right: 7px;"></div>'),this.pagerrightbutton=this.pagerrightbutton||f('<div type="button" style="padding: 0px; margin-right: 3px; height:26px; width: 26px; float: right;"></div>'),this.pagerleftbutton=this.pagerleftbutton||f('<div type="button" style="padding: 0px; margin-right: 3px; height:26px; width: 26px; float: right;"></div>'),this.pagerdetails=this.pagerdetails||f('<div style="margin-right: 7px; float: right;"></div>'),this.pagershowrows=this.pagershowrows||f('<div style="margin-right: 7px; float: right;"></div>'),this.pagerbuttons=f('<div style="margin-right: 3px; float: right;"></div>'),this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList&&(this.pagershowrowscombo.remove(),this.pagershowrowscombo=null),this.pagergotoinput.attr("disabled",this.disabled),this.pagerfirstbutton=f('<div type="button" style="padding: 0px; margin-left: 3px; margin-right: 3px; width: 26px; float: right;"></div>'),this.pagerlastbutton=f('<div type="button" style="padding: 0px; margin-right: 3px; width: 26px; float: right;"></div>'),this.pagershowrowscombo=this.pagershowrowscombo||f('<div id="gridpagerlist" style="margin-right: 7px; float: right;"></div>'),this.pagerdiv.children().remove(),this.pagershowrowscombo[0].id="gridpagerlist"+this.element.id,this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.removeHandler(this.pagerfirstbutton,"mousedown"),this.removeHandler(this.pagerfirstbutton,"mouseup"),this.removeHandler(this.pagerfirstbutton,"click"),this.removeHandler(this.pagerlastbutton,"mousedown"),this.removeHandler(this.pagerlastbutton,"mouseup"),this.removeHandler(this.pagerlastbutton,"click"),this.pagerleftbutton.attr("title",this.gridlocalization.pagerpreviousbuttonstring),this.pagerrightbutton.attr("title",this.gridlocalization.pagernextbuttonstring),"simple"==this.pagermode?(f.jqx.browser.msie&&f.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring),(r=f("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>")).addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(r),(n=f("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>")).addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(n),this.rtl?(this.pagerdiv.append(this.pagerlastbutton),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerfirstbutton)):(this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton)),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),s=this.rtl?"right":"left",this.pagerbuttons.css("float",s),this.pagerlastbutton.css("float",s),this.pagerfirstbutton.css("float",s),this.pagerrightbutton.css("float",s),this.pagerleftbutton.css("float",s),this.pagerdetails.css("float",this.rtl?"left":"right"),this.rtl?(this.pagerdetails.css("margin-left","7px"),this.pagerdetails.css("margin-right","0px")):(this.pagerdetails.css("margin-left","0px"),this.pagerdetails.css("margin-right","7px")),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()):(this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show(),this.rtl||(this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton))),this.pagerrightbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var r,n,o=f("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>"),a=(o.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(o),f("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>")),l=(a.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(a),this.pagerdiv.append(this.pagerdetails),"simple"!=this.pagermode&&(this.rtl?(this.pagerdiv.append(this.pagergoto),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagerdetails),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton)):(this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagergoto))),this.pagesizeoptions);if(!this.pagershowrowscombo.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");this.pagershowrowscombo.jqxDropDownList({rtl:this.rtl,disabled:this.disabled,source:l,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:28,theme:this.theme});for(var d=0,h=0;h<l.length;h++)this.pagesize>=l[h]&&(d=h);this.pagershowrows[0].innerHTML=t,this.pagergoto[0].innerHTML=e,this.updatepagerdetails(),this.pagershowrowscombo.jqxDropDownList({selectedIndex:d}),this.pagerpageinput=this.pagergotoinput.find("input"),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.rtl&&this.pagerpageinput.css("direction","rtl");var u,p,i=6+(this.columns.records||this.columns).length,c=(this.pagerpageinput.attr("tabindex",i++),this.pagershowrowscombo.attr("tabindex",i++),this.pagerleftbutton.attr("tabindex",i++),this.pagerrightbutton.attr("tabindex",+i),this.that),m=(this.removeHandler(this.pagershowrowscombo,"select"),this.addHandler(this.pagershowrowscombo,"select",function(e){var t,i;e.args&&(c.vScrollInstance&&c.vScrollInstance.setPosition(0),null!=c.editcell&&c.endcelledit&&c.endcelledit(c.editcell.row,c.editcell.column,!0,!1),e=e.args.index,t=c.dataview.pagenum*c.dataview.pagesize,e=l[e],i=c.pagesize,c.pagesize=parseInt(e),isNaN(c.pagesize)&&(c.pagesize=10),c.dataview.pagesize=c.pagesize,e=Math.floor(t/c.dataview.pagesize),c.prerenderrequired=!0,c._requiresupdate=!0,c._raiseEvent(10,{pagenum:e,oldpagesize:i,pagesize:c.dataview.pagesize}),c.gotopage(e),c.autoheight&&c._updatesizeonwindowresize&&(c._updatesize(!0),setTimeout(function(){c._updatesize(!0)},500)),setTimeout(function(){c.pagershowrowscombo.focus()},25))}),this.pagergotoinput.find("input")),g=(m.addClass(this.toThemeProperty("jqx-grid-pager-input")),m.addClass(this.toThemeProperty("jqx-rc-all")),this.removeHandler(m,"keydown"),this.removeHandler(m,"change"),this.addHandler(m,"keydown",function(e){return!(65<=e.keyCode&&e.keyCode<=90)&&("13"==e.keyCode?(e=m.val(),e=parseInt(e),isNaN(e)||(c.gotopage(e-1),setTimeout(function(){m.focus()},25)),!1):void 0)}),this.addHandler(m,"change",function(){var e=m.val(),e=parseInt(e);isNaN(e)||(c.gotopage(e-1),setTimeout(function(){m.focus()},25))}),this.addHandler(this.pagerrightbutton,"mouseenter",function(){a.addClass(c.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){o.addClass(c.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){a.removeClass(c.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){o.removeClass(c.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){a.addClass(c.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){a.removeClass(c.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){o.addClass(c.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){o.removeClass(c.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(f(document),"mouseup.pagerbuttons"+this.element.id,function(){a.removeClass(c.toThemeProperty("jqx-icon-arrow-right-selected")),o.removeClass(c.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerrightbutton,"click",function(){c.pagerrightbutton.jqxButton("disabled")||(c.rtl?c.gotoprevpage():c.gotonextpage())}),this.addHandler(this.pagerleftbutton,"click",function(){c.pagerleftbutton.jqxButton("disabled")||(c.rtl?c.gotonextpage():c.gotoprevpage())}),this.addHandler(this.pagerrightbutton,"keydown",function(e){13!==e.keyCode||c.pagerrightbutton.jqxButton("disabled")||(c.rtl?c.gotoprevpage():c.gotonextpage(),setTimeout(function(){c.pagerrightbutton.focus()},25))}),this.addHandler(this.pagerleftbutton,"keydown",function(e){13!==e.keyCode||c.pagerleftbutton.jqxButton("disabled")||(c.rtl?c.gotonextpage():c.gotoprevpage(),setTimeout(function(){c.pagerleftbutton.focus()},25))}),this);"simple"===this.pagermode&&(u=this.pagerfirstbutton,p=this.pagerlastbutton,this.addHandler(p,"mouseenter",function(){n.addClass(g.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(u,"mouseenter",function(){r.addClass(g.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(p,"mouseleave",function(){n.removeClass(g.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(u,"mouseleave",function(){r.removeClass(g.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(p,"mousedown",function(){n.addClass(g.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(u,"mousedown",function(){r.addClass(g.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(p,"mouseup",function(){n.removeClass(g.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(u,"mouseup",function(){r.removeClass(g.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(f(document),"mouseup.pagerbuttons"+name+this.element.id,function(){a.removeClass(g.toThemeProperty("jqx-icon-arrow-right-selected")),o.removeClass(g.toThemeProperty("jqx-icon-arrow-left-selected")),n&&(n.removeClass(g.toThemeProperty("jqx-icon-arrow-last-selected")),r.removeClass(g.toThemeProperty("jqx-icon-arrow-first-selected")))}),this.addHandler(u,"click",function(){var e;u.jqxButton("disabled")||(g.rtl?(e=g.dataview.totalrecords,e=Math.ceil(e/g.pagesize),g.gotopage(e-1)):g.gotopage(0))}),this.addHandler(p,"click",function(){var e;p.jqxButton("disabled")||(g.rtl?g.gotopage(0):(e=g.dataview.totalrecords,e=Math.ceil(e/g.pagesize),g.gotopage(e-1)))}))}this.vScrollBar.jqxScrollBar("refresh"),this._arrange()},_updatepagertheme:function(){var e,t,i,s;null!=this.pagershowrowscombo&&(this.pagershowrowscombo.jqxDropDownList({theme:this.theme}),this.pagerrightbutton.jqxButton({theme:this.theme}),this.pagerleftbutton.jqxButton({theme:this.theme}),this.pagerpageinput.removeClass(),(i=this.pagergotoinput.find("input")).removeClass(),i.addClass(this.toThemeProperty("jqx-grid-pager-input")),i.addClass(this.toThemeProperty("jqx-rc-all")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove(),(e=f("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>")).addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(e),(t=f("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>")).addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(t),"simple"==this.pagermode?(f.jqx.browser.msie&&f.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring),(i=f("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>")).addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(i),(i=f("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>")).addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(i),this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerbuttons.css("float","left"),this.pagerlastbutton.css("float","left"),this.pagerfirstbutton.css("float","left"),this.pagerrightbutton.css("float","left"),this.pagerleftbutton.css("float","left"),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()):(this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show()),(i=function(e,t){e.removeHandler(t,"mouseenter"),e.removeHandler(t,"mouseleave"),e.removeHandler(t,"mousedown"),e.removeHandler(t,"mouseup")})(this,this.pagerrightbutton),i(this,this.pagerleftbutton),s=this.that,this.addHandler(this.pagerrightbutton,"mouseenter",function(){t.addClass(s.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){e.addClass(s.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){t.removeClass(s.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){e.removeClass(s.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){t.addClass(s.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){t.removeClass(s.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){e.addClass(s.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){e.removeClass(s.toThemeProperty("jqx-icon-arrow-left-selected"))}))},gotopage:function(e){if(!((e=-1==(e=null==e?0:e)?0:e)<0)){var t=this.dataview.totalrecords,i=(this.summaryrows&&(t+=this.summaryrows.length),this.pagenum),t=(this._raiseEvent(25,{oldpagenum:this.dataview.pagenum,pagenum:e,pagesize:this.dataview.pagesize}),Math.ceil(t/this.pagesize));if(t<=e&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),(e=0<e?t-1:e)<0&&(e=0)),(this.dataview.pagenum!=e||this._requiresupdate)&&this.pageable){if(this.source.pager&&this.source.pager(e,this.dataview.pagesize,this.dataview.pagenum),this.dataview.pagenum=e,this.virtualmode){if(this.hiddens=new Array,this.expandedgroups=new Array,this.rendergridrows){var t=e*this.dataview.pagesize,s=t+this.dataview.pagesize;if(null!=t&&null!=s)return this.pagerrightbutton&&(this.pagerrightbutton.jqxButton({disabled:!0}),this.pagerleftbutton.jqxButton({disabled:!0}),this.pagershowrowscombo.jqxDropDownList({disabled:!0})),this.pagerfirstbutton&&(this.pagerfirstbutton.jqxButton({disabled:!0}),this.pagerlastbutton.jqxButton({disabled:!0})),this.updatebounddata("pagechanged"),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.updatepagerdetails(),void(this.autosavestate&&this.savestate&&this.savestate())}}else this.dataview.updateview();this._loadrows(),this._updatepageviews(),this.tableheight=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.updatepagerdetails(),(this.autoheight||this.autorowheight)&&this.host.height()-this._gettableheight()+this._pageviews[0].height!=this.host.height()&&(this._arrange(),this._updatepageviews(),this.autorowheight&&this._renderrows(this.virtualsizeinfo)),null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1),this.focus(),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.autosavestate&&this.savestate&&this.savestate()}}},gotoprevpage:function(){var e;0<this.dataview.pagenum?this.gotopage(this.dataview.pagenum-1):"simple"!=this.pagermode&&(e=this.dataview.totalrecords,this.summaryrows&&(e+=this.summaryrows.length),e=Math.ceil(e/this.pagesize),this.gotopage(e-1))},gotonextpage:function(){var e=this.dataview.totalrecords,e=(this.summaryrows&&(e+=this.summaryrows.length),Math.ceil(e/this.pagesize));this.dataview.pagenum<e-1?this.gotopage(this.dataview.pagenum+1):"simple"!=this.pagermode&&this.gotopage(0)},updatepagerdetails:function(){if(null!=this.pagerdetails&&0<this.pagerdetails.length){var e=this.dataview.pagenum*this.pagesize,t=(this.dataview.pagenum+1)*this.pagesize,i=(t>=this.dataview.totalrecords&&(t=this.dataview.totalrecords),this.dataview.totalrecords),s=(this.summaryrows&&(i+=this.summaryrows.length,(this.dataview.pagenum+1)*this.pagesize>this.dataview.totalrecords&&(t=i)),e++,Math.ceil(i/this.dataview.pagesize));if(1<=s&&s--,s++,"simple"!==this.pagermode)this.pagergotoinput.find("input").val(this.dataview.pagenum+1);else{var r="",n=this.pagerbuttonscount,o=(0!=n&&n||(n=5),0);for(this.rtl&&(o=n-1);this.rtl&&0<=o||!this.rtl&&o<n;){var a=1+o,l=this.dataview.pagenum/n,l=(a+=Math.floor(l)*n,this.toTP("jqx-grid-pager-number"));if(l+=" "+this.toTP("jqx-rc-all"),s<a)break;this.rtl||0==o&&n<a&&(r+="<a class='"+l+"' tabindex=-1 href='javascript:;' data-page='"+(-1+a)+"'>...</a>"),this.dataview.pagenum===a-1&&(l+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl?(o===n-1&&(l=this.toTP("jqx-grid-pager-number"),l+=" "+this.toTP("jqx-rc-all"),1+a<=s&&(r+="<a class='"+l+"' tabindex=-1 href='javascript:;' data-page='"+(1+a)+"'>...</a>")),this.dataview.pagenum===a-1&&(l+=" "+this.toTP("jqx-fill-state-pressed")),r+="<a class='"+l+"' tabindex=-1 href='javascript:;' data-page='"+a+"'>"+a+"</a>"):(r+="<a class='"+l+"' tabindex=-1 href='javascript:;' data-page='"+a+"'>"+a+"</a>",o===n-1&&(l=this.toTP("jqx-grid-pager-number"),l+=" "+this.toTP("jqx-rc-all"),1+a<=s&&(r+="<a class='"+l+"' tabindex=-1 href='javascript:;' data-page='"+(1+a)+"'>...</a>"))),this.rtl&&(l=this.toTP("jqx-grid-pager-number"),l+=" "+this.toTP("jqx-rc-all"),0==o&&n<a&&(r+="<a class='"+l+"' tabindex=-1 href='javascript:;' data-page='"+(-1+a)+"'>...</a>")),this.rtl?o--:o++}var d=this.pagerbuttons.find("a"),h=(this.removeHandler(d,"click"),this.removeHandler(d,"mouseenter"),this.removeHandler(d,"mouseleave"),this.pagerbuttons[0].innerHTML=r,this),d=this.pagerbuttons.find("a");h.addHandler(d,"click",function(e){e=f(e.target).attr("data-page");return h.gotopage(parseInt(e)-1),!1}),h.addHandler(d,"mouseenter",function(e){f(e.target).addClass(h.toTP("jqx-fill-state-hover"))}),h.addHandler(d,"mouseleave",function(e){f(e.target).removeClass(h.toTP("jqx-fill-state-hover"))})}this.pagergotoinput.attr("title","1 - "+s),0==t&&t<e&&(e=0),this.rtl?this.pagerdetails[0].innerHTML=i+this.gridlocalization.pagerrangestring+t+"-"+e:this.pagerdetails[0].innerHTML=e+"-"+t+this.gridlocalization.pagerrangestring+i,t<e&&this.gotoprevpage()}},_updatepagedview:function(e,t,i){for(var s=this.that,r=(this.dataview.rows.length!=this.dataview.pagesize&&this.dataview.updateview(),this.dataview.rows.length),n=0;n<r;n++){var o=this.dataview.rows[n].visibleindex,a={index:o,height:this.heights[o],hidden:this.hiddens[o],details:this.details[o]};null==this.heights[o]&&(this.heights[o]=this.rowsheight,a.height=this.rowsheight),null==this.hiddens[o]&&(this.hiddens[o]=!1,a.hidden=!1),null==this.details[o]&&(this.details[o]=null),a.height!=s.rowsheight&&(t=(t-=s.rowsheight)+a.height),a.hidden?t-=a.height:(i+=a.height,o=0,this.rowdetails&&a.details&&a.details.rowdetails&&!a.details.rowdetailshidden&&(i+=o=a.details.rowdetailsheight,t+=o))}return this._pageviews[0]={top:0,height:i},t}})}(jqxBaseFramework),!function(u){u.extend(u.jqx._jqxGrid.prototype,{_calculateaggregate:function(e,t,i,s){var r=e.aggregates;if(r=r||t){for(var n=new Array,o=0;o<r.length;o++)"count"!=r[o]&&(n[n.length]=e.cellsformat);if(this.source&&this.source.getAggregatedData)return null==s&&(s=this.getrows()),this.virtualmode&&(s=new Array,u.each(this.source._source.records,function(){s.push(this)})),null==i||1==i?this.source.getAggregatedData([{name:e.datafield,aggregates:r,formatStrings:n}],this.gridlocalization,s):this.source.getAggregatedData([{name:e.datafield,aggregates:r}],this.gridlocalization,s)}return null},getcolumnaggregateddata:function(e,t,i,s){var r=this.getcolumn(e),i=null!=i&&0!=i&&i;if(null==t)return"";var n=r.aggregates,t=(r.aggregates=null,this._calculateaggregate(r,t,i,s)),i={};return t&&(i=t[e]),r.aggregates=n,i},refreshaggregates:function(){this._updatecolumnsaggregates()},renderaggregates:function(){this._updateaggregates()},_updatecolumnaggregates:function(e,t,i){var s,r,n=this;if(!t)return i.children().remove(),i.html(""),void(e.aggregatesrenderer&&(s={},e.aggregates&&(s=this.getcolumnaggregateddata(e.datafield,e.aggregates)),r=e.aggregatesrenderer({},e,i,null),i.html(r)));i.children().remove(),i.html(""),e.aggregatesrenderer?t&&(r=e.aggregatesrenderer(t[e.datafield],e,i,this.getcolumnaggregateddata(e.datafield,t[e.datafield])),i.html(r)):u.each(t,function(){for(s in this){var e=u('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),t=s,t=n._getaggregatename(t);e.html(t+":"+this[s]),n.rtl&&e.addClass(n.toThemeProperty("jqx-rtl")),i.append(e)}})},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t,i=e;for(t in e){i=t;break}return i},_getaggregatename:function(e){var t=e;switch(e){case"min":t="Min";break;case"max":t="Max";break;case"count":t="Count";break;case"avg":t="Avg";break;case"product":t="Product";break;case"var":t="Var";break;case"stdevp":t="StDevP";break;case"stdev":t="StDev";break;case"varp":t="VarP";case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var i in e){t=i;break}return t},_updatecolumnsaggregates:function(){var e=this.getrows(),t=this.columns.records.length;if(null!=this.statusbar[0].cells)for(var i=0;i<t;i++){var s=u(this.statusbar[0].cells[i]),r=this.columns.records[i],n=this._calculateaggregate(r,null,!0,e);this._updatecolumnaggregates(r,n,s)}},_updateaggregates:function(){for(var e=u('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),t=0,i=this.columns.records.length,s=this.toThemeProperty("jqx-grid-cell"),r=(this.rtl&&(s+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),t=-1),s+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),i+10),n=new Array,o=(this.statusbar[0].cells=n,this.getrows()),a=0;a<i;a++){var l=this.columns.records[a],d=this._calculateaggregate(l,l.aggregates,!0,o),h=l.width,c=((h=h<l.minwidth?l.minwidth:h)>l.maxwidth&&(h=l.maxwidth),s),c=(l.cellsalign&&(c+=" "+this.toThemeProperty("jqx-"+l.cellsalign+"-align")),u('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+c+'"></div>'));e.append(c),c.css("left",t),this.rtl?c.css("z-index",r++):c.css("z-index",r--),c.width(h),c[0].left=t,l.hidden&&l.hideable?c.css("display","none"):t+=h,n[n.length]=c[0],this._updatecolumnaggregates(l,d,c)}u.jqx.browser.msie&&u.jqx.browser.version<8&&e.css("z-index",r--),e.width(parseFloat(t)+2),e.height(this.statusbarheight),this.statusbar.children().remove(),this.statusbar.append(e),this.statusbar.removeClass(this.toThemeProperty("jqx-widget-header")),this.statusbar.addClass(s),this.statusbar.css("border-bottom-color","transparent"),this.statusbar.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll(),this._arrange()}})}(jqxBaseFramework),!function(l){l.jqx.jqxWidget("jqxInput","",{}),l.extend(l.jqx._jqxInput.prototype,{defineInstance:function(){var e={disabled:!1,filter:this._filter,sort:this._sort,highlight:this._highlight,dropDownWidth:null,renderer:this._renderer,opened:!1,$popup:document.createElement("ul"),source:[],roundedCorners:!0,searchMode:"default",placeHolder:"",width:null,height:null,value:"",rtl:!1,enableBrowserBoundsDetection:!0,hint:!0,displayMember:"",valueMember:"",events:["select","open","close","change"],popupZIndex:1e3,items:8,minLength:1,maxLength:null};return this===l.jqx._jqxInput.prototype||l.extend(!0,this,e),e},createInstance:function(){"none"!==this.host.css("display")&&!1!==document.body.contains(this.element)||(this._initiallyHidden=!0),this._popupHelper=l(this.$popup),this.render()},render:function(){var i=this;if(this.input=this.element,i.isMaterialized()&&this.input instanceof HTMLInputElement){var s=this.host.children(),e=(l.each(s,function(e){var t="jqx-input-group-addon";l(this).removeClass(i.toThemeProperty("jqx-rc-all")),0===e&&(t+=" jqx-rc-l"),e===s.length-1&&(t+=" jqx-rc-r"),this!==i.element&&(t+=" jqx-fill-state-normal"),this.className+=" "+i.toThemeProperty(t)}),l("<div></div>")),t=(e.addClass(i.toThemeProperty("jqx-input-group")),this.host.after(e),this.element),r=this.host.data(),n=(e.append(t),l("<label></label")),o=(this.hint&&(n[0].innerHTML=this.placeHolder),n.addClass(i.toThemeProperty("jqx-input-label")),e.append(n),l("<span></span>"));e.append(o),o.addClass(i.toThemeProperty("jqx-input-bar")),e[0].id=this.element.id,this.element.removeAttribute("id"),e[0].style.cssText=this.element.style.cssText,0<=this.element.className.indexOf("underlined")&&e.addClass("underlined"),i.input=i.element,this.input instanceof HTMLInputElement||(this.input=this.host.find("input"),0<this.input.length&&(this.input=this.input[0]),l(this.input).addClass(this.toThemeProperty("jqx-input-widget"))),this.label=n,this.bar=o,this.element.style.cssText="",this.host=e,this.element=e[0],this.host.data(r),(i=this).template&&(i.bar.addClass(i.toThemeProperty("jqx-"+i.template)),i.label.addClass(i.toThemeProperty("jqx-"+i.template))),0<s.length&&(i._hasAddons=!0)}else if("textarea"===this.element.nodeName.toLowerCase())this.element.style.overflow="auto";else if("div"===this.element.nodeName.toLowerCase()){this.baseHost=this.element;var t=i.element.getElementsByTagName("input"),a=!1;if(l.each(t,function(){var e=this.type;if(null==e||"text"===e||"textarea"===e)return t=l(this),!(a=!0)}),!a)throw new Error("jqxInput: Missing Text Input in the Input Group");0<t.length&&(this.baseHost=l(this.element),i.baseElement=i.element,r=this.host.data(),this.host=t,this.element=t[0],i.input=t[0],this.host.data(r),i.baseElement.className+=" "+i.toThemeProperty("jqx-widget jqx-rc-all jqx-input-group"),s=this.baseHost.children(),l.each(s,function(e){var t="jqx-input-group-addon";l(this).removeClass(i.toThemeProperty("jqx-rc-all")),0===e&&(t+=" jqx-rc-l"),e===s.length-1&&(t+=" jqx-rc-r"),this!==i.element&&(t+=" jqx-fill-state-normal"),this.className+=" "+i.toThemeProperty(t)}))}this.addHandlers(),this.rtl&&(i.element.className+=" "+i.toThemeProperty("jqx-rtl")),i.element.setAttribute("role","textbox"),l.jqx.aria(this,"aria-autocomplete","both"),l.jqx.aria(this,"aria-disabled",this.disabled),l.jqx.aria(this,"aria-readonly",!1),l.jqx.aria(this,"aria-multiline",!1),this.source&&this.source.length&&l.jqx.aria(this,"aria-haspopup",!0),""!==this.value&&(this.input.value=this.value),this._oldsource=this.source,this._updateSource()},_updateSource:function(){function e(e){for(var t=[],i=0;i<e.length;i++)t[i]=r(e[i]);return t}var t,s=this,r=function(e){return void 0===e?null:"string"==typeof e||e instanceof String?{label:e,value:e}:"string"!=typeof e&&e instanceof String==!1?((i=t="")!==s.displayMember&&void 0!==s.displayMember&&e[s.displayMember]&&(t=e[s.displayMember]),""!==s.valueMember&&void 0!==s.valueMember&&(i=e[s.valueMember]),{label:t=""===t?e.label:t,value:i=""===i?e.value:i}):e;var t,i};if(this.source&&this.source._source)return this.adapter=this.source,null!=this.adapter._source.localdata?(this.adapter.unbindBindingUpdate(this.element.id),this.adapter.bindBindingUpdate(this.element.id,function(){s.source=e(s.adapter.records)})):(t={},this.adapter._options.data?l.extend(s.adapter._options.data,t):(this.source._source.data&&l.extend(t,this.source._source.data),this.adapter._options.data=t),this.adapter.unbindDownloadComplete(this.element.id),this.adapter.bindDownloadComplete(this.element.id,function(){s.source=e(s.adapter.records)})),void this.source.dataBind();l.isFunction(this.source)||(this.source=e(this.source))},_refreshClasses:function(e){var e=e?"addClass":"removeClass",t="jqx-widget-content jqx-input-widget jqx-input jqx-widget",i="jqx-popup jqx-input-popup jqx-menu jqx-menu-vertical jqx-menu-dropdown jqx-widget jqx-widget-content";l.jqx.browser.msie&&(i+=" jqx-noshadow"),this.roundedCorners&&(t+=" jqx-rc-all",i+=" jqx-rc-all"),this.disabled?t+=" jqx-fill-state-disabled":this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host[e](this.toThemeProperty(t)),this._popupHelper[e](this.toThemeProperty(i))},selectAll:function(){var t=this.host;t[0]instanceof HTMLInputElement==!1&&(t=l(this.input)),setTimeout(function(){var e;"selectionStart"in t[0]?(t[0].focus(),t[0].setSelectionRange(0,t[0].value.length)):((e=t[0].createTextRange()).collapse(!0),e.moveEnd("character",t[0].value.length),e.moveStart("character",0),e.select())},10)},selectLast:function(){var e=this.host;e[0]instanceof HTMLInputElement==!1&&(e=l(this.input)),this.selectStart(e[0].value.length)},selectFirst:function(){this.selectStart(0)},selectStart:function(t){var i=this.host;i[0]instanceof HTMLInputElement==!1&&(i=l(this.input)),setTimeout(function(){var e;"selectionStart"in i[0]?(i[0].focus(),i[0].setSelectionRange(t,t)):((e=i[0].createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select())},10)},focus:function(){try{var e=this;e.element.focus(),setTimeout(function(){e.element.focus()},25)}catch(e){}},resize:function(e,t){this.width=e,this.height=t,this.refresh()},refresh:function(){var t,i,e,s;this._refreshClasses(!1),this._refreshClasses(!0),this.baseHost?(null!=this.width&&-1!=this.width.toString().indexOf("px")?this.baseElement.style.width=parseInt(this.width)+"px":null==this.width||isNaN(this.width)||(this.baseElement.style.width=this.width+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.baseElement.style.height=parseInt(this.height)+"px":null==this.height||isNaN(this.height)||(this.baseElement.style.height=this.height+"px"),i=l.jqx.browser.msie&&l.jqx.browser.version<9,e=0,l.each((t=this).baseHost.children(),function(){this.style.height="100%",this!==t.element&&(e+=l(this).outerWidth())}),t._addonsWidth=e,i?(s=Math.max(0,t.baseElement.offsetHeight-2),t.element.style.width=Math.max(0,t.baseElement.offsetWidth-e-1)+"px",t.element.style.minHeight=s+"px",t.element.style.lineHeight=s+"px"):t.element.style.width="calc(100% - "+e+"px)",l.jqx.utilities.resize(t.baseHost,function(){var e;i&&"string"==typeof t.width&&-1!==t.width.indexOf("%")&&!t._initiallyHidden?t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px":t._initiallyHidden&&(t._addonsWidth=t._getAddonsWidth(),i?(t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px",e=t.baseElement.offsetHeight-2,t.element.style.minHeight=e+"px",t.element.style.lineHeight=e+"px"):t.element.style.width="calc(100% - "+t._addonsWidth+"px)",t._initiallyHidden=!1)})):(null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width)+"px":null==this.width||isNaN(this.width)?this.element.style.width=this.width:this.element.style.width=this.width+"px",null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height)+"px":null==this.height||isNaN(this.height)?this.element.style.height=this.height:this.element.style.height=this.height+"px",this._hasAddons&&(this._addonsWidth=35,this.input.style.width="calc(100% - "+this._addonsWidth+"px)")),this.disabled?this.element.setAttribute("disabled",!0):this.element.removeAttribute("disabled"),this.maxLength&&(this.element.setAttribute("maxlength",this.maxLength),this.input&&this.input.setAttribute("maxlength",this.maxLength)),this.element.getAttribute("placeholder")||this._refreshPlaceHolder()},_refreshPlaceHolder:function(){var e=this;e.isMaterialized()&&e.hint||("placeholder"in this.input&&!(l.jqx.browser.msie&&l.jqx.browser.version<9)?e.input.setAttribute("placeHolder",e.placeHolder):""===e.input.value&&(e.input.value=e.placeHolder)),e.hint&&(""!==e.input.value?e.element.setAttribute("hint",!0):e.element.removeAttribute("hint"),e.label&&(e.label.innerHTML=e.placeHolder))},destroy:function(){this.removeHandlers(),(this.baseHost||this.host).remove(),this.$popup&&this._popupHelper.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2===Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(e,t,i,s){if("width"!==t||s===i)return"placeHolder"===t?("placeholder"in e.element&&!(l.jqx.browser.msie&&l.jqx.browser.version<9)||e.input.value!==i||(e.input.value=""),void e._refreshPlaceHolder()):void(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2===Object.keys(e.batchUpdate).length||("theme"===t&&l.jqx.utilities.setTheme(i,s,e.host),"opened"===t?s?e.open():e.close():("source"===t&&(e._oldsource=s,e._updateSource()),"displayMember"!==t&&"valueMember"!==t||(e.source=e._oldsource,e._updateSource()),"disabled"===t&&l.jqx.aria(e,"aria-disabled",e.disabled),"value"===t&&(e.input.value=s,e._refreshPlaceHolder()),e.refresh())));e.baseHost?(e.baseElement.style.width=e._toPx(s),l.jqx.browser.msie&&l.jqx.browser.version<9&&(e.element.style.width=e.baseElement.offsetWidth-e._addonsWidth-1+"px")):e.element.style.width=e._toPx(s)},select:function(e,t,i){var s=this._find("jqx-fill-state-pressed",this._popupHelper),r=s.getAttribute("data-value"),s=s.getAttribute("data-name");return this.input.value=this.renderer(s,this.input.value),this.selectedItem={label:s,value:r},this.element.setAttribute("data-value",r),this.element.setAttribute("data-label",s),this._raiseEvent("0",{item:{label:s,value:r},label:s,value:r}),this._raiseEvent("3",{type:i,item:{label:s,value:r},label:s,value:r}),this.value=s,this.close()},val:function(e){return 0===arguments.length||null!=e&&"object"==typeof e&&!e.label&&!e.value?""!==this.displayMember&&""!==this.valueMember&&this.selectedItem?""===this.input.value?"":this.selectedItem:this.input.value:(e&&e.label?(this.selectedItem={label:e.label,value:e.value},this.element.setAttribute("data-value",e.value),this.element.setAttribute("data-label",e.label),this.value=e,this.input.value=e.label,this.input&&(this.input.value=e.label)):(this.value=e,this.input.value=e,this.element.setAttribute("data-value",e),this.element.setAttribute("data-label",e),e&&e.label?this._raiseEvent("3",{type:null,item:{label:e.label,value:e.value},label:e.label,value:e.value}):this._raiseEvent("3",{type:null,item:{label:e,value:e},label:e,value:e}),this._refreshPlaceHolder()),this.input.value)},_raiseEvent:function(e,t){e=this.events[e],(t=void 0===t?{owner:null}:t).owner=this,e=new l.Event(e);return e.owner=this,e.args=t,e.preventDefault&&e.preventDefault(),this.host.trigger(e)},_renderer:function(e){return e},open:function(){var e,t,i,s,r;if(!l.jqx.isHidden(this.host))return e=l.extend({},this.host.coord(!0),{height:this.element.offsetHeight}),this.$popup.parentNode!==document.body&&(i=this.element.id+"_popup",this.$popup.id=i,l.jqx.aria(this,"aria-owns",i),document.body.appendChild(this.$popup)),this.$popup.style.position="absolute",this.$popup.style.zIndex=this.popupZIndex,this.$popup.style.top=this._toPx(e.top+e.height),this.$popup.style.left=this._toPx(e.left),this.$popup.style.display="block",t=0,i=this._popupHelper.children(),l.each(i,function(){t+=l(this).outerHeight()+1}),this.$popup.style.height=this._toPx(t),this.enableBrowserBoundsDetection&&(i=l(window).height()+l(window).scrollTop(),r=l(this.$popup).offset(),s=l(this.$popup).outerHeight(),r.top+s>i&&(r=e.top+e.height-s-this.host.height(),this.$popup.style.top=(r=r<0?0:r)+"px")),this.opened=!0,this._raiseEvent("1",{popup:this.$popup}),l.jqx.aria(this,"aria-expanded",!0),this},close:function(){if(this.opened)return this.$popup.style.display="none",this.opened=!1,this._raiseEvent("2",{popup:this.$popup}),l.jqx.aria(this,"aria-expanded",!1),this._refreshPlaceHolder(),this},suggest:function(){var e;return this.query=this.input.value,!this.query||this.query.length<this.minLength?this.opened?this.close():this:(e=l.isFunction(this.source)?this.source(this.query,l.proxy(this.load,this)):this.source)?this.load(e):this},load:function(e){for(var t=[],i=0;i<e.length;i++){var s=e[i];this.filter(s)&&t.push(s)}return(t=this.sort(t)).length?this._render(t.slice(0,this.items)).open():this.opened?this.close():this},_filter:function(e){var t=this.query,i=e;switch(null!=e.label?i=e.label:this.displayMember&&(i=e[this.displayMember]),this.searchMode){case"none":break;default:return l.jqx.string.containsIgnoreCase(i,t);case"contains":return l.jqx.string.contains(i,t);case"equals":return l.jqx.string.equals(i,t);case"equalsignorecase":return l.jqx.string.equalsIgnoreCase(i,t);case"startswith":return l.jqx.string.startsWith(i,t);case"startswithignorecase":return l.jqx.string.startsWithIgnoreCase(i,t);case"endswith":return l.jqx.string.endsWith(i,t);case"endswithignorecase":return l.jqx.string.endsWithIgnoreCase(i,t)}},_sort:function(e){for(var t=[],i=[],s=[],r=0;r<e.length;r++){var n=e[r],o=n;n.label?o=n.label:this.displayMember&&(o=n[this.displayMember]),0===o.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())?t.push(n):0<=o.toString().indexOf(this.query)?i.push(n):0<=o.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())&&s.push(n)}return t.concat(i,s)},_highlight:function(e){var t=(t=this.query).replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t=new RegExp("("+t+")","ig");return e.replace(t,function(e,t){return"<b>"+t+"</b>"})},escapeHTML:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,function(e){return t[e]})},sanitizeHTML:function(e){var t=this,i=new RegExp("<s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)[^>]*>(.*?)<s*/s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)>","ig");return String(e).replace(i,function(e){return t.escapeHTML(e)})},escape_HTML:function(e){return e&&(0<=e.indexOf("onclick")||0<=e.indexOf("onload")||0<=e.indexOf("onerror"))?this.escapeHTML(e):this.sanitizeHTML(e)},_render:function(e){var a=this,t=a._popupHelper.children();if(0<t.length)for(var i=0;i<t.length;i++)l(t[i]).remove();for(var s=function(e,t){var i,s=e,r=document.createElement("li"),n=document.createElement("a"),o=(n.setAttribute("href","#"),r.appendChild(n),o=void 0!==e.value&&null!==e.value?(i=void 0!==e.label&&null!==e.label?e.label:e.value,a.escape_HTML(e.value)):void 0!==e.label&&null!==e.label?(i=e.label,e.label):void 0!==a.displayMember&&""!==a.displayMember?(i=e[a.displayMember],e[a.valueMember]):i=e,r.setAttribute("data-value",o),r.setAttribute("data-name",i),e.label?s=e.label:a.displayMember&&(s=e[a.displayMember]),n.innerHTML=a.highlight(s),"");a.rtl&&(o=" jqx-rtl"),0===t&&(o+=" jqx-fill-state-pressed"),r.className=a.toThemeProperty("jqx-item jqx-menu-item jqx-rc-all"+o),a.$popup.appendChild(r),a.addHandler(r,"mouseenter",function(e){a.mouseenter(e)})},r=e,n=0;n<r.length;n++)s(r[n],n);return this.dropDownWidth?this.$popup.style.width=a._toPx(a.dropDownWidth):this.$popup.style.width=a._toPx(a.element.offsetWidth-6),this},next:function(){var e=this._find("jqx-fill-state-pressed",this._popupHelper),t=e.nextSibling;l(e).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),(t=t||this.$popup.firstChild).className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},prev:function(){var e=this._find("jqx-fill-state-pressed",this._popupHelper),t=e.previousSibling;l(e).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),(t=t||this.$popup.lastChild).className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},addHandlers:function(){var i=this,e=".jqxInput"+i.element.id;i.addHandler(i.host,"focus"+e,function(){i.onFocus()}),i.addHandler(i.host,"blur"+e,function(){i.onBlur()}),i.isMaterialized()&&this.input instanceof HTMLInputElement&&i.addHandler(i.input,"blur"+e,function(){i.onBlur()}),i.addHandler(i.host,"change"+e,function(e){if(i.opened&&!e.args)return e.stopPropagation(),e.preventDefault(),void e.stopImmediatePropagation();var t;e.args||(e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation(),e=(e=i.val())&&e.label?(t=e.label,e.val):t=e,i._raiseEvent("3",{type:"keyboard",item:{label:t,value:e},label:t,value:e}),i.value=t,i._refreshPlaceHolder())}),i.addHandler(i.host,"keypress"+e,function(e){i.keypress(e)}),i.addHandler(i.host,"keyup"+e,function(e){i.keyup(e)}),i.addHandler(i.host,"keydown"+e,function(e){i.keydown(e)}),i.addHandler(i.$popup,"pointerdown"+e,function(e){i.click(e)})},removeHandlers:function(){var e=this,t=".jqxInput"+e.element.id;e.removeHandler(e.host,"change"+t),e.removeHandler(e.host,"focus"+t),e.removeHandler(e.host,"blur"+t),e.removeHandler(e.host,"keypress"+t),e.removeHandler(e.host,"keyup"+t),e.removeHandler(e.host,"keydown"+t),e.removeHandler(e.$popup,"pointerdown"+t)},move:function(e){if(this.opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.shiftKey||(e.preventDefault(),this.prev());break;case 40:e.shiftKey||(e.preventDefault(),this.next())}e.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=-1!==[40,38,9,13,27].indexOf(e.keyCode),this.move(e)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:e.stopPropagation(),e.preventDefault();break;case 9:case 13:if(!this.opened)return;this.select(e,this,"keyboard"),e.stopPropagation(),e.preventDefault();break;case 27:if(!this.opened)return;this.close(),e.stopPropagation(),e.preventDefault();break;default:var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.suggest()},300)}},clear:function(){this.val("")},onBlur:function(){var e=this;setTimeout(function(){e.close()},150),e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus")),e._refreshPlaceHolder()},onFocus:function(){this.element.className+=" "+this.toThemeProperty("jqx-fill-state-focus"),this._refreshPlaceHolder()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(e,this,"mouse")},mouseenter:function(e){l(this._find("jqx-fill-state-pressed",this._popupHelper)).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),e.currentTarget.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},_toPx:function(e){return"number"==typeof e?e+"px":e},_find:function(e,t){for(var i=t.children(),s=0;s<i.length;s++){var r=i[s];if(-1!==r.className.indexOf(e))return r}},_getAddonsWidth:function(){for(var e=this.baseHost.children(),t=0,i=0;i<e.length;i++)e[i]!==this.element&&(t+=l(e[i]).outerWidth());return t}})}(jqxBaseFramework),!function(g){g.jqx.jqxWidget("jqxKanban","",{}),g.extend(g.jqx._jqxKanban.prototype,{defineInstance:function(){var e={animationDelay:100,columnRenderer:null,columns:null,connectWith:null,headerWidth:30,headerHeight:30,height:400,handle:null,itemRenderer:null,ready:null,resources:null,rtl:!1,source:null,template:"<div class='jqx-kanban-item' id=''><div class='jqx-kanban-item-color-status'></div><div class='jqx-kanban-item-avatar'></div><div class='jqx-kanban-item-text'></div><div class='jqx-kanban-item-footer'></div></div>",templateContent:{id:0,status:"work",text:"New text",content:"New content",tags:"New, tags",color:"green",resourceId:0,className:""},width:600,verticalTextOrientation:"topToBottom",_kanbanId:null,_dropKanbanId:null,_connectWith:null,_kanbanColumns:null,_selectedItemId:null,_selectedItemValues:null,_draggedItemId:null,_draggedItemValues:null,_selectedColumn:null,_source:null,_resourcesLength:null,_items:[],_ie8:g.jqx.browser.msie&&8==g.jqx.browser.version,_ie7:g.jqx.browser.msie&&g.jqx.browser.version<8,_parentsTag:null,_columns:[],_collapsedColumns:0,_expandedColumns:null,_columnBorders:[1,1,1,1],_css_color_names:["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","Darkorange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],_clearing:"<div class='jqx-kanban-clearing'></div>",_commonItem:{id:null,name:"no name",image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURZSUlJWVlZaWlpeXl5iYmJmZmZubm5ycnJ2dnZ6enp+fn6CgoKGhoaKioqOjo6SkpKWlpaampqenp6ioqKmpqaqqqqurq6ysrK2tra6urq+vr7CwsLGxsbKysrOzs7S0tLW1tba2tre3t7i4uLm5ubq6uru7u7y8vL29vb+/v8DAwMHBwcLCwsPDw8TExMXFxcbGxsfHx8jIyMnJycrKysvLy8zMzM3Nzc7Ozs/Pz9DQ0NHR0dLS0tPT09TU1NXV1dbW1tfX19jY2NnZ2dra2tvb29zc3N3d3d7e3uDg4OHh4eLi4uPj4+Tk5OXl5ebm5ufn5+jo6Onp6erq6uvr6+zs7O3t7e7u7u/v7/Dw8PHx8fLy8vPz8/T09PX19fb29vf39/j4+Pn5+fr6+vv7+/z8/P39/f///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACvUOQQAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNvyMY98AABbSSURBVHherVsHQ9tIE+XO2NimF9N7KAklhN6SkARS6IRqwGBblsn//wffe29Wsh1M4L67t9JqJa/mzcyuGjPU/HoOD8VikWvBf3goPjz88h6KaGHBns8jWIAC+6Djwy8cKWDVYdROzFN4VoGHX6Goou9THEiKRb/gefl8LpfL5nJ5wPO8gu+THuRAAf0Ek/I0nlPASTEvQA3foxp+/j7z4/uryXhdJBL/O9Y7NvPlayabL1gv6FFgL3fun/ECBegAktPxHjTxvfzJfFcsEklEk3/V1UaidbFoNBaNdy4e5TyQFwvUgSMmOEFP4QVDIC/8gmex+L6XvVptjcYT8URdtLY2Fk0kY7V1ddF4XTISaWidvcxDBSyeKf3vh4BTinI0sQoFL3v0irTxZF0ykUhgE48kkpFEYzQWT2InmRw8y3uYDBqv/0IB2GHCfEyronc4HI/X1ycbkrAaCiTjiWR9MpHEUl9fF4MKiYbY6Ak0kNK8Iv79EACmgV+4mydVUpyNdfVJq7TfUJ+ob0jWNzYkmpOJdxnOhZe54EWTsFjEtpD/0d6UbKivr29oaMBar6ZqHWpobKhvbGzEtrG+70uOGnBGOjlP4lkF8rjt4LIqFLJTTU3JDogXmpqaWKOw1gbHUDU3NjfXJ7teZ3VB/AdzgMOJCeinO5ubm5uSEC80NUMFoLmlGQsrAa2m5ra2pobmvhsPV+1/Mwlx4/Ev+9oaG1NNrY3iaW1tBZkjNegQNm0tLW1trW3tjf3pAhT490NQ9DH+3m1/S3tbcyuMA1GINsA10W5Fu72tvaOjDaq0drX13PCu7OQ8iWcVKBR/+d5NT3tbR3t7a6q9pb0dFGi3ocYmgPa439aR6kh1ptqbO7p6b3FPdHKexLMKAN7NUHtXZ2tHV0dXW1cHCIAUoGYq1WlgAwfZ7OruTHX3tHeOXnv/TgGy4zmcfd3ek+rshWDI78IGS5e2bseOiFrAtrsr1d2bms1Kg2Akqg1IFQXQDR1Jzgup6N8vdPa19kFkd7fJ7+7pwQ4qrKgq0dvTo6W7p7ert2f2vmBmsOINzXGUUFUBquBOwLNvt6e/fQhUBpJWolelr9eKVURfd3/X6DdP7wf/WAGBV6BfyIz3dPf3dzuhWPr6y8oj9OsYfuof6O3v6568xqsSZZlR9G0lHisgZj79UeMlJ7/eNzgAof0D/QMDA/2PgIPlCPcHuQ73DX7Am5IEOjiWEI8UYB/effmCVfSK3uXAcB/kDEHgIIUSEv4bhhysOTg4PDg8NDQyPDR2AXY9muAFSHc0IaoqgNsv3Y8B8PML/cMDgyMDFDoEkUODwy/DyPDw6PDQyMjwEsaAxjg3OJoQ1eYAX0PdHbhwChkD46OwBxgdhcCRCoz+XoBXXInR4dGRV69OYQrZ5YAXKUB20mMK5LfHXg2NjA+PjjmhJvnPGBvDMjrO1sTY+OSWx7dJWk84khBVFLAJAx1wD8y9GpNEiiTGx8afx8TE+IQ1uI5NZPG2/NQIVFHA2OWFh8IJiSWMMLGVmKjE5OSka3BhNTlxjFd5J9BxlKHaJDQFOAbemokIxGrvCbxWUQtgrZ3Jqcn3VEAavOQ+4MyHAije9JSEBSjbIYvhTUWxA4YprK+nX7/FW9XLFbCOTodrKUAxwhQlPgP0mSKmCTbeTM1e6z1dCjzC7wqIHSsc8eAX9mcljJAw1CrTM08VABtt1ZqZfTMzu89vNpr0vAJmvl4nMQTethOJGvbMzsxgwVq1PIF3+OWLJ6tkmCMK8UgBeZ89cRv0PpXLrc7xtgp4dA5Ac25udn72k2YhhT6jADuYAtzCA0vlDJVklO5ArhDvKjA3Nz//7t1KXp9KlPvoJbWKAqSnvlBgYW72N4kh5p/CAgt+1nZ+YWFhfn6RX6xOsqMK8UgBMsMLbPieJFUHJAuLlWWxrK0CLC2UPPAyBZwPfO/dMmUslaQuLi0tVpTHWLbiOrDH2pJ9rUquowrxeAgcpMA8TjeSkMzJd2XlEZYd3C4PrGEOmE+fUcCYHaTACgiXVyqKbVZWXXkEHlxbDcva+trKyga+E82pEOzIAjxSQJ1s63tbK6slWVZss762LuHrADeVZX1jfcO11zbX11c/u691k+3YHKoqoBUPI+8bRBkJwC2bku/KJrFBqFUV7zd2TQFnnGNzKFOAP5YU0F9kvm+8d1Kq4f1T+PABq2u+f7/5cV/PY8nFxtE5PKGAKt+/oIxNFYhiCfYCfCjHR8A1Q3z88HHrouDuhNTixQrgxdTPQaYTFAISWUJslZVPW8CnCuDA53s+2v+BAuwmnxW97VAcRROfysunz4/gun9yjS+fP2/t4O3e5P5DBfBdekiRKp+/qLg9dwz4UgXbXLdRo9re/nxUKPIvyf9EAfoLc+DBvwGpQbIAii8rPBKUnW0WVWHhknYKQDgZHJ3DIwUAU4DfJUXvGyRWYucP+IqiqlR2vu7m+IdbKSA4OodqCtANcD/eyh8KxxCx89UqbSrAY1+/VRRWxPfvbGPz/di+C9wA/EGBcg3MY7gVeDu7Oz92vv6QVAilREEsxPey8gPHUX4Qu1i+f9v7tntvf7eWQIh1ZAGeUsCh6J/u/IBAMGol0HIFJLsBsFMV30/dHwzh1H+qAHUuZkGy95R0w164DVoAdrAc/jjI0QFYnAKOK8QfPYBTioX0t30JlPg9bIS9vX2Vx3DH9ncP9nf3D/Yv8Z0vQf9UAZrPyveOacze/sEBxO1rrcQB4JrA4cEhDxxgc3iwd4ABwAhoCkqB30fgGQW4LWT3Dg/3Dg4ByTUccT1i/Rh2+Pjw6OTgOIOXaz5Z+X0qkY4rxDOTECj4V8cQeQwcoYGFYPv4+OTkREfVdgUHsMffjo9Prz1ezu597P9UAB9IJ4dnhySjdG6Inz9PqhUc/3l6eopfj36eHl5gAHA/1Ri8QIHqGuDE/MXPsxPIlewQP1VOzyoKcHaGxjlbab4Nk5mjr/r/UgD35FzaRJ5DtlGUcF5ZABw7v7g4O7/Wq6AtpgC2jirEswrYifmrSwiG3LOLcxTC6hAgDloXF5eXWDH+YtZioh7Rv0AB3kJ4MaahwmUVXFWWK/S7Ai4ubmB/QdTGL20cURme9wBWKpG/T19epdNpMARFSF9XFBy/xpq+us3zA9tJsEVwVCGenwN2Kp6O95B8fXN9nb5BHRSgbBfQ5jqTUfhU5/Nk1wAcVYgXTEJTAHek3H2GFDc3t4C1rP0bMnc5D+NvHyN0vUQ4JRxViMcKWHe3UU0JOuZ7mdu735DJuAaB9j2WHMzXS6VC/oEMSnhGAUIqoyNrO5dt90LjF7z7u/v7bNbWEFnsAmzCev1Z0E4OHKBKcDQhqihAZ9lZ7my3Z7uelyORCImcIR+0vNLFr1O1DS1wJGV4pMAv/WXZEP5xC1LQ5G0VXvA9L5/Lo0Ih2GQKA7YFzyMNTxWfzsZp2nGzwNEEeKQAGQINeKJr0qRQEEaiAIgerNoDuW+PfhrNru4UnQtainqBApSv09gXF5I7n7tqqY0GtPSpBGAtOwvXHjZODTvFJD3wD3DWqEQ1BSBEJ0uMhAQnB4pQCWyphX7W72y539VyW51px6mG4wlRZQjcuTzJ9HH7rFHxO48m8hf9oJ7sg0WDpGNC2BDUdjQhqiig00ys5HKY7ZDA4XEPePWlVAIN6wCoj41kIDSA9svwaAicQH6XkQVfJ5kPt1m1ZXdoI0fKepJMB90uUWCez3tdNcEvJH+BAvQ7hfMvFLrqb2ORpvnzPGZ6mSiRYIcBcu48wEk6zvcfTg0vd77wOp2TiuoQwPGEqOIBE42HGb7MsteRWCReWxefPc4w/gboZ5+DwqmvncAVhQKVx3Hv7mguVlvXeKw/j/maSzYOjqaExwrQhRxkDH3uriYajUf+jkUisWjr7HE2n+dFpx4aAH5zQg3coiUd7PB8Pns81xKJRCPxRO18Fq5hFgQmg3VxPCGqTUKzMnN5E4kk/o7ESF8XrY3WRlqmdzOWtEUVlatEbeAO44bp+czuTHMkGmemUSxaVzd8gy8jGx6T7WhCVFMAKhfxCtRTlwQ9mOsSNbHa2ggGIhqJ9s9sX9zhvq9boO6GVuP2fHe6/XYkFovXJ2LxeCKSrE8k6+PxH9m8/+DZJKB0xxOgqgIwLH/2Ohb5K1obgwNq/05gHOLxv/6CDnUxNDvHpnc+795kbvF0zmQy14c729PjPY0gZ1ZPrK6hsS7RHE/U1yeTTYkZvJyR3c1ExxOgxu5NFVME/s9dDCfgfHgeczAK+zkEcGwkCrdGY3GscHEdM5fizKiKJ0nNrCaY3diYTDY0JBsakw3NjcnWZPc3TB13rYqFK00lWQ3t1UH9rrVY8A5fJepitVEBTqhziAvgI6tymgz1sFX5RJZR1MAsnybm2qBqaGlrXsnaF4r9uQ4M/EZV9VAjckBewk/M18sfjiaT8TiYwW2kpAUnrCQcLUiZycS0JuMFcZDhA/qWltaW1lRLR1N7U9ctnpW8i+lVnQowQGweAKCBTKcSuPxzOwPNyQaqANCxJVOFEiXTlwCwKZWHGUVM5cFiiTVtbe3NqbauVHtvyxbuprixkY4kwZA/1EAbkEMbbHllw/6dwfpkSxM0IJQsliRh4GD5l5aanTLVUZJTSTUCk1062npT7V2pVFfn4p2H26YuYHO66QAPuMkhRXBd574OtrQ3NjZDAxK6UZV7yUda8ZI1IBYt6QJil1vDdJb2/s5UP3a7R/bg/zxpjAqDANYapwht5zzwM9u9za1NHXBjo0iZLyZOy9kSZwuTltrarRgl03pIya3LqmG6C7NaUr297b39fT29vUt8W4cHoABVcAoYOCkxTQrXWz1t3alUawoqmJnK0FKmltE6yEzHSi6QdncpzYaslt2ihJa+np7+oYGege6Rvv6RSyV0BBoAUsCaROFqa6i3o7Mr1dWR6mgjL1O1zEzn3hR5O62InLRBMo/xWkaN0D8w2M/Mk4GhgeGhoeGRoa/ZIIhpjM4DOoD5d74x0NMNaXRhpwhhqYzVqMpOS1iStWWkzLAJsmost2WQpZRboqyO0dHRd3d8inEkRGoK8PaA6Vm4WR0c7IPLaFBPV6cZG8JIy33c4yxVOg1I+2muslxAPExOB8vsAEZHxxdwo9FjVD4o4jI0D+D5e7421NsHh8mMvh7aSzrnYBE6WA8jpqVDMDQw1hG7FBNjtjQMpV+8erXL70ZRstJ9AMCr1znsH++H8nQfzAmTpoyRqxiJ0FDZ6mCcI5VpJuCdYE4Hkx+Y/jA+NYOnIx1gs6DGmrj/369MDI2OjA5zssAiZi9VmCq6gLfkXuN0Hg6g1I5SfofLeVCKxZvJN2f801mgAYdAE8Lbn4B7JGpkFDKhBGevkpbETd9aIdivRDr2apykgCWc0F5HKij9wXIbZqam19yrImjpAb4uYVDySxOTo2OTTFmB2yB7ZNhGVXwAc4bKs3iYWCM2g5kq2rI0jzevlfdg+RTKa5iam569LuANRTAFOAreLU57MzHGkRqfYMbO6EjAG1gKShWa6fJ0SGpctkGDiSS0NczkmJmZZqJBkH4wMzO7yRuy6HUV4LrEQ/jL9OS0k8GUmcmJMVwzXJytobUkDXkJ+ZeWGiUhVuZegE2wPAPV7+ZmF6703MWHOK4CPn+gwP3y5GsMz9RriIE4yJWNmMIl0sDB+NVImbIS2howlidavH0rauY1qMzPzy+9fbe08EHviLj760bETeFkdmpmdnp2xjJfIPYNrhixGqiSIy1LlTFbmVgS0BqjwRIq5lmClIPFxeXFhaV3eDTzdQRK+LwK4IH8NhyE8yWM04XOECUqx1kCWN2UErHjI+bmAtoAYmUCglIJgNWlhaW1Hwzm8oUIHuBl6N+szs1zkObmNVC0ZWa6RCo6o+RPhPGpdrY6RsA4DSJl0N8lFSyvrqxtrC5nefHxpcSeht7RMrM1FuagAMZKQjkczATCuDhOkpZ8PIfpxFE1DzNVQ0kWSpsALdMbQEzS1ZVVlwWwpjj8xubq2h6zDMFtb0RFbwf9ca7ljEAktXCsNpVIy6kkBWWtIw5JXXIFF0fLmL/LNgB1GOF/v7b5/uPGHR5+tL2Gr6p+7sPq0vLi8tLCCkQt0YSFBRsM8VaOajCsQVoHKeVhJVDATNLJ1PW1UmYBQ+2bjOlvfvwA/q1T3IwwB3EfgBaF0+V1eImughQaAiwwV6dEKweTUKSECFWB11gtaYKpDUZLVsKF3V3MfesTI9+KZ/t4Lce3q/d1A7oyN0Ies8yQpcUF0MLH5pSAldbqdzlZw2ooS6MwUhaF/0XKwLui3YYvXy7wSY0LAQoU/ZuNDxtKTYAMJ251bWW5ZKu5lw7mbJKhASpMtSSHUnaBaMMg/5fPDHF/UfR5e+c7vhh9fZh4/sF7dJaboAQBPTbWmTETYLXE6CgBx7opD0OAkdLDInXMQejdMRsYh77iU5AK4BpAZypLJSDB0j82NaxlxBWsNq7GCJRMNfLPLtwPLkerwDdD3Yo3M/aMzwReBZgKV9vUgOdRDvTYomgNyKbMDShJKlcFrDzr0xaTGZTeYLkFNLUiyB+G01kz5KxA8N6Pa94IoIB/CDWVbrC9LRM+y5iPdK7Rvi8ljdBSOjaAS3BQ9kIFFMZnmN0RB7ykdiHgY34p4n3A22N/O83UwIBBNvxgxPRKkDDySYkcMJSdpHY5lEIQ8AJlQW8XdFZceY8x3r29g1vdiPz0992vSgzAxFCmghyiUSFhANCKtIzW+mNkQesYLcIfhvVlKWpGmMm6v6/YroV2j08xDWuKhTN0wYlYJeXbN5O6Y+kijpae4eGAEtzOs0ZclklgZsLRiq8HYNQ5iPoqtHt8dHKa42v5/cG+xf3NR7u7MIJq2Pwtt9XSM4zQchoeuZju3WOYHUUISAMounvK+C4255e+X+Nf7R26mLwUdwABbQWxsxQ6ycMsro/4oLeNqVDG6cCAtiLK4FR9dspoK5aLs4vTgl/jnaLTgUZFCQKBEnu7JKUrUJWRUkvB3CszAZ7vKAHZarQw2WLMYcyX0V2GWdPnl5c3fk3u9PT4VLF2nEgxTBOAZOgBUvI6biMNjWWCAsHIPikZwHcQJRCEuh2ti+xeWMT1Ip2+vLq59GtuzxmVPkF3nAjFIeiIUg/24Ql6w1I1xElLSSsrCWUMkFKxewbXFd0W45mFmY3XSBlovUpfX6cJBj1vr72aNPr8vDzheZIAWcoTOD4Eq8vaIEQo/UqDKm7wkTE0lS6+vGARr+LJCvUCDLReX9/cMOyZubm7Td/f11xdoRf6alw0PSwL4PRY7t2nLoRjJq+NqWjZ2zhRXRix2Zq+Ilf6RqSkVKzVAqsMcLJiDLKGsWbogIWuohoSC1fQ4hNcrY7WnPzbfDqDlYGDL+XeAOZmchpvJpNhXBNQ5DOrWGcu79Wwz42C0NQk8AcHD4RkMkKXm+CmkhHKUNR0ryglBaBEEBJgIxNjq2zd3+f479L5vAduNDy/JpOhcgxG394y7i3NKRZzE56gr0ktWlZUUi4jQGlmilN2olIYWZDFBDkJRVj5D9v5HEOwOa9YI5dgRXenCAAVrkGHgTQiMGKVarSQtWP8jc/ixwzjOsKQ2OKssNyAX7I45j/U0D82JjifUgJ/UAPzsjTAXJFu4kRN9zqQ07ZGf5/lf6T/BlIQbpcHMAB4HMMpaOeDDk7W3R1pMDWclSIUSGGdUHNMaY3+Dd7BTKaFFFsBdLQGfvJkPxRQ30ACXWe/Z+8ZHlJctjrsC/9P4HePPnsE2yvtU8TDw0Pxf9HojR+SZp5gAAAAAElFTkSuQmCC"},_touchEvents:{mousedown:g.jqx.mobile.getTouchEventName("touchstart"),click:g.jqx.mobile.getTouchEventName("touchstart"),mouseup:g.jqx.mobile.getTouchEventName("touchend"),mousemove:g.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_events:["initialized","itemSelected","itemCreated","itemMoved","itemReceived","columnSelected","columnUnselected","columnCollapsed","columnExpanded","itemAttrClicked","columnAttrClicked"]};return this===g.jqx._jqxKanban.prototype||g.extend(!0,this,e),e},createInstance:function(){g("#"+this.element.id).empty(),this._createKanban()},_createKanban:function(){var e=this;e._ie8Plugin(),e._kanbanId=e.element.id;e._serializeSource(function(){e._getParent(),e._createKanbanField(),e._createKanbanLayout(),e._addCSS();e._populateKanban(function(){e._setKanbanConnections(),e._transformToSortable(),e._addEventHandlers(),e._rtlCheck(),e._refreshEventHandlers(),e._recalculateContainersHeight(),e._handlerExpandCollapse(),e._raiseEvent("0"),e._ready()})})},propertyChangedHandler:function(e,t,i,s){if("width"===t)return e.host.width(s-4),e._recalculateContainersHeight(),void e._calculateExpandedColumnsWidth();"height"===t?e.host.height(s):(e._resources=[],e._items=[],e._source=[],e._sourceKeys=[],e._columns=[],g("#"+e.element.id).empty(),e._createKanban())},_getParent:function(){this._parentsTag=this.host.parent().get(0).tagName.toLowerCase()},_createKanbanField:function(){var e=this,t=e.columns.length;if(null==e.width&&null==e.height)"body"==e._parentsTag?(e.width=g(window).innerWidth(),e.height=g(window).innerHeight(),(e._ie7||e._ie8)&&e.host.height(e.height),e.host.addClass(this.toThemeProperty("jqx-kanban-full-frame"))):(e.width=e.host.parent().width(),e.height=e.host.parent().height(),e.host.addClass(this.toThemeProperty("jqx-kanban-in-frame")));else if(null!=e.width&&null==e.height){if(e.width<=e.headerWidth*t)throw new Error("jqxKanban: Insert valid Kanban dimensions. Width must be greather than sum of the collapsed header's width");e.host.width(e.width)}else if(null!=e.heigth&&null==e.width){if(e.height<=e.headerHeight)throw new Error("jqxKanban: Insert valid Kanban dimensions. Height must be greather than headerHeight");e.host.heigth(e.heigth)}else{if(e.width<=e.headerWidth*t)throw new Error("jqxKanban: Insert valid Kanban dimensions. Width must be greather than sum of the collapsed header's width");if(e.height<=e.headerHeight)throw new Error("jqxKanban: Insert valid Kanban dimensions. Height must be greather than headerHeight");e.host.width(e.width),e.host.height(e.height)}e.host.addClass(this.toThemeProperty("jqx-widget"))},escapeHTML:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,function(e){return t[e]})},sanitizeHTML:function(e){var t=this,i=new RegExp("<s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)[^>]*>(.*?)<s*/s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)>","ig");return String(e).replace(i,function(e){return t.escapeHTML(e)})},escape_HTML:function(e){return e&&(0<=e.indexOf("onclick")||0<=e.indexOf("onload")||0<=e.indexOf("onerror"))?this.escapeHTML(e):this.sanitizeHTML(e)},_createKanbanLayout:function(){for(var e=this,t=e.columns.length,i=(e._expandedColumns=t,e._calculateColumnDimensions(t)),s=e._calculateContainerDimensions(t),r=0;r<t;r++){var n=g("<div id='"+e._kanbanId+"-column-"+r+"' class='jqx-kanban-column' data-column-data-field='"+e.columns[r].dataField+"' style='width:"+i[0]+"; height:"+i[1]+";'></div>"),o=(void 0===e.columns[r].maxItems&&(e.columns[r].maxItems=9999),e._columns.push(n),e.host.append(n),"jqx-kanban-column-vertical-container"),a=e.columns[r].collapseDirection,l=("right"==(a=a||"left")&&(o="jqx-kanban-column-vertical-container-inverse"),e.columns[r].iconClassName?e.toThemeProperty(e.columns[r].iconClassName):""),d=l?"<div class='"+e.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-custom-button")+"'><div style='width: 100%; height: 100%;' class='"+l+"'></div></div>":"",l=l?"<div class='"+e.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-custom-button")+"'><div style='width: 100%; height: 100%;' class='"+l+"'></div></div>":"",o=g("<div id='"+e._kanbanId+"-column-header-collapsed-"+r+"' data-kanban-column-header-collapsed='"+r+"' class='"+e.toThemeProperty("jqx-kanban-column-header-collapsed")+"'><div class='"+o+"'><span class='"+e.toThemeProperty("jqx-kanban-column-header-title")+"'>"+e.escape_HTML(e.columns[r].text)+"</span><span class='"+e.toThemeProperty("jqx-kanban-column-header-status")+"'></span></div>"+d+"<div class='"+e.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-button")+"'><div style='width: 100%; height: 100%;' class='"+e.toThemeProperty("jqx-window-collapse-button "+("right"==a?"jqx-icon-arrow-left":"jqx-icon-arrow-right"))+"'></div></div></div>"),d=(n.append(o),g("<div id='"+e._kanbanId+"-column-header-"+r+"' data-kanban-column-header='"+r+"' class='"+e.toThemeProperty("jqx-kanban-column-header")+"'><span class='"+e.toThemeProperty("jqx-kanban-column-header-title")+"'>"+e.escape_HTML(e.columns[r].text)+"</span><span class='"+e.toThemeProperty("jqx-kanban-column-header-status")+"'></span>"+l+"<div class='"+e.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-button")+"'><div style='width: 100%; height: 100%;' class='"+e.toThemeProperty("jqx-window-collapse-button "+("right"==a?"jqx-icon-arrow-right":"jqx-icon-arrow-left"))+"'></div></div></div>")),l=(e.rtl&&(d.find(".jqx-kanban-column-header-button").addClass("jqx-kanban-column-header-button-rtl"),d.find(".jqx-kanban-column-header-custom-button").addClass("jqx-kanban-column-header-custom-button-rtl")),d.outerHeight(e.headerHeight),d.css("line-height",e.headerHeight+"px"),n.append(d),g("<div id='"+e._kanbanId+"-column-container-"+r+"' data-kanban-column-container='"+e.columns[r].dataField+"' class='jqx-kanban-column-container' style='height:"+s[1]+"; overflow-y: auto;'></div>"));n.append(l),n.data("kanban-column-collapsed",!1),e.columns[r].headerElement=d,e.columns[r].collapsedHeaderElement=o,e.columnRenderer&&e.columnRenderer(d,o,e.columns[r]),"left"==a&&(l=(l=d.find(".jqx-kanban-column-header-title").width())+d.find(".jqx-kanban-column-header-status").width()-10,n.find(".jqx-kanban-column-header-title").css("left",-l+"px"),n.find(".jqx-kanban-column-header-status").css("left",-l+"px")),!1===e.columns[r].collapsible&&n.find(".jqx-kanban-column-header-button").hide()}1==t&&e.host.find(".jqx-kanban-column-header-button").hide()},_calculateColumnDimensions:function(e){var t=[],i=100/e,s=100,r=100;return 0==this.host.height()&&this.host.height(400),0==this.host.width()&&this.host.width(600),this._ie7?(i=this.host.width()/e-(this._columnBorders[1]+this._columnBorders[3]),r=(s=this.host.height()-(this._columnBorders[0]+this._columnBorders[2]))-this.headerHeight,i+="px",s+="px"):(r=this.host.height()-g("#"+this._kanbanId+" div.jqx-kanban-column-header").outerHeight(),i+="%",s+="%"),r+="px",t.push(i),t.push(s),t.push(r),t},_calculateContainerDimensions:function(e){var t=[],i=100,s=100;return this._ie7?(i=this.host.width()/e-20,s=this.host.height()-this.headerHeight,i+="px"):(s=this.host.height()-this.headerHeight,i+="%"),s+="px",t.push(i),t.push(s),t},_recalculateContainersHeight:function(){for(var e=document.getElementById(this._kanbanId+"-column-header-0"),t=0,i=0;i<this.columns.length;i++)if(!this.columns[i].collapsed){t=i,e=this.columns[i].headerElement[0];break}var s=parseInt(getComputedStyle(e).getPropertyValue("margin-top")),r=parseInt(getComputedStyle(e).getPropertyValue("margin-Bottom")),n=document.getElementById(this._kanbanId+"-column-container-"+t),o=parseInt(getComputedStyle(n).getPropertyValue("margin-top")),n=parseInt(getComputedStyle(n).getPropertyValue("margin-Bottom")),s=e.offsetHeight+s+r,r=o+n,o=this.host.height()-s-r;g("#"+this._kanbanId+" div.jqx-kanban-column-container").outerHeight(o)},_addCSS:function(){var e=this;g(e.host).addClass(e.toThemeProperty("jqx-kanban")),g("#"+e._kanbanId+" div.jqx-kanban-column").addClass(e.toThemeProperty("jqx-widget-content")),g("#"+e._kanbanId+" div.jqx-kanban-column-header").addClass(e.toThemeProperty("jqx-widget-header")),g("#"+e._kanbanId+" div.jqx-kanban-column-header-collapsed").addClass(e.toThemeProperty("jqx-widget-header")),g("#"+e._kanbanId+" div.jqx-kanban-column-container").addClass(e.toThemeProperty("jqx-widget-content")),e._ie8||e._ie7?g("#"+e._kanbanId+"-column-0").addClass(e.toThemeProperty("jqx-kanban-column-first")):(e._columnBorders[0]=g("#"+e._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-top-width").slice(0,-2),e._columnBorders[1]=g("#"+e._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-right-width").slice(0,-2),e._columnBorders[2]=g("#"+e._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-bottom-width").slice(0,-2),e._columnBorders[3]=g("#"+e._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-top-width").slice(0,-2)),"bottomToTop"==e.verticalTextOrientation&&((e=g("#"+e._kanbanId).find(".jqx-kanban-column-vertical-container")).removeClass("jqx-kanban-column-vertical-container"),e.addClass("jqx-kanban-column-vertical-container-inverse"))},_rtlCheck:function(){1==this.rtl&&(g(this.host).addClass(this.toThemeProperty("jqx-kanban-rtl")),g("#"+this._kanbanId+" div.jqx-kanban-column-container").addClass(this.toThemeProperty("jqx-kanban-rtl")),g("#"+this._kanbanId+" div.jqx-kanban-item-keyword").addClass(this.toThemeProperty("jqx-kanban-item-keyword-rtl")))},_serializeSource:function(s){var e,r=this,t=(r._source=[],r._sourceKeys=[],function(e){if(e){for(var t=0;t<e.length;t++){var i={};i.id=null!=e[t].id?e[t].id:r.element.id+"_"+t,i.status=e[t].status||r.templateContent.status,i.text=e[t].text||r.templateContent.text,i.content=e[t].content||r.templateContent.content,i.tags=e[t].tags||r.templateContent.tags,i.color=e[t].color||r.templateContent.color,i.resourceId=e[t].resourceId||r.templateContent.resourceId,i.className=e[t].className||r.templateContent.className,r._source.push(i),r._sourceKeys[i.id]=i}s()}});if(r.source&&r.source.dataBind)return e=r.element.id,r.source.unbindBindingUpdate(e),r.source.dataBind(),0==r.source.records.length?(r.source.unbindDownloadComplete(e),r.source.bindDownloadComplete(e,function(){t(r.source.records)})):t(r.source.records),r.source.unbindBindingUpdate(e),void r.source.bindBindingUpdate(e,function(){t(r.source.records)});t(r.source)},_populateKanban:function(l){var e,d=this,h=0,t=(null!==d._source&&(h=d._source.length||0),d._resources=new Array,function(e){if(null!=(d._resources=e)){d._resourcesLength=e.length;for(var t=0;t<d._resourcesLength;t++)1==e[t].common&&(d._commonItem=e[t])}for(t=0;t<h;t++){for(var i=g(d.template),s=(i.data("kanban-item-id",d._source[t].id),d._commonItem),r=0;r<d._resourcesLength;r++)e[r].id==d._source[t].resourceId&&(s=e[r]);var n="<img class='jqx-kanban-item-avatar-image' alt='"+s.name+"' title='"+s.name+"' src='"+s.image+"' />",n=(i.addClass(d.toThemeProperty("jqx-rc-all")),i.find(".jqx-kanban-item-avatar").append(n),""!=d.theme&&i.addClass(d.toThemeProperty("jqx-kanban-item")),d.host.find("[data-kanban-column-container='"+d._source[t].status+"']")),o=(i.find(".jqx-kanban-item-color-status").css({"background-color":d._source[t].color}),d.rtl&&(i.find(".jqx-kanban-item-color-status").addClass("jqx-kanban-item-color-status-rtl"),i.find(".jqx-kanban-item-avatar").addClass("jqx-kanban-item-avatar-rtl")),i.find(".jqx-kanban-item-text").append(d._source[t].text),i.find(".jqx-kanban-item-content").append(d._source[t].content),""),a=[];(a=null!==d._source[t].tags&&void 0!==d._source[t].tags?d._source[t].tags.replace(/\,\s/g,",").split(","):a).forEach(function(e){o=o+"<div class='"+d.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+e+"</div>"}),o+=d._clearing,i.find(".jqx-kanban-item-footer").append(o),i.append(d._clearing),i.attr("id",d._kanbanId+"_"+d._source[t].id),null!==d._source[t].className&&void 0!==d._source[t].className&&i.addClass(d.toThemeProperty(d._source[t].className)),d.itemRenderer&&d.itemRenderer(i,d._source[t],s),n.append(i),d._items[d._source[t].id]=i}l()});if(d.resources&&d.resources.dataBind)return e=d.element.id,d.resources.unbindBindingUpdate(e),d.resources.dataBind(),0==d.resources.records.length?(d.resources.unbindDownloadComplete(e),d.resources.bindDownloadComplete(e,function(){t(d.resources.records)})):t(d.resources.records),void d.resources.bindBindingUpdate(e,function(){t(d.resources.records)});d._resources=d.resources,t(d.resources),g("#"+d._kanbanId+" div.jqx-kanban-item").addClass(this.toThemeProperty("jqx-widget-content"))},_ready:function(){null!=this.ready&&"function"==typeof this.ready&&this.ready()},collapseColumn:function(e){for(var t=0;t<this.columns.length;t++)if(this.columns[t].dataField==e)return this._collapseColumn(t),!0;return!1},expandColumn:function(e){for(var t=0;t<this.columns.length;t++)if(this.columns[t].dataField==e)return this._expand(t),!0;return!1},_collapseColumn:function(e){var t=this,e=e||0;g("#"+t._kanbanId+"-column-header-collapsed-"+e).addClass(t.toThemeProperty("jqx-kanban-column-header-collapsed-show")),g("#"+t._kanbanId+"-column-header-"+e).addClass(t.toThemeProperty("jqx-kanban-column-hide")),g("#"+t._kanbanId+"-column-container-"+e).addClass(t.toThemeProperty("jqx-kanban-column-hide")),(t._ie8||t._ie7)&&(g("#"+t._kanbanId+" .jqx-kanban-column-vertical-container").addClass(t.toThemeProperty("jqx-kanban-column-vertical-container-ie8-fix")),g("#"+t._kanbanId+" .jqx-kanban-column-vertical-container-inverse").addClass(t.toThemeProperty("jqx-kanban-column-vertical-container-inverse-ie8-fix"))),t._columns[e].data("kanban-column-collapsed",!0),t.columns[e].collapsed=!0,t._calculateExpandedColumnsWidth(),t._raiseEvent("7",{column:t.columns[e]})},_expandColumn:function(e){var t=this,e=e||0;g("#"+t._kanbanId+"-column-header-collapsed-"+e).removeClass(t.toThemeProperty("jqx-kanban-column-header-collapsed-show")),g("#"+t._kanbanId+"-column-header-"+e).removeClass(t.toThemeProperty("jqx-kanban-column-hide")),g("#"+t._kanbanId+"-column-container-"+e).removeClass(t.toThemeProperty("jqx-kanban-column-hide")),t.columns[e].collapsed=!1,t._columns[e].data("kanban-column-collapsed",!1),t._calculateExpandedColumnsWidth(),t._raiseEvent("8",{column:t.columns[e]})},_calculateExpandedColumnsWidth:function(){for(var e=this,t=e._columns.length,i=(e._collapsedColumns=0,e._expandedColumns=0),s=e.headerWidth,r=0;r<t;r++)1==e._columns[r].data("kanban-column-collapsed")?e._collapsedColumns++:e._expandedColumns++;var n=(i=(e.host.width()-e.headerWidth*e._collapsedColumns)/e._expandedColumns)-(this._columnBorders[1]+this._columnBorders[3]);if(e._ie7&&(i=n,s=e.headerWidth-2),e.width&&0<=e.width.toString().indexOf("%"))for(var o=1/((e.host.width()+2)/100),a=s*o,r=0;r<t;r++)1==e._columns[r].data("kanban-column-collapsed")?e._columns[r][0].style.width=a+"%":e._columns[r][0].style.width=i*o+"%";else for(r=0;r<t;r++)1==e._columns[r].data("kanban-column-collapsed")?e._columns[r].outerWidth(s):e._columns[r].outerWidth(i)},_handlerExpandCollapse:function(){var r=this;r.addHandler(g("#"+r._kanbanId+" .jqx-kanban-column-header"),this._getEvent("click"),function(e){var t=g(this).parent().index(),i=r.columns[t],s={attribute:"title",column:i,cancelToggle:!1};0<=g(e.target).parent()[0].className.indexOf("jqx-kanban-column-header-custom-button")&&(s={attribute:"button",column:i,cancelToggle:!1}),r._raiseEvent("10",s),s.cancelToggle||1<r._expandedColumns&&!1!==i.collapsible&&r._collapseColumn(t)}),r.addHandler(g("#"+r._kanbanId+" .jqx-kanban-column-header-collapsed"),"click",function(e){g(this).parent().index();var t=g(this).parent().index(),i=r.columns[t],s={attribute:"title",cancelToggle:!1,column:i};0<=g(e.target).parent()[0].className.indexOf("jqx-kanban-column-header-custom-button")&&(s={attribute:"button",cancelToggle:!1,column:i}),r._raiseEvent("10",s),s.cancelToggle||r._expandColumn(t)})},_setKanbanConnections:function(){var t=this;t._kanbanColumns="#"+t._kanbanId+" div.jqx-kanban-column-container",t._connectWith=t._kanbanColumns,null!=t.connectWith&&t.connectWith.replace(/\,\s/g,",").split(",").forEach(function(e){t._connectWith=t._connectWith+", "+e+" div.jqx-kanban-column-container"})},_transformToSortable:function(){for(var t=this,e=0;e<g(t._kanbanColumns).length;e++)g(g(t._kanbanColumns)[e]).jqxSortable({connectWith:t._connectWith,maxItems:t.columns[e].maxItems||9999,cancel:".jqx-kanban-column-container-cancel",placeholderShow:"jqx-kanban-item-placeholder",revert:t.animationDelay,cursor:"move",tolerance:"pointer",containment:"window"});g.jqx.utilities.resize(t.host,null,!0),g.jqx.utilities.resize(t.host,function(){for(var e=0;e<g(t._kanbanColumns).length;e++)g(g(t._kanbanColumns)[e]).jqxSortable({containment:"window"})}),null!==t.handle&&(g(t._kanbanColumns).jqxSortable({handle:"."+t.handle}),g("#"+t._kanbanId+" ."+t.handle).addClass("jqx-kanban-handle"))},_calculateItemsPerColumn:function(e){},_calculateRestrictions:function(){},_redrawColumnHeader:function(e,t){},addItem:function(e){var t=this,i=e.id,s=null!=t._source?t._source.length:0,r=t._kanbanId+"_"+(i=null==i?s:i),n=(void 0!==t._sourceKeys[r]&&(r+="_"+Math.round(100*Math.random(Math.floor(9999)))),i=r,t._source=null!=t._source?t._source:[],null),o=(-1<t._css_color_names.indexOf(e.color)||/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e.color)?n=e.color:/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(e.color)&&(n="#"+e.color),{id:i,status:e.status||t.templateContent.status,text:e.text||t.templateContent.text,content:e.content||t.templateContent.content,tags:e.tags||t.templateContent.tags,color:n||t.templateContent.color,resourceId:e.resourceId||t.templateContent.resourceId,className:e.className||t.templateContent.className}),n=this.getColumn(o.status);if(n.maxItems||(n.maxItems=9999),!(n.maxItems<this.getColumnItems(n.dataField).length+1)){for(var a=t._commonItem,l=0;l<t._resources.length;l++)t._resources[l].id==o.resourceId&&(a=t._resources[l]);var d=t.host.find("[data-kanban-column-container='"+o.status+"']"),e=g(t.template),h=(""!=t.theme&&e.addClass(t.toThemeProperty("jqx-kanban-item")),e.find(".jqx-kanban-item-color-status").css({"background-color":o.color}),"<img class='jqx-kanban-item-avatar-image' alt='"+a.name+"' title='"+a.name+"' src='"+a.image+"' />"),h=(e.find(".jqx-kanban-item-avatar").append(h),e.find(".jqx-kanban-item-text").append(o.text),e.find(".jqx-kanban-item-content").append(o.content),o.tags.replace(/\,\s/g,",").split(",")),c="";h.forEach(function(e){c=c+"<div class='"+t.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+e+"</div>"}),c+="<div style='clear:both'></div>",e.find(".jqx-kanban-item-footer").append(c),d.append(e),g("#"+t._kanbanId+" .jqx-kanban-item").removeClass(this.toThemeProperty("jqx-widget-content jqx-rc-all")),g("#"+t._kanbanId+" .jqx-kanban-item").addClass(this.toThemeProperty("jqx-widget-content jqx-rc-all")),e.attr("id",r),t._source[s]=o,t._sourceKeys[i]=o,e.data("kanban-item-id",r),null!==o.className&&void 0!==o.className&&e.addClass(this.toThemeProperty(o.className)),t.itemRenderer&&t.itemRenderer(e,o,a),(n=this.getColumn(o.status))&&t.columnRenderer&&(t.columnRenderer(n.headerElement,n.collapsedHeaderElement,n),t._updateColumnTitle(n)),t._raiseEvent("2",{itemId:r}),t._refreshEventHandlers()}},_updateColumnTitle:function(e){var t;"left"==e.collapseDirection&&(t=(t=e.headerElement.find(".jqx-kanban-column-header-title").width())+e.headerElement.find(".jqx-kanban-column-header-status").width()-10,e.headerElement.find(".jqx-kanban-column-header-title").css("left",-t+"px"),e.headerElement.find(".jqx-kanban-column-header-status").css("left",-t+"px"))},_selectItem:function(e){var e=e.data.self,t=(e._selectedItemId=g(this).attr("id"),g("#"+e._kanbanId+" .jqx-kanban-item").removeClass(e.toThemeProperty("jqx-kanban-item-selected")),g(this).addClass(e.toThemeProperty("jqx-kanban-item-selected")),g(this).data().kanbanItemId);e._selectedId=t,e._raiseEvent("1",{item:e._sourceKeys[t]}),e._refreshEventHandlers()},selectItem:function(e){var t=g("#"+this._kanbanId+"_"+e);0!=t.length&&(g("#"+self._kanbanId+" .jqx-kanban-item").removeClass(self.toThemeProperty("jqx-kanban-item-selected")),g(t).addClass(this.toThemeProperty("jqx-kanban-item-selected")),this._selectedId=e)},_selectColumn:function(e){for(var t,i,s=e.data.self,r=g(this).attr("data-column-data-field"),n=s.columns.length,o=0;o<n;o++)s.columns[o].dataField==r&&(i=o),s.columns[o].dataField==s._selectedColumn&&(t=o);g("#"+s._kanbanId+" .jqx-kanban-column").removeClass(s.toThemeProperty("jqx-kanban-column-selected")),g(this).addClass(s.toThemeProperty("jqx-kanban-column-selected")),null!=s._selectedColumn&&s._selectedColumn!=r&&s._raiseEvent("6",{column:s._selectedColumn,dataField:t}),s._selectedColumn=r,s._raiseEvent("5",{column:s._selectedColumn,dataField:i})},getSelectedColumn:function(){return this._selectedColumn},_removeSourceIndexById:function(i){var s=-1;g.each(this._source,function(e,t){if(this&&this.id==i)return s=e,!1}),-1!=s&&this._source.splice(s,1),this._sourceKeys[i]=null,delete this._sourceKeys[i]},removeItem:function(e){var t=this,i="#"+t._kanbanId+"_"+e,s=e.toString().replace(t._kanbanId+"_",""),i=(0===g(i).length&&0===g(i="#"+e).length||g(i).remove(),this.getColumn(t._sourceKeys[e].status));t._items[s]=null,t._removeSourceIndexById(e),t._sourceKeys[e]=null,i&&t.columnRenderer&&(t.columnRenderer(i.headerElement,i.collapsedHeaderElement,i),t._updateColumnTitle(i)),t._selectedItemId=null},updateItem:function(e,t){var i=this,s=g("#"+i._kanbanId+"_"+e);if(0!=s.length){for(var r=s.data("kanban-item-id"),e=i._sourceKeys[e],n=(e=e||i._sourceKeys[r]).className||"",o=null,a=(-1<i._css_color_names.indexOf(t.color)||/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t.color)?o=t.color:/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(t.color)?o="#"+t.color:t.color&&(o=t.color),{id:e.id,status:e.status,text:t.text||e.text,content:t.content||e.content,tags:t.tags||e.tags,color:o||e.color,resourceId:t.resourceId||e.resourceId,className:t.className||e.className}),o=i._source.findIndex(function(e){return e.id===r}),l=(0<=o&&(i._source[o]=a),i._sourceKeys[r]=a,i._commonItem),d=0;d<i._resources.length;d++)i._resources[d].id==a.resourceId&&(l=i._resources[d]);var t="<img class='jqx-kanban-item-avatar-image' alt='"+l.name+"' title='"+l.name+"' src='"+l.image+"' />",e=(s.find(".jqx-kanban-item-avatar").html(t),s.find(".jqx-kanban-item-color-status").css({"background-color":a.color}),s.find(".jqx-kanban-item-text").html(a.text),s.find(".jqx-kanban-item-content").html(a.content),a.tags.replace(/\,\s/g,",").split(",")),h="",o=(e.forEach(function(e){h=h+"<div class='"+i.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+e+"</div>"}),h+="<div style='clear:both'></div>",s.find(".jqx-kanban-item-footer").html(h),null!==a.className&&void 0!==a.className&&(s.removeClass(this.toThemeProperty(n)),s.addClass(this.toThemeProperty(a.className))),i.itemRenderer&&i.itemRenderer(s,a,l),this.getColumn(a.status));o&&i.columnRenderer&&(i.columnRenderer(o.headerElement,o.collapsedHeaderElement,o),i._updateColumnTitle(o))}},getSelectedItem:function(){return this._sourceKeys[this._selectedId]},getColumn:function(e){for(var t=0;t<this.columns.length;t++)if(this.columns[t].dataField==e)return this.columns[t];return null},getColumnItems:function(e){for(var t=[],i=this._source.length,s=0;s<i;s++)null!=this._source[s]&&this._source[s].status==e&&t.push(this._source[s]);return t},getItems:function(){return null!==this._source?this._source.filter(function(e){return null!=e}):null},_ie8Plugin:function(){"function"!=typeof Array.prototype.forEach&&(Array.prototype.forEach=function(e){for(var t=0;t<this.length;t++)e.apply(this,[this[t],t,this])}),window.getComputedStyle||(window.getComputedStyle=function(i,e){return this.el=i,this.getPropertyValue=function(e){var t=/(\-([a-z]){1})/g;return t.test(e="float"==e?"styleFloat":e)&&(e=e.replace(t,function(){return arguments[2].toUpperCase()})),i.currentStyle[e]||null},this})},_addEventHandlers:function(){function e(){for(var e="jqx-kanban-item-color-status jqx-kanban-item-avatar jqx-kanban-item-text jqx-kanban-item-content jqx-kanban-item-keyword jqx-kanban-item-template-content".split(" "),t=g(this).attr("class").split(" "),i=t.length,s=null,r=g(this).parents(".jqx-kanban-item").data().kanbanItemId,n={attribute:null,item:m._sourceKeys[r],itemId:r},o=0;o<i;o++)-1<e.indexOf(t[o])&&(s=t[o]);switch(s){case"jqx-kanban-item-color-status":n.attribute="colorStatus";break;case"jqx-kanban-item-avatar":n.attribute="avatar";break;case"jqx-kanban-item-text":n.attribute="text";break;case"jqx-kanban-item-content":n.attribute="content";break;case"jqx-kanban-item-keyword":n.attribute="keyword";break;case"jqx-kanban-item-template-content":n.attribute="template"}m._raiseEvent("9",n)}var m=this;m.addHandler(g(window),"resize.kanban"+m.element.id,function(e){m._recalculateContainersHeight(),m._calculateExpandedColumnsWidth()}),m.addHandler(g(m._kanbanColumns),"start",function(e){m._selectedItemId=e.args.item[0].id,m._draggedItemId=m._selectedItemId,m._draggedItemDataId=g("#"+m._draggedItemId).data().kanbanItemId,m._draggedItemValues=m._sourceKeys[m._draggedItemDataId],m._selectedItemValues=m._draggedItemValues;e=g("#"+m._draggedItemId).height();g(".jqx-kanban-item-placeholder").height(e)}),m.addHandler(g(m._kanbanColumns),"stop",function(e){for(var t=g("#"+m._draggedItemId).parent().attr("data-kanban-column-container"),i=t,s=null,r=0;r<m.columns.length;r++)if(m.columns[r].dataField==i){s=m.columns[r];break}if(m._sourceKeys[m._draggedItemDataId]){for(var n=null,o=g("#"+m._kanbanId).jqxKanban("columns"),a=m._sourceKeys[m._draggedItemDataId].status,r=0;r<o.length;r++)if(o[r].dataField==a){n=o[r];break}if(m._kanbanId!==m._dropKanbanId){if(null===s)for(var s=null,l=g("#"+m._dropKanbanId).jqxKanban("columns"),r=0;r<l.length;r++)if(l[r].dataField==i){s=l[r];break}m._raiseEvent("3",{oldParentId:m._kanbanId,newParentId:m._dropKanbanId,itemId:m._selectedId,newColumn:s,oldColumn:n,itemData:m._draggedItemValues});m._source.length;m._draggedItemValues.status=t,g("#"+m._dropKanbanId).trigger("_itemReceived",[m._selectedItemId,m._kanbanId,m._dropKanbanId,m._draggedItemValues,m._selectedId,s,n]),m._sourceKeys[m._draggedItemDataId]=null}else m._raiseEvent("3",{newColumn:s,oldColumn:n,oldParentId:m._kanbanId,newParentId:m._dropKanbanId,itemId:m._selectedId,itemData:m._draggedItemValues}),m._raiseEvent("4",{newColumn:s,oldColumn:n,oldParentId:m._kanbanId,newParentId:m._dropKanbanId,itemId:m._selectedId,itemData:m._draggedItemValues}),m._sourceKeys[m._draggedItemDataId].status=t;if(m.columnRenderer)for(r=0;r<m.columns.length;r++)m.columns[r].dataField==i&&(m.columnRenderer(m.columns[r].headerElement,m.columns[r].collapsedHeaderElement,m.columns[r]),m._updateColumnTitle(m.columns[r])),m.columns[r].dataField==a&&(m.columnRenderer(m.columns[r].headerElement,m.columns[r].collapsedHeaderElement,m.columns[r]),m._updateColumnTitle(m.columns[r]))}m._draggedItemDataId=null,m._draggedItemId=null,m._draggedItemValues=null}),m.addHandler(g(m._kanbanColumns),"sort",function(e){m._dropKanbanId=g(".jqx-kanban-item-placeholder").parent().parent().parent().attr("id")}),m.addHandler(g(m.host),"_itemReceived",function(e,t,i,s,r){m._raiseEvent("4",{itemId:t,oldParentId:i,newParentId:s,itemData:r});var n=g("#"+t),o=g(m.template),a=(""!=m.theme&&o.addClass(m.toThemeProperty("jqx-kanban-item")),o.data("kanban-item-id",r.id),m._commonItem);if(m._resources)for(var l=0;l<m._resources.length;l++)m._resources[l].id==r.resourceId&&(a=m._resources[l]);var d="<img class='jqx-kanban-item-avatar-image' alt='"+a.name+"' title='"+a.name+"' src='"+a.image+"' />",d=(o.find(".jqx-kanban-item-avatar").append(d),o.find(".jqx-kanban-item-text").append(r.text),o.find(".jqx-kanban-item-color-status").css({"background-color":r.color}),o.find(".jqx-kanban-item-content").append(r.content),r.tags.replace(/\,\s/g,",").split(",")),h="",c=(d.forEach(function(e){h=h+"<div class='"+m.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+e+"</div>"}),h+="<div style='clear:both'></div>",o.find(".jqx-kanban-item-footer").append(h),o.attr("id",m._kanbanId+"_"+r.id),n.replaceWith(o),g("#"+s+" div.jqx-kanban-item").addClass(m.toThemeProperty("jqx-widget-content")),null!==r.className&&void 0!==r.className&&o.addClass(m.toThemeProperty(r.className)),g("#"+s+" div.jqx-kanban-item").removeClass(m.toThemeProperty("jqx-kanban-item-selected")),g("#"+t).addClass(m.toThemeProperty("jqx-kanban-item-selected")),g("#"+s).jqxKanban("_refreshEventHandlers"),m._source.push(r),g("#"+s).jqxKanban("getInstance")),u=g("#"+i).jqxKanban("getInstance");if(c._sourceKeys[r.id]=r,u._removeSourceIndexById(r.id),c.columnRenderer)for(var p=0;p<c.columns.length;p++)c.columnRenderer(c.columns[p].headerElement,c.columns[p].collapsedHeaderElement,c.columns[p]);if(u.columnRenderer)for(p=0;p<u.columns.length;p++)u.columnRenderer(u.columns[p].headerElement,u.columns[p].collapsedHeaderElement,u.columns[p]);c.itemRenderer&&c.itemRenderer(o,r,a)}),m.addHandler(g("#"+m._kanbanId+" .jqx-kanban-item"),"click",m._selectItem,{self:this}),m.addHandler(g("#"+m._kanbanId+" .jqx-kanban-column"),"click",m._selectColumn,{self:this});m.addHandler(g("#"+m._kanbanId+" .jqx-kanban-item-color-status"),this._getEvent("click"),e,{self:this}),m.addHandler(g("#"+m._kanbanId+" .jqx-kanban-item-avatar"),this._getEvent("click"),e,{self:this}),m.addHandler(g("#"+m._kanbanId+" .jqx-kanban-item-text"),this._getEvent("click"),e,{self:this}),m.addHandler(g("#"+m._kanbanId+" .jqx-kanban-item-content"),this._getEvent("click"),e,{self:this}),m.addHandler(g("#"+m._kanbanId+" .jqx-kanban-item-keyword"),this._getEvent("click"),e,{self:this}),m.addHandler(g("#"+m._kanbanId+" .jqx-kanban-item-template-content"),this._getEvent("click"),e,{self:this})},destroy:function(){g.jqx.utilities.resize(this.host,null,!0),this._removeEventHandlers(),this.host.remove()},_removeEventHandlers:function(){var e=this;e.removeHandler(g(window),"resize.kanban"+e.element.id),e.removeHandler(g(e._kanbanColumns),"start"),e.removeHandler(g(e._kanbanColumns),"stop"),e.removeHandler(g(e._kanbanColumns),"sort"),e.removeHandler(g(e.host),"_itemReceived"),e.removeHandler(g("#"+e._kanbanId+" .jqx-kanban-item"),"click"),e.removeHandler(g("#"+e._kanbanId+" .jqx-kanban-column"),"click"),e.removeHandler(g("#"+e._kanbanId+" .jqx-kanban-item-color-status"),"click"),e.removeHandler(g("#"+e._kanbanId+" .jqx-kanban-item-avatar"),"click"),e.removeHandler(g("#"+e._kanbanId+" .jqx-kanban-item-text"),"click"),e.removeHandler(g("#"+e._kanbanId+" .jqx-kanban-item-content"),"click"),e.removeHandler(g("#"+e._kanbanId+" .jqx-kanban-item-keyword"),"click"),e.removeHandler(g("#"+e._kanbanId+" .jqx-kanban-item-template-content"),"click")},_refreshEventHandlers:function(){this._removeEventHandlers(),this._addEventHandlers()},_raiseEvent:function(e,t){e=g.Event(this._events[e]);return e.args=t,this.host.trigger(e)},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e}})}(jqxBaseFramework),!function(g){g.jqx.jqxWidget("jqxKnob","",{}),g.extend(g.jqx._jqxKnob.prototype,{defineInstance:function(){var e={type:"circle",allowValueChangeOnClick:!0,allowValueChangeOnDrag:!0,allowValueChangeOnMouseWheel:!0,changing:null,dragEndAngle:-1,dragStartAngle:-1,disabled:!1,dial:{style:"transparent",innerRadius:0,outerRadius:0,gradientType:null,gradientStops:null,startAngle:null,endAngle:null},endAngle:360,height:400,labels:{type:"digits",step:null,rotate:!1,offset:null,style:"",visible:!1},marks:{type:"",thickness:1,size:"10%",colorProgress:"transparent",colorRemaining:"transparent",minorInterval:1,majorInterval:5,offset:"80%",majorSize:"15%"},min:0,max:100,progressBar:{size:"10%",offset:"60%",color:"transparent",background:"transparent"},pointer:{color:{color:"transparent",border:null,gradientType:null,gradientStops:null},thickness:1,size:"",type:"",visible:!1},pointerGrabAction:"normal",renderEngine:"",rotation:"clockwise",startAngle:0,spinner:{color:"transparent",innerRadius:0,outerRadius:0,marks:{step:1,rotate:!1,color:"transparent",size:0,steps:10,thickness:1,offset:0}},style:{fill:"transparent",stroke:"transparent"},_touchEvents:{mousedown:g.jqx.mobile.getTouchEventName("touchstart"),mouseup:g.jqx.mobile.getTouchEventName("touchend"),mousemove:g.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:g.jqx.mobile.getTouchEventName("touchstart")},step:1,snapToStep:!0,value:0,width:400};return this===g.jqx._jqxKnob.prototype||g.extend(!0,this,e),e},createInstance:function(){var e=this;e._hostInit(),e._ie8Plugin(),e._validateProperties(),e._initValues(),e._refresh(),g.jqx.utilities.resize(e.host,function(){e.widgetSize=Math.min(e.host.width(),e.host.height()),e._refresh()})},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]+".jqxKnob"+this.element.id:e+".jqxKnob"+this.element.id},_ie8Plugin:function(){"function"!=typeof Array.prototype.forEach&&(Array.prototype.forEach=function(e){for(var t=0;t<this.length;t++)e.apply(this,[this[t],t,this])}),window.getComputedStyle||(window.getComputedStyle=function(i,e){return this.el=i,this.getPropertyValue=function(e){var t=/(\-([a-z]){1})/g;return t.test(e="float"==e?"styleFloat":e)&&(e=e.replace(t,function(){return arguments[2].toUpperCase()})),i.currentStyle[e]||null},this})},createColorGradient:function(e,t,i){return this._getGradient(e,t,i)},destroy:function(){this.removeHandler(g(document),"mousemove.jqxKnob"+this.host[0].id),this.removeHandler(g(document),"blur.jqxKnob"+this.host[0].id),this.removeHandler(g(document),"mouseup.jqxKnob"+this.host[0].id),this.host.empty(),this.host.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._refresh()},propertyChangedHandler:function(e,t,i,s){e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("disabled"===t&&e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),"value"===t?e._setValue(s,"propertyChange"):(e._validateProperties(),e._refresh()))},val:function(e){if(0==arguments.length)return this.value;this._setValue(e,null)},_isPointerGrabbed:!1,_pointerGrabbedIndex:-1,_attatchPointerEventHandlers:function(){var n=this,t=(n.addHandler(n.host,this._getEvent("mousedown"),function(e){if("pointer"!==n.pointerGrabAction||e.target.id===n._pointerID){if(n._isTouchDevice&&(t=g.jqx.position(e),e.clientX=t.left,e.clientY=t.top),"progressBar"===n.pointerGrabAction){var t={x:e.clientX,y:e.clientY},i=n.host[0].getBoundingClientRect(),s=n.widgetSize,i={x:i.left+s/2,y:i.top+s/2},r=n._calculateAngleFromCoordinates(t,i,n.rotation),t=n._calculateDistance(t,i);if(r<n.startAngle&&(r+=360),r>n.endAngle&&r-n.endAngle!=360+n.startAngle-r)return;i=n._getScale(n.progressBar.offset,"w",s/2),r=n._getScale(n.progressBar.size,"w",s/2);if(t<i||i+r<t)return}return(n._isPointerGrabbed=!0)===n.allowValueChangeOnClick&&n._mouseMovePointer(e),e.preventDefault(),e.stopPropagation(),!1}}),null);n.addHandler(g(document),this._getEvent("mousemove"),function(e){if(n.allowValueChangeOnDrag&&(t&&clearTimeout(t),t=setTimeout(function(){n._mouseMovePointer(e)}),n._isPointerGrabbed))return!1}),n.addHandler(g(document),"blur.jqxKnob"+n.host[0].id,function(){n._isPointerGrabbed=!1,n._pointerGrabbedIndex=-1}),n.addHandler(g(document),this._getEvent("mouseup"),function(e){n._isPointerGrabbed&&(n._isPointerGrabbed=!1,n._pointerGrabbedIndex=-1,n._raiseEvent(0,{originalEvent:e,value:n.value}))}),n.addHandler(n.host,"wheel",function(e){var t;if(n.allowValueChangeOnMouseWheel)return t=0,(e=e||window.event).originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?t=e.wheelDelta/120:e.detail?t=-e.detail/3:e.originalEvent&&e.originalEvent.deltaY&&(t=e.originalEvent.deltaY),0<t?n._increment():n._decrement(),!1})},_mouseMovePointer:function(e){var t=this;if(!t.disabled&&t._isPointerGrabbed){t._isTouchDevice&&(i=g.jqx.mobile.getTouches(e)[0],e.clientX=parseInt(i.clientX),e.clientY=parseInt(i.clientY));var i={x:e.clientX,y:e.clientY},e=t.host[0].getBoundingClientRect(),s=t.widgetSize,e={x:e.left+s/2,y:e.top+s/2},s=t._calculateAngleFromCoordinates(i,e,t.rotation),r=t._calculateValueFromAngle(s,t.dragStartAngle,t.dragEndAngle,t.min,t.max);if(t.value.length&&-1===t._pointerGrabbedIndex)for(var n=0;n<t.value.length;n++){if(r<=t.value[n]){t._pointerGrabbedIndex=n;break}if(n===t.value.length-1)t._pointerGrabbedIndex=n;else if(r<=t.value[n+1]){var o=t.value[n]+(t.value[n+1]-t.value[n])/2;t._pointerGrabbedIndex=r<=o?n:n+1;break}}if(t.pointer&&1<t.pointer.length){if(1==t._pointerGrabbedIndex){var a=t._calculateAngleFromValue(t.value[0],t.dragStartAngle,t.dragEndAngle,t.min,t.max),l=t._calculateAngleFromValue(t.max,t.dragStartAngle,t.dragEndAngle,t.min,t.max);if((s=t._calculateAngleFromValue(r,t.dragStartAngle,t.dragEndAngle,t.min,t.max))<=a)return;if(l<=s)return}if(0==t._pointerGrabbedIndex){l=t._calculateAngleFromValue(t.value[1],t.dragStartAngle,t.dragEndAngle,t.min,t.max),a=t._calculateAngleFromValue(t.min,t.dragStartAngle,t.dragEndAngle,t.min,t.max);if((s=t._calculateAngleFromValue(r,t.dragStartAngle,t.dragEndAngle,t.min,t.max))<=a)return;if(l<=s)return}}if(t.changing)if(Array.isArray(t.value)){i=t.value.slice(0);if(i[t._pointerGrabbedIndex]=r,!1===t.changing(t.value,i))return}else if(!1===t.changing(t.value,r))return;t._setValue(r,"mouse")}},_getScale:function(e,t,i){return e&&0<=e.toString().indexOf("%")?(e=parseInt(e,10)/100,"object"==typeof i?i[t]()*e:i*e):parseInt(e,10)},_hostInit:function(){var e=this,t=(this._isTouchDevice=g.jqx.mobile.isTouchDevice(),e.host);t.width(e.width),t.height(e.height),t.css("position","relative"),e.host.addClass(e.toThemeProperty("jqx-widget jqx-knob")),-1==e.dragStartAngle&&(e.dragStartAngle=e.startAngle),-1==e.dragEndAngle&&(e.dragEndAngle=e.endAngle),e.dragStartAngle<e.startAngle&&(e.dragStartAngle=e.startAngle),e.dragEndAngle>e.endAngle&&(e.dragEndAngle=e.endAngle),e.widgetSize=Math.min(e.host.width(),e.host.height())},_initRenderer:function(e){if(g.jqx.createRenderer)return g.jqx.createRenderer(this,e);throw"jqxKnob: Please include a reference to jqxdraw.js"},_initValues:function(){var e=this;e.marks&&(e.marks.style&&""!==e.marks.style&&("line"!==e.marks.style||e.marks.thickness||(e.marks.thickness=1),e.marks.size||(e.marks.size="5%"),e.marks.offset||(e.marks.offset="85%")),e.marks.majorInterval&&void 0===e.marks.majorSize&&(e.marks.majorSize="10%")),e._marksList=e._getMarksArray(e.marks),e.spinner&&(e._spinnerMarksList=e._getMarksArray(e.spinner.marks))},_calculateAngleFromValue:function(e,t,i,s,r){return g.jqx.browser.msie&&g.jqx.browser.version<9?"circle"!=this.type?s!=r?parseInt((e-s)/(r-s)):0:s!=r?parseInt((e-s)/(r-s)*(i-t)):0:"circle"!=this.type?s!=r?(e-s)/(r-s):0:s!=r?(e-s)/(r-s)*(i-t):0},_calculateAngleFromCoordinates:function(e,t,i){var s=e.x-t.x,e=e.y-t.y;return 0<e?"clockwise"===i?90-180*Math.atan(s/e)/Math.PI:270+180*Math.atan(s/e)/Math.PI:e<0?"clockwise"===i?270-180*Math.atan(s/e)/Math.PI:90+180*Math.atan(s/e)/Math.PI:0<=s?0:180},_calculateValueFromAngle:function(e,t,i,s,r){e<t&&(e+=360);var n=s;return i<e?e-i<360+t-e&&(n=r):n=s+(e-t)*(r-s)/(i-t),n},_calculateDistance:function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},_drawBackground:function(){var e,t,i=this,s=i.renderer,r=i.widgetSize,n=r/2,o=i.style.strokeWidth||0;n-=o/2,i.style&&(e=i._getColor(i.style.fill),t=i._getColor(i.style.stroke),o=i.style.strokeWidth||1,"circle"!=i.type?s.rect(0,0,this.host.width(),this.host.height(),{fill:e,stroke:t,"stroke-width":o}):s.circle(r/2,r/2,n,{fill:e,stroke:t,"stroke-width":o}))},_drawDial:function(){var e,t,i,s,r,n,o,a,l,d=this;d.dial&&(e=d.renderer,s=t=(n=d.widgetSize)/2,r=d._getScale(d.dial.outerRadius,"w",n/2),n=d._getScale(d.dial.innerRadius,"w",n/2),o=null!=d.dial.startAngle&&null!=d.dial.endAngle?(i="clockwise"===d.rotation?360-d.dial.endAngle:d.dial.startAngle,"clockwise"===d.rotation?360-d.dial.startAngle:d.dial.endAngle):(i="clockwise"===d.rotation?360-d.endAngle:d.startAngle,"clockwise"===d.rotation?360-d.startAngle:d.endAngle),a=d._getColor(d.dial.style.fill),l=d._getColor(d.dial.style.stroke)||"",d=d.dial.style.strokeWidth||0,e.pieslice(s,t,n,r,i,o,0,{fill:a,stroke:l,"stroke-width":d}))},_getMarksArray:function(e){if(null==e)return[];function t(e){return parseFloat(e.toPrecision(12))}var i,s={},r=this.max,n=this.min,o=r-n,a=e.minorInterval,l=e.majorInterval;if(a){for(i=0;i<o;i+=a)s[t(n+i)]={type:"minor"};s[r]={type:"minor"}}if(l){for(i=0;i<o;i+=l)s[t(n+i)]={type:"major"};s[r]={type:"major"}}if(!a&&!l){var d=this.step;if(d){for(i=0;i<o;i+=d)s[t(n+i)]={type:"minor"};s[r]={type:"minor"}}}return s},_drawMarks:function(){var s,r,n,o,a,l,d,e,h=this;h.marks&&(s=h.renderer,r=h.widgetSize,a=h.marks&&null!=h.marks.colorRemaining?h.marks.colorRemaining:"transparent",a=h._getColor(a),h._dialMarks=[],l=h.marks.type||"line",d=h._getScale(h.marks.offset,"w",r/2),e=h._marksList,g.each(e,function(e,t){var i;h.dragEndAngle-h.dragStartAngle==360&&e==h.max||(o=h.dragStartAngle+h._calculateAngleFromValue(e,h.dragStartAngle,h.dragEndAngle,h.min,h.max),"circle"===l?(e=h._getScale(h.marks.size,"w",r/2),i=h._getPointerPosition({x:r/2,y:r/2},d,o,h.rotation),h._dialMarks.push(s.circle(i.x,i.y,e,{fill:a}))):"line"===l&&(n="major"===t.type&&null!==h.marks.majorSize&&void 0!==h.marks.majorSize?h._getScale(h.marks.majorSize,"w",r/2):h._getScale(h.marks.size,"w",r/2),i=h._getScale(h.marks.thickness,"w",r/2),e=h._getPointerPosition({x:r/2,y:r/2},d,o,h.rotation),t=h._getPointerPosition({x:r/2,y:r/2},d+n,o,h.rotation),g.jqx.browser.msie&&g.jqx.browser.version<9?h._dialMarks.push(s.line(parseInt(e.x),parseInt(e.y),parseInt(t.x),parseInt(t.y),{stroke:a,"stroke-width":i})):h._dialMarks.push(s.line(e.x,e.y,t.x,t.y,{stroke:a,"stroke-width":i}))))}))},_drawProgressBars:function(){var e=this;if(e.progressBar){e._progressBar=e._progressBar||[];for(var t=0;t<e._progressBar.length;t++)g(e._progressBar[t]).remove();if(e._progressBar=[],e._isArray(e.progressBar.style)){var i=e.value[0],s=e.value[1],r=e.progressBar.style[0],n=e.progressBar.style[1];if(e._progressBar.push(e._drawProgressBar(e.max,e.progressBar.background,"background")),e.progressBar.ranges)for(t=0;t<e.progressBar.ranges.length;t++){var o=e.progressBar.ranges[t].startValue,a=e.progressBar.ranges[t].endValue;e._progressBar.push(e._drawProgressBarFromToValue(o,a,e.progressBar.ranges[t],"background"))}e._progressBar.push(e._drawProgressBar(i,r)),e._progressBar.push(e._drawProgressBarFromEndToStart(s,n))}else{if(e._progressBar.push(e._drawProgressBar(e.max,e.progressBar.background,"background")),e.progressBar.ranges)for(t=0;t<e.progressBar.ranges.length;t++){o=e.progressBar.ranges[t].startValue,a=e.progressBar.ranges[t].endValue;e._progressBar.push(e._drawProgressBarFromToValue(o,a,e.progressBar.ranges[t],"background"))}e._progressBar.push(e._drawProgressBar(e.value,e.progressBar.style))}}},_drawProgressBarFromEndToStart:function(e,t){var i,s=this,r=s.renderer,n=s.widgetSize,o=s._getScale(s.progressBar.offset,"w",n/2),a=i=n/2,l=o,o=o+s._getScale(s.progressBar.size,"w",n/2),n=s._getColor(t.fill)||"transparent",d=s._getColor(t.stroke)||"transparent",e=s.dragStartAngle+s._calculateAngleFromValue(e,s.dragStartAngle,s.dragEndAngle,s.min,s.max),t=(s.dragStartAngle,t.strokeWidth||1);if(s.endAngle!=e)return"clockwise"===s.rotation?r.pieslice(a,i,l,o,360-s.endAngle,360-e,0,{fill:n,stroke:d,"stroke-width":t}):r.pieslice(a,i,l,o,void 0,e,0,{fill:n,stroke:d,"stroke-width":t})},_drawProgressBarFromToValue:function(e,t,i,s){var r,n=this,o=n.renderer,a=n.widgetSize,l=n._getScale(n.progressBar.offset,"w",a/2),d=n._getScale(n.progressBar.size,"w",a/2),h=a=a/2,c=l,u=l+d,p=n._getColor(i.fill)||"transparent",m=n._getColor(i.stroke)||"transparent",t=n.dragStartAngle+n._calculateAngleFromValue(t,n.dragStartAngle,n.dragEndAngle,n.min,n.max),e=n.dragStartAngle+n._calculateAngleFromValue(e,n.dragStartAngle,n.dragEndAngle,n.min,n.max);if(e!=t)return r="background"==s?0:1,s=i.strokeWidth||r,"circle"!=n.type?"rect"==n.type?(i=t*(this.host.height()-2*l),r=this.host.height()-2*l,o.rect(h-d/2,l+r-i,d,i,{fill:p,stroke:m,"stroke-width":s})):o.rect(l,a-d/2,this.host.width()-2*l,d,{fill:p,stroke:m,"stroke-width":s}):"clockwise"===n.rotation?o.pieslice(h,a,c,u,360-t,360-e,0,{fill:p,stroke:m,"stroke-width":s}):o.pieslice(h,a,c,u,e,t,0,{fill:p,stroke:m,"stroke-width":s})},_drawProgressBar:function(e,t,i){var s,r,n=this,o=n.renderer,a=n.widgetSize,l=n._getScale(n.progressBar.offset,"w",a/2),d=n._getScale(n.progressBar.size,"w",a/2),h=a=a/2,c=l,u=l+d,p=n._getColor(t.fill)||"transparent",m=n._getColor(t.stroke)||"transparent",e=n.dragStartAngle+n._calculateAngleFromValue(e,n.dragStartAngle,n.dragEndAngle,n.min,n.max),g=n.dragStartAngle;if(g!=e)return s="background"==i?0:1,i=t.strokeWidth||s,"circle"!=n.type?"rect"==n.type?(s=e*(this.host.height()-2*l),r=this.host.height()-2*l,o.rect(h-d/2,l+r-s,d,s,{fill:p,stroke:m,"stroke-width":i})):o.rect(l,a-d/2,this.host.width()-2*l,d,{fill:p,stroke:m,"stroke-width":i}):"clockwise"===n.rotation?o.pieslice(h,a,c,u,360-e,360-g,0,{opacity:t.opacity||1,fill:p,stroke:m,"stroke-width":i}):o.pieslice(h,a,c,u,g,e,0,{opacity:t.opacity||1,fill:p,stroke:m,"stroke-width":i})},_drawLabels:function(){var e=this,t=(e._labels=[],e.renderer),i=e.widgetSize;if(void 0===e.labels.visible&&(e.labels.visible=!0),!0===e.labels.visible){var s=e._getScale(e.labels.offset,"w",i/2),r=e.labels.type||"digits",n=e.labels.style,o=n&&n.fill?e._getColor(n.fill):"#333";if("digits"===r){var a=[];if(e.labels.customLabels)for(d=0;d<e.labels.customLabels.length;d++)a.push(e.labels.customLabels[d].value);else{for(var l=e.labels.step||e.step,d=e.min;d<e.max;d+=l)a.push(d);e.dragEndAngle-360<e.dragStartAngle&&a.push(e.max)}for(d=0;d<a.length;d++){var h,c,u=e.labels.customLabels?e.labels.customLabels[d].text:a[d].toString(),p=(e.labels.formatFunction&&(u=e.labels.formatFunction(u)),e.dragStartAngle),m=e.dragEndAngle,p=p+e._calculateAngleFromValue(a[d],p,m,e.min,e.max),m=e._getPointerPosition({x:i/2,y:i/2},s,p,e.rotation);g.jqx.browser.msie&&g.jqx.browser.version<9?(h=t.measureText(u,0,{class:this.toThemeProperty("jqx-knob-label")}),c=e.labels.rotate?90-p:0,t.text(u,m.x-h.width/2,m.y-h.height/2,h.width,h.height,c,{class:this.toThemeProperty("jqx-knob-label")},!1)):(h=t.measureText(u,0,{style:{fill:o},class:this.toThemeProperty("jqx-knob-label")}),c=e.labels.rotate?90-p:0,t.text(u,m.x-h.width/2,m.y-h.height/2,h.width,h.height,c,{style:{fill:o},class:this.toThemeProperty("jqx-knob-label")},!1))}}}},_drawPointers:function(){var e=this;if(e._pointers=e._pointers||[],e._pointers.forEach(function(e,t,i){g(e).remove(),i.splice(t,1)}),e.pointer)if(e._isArray(e.pointer))for(var t=0;t<e.progressBar.style.length;t++)!1!==e.pointer[t].visible&&e._pointers.push(e._drawPointer(e.value[t],e.pointer[t]));else!1!==e.pointer.visible&&e._pointers.push(e._drawPointer(e.value,e.pointer))},_drawPointer:function(e,t){var i,s,r,n,o,a,l=this,d=(t.id=t.id||l._getID(),l.renderer),h=l.widgetSize,c=(c=t.type)||"circle",u=(t.style||(t.style={fill:"#feaf4e",stroke:"#feaf4e"}),l._getColor(t.style.fill)),p=t.style.stroke||"",m=l._getScale(t.offset,"w",h/2),e=l.dragStartAngle+l._calculateAngleFromValue(e,l.dragStartAngle,l.dragEndAngle,l.min,l.max);return"circle"===c?(a=l._getScale(t.size,"w",h/2),i=l._getPointerPosition({x:h/2,y:h/2},m,e,l.rotation),i=d.circle(i.x,i.y,a,{id:t.id,fill:u,stroke:p})):"line"===c?(s=l._getScale(t.size,"w",h/2),r=t.thickness,a=l._getPointerPosition({x:h/2,y:h/2},m,e,l.rotation),n=l._getPointerPosition({x:h/2,y:h/2},m+s,e,l.rotation),i=d.line(a.x,a.y,n.x,n.y,{id:t.id,stroke:u,"stroke-width":r})):"arc"===c?(s=l._getScale(t.size,"w",h/2),a=(l.dragEndAngle-l.dragStartAngle)/l._steps.length,n=h/2,o="clockwise"===l.rotation?360-(e+a/2):e-a/2,a="clockwise"===l.rotation?360-(e-a/2):e+a/2,i=d.pieslice(n,n,m,m+s,o,a,0,{id:t.id,fill:u,stroke:p})):"arrow"===c&&(s=l._getScale(t.size,"w",h/2),r=t.thickness,d=l._getPointerPosition({x:h/2,y:h/2},s,e,l.rotation),n=l._getPointerPosition({x:h/2,y:h/2},m,e,l.rotation),o=l._getPointerPosition({x:n.x,y:n.y},r/2,e-90,l.rotation),a=l._getPointerPosition({x:n.x,y:n.y},r/2,e+90,l.rotation),c="M "+d.x+","+d.y+" L "+o.x+","+o.y+" L "+a.x+","+a.y+" "+d.x+","+d.y,i=this.renderer.path(c,{id:t.id,stroke:p,fill:u})),i},_rotateSpinnerMarks:function(s){var r=this,n=r.spinner.marks;if(n&&!1!==n.rotate){for(var o,a,l=r.renderer,d=r.widgetSize,h=n&&null!=n.colorRemaining?n.colorRemaining:"transparent",h=r._getColor(h),c=(c=n.type)||"line",u=r._getScale(n.offset,"w",d/2),e=0;e<r._spinnerMarks.length;e++)g(r._spinnerMarks[e]).remove();r._spinnerMarks=[];var t=r._spinnerMarksList;g.each(t,function(e,t){var i;if(r.endAngle-r.startAngle!=360||e!=r.max)return(a=s+r._calculateAngleFromValue(e,r.startAngle,r.endAngle,r.min,r.max))<r.startAngle||(a>r.endAngle&&a<r.startAngle+360||void("circle"===c?(e=r._getScale(n.size,"w",d/2),i=r._getPointerPosition({x:d/2,y:d/2},u,a,r.rotation),r._spinnerMarks.push(l.circle(i.x,i.y,e,{fill:h}))):"line"===c&&(o="major"===t.type&&null!==n.majorSize&&void 0!==n.majorSize?r._getScale(n.majorSize,"w",d/2):r._getScale(n.size,"w",d/2),i=r._getScale(n.thickness,"w",d/2),e=r._getPointerPosition({x:d/2,y:d/2},u,a,r.rotation),t=r._getPointerPosition({x:d/2,y:d/2},u+o,a,r.rotation),r._spinnerMarks.push(l.line(e.x,e.y,t.x,t.y,{stroke:h,"stroke-width":i})))))})}},_drawSpinnerMarks:function(s){var r,n,o,a,l,d,h,e,c=this;s&&(r=c.renderer,n=c.widgetSize,l=s&&null!=s.colorRemaining?s.colorRemaining:"transparent",l=c._getColor(l),c._spinnerMarks=[],d=s.type||"line",h=c._getScale(s.offset,"w",n/2),e=c._spinnerMarksList,g.each(e,function(e,t){var i;c.dragEndAngle-c.dragStartAngle==360&&e==c.max||(a=c.startAngle+c._calculateAngleFromValue(e,c.startAngle,c.endAngle,c.min,c.max),"circle"===d?(e=c._getScale(s.size,"w",n/2),i=c._getPointerPosition({x:n/2,y:n/2},h,a,c.rotation),c._spinnerMarks.push(r.circle(i.x,i.y,e,{fill:l}))):"line"===d&&(o="major"===t.type&&null!==s.majorSize&&void 0!==s.majorSize?c._getScale(s.majorSize,"w",n/2):c._getScale(s.size,"w",n/2),i=c._getScale(s.thickness,"w",n/2),e=c._getPointerPosition({x:n/2,y:n/2},h,a,c.rotation),t=c._getPointerPosition({x:n/2,y:n/2},h+o,a,c.rotation),c._spinnerMarks.push(r.line(e.x,e.y,t.x,t.y,{stroke:l,"stroke-width":i}))))}))},_drawSpinner:function(){var e,t,i,s,r,n,o,a,l=this;l.spinner&&(e=l.renderer,o=l.widgetSize,l.spinner.style||(l.spinner.style={fill:"#dfe3e9",stroke:"#dfe3e9"}),t=l._getColor(l.spinner.style.fill),i=l.spinner.style.stroke||"",r=s=o/2,n=l._getScale(l.spinner.outerRadius,"w",o/2),o=l._getScale(l.spinner.innerRadius,"w",o/2),a=t.strokeWidth||2,e.pieslice(r,s,o,n,360-l.endAngle,360-l.startAngle,0,{"stroke-width":a,fill:t,stroke:i}),l.spinner.marks&&l._drawSpinnerMarks(l.spinner.marks))},_getColor:function(e){return e&&"object"==typeof e?this._getGradient(e.color,e.gradientType,e.gradientStops):e},_getGradient:function(e,t,i){return t&&null!=i&&"object"==typeof i&&("linear"===t?e=this.renderer._toLinearGradient(e,!0,i):"linearHorizontal"===t?e=this.renderer._toLinearGradient(e,!1,i):"radial"===t&&(e=this.renderer._toRadialGradient(e,i))),e},_isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},_events:["slide","change"],_raiseEvent:function(e,t){e=this._events[e],e=g.Event(e);return e.args=t,this.host.trigger(e)},_movePointers:function(){for(var e,t=this,i=0;i<t._pointers.length;i++)1!==t._pointers.length?(e=t.dragStartAngle+t._calculateAngleFromValue(t.value[i],t.dragStartAngle,t.dragEndAngle,t.min,t.max),t._pointers[i]=t._movePointer(t._pointers[i],t.pointer[i],e,t.value[i])):(e=t.dragStartAngle+t._calculateAngleFromValue(t.value,t.dragStartAngle,t.dragEndAngle,t.min,t.max),t._pointers[0]=t._movePointer(t._pointers[0],t.pointer,e,t.value))},_movePointer:function(e,t,i,s){var r,n,o,a=this,l=a.renderer,d=a.widgetSize,h=(h=t.type)||"circle",c=a._getScale(t.offset,"w",d/2);return"circle"===h?(r=a._getPointerPosition({x:d/2,y:d/2},c,i,a.rotation),l.attr(e,{cx:r.x,cy:r.y}),g.jqx.browser.msie&&g.jqx.browser.version<9&&(g("#"+t.id).remove(),e=a._drawPointer(s,t))):"line"===h?(o=a._getScale(t.size,"w",d/2),r=a._getPointerPosition({x:d/2,y:d/2},c,i,a.rotation),n=a._getPointerPosition({x:d/2,y:d/2},c+o,i,a.rotation),l.attr(e,{x1:r.x,y1:r.y,x2:n.x,y2:n.y}),g.jqx.browser.msie&&g.jqx.browser.version<9&&(g("#"+t.id).remove(),e=a._drawPointer(s,t))):"arrow"===h?(o=a._getScale(t.size,"w",d/2),r=t.thickness,n=a._getPointerPosition({x:d/2,y:d/2},o,i,a.rotation),o=a._getPointerPosition({x:d/2,y:d/2},c,i,a.rotation),d=a._getPointerPosition({x:o.x,y:o.y},r/2,i-90,a.rotation),c=a._getPointerPosition({x:o.x,y:o.y},r/2,i+90,a.rotation),o="M "+n.x+","+n.y+" L "+d.x+","+d.y+" L "+c.x+","+c.y+" "+n.x+","+n.y,l.attr(e,{d:o}),g.jqx.browser.msie&&g.jqx.browser.version<9&&(g("#"+t.id).remove(),e=a._drawPointer(s,t))):"arc"===h&&(g("#"+t.id).remove(),e=a._drawPointer(t)),a.progressBar&&e.parentNode.appendChild(e.parentNode.removeChild(e)),e},_getPointerPosition:function(e,t,i,s){return g.jqx.browser.msie&&g.jqx.browser.version<9?{x:parseInt(e.x+t*Math.sin(Math.PI/180*(i+90))),y:"clockwise"===s?parseInt(e.y+t*Math.sin(Math.PI/180*i)):parseInt(e.y-t*Math.sin(Math.PI/180*i))}:{x:e.x+t*Math.sin(Math.PI/180*(i+90)),y:"clockwise"===s?e.y+t*Math.sin(Math.PI/180*i):e.y-t*Math.sin(Math.PI/180*i)}},_getID:function(){function e(){return 16*(1+Math.random())|0}return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_decrement:function(){this._setValue(this.value-this.step,"mouse")},_increment:function(){this._setValue(this.value+this.step,"mouse")},_refresh:function(){var e=this;if(e.disabled&&e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e.renderer||(e._isVML=!1,e.host.empty(),e._initRenderer(e.host)),e.removeHandler(g(document),"mousemove.jqxKnob"+e.host[0].id),e.removeHandler(g(document),"blur.jqxKnob"+e.host[0].id),e.removeHandler(g(document),"mouseup.jqxKnob"+e.host[0].id),e.removeHandler(e.host,"wheel"),e.removeHandler(e.host,"mousedown"),e.host.empty(),e._initRenderer(e.host),e.renderer){e._steps=[];for(var t=0;t<=(e.max-e.min)/e.step;t++)e._steps.push(e.min+e.step*t);e._initValues(),e._render()}},_render:function(){var e=this;e._drawBackground(),e._drawDial(),e._drawMarks(),e._drawLabels(),e._drawSpinner(),e._drawProgressBars(),e._updateMarksColor(),e._updateSpinnerMarksColor(),e._drawPointers(),e._attatchPointerEventHandlers()},_setValue:function(e,t){var i=this,s=i.value;if((e=isNaN(e)?i.min:e)>i.max?e=i.max:e<i.min&&(e=i.min),i.snapToStep)for(var r=i._steps,n=0;n<r.length;n++)if(e<r[n]){e=0===n||r[n]-e<e-r[n-1]?r[n]:r[n-1];break}e!=s&&(g.isArray(i.value)?-1!=i._pointerGrabbedIndex&&(1==i._pointerGrabbedIndex&&(i.value[0],i.value[i._pointerGrabbedIndex]=e),0==i._pointerGrabbedIndex&&(i.value[1],i.value[i._pointerGrabbedIndex]=e),i.value[i._pointerGrabbedIndex]=e):i.value=e,i._updateProgressBarColor(),i._updateMarksColor(),i._updateSpinnerMarksColor(),s=i.dragStartAngle+i._calculateAngleFromValue(e,i.dragStartAngle,i.dragEndAngle,i.min,i.max),i._rotateSpinnerMarks(s),i._movePointers(),i._raiseEvent(1,{value:i.value,type:t}))},_updateMarksColor:function(){var t=this;if(t.marks&&(t.marks.colorProgress||t.marks.colorRemaining))for(var e=t.renderer,i=[],s=(g.each(t._marksList,function(e){t.endAngle-t.startAngle==360&&t.max,i.push(e)}),t._getColor(t.marks.colorProgress)),r=t._getColor(t.marks.colorRemaining),n=t.value.length?t.value[0]:t.value,o=0;o<t._dialMarks.length;o++)i[o]>n?"circle"===t.marks.type?e.attr(t._dialMarks[o],{fill:r}):e.attr(t._dialMarks[o],{stroke:r}):"circle"===t.marks.type?e.attr(t._dialMarks[o],{fill:s}):e.attr(t._dialMarks[o],{stroke:s}),t.progressBar&&t.marks.drawAboveProgressBar&&t._dialMarks[o].parentNode.appendChild(t._dialMarks[o].parentNode.removeChild(t._dialMarks[o]))},_updateSpinnerMarksColor:function(){var t=this;if(t.spinner&&t.spinner.marks&&t.spinner.marks&&(t.spinner.marks.colorProgress||t.spinner.marks.colorRemaining))for(var e=t.renderer,i=[],s=(g.each(t._spinnerMarksList,function(e){t.endAngle-t.startAngle==360&&e==t.max||i.push(e)}),t._getColor(t.spinner.marks.colorProgress)),r=t._getColor(t.spinner.marks.colorRemaining),n=t.value.length?t.value[0]:t.value,o=0;o<t._spinnerMarks.length;o++)i[o]>n?"circle"===t.spinner.marks.type?e.attr(t._spinnerMarks[o],{fill:r}):e.attr(t._spinnerMarks[o],{stroke:r}):"circle"===t.spinner.marks.type?e.attr(t._spinnerMarks[o],{fill:s}):e.attr(t._spinnerMarks[o],{stroke:s})},_updateProgressBarColor:function(){this.progressBar&&this._drawProgressBars()},_validateProperties:function(){function e(e,t){return e&&"string"==typeof e?{fill:e,stroke:e}:(e||((e={}).fill=t,e.stroke=t),e&&e.fill&&!e.stroke&&(e.stroke=e.fill),e&&!e.fill&&e.stroke&&(e.fill=e.stroke),e&&!e.fill&&(e.fill=t),e&&!e.stroke&&(e.stroke=t),e)}var t=this;if(t.dial&&(t.dial.style=e(t.dial.style,"#dddddd")),t.style&&(t.style=e(t.style,"#dddddd")),t.progressBar&&(t.progressBar.style=e(t.progressBar.style,"transparent"),t.progressBar.background=e(t.progressBar.background,"transparent")),t.spinner&&(t.spinner.style=e(t.spinner.style,"transparent")),t.pointer&&(t.pointer.style=e(t.pointer.style,"transparent")),t.startAngle>=t.endAngle)throw new Error("jqxKnob: The end angle must be bigger than the start angle!");if(t.startAngle<0||360<t.startAngle)throw new Error("jqxKnob: Start angle must be between 0 and 360");if(t.endAngle>t.startAngle+360)throw new Error("jqxKnob: End angle must be between startAngle and startAngle + 360");if(t.dial&&t.dial.color&&"transparent"!==t.dial.color&&(!t.dial.outerRadius||!t.dial.innerRadius))throw new Error("jqxKnob: Dial options innerRadius and outerRadius need to be specified");if(t._isArray(t.pointer)||t._isArray(t.value)){if(!t._isArray(t.pointer))throw new Error("jqxKnob: If the value is an array, the pointer must also be an array.");if(!t._isArray(t.value))throw new Error("jqxKnob: If the pointer is an array, the value must also be an array.");if(t.pointer.length!==t.value.length)throw new Error("jqxKnob: The pointer and value array sizes must match.");if(t.progressBar&&(!t._isArray(t.progressBar.style)||t.progressBar.style.length!==t.pointer.length))throw new Error("jqxKnob: progressBar color must be an array with the same number of elements as the pointer and value.")}return!0}})}(jqxBaseFramework),!function(j){j.jqx.jqxWidget("jqxLayout","",{}),j.extend(j.jqx._jqxLayout.prototype,{defineInstance:function(){var e={width:null,height:null,minGroupWidth:100,minGroupHeight:100,layout:[],resizable:!0,contextMenu:!1,rtl:!1,events:["create","resize","pin","unpin","floatGroupClosed"]};return this===j.jqx._jqxLayout.prototype||j.extend(!0,this,e),e},createInstance:function(){var e=this;e._originalElement=j(e.element.cloneNode(!0)),e._coordinates=[],e._oldIE=j.jqx.browser.msie&&j.jqx.browser.version<9,e._ie7=j.jqx.browser.msie&&j.jqx.browser.version<8,e._touchDevice=j.jqx.mobile.isTouchDevice(),"none"!==e.host.css("display")&&!0===document.body.contains(e.element)?(e._initiallyHidden=!1,e._initialization=!0,e.render()):e._initiallyHidden=!0,j.jqx.utilities.resize(this.host,function(){!0!==e._suppressResizeHandler&&(!0===e._initiallyHidden&&(e._initialization=!0),e.render(),!0===e._initiallyHidden&&(e.dockingLayout&&(e.dockingLayout._createOverlay(),e.dockingLayout._createEdgeOverlays()),e._initiallyHidden=!1))})},render:function(){var e=this,t=[];if(e._tabbedGroupsList=[],e.dockingLayout&&!(e._overlayGroups=[])===e._initialization)for(var i=e.dockingLayout._overlay.detach(),s=e.dockingLayout._dropOverlayHelper.detach(),r=0;r<e.dockingLayout._edgeOverlays.length;r++)t.push(j(e.dockingLayout._edgeOverlays[r]).detach());if(!0===e._rendered&&e._detachContent(e.layout[0].items),e.element.innerHTML="",!e.host.jqxRibbon)throw new Error("jqxLayout: Missing reference to jqxribbon.js.");if(e._setSize(),e._addClasses(),e._removeHandlers(),!e._rendered){if("layoutGroup"!==e.layout[0].type)throw new Error('jqxLayout: Invalid layout structure. The first member of the layout array has to be with type: "layoutGroup".');var n=e.layout[0].items[0].width,o=e.layout[0].items[0].height;n&&"string"==typeof n&&"%"===n.charAt(n.length-1)||o&&"string"==typeof o&&"%"===o.charAt(o.length-1)||(e.layout[0].initialPxWidth=e.element.offsetWidth,e.layout[0].initialPxHeight=e.element.offsetHeight,e._pxToPercent(e.layout[0],!0))}if(e._createLayout(e.layout,e.host,{type:"host"},0),!0===e.resizable&&(e._addResizeFeedbacks(),e._getGroupCoordinates(),e._addHandlers()),!0===e.contextMenu&&e._initMenu(),!0===e._initialization)e._initialization=!1,e._raiseEvent("0");else if(e.dockingLayout){if(e._ie7){j("body").append(i,s);for(var a=0;a<t.length;a++)j("body").append(t[a])}else{i.appendTo(e.host),s.appendTo(e.host);for(var l=0;l<t.length;l++)t[l].appendTo(e.host)}e.dockingLayout._trackFloatGroups()}for(var d=0;d<e._tabbedGroupsList.length;d++)e._validateTabbedGroup(e._tabbedGroupsList[d]);e._rendered||(e._rendered=!0)},refresh:function(e){!0!==e&&this.render()},destroy:function(){this._mouseupHandler=null,this._docUP=null,this._removeHandlers(),!0===this.contextMenu&&this._menu.jqxMenu("destroy"),this.host.remove()},saveLayout:function(){for(var e=[],t=0;t<this.layout.length;t++)this._copyItem(this.layout[t],e);return e},loadLayout:function(e){void 0!==e&&!1===j.isEmptyObject(e)&&(this.layout=e,this._rendered=!1,e=this._suppressResizeHandler,this._suppressResizeHandler=!0,this.render(),this._suppressResizeHandler=e)},propertyChangedHandler:function(g,e,t,f){if("layout"!==e){if(f!==t)switch(e){case"width":case"height":g.element.style[e]=g._toPx(f);break;case"theme":j.jqx.utilities.setTheme(t,f,g.host),g._menuInitialized&&j.jqx.utilities.setTheme(t,f,g._menu),g.dockingLayout&&0<j("."+g.element.id+"FloatGroup").length&&j("."+g.element.id+"FloatGroup").jqxWindow({theme:f});break;case"layout":case"resizable":g.render();break;case"contextMenu":!0!==f||g._menuInitialized||g.render();break;case"rtl":function i(e){for(var t=g._find(e,".jqx-layout-pseudo-window-title-"+x),i=g._find(e,".jqx-layout-pseudo-window-pin-background-"+x),s=g._find(e,".jqx-layout-pseudo-window-close-background-"+x),r=g._find(e,".jqx-layout-ribbon-header"),n=g._find(e,".jqx-ribbon"),o=0;o<t.length;o++){var a=j(t[o]);a.removeClass(g.toThemeProperty("jqx-layout-pseudo-window-title-"+x)),a.addClass(g.toThemeProperty("jqx-layout-pseudo-window-title-"+v))}for(var l=0;l<i.length;l++){var d=j(i[l]);d.removeClass(g.toThemeProperty("jqx-layout-pseudo-window-pin-background-"+x)),d.addClass(g.toThemeProperty("jqx-layout-pseudo-window-pin-background-"+v))}for(var h=0;h<s.length;h++){var c=j(s[h]);c.removeClass(g.toThemeProperty("jqx-layout-pseudo-window-close-background-"+x)),c.addClass(g.toThemeProperty("jqx-layout-pseudo-window-close-background-"+v))}for(var u=0;u<r.length;u++){var p=j(r[u]);p.removeClass(g.toThemeProperty("jqx-layout-ribbon-header-"+x)),p.addClass(g.toThemeProperty("jqx-layout-ribbon-header-"+v))}for(var m=0;m<n.length;m++)j(n[m]).jqxRibbon({rtl:f})}var v=f?"rtl":"ltr",x=f?"ltr":"rtl";if(i(g.host),g.dockingLayout)for(var s=g._find(document.body,"."+g.element.id+"FloatGroup"),r=0;r<s.length;r++){var n=j(s[r]);i(n),n.jqxWindow({rtl:f})}}}else g.render()},_raiseEvent:function(e,t){e=this.events[e],(t=void 0===t?{owner:null}:t).owner=this,e=new j.Event(e);return e.owner=this,e.args=t,e.preventDefault&&e.preventDefault(),this.host.trigger(e)},_setSize:function(){this.element.style.width=this._toPx(this.width),this.element.style.height=this._toPx(this.height)},_addClasses:function(){this.host.addClass(this.toThemeProperty("jqx-layout jqx-widget jqx-widget-content jqx-rc-all"))},_getPercentage:function(e,t,i){return e/t.widget[i]()*100},_addHandlers:function(){var h,c,p=this,e=p.element.id;function t(e,t){for(var i=0;i<p._coordinates.length;i++){var s=p._coordinates[i];if(e>=s.x.from&&e<=s.x.to&&t>=s.y.from&&t<=s.y.to){"horizontal"===s.orientation?p.element.style.cursor="col-resize":p.element.style.cursor="row-resize",p._resize={allowed:!0,widget:s.widget,side:s.side};break}p.element.style.cursor="default",p._resize.allowed=!1}}function i(e){if(!0===p._resize.allowed){var t=p._resize.widget,i=t.current.parent,s=p._percentToPx("width",t.current.minWidth,i),r=p._percentToPx("height",t.current.minHeight,i),n=i.items[t.current.index-1],o=i.items[t.current.index+1];switch(p._resizeStartPosition={x:e.pageX,y:e.pageY},s=s||p._percentToPx("width",p.minGroupWidth,i),s=Math.min(s,t.width()),t.current.minWidth=s,r=r||p._percentToPx("height",p.minGroupHeight,i),r=Math.min(r,t.height()),t.current.minHeight=r,p._resize.side){case"left":var a=(a=p._percentToPx("width",n.minWidth,i))||p._percentToPx("width",p.minGroupWidth,i);h=n.widget.offset().left+a,c=t.offset().left+t.width()-s;break;case"right":a=(a=p._percentToPx("width",o.minWidth,i))||p._percentToPx("width",p.minGroupWidth,i);h=t.offset().left+s,c=o.widget.offset().left+o.widget.width()-a;break;case"top":a=(a=p._percentToPx("height",n.minHeight,i))||p._percentToPx("height",p.minGroupHeight,i);h=n.widget.offset().top+a,c=t.offset().top+t.height()-r;break;case"bottom":a=(a=p._percentToPx("height",o.minHeight,i))||p._percentToPx("height",p.minGroupHeight,i);h=t.offset().top+r,c=o.widget.offset().top+o.widget.height()-a}function l(e,t){var i;return t=void 0===t?{top:0,left:0}:t,e!==top&&(i=e.frameElement.getBoundingClientRect(),t.left+=i.left,t.top+=i.top,t=l(e.parent,t)),t}var d;p._clickedToResize=!0,p._overlay[0].style.display="block","left"===p._resize.side||"right"===p._resize.side?(p._verticalFeedback[0].style.height=p._resize.widget.height()+"px",d=p._ie7?l(window).top:0,p._verticalFeedback.offset({top:p._resize.widget.offset().top-p.host.offset().top+document.body.scrollTop-d})):(p._horizontalFeedback[0].style.width=p._resize.widget.width()+"px",d=p._ie7?l(window).left:0,p._horizontalFeedback.offset({left:p._resize.widget.offset().left-p.host.offset().left+document.body.scrollLeft+1-d}))}}function m(e,t,i,s,r){var n=r.charAt(0).toUpperCase()+r.slice(1),o=t.parent,e=e?(a=p._percentToPx(r,i["min"+n],o),parseFloat(i[r])/100*t.parent.widget[r]()-s):(a=p._percentToPx(r,t["min"+n],o),parseFloat(t[r])/100*t.parent.widget[r]()-s),a=a||p._percentToPx(r,p["minGroup"+n],o);return e<a?a:e}function s(e){if(!0===p._clickedToResize){function t(){p._clickedToResize=!1,p._overlay[0].style.display="none",p._verticalFeedback[0].style.display="none",p._horizontalFeedback[0].style.display="none"}var i,s,r,n,o,a,l=e.pageX,d=e.pageY,h=p._resize.widget.current,c=p._resize.widget.offset(),u=c.left,c=c.top;if(e.pageX===p._resizeStartPosition.x&&e.pageY===p._resizeStartPosition.y)t();else{if("left"===p._resize.side||"right"===p._resize.side){if(a=h.width,r="left"===p._resize.side?(i=h.parent.items[h.index-1],l<(s=u)):(i=h.parent.items[h.index+1],(s=u+h.widget.width())<=l),0===(n=Math.abs(l-s)))return void t();if(r?(o=p._getPercentage(m(!0,h,i,n,"width"),h.parent,"width"),n=Math.abs(o-parseFloat(i.width)),i.width=o+"%",h.width=parseFloat(h.width)+n+"%"):(o=p._getPercentage(m(!1,h,i,n,"width"),h.parent,"width"),n=Math.abs(o-parseFloat(h.width)),h.width=o+"%",i.width=parseFloat(i.width)+n+"%"),h.width===a)return void t()}else{if(a=h.height,r="top"===p._resize.side?(i=h.parent.items[h.index-1],d<(s=c)):(i=h.parent.items[h.index+1],(s=c+h.widget.height())<=d),0===(n=Math.abs(d-s)))return void t();if(r?(o=p._getPercentage(m(!0,h,i,n,"height"),h.parent,"height"),n=Math.abs(o-parseFloat(i.height)),i.height=o+"%",h.height=parseFloat(h.height)+n+"%"):(o=p._getPercentage(m(!1,h,i,n,"height"),h.parent,"height"),n=Math.abs(o-parseFloat(h.height)),h.height=o+"%",i.height=parseFloat(i.height)+n+"%"),h.height===a)return void t()}t(),p.render(),p._raiseEvent("1",{item:h})}}}function r(e){var t;!0===p._clickedToResize&&(t=e.pageX,e=e.pageY,"left"===p._resize.side||"right"===p._resize.side?(p._verticalFeedback[0].style.display="block",t<h?(t=h,p._verticalFeedback.addClass(p.toThemeProperty("jqx-layout-resize-feedback-warning"))):c<t?(t=c,p._verticalFeedback.addClass(p.toThemeProperty("jqx-layout-resize-feedback-warning"))):p._verticalFeedback.removeClass(p.toThemeProperty("jqx-layout-resize-feedback-warning")),p._verticalFeedback.offset({left:t-2})):(p._horizontalFeedback[0].style.display="block",e<h?(e=h,p._horizontalFeedback.addClass(p.toThemeProperty("jqx-layout-resize-feedback-warning"))):c<e?(e=c,p._horizontalFeedback.addClass(p.toThemeProperty("jqx-layout-resize-feedback-warning"))):p._horizontalFeedback.removeClass(p.toThemeProperty("jqx-layout-resize-feedback-warning")),p._horizontalFeedback.offset({top:e-2}),p._horizontalFeedback.offset({left:p._resize.widget.offset().left+document.body.scrollLeft+1})))}if(p._resize={allowed:!1},p._clickedToResize=!1,p._docUP=s,p._touchDevice?(p.addHandler(j(document),"touchstart.jqxDockingLayout"+e,function(e){e=e.originalEvent.touches[0];t(e.pageX,e.pageY),i(e)}),p.addHandler(j(document),"touchmove.jqxDockingLayout"+e,function(e){r(e.originalEvent.touches[0])}),p.addHandler(j(document),"touchend.jqxDockingLayout"+e,function(e){s(e.originalEvent.changedTouches[0])})):(p.addHandler(p.host,"mousemove.jqxLayout"+e,function(e){!1===p._clickedToResize&&(!p.dockingLayout||p.dockingLayout&&!0!==p.dockingLayout._windowDragged)&&t(e.pageX,e.pageY)}),p.addHandler(j(document),"mousemove.jqxLayout"+e,function(e){r(e)}),p.addHandler(p.host,"mousedown.jqxLayout"+e,function(e){i(e)}),p.addHandler(j(document),"mouseup.jqxLayout"+e,function(e){s(e)})),p.addHandler(j(document),"selectstart.jqxLayout"+e,function(){if(!0===p._clickedToResize)return!1}),p.dockingLayout)try{""===document.referrer&&!window.frameElement||(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",p._mouseupHandler,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",p._mouseupHandler))}catch(e){}},_removeHandlers:function(){var e=this,t=e.element.id;if(e._touchDevice?(e.removeHandler(j(document),"touchstart.jqxLayout"+t),e.removeHandler(j(document),"touchmove.jqxLayout"+t),e.removeHandler(j(document),"touchend.jqxLayout"+t)):(e.removeHandler(e.host,"mousemove.jqxLayout"+t),e.removeHandler(j(document),"mousemove.jqxLayout"+t),e.removeHandler(e.host,"mousedown.jqxLayout"+t),e.removeHandler(j(document),"mouseup.jqxLayout"+t)),e.removeHandler(j(document),"selectstart.jqxLayout"+t),e.dockingLayout)try{""===document.referrer&&!window.frameElement||(window.top.document.removeEventListener?window.top.document.removeEventListener("mouseup",e._mouseupHandler,!1):window.top.document.detachEvent&&window.top.document.detachEvent("onmouseup",e._mouseupHandler))}catch(e){}if(e._oldIE)j("."+t+"FloatGroup").off("close");else for(var i=document.body.querySelectorAll("."+t+"FloatGroup"),s=0;s<i.length;s++)e.removeHandler(i[s],"close")},_createLayout:function(e,s,t){function i(e){var t=s.children(),i=t[0],t=t[1];i.innerHTML=e.title,void 0===(d=e.content||(void 0!==(i=r._find(r._originalElement,'[data-container="'+e.contentContainer+'"]')[0])?i.innerHTML:""))&&(d=""),t.innerHTML=d}for(var r=this,n=t.type,o=0;o<e.length;o++){var a,l,d,h,c,u,p,m=e[o];switch(m.type){case"layoutGroup":var g=document.createElement("div"),f="jqx-layout-group-default";"horizontal"===m.orientation&&(f+=" jqx-layout-group-default-horizontal"),"host"===n?f+=" jqx-layout-group-root":(v="horizontal"===t.orientation?m.width:"100%",x="horizontal"===t.orientation?"100%":m.height,g.style.width=r._toPx(v),g.style.height=r._toPx(x)),g.className=r.toThemeProperty(f),s[0].appendChild(g),a=j(g);break;case"tabbedGroup":"floatGroup"!==n?((a=document.createElement("div")).className=r.toThemeProperty("jqx-layout-group-tabbed"),a.innerHTML='<div class="jqx-layout-window-header"><div></div></div><div><div class="jqx-layout-ribbon"><ul class="jqx-layout-ribbon-header jqx-layout-ribbon-header-'+(r.rtl?"rtl":"ltr")+'"></ul><div class="jqx-layout-ribbon-content"></div></div></div>',s[0].appendChild(a),a=j(a),r._addRightClickHandler(r._find(a,".jqx-layout-window-header")[0],a)):((a=document.createElement("div")).className="jqx-layout-ribbon",a.innerHTML='<ul class="jqx-layout-ribbon-header jqx-layout-ribbon-header-'+(r.rtl?"rtl":"ltr")+'"></ul><div class="jqx-layout-ribbon-content"></div>',s.children()[1].appendChild(a),a=j(a));break;case"documentGroup":case"autoHideGroup":g=document.createElement("div");var v="";"documentGroup"===m.type&&(v="jqx-layout-ribbon-header jqx-layout-ribbon-header-"+(r.rtl?"rtl":"ltr")),g.innerHTML='<ul class="'+v+'"></ul><div></div>',r._ie7&&"autoHideGroup"===m.type&&(g.style.zIndex=9999-500*o),s[0].appendChild(g),a=j(g);break;case"floatGroup":if(r._rendered&&!0!==m.programmaticallyAdded)continue;if(!r.dockingLayout)throw new Error("Float groups are only available in the jqxDockingLayout widget. Initialize a jqxDockingLayout (requires jqxdockinglayout.js) instead of a jqxLayout.");(a=document.createElement("div")).className=r.toThemeProperty("jqx-docking-layout-group-floating"),a.innerHTML="<div></div><div></div>",s[0].appendChild(a),a=j(a),!0===m.programmaticallyAdded&&delete m.programmaticallyAdded;break;case"layoutPanel":if(a={},"tabbedGroup"===n){var x=r._find(s,".jqx-layout-window-header")[0];if(x&&""===j(x).text()&&(x.firstChild.innerHTML=m.title),(c=document.createElement("li")).innerHTML=m.title,r._find(s,".jqx-layout-ribbon-header")[0].appendChild(c),d=r._rendered||m.docked?m.detachedContent:void 0!==(l=r._find(r._originalElement,'[data-container="'+m.contentContainer+'"]')[0])?l.innerHTML:"",h=document.createElement("div"),"string"==typeof d)h.innerHTML=d;else for(var y=0;y<d.length;y++)j(d[y]).appendTo(h);r._find(s,".jqx-layout-ribbon-content")[0].appendChild(h),r._addRightClickHandler(c,a)}else if("autoHideGroup"===n){if(u=s.children(),(c=document.createElement("li")).innerHTML=m.title,u[0].appendChild(c),d=r._rendered?m.detachedContent:void 0!==(l=r._find(r._originalElement,'[data-container="'+m.contentContainer+'"]')[0])?l.innerHTML:"",h=document.createElement("div"),"string"==typeof d)h.innerHTML=d;else for(var w=0;w<d.length;w++)d[w].appendTo(h);var f="left"===t.alignment||"right"===t.alignment?(void 0!==t.popupContentSize&&(h.style.width=parseInt(t.popupContentSize,10)+"px"),"jqx-layout-group-auto-hide-content-vertical"):(void 0!==t.popupContentSize&&(h.style.height=parseInt(t.popupContentSize,10)+"px"),"jqx-layout-group-auto-hide-content-horizontal"),b=(h.className=r.toThemeProperty(f),document.createElement("div")),_=document.createElement("div");_.className="jqx-layout-window",_.innerHTML="<div><div>"+m.title+"</div></div>",_.appendChild(h),b.appendChild(_),u[1].appendChild(b),r._addRightClickHandler(_,a)}else"floatGroup"===n&&i(m);break;case"documentPanel":if(a={},"floatGroup"===n)i(m);else{if(u=s.children(),(c=document.createElement("li")).innerHTML=m.title,u[0].appendChild(c),d=r._rendered||m.docked?m.detachedContent:void 0!==(l=r._find(r._originalElement,'[data-container="'+m.contentContainer+'"]')[0])?l.innerHTML:"",h=document.createElement("div"),"string"==typeof d)h.innerHTML=d;else for(var q=0;q<d.length;q++)d[q].appendTo(h);u[1].appendChild(h),r._addRightClickHandler(c,a)}}m.items&&0<m.items.length&&(p=a,r._createLayout(m.items,p,m)),r._createWidget(t,s,m,a,o),r.dockingLayout&&("documentGroup"===m.type||"tabbedGroup"===m.type||"layoutGroup"===m.type&&0===m.items.length)&&(p={element:a,width:a.width(),height:a.height(),offset:a.offset(),settings:m},r._overlayGroups.push(p),"floatGroup"===m.parent.type&&(m.parent._overlayGroup=p))}},_createWidget:function(t,e,n,o,i){var s,r,a=this,l="horizontal"===t.orientation?n.width:"100%",d="horizontal"===t.orientation?"100%":n.height,h=!1;function c(){for(var e=0,t=0;t<n.items.length;t++)if(!0===n.items[t].selected){e=t;break}return n.items[e].selected=!0,e}switch(n.parent=t,n.widget=o,n.index=i,n.widget&&(n.widget.current=n),n.type){case"tabbedGroup":"floatGroup"!==t.type?(s=a._initWindowPanel(o,l,d,n.type),r=j(a._find(o,".jqx-layout-ribbon")[0]),a._tabbedGroupsList.push(n)):r=o,a.dockingLayout&&!1!==n.allowDrag&&(h=!0),r.jqxRibbon({theme:a.theme,width:"100%",height:"100%",position:"bottom",selectionMode:"click",animationType:"none",rtl:a.rtl,_roundedCorners:!1,initContent:function(e){var t=n.items[e];!t.initialized&&t.initContent&&(t.initContent(j(this._contentSections[e])),t.initialized=!0)},_removeByDrag:h,reorder:!0,_suppressReorder:!1}),r.on("select",function(e){e.stopPropagation(),e.target.id===r[0].id&&(e.stopPropagation(),e=e.args.selectedIndex,n.items[e].selected=!0,e=j(j(r.children()[1]).children()[e]).text(),"floatGroup"!==t.type?s[0].innerHTML=e:a._find(t.widget,".jqx-window-header")[0].firstChild.innerHTML=e)}),r.on("unselect",function(e){e.stopPropagation(),e.target.id===r[0].id&&(n.items[e.args.unselectedIndex].selected=!1)}),r.on("reorder",function(e){a._swapPanelsInLayout(n.items,e.args.newIndex,e.args.oldIndex);var t=e.args.newIndex;setTimeout(function(){n.items[t]&&a._addRightClickHandler(a._find(r,".jqx-ribbon-item")[t],n.items[t].widget)},200)}),h&&(r.on("_removeByDrag",function(e){a.dockingLayout._removeByDragHandler(e,n,r),"floatGroup"===n.parent.type&&1===n.items.length&&r.jqxRibbon({_removeByDrag:!1})}),"floatGroup"!==n.parent.type&&a.dockingLayout._addTabbedGroupHandlers(n,o)),r.jqxRibbon("selectAt",c());break;case"documentGroup":a.dockingLayout&&!1!==n.allowDrag&&(h=!0),o.jqxRibbon({theme:a.theme,width:l,height:d,_roundedCorners:!1,position:"top",selectedIndex:c(),selectionMode:"click",animationType:"none",rtl:a.rtl,initContent:function(e){var t=n.items[e];!t.initialized&&t.initContent&&(t.initContent(j(this._contentSections[e])),t.initialized=!0)},_removeByDrag:h,reorder:!0,_suppressReorder:!1}),o.on("select",function(e){e.stopPropagation(),e.target.id===o[0].id&&(n.items[e.args.selectedIndex].selected=!0)}),o.on("unselect",function(e){e.stopPropagation(),e.target.id===o[0].id&&(n.items[e.args.unselectedIndex].selected=!1)}),o.on("reorder",function(e){a._swapPanelsInLayout(n.items,e.args.newIndex,e.args.oldIndex);var t=e.args.newIndex;setTimeout(function(){a._addRightClickHandler(a._find(o,".jqx-ribbon-item")[t],n.items[t].widget)},200)}),h&&o.on("_removeByDrag",function(e){a.dockingLayout._removeByDragHandler(e,n,o)}),o.addClass(a.toThemeProperty("jqx-layout-group-document"));break;case"autoHideGroup":o.jqxRibbon({theme:a.theme,width:l,height:d,mode:"popup",popupCloseMode:"click",position:n.alignment,selectionMode:"click",animationType:"none",_roundedCorners:!1,rtl:a.rtl,initContent:function(e){var t=j(this._contentSections[e]),t=j(a._find(t,".jqx-layout-window")[0]);t.current=o.current.items[e],t[0].style.border="none",a._initWindowPanel(t,"100%","100%",n.type),!n.items[e].initialized&&n.items[e].initContent&&(n.items[e].initContent(j(t.children()[1])),n.items[e].initialized=!0)}}),o.addClass(a.toThemeProperty("jqx-layout-group-auto-hide"));break;case"floatGroup":o.addClass(a.element.id+"FloatGroup"),o.jqxWindow({theme:a.theme,width:n.width,maxWidth:null,height:n.height,maxHeight:null,position:{x:n.position.x,y:n.position.y},showCloseButton:!1!==n.allowClose,closeButtonAction:"close",rtl:a.rtl,initContent:function(){var e=this._header,t=a._touchDevice?"touchstart":"mousedown",i=".jqxLayout"+a.element.id;if(a.addHandler(e,t+i,function(){var e,t,i;a.dockingLayout._windowDragged=!0,n._overlayGroup&&(n._overlayGroup.self=!0),a.dockingLayout._interval(),a.resizable&&(a._overlay[0].style.display="block"),"documentPanel"===n.items[0].type?(e={type:"documentGroup"},i=(t=n.items[0]).title):"layoutPanel"===n.items[0].type?(e={type:"tabbedGroup"},i=(t=n.items[0]).title):"tabbedGroup"===n.items[0].type&&(e=n.items[0]),a.dockingLayout._draggedWindow={fromGroup:e,fromPanel:t,title:i,element:o},a.dockingLayout._showEdgeOverlays()}),a.addHandler(e,"mouseup"+i,function(){a.dockingLayout._hideOverlays()}),"tabbedGroup"===n.items[0].type){for(var s=0,r=0;r<n.items[0].items.length;r++)if(n.items[0].items[r].selected){s=r;break}t=n.items[0].items[s].title;o.jqxWindow("setTitle",t)}else n.items[0].initContent&&n.items[0].initContent(this._content)}}),o.on("moved",function(e){n.position.x=e.args.x,n.position.y=e.args.y,n._overlayGroup&&a.dockingLayout._updateOverlayGroup(n._overlayGroup),a.dockingLayout._windowCreate=!1,a.dockingLayout._hideOverlays(),a.dockingLayout._clearTextSelection()}),o.on("resized",function(e){n.width=e.args.width,n.height=e.args.height;e=j(this).offset();n.position.x=e.left,n.position.y=e.top,n._overlayGroup&&a.dockingLayout._updateOverlayGroup(n._overlayGroup)}),o.on("close",function(e){e.stopPropagation(),e.target.id===o[0].id&&(a._raiseEvent("4",{element:o,floatGroup:o.current}),o.current._overlayGroup&&(o.current._overlayGroup.removed=!0,a.dockingLayout._updateOverlayGroups()),a.dockingLayout._removeFloatGroupObject(o.current))})}},_initWindowPanel:function(e,t,i,s){var r,n,o,a,l=this,d=(e.addClass(l.toThemeProperty("jqx-widget jqx-widget-content jqx-window jqx-layout-pseudo-window jqx-rc-all")),l._ie7?(h=e.parent(),"tabbedGroup"===s?(r=parseInt(e.css("border-left-width"),10),d=parseInt(e.css("border-right-width"),10),u=parseInt(e.css("border-top-width"),10),p=parseInt(e.css("border-bottom-width"),10),c="100%"===t?h.width():parseFloat(t)/100*h.width(),c-=r+d,r="100%"===i?h.height():parseFloat(i)/100*h.height(),e.css({width:c,height:r-=u+p})):"autoHideGroup"===s&&e.css({width:t,height:i})):(e[0].style.width=t,e[0].style.height=i),l.rtl?"rtl":"ltr"),h=j(e[0].firstChild),c=j(h[0].firstChild),u=(c.addClass(l.toThemeProperty("jqx-layout-pseudo-window-title jqx-layout-pseudo-window-title-"+d)),h.addClass(l.toThemeProperty("jqx-widget-header jqx-window-header jqx-disableselect jqx-layout-pseudo-window-header")),l._ie7&&(h.css("width",h.width()-parseInt(h.css("padding-left"),10)-parseInt(h.css("padding-right"),10)),h.css("height",h.height()-parseInt(h.css("padding-top"),10)-parseInt(h.css("padding-bottom"),10))),0);if((l.dockingLayout?"layoutPanel"===e.current.type?void 0===e.current.parent.allowClose||!0===e.current.parent.allowClose:void 0===e.current.allowClose||!0===e.current.allowClose:"layoutPanel"===e.current.type?!0===e.current.parent.allowClose:!0===e.current.allowClose)&&((n=document.createElement("div")).className=l.toThemeProperty("jqx-window-close-button-background jqx-layout-pseudo-window-close-background jqx-layout-pseudo-window-close-background-"+d),n.setAttribute("title","Close"),n.innerHTML='<div class="'+l.toThemeProperty("jqx-window-close-button jqx-icon-close jqx-layout-pseudo-window-close-icon")+'"></div>',h[0].appendChild(n),u+=16),"tabbedGroup"===s&&!1!==e.current.allowPin||"autoHideGroup"===s&&!1!==e.current.parent.allowUnpin){switch(s){case"tabbedGroup":e.pinned=!(a="jqx-layout-pseudo-window-pin-icon");break;case"autoHideGroup":a="jqx-layout-pseudo-window-pinned-icon",e.pinned=!0}(o=document.createElement("div")).className=l.toThemeProperty("jqx-window-close-button-background jqx-layout-pseudo-window-pin-background"),o.setAttribute("title","Auto Hide"),o.innerHTML='<div class="'+l.toThemeProperty(a)+'"></div>',n?o.className+=" "+l.toThemeProperty("jqx-layout-pseudo-window-pin-background-"+d):!1===l.rtl&&(o.style.right="0px"),h[0].appendChild(o),u+=16,l.dockingLayout&&"autoHideGroup"===s&&l.dockingLayout._addAutoHideGroupHandlers(e.current,h,e.current.title,e.children()[1])}c[0].style.maxWidth=l._toPx(h.width()-u);var p=e.children()[1];return p.style.height=l._toPx(1+e.height()-h.outerHeight()),p.style.marginLeft="-1px",p.style.marginRight="-1px",l._addWindowPanelHandlers(n,o,e),c},_addWindowPanelHandlers:function(e,t,i){var s=this,r=s.element.id,n=i.current,o=n.type;e&&s.addHandler(e,"click.jqxLayout"+r,function(){var e;"tabbedGroup"===o&&1<n.items.length?(e=s._find(i,".jqx-ribbon-item-selected")[0]._index,s._close(n.items[e])):(i.initAnimate&&i.initAnimate(),i.fadeOut({complete:function(){s._close(n),i.remove()}}))}),t&&s.addHandler(t,"click.jqxLayout"+r,function(){"tabbedGroup"===o&&!0===n.pinValid?s._pin(n):"layoutPanel"===o&&s._unPin(n.parent)})},_getGroupCoordinates:function(){var u=this;function p(e){return"layoutGroup"===e||"tabbedGroup"===e||"documentGroup"===e}u._coordinates=[],function e(t){for(var i=0;i<t.length;i++){var s,r,n,o,a,l,d,h,c=t[i];p(c.type)&&(s=t[i-1],r=t[i+1],n=c.widget.offset(),s&&p(s.type)&&(h="horizontal"===c.parent.orientation?(a=10+(o=n.left-5),d=(l=n.top-5)+c.widget.height()+10,"left"):(a=(o=n.left-5)+c.widget.width()+10,d=10+(l=n.top-5),"top"),u._coordinates.push({x:{from:o,to:a},y:{from:l,to:d},widget:c.widget,side:h,orientation:c.parent.orientation})),r&&p(r.type)&&(h="horizontal"===c.parent.orientation?(a=10+(o=n.left+c.widget.width()-5),d=(l=n.top-5)+c.widget.height()+10,"right"):(a=(o=n.left-5)+c.widget.width()+10,d=10+(l=n.top+c.widget.height()-5),"bottom"),u._coordinates.push({x:{from:o,to:a},y:{from:l,to:d},widget:c.widget,side:h,orientation:c.parent.orientation})),c.items&&e(c.items))}}(u.layout[0].items)},_close:function(i){var e,t,s,r,n,o=this;if(i.removed=!0,"tabbedGroup"===i.type||"autoHideGroup"===i.type||"documentGroup"===i.type)(n="tabbedGroup"===i.type?j(o._find(i.widget,".jqx-ribbon")[0]):i.widget).jqxRibbon("destroy"),i.parent.items&&(e=i.parent.items[i.index-1],t=i.parent.items[i.index+1],s="vertical"===i.parent.orientation?"height":"width",r=function(e){var t=parseFloat(e[s])+parseFloat(i[s])+"%";"documentGroup"===e.type?"height"===s?e.widget.jqxRibbon({height:t}):e.widget.jqxRibbon({width:t}):"layoutGroup"!==e.type&&"tabbedGroup"!==e.type||(e.widget[0].style[s]=t),e[s]=t,o._raiseEvent("1",{item:e})},e&&"autoHideGroup"!==e.type&&"floatGroup"!==e.type?r(e):t&&"autoHideGroup"!==t.type&&"floatGroup"!==t.type&&r(t));else if("layoutPanel"===i.type){if("tabbedGroup"===i.parent.type)return(n=j(o._find(i.parent.widget,".jqx-ribbon")[0])).jqxRibbon("removeAt",i.index),o._updateLayout(o.layout),void(0===i.index?n.jqxRibbon("selectAt",0):n.jqxRibbon("selectAt",i.index-1));if("autoHideGroup"===i.parent.type){(n=i.parent.widget).jqxRibbon("removeAt",i.index);for(var a=n.children(),l=0,d=0;d<a.length;d++)if("ul"===a[d].nodeName.toLowerCase()){l=j(a[d]).children().length;break}0===l&&o._close(n.current)}}o._updateLayout(o.layout),o.render()},_updateLayout:function(e){for(var t=0;t<e.length;t++)if(!0===e[t].removed){e.splice(t,1);for(var i=0;i<e.length;i++)e[i].index=i}else e[t].items&&this._updateLayout(e[t].items)},_pin:function(e){var t,i=e.parent,s="top"===(a=e.alignment||(a=Math.abs(e.parent.items.length-1-e.index),Math.abs(0-e.index)<a?"horizontal"===e.parent.orientation?"left":"top":"horizontal"===e.parent.orientation?"right":"bottom"))||"left"===a?e.index+1:e.index-1,r="left"===a||"right"===a?(t="width",e.pinnedWidth):(t="height",e.pinnedHeight),n=((r="number"==typeof r?this._getPercentage(r,i,t)+"%":r)||("width"===t?r=8e3/e.parent.widget.width()+"%":"height"===t&&(r=3e3/e.parent.widget.height()+"%")),this._detachContent(e.items,!0),{type:"autoHideGroup",alignment:a,items:e.items});n[t]=r,n["min"+t.charAt(0).toUpperCase()+t.slice(1)]=e["min"+t.charAt(0).toUpperCase()+t.slice(1)],n["unpinned"+t.charAt(0).toUpperCase()+t.slice(1)]=e[t],n.allowDrag=e.allowDrag,n.allowDrop=e.allowDrop,n.allowClose=e.allowClose;for(var o=0;o<n.items.length;o++)n.items[o].allowClose=e.allowClose;e.popupContentSize&&(n.popupContentSize=e.popupContentSize);var a=i.items[s];a[t]=parseFloat(a[t])+parseFloat(e[t])-parseFloat(r)+"%",i.items.splice(e.index,0,n),e.removed=!0,j(this._find(e.widget,".jqx-ribbon")[0]).jqxRibbon("destroy"),e.widget.remove(),this._updateLayout(this.layout),this.render(),this._raiseEvent("1",{item:a}),this._raiseEvent("2",{item:n})},_unPin:function(e){var t,i,s,r=e.parent,n=e.alignment,o="top"===n||"left"===n?e.index+1:e.index-1,o=r.items[o],a="left"===n||"right"===n?(t="width",e.unpinnedWidth):(t="height",e.unpinnedHeight),n=(a=a||"10%",this._detachContent(e.items,!0),{type:"tabbedGroup",alignment:n,items:e.items});n["pinned"+t.charAt(0).toUpperCase()+t.slice(1)]=e[t],n.allowDrag=e.allowDrag,n.allowDrop=e.allowDrop,n.allowClose=e.allowClose,e.popupContentSize&&(n.popupContentSize=e.popupContentSize),s=o?(i=parseFloat(o[t])+parseFloat(e[t])-parseFloat(a)+"%",s=(s=o["min"+t.charAt(0).toUpperCase()+t.slice(1)])||this["minGroup"+t.charAt(0).toUpperCase()+t.slice(1)],parseFloat(i)<this._getPercentage(s,r,t)?(a=e[t],i=this._getPercentage(s,r,t)+"%",n["min"+t.charAt(0).toUpperCase()+t.slice(1)]=e.widget.width()):n["min"+t.charAt(0).toUpperCase()+t.slice(1)]=e["min"+t.charAt(0).toUpperCase()+t.slice(1)],n[t]=a,o[t]=i,o):(n["min"+t.charAt(0).toUpperCase()+t.slice(1)]=e["min"+t.charAt(0).toUpperCase()+t.slice(1)],n[t]="100%",n),r.items.splice(e.index,0,n),e.removed=!0,e.widget.jqxRibbon("destroy"),this._updateLayout(this.layout),this.render(),this._raiseEvent("1",{item:s}),this._raiseEvent("3",{item:n})},_copyItem:function(e,t){var i,s={};for(i in e)if(e.hasOwnProperty(i)&&"parent"!==i&&"widget"!==i&&"initialized"!==i)if("position"===i)s.position={x:e.position.x,y:e.position.y};else if("items"===i){for(var r=[],n=0;n<e.items.length;n++)this._copyItem(e.items[n],r);s.items=r}else s[i]=e[i];t.push(s)},_addResizeFeedbacks:function(){var e=this;e._horizontalFeedback=document.createElement("div"),e._horizontalFeedback.className=e.toThemeProperty("jqx-fill-state-normal jqx-layout-resize-feedback jqx-layout-resize-feedback-horizontal"),e._verticalFeedback=document.createElement("div"),e._verticalFeedback.className=e.toThemeProperty("jqx-fill-state-normal jqx-layout-resize-feedback jqx-layout-resize-feedback-vertical"),e._overlay=document.createElement("div"),e._overlay.className=e.toThemeProperty("jqx-layout-overlay"),e.dockingLayout&&e.dockingLayout._windowDragged&&(e._overlay.style.display="block"),e.element.appendChild(e._horizontalFeedback),e.element.appendChild(e._verticalFeedback),e.element.appendChild(e._overlay),e._horizontalFeedback=j(e._horizontalFeedback),e._verticalFeedback=j(e._verticalFeedback),e._overlay=j(e._overlay)},_detachContent:function(e,i){var s=this;function t(e){var t;!0===e.prevent?e.prevent=!1:(t=s._find(e.parent.widget,".jqx-ribbon-content-section")[e.index],n=s._detachChildNodes(t),j(t).remove(),e.detachedContent=n,!0===i&&(e.prevent=!0))}for(var r=e.length-1;0<=r;r--){var n,o,a=e[r],l=a.type;"layoutGroup"===l||"tabbedGroup"===l||"documentGroup"===l||"autoHideGroup"===l||"floatGroup"===l?a.items&&0<a.items.length&&this._detachContent(a.items):"layoutPanel"===l?"tabbedGroup"===a.parent.type?t(a):"autoHideGroup"===a.parent.type&&(!0===a.prevent?a.prevent=!1:("left"===a.parent.alignment||"right"===a.parent.alignment?(o=s._find(a.parent.widget,".jqx-layout-group-auto-hide-content-vertical")[r],n=s._detachChildNodes(o),j(o).remove()):(o=s._find(a.parent.widget,".jqx-layout-group-auto-hide-content-horizontal")[r],n=s._detachChildNodes(o),j(o).remove()),a.detachedContent=n,!0===i&&(a.prevent=!0))):"documentPanel"===l&&t(a)}},_pxToPercent:function(i,s){function e(e,t){return(100*(e=parseInt(e,10))/(s?r.element["offset"+t]:i["initialPx"+t])).toString()+"%"}for(var r=this,t=0;t<i.items.length;t++){var n=i.items[t];void 0!==n.width?(n.initialPxWidth=n.width,n.width=e(n.width,"Width")):n.initialPxWidth=i.initialPxWidth,void 0!==n.height?(n.initialPxHeight=n.height,n.height=e(n.height,"Height")):n.initialPxHeight=i.initialPxHeight,void 0!==n.unpinnedWidth&&(n.unpinnedWidth=e(n.unpinnedWidth,"Width")),void 0!==n.pinnedWidth&&(n.pinnedWidth=e(n.pinnedWidth,"Width")),void 0!==n.unpinnedHeight&&(n.unpinnedHeight=e(n.unpinnedHeight,"Height")),void 0!==n.pinnedHeight&&(n.pinnedHeight=e(n.pinnedHeight,"Height")),"layoutGroup"===n.type&&n.items&&0<n.items.length&&r._pxToPercent(n,!1)}},_percentToPx:function(e,t,i){if(void 0!==t)return"string"!=typeof t||"string"==typeof t&&"%"!==t.charAt(t.length-1)?parseFloat(t):parseFloat(t.slice(0,t.length-1))/100*i.widget[e]()},_swapPanelsInLayout:function(e,t,i){var s=e[t];e[t]=e[i],e[t].index=t,e[i]=s,e[i].index=i},_initMenu:function(){var s=this;if(!s._menuInitialized){function t(e,t,i){s._menu.jqxMenu("disable","dockOption"+r,e),s._menu.jqxMenu("disable","autoHideOption"+r,t),s._menu.jqxMenu("disable","closeOption"+r,i)}var r=s.element.id,e="";if(!s.host.jqxMenu)throw new Error("jqxLayout: Missing reference to jqxmenu.js.");s.dockingLayout&&(e='<li id="floatOption'+r+'">Float</li>');function i(e){return s.dockingLayout?!1===e.allowClose:!0!==e.allowClose}var n=document.createElement("div");n.className=s.toThemeProperty("jqx-layout-context-menu jqx-layout-context-menu-"+r),n.innerHTML="<ul>"+e+'<li id="dockOption'+r+'">Dock</li><li id="autoHideOption'+r+'" style="white-space: nowrap;">Auto Hide</li><li id="closeOption'+r+'">Close</li></ul>',s._menu=j(n),document.body.appendChild(n),s._menu.jqxMenu({theme:s.theme,width:100,height:"auto",autoOpenPopup:!1,mode:"popup",popupZIndex:99999,rtl:s.rtl}),s._menuInitialized=!0,s.addHandler(s._menu,"itemclick.jqxLayout"+r,function(e){s._handleMenuItemClick(j(e.target).text())});s.addHandler(s._menu,"shown.jqxLayout"+r,function(){switch(s._contextMenuTarget.type){case"tabbedGroup":t(!0,!1===s._contextMenuTarget.allowPin||!1===s._contextMenuTarget.pinValid,i(s._contextMenuTarget));break;case"layoutPanel":var e=s._contextMenuTarget.parent;"tabbedGroup"===e.type?t(!0,!1===e.allowPin||s._isMiddleTabbedGroup(e),i(e)):"autoHideGroup"===e.type&&t(!1===e.allowUnpin,!0,i(s._contextMenuTarget));break;case"documentPanel":t(!0,!0,i(s._contextMenuTarget))}})}},_addRightClickHandler:function(e,s){var r=this;!0===r.contextMenu&&(r.addHandler(e,"mousedown.jqxLayout"+r.element.id,function(e){var t,i;!0===r.contextMenu&&(e.which&&3===e.which||e.button&&2===e.button)&&(t=document.body.scrollTop,i=j(window).scrollLeft(),r._contextMenuTarget=s.current,r._menu.jqxMenu("open",parseInt(e.clientX,10)+5+i,parseInt(e.clientY,10)+5+t))}),r.addHandler(e,"contextmenu.jqxLayout"+r.element.id,function(){if(!0===r.contextMenu)return!1}))},_handleMenuItemClick:function(e){var t,i=this,s=i._contextMenuTarget.type,r=i._contextMenuTarget.parent;switch(e){case"Float":switch(s){case"tabbedGroup":i.dockingLayout._floatTabbedGroup(i._contextMenuTarget,i._contextMenuTarget.widget);break;case"layoutPanel":"tabbedGroup"===r.type?i.dockingLayout._removeByDragHandler(void 0,r,r.widget,i._contextMenuTarget.index,!1):"autoHideGroup"===r.type&&(t=i._find(j(j(i._find(i._contextMenuTarget.parent.widget,".jqx-ribbon-content")[0]).children()[i._contextMenuTarget.index]),".jqx-layout-window")[0].firstChild,i.dockingLayout._floatAutoHideGroup(i._contextMenuTarget,i._contextMenuTarget.title,t));break;case"documentPanel":i.dockingLayout._removeByDragHandler(void 0,r,r.widget,i._contextMenuTarget.index,!1)}break;case"Dock":i._unPin(i._contextMenuTarget.parent);break;case"Auto Hide":switch(s){case"tabbedGroup":i._pin(i._contextMenuTarget);break;case"layoutPanel":i._pin(i._contextMenuTarget.parent)}break;case"Close":switch(s){case"tabbedGroup":i._close(i._contextMenuTarget);break;case"layoutPanel":1<i._contextMenuTarget.parent.items.length?i._close(i._contextMenuTarget):i._close(i._contextMenuTarget.parent);break;case"documentPanel":i._closeDocumentPanel(i._contextMenuTarget.index,i._contextMenuTarget.parent.items,i._contextMenuTarget.parent,i._contextMenuTarget.parent.widget,!1)}}},_closeDocumentPanel:function(e,t,i,s,r){if(!1===r&&s.jqxRibbon("removeAt",e),1<t.length){var n=!1;t[e].removed=!0,this._updateLayout(t);for(var o=0;o<t.length;o++)if(!0===t[o].selected){n=!0;break}setTimeout(function(){!1===n?t[e]?s.jqxRibbon("selectAt",e):s.jqxRibbon("selectAt",e-1):s.jqxRibbon("render")},0)}else this._close(i)},_isMiddleTabbedGroup:function(e){return!(0===e.index||e.index===e.parent.items.length-1)},_validateTabbedGroup:function(e){var t,i=!0;(i=i&&1<e.parent.items.length)&&2===e.parent.items.length&&(t=0===e.index?1:0,"autoHideGroup"===e.parent.items[t].type&&(i=!1)),i=i&&(i&&!this._isMiddleTabbedGroup(e)),!1===(e.pinValid=i)&&j(this._find(e.widget,".jqx-layout-pseudo-window-pin-background")[0]).addClass("jqx-fill-state-disabled")},_mouseupHandler:function(e){try{this.dockingLayout&&(this._docUP(e),this.dockingLayout._windowCreate=!1,this.dockingLayout._hideOverlays())}catch(e){}},_toPx:function(e){return"number"==typeof e?e+"px":e},_find:function(e,t){return this._oldIE?e.find(t):(e[0]||e).querySelectorAll(t)},_detachChildNodes:function(e){if(void 0===e)return[];var t=[],i=e.childNodes;if(void 0!==i)for(;0<i.length;)t.push(j(i[0]).detach());return t}})}(jqxBaseFramework),!function(P){P.jqx.jqxWidget("jqxListBox","",{}),P.extend(P.jqx._jqxListBox.prototype,{defineInstance:function(){var e={disabled:!1,checkboxSize:16,checkboxes:!1,width:null,height:null,items:new Array,multiple:!1,selectedIndex:-1,selectedIndexes:new Array,source:null,scrollBarSize:P.jqx.utilities.scrollBarSize,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",hasThreeStates:!1,autoHeight:!1,autoItemsHeight:!1,roundedcorners:!0,touchMode:"auto",displayMember:"",groupMember:"",valueMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:1e3,incrementalSearchKeyDownDelay:300,allowDrag:!1,allowDrop:!0,dropAction:"default",touchModeStyle:"auto",keyboardNavigation:!0,enableMouseWheel:!0,multipleextended:!1,selectedValues:new Array,emptyString:"",rtl:!1,rendered:null,renderer:null,dragStart:null,dragEnd:null,focusable:!0,ready:null,_checkForHiddenParent:!0,autoBind:!0,_renderOnDemand:!1,filterable:!1,filterHeight:30,filterPlaceHolder:"Looking for",filterDelay:100,filterChange:null,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===P.jqx._jqxListBox.prototype||P.extend(!0,this,e),e},createInstance:function(e){var t,i=this,s=(15!=P.jqx.utilities.scrollBarSize&&(i.scrollBarSize=P.jqx.utilities.scrollBarSize),null==i.width&&(i.width=200),null==i.height&&(i.height=200),!i.isMaterialized()||(t=window.getComputedStyle(i.element).getPropertyValue("--jqx-list-item-height"))&&-1===this.itemHeight&&(this.itemHeight=parseInt(t)),i.renderListBox(),i);P.jqx.utilities.resize(i.host,function(){s._updateSize()},!1,i._checkForHiddenParent)},resize:function(e,t){this.width=e,this.height=t,this._updateSize()},render:function(){this.renderListBox(),this.refresh()},renderListBox:function(){var t=this,e=t.element.nodeName.toLowerCase();"select"==e||"ul"==e||"ol"==e?(t.field=t.element,t.field.className&&(t._className=t.field.className),e={title:t.field.title},t.field.id.length?e.id=t.field.id.replace(/[^\w]/g,"_")+"_jqxListBox":e.id=P.jqx.utilities.createId()+"_jqxListBox",s=P("<div></div>",e),t.width||(t.width=P(t.field).width()),t.height||(t.height=P(t.field).outerHeight()),t.element.style.cssText=t.field.style.cssText,P(t.field).hide().after(s),i=t.host.data(),t.host=s,t.host.data(i),t.element=s[0],t.element.id=t.field.id,t.field.id=e.id,t._className&&(t.host.addClass(t._className),P(t.field).removeClass(t._className)),t.field.tabIndex&&(i=t.field.tabIndex,t.field.tabIndex=-1,t.element.tabIndex=i)):(0<t.host.find("li").length||0<t.host.find("option").length)&&(s=P.jqx.parseSourceTag(t.element),t.source=s.items),t.element.innerHTML="";var e=(t=t).element.className,i=(e=(e=(e=(e=(e+=" "+t.toThemeProperty("jqx-listbox"))+(" "+t.toThemeProperty("jqx-reset")))+(" "+t.toThemeProperty("jqx-rc-all")))+(" "+t.toThemeProperty("jqx-widget")))+(" "+t.toThemeProperty("jqx-widget-content")),t.element.className=e,window.getComputedStyle(this.element)),s=2*parseInt(i.borderLeftWidth),e=i.boxSizing,i=(0===this.element.offsetWidth&&(s=2),"border-box"!==e&&!isNaN(s)||(s=0),null!=t.width&&-1!=t.width.toString().indexOf("%")&&(t.host.width(t.width),0<s&&this.host.css("box-sizing","border-box"),0),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.height(t.height),0==t.host.height()&&t.host.height(200),0),(null==t.width||-1==t.width.toString().indexOf("px"))&&(null==t.width||isNaN(t.width))||(t.element.style.width=parseInt(t.width)-s+"px"),(null==t.height||-1==t.height.toString().indexOf("px"))&&(null==t.height||isNaN(t.height))||(t.element.style.height=parseInt(t.height)-s+"px"),t.multiple||t.multipleextended||t.checkboxes?P.jqx.aria(t,"aria-multiselectable",!0):P.jqx.aria(t,"aria-multiselectable",!1),"<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='filter"+t.element.id+"' style='display: none; visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><input style='position: absolute;'/></div><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+t.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+t.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>"),e=(t.host.attr("role","listbox"),t.element.innerHTML=i,t._checkForHiddenParent&&(t._addInput(),t.host.attr("tabIndex")||t.host.attr("tabIndex",1)),t.filter=P(t.element.firstChild.firstChild.firstChild),t.filterInput=P(t.filter[0].firstChild),t.filterInput.attr("placeholder",t.filterPlaceHolder),t.filterInput.addClass(t.toThemeProperty("jqx-widget jqx-listbox-filter-input jqx-input jqx-rc-all")),t.addHandler(t.filterInput,"keyup.textchange",function(e){13==e.keyCode?t._search(e):0<t.filterDelay&&(t._filterTimer&&clearTimeout(t._filterTimer),t._filterTimer=setTimeout(function(){t._search(e)},t.filterDelay)),e.stopPropagation()}),P(t.element.firstChild.firstChild.firstChild.nextSibling.nextSibling));if(!t.host.jqxButton)throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");if(!e.jqxScrollBar)throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");s=parseInt(t.host.height())/2,t.vScrollBar=e.jqxScrollBar({_initialLayout:!0,vertical:!0,rtl:t.rtl,theme:t.theme,touchMode:t.touchMode,largestep:s=0==s?10:s}),i=P(t.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling);t.hScrollBar=i.jqxScrollBar({_initialLayout:!0,vertical:!1,rtl:t.rtl,touchMode:t.touchMode,theme:t.theme}),t.content=P(t.element.firstChild.firstChild.firstChild.nextSibling),t.content.addClass(t.toThemeProperty("jqx-listbox-content-element")),t.content[0].id="listBoxContent"+t.element.id,t.bottomRight=P(t.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling.nextSibling).addClass(t.toThemeProperty("jqx-listbox-bottomright")).addClass(t.toThemeProperty("jqx-scrollbar-state-normal")),t.bottomRight[0].id="bottomRight"+t.element.id,t.vScrollInstance=P.data(t.vScrollBar[0],"jqxScrollBar").instance,t.hScrollInstance=P.data(t.hScrollBar[0],"jqxScrollBar").instance,!t.isTouchDevice()||P.jqx.browser.msie&&P.jqx.browser.version<9||(e=P("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>"),t.content.parent().append(e),t.overlayContent=t.host.find(".overlay"),t.filterable&&t.overlayContent.css("top","30px")),t._updateTouchScrolling(),t.host.addClass("jqx-disableselect"),t.host.jqxDragDrop&&window.jqxListBoxDragDrop()},_highlight:function(e,t){t=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<b>"+t+"</b>"})},_addInput:function(){var e=this.host.attr("name");e&&this.host.attr("name",""),this.input=P("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",e)},_updateTouchScrolling:function(){var e,i=this;this.isTouchDevice()&&(i.enableHover=!1,e=this.overlayContent||this.content,this.removeHandler(P(e),P.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"),this.removeHandler(P(e),P.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(P(e),P.jqx.mobile.getTouchEventName("touchend")+".touchScroll"),this.removeHandler(P(e),"touchcancel.touchScroll"),P.jqx.mobile.touchScroll(e,i.vScrollInstance.max,function(e,t){null!=t&&"hidden"!=i.vScrollBar.css("visibility")&&(i.vScrollInstance.value,i.vScrollInstance.setPosition(t),i._lastScroll=new Date),null!=e&&"hidden"!=i.hScrollBar.css("visibility")&&(i.hScrollInstance.value,i.hScrollInstance.setPosition(e),i._lastScroll=new Date)},this.element.id,this.hScrollBar,this.vScrollBar),"visible"!=i.vScrollBar.css("visibility")&&"visible"!=i.hScrollBar.css("visibility")?P.jqx.mobile.setTouchScroll(!1,this.element.id):P.jqx.mobile.setTouchScroll(!0,this.element.id),this._arrange())},isTouchDevice:function(){var e=P.jqx.mobile.isTouchDevice();if(1==this.touchMode){if(this.touchDevice)return!0;if(P.jqx.browser.msie&&P.jqx.browser.version<9)return!1;e=this.touchDevice=!0,P.jqx.mobile.setMobileSimulator(this.element)}else 0==this.touchMode&&(e=!1);return e&&0!=this.touchModeStyle&&(this.scrollBarSize=P.jqx.utilities.touchScrollBarSize),e&&this.host.addClass(this.toThemeProperty("jqx-touch")),e},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1,this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?this._addItems(!0):this._addItems(!1),this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this._render(!1)},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._cachedItemHtml=new Array,e.refresh())},propertyChangedHandler:function(e,t,i,s){var r;null==this.isInitialized||0==this.isInitialized||i==s||e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("_renderOnDemand"==t&&(e._render(!1,!0),-1!=e.selectedIndex&&(r=e.selectedIndex,e.selectedIndex=-1,e._stopEvents=!0,e.selectIndex(r,!1,!0),-1==e.selectedIndex&&(e.selectedIndex=r),e._stopEvents=!1)),"filterable"==t&&e.refresh(),"filterHeight"==t&&e._arrange(),"filterPlaceHolder"==t&&e.filterInput.attr("placeholder",s),"renderer"==t&&(e._cachedItemHtml=new Array,e.refresh()),"itemHeight"!=t&&"checkboxSize"!==t||e.refresh(),"source"!=t&&"checkboxes"!=t||(null==s&&i&&i.unbindBindingUpdate&&(i.unbindBindingUpdate(e.element.id),i.unbindDownloadComplete(e.element.id)),e.clearSelection(),e.refresh()),"scrollBarSize"!=t&&"equalItemsWidth"!=t||s!=i&&e._updatescrollbars(),"disabled"==t&&(e._renderItems(),e.vScrollBar.jqxScrollBar({disabled:s}),e.hScrollBar.jqxScrollBar({disabled:s})),"touchMode"!=t&&"rtl"!=t||(e._removeHandlers(),e.vScrollBar.jqxScrollBar({touchMode:s}),e.hScrollBar.jqxScrollBar({touchMode:s}),"touchMode"!=t||P.jqx.browser.msie&&P.jqx.browser.version<9||(r=P("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>"),e.content.parent().append(r),e.overlayContent=e.host.find(".overlay")),e.filterable&&e.filterInput&&("rtl"==t&&s?e.filterInput.addClass(e.toThemeProperty("jqx-rtl")):"rtl"!=t||s||e.filterInput.removeClass(e.toThemeProperty("jqx-rtl")),e._arrange()),e._updateTouchScrolling(),e._addHandlers(),e._render(!1)),this.updating||"width"!=t&&"height"!=t||e._updateSize(),"theme"==t&&i!=s&&(e.hScrollBar.jqxScrollBar({theme:e.theme}),e.vScrollBar.jqxScrollBar({theme:e.theme}),e.host.removeClass(),e.host.addClass(e.toThemeProperty("jqx-listbox")),e.host.addClass(e.toThemeProperty("jqx-widget")),e.host.addClass(e.toThemeProperty("jqx-widget-content")),e.host.addClass(e.toThemeProperty("jqx-reset")),e.host.addClass(e.toThemeProperty("jqx-rc-all")),e.refresh()),"selectedIndex"==t&&(e.clearSelection(),e.selectIndex(s,!0)),"displayMember"!=t&&"valueMember"!=t||(i!=s&&(r=e.selectedIndex,e.refresh(),e.selectedIndex=r,e.selectedIndexes[r]=r),e._renderItems()),"autoHeight"==t&&(i!=s?e._render(!1):(e._updatescrollbars(),e._renderItems())),e._checkForHiddenParent&&P.jqx.isHidden(e.host)&&P.jqx.utilities.resize(this.host,function(){e._updateSize()},!1,e._checkForHiddenParent))},loadFromSelect:function(e){var t;null!=e&&0<(e=P("#"+e)).length&&(t=(e=P.jqx.parseSourceTag(e[0])).items,e=e.index,this.source=t,this.fromSelect=!0,this.clearSelection(),this.selectedIndex=e,this.selectedIndexes[this.selectedIndex]=this.selectedIndex,this.refresh())},invalidate:function(){this._cachedItemHtml=[],this._renderItems(),this.virtualSize=null,this._updateSize()},refresh:function(e){var t=this;if(null!=this.vScrollBar){this.itemHeight=parseInt(this.itemHeight),this._cachedItemHtml=[],this.visibleItems=new Array;function i(e){1==e&&-1!=t.selectedIndex&&(e=t.selectedIndex,t.selectedIndex=-1,t._stopEvents=!0,t.selectIndex(e,!1,!0),-1==t.selectedIndex&&(t.selectedIndex=e),t._stopEvents=!1)}if(null!=this.itemswrapper&&(this.itemswrapper.remove(),this.itemswrapper=null),P.jqx.dataAdapter&&null!=this.source&&this.source._source)return this.databind(this.source,e),void i(e);!this.autoBind&&(this.autoBind||e)||(this.field&&this.loadSelectTag(),this.items=this.loadItems(this.source)),this._render(!1,1==e),i(e),this._raiseEvent("6")}},loadSelectTag:function(){var e=P.jqx.parseSourceTag(this.field);this.source=e.items,-1==this.selectedIndex&&(this.selectedIndex=e.index)},_render:function(e,t){return this._renderOnDemand?(this.visibleItems=new Array,this.renderedVisibleItems=new Array,void this._renderItems()):(this._addItems(),this._renderItems(),this.vScrollInstance.setPosition(0),this._cachedItemHtml=new Array,(null==e||e)&&null!=this.items&&null!=this.items&&0<=this.selectedIndex&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0),this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())?(this._removeHandlers(),this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null),this._updateTouchScrolling(),void this._addHandlers()):(this._updateTouchScrolling(),this.rendered&&this.rendered(),void(this.ready&&this.ready())))},_hitTest:function(e,t){this.filterable&&(t-=this.filterHeight)<0&&(t=0);var i=parseInt(this.vScrollInstance.value),s=this._searchFirstVisibleIndex(t+i,this.renderedVisibleItems);if(null!=this.renderedVisibleItems[s]&&this.renderedVisibleItems[s].isGroup)return null;if(0<this.renderedVisibleItems.length){var r=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(r.height+r.top<t+i)return null}return s=this._searchFirstVisibleIndex(t+i),this.visibleItems[s]},_searchFirstVisibleIndex:function(e,t){null==e&&(e=parseInt(this.vScrollInstance.value));for(var i=0,s=(t=null==t?this.visibleItems:t).length;i<=s;){var r=parseInt((i+s)/2),n=t[r];if(null==n)break;if(n.initialTop>e&&n.initialTop+n.height>e)s=r-1;else{if(!(n.initialTop<e&&n.initialTop+n.height<=e))return r;i=r+1}}return 0},_renderItems:function(){if(null==this.items||0==this.items.length)this.visibleItems=new Array;else if(1!=this.updatingListBox){var e=this.isTouchDevice(),t=this.vScrollInstance,i=this.hScrollInstance,s=parseInt(t.value),r=parseInt(i.value),n=(this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(r=i.max-r),this.items.length,this.host.width(),parseInt(this.content[0].style.width)),o=n+parseInt(i.max),a=(parseInt(this.vScrollBar[0].style.width),this.vScrollBar[0].style.visibility,"visible"!=this.hScrollBar[0].style.visibility&&(o=n),this._getVirtualItemsCount(),new Array),l=0,d=parseInt(this.element.style.height)+2,h=(-1!=this.element.style.height.indexOf("%")&&(d=this.host.outerHeight()),isNaN(d)&&(d=0),0),c=0,u=0;if(0==t.value||0==this.visibleItems.length)for(var p=0;p<this.items.length;p++)(j=this.items[p]).visible&&(j.top=-s,j.initialTop=-s,!j.isGroup&&j.visible&&((this.visibleItems[c++]=j).visibleIndex=c-1),(this.renderedVisibleItems[u++]=j).left=-r,0<=j.top+j.height&&j.top-j.height<=d&&(a[l++]={index:p,item:j}),s-=j.height,s--);for(var m=0<s?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0,g=0,l=0,f=this.vScrollInstance.value,v=0;g<100+d;){if(null==(j=this.renderedVisibleItems[m]))break;if(j.visible&&(j.left=-r,0<=j.top+j.height-f&&j.initialTop-f-j.height<=2*d&&(a[l++]={index:m,item:j})),m++,j.visible&&(g+=j.initialTop-f+j.height-g),++v>this.items.length-1)break}if(!this._renderOnDemand)for(var x=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),y=this.toThemeProperty("jqx-listitem-state-group"),w=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled"),b=(this.checkboxes&&(x+=" checkboxes"),0),_=this,p=0;p<this.visualItems.length;p++){function q(){var e=D[0].firstChild;null!=(e=_.checkboxes?D[0].lastChild:e)&&(e.style.visibility="hidden",e.className=""),_.checkboxes&&(D[0].firstChild.style.visibility="hidden")}var j,T,C,S,k,I,D=this.visualItems[p];!(p<a.length)||(j=a[p].item).initialTop-f>=d?q():(T=P(D[0].firstChild),0!=(T=this.checkboxes?P(D[0].lastChild):T).length&&null!=T[0]&&(T[0].className="",T[0].style.display="block",T[0].style.visibility="inherit",I="",I=!j.isGroup&&0<=!this.selectedIndexes[j.index]?x:y,(j.disabled||this.disabled)&&(I+=" "+w),this.roundedcorners&&(I+=" "+this.toThemeProperty("jqx-rc-all")),e&&(I+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),T[0].className=I,this.renderer?(j.key||(j.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=new Array),this._cachedItemHtml[j.key]?T[0].innerHTML!=this._cachedItemHtml[j.key]&&(T[0].innerHTML=this._cachedItemHtml[j.key]):(I=this.renderer(j.index,j.label,j.value),T[0].innerHTML=I,this._cachedItemHtml[j.key]=T[0].innerHTML)):(-1!==this.itemHeight&&(I=2+2*parseInt(T.css("padding-top")),T[0].style.lineHeight=j.height-I+"px",T.css("vertical-align","middle")),null!=j.html&&0<j.html.toString().length?T[0].innerHTML=j.html:null!=j.label||null!=j.value?null!=j.label?(T[0].innerHTML!==j.label&&(T[0].innerHTML=j.label),""==P.trim(j.label)&&(T[0].innerHTML=this.emptyString,""==this.emptyString&&(T[0].style.height=j.height-8+"px")),this.incrementalSearch||j.disabled||null!=this.searchString&&""!=this.searchString&&(T[0].innerHTML=this._highlight(j.label.toString(),this.searchString))):null===j.label?(T[0].innerHTML=this.emptyString,""==this.emptyString&&(T[0].style.height=j.height-8+"px")):T[0].innerHTML!==j.value?T[0].innerHTML=j.value:""==j.label&&(T[0].innerHTML=" "):""!=j.label&&null!=j.label||(T[0].innerHTML="",T[0].style.height=j.height-8+"px")),D[0].style.left=j.left+"px",D[0].style.top=j.initialTop-f+"px",j.element=T[0],this.isMaterialized()&&!this.renderer&&this._checkForHiddenParent&&(P(j.element).addClass("ripple"),P.jqx.ripple(P(j.element))),j.title&&(T[0].title=j.title),this.equalItemsWidth&&!j.isGroup?(0==h&&(I=parseInt(o),I-=parseInt(T.outerWidth())-parseInt(T.width()),C=null!=(C=1)?parseInt(C):0,"border-box"===this.host.css("box-sizing")&&(I-=2),h=I,this.checkboxes&&"hidden"==this.hScrollBar[0].style.visibility&&(h-=this.checkboxSize+13)),n>this.virtualSize.width?(T[0].style.width=h+"px",j.width=h):(T[0].style.width=-4+this.virtualSize.width+"px",j.width=this.virtualSize.width-4)):T.width()<this.host.width()&&T.width(this.host.width()-2),this.rtl&&(T[0].style.textAlign="right"),this.autoItemsHeight&&(T[0].style.whiteSpace="pre-line",T.width(h),j.width=h),b=0,this.checkboxes&&!j.isGroup?(0==b&&(b=(j.height-this.checkboxSize-3)/2,b=parseInt(b),b++),(k=P(D.children()[0]))[0].item=j,this.rtl?"0px"!=T[0].style.left&&(T[0].style.left="0px"):(C=this.checkboxSize+9,T[0].style.left!=C+"px"&&(T[0].style.left=C+"px")),this.rtl&&k.css("left",8+j.width+"px"),k[0].style.top=b+"px",k[0].style.display="block",k[0].style.visibility="inherit",I=j.checked,S=j.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"",k[0].setAttribute("checked",j.checked),k[0].firstChild&&k[0].firstChild.firstChild&&k[0].firstChild.firstChild.firstChild&&k[0].firstChild.firstChild&&(I?k[0].firstChild.firstChild.firstChild.className=S:!1===I?k[0].firstChild.firstChild.firstChild.className="":null===I&&(k[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate"))),P.jqx.ariaEnabled&&(I?D[0].setAttribute("aria-selected",!0):D[0].removeAttribute("aria-selected"))):this.checkboxes&&(k=P(D.children()[0])).css({display:"none",visibility:"inherit"}),!j.disabled&&(!this.filterable&&0<=this.selectedIndexes[j.visibleIndex]||j.selected&&this.filterable)?(T.addClass(this.toThemeProperty("jqx-listitem-state-selected")),T.addClass(this.toThemeProperty("jqx-fill-state-pressed")),P.jqx.ariaEnabled&&(D[0].setAttribute("aria-selected",!0),this._activeElement=D[0])):this.checkboxes||P.jqx.ariaEnabled&&D[0].removeAttribute("aria-selected")))}}},escapeHTML:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,function(e){return t[e]})},sanitizeHTML:function(e){var t=this,i=new RegExp("<s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)[^>]*>(.*?)<s*/s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)>","ig");return String(e).replace(i,function(e){return t.escapeHTML(e)})},escape_HTML:function(e){return(e=""+e)&&(0<=e.indexOf("onclick")||0<=e.indexOf("onload")||0<=e.indexOf("onerror"))?this.escapeHTML(e):this.sanitizeHTML(e)},generatekey:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_calculateVirtualSize:function(e){if(!this._renderOnDemand){var t=0,i=2,s=0,r=document.createElement("span"),n=(this.equalItemsWidth&&P(r).css("float","left"),r.style.whiteSpace="pre",0),o=void 0===e?this.host.outerHeight():e+2,a=(document.body.appendChild(r),this.items.length),l=this.host.width();if(this.autoItemsHeight&&(l-=10,"hidden"!=this.vScrollBar.css("visibility")&&(l-=20)),this.autoItemsHeight||this.renderer||1<=this.groups.length||0<a&&null!=this.items[0].html&&""!=this.items[0].html)for(var d,s=0;s<a;s++)(h=this.items[s]).isGroup&&""==h.label&&""==h.html||h.visible&&(c="",h.isGroup?c+=this.toThemeProperty("jqx-listitem-state-group jqx-rc-all"):c+=this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-rc-all"),c+=" "+this.toThemeProperty("jqx-fill-state-normal"),this.isTouchDevice()&&(c+=" "+this.toThemeProperty("jqx-touch")),r.className=c,this.autoItemsHeight&&(r.style.whiteSpace="pre-line",u=this.checkboxSize+9,p=this.checkboxes?-u:0,r.style.width=p+l+"px"),this.renderer?(d=this.renderer(h.index,h.label,h.value),r.innerHTML=d):null!=h.html&&0<h.html.toString().length?r.innerHTML=h.html:null==h.label&&null==h.value||(null!=h.label?(r.innerHTML=this.escape_HTML(h.label),""==h.label&&(r.innerHTML="Empty")):r.innerHTML=this.escape_HTML(h.value)),m=r.offsetHeight,d=r.offsetWidth,-1<this.itemHeight&&(m=this.itemHeight),h.height=m,h.width=d,i+=++m,t=Math.max(t,d),i<=o&&n++);else{for(var h,c,u,p,m,i=0,g=0,f="",v=0,x=0,y=-1,s=0;s<a;s++)(h=this.items[s]).isGroup&&""==h.label&&""==h.html||h.visible&&(c="",0==++y&&(c=(c=(c=(c=(c+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"))+(" "+this.toThemeProperty("jqx-fill-state-normal")))+" "+this.toThemeProperty("jqx-widget"))+" "+this.toThemeProperty("jqx-listbox"))+" "+this.toThemeProperty("jqx-widget-content"),this.isTouchDevice()&&(c=(c+=" "+this.toThemeProperty("jqx-touch"))+" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),r.className=c,this.autoItemsHeight&&(r.style.whiteSpace="pre-line",u=this.checkboxSize+9,p=this.checkboxes?-u:0,r.style.width=p+l+"px"),null==h.html||""==h.label||null==h.label?r.innerHTML="Item":null!=h.html&&0<h.html.toString().length?r.innerHTML=h.html:null==h.label&&null==h.value||(null!=h.label?null!=h.label.toString().match(new RegExp("\\w"))||null!=h.label.toString().match(new RegExp("\\d"))?r.innerHTML=h.label:r.innerHTML="Item":r.innerHTML=h.value),m=1+r.offsetHeight,g=m=-1<this.itemHeight?this.itemHeight:m),null!=v&&(x=v),null!=h.html&&0<h.html.toString().length?x!=(v=Math.max(v,h.html.toString().length))&&(f=h.html):null!=h.label?x!=(v=Math.max(v,h.label.length))&&(f=h.label):null!=h.value&&x!=(v=Math.max(v,h.value.length))&&(f=h.value),i+=h.height=g,++i<=o&&n++);r.innerHTML=f,t=r.offsetWidth}return i+=2,n<10&&(n=10),this.filterable&&(i+=this.filterHeight),i-=4,r.parentNode.removeChild(r),{width:t,height:i,itemsPerPage:n}}},_getVirtualItemsCount:function(){var e;return 0==this.virtualItemsCount?(e=parseInt(this.host.height())/5)>this.items.length?this.items.length:e:this.virtualItemsCount},_addItems:function(e){if(!this._renderOnDemand){var t=this;if(1!=t.updatingListBox){if(null==t.items||0==t.items.length)return t.virtualSize={width:0,height:0,itemsPerPage:0},t._updatescrollbars(),t.renderedVisibleItems=new Array,void(t.itemswrapper&&t.itemswrapper.children().remove());var i=t.host.height();if(0==e)return r=2*(c=t._calculateVirtualSize(i)).itemsPerPage,t.autoHeight&&(r=t.items.length),t.virtualItemsCount=Math.min(r,t.items.length),c.width,t.virtualSize=c,void t._updatescrollbars();var s=0;t.visibleItems=new Array,t.renderedVisibleItems=new Array,t._removeHandlers(),t.allowDrag&&t._enableDragDrop&&(t.itemswrapper=null),null==t.itemswrapper&&(t.content[0].innerHTML="",t.itemswrapper=P('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>'),t.itemswrapper[0].style.height=2*i+"px",t.content[0].appendChild(t.itemswrapper[0]));for(var r=2*(c=t._calculateVirtualSize(i)).itemsPerPage,t=(t.autoHeight&&(r=t.items.length),t.virtualItemsCount=Math.min(r,t.items.length),this),e=(c.width,t.virtualSize=c,Math.max(t.host.width(),17+c.width)),n=(t.itemswrapper[0].style.width=e+"px",""),o=P.jqx.browser.msie&&P.jqx.browser.version<9?' unselectable="on"':"",a=0;a<t.virtualItemsCount;a++){var l,d=t.items[a],h="listitem"+a+t.element.id;""!=t.theme?n+="<div"+o+" role='option' id='"+h+"' class='jqx-listitem-element jqx-listitem-element-"+t.theme+"'>":n+="<div"+o+" role='option' id='"+h+"' class='jqx-listitem-element'>",t.checkboxes&&(n+='<div style="background-color: transparent; padding: 0; margin: 0; overflow:hidden; position: absolute; float: left; width: '+(h=this.checkboxSize+8)+"px; height:  "+h+'px;" class="'+t.toThemeProperty("jqx-checkbox")+' chkbox">',h='<div class="'+t.toThemeProperty("jqx-checkbox-default")+" "+t.toThemeProperty("jqx-fill-state-normal")+" "+t.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width:  '+this.checkboxSize+"px; height:  "+this.checkboxSize+'px;">',l=d.checked?" "+t.toThemeProperty("jqx-checkbox-check-checked"):"",n=n+(h=h+'<span style="width: '+this.checkboxSize+"px; height:  "+this.checkboxSize+'px;" class="checkBoxCheck'+l+'"></span></div></div>')+"</div>"),n+="<span"+o+" style='white-space: pre; -ms-touch-action: none;'></span></div>"}this.WinJS?t.itemswrapper.html(n):t.itemswrapper[0].innerHTML=n;for(var c,u=t.itemswrapper.children(),a=0;a<t.virtualItemsCount;a++){var d=t.items[a],p=P(u[a]);t.allowDrag&&t._enableDragDrop&&p.addClass("draggable"),t.checkboxes&&(P(p.children()[0]),p.css("float","left"),P(p[0].firstChild).css("float","left")),p[0].style.height=d.height+"px",p[0].style.top=s+"px",s+=d.height+1,t.visualItems[a]=p}t._addHandlers(),t._updatescrollbars(),t.autoItemsHeight&&(r=2*(c=t._calculateVirtualSize(i)).itemsPerPage,t.autoHeight&&(r=t.items.length),t.virtualItemsCount=Math.min(r,t.items.length),c.width,(t=this).virtualSize=c,t._updatescrollbars()),P.jqx.browser.msie&&P.jqx.browser.version<8&&(t.host.attr("hideFocus",!0),t.host.find("div").attr("hideFocus",!0))}}},_updatescrollbars:function(){var e,t,i,s,r,n,o,a,l,d,h=this;h.virtualSize&&(e=h.virtualSize.height,t=h.virtualSize.width,i=h.vScrollInstance,s=h.hScrollInstance,h._arrange(!1),r=!1,n=h.host.outerWidth(),d=0,(o=h.host.outerHeight())<e+(d=n<t?h.hScrollBar.outerHeight()+2:d)?(a=i.max,i.max=2+parseInt(e)+d-parseInt(o-2),"inherit"!=h.vScrollBar[0].style.visibility&&(h.vScrollBar[0].style.visibility="inherit",r=!0),a!=i.max&&i._arrange()):"hidden"!=h.vScrollBar[0].style.visibility&&(h.vScrollBar[0].style.visibility="hidden",r=!0,i.setPosition(0)),"hidden"!=h.vScrollBar[d=0].style.visibility&&(d=h.scrollBarSize+6),a=h.checkboxes?this.checkboxSize+6:0,h.autoItemsHeight?h.hScrollBar[0].style.visibility="hidden":n-d-a<=t?(l=s.max,"inherit"==h.vScrollBar[0].style.visibility?s.max=a+d+parseInt(t)-h.host.width()+2:s.max=a+parseInt(t)-h.host.width()+4,"inherit"!=h.hScrollBar[0].style.visibility&&(h.hScrollBar[0].style.visibility="inherit",r=!0),l!=s.max&&s._arrange(),"inherit"==h.vScrollBar[0].style.visibility&&(i.max=2+parseInt(e)+h.hScrollBar.outerHeight()+2-parseInt(h.host.height()))):"hidden"!=h.hScrollBar[0].style.visibility&&(h.hScrollBar[0].style.visibility="hidden",r=!0),s.setPosition(0),r&&h._arrange(),h.itemswrapper&&(h.itemswrapper[0].style.width=Math.max(0,Math.max(n-2,17+t))+"px",d=Math.max(h.content.width(),17+h.virtualSize.width),h.itemswrapper[0].style.width=d+"px",h.itemswrapper[0].style.height=Math.max(0,2*o)+"px"),h.isTouchDevice()&&("visible"!=h.vScrollBar.css("visibility")&&"visible"!=h.hScrollBar.css("visibility")?P.jqx.mobile.setTouchScroll(!1,h.element.id):P.jqx.mobile.setTouchScroll(!0,h.element.id)))},clear:function(){this.source=null,this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.itemsByValue=new Array,this.clearSelection(),this.refresh()},clearSelection:function(e){for(var t=0;t<this.selectedIndexes.length;t++)this.selectedIndexes[t]&&-1!=this.selectedIndexes[t]&&this._raiseEvent("1",{index:t,type:"api",item:this.getVisibleItem(t),originalEvent:null}),this.selectedIndexes[t]=-1;this.selectedIndex=-1,this.selectedValue=null,this.selectedValues=new Array,0!=e&&this._renderItems()},unselectIndex:function(e,t){if(!isNaN(e)){for(var i,s=!(this.selectedIndexes[e]=-1),r=0;r<this.selectedIndexes.length;r++){var n=this.selectedIndexes[r];-1!=n&&null!=n&&(s=!0)}s||(this.selectedValue=null,this.selectedIndex=-1,(i=this.getVisibleItem(e))&&this.selectedValues[i.value]&&(this.selectedValues[i.value]=null)),null!=t&&1!=t||(this._renderItems(),this._raiseEvent("1",{index:e,type:"api",item:this.getVisibleItem(e),originalEvent:null})),this._updateInputSelection(),this._raiseEvent("2",{index:e,type:"api",item:this.getItem(e)})}},getInfo:function(){var o=this,e=this.getItems(),a=this.getVisibleItems(),t=function(){for(var e=o.vScrollInstance.value,t=(o.filterable&&(e-=o.filterHeight),new Array),i=0;i<a.length;i++){var s,r,n=a[i];n&&(r=!0,(r=(s=n.initialTop)+n.height-e<0||s-e>=o.host.height()?!1:r)&&t.push(n))}return t}();return{items:e,visibleItems:a,viewItems:t}},getItem:function(e){if(-1==e||isNaN(e)||"string"==typeof e)return-1===e?null:this.getItemByValue(e);var t=null;P.each(this.items,function(){if(this.index==e)return t=this,!1});return t},getVisibleItem:function(e){return-1==e||isNaN(e)||"string"==typeof e?-1===e?null:this.getItemByValue(e):this.visibleItems[e]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(e,t,i){var s;!this.checkboxes||isNaN(e)||e<0||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled||(s=this.getItem(e),null!=(s=0<this.groups.length||this.filterable?this.getVisibleItem(e):s)&&(P(s.checkBoxElement),s.checked=!0,null!=t&&1!=t||this._updateCheckedItems()),null!=i&&1!=i||this._raiseEvent(3,{label:s.label,value:s.value,checked:!0,item:s}))},getCheckedItems:function(){if(!this.checkboxes)return null;var e=new Array;return null!=this.items?(P.each(this.items,function(){this.checked&&(e[e.length]=this)}),e):void 0},checkAll:function(t){var i;this.checkboxes&&!this.disabled&&(P.each((i=this).items,function(){var e=this.checked;!(this.checked=!0)!==t&&!0!==e&&i._raiseEvent(3,{label:this.label,value:this.value,checked:!0,item:this})}),this._updateCheckedItems())},uncheckAll:function(t){var i;this.checkboxes&&!this.disabled&&(P.each((i=this).items,function(){var e=this.checked;(this.checked=!1)!==t&&!1!==e&&(this.checked=!1,i._raiseEvent(3,{label:this.label,value:this.value,checked:!1,item:this}))}),this._updateCheckedItems())},uncheckIndex:function(e,t,i){var s;!this.checkboxes||isNaN(e)||e<0||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled||(s=this.getItem(e),null!=(s=0<this.groups.length||this.filterable?this.getVisibleItem(e):s)&&(P(s.checkBoxElement),s.checked=!1,null!=t&&1!=t||this._updateCheckedItems()),null!=i&&1!=i||this._raiseEvent(3,{label:s.label,value:s.value,checked:!1,item:s}))},indeterminateIndex:function(e,t,i){var s;!this.checkboxes||isNaN(e)||e<0||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled||(s=this.getItem(e),null!=(s=0<this.groups.length||this.filterable?this.getVisibleItem(e):s)&&(P(s.checkBoxElement),(s.checked=null)!=t&&1!=t||this._updateCheckedItems()),null!=i&&1!=i||this._raiseEvent(3,{checked:null}))},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var e,t=this.getVisibleItems(),i=this.getItems(),s=(t&&t.length!==i.length&&(i=t),this.selectedIndexes),r=[];for(e in s)-1!=s[e]&&(r[r.length]=i[e]);return r},getSelectedItem:function(){var e=this.getSelectedItems();return e&&0<e.length?e[0]:null},_updateCheckedItems:function(){var e=this.selectedIndex,e=(this.clearSelection(!1),this.getCheckedItems(),this.selectedIndex=e,this._renderItems(),P.data(this.element,"hoveredItem"));null!=e&&(P(e).addClass(this.toThemeProperty("jqx-listitem-state-hover")),P(e).addClass(this.toThemeProperty("jqx-fill-state-hover"))),this._updateInputSelection()},getItemByValue:function(e){if(null!=this.visibleItems){if(e&&e.value&&(e=e.value),this.itemsByValue)return this.itemsByValue[P.trim(e).split(" ").join("?")];for(var t=this.visibleItems,i=0;i<t.length;i++)if(t[i].value==e)return t[i]}},checkItem:function(e){return null!=e&&(e=this._getItemByParam(e),this.checkIndex(e.visibleIndex,!0))},uncheckItem:function(e){return null!=e&&(e=this._getItemByParam(e),this.uncheckIndex(e.visibleIndex,!0))},indeterminateItem:function(e){return null!=e&&(e=this._getItemByParam(e),this.indeterminateIndex(e.visibleIndex,!0))},val:function(i){if(this.input){if(function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return"number"!=typeof i&&("date"!=typeof i&&("boolean"!=typeof i&&"string"!=typeof i))}(i)||0==arguments.length)return this.input.val();var e=this.getItemByValue(i);return null!=e&&this.selectItem(e),this.input?this.input.val():void 0}},selectItem:function(e){var t;return null!=e?(null==e.index&&(t=this.getItemByValue(e))&&(e=t),this.selectIndex(e.visibleIndex,!0)):(this.clearSelection(),!1)},unselectItem:function(e){var t;return null!=e&&(null==e.index&&(t=this.getItemByValue(e))&&(e=t),this.unselectIndex(e.visibleIndex,!0))},selectIndex:function(e,t,i,s,r,n){if(!isNaN(e)){var o=this.selectedIndex;if(this.filterable&&(this.selectedIndex=-1),!(e<-1||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled)){if(this.multiple||this.multipleextended||this.selectedIndex!=e||s||this.checkboxes){if(this.checkboxes)return this._updateCheckedItems(),l=o,this.selectedIndex!=e||this.multiple||(l=-1),null==r&&(r="none"),d=this.getItem(e),h=this.getItem(l),this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(d=this.getVisibleItem(e),h=this.getVisibleItem(l)),this._raiseEvent("1",{index:l,type:r,item:h,originalEvent:n}),this.selectedIndex=e,this.selectedIndexes[l]=-1,this.selectedIndexes[e]=e,d&&(this.selectedValue=d.value,this.selectedValues[d.value]=d.value),this._raiseEvent("0",{index:e,type:r,item:d,originalEvent:n}),void this._renderItems();var a=!(this.focused=!0),l=(this.selectedIndex!=e&&(a=!0),o),d=(this.selectedIndex!=e||this.multiple||(l=-1),null==r&&(r="none"),this.getItem(e)),h=this.getItem(l);if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(d=this.getVisibleItem(e),h=this.getVisibleItem(l)),null!=s&&s)this._raiseEvent("1",{index:l,type:r,item:h,originalEvent:n}),this.selectedIndex=e,this.selectedIndexes[l]=-1,this.selectedIndexes[e]=e,d&&(this.selectedValue=d.value,this.selectedValues[d.value]=d.value),this._raiseEvent("0",{index:e,type:r,item:d,originalEvent:n});else{function c(e,t,i,s,r,n){p._raiseEvent("1",{index:t,type:i,item:s,originalEvent:n}),p.selectedIndex=e,p.selectedIndexes=[],p.selectedIndexes[t=e]=e,p.selectedValues=new Array,r&&(p.selectedValues[r.value]=r.value),p._raiseEvent("0",{index:e,type:i,item:r,originalEvent:n})}function u(e,t,i,s,r,n){null==p.selectedIndexes[e]||-1==p.selectedIndexes[e]?(p.selectedIndexes[e]=e,p.selectedIndex=e,r&&(p.selectedValues[r.value]=r.value,p._raiseEvent("0",{index:e,type:i,item:r,originalEvent:n}))):(t=p.selectedIndexes[e],(s=p.getVisibleItem(t))&&(p.selectedValues[s.value]=null),p.selectedIndexes[e]=-1,p.selectedIndex=-1,p._raiseEvent("1",{index:t,type:i,item:s,originalEvent:n}))}var p=this;if(this.multipleextended)if(this._shiftKey||this._ctrlKey){if(this._ctrlKey)"keyboard"==r&&(this.clearSelection(!1),p._clickedIndex=e),u(e,0,r,0,d,n);else if(this._shiftKey){null==p._clickedIndex&&(p._clickedIndex=l);var o=Math.min(p._clickedIndex,e),m=Math.max(p._clickedIndex,e);this.clearSelection(!1);for(var g=o;g<=m;g++)p.selectedIndexes[g]=g,p.selectedValues[p.getVisibleItem(g).value]=p.getVisibleItem(g).value,p._raiseEvent("0",{index:g,type:r,item:this.getVisibleItem(g),originalEvent:n});p.selectedIndex="keyboard"!=r?p._clickedIndex:e}}else"keyboard"!=r&&"mouse"!=r?(u(e,0,r,0,d,n),p._clickedIndex=e):(this.clearSelection(!1),p._clickedIndex=e,c(e,l,r,h,d,n));else this.multiple?u(e,0,r,0,d,n):(d&&(this.selectedValue=d.value),c(e,l,r,h,d,n))}return null!=i&&1!=i||this._renderItems(),null!=t&&1==t&&this.ensureVisible(e),this._raiseEvent("2",{index:e,item:d,oldItem:h,type:r,originalEvent:n}),this._updateInputSelection(),a}this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(d=this.getVisibleItem(e))&&(this.selectedValue=d.value,this.selectedValues[d.value]=d.value)}}},_updateInputSelection:function(){this._syncSelection();var i=new Array;if(this.input&&(-1==this.selectedIndex?this.input.val(""):this.items&&null!=this.items[this.selectedIndex]&&(this.input.val(this.items[this.selectedIndex].value),i.push(this.items[this.selectedIndex].value)),this.multiple||this.multipleextended||this.checkboxes)){var e=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),t="";if(e){for(var s=0;s<e.length;s++)null!=e[s]&&(s==e.length-1?t+=e[s].value:t+=e[s].value+",",i.push(e[s].value));this.input.val(t)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?P.each(this.field,function(e,t){P(this).removeAttr("selected"),this.selected=0<=i.indexOf(this.value),this.selected&&P(this).attr("selected",!0)}):P.each(this.items,function(e,t){P(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=0<=i.indexOf(this.value),this.selected&&P(this.originalItem.originalItem).attr("data-selected",!0)}))},isIndexInView:function(e){if(isNaN(e))return!1;if(!this.items)return!1;if(e<0||e>=this.items.length)return!1;var t=this.vScrollInstance.value,i=0,e=(this.filterable&&(i=this.filterHeight),this.visibleItems[e]);if(null==e)return!0;var s=e.initialTop,e=e.height;return!(s-t<i||s-t+i+e>=this.host.outerHeight())},_itemsInPage:function(){var e=0,t=this;return this.items&&P.each(this.items,function(){if(this.initialTop+this.height>=t.content.height())return!1;e++}),e},_firstItemIndex:function(){return null!=this.visibleItems?this.visibleItems[0]&&this.visibleItems[0].isGroup?this._nextItemIndex(0):0:-1},_lastItemIndex:function(){return null!=this.visibleItems?this.visibleItems[this.visibleItems.length-1]&&this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:-1},_nextItemIndex:function(e){for(var t=e+1;t<this.visibleItems.length;t++)if(this.visibleItems[t]&&!this.visibleItems[t].disabled&&!this.visibleItems[t].isGroup)return t;return-1},_prevItemIndex:function(e){for(var t=e-1;0<=t;t--)if(this.visibleItems[t]&&!this.visibleItems[t].disabled&&!this.visibleItems[t].isGroup)return t;return-1},clearFilter:function(){this.filterInput.val(""),this._updateItemsVisibility("")},_search:function(e){var t=this.filterInput.val();if(9!=e.keyCode&&"none"!=this.searchMode&&null!=this.searchMode&&"undefined"!=this.searchMode&&16!=e.keyCode&&17!=e.keyCode&&20!=e.keyCode)return 37!=e.keyCode&&39!=e.keyCode&&void(e.altKey||18==e.keyCode||33<=e.keyCode&&e.keyCode<=40||(e.ctrlKey||e.metaKey||this.ctrlKey)&&88!=e.keyCode&&86!=e.keyCode||t!==this.searchString&&this._updateItemsVisibility(t))},_updateItemsVisibility:function(s){var e=this.getItems();if(null==e)return{index:-1,matchItem:new Array};var r=this,n=new Array,o=0;P.each(e,function(e){var t="";if(!this.isGroup){var t=(t=this.searchLabel||this.label||this.value||this.title||"jqxItem").toString(),i=!1;switch(r.searchMode){case"containsignorecase":i=P.jqx.string.containsIgnoreCase(t,s);break;case"contains":i=P.jqx.string.contains(t,s);break;case"equals":i=P.jqx.string.equals(t,s);break;case"equalsignorecase":i=P.jqx.string.equalsIgnoreCase(t,s);break;case"startswith":i=P.jqx.string.startsWith(t,s);break;case"startswithignorecase":i=P.jqx.string.startsWithIgnoreCase(t,s);break;case"endswith":i=P.jqx.string.endsWith(t,s);break;case"endswithignorecase":i=P.jqx.string.endsWithIgnoreCase(t,s)}i||(this.visible=!1),i&&((n[o++]=this).visible=!0,this.visibleIndex),""==s&&(this.visible=!0)}}),r.renderedVisibleItems=new Array,r.visibleItems=new Array,r.vScrollInstance.setPosition(0,!0),r._addItems(!1),r._renderItems();for(var t,i=0;i<r.items.length;i++)r.selectedIndexes[i]=-1;for(t in r.selectedIndex=-1,r.selectedValues){var s=r.selectedValues[t],a=r.getItemByValue(s);a&&a.visible&&(r.selectedIndex=a.visibleIndex,r.selectedIndexes[a.visibleIndex]=a.visibleIndex)}r._syncSelection(),r.filterChange&&r.filterChange(s)},_getMatches:function(s,r){if(null==s||0==s.length)return-1;null==r&&(r=0);var e=this.getItems(),n=this,o=-1;return P.each(e,function(e){var t="";if(!this.isGroup){var t=this.searchLabel?this.searchLabel.toString():this.label?this.label.toString():this.value?this.value.toString():this.title?this.title.toString():"jqxItem",i=!1;switch(n.searchMode){case"containsignorecase":i=P.jqx.string.containsIgnoreCase(t,s);break;case"contains":i=P.jqx.string.contains(t,s);break;case"equals":i=P.jqx.string.equals(t,s);break;case"equalsignorecase":i=P.jqx.string.equalsIgnoreCase(t,s);break;case"startswith":i=P.jqx.string.startsWith(t,s);break;case"startswithignorecase":i=P.jqx.string.startsWithIgnoreCase(t,s);break;case"endswith":i=P.jqx.string.endsWith(t,s);break;case"endswithignorecase":i=P.jqx.string.endsWithIgnoreCase(t,s)}if(i&&this.visibleIndex>=r)return o=this.visibleIndex,!1}}),o},findItems:function(s){var e=this.getItems(),r=this,n=0,o=new Array;return P.each(e,function(e){var t="";if(!this.isGroup){var t=this.label||this.value||this.title||"jqxItem",i=!1;switch(r.searchMode){case"containsignorecase":i=P.jqx.string.containsIgnoreCase(t,s);break;case"contains":i=P.jqx.string.contains(t,s);break;case"equals":i=P.jqx.string.equals(t,s);break;case"equalsignorecase":i=P.jqx.string.equalsIgnoreCase(t,s);break;case"startswith":i=P.jqx.string.startsWith(t,s);break;case"startswithignorecase":i=P.jqx.string.startsWithIgnoreCase(t,s);break;case"endswith":i=P.jqx.string.endsWith(t,s);break;case"endswithignorecase":i=P.jqx.string.endsWithIgnoreCase(t,s)}i&&(o[n++]=this)}}),o},_syncSelection:function(){var e=this;if(e.filterable){if(e.items)for(var t=0;t<e.items.length;t++)(i=e.items[t]).selected=!1;for(t=0;t<e.visibleItems.length;t++){var i=e.visibleItems[t];e.selectedIndexes&&e.selectedIndexes[t]==i.visibleIndex&&(i.selected=!0)}e.itemswrapper&&e._renderItems()}},_handleKeyDown:function(e){var t=e.keyCode,i=this,s=i.selectedIndex,r=i.selectedIndex;if(this.keyboardNavigation&&this.enableSelection&&!(this.filterInput&&e.target==this.filterInput[0]||e.target instanceof HTMLInputElement&&P(e.target).ischildof(this.host))){var n,o,a,l=function(){(i.multiple||i.checkboxes)&&i.clearSelection(!1)};if(32==(t=e.altKey?-1:t)&&this.checkboxes)return null!=(n=this.getItem(s))&&(i._updateItemCheck(n,s),e.preventDefault()),i._searchString="",i.selectIndex(n.visibleIndex,!1,!0,!0,"keyboard",e),void i._renderItems();if(i.incrementalSearch){var d=-1,h=(i._searchString||(i._searchString=""),(8==t||46==t)&&1<=i._searchString.length&&(i._searchString=i._searchString.substr(0,i._searchString.length-1)),String.fromCharCode(t)),c=(e.key&&(h=e.key),!isNaN(parseInt(h))),u=!1;if((65<=t&&t<=97||c||8==t||32==t||46==t)&&(e.shiftKey||(h=h.toLocaleLowerCase()),c=1+i.selectedIndex,8!=t&&32!=t&&46!=t&&(0<i._searchString.length&&i._searchString.substr(0,1)==h&&(c=1+i.selectedIndex),i._searchString+=h),32==t&&(i._searchString+=" "),h=this._getMatches(i._searchString,c),(d=h)!=i._lastMatchIndex&&-1!=d||(d=h=this._getMatches(i._searchString,0)),0<=(i._lastMatchIndex=d)&&(i._toSelectTimer&&clearTimeout(i._toSelectTimer),i._toSelectTimer=setTimeout(function(){l(),i.selectIndex(d,!1,!1,!1,"keyboard",e),i.isIndexInView(d)?i._renderItems():i.ensureVisible(d)},i.incrementalSearchKeyDownDelay)),u=!0),null!=i._searchTimer&&clearTimeout(i._searchTimer),27!=t&&13!=t||(i._searchString=""),i._searchTimer=setTimeout(function(){i._searchString="",i._renderItems()},i.incrementalSearchDelay),0<=d)return;if(u)return!1}if(33==t&&(o=i._itemsInPage(),0<=i.selectedIndex-o?(l(),i.selectIndex(r-o,!1,!1,!1,"keyboard",e)):(l(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""),32==t&&this.checkboxes&&(null!=(n=this.getItem(s))&&(i._updateItemCheck(n,s),e.preventDefault()),i._searchString=""),36==t&&(l(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),35==t&&(l(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),34==t&&(o=i._itemsInPage(),i.selectedIndex+o<i.visibleItems.length?(l(),i.selectIndex(r+o,!1,!1,!1,"keyboard",e)):(l(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""),38==t){if(i._searchString="",!(0<i.selectedIndex))return!1;if((a=i._prevItemIndex(i.selectedIndex))==i.selectedIndex||-1==a)return!0;l(),i.selectIndex(a,!1,!1,!1,"keyboard",e)}else if(40==t){if(i._searchString="",!(i.selectedIndex+1<i.visibleItems.length))return!1;if((a=i._nextItemIndex(i.selectedIndex))==i.selectedIndex||-1==a)return!0;l(),i.selectIndex(a,!1,!1,!1,"keyboard",e)}return 35!=t&&36!=t&&38!=t&&40!=t&&34!=t&&33!=t||(i.isIndexInView(i.selectedIndex)?i._renderItems():i.ensureVisible(i.selectedIndex),!1)}},_updateItemCheck:function(e,t){if(!this.disabled)switch(1==e.checked?e.checked=!(!e.hasThreeStates||!this.hasThreeStates)&&null:e.checked=null!=e.checked,e.checked){case!0:this.checkIndex(t);break;case!1:this.uncheckIndex(t);break;default:this.indeterminateIndex(t)}},wheel:function(e,t){return t.autoHeight||!t.enableMouseWheel?e.returnValue=!0:!!t.disabled||(i=0,(e=e||window.event).originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i?((t=t._handleDelta(i))&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!t&&(e.returnValue=t=!1)):(e.preventDefault&&e.preventDefault(),void(e.returnValue=!1)));var i},_handleDelta:function(e){var t=this.vScrollInstance.value;return e<0?this.scrollDown():this.scrollUp(),t!=this.vScrollInstance.value},focus:function(){try{this.focused=!0,this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(e){}},_removeHandlers:function(){this.removeHandler(P(document),"keydown.listbox"+this.element.id),this.removeHandler(P(document),"keyup.listbox"+this.element.id),this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this._mousewheelfunc?this.removeHandler(this.host,"mousewheel",this._mousewheelfunc):this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"focus"),this.removeHandler(this.content,"blur"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseup"),this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"touchend"),this._mousemovefunc?this.removeHandler(this.content,"mousemove",this._mousemovefunc):this.removeHandler(this.content,"mousemove"),this.removeHandler(this.content,"selectstart"),this.overlayContent&&this.removeHandler(this.overlayContent,P.jqx.mobile.getTouchEventName("touchend"))},_updateSize:function(){this.virtualSize||(this._oldheight=null,this.virtualSize=this._calculateVirtualSize());var e,t=this;t._arrange(),t.host.height()==t._oldheight&&t.host.width()==t._oldwidth||(t.host.width(),t._oldwidth,t.autoItemsHeight?t._render(!1):t.items&&(0<t.items.length&&t.virtualItemsCount*t.items[0].height<t._oldheight-2?t._render(!1):(e=t.vScrollInstance.value,t._updatescrollbars(),t._renderItems(),e<t.vScrollInstance.max?t.vScrollInstance.setPosition(e):t.vScrollInstance.setPosition(t.vScrollInstance.max))),t._oldwidth=t.host.width(),t._oldheight=t.host.height())},_addHandlers:function(){var l,d=this,h=(this.focused=!1,new Date,this.isTouchDevice(),this.addHandler(this.vScrollBar,"valueChanged",function(e){P.jqx.browser.msie&&9<P.jqx.browser.version?setTimeout(function(){d._renderItems()},1):d._renderItems()}),this.addHandler(this.hScrollBar,"valueChanged",function(){d._renderItems()}),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this._mousewheelfunc=function(e){d.wheel(e,d)},this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(P(document),"keydown.listbox"+this.element.id,function(e){d._ctrlKey=e.ctrlKey||e.metaKey,d._shiftKey=e.shiftKey}),this.addHandler(P(document),"keyup.listbox"+this.element.id,function(e){d._ctrlKey=e.ctrlKey||e.metaKey,d._shiftKey=e.shiftKey}),this.addHandler(this.host,"keydown",function(e){return d._handleKeyDown(e)}),this.addHandler(this.content,"mouseleave",function(e){d.focused=!1;var t=P.data(d.element,"hoveredItem");null!=t&&(P(t).removeClass(d.toThemeProperty("jqx-listitem-state-hover")),P(t).removeClass(d.toThemeProperty("jqx-fill-state-hover")),P.data(d.element,"hoveredItem",null))}),this.addHandler(this.content,"focus",function(e){d.disabled||(d.host.addClass(d.toThemeProperty("jqx-fill-state-focus")),d.focused=!0)}),this.addHandler(this.content,"blur",function(e){d.focused=!1,d.host.removeClass(d.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(e){d.disabled||(d.host.addClass(d.toThemeProperty("jqx-fill-state-focus")),d.focused=!0)}),this.addHandler(this.host,"blur",function(e){P.jqx.browser.msie&&P.jqx.browser.version<9&&d.focused||(d.host.removeClass(d.toThemeProperty("jqx-fill-state-focus")),d.focused=!1)}),this.addHandler(this.content,"mouseenter",function(e){d.focused=!0}),P.jqx.utilities.hasTransform(this.host)),c=d.isTouchDevice()&&!0!==this.touchMode,u=c?"touchend":"mousedown",r=(this.overlayContent?this.addHandler(this.overlayContent,P.jqx.mobile.getTouchEventName("touchend"),function(e){if(!d.enableSelection)return!0;if(c&&(d._newScroll=new Date,d._newScroll-d._lastScroll<500))return!0;var t=P.jqx.mobile.getTouches(e)[0];if(null!=t){var i=d.host.offset(),s=parseInt(t.pageX),r=parseInt(t.pageY),n=(1==d.touchMode&&null!=t._pageX&&(s=parseInt(t._pageX),r=parseInt(t._pageY)),s-=i.left,r-=i.top,d._hitTest(s,r));if(null!=n&&!n.isGroup)return d._newScroll=new Date,!(d._newScroll-d._lastScroll<500)&&(d.checkboxes?(d._updateItemCheck(n,n.visibleIndex),void d.selectIndex(n.visibleIndex,!1,!0,!1,"mouse",e)):-1==n.html.indexOf("href")?(d.selectIndex(n.visibleIndex,!1,!0,!1,"mouse",e),e.preventDefault&&e.preventDefault(),d.content.trigger("click"),!1):void setTimeout(function(){return d.selectIndex(n.visibleIndex,!1,!0,!1,"mouse",e),d.content.trigger("click"),!1},100))}}):(l=!1,this.addHandler(this.content,u,function(e){if(!d.enableSelection)return!0;if(l=!0,c&&(d._newScroll=new Date,d._newScroll-d._lastScroll<500))return!1;if(d.focused=!0,!d.isTouchDevice()&&d.focusable&&d.host.focus(),e.target.id!="listBoxContent"+d.element.id&&d.itemswrapper[0]!=e.target){var t,i=e.target,s=P(i).offset(),r=d.host.offset(),n=(h&&(n=P.jqx.mobile.getLeftPos(i),i=P.jqx.mobile.getTopPos(i),s.left=n,s.top=i,n=P.jqx.mobile.getLeftPos(d.element),i=P.jqx.mobile.getTopPos(d.element),r.left=n,r.top=i),parseInt(s.top)-parseInt(r.top)),o=parseInt(s.left)-parseInt(r.left),a=d._hitTest(o,n);if(null==a||a.isGroup||(t=function(e,t){d._shiftKey||(d._clickedIndex=e.visibleIndex),d.checkboxes?(o=20+t.pageX-s.left,d.rtl?("hidden"!=d.hScrollBar.css("visibility")?d.hScrollInstance.max:d.host.width(),o<=d.host.width()-20&&(d.allowDrag?setTimeout(function(){d._dragItem||l||(d._updateItemCheck(e,e.visibleIndex),d.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",t))},200):(d._updateItemCheck(e,e.visibleIndex),d.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",t)))):20<=o+d.hScrollInstance.value&&(d.allowDrag?setTimeout(function(){d._dragItem||l||(d._updateItemCheck(e,e.visibleIndex),d.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",t))},200):(d._updateItemCheck(e,e.visibleIndex),d.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",t)))):d.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",t)},a.disabled||(-1!=a.html.indexOf("href")?setTimeout(function(){t(a,e)},100):t(a,e))),"mousedown"==u){i=!1;if(e.which?i=3==e.which:e.button&&(i=2==e.button),i)return!0}}return!0})),this.addHandler(this.content,"mouseup",function(e){d.vScrollInstance.handlemouseup(d,e),l=!1}),P.jqx.browser.msie&&this.addHandler(this.content,"selectstart",function(e){return!1}),this.isTouchDevice());this.enableHover&&!r&&(this._mousemovefunc=function(e){if(r)return!0;if(!d.enableHover)return!0;var t,i,s;1==P.jqx.browser.msie&&P.jqx.browser.version;return null==e.target||(!!d.disabled||(d.focused=!0,void(d.vScrollInstance.isScrolling()||e.target.id=="listBoxContent"+d.element.id||d.itemswrapper[0]!=e.target&&(e=e.target,i=P(e).offset(),s=d.host.offset(),h&&(t=P.jqx.mobile.getLeftPos(e),e=P.jqx.mobile.getTopPos(e),i.left=t,i.top=e,t=P.jqx.mobile.getLeftPos(d.element),e=P.jqx.mobile.getTopPos(d.element),s.left=t,s.top=e),t=parseInt(i.top)-parseInt(s.top),e=parseInt(i.left)-parseInt(s.left),null==(i=d._hitTest(e,t))||i.isGroup||i.disabled||(null!=(s=P.data(d.element,"hoveredItem"))&&(P(s).removeClass(d.toThemeProperty("jqx-listitem-state-hover")),P(s).removeClass(d.toThemeProperty("jqx-fill-state-hover"))),P.data(d.element,"hoveredItem",i.element),(e=P(i.element)).addClass(d.toThemeProperty("jqx-listitem-state-hover")),e.addClass(d.toThemeProperty("jqx-fill-state-hover")))))))},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(e){null==e&&(e=!0);function t(e){return 0==(e=s.host.height()-l)&&s.host.height(e=200),e}var i,s=this,r=null,n=null,o=s.filterable?s.filterHeight:0,a=window.getComputedStyle(this.element),l=2*parseInt(a.borderLeftWidth),a=a.boxSizing,a=(0===this.element.offsetWidth&&(l=2),"border-box"!==a&&!isNaN(l)||(l=0),(null==s.width||-1==s.width.toString().indexOf("px"))&&(null==s.width||isNaN(s.width))||(r=s.width),(null==s.height||-1==s.height.toString().indexOf("px"))&&(null==s.height||isNaN(s.height))||(n=s.height),null!=s.width&&-1!=s.width.toString().indexOf("%")&&(s.host.css("width",s.width),r=s.host.width()),null!=s.height&&-1!=s.height.toString().indexOf("%")&&(s.host.css("height",s.height),n=t(n)),null!=r&&(r=parseInt(r)-l,parseInt(s.element.style.width)!=parseInt(s.width)&&(s.element.style.width=parseInt(r)+"px")),s.autoHeight?s.virtualSize&&(n="hidden"!=s.hScrollBar.css("visibility")?(s.host.height(s.virtualSize.height+parseInt(s.scrollBarSize)+3),s.height=s.virtualSize.height+parseInt(s.scrollBarSize)+3,s.height):(s.host.height(s.virtualSize.height),s.height=s.virtualSize.height,s.virtualSize.height)):null!=n&&(n=parseInt(n),parseInt(s.element.style.height)!=parseInt(s.height)&&(s.host.height(s.height),t(n))),s.scrollBarSize),d=(isNaN(a)&&(a=parseInt(a),isNaN(a)?a="17px":a+="px"),a=parseInt(a),2),h=1;s.vScrollBar&&("hidden"!=s.vScrollBar[0].style.visibility?h=a+4:s.vScrollInstance.setPosition(h=0),0==a&&(d=h=0),s.hScrollBar&&(d="hidden"!=s.hScrollBar[0].style.visibility?a+4:(s.hScrollInstance.setPosition(0),0),s.autoItemsHeight&&(s.hScrollBar[0].style.visibility="hidden",d=0),null==n&&(n=0),(i=parseInt(n)-4-a)<0&&(i=0),parseInt(s.hScrollBar[0].style.height)!=a&&(parseInt(a)<0&&(a=0),s.hScrollBar[0].style.height=parseInt(a)+"px"),s.hScrollBar[0].style.top!=i+"px"&&(s.hScrollBar[0].style.top=i+"px",s.hScrollBar[0].style.left="0px"),i=(i=(i=r-a-4)<0?0:i)+"px",s.hScrollBar[0].style.width!=i&&(s.hScrollBar[0].style.width=i),h<=1&&2<=r&&(s.hScrollBar[0].style.width=parseInt(r-2)+"px"),a!=parseInt(s.vScrollBar[0].style.width)&&(s.vScrollBar[0].style.width=parseInt(a)+"px"),parseInt(n)-d!=parseInt(s.vScrollBar[0].style.height)&&(i=parseInt(n)-d,s.vScrollBar[0].style.height=(i=i<0?0:i)+"px"),null==r&&(r=0),i=parseInt(r)-parseInt(a)-4+"px",(i="border-box"===this.host.css("box-sizing")?parseInt(i)-2+"px":i)!=s.vScrollBar[0].style.left&&(0<=parseInt(i)&&(s.vScrollBar[0].style.left=i),s.vScrollBar[0].style.top="0px"),(i=s.vScrollInstance).disabled=s.disabled,e&&i._arrange(),(i=s.hScrollInstance).disabled=s.disabled,e&&i._arrange(),"hidden"!=s.vScrollBar[0].style.visibility&&"hidden"!=s.hScrollBar[0].style.visibility?(s.bottomRight[0].style.visibility="inherit",s.bottomRight[0].style.left=1+parseInt(s.vScrollBar[0].style.left)+"px",s.bottomRight[0].style.top=1+parseInt(s.hScrollBar[0].style.top)+"px",s.rtl&&s.bottomRight.css({left:0}),s.bottomRight[0].style.width=parseInt(a)+3+"px",s.bottomRight[0].style.height=parseInt(a)+3+"px"):s.bottomRight[0].style.visibility="hidden",parseInt(s.content[0].style.width)!=parseInt(r)-h&&(e=parseInt(r)-h,s.content[0].style.width=(e=e<0?0:e)+"px"),s.rtl&&(s.vScrollBar.css({left:"0px",top:"0px"}),s.hScrollBar.css({left:s.vScrollBar.width()+2+"px"}),"hidden"!=s.vScrollBar[0].style.visibility?s.content.css("margin-left",4+s.vScrollBar.width()):(s.content.css("margin-left",0),s.hScrollBar.css({left:"0px"})),s.filterable&&s.filterInput&&s.filterInput.css({left:s.vScrollBar.width()+6+"px"})),parseInt(s.content[0].style.height)!=parseInt(n)-d&&(i=parseInt(n)-d,s.content[0].style.height=(i=i<0?0:i)+"px",s.content[0].style.top="0px"),0<o&&(s.content[0].style.top=o+"px",s.content[0].style.height=parseInt(s.content[0].style.height)-o+"px"),s.filterable?(s.filterInput[0].style.height=o-6+"px",s.filterInput[0].style.top="3px",s.rtl||(s.filterInput[0].style.left=parseInt(s.content.css("left"))+3+"px"),s.filterInput[0].style.width=parseInt(s.content.css("width"))-7+"px",s.filter[0].style.display="block"):s.filter[0].style.display="none",s.overlayContent&&(s.overlayContent.width(parseInt(r)-h),s.overlayContent.height(parseInt(n)-d))))},ensureVisible:function(e,t){if(isNaN(e)&&(i=this.getItemByValue(e))&&(e=i.index),this.isIndexInView(e)){if(t)for(s=0;s<this.visibleItems.length;s++)(i=this.visibleItems[s]).visibleIndex!=e||i.isGroup||(o=this.vScrollInstance.value,n=i.initialTop,this.filterable&&(n=this.filterHeight+2+i.initialTop),o+this.host.height()<this.vScrollInstance.max&&this.vScrollInstance.setPosition(n))}else{if(e<0)return;if(this.autoHeight)(r=P.data(this.vScrollBar[0],"jqxScrollBar").instance).setPosition(0);else for(var i,s=0;s<this.visibleItems.length;s++)if((i=this.visibleItems[s]).visibleIndex==e&&!i.isGroup){var r,n,o=(r=P.data(this.vScrollBar[0],"jqxScrollBar").instance).value,a=this.filterable?this.filterHeight+2:0,l="hidden"===this.hScrollBar.css("visibility")?0:this.scrollBarSize+4;i.initialTop<o?(r.setPosition(i.initialTop),0==s&&r.setPosition(0)):i.initialTop+i.height>o+this.host.height()-a&&(a=this.host.height(),this.filterable?r.setPosition(this.filterHeight+2+i.initialTop+i.height+2-a+l):(r.setPosition(i.initialTop+i.height+2-a+l),s===this.visibleItems.length-1&&r.setPosition(r.max)),t&&(o=r.value,n=i.initialTop,this.filterable&&(n=this.filterHeight+2+i.initialTop),o+a<r.max&&r.setPosition(n)));break}}this._renderItems()},scrollTo:function(e,t){"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(t),"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollInstance.setPosition(e)},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value+e.largestep<=e.max?e.setPosition(e.value+e.largestep):e.setPosition(e.max),!0},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value!=e.min&&(e.setPosition(e.min),!0)},databind:function(e,t){this.records=new Array;var i=!!e._source,o=new P.jqx.dataAdapter(e,{autoBind:!1}),s=(i&&(e=(o=e)._source),function(c,s){function r(e){var t,i,s=null,r=("string"==typeof e?(i=t=e,r=""):null!=c.displayMember&&""!=c.displayMember&&(i=e[c.valueMember],t=e[c.displayMember]),""),n=(c.groupMember?r=e[c.groupMember]:e&&null!=e.group&&(r=e.group),c.searchMember?s=e[c.searchMember]:e&&null!=e.searchLabel&&(s=e.searchLabel),c.valueMember||c.displayMember||"string"==P.type(e)&&(t=i=e.toString()),e&&null!=e.label&&(t=e.label),e&&null!=e.value&&(i=e.value),!1),o=(e&&null!=e.checked&&(n=e.checked),""),a=(e&&null!=e.html&&(o=e.html),!0),l=(e&&null!=e.visible&&(a=e.visible),!1),d=(e&&null!=e.disabled&&(l=e.disabled),!1),h=(e&&null!=e.hasThreeStates&&(d=e.hasThreeStates),{});return h.label=t,h.value=i,h.searchLabel=s,h.html=o,h.visible=a,h.originalItem=e,h.group=r,h.groupHtml="",h.disabled=l,h.checked=n,h.hasThreeStates=d,h}if(null!=s&&o._changedrecords[0])return void P.each(o._changedrecords,function(){var e,t=this.index,i=this.record;switch("remove"!=s&&(e=r(i)),s){case"update":c.updateAt(e,t);break;case"add":c.insertAt(e,t);break;case"remove":c.removeAt(t)}});c.records=o.records;for(var e=c.records.length,t=new Array,i=0;i<e;i++){var n=c.records[i],n=r(n);t[n.index=i]=n}c.items=c.loadItems(t,!0),c._render(),c._raiseEvent("6")}),r=(null!=e.type&&(o._options.type=e.type),null!=e.formatdata&&(o._options.formatData=e.formatdata),null!=e.contenttype&&(o._options.contentType=e.contenttype),null!=e.async&&(o._options.async=e.async),this);switch(e.datatype){case"local":case"array":default:null==e.localdata&&!P.isArray(e)||(o.unbindBindingUpdate(this.element.id),!this.autoBind&&(this.autoBind||t)||o.dataBind(),s(this),o.bindBindingUpdate(this.element.id,function(e){s(r,e)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=e.localdata)return o.unbindBindingUpdate(this.element.id),!this.autoBind&&(this.autoBind||t)||o.dataBind(),s(this),void o.bindBindingUpdate(this.element.id,function(){s(r)});var n={};o._options.data?P.extend(o._options.data,n):(e.data&&P.extend(n,e.data),o._options.data=n);o.unbindDownloadComplete(r.element.id),o.bindDownloadComplete(r.element.id,function(){s(r)}),!this.autoBind&&(this.autoBind||t)||o.dataBind()}},loadItems:function(e,o){if(null==e)return this.groups=new Array,this.items=new Array,void(this.visualItems=new Array);var a=this,l=0,d=0,h=0,c=(this.groups=new Array,this.items=new Array,this.visualItems=new Array,new Array),t=(this.itemsByValue=new Array,P.map(e,function(e){if(null==e)return null;var t=new P.jqx._jqxListBox.item,i=e.group,s=e.groupHtml,r=e.title,n=null,s=(a.searchMember?n=e[a.searchMember]:e&&null!=e.searchLabel&&(n=e.searchLabel),null==r&&(r=""),null==i&&(i=""),a.groupMember&&(i=e[a.groupMember]),null==s&&(s=""),a.groups[i]||(a.groups[i]={items:new Array,index:-1,caption:i,captionHtml:s},s=++l+"jqxGroup",a.groups[s]=a.groups[i],d++,a.groups.length=d),a.groups[i]);return s.index++,s.items[s.index]=t,"string"==typeof e?(t.label=e,t.value=e,1<arguments.length&&arguments[1]&&"string"==P.type(arguments[1])&&(t.label=e,t.value=arguments[1])):null==e.label&&null==e.value&&null==e.html&&null==e.group&&null==e.groupHtml?(t.label=e.toString(),t.value=e.toString()):(t.label=e.label,t.value=e.value,void 0===t.label&&(t.label=e.value),void 0===t.value&&(t.value=e.label)),"string"!=typeof e&&(void 0===e.label&&""!=a.displayMember&&(null!=e[a.displayMember]?t.label=e[a.displayMember]:t.label=""),void 0===e.value&&""!=a.valueMember&&(t.value=e[a.valueMember])),t.hasThreeStates=null==e.hasThreeStates||e.hasThreeStates,t.originalItem=e,o&&(t.originalItem=e.originalItem),(t.title=r)&&void 0===t.value&&void 0===t.label&&(t.value=t.label=r),t.html=e.html||"",e.html&&e.html,t.label,t.group=i,t.checked=e.checked||!1,t.groupHtml=e.groupHtml||"",t.disabled=e.disabled||!1,t.visible=null==e.visible||e.visible,t.searchLabel=n,t.index=h,c[h]=t,h++,t}),new Array),i=0;if(null==this.fromSelect||0==this.fromSelect)for(var s=0;s<d;s++){var r=(l=s+1)+"jqxGroup",n=this.groups[r];if(null==n)break;if(0==s&&""==n.caption&&""==n.captionHtml&&d<=1){for(var u=0;u<n.items.length;u++){var p=n.items[u].value;null!=n.items[u].value&&null!=n.items[u].value||(p=u),this.itemsByValue[P.trim(p).split(" ").join("?")]=n.items[u]}return n.items}r=new P.jqx._jqxListBox.item;r.isGroup=!0,r.label=n.caption,""==n.caption&&""==n.captionHtml&&(n.caption=this.emptyGroupText,r.label=n.caption),r.html=n.captionHtml,t[i]=r,i++;for(var m=0;m<n.items.length;m++){t[i]=n.items[m];p=n.items[m].value;""!=n.items[m].value&&null!=n.items[m].value||(p=i),a.itemsByValue[P.trim(p).split(" ").join("?")]=n.items[m],i++}}else{var i=0,g=new Array;P.each(c,function(){g[this.group]||""!=this.group&&((e=new P.jqx._jqxListBox.item).isGroup=!0,e.label=this.group,t[i]=e,i++,g[this.group]=!0);var e=(t[i]=this).value;""!=this.value&&null!=this.value||(e=i-1),a.itemsByValue[P.trim(e).split(" ").join("?")]=this,i++})}return t},_mapItem:function(e){var t=new P.jqx._jqxListBox.item;return this.displayMember&&(null==e.label&&(e.label=e[this.displayMember]),null==e.value&&(e.value=e[this.valueMember])),"string"==typeof e?(t.label=e,t.value=e):"number"==typeof e?(t.label=e.toString(),t.value=e.toString()):(t.label=void 0!==e.label?e.label:e.value,t.value=void 0!==e.value?e.value:e.label),null==t.label&&null==t.value&&null==t.html&&(t.label=t.value=e),t.html=e.html||"",t.group=e.group||"",t.checked=e.checked||!1,t.title=e.title||"",t.groupHtml=e.groupHtml||"",t.disabled=e.disabled||!1,t.visible=e.visible||!0,t},addItem:function(e){return this.insertAt(e,this.items?this.items.length:0)},_getItemByParam:function(e){var t;return e=null!=e&&null==e.index&&(t=this.getItemByValue(e))?t:e},insertItem:function(e,t){e=this._getItemByParam(e);return this.insertAt(e,t)},updateItem:function(e,t){t=this._getItemByParam(t);return!(!t||null==t.index)&&this.updateAt(e,t.index)},updateAt:function(e,t){null!=e&&(e=this._mapItem(e),this.itemsByValue[P.trim(e.value).split(" ").join("?")]=this.items[t],this.items[t].value=e.value,this.items[t].label=e.label,this.items[t].html=e.html,this.items[t].disabled=e.disabled,this._raiseEvent("9",{item:this.items[t]})),this._cachedItemHtml=[],this._renderItems(),this.rendered&&this.rendered()},insertAt:function(e,t){if(null==e)return!1;if(this._cachedItemHtml=[],null==this.items||0==this.items.length)return this.source=new Array,this.refresh(),(i=this._mapItem(e)).index=0,this.items[this.items.length]=i,this._addItems(!0),this._renderItems(),this.rendered&&this.rendered(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),l=i.value,""!=i.value&&null!=i.value||(l=t),this.itemsByValue[P.trim(l).split(" ").join("?")]=i,!1;var i=this._mapItem(e);if(-1==t||null==t||null==t||t>=this.items.length)i.index=this.items.length,this.items[this.items.length]=i;else{for(var s=new Array,r=0,n=!1,o=0,a=0;a<this.items.length;a++)0==this.items[a].isGroup&&t<=o&&!n&&((s[r++]=i).index=t,o++,n=!0),s[r]=this.items[a],this.items[a].isGroup||(s[r].index=o,o++),r++;this.items=s}var l=i.value,e=(""!=i.value&&null!=i.value||(l=t),this.itemsByValue[P.trim(l).split(" ").join("?")]=i,this.visibleItems=new Array,this.renderedVisibleItems=new Array,P.data(this.vScrollBar[0],"jqxScrollBar").instance),l=e.value;return e.setPosition(0),this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?this._addItems(!0):this._addItems(!1),this.groups.length,this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),e.setPosition(l),this._raiseEvent("7",{item:i}),this.rendered&&this.rendered(),!0},removeAt:function(e){if(e<0||e>this.items.length-1)return!1;if(null==e)return!1;var t=this.items[e].height,i=this.items[e].value,s=(this.itemsByValue[P.trim(i=""!=i&&null!=i?i:e).split(" ").join("?")]=null,this.items[e]);if(1<this.groups.length){for(var r=new Array,n=0;n<this.items.length;n++)this.items[n].isGroup||r.push({item:this.items[n],key:n});if(!r[e])return!1;this.items.splice(r[e].key,1)}else this.items.splice(e,1);for(var o=0,a=-1,l=0;l<this.items.length;l++)this.items[l].isGroup?(o=0,a=l):0<=a&&o++;0===o&&0<=a&&this.items.splice(a,1);for(var d=new Array,h=0,c=0,n=0;n<this.items.length;n++)d[h]=this.items[n],this.items[n].isGroup||(d[h].index=c,c++),h++;this.items=d;var e=P.data(this.vScrollBar[0],"jqxScrollBar").instance,u=(e=P.data(this.vScrollBar[0],"jqxScrollBar").instance).value;e.setPosition(0),this.visibleItems=new Array,this.renderedVisibleItems=new Array,0<this.items.length?(this.virtualSize&&(this.virtualSize.height-=t,t=2*this.virtualSize.itemsPerPage,this.autoHeight&&(t=this.items.length),this.virtualItemsCount=Math.min(t,this.items.length)),this._updatescrollbars()):this._addItems(),this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),"hidden"!=this.vScrollBar.css("visibility")?e.setPosition(u):e.setPosition(0),this.itemsByValue=new Array;for(l=0;l<this.items.length;l++){i=this.items[l].value;""!=this.items[l].value&&null!=this.items[l].value||(i=l),this.itemsByValue[P.trim(i).split(" ").join("?")]=this.items[l]}return this._raiseEvent("8",{item:s}),0===this.items.length&&(this.selectedIndex=-1,this.selectedValue=null,this._updateInputSelection()),this.rendered&&this.rendered(),!0},removeItem:function(e,t){var i=this._getItemByParam(e),s=-1;if(i&&null!=i.index&&!0!==t){for(var r=0;r<this.items.length;r++)if(this.items[r].label==i.label&&this.items[r].value==i.value){s=r;break}if(-1!=s)return this.removeAt(s)}if(-1==s)return this.removeAt(i.index)},getItems:function(){return this.items},disableItem:function(e){e=this._getItemByParam(e);this.disableAt(e.index)},enableItem:function(e){e=this._getItemByParam(e);this.enableAt(e.index)},disableAt:function(e){return!!this.items&&(!(e<0||e>this.items.length-1)&&(this.items[e].disabled=!0,this._renderItems(),!0))},enableAt:function(e){return!!this.items&&(!(e<0||e>this.items.length-1)&&(this.items[e].disabled=!1,this._renderItems(),!0))},destroy:function(){this.source&&this.source.unbindBindingUpdate&&this.source.unbindBindingUpdate(this.element.id),this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar.remove(),this.hScrollBar.remove(),this.content.remove(),P.jqx.utilities.resize(this.host,null,!0);var e=P.data(this.element,"jqxListBox");delete this.hScrollInstance,delete this.vScrollInstance,delete this.vScrollBar,delete this.hScrollBar,delete this.content,delete this.bottomRight,delete this.itemswrapper,delete this.visualItems,delete this.visibleItems,delete this.items,delete this.groups,delete this.renderedVisibleItems,delete this._mousewheelfunc,delete this._mousemovefunc,delete this._cachedItemHtml,delete this.itemsByValue,delete this._activeElement,delete this.source,delete this.events,this.input&&(this.input.remove(),delete this.input),e&&delete e.instance,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.element=null,delete this.element,this.host=null,delete this.set,delete this.get,delete this.call,delete this.host},_raiseEvent:function(e,t){if(1==this._stopEvents)return!0;var i,e=this.events[e],t=t=null==t?{owner:null}:t,e=((t.owner=this)._updateInputSelection(),new P.Event(e));return e.owner=this,e.args=t,i=null!=this.host?this.host.trigger(e):i}})}(jqxBaseFramework),!function(_){_.jqx.parseSourceTag=function(e){var s=new Array,t=_(e).find("option"),r=_(e).find("optgroup"),n=!1;if(0===t.length&&0<(t=_(e).find("li")).length&&(n=!0),0===t.length){for(var i=[],o=_(e).find("tr"),a=_(e).find("th"),l=0,d=(0===a.length&&0<o.length&&(a=_(o[0]).find("td"),l=1),[]),h=[],i=[],c=0;c<o.length;c++){var u=o[c],p={};c===l+1&&(h=[]);for(var m=0;m<a.length;m++){var g,f=_.trim(_(a[m]).text()),v=_(u).find("td:eq("+m+")");p[f]=_.trim(v.text()),c===l&&(d.push({text:f,dataField:f}),h.push({name:f})),c===l+1&&(v="","string"===(g=typeof p[f])&&("true"===p[f]||"false"===p[f]?g="bool":isNaN(parseFloat(p[f]))||-1!==p[f].indexOf("-")||-1!==p[f].indexOf("/")?0<=p[f].indexOf("$")||0<=p[f].indexOf("%")?(g="number",0<=p[f].indexOf("$")&&(v="c"),0<=p[f].indexOf("%")&&(v="p"),p[f]=p[f].replace("%","").replace("$","")):"Invalid Date"!==new Date(p[f]).toString()&&(g="date",v="d"):(g="number",v=0<=p[f].indexOf(".")?"f":"n")),d[m].cellsformat=v,"number"===g&&(d[m].cellsalign="right",d[m].align="right"),h.push({name:f,type:g}))}1<=c&&(i[i.length]=p)}return{source:new _.jqx.dataAdapter({localdata:i,datatype:"array",datafields:h}),columns:d}}var x=null,x=-1,y=new Array;if(_.each(t,function(e){var t=0<r.find(this).length,i=(null==this.text||null!=this.label&&""!=this.label||(this.label=this.text),!0===n&&(this.label=_(this).text().trim(),this.selected=_(this).attr("data-selected"),this.checked=this.selected,this.value=_(this).attr("data-value")||e,this.disabled=_(this).attr("disabled")),{style:this.style.cssText,selected:this.selected,html:this.innerHTML.trim(),classes:this.className,disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this});_.jqx.browser.msie&&_.jqx.browser.version<8&&!n&&""==i.value&&null!=this.text&&0<this.text.length&&(i.value=this.text),t&&(t=r.find(this).parent()[0].label,i.group=t,y[t]||(y[t]=new Array,y.length++),y[t].push(i)),this.selected&&(x=e),i.checked=this.selected,void 0!==i.label&&s.push(i)}),0<y.length){var w,b=new Array;for(w in y)if("indexOf"!==w){for(c=0;c<r.length;c++)if(w===r[c].label||r[c].text){r[c];break}_.each(y[w],function(e,t){void 0!==this.label&&b.push(this)})}}return b&&0<b.length?{items:b,index:x}:{items:s,index:x}},_.jqx._jqxListBox.item=function(){return{group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1}}}(jqxBaseFramework),!function(d){d.jqx.jqxWidget("jqxListMenu","",{});var t=0,i=0;d.extend(d.jqx._jqxListMenu.prototype,{defineInstance:function(){var e={filterCallback:function(e,t){return d.jqx.string.containsIgnoreCase(d.trim(e),t)},placeHolder:"Filter list items...",showFilter:!1,showHeader:!0,showBackButton:!0,showNavigationArrows:!0,alwaysShowNavigationArrows:!1,backLabel:"Back",width:"100%",height:"auto",animationType:"slide",animationDuration:0,headerAnimationDuration:0,autoSeparators:!1,readOnly:!1,roundedCorners:!0,disabled:!1,enableScrolling:!0,touchMode:!1,_childrenMap:{},_parentMap:{},_lock:!1,_backButton:null,_currentPage:null,_header:null,_oldHost:void 0,rtl:!1,aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===d.jqx._jqxListMenu.prototype||d.extend(!0,this,e),e},destroy:function(){this.host.remove()},createInstance:function(){d.jqx.aria(this),this.host.attr("data-role","listmenu"),this.host.attr("role","tree")},refresh:function(e){this._render(),this._removeClasses(),this._addClasses(),this._currentPage=this._currentPage||this.host.children(".jqx-listmenu").first(),this._changeHeader(this._currentPage),this._removeEventHandlers(),this._addEventHandlers()},_render:function(){this._renderHost(),this._renderAutoSeparators(),this._renderSublists(),this._renderFilterBar(),this._renderHeader(),this.host.css({width:this.width,height:this.height}),this.disabled&&this.disable(),this.enableScrolling&&this.host.jqxPanel&&this.panel&&this.panel.jqxPanel("_arrange")},resize:function(e,t){this.width=e,this.height=t,this.host.css({width:this.width,height:this.height}),this.panel&&this.panel.jqxPanel("_arrange")},_renderHost:function(){this.host.is("div")?this.element.style.overflow="hidden":(this._oldHost=this.host,this.host.wrap("<div/>"),this.host=this.host.parent(),this.element=this.host[0],this.host.jqxPanel&&this.enableScrolling&&(this.host.wrap("<div/>"),this.panel=this.host.parent(),this.panel[0].id="panel"+this.element.id,this.panel.jqxPanel({theme:this.theme,autoUpdate:!0,width:this.width,height:this.height,touchMode:this.touchMode}),this.host.css({width:"100%"}),this.host.css({height:"auto"}),this.host.css("border","none"))),this.enableScrolling||(this.element.style.overflow="hidden"),d.jqx.browser.msie&&d.jqx.browser.version<8&&(this.element.style.position="relative"),this.enableScrolling&&this.panel&&this.panel.jqxPanel("_arrange")},_renderAutoSeparators:function(e){var t,i=this.host.find(".jqx-listmenu-auto-separator"),s=this.host.find('[data-role="listmenu"]');for(i.remove(),t=0;t<s.length;t+=1)((e=d(s[t])).data("auto-separators")||this.autoSeparators)&&this._renderListAutoSeparators(e)},_renderSublists:function(){var e,t,i=[this.host.find(".jqx-listmenu").first()[0]||this.host.find("ul,ol").first()[0]];for(this._refreshList(i[0]);i.length;)for(var s,r=i.pop(),n=(s=this._getChildrenByTagName(r,"li","LI")).length,o=0;o<n;o+=1)e=s[o],d(e).attr("role","treeitem"),t=this._getChildList(e),this._refreshLi(e,o,n),t&&(i.push(t),this._refreshList(t,e,!0))},_refreshList:function(e,t,i){"listmenu"===(e=d(e)).data("role")&&(e.is(".jqx-listmenu")||(this._renderList(e),this._handleListId(e),this._addListClasses(e)),t&&this._expandHierarchy(e[0],t),i&&this._handleSublist(e[0]))},_renderList:function(e){(e=d(e)).is(".jqx-listmenu")||(e.detach(),e.appendTo(this.host))},_handleListId:function(e){e[0].id||(e[0].id="jqx-listmenu-"+i,i+=1)},_renderListAutoSeparators:function(e){for(var t,i,s,r=e.children("li"),n={},o=0;o<r.length;o+=1)(s=d(r[o])).data("role")||(d.trim(s.text())[0]!==t&&(t=d.trim(s.text())[0],(i=d('<li data-role="separator" class="'+this.toThemeProperty("jqx-listmenu-auto-separator")+'">'+t+"</li>")).insertBefore(s),i[0].items=new Array,n=i[0]),n.items&&(n.items[n.items.length]=s[0]))},_addListClasses:function(e){e.addClass("jqx-listmenu")},_expandHierarchy:function(e,t){t&&e&&(t=t.id,e=e.id,this._childrenMap[t]=e,this._parentMap[e]=t)},_handleSublist:function(e){this._currentPage&&e===this._currentPage[0]?e.style.display="block":e.style.display="none"},_getChildrenByTagName:function(e,t,i){var s=[],r={};for(r[t]=r[i]=!0,e=e.firstChild;e;)r[e.nodeName]&&s.push(e),e=e.nextSibling;return s},_renderFilterBar:function(){this._filterBar||(this._filterBar=d("<div/>"),this._filterInput=d('<input type="text" />'),this._filterBar.append(this._filterInput),this.host.prepend(this._filterBar));var e=!1;(e=d.jqx.browser.msie&&d.jqx.browser.version<8?!0:e)||this._filterInput.attr("placeholder",this.placeHolder),this.showFilter?this._filterBar.css("display","block"):this._filterBar.css("display","none")},_renderHeader:function(){this._header||(this._header=d("<div/>"),this.host.prepend(this._header),this._renderHeaderLabel()),this._renderBackButton(),this.showHeader?this._header.css("display","block"):this._header.css("display","none")},_renderHeaderLabel:function(){this._headerLabel=d("<span/>"),this._headerLabel.addClass(this.toThemeProperty("jqx-listmenu-header-label")),this._header.append(this._headerLabel)},_renderBackButton:function(){this._backButton||(this._backButton=d('<div><div style="float: left;"></div><span style="float: left;">'+this.backLabel+'</span><div style="clear:both;"></div></div>'),this._header.prepend(this._backButton),this._backButton.jqxButton({theme:this.theme}),this._backButton.find("div:first").addClass(this.toThemeProperty("jqx-listmenu-backbutton-arrow")),this.showBackButton?this._backButton.css("display","inline-block"):this._backButton.css("display","none"),this.rtl&&(d.jqx.browser.msie&&d.jqx.browser.version<8?(this._backButton.css("position","relative"),this._backButton.css("left","100%"),this._backButton.css("margin-left",-this._backButton.outerWidth()-45+"px")):(this._backButton.css("position","relative"),this._backButton.css("margin-left","100%"),this._backButton.css("left",-this._backButton.outerWidth()-15)))),this.showBackButton?this._backButton.css("display","inline-block"):this._backButton.css("display","none")},_removeEventHandlers:function(){var e=this.isTouchDevice()&&!this.touchMode,t=d.jqx.mobile.getTouchEventName("touchstart");this.removeHandler(this._backButton,e?t:"click"),this.removeHandler(this._filterInput,"keyup"),this.removeHandler(this._filterInput,"change")},_addEventHandlers:function(){var e=this,t=this.isTouchDevice()&&!this.touchMode,i=d.jqx.mobile.getTouchEventName("touchstart");this.addHandler(this._backButton,t?i:"click",function(){e.back()}),this.addHandler(this._filterInput,"keyup change",function(){e._filter(d(this).val())})},_getChildList:function(e){if(e){var t=this._childrenMap[e.id];if(0<=e.className.indexOf("jqx-listmenu-item")&&t)return document.getElementById(t);t=this._getChildrenByTagName(e,"ul","UL")[0],e=this._getChildrenByTagName(e,"ol","OL")[0];return t||e}},_refreshLi:function(e,t,i){e.parentNode&&"listmenu"===e.parentNode.getAttribute("data-role")&&(e.id,this._handleLiId(e),this._renderLi(e),this._removeLiEventHandlers(e),this._addLiEventHandlers(e),this._addLiClasses(e,t,i))},_handleLiId:function(e){e.id||(e.id="jqx-listmenu-item-"+t,t+=1)},_renderLi:function(e){var t,i,s;/(separator|header)/.test(d(e).data("role"))||0<d(e).children(".jqx-listmenu-arrow-right").length||(d(e).wrapInner('<span class="'+this.toThemeProperty("jqx-listmenu-item-label")+'"></span>'),(this.showNavigationArrows||this.alwaysShowNavigationArrows)&&(t=d("<span/>"),i=d(e).find("ul"),s=d(e).find("ol"),(this.alwaysShowNavigationArrows||0<i.length&&/(listmenu)/.test(i.data("role"))||0<s.length&&/(listmenu)/.test(s.data("role")))&&(t.addClass(this.toThemeProperty("jqx-listmenu-arrow-right")),this.rtl?(t.addClass(this.toThemeProperty("jqx-icon-arrow-left")),t.addClass(this.toThemeProperty("jqx-listmenu-arrow-rtl")),t.prependTo(e)):(t.addClass(this.toThemeProperty("jqx-icon-arrow-right")),t.appendTo(e)))))},_removeLiEventHandlers:function(e){var t=this.isTouchDevice(),i=d.jqx.mobile.getTouchEventName("touchstart"),s=d.jqx.mobile.getTouchEventName("touchend"),i=(d.jqx.mobile.getTouchEventName("touchmove"),(t?i:"mousedown")+".listmenu"),t=(t?s:"mouseup")+".listmenu";this.removeHandler(d(e),i),this.removeHandler(d(document),t+"."+e.id)},isTouchDevice:function(){var e=d.jqx.mobile.isTouchDevice();return e=1==this.touchMode?!0:e},_addLiEventHandlers:function(t){t=d(t);var i=this,s=this.toThemeProperty("jqx-listmenu-arrow-right-pressed"),r=t.children(".jqx-listmenu-arrow-right"),n=d.jqx.mobile.isTouchDevice(),e=d.jqx.mobile.getTouchEventName("touchstart"),o=d.jqx.mobile.getTouchEventName("touchend"),e=(d.jqx.mobile.getTouchEventName("touchmove"),(n?e:"mousedown")+".listmenu"),o=(n?o:"mouseup")+".listmenu",a=null,l="";/(separator|readonly)/.test(t.data("role"))||this.readOnly||(this.addHandler(t,"dragstart",function(){return!1}),this.addHandler(t,e,function(e){i.disabled||(a=e.target,l=d.jqx.position(e),0!=t.find('div[data-role="content"]').length||n||(t.addClass(i.toThemeProperty("jqx-fill-state-pressed")),r.addClass(s)))}),this.addHandler(t,o,function(e){i.disabled||a!=e.target&&n||d.jqx.position(e).top===l.top&&i.next(t)}),this.addHandler(d(document),o+"."+t[0].id,function(){i.disabled||(t.removeClass(i.toThemeProperty("jqx-fill-state-pressed")),r.removeClass(s))}))},_addLiClasses:function(e,t,i){"separator"===(e=d(e)).data("role")?this._handleSeparatorStyle(e):"header"===e.data("role")?this._handleHeaderStyle(e):(this.readOnly||"readonly"===e.data("role")?e.addClass(this.toThemeProperty("jqx-listmenu-item-readonly")):e.removeClass(this.toThemeProperty("jqx-listmenu-item-readonly")),this._handleItemStyle(e)),0!==t||this.showHeader||this.showFilter||e.addClass(this.toThemeProperty("jqx-rc-t")),t===i-1&&e.addClass(this.toThemeProperty("jqx-rc-b"))},_handleSeparatorStyle:function(e){e.addClass(this.toThemeProperty("jqx-listmenu-separator")),e.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e[0].style.listStyle="none"},_handleHeaderStyle:function(e){e.css("display","none")},_handleItemStyle:function(e){e.addClass(this.toThemeProperty("jqx-listmenu-item")),this.rtl&&e.addClass(this.toThemeProperty("jqx-rtl")),e.addClass(this.toThemeProperty("jqx-fill-state-normal")),e.addClass(this.toThemeProperty("jqx-item"))},back:function(){var e,t=this._currentPage;t&&(e=this._parentMap[t[0].id]),this._back=!0,0<d("#"+e).length&&d.jqx.aria(d("#"+e),"aria-expanded",!1),this._changePage(t,d("#"+e).parent(),this.animationDuration,!0),this._back=!1},next:function(e){var t=e.attr("id"),i=this._childrenMap[t],i=d("#"+i),t=d("#"+t).parent();d.jqx.aria(e,"aria-expanded",!0),this._changePage(t,i,this.animationDuration)},changePage:function(e){if(!(e="string"==typeof e?d(e):e)[0]||"listmenu"!==e.attr("data-role")||e.parents().index(this.host)<0)throw new Error("Invalid newPage. The chosen newPage is not listmenu or it's not part of the selected jqxListMenu hierarchy.");this._currentPage[0]!=e[0]&&this._changePage(this._currentPage,e,this.animationDuration)},_changePage:function(e,t,i,s){this._lock||(s="_"+this.animationType+"Change"+(s?"Back":""),t[0]&&(this.showFilter&&(0<t.find('div[data-role="content"]').length?(d.each(t.find("li"),function(){"separator"===d(this).data("role")&&d(this).hide()}),this._filterBar.css("display","none")):this._filterBar.css("display","block")),this._lock=!0,this[s](e,t,this.animationDuration,function(){this._lock=!1,this._changeHeader(t),this._currentPage=t})))},_changeHeader:function(e){var t,i=d(e).find('li[data-role="header"]').first();i[0]&&(t=this)._headerLabel.fadeOut(this.headerAnimationDuration/2,function(){t._headerLabel.html(i.html()),t._headerLabel.fadeIn(t.headerAnimationDuration/2)})},_slideChange:function(e,t,i,s){var r=this,n=(this.enableScrolling&&null!=this.panel&&this.panel.jqxPanel("scrollTo",0,0),this.rtl);this._initSlide(e,t),n?e.animate({"margin-left":e.width()+parseInt(e.css("margin-right"),10)||0},i,"easeInOutSine"):e.animate({"margin-left":-e.width()-parseInt(e.css("margin-right"),10)||0},i,"easeInOutSine"),t.animate({"margin-left":0},i,"easeInOutSine",function(){r._slideEnd(e,t),s.call(r,d(this))})},_initSlide:function(e,t){var i=this.rtl;e.width(e.width()),t.css({marginTop:-e.outerHeight(!0),marginLeft:i?-e.width()-(parseInt(e.css("margin-right"),10)||0):e.width()+(parseInt(e.css("margin-right"),10)||0),display:"block",height:"auto",width:e.width()})},_slideEnd:function(e,t){this.host.css("height","auto"),e.css({display:"none",width:"auto",height:"auto",marginTop:0,marginLeft:0}),t.css({marginTop:0,marginLeft:0,height:"auto",width:"auto",display:"block"})},_slideChangeBack:function(e,t,i,s){var r=this;this._initSlideBack(e,t),e.animate({"margin-left":this.rtl?-e.width()-parseInt(e.css("margin-right"),10)||0:e.width()+parseInt(e.css("margin-right"),10)||0},i),t.animate({"margin-left":0},i,function(){r._slideEnd(e,t),s.call(r,d(this))})},_initSlideBack:function(e,t){e.css({marginTop:-t.outerHeight(!0),width:e.width()}),t.css({width:e.width(),marginLeft:this.rtl?e.width()+parseInt(e.css("margin-right"),10)||0:-e.width()-parseInt(e.css("margin-right"),10)||0,display:"block",height:"auto"})},_fadeChangeBack:function(e,t,i,s){this._fadeChange(e,t,i,s)},_fadeChange:function(e,t,i,s){var r=this;e.fadeOut(i/2,function(){t.fadeIn(i/2,function(){s.call(r,d(this))})})},_removeClasses:function(){this._filterBar.removeClass(this.toThemeProperty("jqx-listmenu-filter")),this._filterBar.removeClass(this.toThemeProperty("jqx-widget-header")),this._filterInput.removeClass(this.toThemeProperty("jqx-listmenu-filter-input")),this._filterInput.removeClass(this.toThemeProperty("jqx-input")),this._header.removeClass(this.toThemeProperty("jqx-listmenu-header")),this._header.removeClass(this.toThemeProperty("jqx-widget-header")),this._header.removeClass(this.toThemeProperty("jqx-rc-t")),this.roundedCorners&&this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.host.removeClass(this.toThemeProperty("jqx-widget")),this.host.removeClass(this.toThemeProperty("jqx-listmenu-widget")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this.host.removeClass(this.toThemeProperty("jqx-reset")),0<this.host.find('div[data-role="content"]').length&&this.host.find('div[data-role="content"]').removeClass(this.toThemeProperty("jqx-widget-content"))},_addClasses:function(){this.roundedCorners?this.host.addClass(this.toThemeProperty("jqx-rc-all")):this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass("jqx-widget"),this.host.addClass("jqx-listmenu-widget"),this.host.addClass("jqx-fill-state-normal"),this.host.addClass("jqx-reset"),this._filterBar.addClass(this.toThemeProperty("jqx-listmenu-filter")),this._filterBar.addClass(this.toThemeProperty("jqx-widget-header")),this._filterInput.addClass(this.toThemeProperty("jqx-listmenu-filter-input")),this._filterInput.addClass(this.toThemeProperty("jqx-input")),this._header.addClass(this.toThemeProperty("jqx-listmenu-header")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),0<this.host.find('div[data-role="content"]').length&&this.host.find('div[data-role="content"]').addClass(this.toThemeProperty("jqx-widget-content"))},_raiseEvent:function(){},_filter:function(e){for(var t=this.host.find(".jqx-listmenu-item"),i=0;i<t.length;i+=1){var s=d.trim(d(t[i]).text());this.filterCallback(s,e)?t[i].style.display="block":t[i].style.display="none"}for(t=this.host.find(".jqx-listmenu-separator"),i=0;i<t.length;i+=1){var r=!1;d.each(t[i].items,function(){if("none"!=d(this).css("display"))return!(r=!0)}),t[i].style.display=r?"block":"none"}},disable:function(){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!0},enable:function(){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1},propertyChangedHandler:function(e,t,i,s){"disabled"==t&&(s?e.disable():e.enable()),"backLabel"===t?e._backButton.html(s):"placeHolder"===t?e._filterInput.attr("placeholder",s):/(showFilter|showHeader|showBackButton|width|height|autoSeparators|readOnly)/.test(t)&&e._render()}})}(jqxBaseFramework),!function(s){s.jqx.jqxWidget("jqxLoader","",{}),s.extend(s.jqx._jqxLoader.prototype,{defineInstance:function(){var e={width:200,height:150,text:"Loading...",html:null,textPosition:"bottom",imagePosition:"center",isModal:!1,autoOpen:!1,rtl:!1,events:["create"]};return this===s.jqx._jqxLoader.prototype||s.extend(!0,this,e),e},createInstance:function(e){this._render(!0),this._raiseEvent("0")},render:function(){this._render()},open:function(e,t){var i=this;null!==this.width&&-1!==this.width.toString().indexOf("%")&&i.host.css("width",this.width),null!==this.height&&-1!==this.height.toString().indexOf("%")&&i.host.css("height",this.height),i.host.show(),i.host.css("left",-i.host.width()/2),i.host.css("top",-i.host.height()/2),e&&t&&(i.host.css("left",e),i.host.css("top",t)),i.isModal&&i._modal.show()},close:function(){this.host.hide(),this.isModal&&this._modal.hide()},_checkBrowser:function(){var e=this;"msie"===s.jqx.browser.browser&&("7.0"===s.jqx.browser.version?(!1===e.isModal&&e.host.addClass(e.toThemeProperty("jqx-loader-ie-transparency")),e.host.css("top",Math.max(0,(s(window).height()-s(e.host).outerHeight())/2+s(window).scrollTop())+"px"),e.host.css("left",Math.max(0,(s(window).width()-s(e.host).outerWidth())/2+s(window).scrollLeft())+"px"),s(window).resize(function(){e.host.css("top",Math.max(0,(s(window).height()-s(e.host).outerHeight())/2+s(window).scrollTop())+"px"),e.host.css("left",Math.max(0,(s(window).width()-s(e.host).outerWidth())/2+s(window).scrollLeft())+"px")}),this.host.css({"margin-top":"0","margin-left":"0"})):"8.0"===s.jqx.browser.version&&!1===e.isModal&&e.host.addClass(e.toThemeProperty("jqx-loader-ie-transparency")))},_textPos:function(){var e=this;this._text=e.host.children("div:eq(1)"),this._image&&this._image.css("background-position-y",e.imagePosition),"top"===e.textPosition?(this._text.addClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-bottom")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-right"))):"bottom"===e.textPosition?(this._text.addClass(e.toThemeProperty("jqx-loader-text-bottom")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-right"))):"left"===e.textPosition?(this._text.addClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-right")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-bottom"))):"right"===e.textPosition&&(this._text.addClass(e.toThemeProperty("jqx-loader-text-right")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-bottom")))},refresh:function(e){!0!==e&&this._render(!1)},destroy:function(){this._removeHandlers(),this.host.remove()},propertyChangedHandler:function(e,t,i,s){if(s!==i)switch(t){case"width":e.host.width(s);break;case"height":e.host.height(s);break;case"text":e._text.text(s);break;case"html":e.host.html(s);break;case"textPosition":e._textPos(s);break;case"rtl":!0===s?e._text.addClass(e.toThemeProperty("jqx-loader-rtl")):e._text.removeClass(e.toThemeProperty("jqx-loader-rtl"))}},_raiseEvent:function(e,t){e=this.events[e],e=new s.Event(e);e.owner=this,e.args=t;try{var i=this.host.trigger(e)}catch(e){}return i},_render:function(e){var t=this;t.host.width(t.width),t.host.height(t.height),!1===t.autoOpen&&t.host.hide(),e&&(null===t.html?(t.host.append('<div class="'+t.toThemeProperty("jqx-loader-icon")+'"></div><div class="'+t.toThemeProperty("jqx-loader-text")+'">'+t.text+"</div>"),t._image=t.host.children("div:eq(0)"),t._text=t.host.children("div:eq(1)")):t.host.html(this.html),!0===t.isModal&&(e=t.host.css("display"),t._modal=s('<div id="'+t.element.id+'Modal" class="'+t.toThemeProperty("jqx-loader-modal")+'" style="display: '+e+';"></div>'),s("body").append(t._modal))),t._checkBrowser(),t._textPos(),t._addClass(),t._removeHandlers(),t._addHandlers()},_addHandlers:function(){var t=this;!0===t.isModal&&t.addHandler(s(document),"keyup.loader"+t.element.id,function(e){27===e.keyCode&&t.close()})},_removeHandlers:function(){this.removeHandler(s(document),"keyup.loader"+this.element.id)},_addClass:function(){var e=this;e.host.addClass(e.toThemeProperty("jqx-widget")),e.host.addClass(e.toThemeProperty("jqx-loader")),e.host.addClass(e.toThemeProperty("jqx-rc-all")),e.host.addClass(e.toThemeProperty("jqx-fill-state-normal")),e.rtl&&e._text.addClass(e.toThemeProperty("jqx-loader-rtl")),s.jqx.browser.msie&&e.host.addClass(this.toThemeProperty("jqx-noshadow")),e.host.addClass(this.toThemeProperty("jqx-rc-t")),e.host.addClass(this.toThemeProperty("jqx-rc-b")),e.host.addClass(this.toThemeProperty("jqx-popup"))}})}(jqxBaseFramework),!function(l){l.jqx.jqxWidget("jqxMaskedInput","",{}),l.extend(l.jqx._jqxMaskedInput.prototype,{defineInstance:function(){var e={value:null,mask:"99999",width:200,height:null,textAlign:"left",readOnly:!1,cookies:!1,promptChar:"_",placeHolder:"",template:"",rtl:!1,disabled:!1,hint:!0,events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],aria:{"aria-valuenow":{name:"value",type:"string"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===l.jqx._jqxMaskedInput.prototype||l.extend(!0,this,e),e},createInstance:function(){this.render()},render:function(){var e,r=this,t=(r.element.setAttribute("role","textbox"),r.element.setAttribute("data-role","input"),r.host.addClass(r.toThemeProperty("jqx-maskedinput")),r.element.getAttribute("value")),t=(void 0!==t&&""!==t&&null!==t&&(r.value=t),l.jqx.aria(this),l.jqx.aria(this,"aria-multiline",!1),l.jqx.aria(this,"aria-readonly",r.readOnly),r._helpers=[],r._helpers.element=new jqxHelper(r.element),r._helpers.element.addClass(r.toThemeProperty("jqx-input jqx-input-widget jqx-rc-all jqx-widget jqx-widget-content")),r.element.getAttribute("name"));"div"===r.element.nodeName.toLowerCase()?(r.element.innerHTML="",(e=document.createElement("input")).setAttribute("type","textarea"),e.setAttribute("autocomplete","off"),e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!1),e.setAttribute("name",t),e.setAttribute("inputmode","numeric"),r.element.appendChild(e),r.maskbox=l(e),r.disabled&&(r._helpers.element.addClass(r.toThemeProperty("jqx-input-disabled jqx-fill-state-disabled")),e.setAttribute("disabled",!0))):(r.maskbox=r.host,r.element.setAttribute("autocomplete","off"),r.element.setAttribute("autocorrect","off"),r.element.setAttribute("autocapitalize","off"),r.element.setAttribute("spellcheck",!1),r.element.setAttribute("name",t),r.element.setAttribute("inputmode","numeric"),r.disabled&&(r._helpers.element.addClass(r.toThemeProperty("jqx-input-disabled jqx-fill-state-disabled")),r.element.setAttribute("disabled",!0))),r._helpers.maskbox=new jqxHelper(r.maskbox[0]),r._helpers.maskbox.addClass(r.toThemeProperty("jqx-reset jqx-input-content jqx-widget-content")),r.rtl&&r._helpers.maskbox.addClass(r.toThemeProperty("jqx-rtl")),r.propertyChangeMap.disabled=function(e,t,i,s){s?e._helpers.maskbox.addClass(r.toThemeProperty("jqx-input-disabled")):e._helpers.maskbox.removeClass(r.toThemeProperty("jqx-input-disabled"))},r.selectedText="",r.self=this,r.oldValue=r._value(),r.items=[],r._initializeLiterals(),r._render(),null!=r.value&&r.inputValue(r.value.toString()),0<r.host.parents("form").length&&r.host.parents("form").on("reset",function(){setTimeout(function(){r.clearValue()},10)}),r.addHandlers(),r.cookies&&(e=l.jqx.cookie.cookie("maskedInput."+r.element.id))&&r.val(e)},addHandlers:function(){var r=this,e="",n=/(android)/i.test(navigator.userAgent);this.addHandler(this.maskbox,"blur",function(){r.rtl&&r.maskbox.css("direction","ltr"),r._helpers.maskbox.removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.maskbox.val()!==e&&(r._raiseEvent(7,{type:"keyboard"}),r.cookies&&l.jqx.cookie.cookie("maskedInput."+r.element.id,r.maskbox.val()))}),this.addHandler(this.maskbox,"focus",function(){e=r.maskbox[0].value,r.rtl&&(r.maskbox[0].style.direction="rtl"),r._helpers.element.addClass(r.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"keydown",function(e){var t=r.readOnly,i=e.charCode||e.keyCode||0;if(t||r.disabled)return!1;if(n)return 8===i?(r._handleKeyDown(e,i),!1):void 0;t=r._handleKeyDown(e,i);return t||(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),t}),this.addHandler(this.host,"keyup",function(e){return!(!r.readOnly&&!r.disabled)||(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1)}),this.addHandler(this.host,"keypress",function(e){var t,i=r.readOnly,s=e.charCode||e.keyCode||0;return!(!i&&!r.disabled)||(n?(t=r._handleKeyDown(e,s),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1):((t=r._handleKeyPress(e,s))||(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),t))})},focus:function(){try{var e=this;e.maskbox.focus(),setTimeout(function(){e.maskbox.focus()})}catch(e){}},_getString:function(){for(var e="",t=0;t<this.items.length;t++){var i=this.items[t].character;this.items[t].character===this.promptChar&&this.promptChar!==this.items[t].defaultCharacter?e+=this.items[t].defaultCharacter:e+=i}return e},_initializeLiterals:function(){if(void 0===this.mask||null===this.mask)this.items=[];else{function e(e,t,i){var s={};return s.character=e,s.regex=t,s.canEdit=i,s.defaultCharacter=r.promptChar,s}for(var r=this,t=(this.mask=this.mask.toString(),this.mask.length),i=0;i<t;i++){var s=this.mask.substring(i,i+1),n="",o=!1;if("["===s){for(var a=i;a<t;a++)if("]"===this.mask.substring(a,a+1))break;n="("+this.mask.substring(i,a+1)+")",i=a,o=!0}"#"===s?(n="(\\d|[+]|[-])",o=!0):"9"===s||"0"===s?(n="\\d",o=!0):"$"===s||"/"===s||":"===s?o=!1:"A"===s||"a"===s?(n="\\w",o=!0):"c"===s||"C"===s?(n=".",o=!0):"L"!==s&&"l"!==s||(n="([a-zA-Z])",o=!0);var l={},l=e(o?this.promptChar:s,n,o);this.items.push(l)}}},setRegex:function(e,t,i,s){null!=e&&null!=t&&e<this.items.length&&(this.items[e].regex=t,null!=i&&(this.items[e].canEdit=i),null!=s&&(this.items[e].defaultCharacter=s))},_match:function(e,t){return new RegExp(t,"i").test(e)},_raiseEvent:function(e,t){var i=this.events[e],s={},r=(s.owner=this,!0),i=new l.Event(i);return i.owner=this,s.value=this.inputValue(),s.text=this.maskedValue(),7===e&&(s.type=t.type,void 0===s.type&&(s.type=null)),i.args=s,r=e<2||6<e?this.host.trigger(i):r},_handleKeyPress:function(e,t){return this._isSpecialKey(t,e)},_insertKey:function(e,t){var i,s=this._selection(),r=this;if(0<=s.start&&s.start<this.items.length)for(var n=String.fromCharCode(e),o=(65<=e&&e<=90&&(t.shiftKey||(n=n.toLowerCase())),!1),a=0;a<this.items.length;a++)if(!(a<s.start)){var l=r.items[a];if(l.canEdit){if(r._match(n,l.regex)){if(!o&&0<s.length){for(var d=s.start;d<s.end;d++)r.items[d].canEdit&&(r.items[d].character=r.promptChar);i=r._getString(),r.maskedValue(i),o=!0}l.character=n,i=r._getString(),r.maskedValue(i),s.start<r.items.length&&r._setSelectionStart(a+1);break}break}}},_deleteSelectedText:function(){var e=this._selection(),t=!1;if(0<e.start||0<e.length){for(var i=e.start;i<e.end;i++)i<this.items.length&&this.items[i].canEdit&&this.items[i].character!==this.promptChar&&(this.items[i].character=this.promptChar,t=!0);var s=this._getString();return this.maskedValue(s),t}},_saveSelectedText:function(){var e,t=this._selection(),i="";if(0<t.start||0<t.length)for(var s=t.start;s<t.end;s++)this.items[s].canEdit&&(i+=this.items[s].character);return window.clipboardData?window.clipboardData.setData("Text",i):((e=l("<textarea style='position: absolute; left: -1000px; top: -1000px;'/>")).val(i),l("body").append(e),e.select(),setTimeout(function(){document.designMode="off",e.select(),e.remove()},100)),i},_pasteSelectedText:function(){function t(e){if(!(e!==a.selectedText&&0<e.length&&(a.selectedText=e,null===a.selectedText||void 0===a.selectedText))){if(0<=s.start||0<s.length)for(var t=s.start;t<a.items.length;t++)a.items[t].canEdit&&n<a.selectedText.length&&(a.items[t].character=a.selectedText[n],n++,o=1+t);r=a._getString(),a.maskedValue(r),o<a.items.length?a._setSelectionStart(o):a._setSelectionStart(a.items.length)}}var e,i,s=this._selection(),r="",n=0,o=s.start,a=this;window.clipboardData?(e=window.clipboardData.getData("Text"),t(e)):(i=l("<textarea style='position: absolute; left: -1000px; top: -1000px;'/>"),l("body").append(i),i.select(),setTimeout(function(){var e=i.val();t(e),i.remove()},100))},_handleKeyDown:function(e,t){var i,s=this._selection(),r=(96<=t&&t<=105&&(t-=48),e.ctrlKey||e.metaKey);if(r&&97===t||r&&65===t)return!0;if(r&&120===t||r&&88===t)return this.selectedText=this._saveSelectedText(e),this._deleteSelectedText(e),!l.jqx.browser.msie;if(r&&99===t||r&&67===t)return this.selectedText=this._saveSelectedText(e),!l.jqx.browser.msie;if(r&&122===t||r&&90===t)return!1;if(r&&118===t||r&&86===t||e.shiftKey&&45===t)return this._pasteSelectedText(),!l.jqx.browser.msie;if(8===t){if(0===s.length)for(i=this.items.length-1;0<=i;i--)if(this.items[i].canEdit&&i<s.end&&this.items[i].character!==this.promptChar){this._setSelection(i,i+1);break}s=this._selection(),r=this._deleteSelectedText();return(0<s.start||0<s.length)&&s.start<=this.items.length&&(r?this._setSelectionStart(s.start):this._setSelectionStart(s.start-1)),!1}if(190===t)for(i=s.start;i<this.items.length;i++)if("."===this.items[i].character){this._setSelectionStart(i+1);break}if(191===t)for(i=s.start;i<this.items.length;i++)if("/"===this.items[i].character){this._setSelectionStart(i+1);break}if(189===t)for(i=s.start;i<this.items.length;i++)if("-"===this.items[i].character){this._setSelectionStart(i+1);break}if(46!==t)return this._insertKey(t,e),this._isSpecialKey(t,e);if(0===s.length)for(i=0;i<this.items.length;i++)if(this.items[i].canEdit&&i>=s.start&&this.items[i].character!==this.promptChar){this._setSelection(i,i+1),this._deleteSelectedText(e),this._setSelection(i,i+1);break}r=s;return(0<=(s=this._selection()).start||0<=s.length)&&s.start<this.items.length&&(s.length<=1?r.end!==s.end?this._setSelectionStart(s.end):this._setSelectionStart(s.end+1):this._setSelectionStart(s.start)),!1},_isSpecialKey:function(e,t){return 189===e||9===e||13===e||35===e||36===e||37===e||39===e||46===e||!!(16===e&&t.shiftKey||t.ctrlKey||t.metaKey)},_selection:function(){var e,t=this.maskbox[0];if("selectionStart"in this.maskbox[0])return e=t.selectionEnd-t.selectionStart,{start:t.selectionStart,end:t.selectionEnd,length:e,text:t.value};var i=document.selection.createRange();if(null==i)return{start:0,end:t.value.length,length:0};var t=this.maskbox[0].createTextRange(),s=t.duplicate();return t.moveToBookmark(i.getBookmark()),s.setEndPoint("EndToStart",t),e=i.text.length,{start:s.text.length,end:s.text.length+i.text.length,length:e,text:i.text}},_setSelection:function(e,t){var i;"selectionStart"in this.maskbox[0]?(this.maskbox[0].focus(),this.maskbox[0].setSelectionRange(e,t)):((i=this.maskbox[0].createTextRange()).collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())},_setSelectionStart:function(e){this._setSelection(e,e)},refresh:function(e){e||this._render()},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_render:function(){var e=parseInt(this.host.css("border-left-width"),10),t=parseInt(this.host.css("border-left-width"),10),i=parseInt(this.host.css("border-left-width"),10),s=parseInt(this.host.css("border-left-width"),10),r=parseInt(this.host.css("height"),10)-i-s,e=parseInt(this.host.css("width"),10)-e-t,t=((null==this.width||-1===this.width.toString().indexOf("px"))&&(void 0===this.width||isNaN(this.width))||(e=this.width),(null==this.height||-1===this.height.toString().indexOf("px"))&&(void 0===this.height||isNaN(this.height))||(r=this.height),e=parseInt(e,10),r=parseInt(r,10),this.maskbox[0]!==this.element&&this.maskbox.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0}),this.maskbox.css("text-align",this.textAlign),this.maskbox.css("font-size")),e=(isNaN(r)||this.maskbox.css("height",parseInt(t,10)+4+"px"),isNaN(e)||this.maskbox.css("width",e),parseInt(r,10)-2*parseInt(i,10)-2*parseInt(s,10)-parseInt(t,10));isNaN(e),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=this.width:null==this.width||isNaN(this.width)||(this.element.style.width=this.width+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=this.height:null==this.height||isNaN(this.height)||(this.element.style.height=this.height+"px"),this.maskbox[0]!==this.element&&(this.maskbox[0].style.height="100%"),this.maskbox[0].value=this._getString(),this.width&&0<=this.width.toString().indexOf("%")&&(this.element.style.width=this.width),this.height&&0<=this.height.toString().indexOf("%")&&(this.element.style.height=this.height),this._addBarAndLabel(this.maskbox),this._updateHint()},_addBarAndLabel:function(e){var t,i,s,r,n=this;n.label||n.isMaterialized()&&(this.element instanceof HTMLInputElement?((t=l("<div></div>")).addClass(n.toThemeProperty("jqx-input-group jqx-maskedinput")),this.host.after(t),s=this.element,i=this.host.data(),t.append(s),s=l("<label></label"),this.hint&&(s[0].innerHTML=this.placeHolder),s.addClass(n.toThemeProperty("jqx-input-label")),t.append(s),r=l("<span></span>"),t.append(r),r.addClass(n.toThemeProperty("jqx-input-bar")),t[0].id=this.element.id,this.element.removeAttribute("id"),this.element.setAttribute("hint",!0),t[0].style=this.element.style,n.input=n.element,this.input instanceof HTMLInputElement||(this.input=this.host.find("input"),0<this.input.length&&(this.input=this.input[0]),l(this.input).addClass(this.toThemeProperty("jqx-input-widget"))),t[0].style.width=this.input.style.width,t[0].style.height=this.input.style.height,0<=n.element.className.indexOf("underlined")&&t.addClass("underlined"),this.label=s,this.bar=r,this.element.style="",this.host=t,this.element=t[0],this.host.data(i),this.input.style.width="100%",this.input.style.height="100%"):(s=l("<label></label"),this.hint&&(s[0].innerHTML=this.placeHolder),s.addClass(n.toThemeProperty("jqx-input-label")),e.after(s),n.label=s,r=l("<span></span>"),e.after(r),r.addClass(n.toThemeProperty("jqx-input-bar")),n.bar=r,n=this),n.template&&(n.bar.addClass(n.toThemeProperty("jqx-"+n.template)),n.label.addClass(n.toThemeProperty("jqx-"+n.template))))},_updateHint:function(){var e=this;e.hint&&e.isMaterialized()&&setTimeout(function(){0===e.maskbox[0].value.length?(e.element.removeAttribute("hint"),e.label[0].innerHTML=e.placeHolder):e.element.setAttribute("hint",!0)})},destroy:function(){l.jqx.utilities.resize(this.host,null,!0),this.host.remove(),this._helpers=[]},maskedValue:function(e){return void 0===e?this._value():(this.value=e,this._refreshValue(),this.oldValue!==e&&(this._raiseEvent(1,e),this.oldValue=e,this._raiseEvent(0,e)),this)},propertyChangedHandler:function(e,t,i,s){if(void 0!==this.isInitialized&&!1!==this.isInitialized){if("rtl"===t&&(e.rtl?e._helpers.maskbox.addClass(e.toThemeProperty("jqx-rtl")):e._helpers.maskbox.removeClass(e.toThemeProperty("jqx-rtl"))),"value"===t&&(""===(s=null==s?"":s)?this.clear():(s=s.toString(),this.inputValue(s)),e._raiseEvent(7,s)),"theme"===t&&l.jqx.utilities.setTheme(i,s,this.host),"disabled"===t&&(s?(e._helpers.maskbox.addClass(e.toThemeProperty("jqx-input-disabled")),e._helpers.element.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e._helpers.maskbox.attr("disabled",!0)):(e._helpers.maskbox.removeClass(this.toThemeProperty("jqx-input-disabled")),e._helpers.element.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),e._helpers.maskbox.attr("disabled",!1)),l.jqx.aria(e,"aria-disabled",s)),"readOnly"===t&&(this.readOnly=s),"promptChar"===t){for(var r=0;r<e.items.length;r++)e.items[r].character===e.promptChar&&(e.items[r].character=s,e.items[r].defaultCharacter=s);e.promptChar=s}"textAlign"===t&&(e.maskbox.css("text-align",s),e.textAlign=s),"mask"===t&&(e.mask=s,e.items=[],e._initializeLiterals(),e.value=e._getString(),e._refreshValue()),"width"===t?(e.width=s,e._render()):"height"===t&&(e.height=s,e._render())}},_value:function(){return this.value},_getEditStringLength:function(){for(var e="",t=0;t<this.items.length;t++)this.items[t].canEdit&&(e+=this.items[t].character);return e.length},_getEditValue:function(){for(var e="",t=0;t<this.items.length;t++)this.items[t].canEdit&&this.items[t].character!==this.promptChar&&(e+=this.items[t].character);return e},parseValue:function(e){if(null==e)return null;for(var t=e.toString(),i="",s=0,r=0;r<t.length;r++)for(var n=t.substring(r,r+1),o=s;o<this.items.length;o++)if(this.items[o].canEdit&&this._match(n,this.items[o].regex)){i+=n,s=o;break}return i},clear:function(){this.clearValue()},clearValue:function(){this.inputValue("",!0)},val:function(e){return void 0!==e&&"object"!=typeof e&&(0<=(e="number"==typeof e&&isFinite(e)?e.toString():e).indexOf("-")||0<=e.indexOf("(")?that.maskedValue(e):this.inputValue(e)),this.maskbox[0].value},inputValue:function(e,t){if(null==e){for(var i="",s=0;s<this.items.length;s++)this.items[s].canEdit&&(i+=this.items[s].character);return i}var r=0;for(e=e.toString(),s=0;s<this.items.length;s++)this.items[s].canEdit&&(this._match(e.substring(r,r+1),this.items[s].regex)?(this.items[s].character=e.substring(r,r+1),r++):t&&(this.items[s].character=this.promptChar,r++));var n=this._getString();return this.maskedValue(n),this.inputValue()},_refreshValue:function(){for(var e=this.maskedValue(),t=0,i=0;i<this.items.length;i++)e.length>t&&(this.items[i].canEdit&&this.items[i].character!==e[t]&&(this._match(e[t],this.items[i].regex)||e[t]===this.promptChar)&&1===e[t].length&&(this.items[i].character=e[t]),t++);this.value=this._getString(),e=this.value,this.maskbox[0].value=e,l.jqx.aria(this,"aria-valuenow",e)}})}(jqxBaseFramework),!function(f){f.jqx.jqxWidget("jqxMenu","",{}),f.extend(f.jqx._jqxMenu.prototype,{defineInstance:function(){var e={items:new Array,mode:"horizontal",width:null,height:null,minimizeWidth:"auto",easing:"easeInOutSine",animationShowDuration:200,animationHideDuration:200,autoCloseInterval:0,animationHideDelay:100,animationShowDelay:10,menuElements:new Array,autoSizeMainItems:!1,autoCloseOnClick:!0,autoCloseOnMouseLeave:!0,enableRoundedCorners:!0,disabled:!1,autoOpenPopup:!0,enableHover:!0,autoOpen:!0,autoGenerate:!0,clickToOpen:!1,showTopLevelArrows:!1,touchMode:"auto",source:null,popupZIndex:1e3,rtl:!1,keyboardNavigation:!1,lockFocus:!1,title:"",events:["shown","closed","itemclick","initialized","open","close"]};return this===f.jqx._jqxMenu.prototype||f.extend(!0,this,e),e},createInstance:function(e){var t,i=this;this.host.attr("role","menubar"),f.jqx.utilities.resize(this.host,function(){i.refresh()},!1,"popup"!=this.mode),"auto"!=this.minimizeWidth&&null!=this.minimizeWidth&&this.width&&-1==this.width.toString().indexOf("%")&&f(window).resize(function(){i.refresh()}),i.isMaterialized()&&(t=window.getComputedStyle(this.element).getPropertyValue("--jqx-dropdown-animation"))&&(this.animationType=t.trim(),"transform"===this.animationType&&(this.animationShowDuration=0,this.animationHideDuration=0,this.animationShowDelay=0)),this.host.css("outline","none"),this.source&&null!=this.source&&(t=this.loadItems(this.source),this.element.innerHTML=t),this._tmpHTML=this.element.innerHTML,this.element.innerHTML.indexOf("UL")&&0<(t=this.host.find("ul:first")).length&&this._createMenu(t[0]),this.host.data("autoclose",{}),this._render(),this._setSize(),f.jqx.browser.msie&&f.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{var t,e;"popup"===this.mode&&this.keyboardNavigation&&this.host.closest("div.jqx-menu-wrapper").focus(),this.keyboardNavigation&&(this.host.focus(),e=function(){var e;f.jqx.isHidden(f(t.items[0].element))?(e=t._nextVisibleItem(t.items[0],0))&&(f(e.element).addClass(t.toThemeProperty("jqx-fill-state-focus")),t.activeItem=e):(f(t.items[0].element).addClass(t.toThemeProperty("jqx-fill-state-focus")),t.activeItem=t.items[0])},(t=this).activeItem?f.jqx.isHidden(f(this.activeItem.element))?(f(this.activeItem.element).removeClass(this.toThemeProperty("jqx-fill-state-focus")),e()):f(this.activeItem.element).addClass(this.toThemeProperty("jqx-fill-state-focus")):e())}catch(e){}},loadItems:function(e,t){if(null!=e){if(0==e.length)return"";var i=this,s=(this.items=new Array,'<ul class="jqx-menu-ul">');return t&&(s='<ul class="jqx-menu-ul" style="width:'+t+';">'),f.map(e,function(e){if(null==e)return null;s+=i._parseItem(e)}),s+="</ul>"}},_parseItem:function(e){var t="";if(null==e)return null;var i=e.label,s=(i=(i=!e.label&&e.html?e.html:i)||"Item","string"==typeof e&&(i=e),null!=e.selected&&e.selected,!1);return t+="<li",(s=null!=e.disabled&&e.disabled?!0:s)&&(t+=' item-disabled="true" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=e.value&&(t+=' item-value="'+e.value+'" '),null!=e.id&&(t+=' id="'+e.id+'" '),t+=">"+i,e.items&&(e.subMenuWidth?t+=this.loadItems(e.items,e.subMenuWidth):t+=this.loadItems(e.items)),t+="</li>"},_setSize:function(){(null!=this.width&&-1!=this.width.toString().indexOf("%")||null!=this.width&&-1!=this.width.toString().indexOf("px")||null!=this.width&&!isNaN(this.width))&&this.host.width(this.width),(null!=this.height&&-1!=this.height.toString().indexOf("%")||null!=this.height&&-1!=this.height.toString().indexOf("px")||null!=this.height&&!isNaN(this.height))&&this.host.height(this.height),null===this.height&&this.host.height("auto");if(null!=this.minimizeWidth&&"popup"!=this.mode){var e=f(window).width();if(!f.jqx.response){var t=!1,i=(!navigator.userAgent.match(/Windows|Linux|MacOS/)||0<=navigator.userAgent.indexOf("Windows Phone")||0<=navigator.userAgent.indexOf("WPDesktop")||0<=navigator.userAgent.indexOf("IEMobile")||0<=navigator.userAgent.indexOf("ZuneWP7")||(t=!0),this.minimizeWidth);if(t&&"auto"==this.minimizeWidth)return}"auto"==this.minimizeWidth&&f.jqx.response?"Phone"!=(t=new f.jqx.response).device.type&&"Tablet"!=t.device.type||this.minimized||this.minimize():e<i&&!this.minimized?this.minimize():this.minimized&&i<=e&&this.restore()}},minimize:function(){var s,e,r,n;this.minimized||((s=this).host.addClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!0,this._tmpMode=this.mode,this.mode="simple",(r=this.host.closest("div.jqx-menu-wrapper")).remove(),f("#menuWrapper"+this.element.id).remove(),f.each(this.items,function(){f(this.element);f(this.subMenuElement).closest("div.jqx-menu-popup").remove()}),this.source&&(e=this.loadItems(this.source),this.element.innerHTML=e,this._tmpHTML=this.element.innerHTML),this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")&&0<(e=this.host.find("ul:first")).length&&this._createMenu(e[0]),this._render(),(e=this.host.find("ul:first")).wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>'),(r=e.closest("div.jqx-menu-wrapper"))[0].id="menuWrapper"+this.element.id,r.detach(),r.appendTo(f(document.body)),r.addClass(this.toThemeProperty("jqx-widget")),r.addClass(this.toThemeProperty("jqx-menu")),r.addClass(this.toThemeProperty("jqx-menu-minimized")),r.addClass(this.toThemeProperty("jqx-widget-header")),e.children().hide(),r.hide(),r.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.minimizedItem=f("<div></div>"),this.minimizedItem.addClass(this.toThemeProperty("jqx-item")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top")),this.addHandler(r,"keydown",function(e){return s.handleKeyDown(e)}),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button")),this.minimizedItem.prependTo(this.host),this.titleElement=f("<div>"+this.title+"</div>"),this.titleElement.addClass(this.toThemeProperty("jqx-item")),this.titleElement.addClass(this.toThemeProperty("jqx-menu-title")),this.titleElement.prependTo(this.host),f("<div style='clear:both;'></div>").insertAfter(this.minimizedItem),s.minimizedHidden=!0,n=function(e){s.minimizedHidden=!0,s.minimizedItem.show();var t=!1;"right"==s.minimizedItem.css("float")&&(t=!0),r.animate({left:t?s.host.coord().left+s.host.width()+r.width():-r.outerWidth(),opacity:0},s.animationHideDuration,function(){r.find("ul:first").children().hide(),r.hide()})},this.addHandler(f(window),"orientationchange.jqxmenu"+this.element.id,function(e){setTimeout(function(){var e,t;s.minimizedHidden||(t=r.width(),e=!1,t=r.width(),"right"==s.minimizedItem.css("float")&&(e=!0),r.css("top",s.host.coord().top+s.host.height()),r.css({left:e?s.host.coord().left+s.host.width()-t:s.host.coord().left}))},25)}),this.addHandler(this.minimizedItem,"click",function(e){var t,i;e=e,s.minimizedHidden?(r.find("ul:first").children().show(),s.minimizedHidden=!1,r.show(),r.css("opacity",0),r.css("left",-r.outerWidth()),t=!1,i=r.width(),"right"==s.minimizedItem.css("float")&&(r.css("left",s.host.coord().left+s.host.width()+i),t=!0),r.css("top",s.host.coord().top+s.host.height()),r.animate({left:t?s.host.coord().left+s.host.width()-i:s.host.coord().left,opacity:.95},s.animationShowDuration,function(){})):n(e),s._raiseEvent("2",{type:"mouse",item:s.minimizedItem[0],event:e}),s._setSize()}))},restore:function(){var e;this.minimized&&(this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.host.removeClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!1,this.mode=this._tmpMode,this.minimizedItem&&this.minimizedItem.remove(),f("#menuWrapper"+this.element.id).remove(),this.source&&(e=this.loadItems(this.source),this.element.innerHTML=e,this._tmpHTML=e),this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")&&0<(e=this.host.find("ul:first")).length&&this._createMenu(e[0]),this._setSize(),this._render())},isTouchDevice:function(){if(null!=this._isTouchDevice)return this._isTouchDevice;var e=f.jqx.mobile.isTouchDevice();return 1==this.touchMode?e=!0:0==this.touchMode&&(e=!1),e&&(this.host.addClass(this.toThemeProperty("jqx-touch")),f(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=e},refresh:function(e){e||this._setSize()},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_closeAll:function(e){var t=null!=e?e.data:this,i=t.items;f.each(i,function(){1==this.hasItems&&this.isOpen&&t._closeItem(t,this)}),"popup"!=t.mode||null==e||t._isRightClick(e)||t.close()},closeItem:function(e){if(null==e)return!1;var t=document.getElementById(e),i=this;return f.each(i.items,function(){1==this.isOpen&&this.element==t&&(i._closeItem(i,this),this.parentId)}),!0},openItem:function(e){if(null==e)return!1;var t=document.getElementById(e),i=this;return f.each(i.items,function(){0==this.isOpen&&this.element==t&&(i._openItem(i,this),this.parentId&&i.openItem(this.parentId))}),!0},_getClosedSubMenuOffset:function(e){var t=f(e.subMenuElement),i=-t.outerHeight(),s=-t.outerWidth(),r=0==e.level&&"horizontal"==this.mode;switch(r?s=0:i=0,e.openVerticalDirection){case"up":case"center":i=t.outerHeight()}switch(e.openHorizontalDirection){case this._getDir("left"):case"center":s=r?0:t.outerWidth()}return{left:s,top:i}},_closeItem:function(t,i,e,s){if(null==t||null==i)return!1;var r,n=f(i.subMenuElement),o=0==i.level&&"horizontal"==this.mode,a=this._getClosedSubMenuOffset(i),l=a.top,d=a.left,h=(f(i.element),n.closest("div.jqx-menu-popup"));null!=h&&(h.removeClass("show"),a=t.animationHideDelay,1==s&&(a=0),n.data("timer")&&null!=n.data("timer").show&&(clearTimeout(n.data("timer").show),n.data("timer").show=null),r=function(){i.isOpen=!1,o?n.stop().animate({top:l},t.animationHideDuration,function(){f(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),f(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),f(i.element).removeClass(t.toThemeProperty("jqx-rc-b-expanded")),h.removeClass(t.toThemeProperty("jqx-rc-t-expanded"));var e=f(i.arrow);0<e.length&&t.showTopLevelArrows&&(e.removeClass(),"down"==i.openVerticalDirection?(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-down")),e.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-up")),e.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),f.jqx.aria(f(i.element),"aria-expanded",!1),h.css({display:"none"}),0==t.animationHideDuration&&n.css({top:l}),t._raiseEvent("1",i)}):(f.jqx.browser.msie,n.stop().animate({left:d},t.animationHideDuration,function(){var e;0==t.animationHideDuration&&n.css({left:d}),0<i.level?(f(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),f(i.element).removeClass(t.toThemeProperty("jqx-menu-item-selected")),0<(e=f(i.arrow)).length&&(e.removeClass(),"left"!=i.openHorizontalDirection?(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right"))),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left"))),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))):(f(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),f(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),0<(e=f(i.arrow)).length&&(e.removeClass(),"left"!=i.openHorizontalDirection?(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("right"))),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("left"))),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))),f.jqx.aria(f(i.element),"aria-expanded",!1),h.css({display:"none"}),t._raiseEvent("1",i)}))},0<a?n.data("timer")&&(n.data("timer").hide=setTimeout(function(){r()},a)):r(),null!=e&&e&&(s=n.children(),f.each(s,function(){t.menuElements[this.id]&&t.menuElements[this.id].isOpen&&(f(t.menuElements[this.id].subMenuElement),t._closeItem(t,t.menuElements[this.id],!0,!0))})))},getSubItems:function(e,t){if(null==e)return!1;var i=this,s=new Array;null!=t&&f.extend(s,t);t=this.menuElements[e],e=f(t.subMenuElement).find(".jqx-menu-item");return f.each(e,function(){s[this.id]=i.menuElements[this.id];var e=i.getSubItems(this.id,s);f.extend(s,e)}),s},disable:function(e,t){var i;null!=e&&this.menuElements[e]&&((e=this.menuElements[e]).disabled=t,i=f(e.element),e.element.disabled=t,f.each(i.children(),function(){this.disabled=t}),t?(i.addClass(this.toThemeProperty("jqx-menu-item-disabled")),i.addClass(this.toThemeProperty("jqx-fill-state-disabled"))):(i.removeClass(this.toThemeProperty("jqx-menu-item-disabled")),i.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))))},getItem:function(e){return this.menuElements[e]||null},disableItem:function(e){this.disable(e,!0)},hideItem:function(e){this.menuElements[e]&&(e=this.menuElements[e],f(e.element).hide())},showItem:function(e){this.menuElements[e]&&(e=this.menuElements[e],f(e.element).show())},enableItem:function(e){this.disable(e,!1)},_setItemProperty:function(e,t,i){null!=e&&this.menuElements[e]&&(e=this.menuElements[e])[t]&&(e[t]=i)},setItemOpenDirection:function(e,t,i){var s,r,n,o;null!=e&&(r=f.jqx.browser.msie&&f.jqx.browser.version<8,(s=this).menuElements[e]&&(e=this.menuElements[e],null!=t&&(e.openHorizontalDirection=t,e.hasItems&&0<e.level&&null!=(o=f(e.element))&&(n=f(e.arrow),null==e.arrow&&(n=f('<span id="arrow'+o[0].id+'"></span>'),r?n.appendTo(o):n.prependTo(o),e.arrow=n[0]),n.removeClass(),"left"==e.openHorizontalDirection?(n.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("left"))),n.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("left")))):(n.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("right"))),n.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right")))),n.css("visibility","inherit"),r?(n.css("display","inline-block"),n.css("float","none")):(n.css("display","block"),n.css("float","right")))),null!=i&&(e.openVerticalDirection=i,n=f(e.arrow),o=f(e.element),s.showTopLevelArrows&&null!=o&&(null==e.arrow&&(n=f('<span id="arrow'+o[0].id+'"></span>'),r?n.appendTo(o):n.prependTo(o),e.arrow=n[0]),n.removeClass(),"down"==e.openVerticalDirection?(n.addClass(s.toThemeProperty("jqx-menu-item-arrow-down")),n.addClass(s.toThemeProperty("jqx-icon-arrow-down"))):(n.addClass(s.toThemeProperty("jqx-menu-item-arrow-up")),n.addClass(s.toThemeProperty("jqx-icon-arrow-up"))),n.css("visibility","inherit"),r?(n.css("display","inline-block"),n.css("float","none")):(n.css("display","block"),n.css("float","right"))))))},_getSiblings:function(e){for(var t=new Array,i=0,s=0;s<this.items.length;s++)this.items[s]!=e&&this.items[s].parentId==e.parentId&&this.items[s].hasItems&&(t[i++]=this.items[s]);return t},_openItem:function(t,i,e){if(null==t||null==i)return!1;if(i.isOpen)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var s,r=t.popupZIndex,e=(null!=e&&(r=e),t.animationHideDuration),n=(t.animationHideDuration=0,t._closeItem(t,i,!0,!0),t.animationHideDuration=e,f(i.element).focus(),[5,5]),o=f(i.subMenuElement),a=(null!=o&&o.stop(),o.data("timer")&&null!=o.data("timer").hide&&clearTimeout(o.data("timer").hide),o.closest("div.jqx-menu-popup")),l=f(i.element),d=0==i.level?this._getOffset(i.element):l.position(),h=(0<i.level&&this.hasTransform&&(e=parseInt(l.coord().top)-parseInt(this._getOffset(i.element).top),d.top+=e),0==i.level&&"popup"==this.mode&&(d=l.coord()),0==i.level&&"horizontal"==this.mode),e=h?d.left:null!=this.menuElements[i.parentId]&&null!=this.menuElements[i.parentId].subMenuElement?parseInt(f(f(this.menuElements[i.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-n[0]:parseInt(o.outerWidth()),c=(a.css({visibility:"visible",display:"block",left:e,top:h?d.top+l.outerHeight():d.top,zIndex:r}),o.css("display","block"),"horizontal"!=this.mode&&0==i.level?(e=this._getOffset(this.element),a.css("left",-1+e.left+this.host.outerWidth()),o.css("left",-o.outerWidth())):(e=this._getClosedSubMenuOffset(i),o.css("left",e.left),o.css("top",e.top)),a.css({height:parseInt(o.outerHeight())+parseInt(n[1])+"px"}),0),u=0;switch(i.openVerticalDirection){case"up":h?(o.css("top",o.outerHeight()),c=n[1],s=parseInt(o.parent().css("padding-bottom")),0<(s=isNaN(s)?0:s)&&a.addClass(this.toThemeProperty("jqx-menu-popup-clear")),o.css("top",o.outerHeight()-s),a.css({display:"block",top:d.top-a.outerHeight(),zIndex:r})):(c=n[1],o.css("top",o.outerHeight()),a.css({display:"block",top:d.top-a.outerHeight()+n[1]+l.outerHeight(),zIndex:r}));break;case"center":h?(o.css("top",0),a.css({display:"block",top:d.top-a.outerHeight()/2+n[1],zIndex:r})):(o.css("top",0),a.css({display:"block",top:d.top+l.outerHeight()/2-a.outerHeight()/2+n[1],zIndex:r}))}switch(i.openHorizontalDirection){case this._getDir("left"):h?a.css({left:d.left-(a.outerWidth()-l.outerWidth()-n[0])}):(u=0,o.css("left",a.outerWidth()),a.css({left:d.left-a.outerWidth()+2*i.level}));break;case"center":h?a.css({left:d.left-(a.outerWidth()/2-l.outerWidth()/2-n[0]/2)}):(a.css({left:d.left-(a.outerWidth()/2-l.outerWidth()/2-n[0]/2)}),o.css("left",a.outerWidth()))}if(h){if(parseInt(o.css("top"))==c)return void(i.isOpen=!0)}else if(parseInt(o.css("left"))==u)return void i.isOpen;f.each(t._getSiblings(i),function(){t._closeItem(t,this,!0,!0)});e=f.data(t.element,"animationHideDelay");t.animationHideDelay=e,0<this.autoCloseInterval&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout(function(){t._closeAll()},this.autoCloseInterval))),o.data("timer")&&(o.data("timer").show=setTimeout(function(){var e;null!=a&&(h?(o.stop(),o.css("left",u),f.jqx.browser.msie,l.addClass(t.toThemeProperty("jqx-fill-state-pressed")),l.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),"down"==i.openVerticalDirection?(f(i.element).addClass(t.toThemeProperty("jqx-rc-b-expanded")),a.addClass(t.toThemeProperty("jqx-rc-t-expanded"))):(f(i.element).addClass(t.toThemeProperty("jqx-rc-t-expanded")),a.addClass(t.toThemeProperty("jqx-rc-b-expanded"))),a.addClass(t.toThemeProperty("show")),0<(e=f(i.arrow)).length&&t.showTopLevelArrows&&(e.removeClass(),"down"==i.openVerticalDirection?(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-down-selected")),e.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-up-selected")),e.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),0==t.animationShowDuration?(o.css({top:c}),i.isOpen=!0,t._raiseEvent("0",i),f.jqx.aria(f(i.element),"aria-expanded",!0)):o.animate({top:c},t.animationShowDuration,t.easing,function(){i.isOpen=!0,f.jqx.aria(f(i.element),"aria-expanded",!0),t._raiseEvent("0",i)})):(o.stop(),o.css("top",c),a.addClass(t.toThemeProperty("show")),f.jqx.browser.msie,0<i.level?(l.addClass(t.toThemeProperty("jqx-fill-state-pressed")),l.addClass(t.toThemeProperty("jqx-menu-item-selected"))):(l.addClass(t.toThemeProperty("jqx-fill-state-pressed")),l.addClass(t.toThemeProperty("jqx-menu-item-top-selected"))),0<(e=f(i.arrow)).length&&(e.removeClass(),"left"!=i.openHorizontalDirection?(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left"))))),f.jqx.browser.msie,0==t.animationShowDuration?(o.css({left:u}),t._raiseEvent("0",i),i.isOpen=!0,f.jqx.aria(f(i.element),"aria-expanded",!0)):o.animate({left:u},t.animationShowDuration,t.easing,function(){t._raiseEvent("0",i),i.isOpen=!0,f.jqx.aria(f(i.element),"aria-expanded",!0)})))},this.animationShowDelay))},_getDir:function(e){switch(e){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(e,t){var i,s,r=this,n=0;switch(r.host.removeClass(r.toThemeProperty("jqx-menu-horizontal")),r.host.removeClass(r.toThemeProperty("jqx-menu-vertical")),r.host.removeClass(r.toThemeProperty("jqx-menu")),r.host.removeClass(r.toThemeProperty("jqx-widget")),r.host.addClass(r.toThemeProperty("jqx-widget")),r.host.addClass(r.toThemeProperty("jqx-menu")),null!=e&&null!=t&&"popup"==t?0<r.host.parent().length&&0<r.host.parent().parent().length&&r.host.parent().parent()[0]==document.body&&(null!=(o=f.data(document.body,"jqxMenuOldHost"+r.element.id))&&((i=r.host.closest("div.jqx-menu-wrapper")).remove(),i.appendTo(o),r.host.css("display","block"),r.host.css("visibility","visible"),i.css("display","block"),i.css("visibility","visible"))):null==e&&null==t&&f.data(document.body,"jqxMenuOldHost"+r.element.id,r.host.parent()[0]),r.autoOpenPopup?"popup"==r.mode?(r.addHandler(f(document),"contextmenu."+r.element.id,function(e){return!1}),r.addHandler(f(document),"mousedown.menu"+r.element.id,function(e){r._openContextMenu(e)})):(r.removeHandler(f(document),"contextmenu."+r.element.id),r.removeHandler(f(document),"mousedown.menu"+r.element.id)):(r.removeHandler(f(document),"contextmenu."+r.element.id),r.removeHandler(f(document),"mousedown.menu"+r.element.id),r.addHandler(f(document),"contextmenu."+r.element.id,function(e){if(e.target&&e.target.className.indexOf&&0<=e.target.className.indexOf("jqx-menu"))return!1})),r.rtl&&r.host.addClass(r.toThemeProperty("jqx-rtl")),r.mode){case"horizontal":r.host.addClass(r.toThemeProperty("jqx-widget-header")),r.host.addClass(r.toThemeProperty("jqx-menu-horizontal")),f.each(r.items,function(){var e,t=this,i=f(t.element),s=f(t.arrow);s.removeClass(),t.hasItems&&0<t.level&&((s=f('<span style="border: none; background-color: transparent;" id="arrow'+i[0].id+'"></span>')).prependTo(i),s.css("float",r._getDir("right")),s.addClass(r.toThemeProperty("jqx-menu-item-arrow-"+r._getDir("right"))),s.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right"))),t.arrow=s[0]),0==t.level&&(f(t.element).css("float",r._getDir("left")),!t.ignoretheme&&t.hasItems&&r.showTopLevelArrows?(s=f('<span style="border: none; background-color: transparent;" id="arrow'+i[0].id+'"></span>'),e=f.jqx.browser.msie&&f.jqx.browser.version<8,null==t.arrow?e?s.appendTo(i):s.prependTo(i):s=f(t.arrow),"down"==t.openVerticalDirection?(s.addClass(r.toThemeProperty("jqx-menu-item-arrow-down")),s.addClass(r.toThemeProperty("jqx-icon-arrow-down"))):(s.addClass(r.toThemeProperty("jqx-menu-item-arrow-up")),s.addClass(r.toThemeProperty("jqx-icon-arrow-up"))),s.css("visibility","inherit"),e?s.css("display","inline-block"):(s.css("display","block"),s.css("float","right")),t.arrow=s[0]):t.ignoretheme||!t.hasItems||r.showTopLevelArrows||null!=t.arrow&&((s=f(t.arrow)).remove(),t.arrow=null),n=Math.max(n,i.height()))});break;case"vertical":case"popup":case"simple":r.host.addClass(r.toThemeProperty("jqx-menu-vertical")),f.each(r.items,function(){var e=f(this.element);if(this.hasItems&&!this.ignoretheme){if(this.arrow&&f(this.arrow).remove(),"simple"==r.mode)return!0;var t=f('<span style="border: none; background-color: transparent;" id="arrow'+e[0].id+'"></span>');t.prependTo(e),t.css("float","right"),0==this.level?t.addClass(r.toThemeProperty("jqx-menu-item-arrow-top-"+r._getDir("right"))):t.addClass(r.toThemeProperty("jqx-menu-item-arrow-"+r._getDir("right"))),t.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right"))),this.arrow=t[0]}e.css("float","none")}),"popup"==r.mode?(r.host.addClass(r.toThemeProperty("jqx-widget-content")),r.host.wrap('<div tabindex=0 class="jqx-menu-wrapper" style="z-index:'+r.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>'),i=r.host.closest("div.jqx-menu-wrapper"),r.host.addClass(r.toThemeProperty("jqx-popup")),i[0].id="menuWrapper"+r.element.id,i.appendTo(f(document.body)),r.addHandler(i,"keydown",function(e){return r.handleKeyDown(e)})):r.host.addClass(r.toThemeProperty("jqx-widget-header")),"popup"==r.mode&&(s=r.host.height(),r.host.css("position","absolute"),r.host.css("top","0"),r.host.css("left","0"),"simple"!=r.mode&&(r.host.height(s),r.host.css("display","none")))}var o=r.isTouchDevice();r.autoCloseOnClick&&(r.removeHandler(f(document),"mousedown.menu"+r.element.id,r._closeAfterClick),r.addHandler(f(document),"mousedown.menu"+r.element.id,r._closeAfterClick,r),o&&(r.removeHandler(f(document),f.jqx.mobile.getTouchEventName("touchstart")+".menu"+r.element.id,r._closeAfterClick,r),r.addHandler(f(document),f.jqx.mobile.getTouchEventName("touchstart")+".menu"+r.element.id,r._closeAfterClick,r)))},_getBodyOffset:function(){var e=0,t=0;return"0px"!=f("body").css("border-top-width")&&(e=parseInt(f("body").css("border-top-width")),isNaN(e)&&(e=0)),"0px"!=f("body").css("border-left-width")&&(t=parseInt(f("body").css("border-left-width")),isNaN(t)&&(t=0)),{left:t,top:e}},_getOffset:function(e){var t=f.jqx.mobile.isSafariMobileBrowser(),i=f(e).coord(!0),s=i.top,i=i.left,r=("0px"!=f("body").css("border-top-width")&&(s=parseInt(s)+this._getBodyOffset().top),"0px"!=f("body").css("border-left-width")&&(i=parseInt(i)+this._getBodyOffset().left),f.jqx.mobile.isWindowsPhone()),n=f.jqx.mobile.isTouchDevice();return this.hasTransform||null!=t&&t||r||n?{left:f.jqx.mobile.getLeftPos(e),top:f.jqx.mobile.getTopPos(e)}:{left:i,top:s}},_isRightClick:function(e){var t;return(e=e||window.event).which?t=3==e.which:e.button&&(t=2==e.button),t},_openContextMenu:function(e){this._isRightClick(e)&&this.open(parseInt(e.clientX)+5,parseInt(e.clientY)+5)},close:function(){var e=this;this.element&&f.data(this.element,"contextMenuOpened"+this.element.id)&&(this.host,e.host.removeClass("jqx-popup-show"),f.each(e.items,function(){this.hasItems&&e._closeItem(e,this)}),f.each(e.items,function(){1==this.isOpen&&f(this.subMenuElement).closest("div.jqx-menu-popup").hide(this.animationHideDuration)}),this.host.hide(this.animationHideDuration),f.data(e.element,"contextMenuOpened"+this.element.id,!1),e._raiseEvent("1",e),e._raiseEvent("5"))},open:function(e,t){var i,s;"popup"==this.mode&&(i=0,"block"==this.host.css("display")&&(this.close(),i=this.animationHideDuration),s=this,null==e&&(e=0),null==t&&(t=0),setTimeout(function(){s.host.show(s.animationShowDuration),s.host.css("visibility","visible"),s.host.addClass("jqx-popup-show"),f.data(s.element,"contextMenuOpened"+s.element.id,!0),s._raiseEvent("0",s),s._raiseEvent("4",{left:e,top:t}),s.host.css("z-index",s.popupZIndex),null!=e&&null!=t&&s.host.css({left:e,top:t}),s.focus()},i))},_renderHover:function(e,t,i){var s=this;t.ignoretheme||(this.addHandler(e,"mouseenter",function(){(s.hoveredItem=t).disabled||t.separator||!s.enableHover||s.disabled||(0<t.level?(e.addClass(s.toThemeProperty("jqx-fill-state-hover")),e.addClass(s.toThemeProperty("jqx-menu-item-hover"))):(e.addClass(s.toThemeProperty("jqx-fill-state-hover")),e.addClass(s.toThemeProperty("jqx-menu-item-top-hover"))))}),this.addHandler(e,"mouseleave",function(){t.disabled||t.separator||!s.enableHover||s.disabled||(0<t.level?(e.removeClass(s.toThemeProperty("jqx-fill-state-hover")),e.removeClass(s.toThemeProperty("jqx-menu-item-hover"))):(e.removeClass(s.toThemeProperty("jqx-fill-state-hover")),e.removeClass(s.toThemeProperty("jqx-menu-item-top-hover"))))}))},_closeAfterClick:function(e){var t=null!=e?e.data:this,i=!1;t.autoCloseOnClick&&(f.each(f(e.target).parents(),function(){if(this.className.indexOf&&-1!=this.className.indexOf("jqx-menu"))return!(i=!0)}),i||(e.data=t)._closeAll(e))},_autoSizeHorizontalMenuItems:function(){var r,n=this;n.autoSizeMainItems&&"horizontal"==this.mode&&(r=this.maxHeight,parseInt(r)>parseInt(this.host.height())&&(r=parseInt(this.host.height())),r=parseInt(this.host.height()),f.each(this.items,function(){var e,t,i,s=f(this.element);0==this.level&&0<r&&(t=0<s.children().length?parseInt(s.children().height()):s.height(),e=n.host.find("ul:first"),i=parseInt(e.css("padding-top")),e=parseInt(e.css("margin-top")),e=r-2*(e+i),i=parseInt(e)/2-t/2,t=parseInt(i),i=parseInt(i),s.css("padding-top",t),s.css("padding-bottom",i),parseInt(s.outerHeight())>e&&s.css("padding-top",t-1))})),f.each(this.items,function(){var e,t;f(this.element);this.hasItems&&0<this.level&&this.arrow&&(e=f(this.arrow),15<(t=f(this.element).height())&&e.css("margin-top",(t-15)/2))})},_nextVisibleItem:function(e,t){if(null==e)return null;for(var i=e;null!=i;)if(i=i.nextItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(null==t||!i||i.level==t)return i}return null},_prevVisibleItem:function(e,t){if(null==e)return null;for(var i=e;null!=i;)if(i=i.prevItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(null==t||!i||i.level==t)return i}return null},_parentItem:function(e){if(null==e)return null;var t=e.parentElement;if(!t)return null;var i=null;return f.each(this.items,function(){if(this.element==t)return i=this,!1}),i},_isElementVisible:function(e){return null!=e&&("none"!=f(e).css("display")&&"hidden"!=f(e).css("visibility"))},_isVisible:function(e){if(null==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(this.minimized)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isOpen&&!this.minimized)return!1;for(;null!=t;){if(null!=(t=this._parentItem(t))&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isOpen)return!1}}return!0},_render:function(e,t){this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))),null==this.host.attr("tabindex")&&this.host.attr("tabindex",0);var d=this.popupZIndex,h=[5,5],u=this,c=(f.data(u.element,"animationHideDelay",u.animationHideDelay),this.isTouchDevice()),p=c&&(f.jqx.mobile.isWindowsPhone()||0<=navigator.userAgent.indexOf("Touch"));-1!=navigator.platform.toLowerCase().indexOf("win")&&(0<=navigator.userAgent.indexOf("Windows Phone")||0<=navigator.userAgent.indexOf("WPDesktop")||0<=navigator.userAgent.indexOf("IEMobile")||0<=navigator.userAgent.indexOf("ZuneWP7")?this.touchDevice=!0:0<=navigator.userAgent.indexOf("Touch")&&("MSPointerDown"in window||f.jqx.mobile.isWindowsPhone()||0<=navigator.userAgent.indexOf("ARM"))&&(p=!0,u.clickToOpen=!0,u.autoCloseOnClick=!1,u.enableHover=!1)),f.data(document.body,"menuel",this),this.hasTransform=f.jqx.utilities.hasTransform(this.host),this._applyOrientation(e,t),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus"),this.addHandler(this.host,"blur",function(e){!u.keyboardNavigation||!u.activeItem||"popup"===u.mode&&document.activeElement&&0<=document.activeElement.className.indexOf("jqx-menu-wrapper")||(f(u.activeItem.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=null)}),this.addHandler(this.host,"focus",function(e){var t;u.keyboardNavigation&&!u.activeItem&&(u.hoveredItem?(f(u.hoveredItem.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=u.hoveredItem):(t=function(){var e;f.jqx.isHidden(f(u.items[0].element))?(e=u._nextVisibleItem(u.items[0],0))&&(f(e.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=e):(f(u.items[0].element).addClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=u.items[0])},u.activeItem?f.jqx.isHidden(f(u.activeItem.element))?(f(u.activeItem.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),t()):f(u.activeItem.element).addClass(u.toThemeProperty("jqx-fill-state-focus")):t()))}),this.removeHandler(this.host,"keydown.menu"+this.element.id),u.handleKeyDown=function(e){if(!u.keyboardNavigation)return!0;if("input"===e.target.nodeName.toLowerCase())return!0;var t=null,i=null;if(f.each(u.items,function(){return!!this.disabled||(0<=this.element.className.indexOf("pressed")&&(i=this),0<=this.element.className.indexOf("focus")?(t=this,!1):void 0)}),!t&&i)return t=i,!1;if(!t)return f(u.items[0].element).addClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=u.items[0],t=u.activeItem,!1;if(27==e.keyCode){if((e.data=u)._closeAll(e),t)for(var s=t;null!=s;)s=s.parentItem||(f(u.activeItem.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=s,f(u.activeItem.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),s.parentItem);0}13==e.keyCode&&t&&(u._raiseEvent("2",{item:t.element,event:e,type:"keyboard"}),null!=(n=null!=t.anchor?f(t.anchor):null)&&0<n.length&&(o=n.attr("href"),n=n.attr("target"),null!=o&&(null!=n?window.open(o,n):window.location=o)),e.preventDefault(),e.stopPropagation(),f(t.element).focus());function r(e){if(null==e)return new Array;for(var t=new Array,i=0,s=0;s<u.items.length;s++)u.items[s].parentId==e.parentId&&(t[i++]=u.items[s]);return t}var n,o,a,l="";switch(e.keyCode){case 40:l="down";break;case 38:l="up";break;case 39:l="right";break;case 37:l="left"}if(t&&"left"===t.openHorizontalDirection&&"left"===l&&(l="right"),t&&"left"===t.openHorizontalDirection&&"right"===l&&(l="left"),t&&"top"===t.openVerticalDirection&&"top"===l&&(l="bottom"),t&&"top"===t.openVerticalDirection&&"bottom"===l&&(l="top"),u.rtl&&("right"===l?l="left":"left"===l&&(l="right")),"right"!==l||u.minimized||(e.altKey&&(0!=t.level&&t.hasItems||"horizontal"!=u.mode)?u._openItem(u,t):(a=u._nextVisibleItem(t,0),d=r(n=u._nextVisibleItem(t)),(a=a||n)&&(a.parentId===t.parentId&&0==a.level&&"horizontal"==u.mode||n.id==d[0].id&&0!=n.level)&&(n.id==d[0].id&&(0!=t.level||0==t.level&&"horizontal"!=u.mode)&&(a=n),f(a.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),f(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=a)),e.preventDefault(),e.stopPropagation()),"left"!==l||u.minimized||(e.altKey&&(0!=t.level&&"horizontal"!==u.mode||1<t.level&&"horizontal"===u.mode||1==t.level&&t.hasItems&&"horizontal"===u.mode)?t.hasItems?u._closeItem(u,t):t.parentItem&&(u._closeItem(u,t.parentItem),f(t.parentItem.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),f(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=t.parentItem):(a=u._prevVisibleItem(t,0),o=t.parentItem,a&&a.parentId===t.parentId&&0==a.level&&"horizontal"==u.mode?(f(a.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),f(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=a):o&&0==o.level&&"horizontal"==u.mode||!o||o.level!=t.level-1||(f(o.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),f(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=o)),e.preventDefault(),e.stopPropagation()),"down"===l?(e.altKey?(0==t.level&&t.hasItems&&u._openItem(u,t),u.minimized&&u.minimizedHidden&&u.minimizedItem.trigger("click")):(d=r(a=u._nextVisibleItem(t,t.level)),u.minimized&&a?(f(a.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),f(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=a):(!a||a.parentId!==t.parentId&&(a.id!=d[0].id||"horizontal"!=u.mode)||0==a.level&&"horizontal"==u.mode||(f(a.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),f(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=a),"horizontal"===u.mode&&0===t.level&&t.isOpen&&t.hasItems&&(a=u._nextVisibleItem(t),f(a.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),f(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=a))),e.preventDefault(),e.stopPropagation()):"up"===l&&(e.altKey?(t.parentItem&&0==t.parentItem.level?(u._closeItem(u,t.parentItem),f(t.parentItem.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),f(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=t.parentItem):null===t.parentItem&&0===t.level&&"horizontal"===u.mode&&u._closeItem(u,t),u.minimized&&!u.minimizedHidden&&u.minimizedItem.trigger("click")):(a=u._prevVisibleItem(t,t.level),d=r(t),u.minimized&&a?(f(a.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),f(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=a):a&&(a.parentId===t.parentId||a.id==t.parentId&&0==a.level&&"horizontal"==u.mode)?0==a.level&&"horizontal"===u.mode&&0===t.level||(f(a.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),f(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=a):t&&t.id==d[0].id&&t.parentItem&&0===t.parentItem.level&&"horizontal"===u.mode&&(a=t.parentItem,f(a.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),f(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=a)),e.preventDefault(),e.stopPropagation()),9==e.keyCode)if(a=e.shiftKey?u._prevVisibleItem(t):u._nextVisibleItem(t))f(a.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),f(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=a,e.preventDefault(),e.stopPropagation();else if(u.lockFocus){for(var d=new Array,h=0,c=0;c<u.items.length;c++)u.items[c]!=t&&u.items[c].parentId==t.parentId&&(d[h++]=u.items[c]);0<d.length&&(e.shiftKey?(f(d[d.length-1].element).addClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=d[d.length-1]):(f(d[0].element).addClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=d[0]),f(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus"))),e.preventDefault(),e.stopPropagation()}else t&&(f(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=null)},this.addHandler(this.host,"keydown.menu"+this.element.id,function(e){u.handleKeyDown(e)}),u.enableRoundedCorners&&this.host.addClass(u.toThemeProperty("jqx-rc-all")),f.each(this.items,function(){var o=this,e=f(o.element);if(e.attr("role","menuitem"),u.enableRoundedCorners&&e.addClass(u.toThemeProperty("jqx-rc-all")),u.removeHandler(e,"click"),u.addHandler(e,"click",function(e){var t;o.disabled||u.disabled||(u.keyboardNavigation&&(u.activeItem&&f(u.activeItem.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=o,f(o.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),u.minimized&&e.stopPropagation()),u._raiseEvent("2",{type:"mouse",item:o.element,event:e}),u.autoOpen?!u.autoCloseOnClick||c||u.clickToOpen||o.closeOnClick&&(e.data=u)._closeAll(e):0<o.level&&(!u.autoCloseOnClick||c||u.clickToOpen||(e.data=u)._closeAll(e)),c&&u.autoCloseOnClick&&(e.data=u,o.hasItems||u._closeAll(e)),"A"!=e.target.tagName&&"a"!=e.target.tagName&&null!=(e=null!=o.anchor?f(o.anchor):null)&&0<e.length&&(t=e.attr("href"),e=e.attr("target"),null!=t&&(null!=e?window.open(t,e):window.location=t)))}),u.removeHandler(e,"mouseenter"),u.removeHandler(e,"mouseleave"),p||"simple"==u.mode||u._renderHover(e,o,c),null!=o.subMenuElement){var a=f(o.subMenuElement);if("simple"==u.mode)return a.show(),!0;a.wrap('<div class="jqx-menu-popup '+u.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+d+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>'),a.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-a.outerHeight()}),a.data("timer",{}),0<o.level?a.css("left",-a.outerWidth()):"horizontal"==u.mode&&a.css("left",0),d++;var t,i,s,r,n=f(o.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(f(o.subMenuElement).outerWidth())+parseInt(h[0])+"px",height:parseInt(f(o.subMenuElement).outerHeight())+parseInt(h[1])+"px"}),l=e.closest("div.jqx-menu-popup");0<l.length?(t=a.css("margin-left"),i=a.css("margin-right"),s=a.css("padding-left"),r=a.css("padding-right"),n.addClass("horizontal"),n.appendTo(l)):(t=a.css("margin-left"),i=a.css("margin-right"),s=a.css("padding-left"),r=a.css("padding-right"),"horizontal"===u.mode?n.addClass("top"):n.addClass("horizontal"),n.appendTo(f(document.body))),a.css("margin-left",t),a.css("margin-right",i),a.css("padding-left",s),a.css("padding-right",r),u.clickToOpen?(u.removeHandler(e,"mousedown"),u.addHandler(e,"mousedown",function(e){clearTimeout(a.data("timer").hide),null!=a&&a.stop(),0!=o.level||o.isOpen||(e.data=u)._closeAll(e),o.isOpen?u._closeItem(u,o,!0):u._openItem(u,o)})):((c||p)&&(u.removeHandler(e,f.jqx.mobile.getTouchEventName("touchstart")),u.addHandler(e,f.jqx.mobile.getTouchEventName("touchstart"),function(e){return clearTimeout(a.data("timer").hide),null!=a&&a.stop(),0!=o.level||o.isOpen||"popup"==u.mode||(e.data=u)._closeAll(e),o.isOpen?u._closeItem(u,o,!0):u._openItem(u,o),!1})),p||(u.addHandler(e,"mouseenter",function(){if(((u.autoOpen||0<o.level&&!u.autoOpen)&&clearTimeout(a.data("timer").hide),o.parentId&&0!=o.parentId)&&(u.menuElements[o.parentId]&&!u.menuElements[o.parentId].isOpen))return;return(u.autoOpen||0<o.level&&!u.autoOpen)&&u._openItem(u,o),!1}),u.addHandler(e,"mousedown",function(){u.autoOpen||0!=o.level||(clearTimeout(a.data("timer").hide),null!=a&&a.stop(),o.isOpen?u._closeItem(u,o,!0):u._openItem(u,o))}),u.addHandler(e,"mouseleave",function(e){var t,i,s,r,n;u.autoCloseOnMouseLeave&&(clearTimeout(a.data("timer").hide),n=f(o.subMenuElement),t=parseInt(e.pageX),e=parseInt(e.pageY),i=parseInt(n.coord().left),s=parseInt(n.coord().top),r=parseInt(n.outerWidth()),n=parseInt(n.outerHeight()),i-5<=t&&t<=i+r+5&&s<=e&&e<=s+n||u._closeItem(u,o,!0))}),u.removeHandler(n,"mouseenter"),u.addHandler(n,"mouseenter",function(){clearTimeout(a.data("timer").hide)}),u.removeHandler(n,"mouseleave"),u.addHandler(n,"mouseleave",function(e){u.autoCloseOnMouseLeave&&(clearTimeout(a.data("timer").hide),clearTimeout(a.data("timer").show),null!=a&&a.stop(),u._closeItem(u,o,!0))})))}}),"simple"==this.mode&&this._renderSimpleMode(),this._autoSizeHorizontalMenuItems(),this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var e=Math.random()+"";for(e=+(e="99"+(e=e.replace(".","")));this.items[e];)e=+(e=(e=Math.random()+"").replace(".",""));return"menuItem"+e},_createMenu:function(e,t){if(null!=e){null==(t=null==t?!0:t)&&(t=!0);f(e).addClass("jqx-menu-ul");var i=f(e).find("li"),s=0;this.itemMapping=new Array;for(var r=0;r<i.length;r++){var n,o,a,l,d,h,c=i[r],u=f(c);-1==c.className.indexOf("jqx-menu")&&0==this.autoGenerate||(d=(d=c.id)||this.createID(),t&&(c.id=d,this.items[s]=new f.jqx._jqxMenu.jqxMenuItem,this.menuElements[d]=this.items[s]),s+=1,n=0,o=this,u.children().each(function(){return t||(this.className="",o.autoGenerate&&(f(o.items[s-1].subMenuElement)[0].className="",o.minimized||f(o.items[s-1].subMenuElement).addClass(o.toThemeProperty("jqx-widget-content")),f(o.items[s-1].subMenuElement).addClass(o.toThemeProperty("jqx-menu-dropdown")),f(o.items[s-1].subMenuElement).addClass(o.toThemeProperty("jqx-popup")))),-1!=this.className.indexOf("jqx-menu-dropdown")?(t&&(o.items[s-1].subMenuElement=this),!1):!o.autoGenerate||"ul"!=this.tagName&&"UL"!=this.tagName?void 0:(t&&(o.items[s-1].subMenuElement=this),this.className="",o.minimized||f(this).addClass(o.toThemeProperty("jqx-widget-content")),f(this).addClass(o.toThemeProperty("jqx-menu-dropdown")),f(this).addClass(o.toThemeProperty("jqx-popup")),f(this).attr("role","menu"),o.rtl?f(this).addClass(o.toThemeProperty("jqx-rc-l")):f(this).addClass(o.toThemeProperty("jqx-rc-r")),f(this).addClass(o.toThemeProperty("jqx-rc-b")),!1)}),u.parents().each(function(){return-1==this.className.indexOf("jqx-menu-item")&&(!o.autoGenerate||"li"!=this.tagName&&"LI"!=this.tagName)?void 0:(n=this.id,!1)}),h=!1,a=c.getAttribute("type"),(l=c.getAttribute("ignoretheme")||c.getAttribute("data-ignoretheme"))?"true"!=l&&1!=l||(l=!0):l=!1,a?"separator"==a&&(h=!0):a=c.type,h||(a=n?"sub":"top"),m=this.items[s-1],t&&(m.id=d,m.parentId=n,m.type=a,m.separator=h,m.element=i[r],d=u.children("a"),m.disabled="true"==c.getAttribute("item-disabled"),m.level=u.parents("li").length,m.anchor=0<d.length?d:null,m.anchor&&f(m.anchor).attr("tabindex",-1)),m.ignoretheme=l,null!=(h=this.menuElements[n])&&(h.ignoretheme&&(m.ignoretheme=h.ignoretheme,l=h.ignoretheme),m.parentItem=h,m.parentElement=h.element),this.autoGenerate&&("separator"==a?(u.removeClass(),u.addClass(this.toThemeProperty("jqx-menu-item-separator")),u.attr("role","separator")):l||(0<=u[0].className.indexOf("jqx-grid-menu-item-touch")?u[0].className=this.toThemeProperty("jqx-grid-menu-item-touch"):u[0].className="",this.rtl&&u.addClass(this.toThemeProperty("jqx-rtl")),0<m.level&&!o.minimized?(u.addClass(this.toThemeProperty("jqx-item")),u.addClass(this.toThemeProperty("jqx-menu-item"))):(u.addClass(this.toThemeProperty("jqx-item")),u.addClass(this.toThemeProperty("jqx-menu-item-top"))))),m.disabled&&(u.addClass(o.toThemeProperty("jqx-menu-item-disabled")),u.addClass(o.toThemeProperty("jqx-fill-state-disabled"))),this.itemMapping[r]={element:i[r],item:m},this.itemMapping["id"+i[r].id]=this.itemMapping[r],t&&!l&&(m.hasItems=0<u.find("li").length,m.hasItems&&m.element&&(f.jqx.aria(f(m.element),"aria-haspopup",!0),m.subMenuElement.id||(m.subMenuElement.id=f.jqx.utilities.createId()),f.jqx.aria(f(m.element),"aria-owns",m.subMenuElement.id))))}for(var p=0;p<i.length;p++){var m,g=i[p];this.itemMapping["id"+g.id]&&(m=this.itemMapping["id"+g.id].item)&&(m.prevItem=null,m.nextItem=null,0<p&&this.itemMapping["id"+i[p-1].id]&&(m.prevItem=this.itemMapping["id"+i[p-1].id].item),p<i.length-1&&this.itemMapping["id"+i[p+1].id]&&(m.nextItem=this.itemMapping["id"+i[p+1].id].item))}}},destroy:function(){var t=this,e=(f.jqx.utilities.resize(t.host,null,!0),t.host.closest("div.jqx-menu-wrapper")),e=(t.removeHandler(e,"keydown"),e.remove(),t.removeHandler(f("#menuWrapper"+t.element.id),"keydown"),f("#menuWrapper"+t.element.id).remove(),t.removeHandler(t.host,"keydown"),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(f(document),"mousedown.menu"+t.element.id,t._closeAfterClick),t.removeHandler(f(document),"mouseup.menu"+t.element.id,t._closeAfterClick),t.removeHandler(f(document),"contextmenu."+t.element.id),t.removeHandler(t.host,"contextmenu."+t.element.id),f.data(document.body,"jqxMenuOldHost"+t.element.id,null),t.isTouchDevice()&&t.removeHandler(f(document),f.jqx.mobile.getTouchEventName("touchstart")+".menu"+t.element.id,t._closeAfterClick,this),f(window).off&&f(window).off("resize.menu"+t.element.id),f.each(t.items,function(){var e=f(this.element);t.removeHandler(e,"click"),t.removeHandler(e,"selectstart"),t.removeHandler(e,"mouseenter"),t.removeHandler(e,"mouseleave"),t.removeHandler(e,"mousedown"),t.removeHandler(e,"mouseleave"),f(this.subMenuElement).closest("div.jqx-menu-popup").remove(),delete this.subMenuElement,delete this.element}),f.data(document.body,"menuel",null),delete t.menuElements,t.items=new Array,delete t.items,f.data(t.element,"jqxMenu"));e&&delete e.instance,t.host.removeClass(),t.host.remove(),delete t.host,delete t.element},_raiseEvent:function(e,t){var i=this.events[e],s=t=null==t?{owner:null}:t,i=(s.owner=this,new f.Event(i));return"2"==e&&((s=t.item).owner=this,s.clickType=t.type,f.extend(i,t.event),i.type="itemclick"),i.owner=this,i.args=s,this.host.trigger(i)},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),"popup"===e.mode&&(this.host.closest("div.jqx-menu-wrapper")[t](i),e=this.host[0].id,f("#"+e)[t](i)))},propertyChangedHandler:function(e,t,i,s){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)&&("disabled"==t&&(e.disabled?(e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e.host.addClass(e.toThemeProperty("jqx-menu-disabled"))):(e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.host.removeClass(e.toThemeProperty("jqx-menu-disabled")))),s!=i)){var r;if("touchMode"==t&&(this._isTouchDevice=null,e._render(s,i)),"width"===t||"height"===t)return e._setSize(),void("popup"===e.mode&&(this.host.closest("div.jqx-menu-wrapper")[t](s),r=this.host[0].id,f("#"+r)[t](s)));"source"==t&&null!=e.source&&(r=e.loadItems(e.source),e.element.innerHTML=r,0<(r=e.host.find("ul:first")).length&&(e.refresh(),e._createMenu(r[0]),e._render())),"autoCloseOnClick"==t?0==s?e.removeHandler(f(document),"mousedown.menu"+this.element.id,e._closeAll):e.addHandler(f(document),"mousedown.menu"+this.element.id,e,e._closeAll):"mode"==t||"width"==t||"height"==t||"showTopLevelArrows"==t?(e.refresh(),"mode"==t?e._render(s,i):e._applyOrientation()):"theme"==t&&f.jqx.utilities.setTheme(i,s,e.host)}}})}(jqxBaseFramework),jqxBaseFramework.jqx._jqxMenu.jqxMenuItem=function(e,t,i){return{id:e,parentId:t,parentItem:null,anchor:null,type:i,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0}},!function(g){g.jqx.jqxWidget("jqxNavBar","",{}),g.extend(g.jqx._jqxNavBar.prototype,{defineInstance:function(){var e={height:"auto",minimizedHeight:30,popupAnimationDelay:250,minimizeButtonPosition:"left",width:"100%",selectedItem:0,selection:!0,disabled:!1,rtl:!1,minimized:!1,columns:null,minimizedTitle:"",orientation:"horizontal",events:["change"]};return this===g.jqx._jqxNavBar.prototype||g.extend(!0,this,e),e},createInstance:function(e){this.render()},render:function(){var e=this;e.ul&&e.ul.parent()[0]!==e.element&&(e.ul.detach(),e.host.children().remove(),e.host.append(e.ul),e.popup&&e.popup.remove(),e.host.height(null),e.host.removeClass(e.toThemeProperty("jqx-widget-header")),e.host.removeClass(e.toThemeProperty("jqx-navbar-minimized"))),e.ul=e.host.children(),e._items=e.ul.children(),g.each(e._items,function(){g(this).removeClass()}),null!==this.width&&(0<=this.width.toString().indexOf("%")||0<=this.width.toString().indexOf("px"))?this.element.style.width=this.width:this.element.style.width=this.width+"px",e._layoutItems(),e._addClasses(),e._addHandlers(),e._handleMinimize(),g.jqx.utilities.resize(this.host,function(){e._resizePopup()})},_layoutItems:function(){var e,t=this,i=1,s=0,r=null===this.height||"auto"===this.height;if("horizontal"===t.orientation){if(5<t._items.length?(t._items.css("width","50%"),n=t.height,i=Math.ceil(t._items.length/2),r||(d=!1,0<=n.toString().indexOf("%")?(h=parseInt(n)/i,h+="%",d=!0):h=parseInt(n)/i,s=2,d?(t._items.css("height",h),t._items.css("line-height",t._items.height()+"px")):(t._items.height(h),t._items.css("line-height",h+"px")))):(t.host.width,e=t._items.length,t._items.css("width",100/e+"%"),r||(0<=t.height.toString().indexOf("%")?(t._items.css("height",h),t._items.css("line-height",t.height)):(t._items.height(t.height),t._items.css("line-height",parseInt(t.height)+"px"))),s=e),t.columns){for(var n=t.height,o=0,a=0;a<t._items.length;a++){var l=t._items[a];g(l).css("width",t.columns[o]),++o>=t.columns.length&&(o=0,t.columns.length!==t._items.length&&i++)}var d=!1;0<=n.toString().indexOf("%")?(h=parseInt(n)/i,h+="%",d=!0):h=parseInt(n)/i,r||(d?(t._items.css("height",h),t._items.css("line-height",t._items.height()+"px")):(t._items.height(h),t._items.css("line-height",h+"px"))),s=t.columns.length}}else{for(var h,n=t.height,o=0,a=0;a<t._items.length;a++){l=t._items[a];g(l).css("width","100%")}i=t._items.length,r||(d=!1,0<=n.toString().indexOf("%")?(h=parseInt(n)/i,h+="%",d=!0):h=parseInt(n)/i,d?(t._items.css("height",h),t._items.css("line-height",t._items.height()+"px")):(t._items.height(h),t._items.css("line-height",h+"px"))),s=1}if(t.selection){var c=0,u=!1;t._items.length/s<i&&(u=!0);for(a=0;a<i;a++)for(var p,m=0;m<s;m++)m<s-1&&(p=t.rtl?"left":"right",g(t._items[c]).css("border-"+p+"-width","1px"),g(t._items[c]).css("border-"+p+"-style","solid")),1<i&&0<a&&(g(t._items[c]).css("border-top-width","1px"),g(t._items[c]).css("border-top-style","solid")),u&&a===i-2&&m===s-1&&(g(t._items[c]).css("border-bottom-width","1px"),g(t._items[c]).css("border-bottom-style","solid")),c++}g.jqx.browser.msie&&g.jqx.browser.version<8&&(t._items.css("padding-left","0px"),t._items.css("padding-right","0px"),g.each(t._items,function(){g(this).css("border-left-width","0px"),g(this).css("border-right-width","0px"),g(this).css("position","relative"),g(this).css("margin-left","-1px")}),t.host.css("border","none"))},_handlePopupHeight:function(){var e,t,i=this;i.minimized&&(t=!1,0<=i.height.toString().indexOf("%")&&(i.host.css("height",i.height),e=i.host.height()-i.minimizedHeight-1,t=!0),t&&(i.popup.height(e),i.ul.height(e),i.host.height(i.minimizedHeight),i._layoutItems()))},_handleMinimize:function(){var e,t,i,s=this;s.minimized&&((e=s.host).height(s.minimizedHeight),e.css("box-sizing","border-box"),e.addClass(s.toThemeProperty("jqx-widget-header")),e.addClass(s.toThemeProperty("jqx-navbar-minimized")),t=g('<div style="cursor: pointer; height: 100%; margin:0px; margin-left: 5px; margin-right:5px;"></div>'),e.append(t),t.css("float",s.minimizeButtonPosition),(i=g('<div style="height: 100%; margin:0px; margin-left: 5px; margin-right:5px;"></div>')).append(s.minimizedTitle),i.css("float","left"===s.minimizeButtonPosition?"right":"left"),"auto"!==s.minimizedHeight&&(0<=s.minimizedHeight.toString().indexOf("%")?i.css("line-height",s.minimizedHeight):i.css("line-height",parseInt(s.minimizedHeight)+"px")),e.append(i),t.addClass(s.toThemeProperty("jqx-menu-minimized-button")),e.removeClass(s.toThemeProperty("jqx-widget-content")),s.ul.detach(),(i=g("<div style='box-sizing: border-box; z-index: 999999; display: none; position: absolute;'></div>")).addClass(s.toThemeProperty("jqx-widget jqx-widget-content jqx-popup jqx-navbar jqx-navbar-popup")),i.append(s.ul),s.popup=i,g(document.body).append(i),s.opened=!1,t.click(function(){s.opened?s.close():s.open()}),s.button=t)},close:function(){this.popup.fadeOut(this.popupAnimationDelay),this.opened=!1},open:function(){var e=this,t=(e.popup.fadeIn(e.popupAnimationDelay),e.popup.css("top",parseInt(e.host.coord().top)+e.host.outerHeight()-1),e.popup.width(e.host.width()),e.host.coord().left);e.popup.css("left",t),0<=t.toString().indexOf(".5")&&e.popup.width(e.host.width()-.5),e._handlePopupHeight(),e.opened=!0},_resizePopup:function(){var e,t=this;t.minimized&&t.popup&&(t.popup.width(t.host.width()),e=t.host.coord().left,t.popup.css("left",e),0<=e.toString().indexOf(".5")&&t.popup.width(t.host.width()-.5),t.popup.css("top",parseInt(t.host.coord().top)+t.host.outerHeight()-1),t._handlePopupHeight())},selectAt:function(e){var t;this.selection&&(g(this._items[this.selectedItem]).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),g(this._items[e]).addClass(this.toThemeProperty("jqx-fill-state-pressed")),t=this.selectedItem,this.selectedItem=e,this._raiseEvent("0",{selectedItem:e,oldSelectedItem:t}))},getSelectedIndex:function(){return this.selectedItem},destroy:function(){this._removeHandlers(),this.host.remove()},propertyChangedHandler:function(e,t,i,s){e.render()},_raiseEvent:function(e,t){e=this.events[e],e=new g.Event(e);e.owner=this,e.args=t;try{var i=this.host.trigger(e)}catch(e){}return i},_removeHandlers:function(){this.removeHandler(this._items,"click.navbar"+this.element.id),this.removeHandler(this._items,"mouseenter.navbar"+this.element.id),this.removeHandler(this._items,"mouseleave.navbar"+this.element.id)},_addClasses:function(){var e=this;e.host.addClass(e.toThemeProperty("jqx-navbar")),e.disabled&&e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e._items.addClass(e.toThemeProperty("jqx-navbar-block")),e.host.addClass(e.toThemeProperty("jqx-widget")),e.host.addClass(e.toThemeProperty("jqx-widget-content")),e.host.addClass(e.toThemeProperty("jqx-fill-state-normal")),e._items.addClass(e.toThemeProperty("jqx-fill-state-normal")),e._items.addClass(e.toThemeProperty("jqx-button")),-1!==e.selectedItem&&e.selection&&g(e._items[e.selectedItem]).addClass(e.toThemeProperty("jqx-fill-state-pressed")),!1===e.selection&&this.host.css("border","none"),e.rtl&&e._items.addClass(e.toThemeProperty("jqx-navbar-block-rtl"))},_addHandlers:function(){var i=this;i.addHandler(i._items,"click.navbar"+i.element.id,function(e){var t;!i.disabled&&i.selection&&(t=g(i._items).index(this),i.selectAt(t))}),i.addHandler(i._items,"mouseenter.navbar"+i.element.id,function(e){!i.disabled&&i.selection&&g(e.target).addClass(i.toThemeProperty("jqx-fill-state-hover"))}),i.addHandler(i._items,"mouseleave.navbar"+i.element.id,function(e){!i.disabled&&i.selection&&g(e.target).removeClass(i.toThemeProperty("jqx-fill-state-hover"))})}})}(jqxBaseFramework),!function(m){m.jqx.jqxWidget("jqxNavigationBar","",{}),m.extend(m.jqx._jqxNavigationBar.prototype,{defineInstance:function(){var e={width:"auto",height:"auto",expandAnimationDuration:250,collapseAnimationDuration:250,animationType:"slide",toggleMode:"click",showArrow:!0,arrowPosition:"right",disabled:!1,initContent:null,rtl:!1,easing:"easeInOutSine",expandMode:"singleFitHeight",expandedIndexes:[],_expandModes:["singleFitHeight","single","multiple","toggle","none"],aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["expandingItem","expandedItem","collapsingItem","collapsedItem"]};return this===m.jqx._jqxNavigationBar.prototype||m.extend(!0,this,e),e},createInstance:function(){this._isTouchDevice=m.jqx.mobile.isTouchDevice(),m.jqx.aria(this),this.render()},val:function(e){return 0===arguments.length||"object"==typeof e||("string"==typeof e?this.expandedIndexes.push(parseInt(e,10)):e instanceof Array?this.expandedIndexes=e:this.expandedIndexes=[e],this._applyExpandedIndexes()),this.expandedIndexes},expandAt:function(e){var i=this;if("single"==this.expandMode||"singleFitHeight"==this.expandMode||"toggle"==this.expandMode)for(var t=0;t<i.items.length;t++)t!=e&&i.collapseAt(t);var s=this.items[e];if(!1===s.disabled&&!1===s.expanded&&1==s._expandChecker)switch(s._expandChecker=0,this._raiseEvent("0",{item:e}),s._headerHelper.removeClass(this.toThemeProperty("jqx-fill-state-normal")),s._headerHelper.addClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),s._arrowHelper.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-icon-arrow-down-selected jqx-expander-arrow-top")),s._arrowHelper.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),!1===this.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="hidden"),this.eCFlag=1,this.animationType){case"slide":var r=s._contentHelper,n=0,o=r.outerHeight();r.slideDown({duration:this.expandAnimationDuration,easing:this.easing,step:function(e,t){t.now=Math.round(e),"height"!==t.prop?n+=t.now:i._collapseContent?(t.now=Math.round(o-i._collapseContent.outerHeight()-n),n=0):t.now=Math.round(e)},complete:function(){s.expanded=!0,m.jqx.aria(s._header,"aria-expanded",!0),m.jqx.aria(s._content,"aria-hidden",!1),i._updateExpandedIndexes(),i._raiseEvent("1",{item:e}),i._checkHeight(),!0===i.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="auto"),i.initContent&&!1===s._initialized&&(i.initContent(e),s._initialized=!0),i.eCFlag=0}});break;case"fade":setTimeout(function(){s._contentHelper.fadeIn({duration:this.expandAnimationDuration,complete:function(){s.expanded=!0,m.jqx.aria(s._header,"aria-expanded",!0),m.jqx.aria(s._content,"aria-hidden",!1),i._updateExpandedIndexes(),i._raiseEvent("1",{item:e}),i._checkHeight(),!0===i.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="auto"),i.initContent&&!1===s._initialized&&(i.initContent(e),s._initialized=!0),i.eCFlag=0}})},this.collapseAnimationDuration);break;case"none":s._content.style.display="",s.expanded=!0,m.jqx.aria(s._header,"aria-expanded",!0),m.jqx.aria(s._content,"aria-hidden",!1),this._updateExpandedIndexes(),this._raiseEvent("1",{item:e}),this._checkHeight(),!0===this.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="auto"),this.initContent&&!1===s._initialized&&(this.initContent(e),s._initialized=!0),this.eCFlag=0}},collapseAt:function(e){var t=this.items[e];if(!1===t.disabled&&!0===t.expanded&&0===t._expandChecker){var i=this;switch(t._expandChecker=1,this._raiseEvent("2",{item:e}),t._headerHelper.removeClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),t._headerHelper.addClass(this.toThemeProperty("jqx-fill-state-normal")),t._arrowHelper.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-icon-arrow-down-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),t._arrowHelper.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")),!1===this.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="hidden"),this.eCFlag=1,this._collapseContent=t._contentHelper,this.animationType){case"slide":t._contentHelper.slideUp({duration:this.collapseAnimationDuration,step:function(e,t){t.now=Math.round(e)},easing:this.easing,complete:function(){t.expanded=!1,t._content.style.display="none",m.jqx.aria(t._header,"aria-expanded",!1),m.jqx.aria(t._content,"aria-hidden",!0),i._updateExpandedIndexes(),i._raiseEvent("3",{item:e}),i._checkHeight(),!0===i.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="auto"),i.eCFlag=0,i._collapseContent=null}});break;case"fade":t._contentHelper.fadeOut({duration:this.collapseAnimationDuration,complete:function(){t.expanded=!1,m.jqx.aria(t._header,"aria-expanded",!1),m.jqx.aria(t._content,"aria-hidden",!0),i._updateExpandedIndexes(),i._raiseEvent("3",{item:e}),i._checkHeight(),!0===i.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="auto"),i.eCFlag=0}});break;case"none":t._content.style.display="none",t.expanded=!1,m.jqx.aria(t._header,"aria-expanded",!1),m.jqx.aria(t._content,"aria-hidden",!0),this._updateExpandedIndexes(),this._raiseEvent("3",{item:e}),this._checkHeight(),!0===this.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="auto"),this.eCFlag=0}}},setHeaderContentAt:function(e,t){this.items[e]._headerText.innerHTML=t},getHeaderContentAt:function(e){return this.items[e]._headerText.innerHTML},setContentAt:function(e,t){this.items[e]._content.innerHTML=t,this._checkContent(e)},getContentAt:function(e){return this.items[e]._content.innerHTML},showArrowAt:function(e){this.items[e]._arrow.style.display="block"},hideArrowAt:function(e){this.items[e]._arrow.style.display="none"},enable:function(){this.disabled=!1,this._enabledDisabledCheck(),this.refresh(),m.jqx.aria(this,"aria-disabled",!1)},disable:function(){this.disabled=!0,this._enabledDisabledCheck(),this.refresh(),m.jqx.aria(this,"aria-disabled",!0)},enableAt:function(e){this.items[e].disabled=!1,this.refresh()},disableAt:function(e){this.items[e].disabled=!0,this.refresh()},invalidate:function(){this.refresh()},refresh:function(e){if(!0!==e){this._removeHandlers();for(var t=0;t<this.items.length;t++)this.items[t]._arrow.style.display=this.showArrow?"block":"none";this._updateExpandedIndexes(),this._setTheme(),this._setSize(),this._toggle(),this._keyBoard()}},render:function(){this.widgetID=this.element.id;var i=this,e=(-1==this._expandModes.indexOf(this.expandMode)&&(this.expandMode="singleFitHeight"),m.jqx.utilities.resize(this.host,function(){i._setSize()}),i.element.setAttribute("role","tablist"),this.items&&(this._removeHandlers(),m.each(this.items,function(){this._header.className="",this._header.setAttribute("tabindex",null),this._header.style.marginTop="0px",this._headerText.className="",this._header.innerHTML=this._headerText.innerHTML,this._content.setAttribute("tabindex",null)})),this.items=[],i.host.children()),t=e.length;try{if(t%2!=0)throw"Invalid jqxNavigationBar structure. Please add an even number of child div elements that will represent each item's header and content."}catch(e){throw new Error(e)}try{for(var s=0;s<t;s++)if("div"!=e[s].tagName.toLowerCase())throw"Invalid jqxNavigationBar structure. Please make sure all the children elements of the navigationbar are divs."}catch(e){throw new Error(e)}for(var r=0;r<t;r+=2){var n=e[r];n.innerHTML="<div>"+n.innerHTML+"</div>"}for(var o=0,a=0;a<t/2;a++){var l=o+1,d={};(d={})._header=e[o],d._headerHelper=m(e[o]),e[o].setAttribute("role","tab"),d._content=e[l],d._contentHelper=m(e[l]),d._contentHelper.initAnimate&&d._contentHelper.initAnimate(),d.expandedFlag=!1,d.expanded=!1,d.focusedH=!1,d.focusedC=!1,this.items[a]=d,e[l].setAttribute("role","tabpanel"),o+=2}var h=this.expandedIndexes.length;if(!this.items||0!==this.items.length){if("single"==this.expandMode||"singleFitHeight"==this.expandMode||"toggle"==this.expandMode||"none"==this.expandMode)0!==h?this.items[this.expandedIndexes[0]].expanded=!0:"single"!=this.expandMode&&"singleFitHeight"!=this.expandMode||(this.items[0].expanded=!0);else if("multiple"==this.expandMode&&0!==h)for(var c=0;c<h;c++)i.items[this.expandedIndexes[c]].expanded=!0;this._enabledDisabledCheck();var u=0;m.each(this.items,function(e){var t=this;t._headerText=m(t._header).children()[0],i.rtl?m(t._headerText).addClass(i.toThemeProperty("jqx-expander-header-content-rtl")):m(t._headerText).addClass(i.toThemeProperty("jqx-expander-header-content")),t._arrow=document.createElement("div"),t._arrowHelper=m(t._arrow),t._header.appendChild(t._arrow),i.showArrow?t._arrow.style.display="block":t._arrow.style.display="none",!0===t.expanded?(t._arrowHelper.addClass(i.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),i.initContent?setTimeout(function(){i.initContent(e),t._initialized=!0},10):t._initialized=!0,t._expandChecker=0,m.jqx.aria(t._header,"aria-expanded",!0),m.jqx.aria(t._content,"aria-hidden",!1)):!1===t.expanded&&(t._arrowHelper.addClass(i.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")),t._initialized=!1,t._expandChecker=1,t._content.style.display="none",m.jqx.aria(t._header,"aria-expanded",!1),m.jqx.aria(t._content,"aria-hidden",!0)),null===t._header.getAttribute("tabindex")&&(u++,t._header.setAttribute("tabindex",u)),null===t._content.getAttribute("tabindex")&&(u++,t._content.setAttribute("tabindex",u))}),this._setTheme(),this._setSize();for(var p=0;p<i.items.length;p++)i._checkContent(p);this._toggle(),this._keyBoard()}},insert:function(e,t,i){var s=document.createElement("div"),r=document.createElement("div");s.innerHTML=t,r.innerHTML=i,0<=e&&e<=this.items.length?(t=this.items[e]._header,this.element.insertBefore(s,t),this.element.insertBefore(r,t)):(this.element.appendChild(s),this.element.appendChild(r)),this.render()},add:function(e,t){this.insert(-1,e,t)},update:function(e,t,i){this.setHeaderContentAt(e,t),this.setContentAt(e,i)},remove:function(e){isNaN(e)&&(e=this.items.length-1),this.items[e]&&(this.items[e]._header.remove(),this.items[e]._content.remove(),this.items.splice(e,1),-1<(e=this.expandedIndexes.indexOf(e))&&this.expandedIndexes.splice(e,1),this.render())},destroy:function(){this._removeHandlers(),this.host.remove()},focus:function(){try{for(var e=0;e<this.items.length;e++){var t=this.items[e];if(!1===t.disabled)return t._header.focus(),!1}}catch(e){}},_applyExpandedIndexes:function(){for(var e=this,t=this.expandedIndexes.length,i=0;i<t;i++)for(var s=e.expandedIndexes[i],r=0;r<e.items.length;r++){var n=e.items[r];if(r==s){if(!(n.expandedFlag=!0)===n.expanded&&e.expandAt(r),"single"==e.expandMode||"singleFitHeight"==e.expandMode||"toggle"==e.expandMode||"none"==e.expandMode)return!1}else r!=s&&!1===n.expandedFlag&&e.collapseAt(r)}for(var o=0;o<e.items.length;o++)e.items[o].expandedFlag=!1},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(e,t,i,s){e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("width"==t||"height"==t?e._setSize():"theme"===t?e.render():"disabled"==t?e._enabledDisabledCheck():"expandedIndexes"==t?e._applyExpandedIndexes():e.refresh())},_raiseEvent:function(e,t){var i,e=this.events[e],e=new m.Event(e);e.owner=this,e.args=t,e.item=e.args.item;try{i=this.host.trigger(e)}catch(e){}return i},resize:function(e,t){this.width=e,this.height=t,this._setSize()},_setSize:function(){var e=this;this.headersHeight=0;var t=(this.items&&0<this.items.length?parseInt(this.items[0]._headerHelper.css("padding-left"),10):0)+(this.items&&0<this.items.length?parseInt(this.items[0]._headerHelper.css("padding-right"),10):0)+2;isNaN(t)&&(t=12),"auto"==this.width?e.element.style.width="auto":null!=this.width&&-1!=this.width.toString().indexOf("%")?e.element.style.width=e.width:e.element.style.width=parseInt(this.width,10)+t+"px","number"==typeof e.height?e.element.style.height=e.height+"px":e.element.style.height=e.height;for(var i=0;i<e.items.length;i++){var s=e.items[i],r=e.arrowPosition;if(e.rtl)switch(r){case"left":r="right";break;case"right":r="left"}"right"==r?(s._headerText.style.float="left",s._headerText.style.marginLeft="0px",s._arrow.style.float="right",s._arrow.style.position="relative"):"left"==r&&("auto"==e.width?(s._headerText.style.float="left",s._headerText.style.marginLeft="17px",s._arrow.style.float="left",s._arrow.style.position="absolute"):(s._headerText.style.float="right",s._headerText.style.marginLeft="0px",s._arrow.style.float="left",s._arrow.style.position="relative")),s._header.style.height="auto",s._headerText.style.minHeight=s._arrow.offsetHeight,e.headersHeight+=m(s._header).outerHeight(),s._arrow.style.marginTop=s._headerText.offsetHeight/2-s._arrow.offsetHeight/2+"px"}for(var n=0;n<e.items.length;n++){var o,a=e.items[n];"auto"!=e.height&&("single"==e.expandMode||"toggle"==e.expandMode||"multiple"==e.expandMode?(e.element.style.overflowX="hidden",e.element.style.overflowY="auto"):"singleFitHeight"==e.expandMode&&(o=parseInt(a._contentHelper.css("padding-top"),10)+parseInt(a._contentHelper.css("padding-bottom"),10),e.height&&0<=e.height.toString().indexOf("%")?a._content.style.height=Math.max(0,e.element.offsetHeight-e.headersHeight-o+2)+"px":a._content.style.height=Math.max(0,e.element.offsetHeight-e.headersHeight-o)+"px"))}e._checkHeight()},_toggle:function(){var t=this;if(!1===this._isTouchDevice)switch(this.toggleMode){case"click":case"dblclick":m.each(this.items,function(e){!1===this.disabled&&t.addHandler(this._header,t.toggleMode+".navigationbar"+t.widgetID,function(){t.focusedH=!0,t._animate(e)})})}else"none"!=this.toggleMode&&m.each(this.items,function(e){!1===this.disabled&&t.addHandler(this._header,m.jqx.mobile.getTouchEventName("touchstart")+"."+t.widgetID,function(){t._animate(e)})})},_animate:function(e,t){var i=this.items[e];"none"!=this.expandMode&&1!=this.eCFlag&&(!0===this.items[e].expanded?"multiple"!=this.expandMode&&"toggle"!=this.expandMode||this.collapseAt(e):this.expandAt(e),this._isTouchDevice||(!0!==t?(i._headerHelper.addClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),i._arrowHelper.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover"))):(i._headerHelper.removeClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),i._arrowHelper.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")))))},_removeHandlers:function(){var e=this;this.removeHandler(this.host,"keydown.navigationbar"+this.widgetID);for(var t=0;t<e.items.length;t++){var i=e.items[t];e.removeHandler(i._header,"click.navigationbar"+e.widgetID),e.removeHandler(i._header,"dblclick.navigationbar"+e.widgetID),e.removeHandler(i._header,"mouseenter.navigationbar"+e.widgetID),e.removeHandler(i._header,"mouseleave.navigationbar"+e.widgetID),e.removeHandler(i._header,"focus.navigationbar"+e.widgetID),e.removeHandler(i._header,"blur.navigationbar"+e.widgetID),e.removeHandler(i._content,"focus.navigationbar"+e.widgetID),e.removeHandler(i._content,"blur.navigationbar"+e.widgetID),e.removeHandler(i._headerText,"focus.navigationbar"+e.widgetID),e.removeHandler(i._arrow,"focus.navigationbar"+e.widgetID)}},_setTheme:function(){var a=this;this.host.addClass(this.toThemeProperty("jqx-reset jqx-widget")),!0===this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl")),m.each(this.items,function(e){var t=this,i=t._headerHelper,s=t._arrowHelper,r=t._contentHelper,n="jqx-widget-header jqx-item jqx-expander-header",o="jqx-widget-content jqx-expander-content jqx-expander-content-bottom";t._header.style.position="relative",!(t._content.style.position="relative")===t.disabled?(i.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),r.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),!0===t.expanded?n+=" jqx-fill-state-pressed jqx-expander-header-expanded":(n+=" jqx-fill-state-normal",i.removeClass(a.toThemeProperty("jqx-expander-header-expanded"))),a._isTouchDevice||(a.addHandler(t._header,"mouseenter.navigationbar"+a.widgetID,function(){1==t._expandChecker&&(t.focusedH||(t._header.style.zIndex=5),i.removeClass(a.toThemeProperty("jqx-fill-state-normal jqx-fill-state-pressed")),i.addClass(a.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),s.addClass(a.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")),t.expanded?s.addClass(a.toThemeProperty("jqx-icon-arrow-up-hover")):s.addClass(a.toThemeProperty("jqx-icon-arrow-down-hover")))}),a.addHandler(t._header,"mouseleave.navigationbar"+a.widgetID,function(){t.focusedH||(t._header.style.zIndex=0),i.removeClass(a.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),s.removeClass(a.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover jqx-icon-arrow-up-hover jqx-icon-arrow-down-hover")),1==t._expandChecker?i.addClass(a.toThemeProperty("jqx-fill-state-normal")):i.addClass(a.toThemeProperty("jqx-fill-state-pressed"))}))):(n+=" jqx-fill-state-disabled",o+=" jqx-fill-state-disabled"),a.host.addClass(a.toThemeProperty("jqx-navigationbar")),i.addClass(a.toThemeProperty(n)),r.addClass(a.toThemeProperty(o)),0!==e&&(t._header.style.marginTop="-1px"),s.addClass(a.toThemeProperty("jqx-expander-arrow"))})},_checkContent:function(e){var t=this.items[e],i=t._content;this._cntntEmpty=/^\s*$/.test(this.items[e]._content.innerHTML),!0===this._cntntEmpty?(i.style.display="none",i.style.height="0px",t._contentHelper.addClass(this.toThemeProperty("jqx-expander-content-empty"))):(t.expanded&&(i.style.display="block"),"singleFitHeight"==this.expandMode?i.style.height=Math.max(0,this.element.offsetHeight-this.headersHeight+this.items.length-2)+"px":i.style.height="auto",t._contentHelper.removeClass(this.toThemeProperty("jqx-expander-content-empty")))},_checkHeight:function(){if("string"!=typeof this.width||-1===this.width.indexOf("%")){for(var e=0,t=(this.items&&0<this.items.length?parseInt(this.items[0]._headerHelper.css("padding-left"),10):0)+(this.items&&0<this.items.length?parseInt(this.items[0]._headerHelper.css("padding-right"),10):0)+2,i=(isNaN(t)&&(t=12),0);i<this.items.length;i++){var s=this.items[i];e+=(s.expanded?s._contentHelper.outerHeight():0)+s._headerHelper.outerHeight()}"auto"!=this.width&&"auto"!=this.height&&"singleFitHeight"!=this.expandMode&&(e>this.element.offsetHeight?(this.element.style.width=parseInt(this.width,10)+t+17+"px",this.heightFlag=!0):(this.element.style.width=parseInt(this.width,10)+t+"px",this.heightFlag=!1))}},_enabledDisabledCheck:function(){for(var e=0;e<this.items.length;e++)this.items[e].disabled=this.disabled},_updateExpandedIndexes:function(){var t=this;this.expandedIndexes=[],m.each(this.items,function(e){if(!0===this.expanded&&(t.expandedIndexes.push(e),"single"==t.expandMode||"singleFitHeight"==t.expandMode||"toggle"==t.expandMode||"none"==t.expandMode))return!1})},_keyBoard:function(){var r=this;this._focus(),this.addHandler(this.host,"keydown.navigationbar"+this.widgetID,function(t){var i=!1,s=r.items.length;return m.each(r.items,function(e){if((!0===this.focusedH||!0===this.focusedC)&&!1===this.disabled){switch(t.keyCode){case 13:case 32:"none"!=r.toggleMode&&(!0===this.focusedH&&r._animate(e,!0),i=!0);break;case 37:(0!==e?r.items[e-1]:r.items[s-1])._header.focus(),i=!0;break;case 38:!1===t.ctrlKey?(0!==e?r.items[e-1]:r.items[s-1])._header.focus():!0===this.focusedC&&this._header.focus(),i=!0;break;case 39:(e!=s-1?r.items[e+1]:r.items[0])._header.focus(),i=!0;break;case 40:!1===t.ctrlKey?(e!=s-1?r.items[e+1]:r.items[0])._header.focus():!0===this.expanded&&this._content.focus(),i=!0;break;case 35:e!=s-1&&r.items[s-1]._header.focus(),i=!0;break;case 36:0!==e&&r.items[0]._header.focus(),i=!0}return!1}}),i&&t.preventDefault&&t.preventDefault(),!i})},_focus:function(){var t=this;this.disabled||m.each(this.items,function(){var e=this;t.addHandler(e._header,"focus.navigationbar"+this.widgetID,function(){e.focusedH=!0,m.jqx.aria(e._header,"aria-selected",!0),e._headerHelper.addClass(t.toThemeProperty("jqx-fill-state-focus")),e._header.style.zIndex=10}),t.addHandler(e._header,"blur.navigationbar"+this.widgetID,function(){e.focusedH=!1,m.jqx.aria(e._header,"aria-selected",!1),-1!==e._header.className.indexOf("jqx-expander-header-hover")?e._header.style.zIndex=5:e._header.style.zIndex=0,e._headerHelper.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(e._headerText,"focus.navigationbar"+this.widgetID,function(){e._header.focus()}),t.addHandler(e._arrow,"focus.navigationbar"+this.widgetID,function(){e._header.focus()}),t.addHandler(e._content,"focus.navigationbar"+this.widgetID,function(){e.focusedC=!0,e._contentHelper.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(e._content,"blur.navigationbar"+this.widgetID,function(){e.focusedC=!1,e._contentHelper.removeClass(t.toThemeProperty("jqx-fill-state-focus"))})})}})}(jqxBaseFramework),!function(d){d.jqx.jqxWidget("jqxNotification","",{}),d.extend(d.jqx._jqxNotification.prototype,{defineInstance:function(){var e={width:"auto",height:"auto",appendContainer:null,position:"top-right",zIndex:99999,browserBoundsOffset:5,notificationOffset:5,opacity:.9,hoverOpacity:1,autoOpen:!1,animationOpenDelay:400,animationCloseDelay:800,closeOnClick:!0,autoClose:!0,autoCloseDelay:3e3,showCloseButton:!0,template:"info",icon:null,blink:!1,disabled:!1,rtl:!1,events:["open","close","click"]};return this===d.jqx._jqxNotification.prototype||d.extend(!0,this,e),e},createInstance:function(e){this.render(),1==this.autoOpen&&this.open()},render:function(){var e,t=this;0==t.host.hasClass("jqx-notification")?(t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-notification")),t.host.css({zIndex:t.zIndex,display:"none",opacity:t.opacity}),t._container=t._notificationContainer(),t._appendContent(),t._setHoverFunctions(),t._instances=new Array,t._instanceKey=0,null==(e=d.data(document.body,"jqxNotifications"))&&(e=0),d.data(document.body,"jqxNotifications",e+1)):t.refresh()},refresh:function(e){e||this._appendContent(!0)},open:function(){var e,t=this;0==t.disabled&&((e=t.host.clone()).removeAttr("id"),e.width(t.width),e.height(t.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&e.css("width",this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&e.css("height",this.height),t.appendContainer||"bottom-left"!=t.position&&"bottom-right"!=t.position?(e.css("margin-bottom",t.notificationOffset),t._container.append(e)):(e.css("margin-top",t.notificationOffset),t._container.prepend(e)),t._addHandlers(e),e.fadeIn(t.animationOpenDelay,function(){t._raiseEvent("0",{element:e})}),1==t.blink&&(e._blinkInterval=setInterval(function(){e.fadeTo(400,t.opacity/1.5,function(){e.fadeTo(400,t.opacity)})},850)),1==t.autoClose&&(e._autoCloseTimeout=setTimeout(function(){t._close(e)},t.autoCloseDelay)),e._key=t._instanceKey,t._instances[t._instanceKey]=e,t._instanceKey++)},closeAll:function(){for(var e=0;e<this._instances.length;e++)this._instances[e]&&this._close(this._instances[e])},closeLast:function(){for(var e=this._instances.length;0<=e;e--)if(this._instances[e]){this._close(this._instances[e]);break}},destroy:function(){this.closeAll(),this.host.remove();var e=d.data(document.body,"jqxNotifications");d.data(document.body,"jqxNotifications",e-1),this._destroyContainers(e-1)},propertyChangedHandler:function(e,t,i,s){if(s!=i)switch(t){case"width":case"height":var r=i.indexOf&&-1!=i.indexOf("%"),n=(null==r&&(r=!1),s.indexOf&&-1!=s.indexOf("%"));(n=null==n?!1:n)!=r&&(this[t]=i);break;case"appendContainer":case"position":this._container=this._notificationContainer();break;case"browserBoundsOffset":this.appendContainer||this._position(this._container);break;case"opacity":this.host.css("opacity",s);break;case"showCloseButton":case"template":case"icon":case"rtl":this._appendContent(!0)}},_raiseEvent:function(e,t){e=this.events[e],e=new d.Event(e);e.owner=this,e.args=t;try{var i=this.host.trigger(e)}catch(e){}return i},_close:function(e){var t=this;t._instances[e._key]&&(t._instances[e._key]=!1,clearInterval(e._blinkInterval),clearTimeout(e._autoCloseTimeout),e.fadeOut(t.animationCloseDelay,function(){t._removeHandlers(e),e.remove(),t._raiseEvent("1")}))},_addHandlers:function(t){var e,i=this;i.addHandler(t,"click.notification"+i.element.id,function(e){i._raiseEvent("2"),1==i.closeOnClick&&i._close(t)}),i.addHandler(t,"mouseenter.notification"+i.element.id,function(e){t._blinkInterval||i.mouseenterFunction(t)}),i.addHandler(t,"mouseleave.notification"+i.element.id,function(e){t._blinkInterval||"none"==t.css("display")||i.mouseleaveFunction(t)}),1==i.showCloseButton&&(e=t.find(".jqx-notification-close-button"),i.addHandler(e,"click.notification"+i.element.id,function(e){e.stopPropagation(),i._close(t)}))},_removeHandlers:function(e){this.removeHandler(e,"click.notification"+this.element.id),this.removeHandler(e,"click.mouseenter"+this.element.id),this.removeHandler(e,"click.mouseleave"+this.element.id);e=e.find(".jqx-notification-close-button");0<e.length&&this.removeHandler(e,"click.notification"+this.element.id)},_appendContent:function(e){function t(){0==r.rtl?(s.addClass("jqx-notification-icon-ltr"),i.before(s)):(s.addClass("jqx-notification-icon-rtl"),i.after(s))}var i,s,r=this,n=r.host.html(),o=(e||r.host.children().detach(),e&&(r.host.removeAttr("class"),r.host.addClass(r.toThemeProperty("jqx-rc-all")),r.host.addClass(r.toThemeProperty("jqx-notification"))),d("<table class='"+r.toThemeProperty("jqx-notification-table")+"'></table>")),a=d("<tr></tr>"),l=(o.append(a),r.rtl?"jqx-notification-content-rtl":"");e?(n=(i=r.host.find(".jqx-notification-content")).html(),i.detach(),r.rtl?i.addClass("jqx-notification-content-rtl"):i.removeClass("jqx-notification-content-rtl")):i=d("<td class='"+r.toThemeProperty("jqx-notification-content")+" "+l+"'></td>"),a.html(i);r.template?(r.host.addClass("jqx-widget"),r.host.addClass("jqx-popup"),r.host.addClass("jqx-notification-"+r.template),s=d("<td class='"+r.toThemeProperty("jqx-notification-icon")+" jqx-notification-icon-"+r.template+"'></td>"),t()):(r.host.addClass(r.toThemeProperty("jqx-widget")),r.host.addClass(r.toThemeProperty("jqx-popup")),r.host.addClass(r.toThemeProperty("jqx-fill-state-normal")),r.icon&&(s=d("<td class='"+r.toThemeProperty("jqx-notification-icon")+"'></td>"),r.icon.padding=r.icon.padding?parseInt(r.icon.padding):5,s.css({width:parseInt(r.icon.width)+r.icon.padding,height:r.icon.height,"background-image":"url('"+r.icon.url+"')"}),t())),1==r.showCloseButton&&(e=r.template?"jqx-notification-close-button jqx-notification-close-button-"+r.template:r.toThemeProperty("jqx-icon-close")+" "+r.toThemeProperty("jqx-notification-close-button"),l=d("<td class='"+r.toThemeProperty("jqx-notification-close-button-container")+"'><div class='"+e+" "+r.element.id+"CloseButton' title='Close'></div></td>"),0==r.rtl?(l.find("div").addClass("jqx-notification-close-button-ltr"),i.after(l)):(l.find("div").addClass("jqx-notification-close-button-rtl"),i.before(l))),r.host[0].innerHTML="",r.host.append(o),r.host.find(".jqx-notification-content").html(n)},_position:function(e){var t,i,s,r;switch(this.position){case"top-right":i=this.browserBoundsOffset,s=this.browserBoundsOffset,r=t="";break;case"top-left":t=this.browserBoundsOffset,s=this.browserBoundsOffset,r=i="";break;case"bottom-left":t=this.browserBoundsOffset,s=i="",r=this.browserBoundsOffset;break;case"bottom-right":i=this.browserBoundsOffset,s=t="",r=this.browserBoundsOffset}e.css({left:t,right:i,top:s,bottom:r})},_notificationContainer:function(){var e,t=this;if(t.appendContainer){if(0==(e=d(t.appendContainer)).length)throw new Error("jqxNotification: Invalid appendContainer jQuery Selector - "+t.appendContainer+"! Please, check whether the used ID or CSS Class name is correct.")}else 0==(e=d("#jqxNotificationDefaultContainer-"+t.position)).length&&(d("body").append("<div id='jqxNotificationDefaultContainer-"+t.position+"' class='jqx-notification-container'></div>"),e=d("#jqxNotificationDefaultContainer-"+t.position),t.width.indexOf&&-1!=t.width.indexOf("%")&&e.addClass(t.toThemeProperty("jqx-notification-container-full-width")),t.height.indexOf&&-1!=t.height.indexOf("%")&&e.addClass(t.toThemeProperty("jqx-notification-container-full-height")),t._position(e));return e},_destroyContainers:function(e){0==e&&d(".jqx-notification-container").remove()},_setHoverFunctions:function(){var t=this,e=!1;0==(e="msie"==d.jqx.browser.browser&&"9.0"==d.jqx.browser.version?!0:e)?(t.mouseenterFunction=function(e){e.fadeTo("fast",t.hoverOpacity)},t.mouseleaveFunction=function(e){e.fadeTo("fast",t.opacity)}):(t.mouseenterFunction=function(e){e.css("filter","alpha(opacity = "+100*t.hoverOpacity+")")},t.mouseleaveFunction=function(e){e.css("filter","alpha(opacity = "+100*t.opacity+")")})}})}(jqxBaseFramework),!function(b){b.jqx.jqxWidget("jqxNumberInput","",{}),b.extend(b.jqx._jqxNumberInput.prototype,{defineInstance:function(){var e={value:0,decimal:0,min:-99999999,max:99999999,width:200,validationMessage:"Invalid value",height:25,textAlign:"right",readOnly:!1,promptChar:"_",decimalDigits:2,decimalSeparator:".",groupSeparator:",",groupSize:3,symbol:"",symbolPosition:"left",digits:8,negative:!1,negativeSymbol:"-",disabled:!1,inputMode:"advanced",spinButtons:!1,spinButtonsWidth:18,spinButtonsStep:1,autoValidate:!0,spinMode:"advanced",enableMouseWheel:!0,touchMode:"auto",allowNull:!0,placeHolder:"",changeType:null,template:"",rtl:!1,hint:!0,events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],aria:{"aria-valuenow":{name:"decimal",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},invalidArgumentExceptions:["invalid argument exception"]};return this===b.jqx._jqxNumberInput.prototype||b.extend(!0,this,e),e},createInstance:function(e){""===this.promptChar&&(this.promptChar=" ");var t=this.host.attr("value");null!=t&&(this.decimal=t),0===this.decimal&&(null!=this.value?this.decimal=this.value:null===this.value&&0!==this.decimal&&(this.value=this.decimal));this._createFromInput("jqxNumberInput"),this.render()},_updateHint:function(){var e=this;e.hint&&e.isMaterialized()&&setTimeout(function(){0===e.numberInput[0].value.length?(e.element.removeAttribute("hint"),e.label&&e.label[0]&&(e.label[0].innerHTML=e.placeHolder)):e.element.setAttribute("hint",!0)})},_createFromInput:function(e){var t,i,s=this;"input"==s.element.nodeName.toLowerCase()&&(s.field=s.element,s.field.className&&(s._className=s.field.className),t={title:s.field.title},s.field.value&&(s.decimal=parseFloat(s.field.value)),s.field.getAttribute("min")&&(i=s.field.getAttribute("min"),s.min=parseFloat(i)),s.field.getAttribute("step")&&(i=s.field.getAttribute("step"),s.spinButtonsStep=parseFloat(i)),s.field.getAttribute("max")&&(i=s.field.getAttribute("max"),s.max=parseFloat(i)),s.field.id.length?t.id=s.field.id.replace(/[^\w]/g,"_")+"_"+e:t.id=b.jqx.utilities.createId()+"_"+e,(i=b("<div></div>",t))[0].style.cssText=s.field.style.cssText,s.width||(s.width=b(s.field).width()),s.height||(s.height=b(s.field).outerHeight()),b(s.field).hide().after(i),e=s.host.data(),s.host=i,s.host.data(e),s.element=i[0],s.element.id=s.field.id,s.field.id=t.id,s._className&&(s.host.addClass(s._className),b(s.field).removeClass(s._className)),s.field.tabIndex&&(e=s.field.tabIndex,s.field.tabIndex=-1,s.element.tabIndex=e))},_doTouchHandling:function(){var e=this,t=e.savedValue;if(e.parsing||(e.parsing=!0),e.parsing){e.numberInput.val()&&0==e.numberInput.val().indexOf("-")?e.setvalue("negative",!0):e.setvalue("negative",!1);for(var i=e.numberInput.val(),s=0;s<i.length-1;s++){var r=i.substring(s,s+1);if(isNaN(parseFloat(r))&&-1===e.symbol.toString().indexOf(r)&&"%"!=r&&"$"!=r&&"."!=r&&","!=r&&"-"!=r)return e.numberInput[0].value=t,void(e.parsing=!1)}e.ValueString=e.GetValueString(e.numberInput.val(),e.decimalSeparator,""!=e.decimalSeparator),e._parseDecimalInSimpleMode(),e.decimal=e.ValueString,e.getvalue("negative")&&(e.decimal="-"+e.ValueString),e.parsing=!1}},render:function(){this.host.attr({role:"spinbutton"}),this.host.attr("data-role","input"),b.jqx.aria(this),b.jqx.aria(this,"aria-multiline",!1);var e=this,t=((this.officeMode||this.theme&&-1!=this.theme.indexOf("office"))&&18==this.spinButtonsWidth&&(this.spinButtonsWidth=15),!b.jqx.mobile.isTouchDevice()&&!0!==this.touchMode||(this.inputMode="textbox",this.spinMode="simple"),""==this.decimalSeparator&&(this.decimalSeparator=" "),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons?this._spinButtons():(this.numberInput=b("<input style='border:none;' autocomplete='off' type='textarea'/>").appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),!b.jqx.mobile.isTouchDevice()&&!0!==this.touchMode||this.numberInput.attr("inputmode","numeric"),this.isMaterialized()||this.numberInput.attr("placeholder",this.placeHolder),this.host.attr("name"));t&&this.numberInput.attr("name",t),this.host.attr("tabindex")&&(this.numberInput.attr("tabindex",this.host.attr("tabindex")),this.host.removeAttr("tabindex")),!b.jqx.mobile.isTouchDevice()&&!0!==this.touchMode&&"textbox"!=this.inputMode||((e=this).savedValue="",this.addHandler(this.numberInput,"focus",function(){e.savedValue=e.numberInput[0].value}),this.addHandler(this.numberInput,"change",function(){e._doTouchHandling()}));var e=b.data(this.host[0],"jqxNumberInput").jqxNumberInput=this,r=(0<this.host.parents("form").length&&this.addHandler(this.host.parents("form"),"reset",function(){setTimeout(function(){e.setDecimal(0)},10)}),this.propertyChangeMap.disabled=function(e,t,i,s){s?(e.numberInput.addClass(r.toThemeProperty("jqx-input-disabled")),e.numberInput.attr("disabled",!0)):(e.host.removeClass(r.toThemeProperty("jqx-input-disabled")),e.numberInput.attr("disabled",!1)),e.spinButtons&&e.host.jqxRepeatButton&&(e.upbutton.jqxRepeatButton({disabled:s}),e.downbutton.jqxRepeatButton({disabled:s}))},this.disabled&&(this.numberInput.addClass(this.toThemeProperty("jqx-input-disabled")),this.numberInput.attr("disabled",!0),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this.selectedText="",this.decimalSeparatorPosition=-1,this.element.id,this.element,this),t=(this.oldValue=this._value(),this.items=new Array,this.value),i=this.decimal,e=(this._initializeLiterals(),this._render(),this.setDecimal(null!==t?i:null),this);setTimeout(function(){},100),this._addHandlers(),b.jqx.utilities.resize(this.host,function(){e._render()})},refresh:function(e){e||this._render()},wheel:function(e,t){if(t.enableMouseWheel){t.changeType="mouse";var i=0;if((e=e||window.event).originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i)return t=t._handleDelta(i),e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation(),!!t&&(e.returnValue=t=!1);e.preventDefault&&e.preventDefault(),e.returnValue=!1}},_handleDelta:function(e){return e<0?this.spinDown():this.spinUp(),!0},_addHandlers:function(){var s=this,i=(this.addHandler(this.numberInput,"paste",function(e){var t,i=s._selection();e.preventDefault(),e.originalEvent.clipboardData?t=(e.originalEvent||e).clipboardData.getData("text/plain"):window.clipboardData&&(t=window.clipboardData.getData("Text")),this.selectedText=t,b.data(document.body,"jqxSelection",this.selectedText),"simple"!=s.inputMode?s._pasteSelectedText():s.val(t),setTimeout(function(){s._setSelectionStart(i.start)})}),this.addHandler(this.numberInput,"mousedown",function(e){return s._raiseEvent(2,e)}),this._mousewheelfunc=this._mousewheelfunc||function(e){if(!s.editcell)return s.wheel(e,s),!1},this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc),"");this.addHandler(this.numberInput,"focus",function(e){b.data(s.numberInput,"selectionstart",s._selection().start),s.host.addClass(s.toThemeProperty("jqx-fill-state-focus")),s.spincontainer&&s.spincontainer.addClass(s.toThemeProperty("jqx-numberinput-focus")),i=s.numberInput.val(),s._savedValue=s.decimal}),this.addHandler(this.numberInput,"blur",function(e){var t;return"simple"==s.inputMode&&s._exitSimpleInputMode(e,s,!1,i),s.autoValidate&&(t=parseFloat(s.decimal),(t=s.getvalue("negative")&&0<s.decimal?-parseFloat(s.decimal):t)>s.max&&(s._disableSetSelection=!0,s.setDecimal(s.max),s._disableSetSelection=!1),t<s.min&&(s._disableSetSelection=!0,s.setDecimal(s.min),s._disableSetSelection=!1)),s.host.removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.spincontainer&&s.spincontainer.removeClass(s.toThemeProperty("jqx-numberinput-focus")),s.numberInput.val()!=i&&(s._raiseEvent(7,e),b.jqx.aria(s,"aria-valuenow",s.decimal),s.element.value=s.decimal),!0}),this.addHandler(this.numberInput,"mouseup",function(e){return s._raiseEvent(3,e)}),this.addHandler(this.numberInput,"keydown",function(e){return s.changeType="keyboard",s._raiseEvent(4,e)}),this.addHandler(this.numberInput,"keyup",function(e){return s._raiseEvent(5,e)}),this.addHandler(this.numberInput,"keypress",function(e){return s._raiseEvent(6,e)})},focus:function(){try{this.numberInput.focus()}catch(e){}},_removeHandlers:function(){this.removeHandler(this.numberInput,"mousedown"),b.jqx.mobile.isOperaMiniMobileBrowser()&&this.removeHandler(b(document),"click."+this.element.id,this._exitSimpleInputMode,this),this.removeHandler(this.numberInput,"paste"),this.removeHandler(this.numberInput,"focus"),this.removeHandler(this.numberInput,"blur"),this.removeHandler(this.numberInput,"mouseup"),this.removeHandler(this.numberInput,"keydown"),this.removeHandler(this.numberInput,"keyup"),this.removeHandler(this.numberInput,"keypress")},_spinButtons:function(){if(!this.host.jqxRepeatButton)throw new Error("jqxNumberInput: Missing reference to jqxbuttons.js.");this.numberInput?this.numberInput.css("float","left"):(this.numberInput=b("<input autocomplete='off' style='border: none; position: relative; float: left;' type='textarea'/>"),this.numberInput.appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.spincontainer&&(this.upbutton&&this.upbutton.jqxRepeatButton("destroy"),this.downbutton&&this.downbutton.jqxRepeatButton("destroy"),this.spincontainer.remove()),this.spincontainer=b('<div style="float: right; height: 100%; overflow: hidden; position: relative;"></div>'),this.rtl&&(this.spincontainer.css("float","right"),this.numberInput.css("float","right"),this.spincontainer.css("left","-1px")),this.host.append(this.spincontainer),this.upbutton=b('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.upbutton),this.upbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"top-right"}),this.downbutton=b('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.downbutton),this.downbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"bottom-right"}),this.template&&(this.upbutton.addClass(this.toThemeProperty("jqx-"+this.template)),this.downbutton.addClass(this.toThemeProperty("jqx-"+this.template)));var t=this,t=(this.downbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-rc-tr")),this.downbutton.addClass(this.toThemeProperty("jqx-rc-br")),this.addHandler(this.downbutton,"mouseup",function(e){t.disabled||(t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected")))}),this.addHandler(this.upbutton,"mouseup",function(e){t.disabled||(t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-selected")))}),this.removeHandler(b(document),"mouseup."+this.element.id),this.addHandler(b(document),"mouseup."+this.element.id,function(e){t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-selected")),t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected"))}),this.addHandler(this.downbutton,"mousedown",function(e){if(!t.disabled)return b.jqx.browser.msie&&b.jqx.browser.version<9&&(t._inputSelection=t._selection()),t.downbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-selected")),e.preventDefault(),e.stopPropagation(),!1}),this.addHandler(this.upbutton,"mousedown",function(e){if(!t.disabled)return b.jqx.browser.msie&&b.jqx.browser.version<9&&(t._inputSelection=t._selection()),t.upbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-selected")),e.preventDefault(),e.stopPropagation(),!1}),this.addHandler(this.upbutton,"mouseenter",function(e){t.upbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.upbutton,"mouseleave",function(e){t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.downbutton,"mouseenter",function(e){t.downbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.addHandler(this.downbutton,"mouseleave",function(e){t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.upbutton.css("border-width","0px"),this.downbutton.css("border-width","0px"),this.disabled?(this.upbutton[0].disabled=!0,this.downbutton[0].disabled=!0):(this.upbutton[0].disabled=!1,this.downbutton[0].disabled=!1),this.spincontainer.addClass(this.toThemeProperty("jqx-input")),this.spincontainer.addClass(this.toThemeProperty("jqx-rc-r")),this.spincontainer.css("border-width","0px"),this.rtl?this.spincontainer.css("border-right-width","1px"):this.spincontainer.css("border-left-width","1px"),this._upArrow=this.upbutton.find("div"),this._downArrow=this.downbutton.find("div"),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._upArrow.addClass(this.toThemeProperty("jqx-input-icon")),this._downArrow.addClass(this.toThemeProperty("jqx-input-icon")),this),i=(this._upArrow.hover(function(){t.disabled||t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))},function(){t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this._downArrow.hover(function(){t.disabled||t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))},function(){t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))}),b.jqx.mobile.isTouchDevice()),e="click";i&&(e=b.jqx.mobile.getTouchEventName("touchstart")),i&&(this.addHandler(this.downbutton,"click",function(e){t.spinDown()}),this.addHandler(this.upbutton,"click",function(e){t.spinUp()})),this.addHandler(this.downbutton,e,function(e){return i?(e.preventDefault(),e.stopPropagation()):(0==t._selection().start&&t._setSelectionStart(t.numberInput.val().length),b.jqx.browser.msie&&b.jqx.browser.version<9&&t._setSelectionStart(t._inputSelection.start)),t.spinDown(),!1}),this.addHandler(this.upbutton,e,function(e){return i?(e.preventDefault(),e.stopPropagation()):(0==t._selection().start&&t._setSelectionStart(t.numberInput.val().length),b.jqx.browser.msie&&b.jqx.browser.version<9&&t._setSelectionStart(t._inputSelection.start)),t.spinUp(),!1})},spinDown:function(){var e=this,t=this.decimal;if("none"!=e.spinMode)if(null==this.decimal)this.setDecimal(0);else{var i=(m=this.getvalue("negative"))?-1:0;if(!b.jqx.mobile.isTouchDevice()&&"textbox"!=this.inputMode||e._doTouchHandling(),!e.disabled){var s=this._selection(),r=this.decimal;if((h=this.getDecimal())<this.min)return h=this.min,this.setDecimal(this.min),this._setSelectionStart(s.start),void this.spinDown();if(h>this.max)return h=this.max,this.setDecimal(this.max),this._setSelectionStart(s.start),void this.spinDown();e.spinButtonsStep<0&&(e.spinButtonsStep=1);var n=i+(parseInt(e.decimal)-e.spinButtonsStep).toString().length<=e.digits+e.decimalDigits;if("advanced"!=e.spinMode||0===e.decimalDigits){if(h-e.spinButtonsStep>=e.min&&n){for(var o=1,a=0;a<e.decimalDigits;a++)o*=10;var l=o*h-o*e.spinButtonsStep;l=this._parseDecimalValueToEditorValue(l/=o),e.setDecimal(l)}}else{var d=this._getspindecimal(),h=(this._getSeparatorPosition(),parseFloat(d.decimal));e.spinButtonsStep<0&&(e.spinButtonsStep=1);n=i+(parseInt(h)-e.spinButtonsStep).toString().length<=e.digits,o=1;if(-1!=(u=d.decimal.indexOf("."))){for(var c=d.decimal.length-u-1,o=1,a=0;a<c;a++)o*=10;var u,p=(h=-1==(h=(h-=new Number(e.spinButtonsStep/o)).toFixed(c)).toString().indexOf(".")?h.toString()+".":h).toString()+d.afterdecimal;(p=(p=new Number(p)).toFixed(e.decimalDigits))>=e.min&&(p=this._parseDecimalValueToEditorValue(p),e.setDecimal(p))}else h-e.spinButtonsStep>=e.min&&n&&(l=o*h-o*e.spinButtonsStep,(p=(l/=o).toString()+d.afterdecimal)>=e.min&&(p=this._parseDecimalValueToEditorValue(p),e.setDecimal(p)))}if(null==p||"simple"!=this.inputMode)return m=this.getvalue("negative"),0==i&&m?this._setSelectionStart(s.start+1):this._setSelectionStart(s.start),e.savedValue=e.numberInput[0].value,t!=this.decimal&&(b.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void b.jqx.aria(this,"aria-valuenow",this.decimal);p=this.decimal.toString();var m=this.getvalue("negative");0==i&&m?this._setSelectionStart(s.start+1):null==p||null!=r&&r.toString().length!=p.length?m?this._setSelectionStart(s.start+1):this._setSelectionStart(s.start-1):this._setSelectionStart(s.start),t!=this.decimal&&(b.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),b.jqx.aria(this,"aria-valuenow",this.decimal)}}},_getspindecimal:function(){var e=this._selection(),t="",i=(this._getSeparatorPosition(),this._getVisibleItems()),s=this._getHiddenPrefixCount(),r=this.numberInput.val(),n=(this.numberInput.val().length==e.start&&0==e.length&&(this._setSelection(e.start,e.start+1),e=this._selection()),"advanced"!=this.inputMode),o=e.start;0===o&&o++,1===o&&"left"===this.symbolPosition&&""!==this.symbol&&(o+=this.symbol.length);for(var a=0;a<o;a++)n?(l=r.substring(a,a+1),!isNaN(parseInt(l))&&(t+=l),l==this.decimalSeparator&&(t+=l)):i[a].canEdit&&i[a].character!=this.promptChar?t+=i[a].character:i[a].canEdit||-1==this.decimalSeparatorPosition||i[a]!=i[this.decimalSeparatorPosition-s]||(0==t.length&&(t="0"),t+=i[a].character);for(var l,d="",a=o;a<i.length;a++)n?(l=r.substring(a,a+1),isNaN(parseInt(l))||(d+=l),l==this.decimalSeparator&&(d+=l)):(i[a].canEdit&&i[a].character!=this.promptChar||!i[a].canEdit&&-1!=this.decimalSeparatorPosition&&i[a]==i[this.decimalSeparatorPosition-s])&&(d+=i[a].character);return{decimal:this.getvalue("negative")?"-"+this._parseDecimalValue(t).toString():this._parseDecimalValue(t).toString(),afterdecimal:this._parseDecimalValue(d)}},_parseDecimalValue:function(e){if("."!=this.decimalSeparator){var t=e.toString().indexOf(this.decimalSeparator);if(0<=t)return e.toString().substring(0,t)+"."+e.toString().substring(t+1)}return e},_parseDecimalValueToEditorValue:function(e){if("."!=this.decimalSeparator){var t=e.toString().indexOf(".");if(0<=t)return e.toString().substring(0,t)+this.decimalSeparator+e.toString().substring(t+1)}return e},spinUp:function(){var e=this,t=this.decimal;if("none"!=e.spinMode)if(null==this.decimal)this.setDecimal(0);else{!b.jqx.mobile.isTouchDevice()&&"textbox"!=this.inputMode||e._doTouchHandling();var i=(m=this.getvalue("negative"))?-1:0;if(!e.disabled){var s=this._selection(),r=e.decimal;if((h=e.getDecimal())<this.min)return h=this.min,this.setDecimal(this.min),this._setSelectionStart(s.start),void this.spinUp();if(h>this.max)return h=this.max,this.setDecimal(this.max),this._setSelectionStart(s.start),void this.spinUp();e.spinButtonsStep<0&&(e.spinButtonsStep=1);var n=i+(parseInt(e.decimal)+e.spinButtonsStep).toString().length<=e.digits+e.decimalDigits;if("advanced"!=e.spinMode||0===e.decimalDigits){if(h+e.spinButtonsStep<=e.max&&n){for(var o=1,a=0;a<e.decimalDigits;a++)o*=10;var l=o*h+o*e.spinButtonsStep;l=this._parseDecimalValueToEditorValue(l/=o),e.setDecimal(l)}}else{var d=this._getspindecimal(),h=(this._getSeparatorPosition(),parseFloat(d.decimal));e.spinButtonsStep<0&&(e.spinButtonsStep=1);n=i+(parseInt(h)+e.spinButtonsStep).toString().length<=e.digits,o=1;if(-1!=(u=d.decimal.indexOf("."))){for(var c=d.decimal.length-u-1,o=1,a=0;a<c;a++)o*=10;var u,p=(h=-1==(h=(h+=new Number(e.spinButtonsStep/o)).toFixed(c)).toString().indexOf(".")?h.toString()+".":h).toString()+d.afterdecimal;p=(p=new Number(p)).toFixed(e.decimalDigits),new Number(p).toFixed(e.decimalDigits)<=e.max?(p=this._parseDecimalValueToEditorValue(p),e.setDecimal(p)):p=void 0}else h+e.spinButtonsStep<=e.max&&n&&(l=o*h+o*e.spinButtonsStep,p=(l/=o).toString()+d.afterdecimal,new Number(p).toFixed(e.decimalDigits)<=e.max?(p=this._parseDecimalValueToEditorValue(p),m&&-1==p.indexOf("-")&&"-0"!=d.decimal&&(p="-"+p),e.setDecimal(p)):p=void 0)}if(null==p||"simple"!=this.inputMode)return this._setSelectionStart(s.start),e.savedValue=e.numberInput[0].value,t!=this.decimal&&(b.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void b.jqx.aria(this,"aria-valuenow",this.decimal);p=this.decimal.toString();var m=this.getvalue("negative");-1!=i||m?null!=p&&(null==r||r.toString().length==p.length)||m?this._setSelectionStart(s.start):this._setSelectionStart(1+s.start):this._setSelectionStart(-1+s.start),t!=this.decimal&&(b.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),b.jqx.aria(this,"aria-valuenow",this.decimal)}}},_exitSimpleInputMode:function(e,t,i,s){if(null!=(t=null==t?e.data:t)){if(null==i){if(null!=e.target&&null!=t.element&&(null!=e.target.id&&0<e.target.id.toString().length&&0<t.host.find("#"+e.target.id).length||e.target==t.element))return;var i=t.host.offset(),r=i.left,i=i.top,n=t.host.width(),o=t.host.height(),e=b(e.target).offset();if(e.left>=r&&e.left<=r+n&&e.top>=i&&e.top<=i+o)return}if(b.jqx.mobile.isOperaMiniBrowser()&&t.numberInput.attr("readonly",!0),!t.disabled&&!t.readOnly){r=b.data(t.numberInput,"simpleInputMode");if(null!=r)return b.data(t.numberInput,"simpleInputMode",null),this._parseDecimalInSimpleMode(),!1}}},_getDecimalInSimpleMode:function(){var e,t=this.decimal;return t="."!=this.decimalSeparator&&0<(e=t.toString().indexOf(this.decimalSeparator))?t.toString().substring(0,e)+"."+t.toString().substring(e+1):t},_parseDecimalInSimpleMode:function(e){var t=this.getvalue("negative"),i=this.ValueString,s=(null==i&&(i=this.GetValueString(this.numberInput.val(),this.decimalSeparator,""!=this.decimalSeparator)),"."==this.decimalSeparator||0<(s=i.toString().indexOf("."))&&(i=i.toString().substring(0,s)+this.decimalSeparator+i.toString().substring(s+1)),t?"-":"");"left"==this.symbolPosition&&(s+=this.symbol);0==this.digits%this.groupSize&&this.groupSize;t=i.toString();s+=t=0<=t.indexOf("-")?t.substring(t.indexOf("-")+1):t,"right"==this.symbolPosition&&(s+=this.symbol),0!=e&&this.numberInput.val(s)},_enterSimpleInputMode:function(e,t){null==t&&(t=e.data);var i,s,e=this._selection();null!=t&&(i=t.getvalue("negative"),s=t.decimal,t.numberInput.val(s=i&&0<s?-s:s),b.data(t.numberInput,"simpleInputMode",!0),b.jqx.mobile.isOperaMiniBrowser()&&t.numberInput.attr("readonly",!1),this._parseDecimalInSimpleMode(),this._setSelectionStart(e.start))},setvalue:function(e,t){void 0!==this[e]&&("decimal"==e?this._setDecimal(t):(this[e]=t,this.propertyChangedHandler(this,e,t,t)))},getvalue:function(e){return"decimal"==e&&null!=this.negative&&1==this.negative?this.decimal.toString().indexOf(",")?-Math.abs(this.decimal.toString().replace(/,/,".")):-Math.abs(this[e]):e in this?this[e]:null},_getString:function(){for(var e="",t=0;t<this.items.length;t++)e+=this.items[t].character;return e},_literal:function(e,t,i,s){return{character:e,regex:t,canEdit:i,isSeparator:s}},_initializeLiterals:function(){if("textbox"!=this.inputMode){for(var e=0,t=this.negativeSymbol.length,i=0;i<t;i++){var s=this.negativeSymbol.substring(i,i+1),r="",n=!1,o=null;o=this.negative?this._literal(s,r,n,!1):this._literal("",r,n,!1),this.items[e]=o,e++}var a=this.symbol.length;if("left"==this.symbolPosition)for(i=0;i<a;i++){s=this.symbol.substring(i,i+1),r="",n=!1,o=this._literal(s,r,n,!1);this.items[e]=o,e++}0==(l=this.digits%this.groupSize)&&(l=this.groupSize);for(i=0;i<this.digits;i++){var l,d,s=this.promptChar,r="\\d",n=!0,o=this._literal(s,r,n,!1);this.items[e]=o,e++,i<this.digits-1&&null!=this.groupSeparator&&0<this.groupSeparator.length?0==--l&&(l=this.groupSize,d=this._literal(this.groupSeparator,"",!1,!1),this.items[e]=d,e++):i==this.digits-1&&(o.character=0)}if(this.decimalSeparatorPosition=-1,null!=this.decimalDigits&&0<this.decimalDigits){o=(0==(s=this.decimalSeparator).length&&(s="."),this._literal(s,"",!1,!0));this.items[e]=o,this.decimalSeparatorPosition=e,e++;for(i=0;i<this.decimalDigits;i++){var r="\\d",h=this._literal(0,r,!0,!1);this.items[e]=h,e++}}if("right"==this.symbolPosition)for(i=0;i<a;i++){s=this.symbol.substring(i,i+1),r="",n=!1,o=this._literal(s,r,n);this.items[e]=o,e++}}},_match:function(e,t){return new RegExp(t,"i").test(e)},_raiseEvent:function(e,t){var i=this.events[e],s={};if("none"==(s.owner=this).host.css("display"))return!0;var r=t.charCode||t.keyCode||0,n=!0,o=this.readOnly;if((3==e||2==e)&&!this.disabled){if("simple"==this.inputMode||"textbox"==this.inputMode)return!0;this._handleMouse(t)}0==e&&(a=this.getvalue("decimal"),this.max<a||this.min>a?this.host.addClass(this.toThemeProperty("jqx-input-invalid")):(this.host.removeClass(this.toThemeProperty("jqx-input-invalid")),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all"))));var a=new b.Event(i),i=(a.owner=this,s.value=this.getvalue("decimal"),s.text=this.numberInput.val(),a.args=s,7==e&&(s.type=this.changeType,this.changeType=null),null!=i&&4!=e&&5!=e&&6!=e&&(n=this.host.trigger(a)),this);if("textbox"==this.inputMode)return n;if("simple"!=this.inputMode){if(4==e){if(o||this.disabled)return!1;n=i._handleKeyDown(t,r)}else if(5==e)(o||this.disabled)&&(n=!1);else if(6==e){if(o||this.disabled)return!1;n=i._handleKeyPress(t,r)}}else if(4==e||5==e||6==e){if(b.jqx.mobile.isTouchDevice()||!0===this.touchMode)return!0;if(o||this.disabled)return!1;a=String.fromCharCode(r),o=(parseInt(a),!0);if(t.ctrlKey||t.shiftKey||t.metaKey||65<=r&&r<=90&&(o=!1),6==e&&null!=b.jqx.browser.opera&&8==r)return!1;if(o){4==e&&(o=i._handleSimpleKeyDown(t,r)),107==r&&(d=i.getvalue("negative"))&&(i.setvalue("negative",!1),i.decimal=i.ValueString,i._parseDecimalInSimpleMode(),i._setSelectionStart(l.start+1),i._raiseEvent(0,i.value),i._raiseEvent(1,i.numberInput.val())),189!=r&&45!=r&&109!=r&&173!=r||(l=i._selection(),4==e&&(0==(d=i.getvalue("negative"))?i.setvalue("negative",!0):i.setvalue("negative",!1),i.decimal=i.ValueString,i._parseDecimalInSimpleMode(),d?i._setSelectionStart(l.start-1):i._setSelectionStart(l.start+1),o=!1,i._raiseEvent(0,i.value),i._raiseEvent(1,i.numberInput.val())));var l,d,a=s.ctrlKey||s.metaKey;if(!b.jqx.browser.msie)if(a&&99==r||a&&67==r||a&&122==r||a&&90==r||a&&118==r||a&&86==r||t.shiftKey&&45==r)return(b.jqx.browser.webkit||b.jqx.browser.chrome)&&i._handleSimpleKeyDown(t,r),67==r;if(a&&97==r||a&&65==r)return!0;if(6==e&&o)return this._isSpecialKey(r)}return o}return n},GetSelectionInValue:function(e,t,i,s){for(var r=0,n=0;n<t.length&&!(e<=n);n++){var o=t.substring(n,n+1);(!isNaN(parseInt(o))||s&&t.substring(n,n+1)==i)&&r++}return r},GetSelectionLengthInValue:function(e,t,i,s){for(var r=0,n=0;n<i.length&&!(e+t<=n);n++){var o=i.substring(n,n+1),o=!isNaN(parseInt(o));(0<t&&e<=n&&o||e<=n&&i[n].toString()==s)&&r++}return r},GetInsertTypeByPositionInValue:function(e,t,i,s){var r="before",i=this.GetValueString(i,t,s);return r=this.GetDigitsToSeparator(0,i,t)<e?"after":r},RemoveRange:function(e,t,i,s,r,n){var o=this.digits,a=e,l=t,d=0,h=(this.decimal,this._selection(),""!=(s=this.decimalSeparator));if(0==l&&this.ValueString.length<this.decimalPossibleChars-1)return d;for(var c,u=this.GetSeparatorPositionInText(s,i),p=(-1==(u=(u=r?u:this.GetSeparatorPositionInText(s,i))<0&&!h&&1<i.length?i.length:u)&&(u=i.length),h?1:0),m=(t<2&&1==n&&this.ValueString.length-this.decimalDigits-p==o&&e+t<u&&l++,""),g=0;g<i.length;g++)g<a||a+l<=g?m+=i.substring(g,g+1):(c=i.substring(g,g+1))==s?m+=s:(c=i.substring(g,g+1),this.symbol&&""!=this.symbol&&0<=this.symbol.indexOf(c)||(u<g?m+="0":(c=i.substring(g,g+1),isNaN(parseInt(c))||d++)));0==m.length&&(m="0"),r?this.numberInput.val(m):this.ValueString=m;n=m.substring(0,1);return n==s&&isNaN(parseInt(n))&&(m="0"+m),this.ValueString=this.GetValueString(m,s,h),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(a),d},InsertDigit:function(e,t){"number"!=typeof this.digits&&(this.digits=parseInt(this.digits)),"number"!=typeof this.decimalDigits&&(this.decimalDigits=parseInt(this.decimalDigits));var i=1+this.digits,s=this._selection(),r=this.getvalue("negative"),n=!1,n=(0==s.start&&""!=this.symbol&&"left"==this.symbolPosition&&(this._setSelectionStart(s.start+1),s=this._selection(),n=!0),(r&&n||r&&!n&&0==s.start)&&(this._setSelectionStart(s.start+1),s=this._selection()),this.numberInput.val().substring(s.start,s.start+1)),o=this.numberInput.val(),a=this.decimalSeparator,l=""!=a&&0<this.decimalDigits;if(n==this.symbol&&"right"==this.symbolPosition){if(0!=this.decimalDigits)return;if(this.ValueString=this.GetValueString(o,a,l),this.ValueString.length>=i)return}this.ValueString=this.GetValueString(o,a,l),""==this.ValueString&&(this.ValueString=new Number(0).toFixed(this.decimalDigits));var n=this.ValueString,d="",h=((t=0<this.decimalDigits&&t>=n.length?n.length-1:t)<n.length&&(d=n.substring(t,t+1)),!1);"after"==this.GetInsertTypeByPositionInValue(t,a,o,l)&&(h=!0);d!=a&&this.ValueString.length-this.decimalDigits-(l?1:0)>=i-1&&(h=!0),"0"===d&&1===this.ValueString.length&&0===this.decimalDigits&&(h=!0);o=l?1:0;if(!(!h&&this.ValueString&&this.ValueString.length>=this.digits+this.decimalDigits+o)){if(h&&d!=a){var c=n.substring(0,t);if(c.length==n.length&&this.ValueString.length>=this.digits+this.decimalDigits+o)return;var u="",p=c+(m=e)+(u=t+1<n.length?n.substring(t+1):u);this.ValueString=p}else{var m,p=(c=n.substring(0,t))+(m=e)+(u=n.substring(t));"0"==n.substring(0,1)&&n.substring(1,2)==a&&(p=m+n.substring(1),d==a&&(this._setSelectionStart(s.start-1),s=this._selection())),this.ValueString=p}this.decimal=r?"-"+this.ValueString:this.ValueString,this._parseDecimalInSimpleMode();i=s.start;this._setSelectionStart(i+=1),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())}},GetStringToSeparator:function(e,t,i){var s=this.GetSeparatorPositionInText(t,e),e=e.subString(0,s);return this.GetValueString(e,t,i)},GetSeparatorPositionInText:function(e,t){for(var i=-1,s=0;s<t.length;s++)if(t.substring(s,s+1)==e){i=s;break}return i},GetValueString:function(e,t,i){for(var s="",r=0;r<e.length;r++){var n=e.substring(r,r+1);!isNaN(parseInt(n))&&(s+=n),n==t&&(s+=t)}return s},Backspace:function(){var e=this._selection(),t=this._selection(),i=this.numberInput.val();0==e.start&&0==e.length||(this.isBackSpace=!0,i=i.substring[e.start,e.start+1],isNaN(parseInt(i)),0<e.start&&0==e.length&&(this._setSelectionStart(e.start-1),e=this._selection()),this.Delete(),this._setSelectionStart(t.start-1),this.isBackSpace=!1)},Delete:function(e){var t=this._selection(),i=this.numberInput.val(),s=(0===t.start&&"-"==i.substring(0,1)&&(this.setvalue("negative",!1),t=this._selection(),i=this.numberInput.val()),t.start),r=(0<t.start&&"-"==i.substring(0,1)&&(t.start=--s),t.length),r=Math.max(r,1),i=(this.ValueString=this.GetValueString(i,this.decimalSeparator,""!=this.decimalSeparator),s>this.ValueString.indexOf(this.decimalSeparator)&&0<this.decimalDigits&&s++,0),t=(this.symbol&&("left"==this.symbolPosition&&i--,this.negative&&i--),this.RemoveRange(t.start+i,r,this.ValueString,".",!1),this.ValueString.substring(0,1));isNaN(parseInt(t))&&(this.ValueString="0"+this.ValueString),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(s),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())},insertsimple:function(e){var t=this._selection(),i=this.numberInput.val();if(!(t.start==i.length&&null!=this.decimal&&0<this.decimalDigits)){this.decimal;var s=this.decimalSeparator,r=(this.ValueString=this.GetValueString(i,s,""!=s),this.GetSelectionInValue(t.start,i,s,""!=s)),i=this.GetSelectionLengthInValue(t.start,t.length,i,s);this.GetDigitsToSeparator(0,this.ValueString,s);if(0<this.decimalDigits&&r>=this.ValueString.length&&r--,""==this.ValueString)return this.ValueString=new Number(0).toFixed(this.decimalDigits),this.ValueString=this.ValueString.replace(".",s),this.RemoveRange(t.start,i,this.ValueString,s,!1,!0),void this.InsertDigit(e,0,t);this.RemoveRange(t.start,i,this.ValueString,s,!1,!0),this.InsertDigit(e,r,t)}},GetDigitsToSeparator:function(e,t,i){if(t.indexOf(i=null==i?".":i)<0)return t.length;for(var s=0;s<t.length;s++)if(t.substring(s,s+1)==i){e=s;break}return e},_handleSimpleKeyDown:function(e,t){var i,s=this._selection(),r=e.ctrlKey||e.metaKey;if((8==t||46==t)&&r)return this.setDecimal(null),!1;if(0<=s.start&&s.start<this.items.length&&(c=String.fromCharCode(t)),27===t&&(this.setDecimal(this._savedValue),-1!=(i=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val()))&&this._setSelectionStart(i),e.preventDefault()),this.rtl&&37==t)return p=(u=e.shiftKey)?1:0,u?this._setSelection(s.start+1-p,s.start+s.length+1):this._setSelection(s.start+1-p,s.start+1),!1;if(this.rtl&&39==t)return p=(u=e.shiftKey)?1:0,u?this._setSelection(s.start-1,s.length+p+s.start-1):this._setSelection(s.start-1,s.start-1),!1;if(8==t)return this.Backspace(),!1;if(190==t||110==t)return-1!=(i=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val()))&&this._setSelectionStart(i+1),!1;if(188==t&&","===this.groupSeparator){for(var n=this.numberInput.val(),o=s.start;o<n.length;o++)if(n[o]==this.groupSeparator){this._setSelectionStart(1+o);break}return!1}if((r=e.ctrlKey||e.metaKey)&&99==t||r&&67==t){var a,s=this._selection(),l="",d=this.numberInput.val();if(0<s.start||0<s.length)for(var o=s.start;o<s.end;o++)l+=d.substring(o,o+1);return b.data(document.body,"jqxSelection",l),b.jqx.browser.msie?window.clipboardData.setData("Text",l):(h=this,(a=b('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>')).val(l),b("body").append(a),a.select(),setTimeout(function(){document.designMode="off",a.select(),a.remove(),h.focus()},100)),this.savedText=l,!0}if(r&&122==t||r&&90==t)return!1;if(r&&118==t||r&&86==t||e.shiftKey&&45==t)return b.jqx.browser.msie&&!this.savedText&&(this.savedText=window.clipboardData.getData("Text")),null!=this.savedText&&0<this.savedText.length?this.val(this.savedText):this.val(b.data(document.body,"jqxSelection")),!1;var h,c=String.fromCharCode(t),u=parseInt(c);if(96<=t&&t<=105&&(u=t-96,t-=48),!isNaN(u))return(h=this).insertsimple(u),!1;if(46==t)return this.Delete(),!1;if(38==t)return this.spinUp(),!1;if(40==t)return this.spinDown(),!1;var p=this._isSpecialKey(t);return!b.jqx.browser.mozilla||p},_getEditRange:function(){for(var e=0,t=0,i=0;i<this.items.length;i++)if(this.items[i].canEdit){e=i;break}for(i=this.items.length-1;0<=i;i--)if(this.items[i].canEdit){t=i;break}return{start:e,end:t}},_getVisibleItems:function(){for(var e=new Array,t=0,i=0;i<this.items.length;i++)0<this.items[i].character.toString().length&&(e[t]=this.items[i],t++);return e},_hasEmptyVisibleItems:function(){for(var e=this._getVisibleItems(),t=0;t<e.length;t++)if(e[t].canEdit&&e[t].character==this.promptChar)return!0;return!1},_getFirstVisibleNonEmptyIndex:function(){for(var e=this._getVisibleItems(),t=0;t<e.length;t++)if(e[t].canEdit&&e[t].character!=this.promptChar)return t},_handleMouse:function(e,t){var i,s=this._selection();s.length<=1&&(i=this._getFirstVisibleNonEmptyIndex(),s.start<i&&this._setSelectionStart(i))},_insertKey:function(e){this.numberInput[0].focus();var m=String.fromCharCode(e),e=parseInt(m);if(!isNaN(e)){for(var g=0,t=0;t<this.items.length;t++)0==this.items[t].character.length&&g++;var f,v,x,y=this._selection(),w=this;0<=y.start&&y.start<=this.items.length&&(f=!1,e=this._getFirstVisibleNonEmptyIndex(),y.start<e&&0==y.length&&(isNaN(m)&&" "!=m||(this._setSelectionStart(e),y=this._selection())),this._getFirstEditableItemIndex(),v=this._getLastEditableItemIndex(),null===this.value&&(v=0),x=this._getVisibleItems(),b.each(x,function(e,t){if(!(y.start>e&&e!=x.length-1)){var i=x[e];if(v<e&&(i=x[v]),!isNaN(m)&&" "!=m&&""!=m&&i&&i.canEdit){var s=w._getSeparatorPosition();if(w._match(m,i.regex)){if(!f&&0<y.length){for(var r=y.start+g;r<y.end+g;r++)w.items[r].canEdit&&(w.items[r].character=s<r?"0":w.promptChar);var n=w._getString();f=!0}var s=w._getSeparatorPosition(),o=w._hasEmptyVisibleItems();if(null==w.decimal&&(y.start=s-1,y.start<0&&(y.start=0),y.end=y.start),y.start<=s&&o){for(var a=e,l=(-1==w.decimalSeparatorPosition&&y.start==s&&(a=e+1),null==w.decimal&&(a=y.start),""),d=0;d<a;d++)x[d].canEdit&&x[d].character!=w.promptChar&&(l+=x[d].character);l+=m;var h=w.decimal<1?1:0;y.start==s&&-1!=w.decimalSeparatorPosition&&(l+=w.decimalSeparator,h=0);for(d=a+h;d<x.length;d++)(x[d].character==w.decimalSeparator&&x[d].isSeparator||x[d].canEdit&&x[d].character!=w.promptChar)&&(l+=x[d].character);"."!=w.decimalSeparator&&(l=w._parseDecimalValue(l)),l=parseFloat(l).toString(),l=(l=new Number(l)).toFixed(w.decimalDigits),"."!=w.decimalSeparator&&(l=w._parseDecimalValueToEditorValue(l)),w.setvalue("decimal",l);var n=w._getString();y.end<s?w._setSelectionStart(y.end+h):w._setSelectionStart(y.end),1<=y.length&&w._setSelectionStart(y.end),y.length==w.numberInput.val().length&&(u=w._moveCaretToDecimalSeparator(),p=0<=w.decimalSeparatorPosition?1:0,w._setSelectionStart(u-p))}else if(y.start<s||y.start>s){if(w.numberInput.val().length==y.start&&-1!=w.decimalSeparatorPosition)return!1;if(w.numberInput.val().length==y.start&&-1==w.decimalSeparatorPosition&&!o)return!1;for(var l="",c=!1,d=0;d<e;d++)x[d].canEdit&&x[d].character!=w.promptChar&&(l+=x[d].character),x[d].character==w.decimalSeparator&&x[d].isSeparator&&(l+=x[d].character,c=!0);l+=m;h=w.decimal<1?1:0;c||y.start!=s-1||(l+=w.decimalSeparator,c=!0);for(d=e+1;d<x.length;d++)(!c&&x[d].character==w.decimalSeparator&&x[d].isSeparator||x[d].canEdit&&x[d].character!=w.promptChar)&&(l+=x[d].character);w.setvalue("decimal",l);n=w._getString();if(w.decimalSeparatorPosition<0&&i==x[v])return w._setSelectionStart(e),!1;var u,p=n.indexOf(w.symbol);p<=(w.getvalue("negative")?1:0)&&(p=n.length),y.start<p?w._setSelectionStart(e+1):w._setSelectionStart(e),y.length,y.length==w.numberInput.val().length&&(u=w._moveCaretToDecimalSeparator(),w._setSelectionStart(u-1))}return!1}}}}))}},_handleKeyPress:function(e,t){var i=this._selection(),e=e.ctrlKey||e.metaKey;return!!(e&&97==t||e&&65==t)||(8==t?(0<i.start&&this._setSelectionStart(i.start),!1):46==t?(i.start<this.items.length&&this._setSelectionStart(i.start),!1):(b.jqx.browser.mozilla||45!=t&&173!=t&&109!=t&&189!=t||(0==this.getvalue("negative")?this.setvalue("negative",!0):this.setvalue("negative",!1)),b.jqx.browser.msie&&this._insertKey(t),this._isSpecialKey(t)))},_deleteSelectedText:function(){var e=this._selection(),t="",i=this._getSeparatorPosition(),s=this._getVisibleItems(),r=this._getHiddenPrefixCount();this.numberInput.val().length==e.start&&0==e.length&&(this._setSelection(e.start,e.start+1),e=this._selection());for(var n=0;n<e.start;n++)s[n].canEdit&&s[n].character!=this.promptChar?t+=s[n].character:s[n].canEdit||-1==this.decimalSeparatorPosition||s[n]!=s[this.decimalSeparatorPosition-r]||(0==t.length&&(t="0"),t+=s[n].character);for(n=e.start;n<e.end;n++)i<n&&-1!=this.decimalSeparatorPosition?s[n].canEdit&&s[n].character!=this.promptChar&&(t+="0"):s[n].canEdit||-1==this.decimalSeparatorPosition||s[n]!=s[this.decimalSeparatorPosition-r]||(0==t.length&&(t="0"),t+=s[n].character);for(n=e.end;n<s.length;n++)s[n].canEdit&&s[n].character!=this.promptChar?t+=s[n].character:s[n].canEdit||-1==this.decimalSeparatorPosition||s[n]!=s[this.decimalSeparatorPosition-r]||(0==t.length&&(t="0"),t+=s[n].character);return this.setvalue("decimal",t),0<e.length},_restoreInitialState:function(){var e=parseInt(this.decimalDigits);0<e&&(e+=2);for(var t=this.items.length-1;t>this.items.length-1-e&&this.items[t];t--)this.items[t].canEdit&&this.items[t].character==this.promptChar&&(this.items[t].character=0)},clear:function(){this.setDecimal(0)},clearDecimal:function(){if("textbox"==this.inputMode)this.numberInput.val();else{for(var e=0;e<this.items.length;e++)this.items[e].canEdit&&(this.items[e].character=this.promptChar);this._restoreInitialState()}},_saveSelectedText:function(){var e=this._selection(),t="",i=this._getVisibleItems();if(0<e.start||0<e.length)for(var s=e.start;s<e.end;s++)(i[s].canEdit&&i[s].character!=this.promptChar||i[s].isSeparator)&&(t+=i[s].character);return b.jqx.browser.msie&&window.clipboardData.setData("Text",t),t},_pasteSelectedText:function(){var e=this._selection();if(this.selectedText=b.data(document.body,"jqxSelection"),window.clipboardData){var t=window.clipboardData.getData("Text");if(t!=this.selectedText&&0<t.length&&(this.selectedText=window.clipboardData.getData("Text"),null==this.selectedText||null==this.selectedText))return}e.start,this._getVisibleItems();if(null!=this.selectedText)for(var i=0;i<this.selectedText.length;i++){var s=parseInt(this.selectedText[i]);isNaN(s)||this._insertKey(48+s)}},_getHiddenPrefixCount:function(){var e=0;if(this.negative||e++,"left"==this.symbolPosition)for(var t=0;t<this.symbol.length;t++)""==this.symbol.substring(t,t+1)&&e++;return e},_getEditableItem:function(){for(var e=this._selection(),t=0;t<this.items.length;t++)if(t<e.start&&this.items[t].canEdit&&this.items[t].character!=this.promptChar)return this.items[t];return null},_getEditableItems:function(){for(var e=new Array,t=0,i=0;i<this.items.length;i++)this.items[i].canEdit&&(e[t]=this.items[i],t++);return e},_getValidSelectionStart:function(e){for(var t=this.items.length-1;0<=t;t--)if(this.items[t].canEdit&&this.items[t].character!=this.promptChar)return t;return-1},_getEditableItemIndex:function(e){for(var t=this._selection(),i=this._getHiddenPrefixCount(),s=this._getVisibleItems(),r=t.start,n=-1,o=0;o<r;o++)o<s.length&&s[o].canEdit&&(n=o+i);if(-1==n&&0<t.length)for(r=t.end,o=0;o<r;o++)if(o<s.length&&s[o].canEdit){n=o+i;break}return n},_getEditableItemByIndex:function(e){for(var t=0;t<this.items.length;t++)if(e<t&&this.items[t].canEdit&&this.items[t].character!=this.promptChar)return t;return-1},_getFirstEditableItemIndex:function(){for(var e=this._getVisibleItems(),t=0;t<e.length;t++)if(e[t].character!=this.promptChar&&e[t].canEdit&&"0"!=e[t].character)return t;return-1},_getLastEditableItemIndex:function(){for(var e=this._getVisibleItems(),t=e.length-1;0<=t;t--)if(e[t].character!=this.promptChar&&e[t].canEdit)return t;return-1},_moveCaretToDecimalSeparator:function(){for(var e=this.items.length-1;0<=e;e--)if(this.items[e].character==this.decimalSeparator&&this.items[e].isSeparator)return this.negative?this._setSelectionStart(e+1):this._setSelectionStart(e),e;return this.numberInput.val().length},_handleBackspace:function(){var e=this._selection(),t=this._getHiddenPrefixCount(),t=this._getEditableItemIndex()-t,i=this._getFirstVisibleNonEmptyIndex(),s=!1;this.negative&&(s=!0,(1+t<=i||0==e.start)&&(this.setvalue("negative",!1),0==e.length&&(this._setSelectionStart(e.start-1),e=this._selection()))),0<=t?(0==e.length&&-1!=t&&this._setSelection(t,1+t),(i=e.start>this._getSeparatorPosition()+1&&0<this.decimalSeparatorPosition)&&(e=this._selection()),this._deleteSelectedText(),e.length<1||i?this._setSelectionStart(e.start):1<=e.length&&this._setSelectionStart(e.end),e.length!=this.numberInput.val().length&&!s||(t=this._moveCaretToDecimalSeparator(),this._setSelectionStart(t-1),s&&this._setSelectionStart(e.start))):this._setSelectionStart(e.start)},_handleKeyDown:function(e,t){var i=this._selection(),s=e.ctrlKey||e.metaKey;if((8==t||46==t)&&s)return this.setDecimal(null),!1;if(this.rtl&&37==t)return l=(a=e.shiftKey)?1:0,a?this._setSelection(i.start+1-l,i.start+i.length+1):this._setSelection(i.start+1-l,i.start+1),!1;if(this.rtl&&39==t)return l=(a=e.shiftKey)?1:0,a?this._setSelection(i.start-1,i.length+l+i.start-1):this._setSelection(i.start-1,i.start-1),!1;if(s&&97==t||s&&65==t)return!0;if(s&&120==t||s&&88==t)return this.selectedText=this._saveSelectedText(e),b.data(document.body,"jqxSelection",this.selectedText),this._handleBackspace(),!1;if(s&&99==t||s&&67==t)return this.selectedText=this._saveSelectedText(e),b.data(document.body,"jqxSelection",this.selectedText),!1;if(s&&122==t||s&&90==t)return!1;if(s&&118==t||s&&86==t||e.shiftKey&&45==t)return this._pasteSelectedText(),!1;if(0<=i.start&&i.start<this.items.length&&(o=String.fromCharCode(t),this.items[i.start]),8==t)return this._handleBackspace(),!1;if(190==t||110==t)return this._moveCaretToDecimalSeparator(),!1;if(188===t&&","===this.decimalSeparator)return this._moveCaretToDecimalSeparator(),!1;if(188==t&&","===this.groupSeparator){for(var r=this.numberInput.val(),n=i.start;n<r.length;n++)if(r[n]==this.groupSeparator){this._setSelectionStart(1+n);break}return!1}if(null==b.jqx.browser.msie){var o=String.fromCharCode(t),a=parseInt(o);if(96<=t&&t<=105&&(a=t-96,t-=48),!isNaN(a))return this._insertKey(t),!1}if(46==t){s=this._getVisibleItems();if(i.start<s.length){var l=0==s[i.start].canEdit?2:1;if(0==i.start)if(this.negative)if(this.setvalue("negative",!1),0==i.length&&this._setSelectionStart(0),0==(i=this._selection()).length)return!1;0==i.length&&this._setSelection(i.start+l,i.start+l+i.length),this._handleBackspace(),(new Number(this.decimal)<1||i.start>this._getSeparatorPosition()||i.start+1<this.decimalSeparatorPosition)&&this._setSelectionStart(i.end+l)}return!1}if(38==t)return this.spinUp(),!1;if(40==t)return this.spinDown(),!1;27===t&&(this.setDecimal(this._savedValue),this._setSelectionStart(i.end),e.preventDefault());o=this._isSpecialKey(t);return!b.jqx.browser.mozilla||45!=t&&173!=t&&109!=t&&189!=t||(0==this.getvalue("negative")?this.setvalue("negative",!0):this.setvalue("negative",!1)),!b.jqx.browser.mozilla||o},_isSpecialKey:function(e){return 8==e||9==e||13==e||35==e||36==e||37==e||39==e||27==e||46==e},_selection:function(){try{var e;if("selectionStart"in this.numberInput[0])return r=(e=this.numberInput[0]).selectionEnd-e.selectionStart,{start:e.selectionStart,end:e.selectionEnd,length:r,text:e.value};var t=document.selection.createRange();if(null==t)return{start:0,end:e.value.length,length:0};var i=this.numberInput[0].createTextRange(),s=i.duplicate(),r=(i.moveToBookmark(t.getBookmark()),s.setEndPoint("EndToStart",i),t.text.length);return{start:s.text.length,end:s.text.length+t.text.length,length:r,text:t.text}}catch(e){return{start:0,end:0,length:0}}},selectAll:function(){var t=this.numberInput;setTimeout(function(){var e;"selectionStart"in t[0]?(t[0].focus(),t[0].setSelectionRange(0,t[0].value.length)):((e=t[0].createTextRange()).collapse(!0),e.moveEnd("character",t[0].value.length),e.moveStart("character",0),e.select())},10)},_setSelection:function(e,t){if(1!=this._disableSetSelection){var i,s=b.jqx.mobile.isTouchDevice();if(!s&&1!=this.touchMode)try{"selectionStart"in this.numberInput[0]?(this.numberInput[0].focus(),this.numberInput[0].setSelectionRange(e,t)):((i=this.numberInput[0].createTextRange()).collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())}catch(e){}}},_setSelectionStart:function(e){this._setSelection(e,e),b.data(this.numberInput,"selectionstart",e)},resize:function(e,t){this.width=e,this.height=t,this._render(!1)},_render:function(e){var t=parseInt(this.host.css("border-left-width")),i=parseInt(this.host.css("border-left-width")),s=parseInt(this.host.css("border-left-width")),r=parseInt(this.host.css("border-left-width")),n=(this.numberInput.css("padding-top","0px"),this.numberInput.css("padding-bottom","0px"),window.getComputedStyle(this.element)),o=2*parseInt(n.borderLeftWidth),n=("border-box"!==n.boxSizing&&!isNaN(o)||(o=0),(null==this.width||-1==this.width.toString().indexOf("px"))&&(null==this.width||isNaN(this.width))||(this.element.style.width=parseInt(this.width)-o+"px"),(null==this.height||-1==this.height.toString().indexOf("px"))&&(null==this.height||isNaN(this.height))||(this.element.style.height=parseInt(this.height)-o+"px"),this.host.width()),o=this.host.height(),i=(this.numberInput.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0}),isNaN(s)&&(s=1),isNaN(i),isNaN(r),isNaN(t),this.numberInput.css("text-align",this.textAlign),this.numberInput.css("font-size")),r=(""==i&&(i=13),this.numberInput.css("height",parseInt(i)+4+"px"),this.numberInput.css("width",n-2),o-2*s-parseInt(i)-2),t=((r=isNaN(r)?0:r)<0&&(r=0),this.spinButtons&&this.spincontainer&&(n-=parseInt(this.spinButtonsWidth-2),b.jqx.mobile.isTouchDevice()||!0===this.touchMode?(this.spincontainer.width(2*this.spinButtonsWidth),n-=this.spinButtonsWidth,this.upbutton.height("100%"),this.downbutton.height("100%"),this.downbutton.css("float","left"),this.upbutton.css("float","right"),this.upbutton.width(this.spinButtonsWidth),this.downbutton.width(1+this.spinButtonsWidth)):(this.spincontainer.width(this.spinButtonsWidth),this.upbutton.width(this.spinButtonsWidth+2),this.downbutton.width(this.spinButtonsWidth+2),this.upbutton.height("50%"),this.downbutton.height("50%"),this.spincontainer.width(this.spinButtonsWidth)),this._upArrow.height("100%"),this._downArrow.height("100%"),this.numberInput.css("width",n-6),this.numberInput.css("margin-right","2px")),r/2);b.jqx.browser.msie&&b.jqx.browser.version<8&&(t=r/4),this.numberInput.css("padding-left","0px"),this.numberInput.css("padding-right","0px"),this.numberInput.css("padding-top",Math.round(t)+"px"),this.numberInput.css("padding-bottom",Math.round(t)+"px"),null!=e&&1!=e||(this.numberInput.val(this._getString()),"advanced"!=this.inputMode&&this._parseDecimalInSimpleMode()),this._addBarAndLabel(this.numberInput),this._updateHint()},_addBarAndLabel:function(e){var t,i=this;null===i.bar&&null===i.label&&(t=b("<label></label"),this.hint&&(t[0].innerHTML=this.placeHolder),t.addClass(i.toThemeProperty("jqx-input-label")),e.after(t),i.label=t,t=b("<span></span>"),e.after(t),t.addClass(i.toThemeProperty("jqx-input-bar")),i.spinButtons?t.css("top",i.host.height()):t.css("top","0px"),i.bar=t,i.template&&(i.bar.addClass(i.toThemeProperty("jqx-"+i.template)),i.label.addClass(i.toThemeProperty("jqx-"+i.template))))},destroy:function(){this._removeHandlers(),this.host.remove()},inputValue:function(e){return void 0===e?this._value():(this.propertyChangedHandler(this,"value",this._value,e),this._refreshValue(),this)},_value:function(){return this.value},val:function(e){if((void 0===e||"object"==typeof e)&&null!==e)return this.getDecimal();if(null===e)this.setDecimal(null);else if((t=e)<0)this.setDecimal(t);else{this.setvalue("negative",!1);var t;t=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s}(t=(t=-1<(t=t.toString()).indexOf(this.symbol)?t.replace(this.symbol,""):t).replace(this.decimalSeparator,"."),this.groupSeparator,"");for(var i="",s=0;s<t.length;s++){var r=t.substring(s,s+1);"-"===r&&(i+="-"),"."===r&&(i+="."),null!=r.match(/^[0-9]+$/)&&(i+=r)}t=(t=(t=i).replace(/ /g,"")).replace(".",this.decimalSeparator),this._setDecimal(t)}},getDecimal:function(){return null==this.decimal?null:("simple"==this.inputMode&&(this._parseDecimalInSimpleMode(!1),this.decimal=this._getDecimalInSimpleMode(this.decimal)),""==this.decimal?0:this.getvalue("negative")&&0<this.decimal?-parseFloat(this.decimal):parseFloat(this.decimal))},setDecimal:function(e){var t,i,s,r=e;"."!=this.decimalSeparator?null===e?this._setDecimal(e):("number"==typeof(t=e)||-1==(s=(e=e.toString()).indexOf("."))&&-1==(s=e.indexOf(this.decimalSeparator))||(t=(i=e.substring(0,s))+"."+(s=e.substring(s+1)),-1!=i.indexOf("-")&&(i=i.substring(1)),e="advanced"!=this.inputMode?i+"."+s:i+this.decimalSeparator+s),t<0?this.setvalue("negative",!0):this.setvalue("negative",!1),null===e?this._setDecimal(e):this._setDecimal(Math.abs(e))):(e<0?this.setvalue("negative",!0):this.setvalue("negative",!1),null===e?this._setDecimal(e):this._setDecimal(Math.abs(e))),null==r&&this.numberInput.val(""),this._updateHint()},_setDecimal:function(e){if(null==(e=this.allowNull||null!=e?e:this.decimal=0))return this.decimal=null,this.value=null,this.clearDecimal(),this._refreshValue(),this.decimal=null,this.value=null,void(this.ValueString="");-1!=e.toString().indexOf("e")&&(e=new Number(e).toFixed(this.decimalDigits).toString()),this.clearDecimal();var t=e.toString(),i="",s="",r=!0;0==t.length&&(t="0");for(var n=0;n<t.length;n++){if("number"==typeof e){if("."==t.substring(n,n+1)){r=!1;continue}}else if(t.substring(n,n+1)==this.decimalSeparator){r=!1;continue}r?i+=t.substring(n,n+1):s+=t.substring(n,n+1)}0<i.length&&(i=parseFloat(i).toString());for(var o=this.digits,a=(o<i.length&&(i=i.substr(0,o)),0),o=this._getSeparatorPosition(),n=o+=this._getHiddenPrefixCount();0<=n;n--)n<this.items.length&&this.items[n].canEdit&&a<i.length&&(this.items[n].character=i.substring(i.length-a-1,i.length-a),a++);for(a=0,n=o;n<this.items.length;n++)this.items[n].canEdit&&a<s.length&&(this.items[n].character=s.substring(a,a+1),a++);this._refreshValue(),"."!=this.decimalSeparator&&0<(o=e.toString().indexOf(this.decimalSeparator))?(o=e.toString().substring(0,o)+"."+e.toString().substring(o+1),this.ValueString=new Number(o).toFixed(this.decimalDigits)):this.ValueString=new Number(e).toFixed(this.decimalDigits),"advanced"!=this.inputMode&&(this._parseDecimalInSimpleMode(),this._raiseEvent(1,this.ValueString)),"textbox"==this.inputMode&&(this.decimal=this.ValueString,this.getvalue("negative")&&(this.decimal="-"+this.ValueString)),(e=this.val())<this.min||e>this.max?this.host.addClass("jqx-input-invalid"):this.host.removeClass("jqx-input-invalid"),this._updateHint()},_getSeparatorPosition:function(){var e=this._getHiddenPrefixCount();return 0<this.decimalSeparatorPosition?this.decimalSeparatorPosition-e:this.items.length-e},_setTheme:function(){this.host.removeClass(),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons&&(this.downbutton.removeClass(),this.upbutton.removeClass(),this.downbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this.upbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this._upArrow.removeClass(),this._downArrow.removeClass(),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),this.numberInput.removeClass(),this.numberInput.addClass(this.toThemeProperty("jqx-input-content"))},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&e._render()},propertyChangedHandler:function(e,t,i,s){if(!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){if("template"==t&&(e.upbutton.removeClass(e.toThemeProperty("jqx-"+e.template)),e.downbutton.removeClass(e.toThemeProperty("jqx-"+e.template)),e.upbutton.addClass(e.toThemeProperty("jqx-"+e.template)),e.downbutton.addClass(e.toThemeProperty("jqx-"+e.template))),("digits"==t||"groupSize"==t||"decimalDigits"==t)&&s<0)throw new Exception(this.invalidArgumentExceptions[0]);var r,n;if("placeHolder"==t&&(e.isMaterialized()?e.hint&&(e.label[0].innerHTML=e.placeHolder):e.numberInput.attr("placeholder",e.placeHolder)),"theme"===t&&b.jqx.utilities.setTheme(i,s,e.host),"digits"==t&&s!=i&&(e.digits=parseInt(s)),"min"!=t&&"max"!=t||(b.jqx.aria(e,"aria-value"+t,s.toString()),e._refreshValue()),"decimalDigits"==t&&s!=i&&(e.decimalDigits=parseInt(s)),"decimalSeparator"!=t&&"digits"!=t&&"symbol"!=t&&"symbolPosition"!=t&&"groupSize"!=t&&"groupSeparator"!=t&&"decimalDigits"!=t&&"negativeSymbol"!=t||(r=e.decimal,i!=(s="decimalSeparator"==t&&""==s?" ":s)&&(n=e._selection(),e.items=new Array,e._initializeLiterals(),e.value=e._getString(),e._refreshValue(),e._setDecimal(r))),"rtl"==t&&(e.rtl?(e.spincontainer&&(e.spincontainer.css("float","right"),e.spincontainer.css("border-right-width","1px")),e.numberInput.css("float","right")):(e.spincontainer&&(e.spincontainer.css("float","right"),e.spincontainer.css("border-right-width","1px")),e.numberInput.css("float","left"))),"spinButtons"==t&&(e.spincontainer?(s?e.spincontainer.css("display","block"):e.spincontainer.css("display","none"),e._render()):e._spinButtons()),"touchMode"===t&&(e.inputMode="textbox",e.spinMode="simple",e.render()),"negative"==t&&"advanced"==e.inputMode&&(n=e._selection(),i=0,i=s?(e.items[0].character=e.negativeSymbol[0],1):(e.items[0].character="",-1),e._refreshValue(),e.isInitialized&&e._setSelection(n.start+i,n.end+i)),"decimal"==t&&(e.value=s,e.setDecimal(s)),"value"===t&&(e.value=s,e.setDecimal(s),e._raiseEvent(1,s)),"textAlign"==t&&(e.textAlign=s,e._render()),"disabled"==t&&(e.numberInput.attr("disabled",s),e.disabled?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),b.jqx.aria(e,"aria-disabled",s.toString())),"readOnly"==t&&(e.readOnly=s),"promptChar"==t){for(var o=0;o<e.items.length;o++)e.items[o].character==e.promptChar&&(e.items[o].character=s);e.promptChar=s}"width"==t?(e.width=s,e._render()):"height"==t&&(e.height=s,e._render())}},_refreshValue:function(){this.value;if("textbox"!==this.inputMode){this.value=this._getString();for(var e=this.value,t="",i=0;i<this.items.length;i++){var s=this.items[i];s.canEdit&&s.character!=this.promptChar&&(t+=s.character),i==this.decimalSeparatorPosition&&(t+=".")}this.decimal=t;var r=!1;this.oldValue!==e&&(this.oldValue=e,this._raiseEvent(0,e),r=!0),"simple"!=this.inputMode&&(this.numberInput.val(e),r&&this._raiseEvent(1,e)),null==e&&this.numberInput.val("")}}})}(jqxBaseFramework),!function(h){h.jqx.jqxWidget("jqxPanel","",{}),h.extend(h.jqx._jqxPanel.prototype,{defineInstance:function(){var e={width:null,height:null,disabled:!1,scrollBarSize:h.jqx.utilities.scrollBarSize,sizeMode:"fixed",autoUpdate:!1,autoUpdateInterval:500,touchMode:"auto",horizontalScrollBarMax:null,verticalScrollBarMax:null,touchModeStyle:"auto",rtl:!1,focused:!1,events:["layout"]};return this===h.jqx._jqxPanel.prototype||h.extend(!0,this,e),e},createInstance:function(e){this.render()},render:function(){15!=h.jqx.utilities.scrollBarSize&&(this.scrollBarSize=h.jqx.utilities.scrollBarSize),this.host.addClass(this.toThemeProperty("jqx-panel")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all"));if(!this.host.jqxButton)throw new Error("jqxPanel: Missing reference to jqxbuttons.js.");if(!this.host.jqxScrollBar)throw new Error("jqxPanel: Missing reference to jqxscrollbar.js.");var e=this.host.children(),e=(this._rtl=!1,0<e.length&&"rtl"==e.css("direction")&&(this.rtl=!0,this._rtl=!0),this.host.wrapInner("<div id='panelWrapper' style='overflow: hidden; width: 100%; height: 100%; background-color: transparent; -webkit-appearance: none; outline: none; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='panelContent' style='-webkit-appearance: none; -moz-box-sizing: border-box; box-sizing: border-box; width: 100%; height: 100%; outline: none; border: none; padding: 0px; position: absolute; margin: 0px; align:left; valign:top; left: 0px; top: 0px;'></div><div id='verticalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div>"),this.host.find("#verticalScrollBar")),e=(e[0].id=this.element.id+"verticalScrollBar",this.vScrollBar=e.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme}),this.host.find("#horizontalScrollBar")),r=(e[0].id=this.element.id+"horizontalScrollBar",this.hScrollBar=e.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme}),this.content=this.host.find("#panelContent"),this.wrapper=this.host.find("#panelWrapper"),this.content.addClass(this.toThemeProperty("jqx-widget-content")),this.wrapper[0].id=this.wrapper[0].id+this.element.id,this.content[0].id=this.content[0].id+this.element.id,this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-panel-bottomright")).addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),this.bottomRight[0].id="bottomRight"+this.element.id,this.vScrollBar.css("visibility","inherit"),this.hScrollBar.css("visibility","inherit"),this.vScrollInstance=h.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=h.data(this.hScrollBar[0],"jqxScrollBar").instance,this);this.propertyChangeMap.disabled=function(e,t,i,s){r.vScrollBar.jqxScrollBar({disabled:r.disabled}),r.hScrollBar.jqxScrollBar({disabled:r.disabled})},this.vScrollBar.jqxScrollBar({disabled:this.disabled}),this.hScrollBar.jqxScrollBar({disabled:this.disabled}),this._addHandlers(),null==this.width&&(this.width=this.content.width()),null==this.height&&(this.height=this.content.height()),this._arrange(),this.contentWidth=r.content[0].scrollWidth,this.contentHeight=r.content[0].scrollHeight,this.autoUpdate&&r._autoUpdate(),this.propertyChangeMap.autoUpdate=function(e,t,i,s){r.autoUpdate?r._autoUpdate():(clearInterval(r.autoUpdateId),r.autoUpdateId=null)},this.addHandler(h(window),"unload",function(){null!=r.autoUpdateId&&(clearInterval(r.autoUpdateId),r.autoUpdateId=null,r.destroy())}),this._updateTouchScrolling(),this._render()},hiddenParent:function(){return h.jqx.isHidden(this.host)},_updateTouchScrolling:function(){var i=this;1==this.touchMode&&h.jqx.mobile.setMobileSimulator(this.element),this.isTouchDevice()&&(h.jqx.mobile.touchScroll(this.element,i.vScrollInstance.max,function(e,t){"hidden"!=i.vScrollBar.css("visibility")&&null!=t&&(i.vScrollInstance.value,i.vScrollInstance.setPosition(t)),"hidden"!=i.hScrollBar.css("visibility")&&null!=e&&(i.hScrollInstance.value,i.hScrollInstance.setPosition(e))},this.element.id,this.hScrollBar,this.vScrollBar),this._arrange()),this.vScrollBar.jqxScrollBar({touchMode:this.touchMode}),this.hScrollBar.jqxScrollBar({touchMode:this.touchMode})},isTouchDevice:function(){var e=h.jqx.mobile.isTouchDevice();return 1==this.touchMode?e=!0:0==this.touchMode&&(e=!1),e&&0!=this.touchModeStyle&&(this.scrollBarSize=h.jqx.utilities.touchScrollBarSize),e},append:function(e){null!=e&&(this.content.append(e),this._arrange())},setcontent:function(e){this.content[0].innerHTML=e,this._arrange();var t=this;setTimeout(function(){t._arrange()},100)},prepend:function(e){null!=e&&(this.content.prepend(e),this._arrange())},clearcontent:function(){this.content.text(""),this.content.children().remove(),this._arrange()},remove:function(e){null!=e&&(h(e).remove(),this._arrange())},_autoUpdate:function(){var s=this;this.autoUpdateId=setInterval(function(){var e=s.content[0].scrollWidth,t=s.content[0].scrollHeight,i=!1;s.contentWidth!=e&&(s.contentWidth=e,i=!0),s.contentHeight!=t&&(s.contentHeight=t,i=!0),i&&s._arrange()},this.autoUpdateInterval)},_addHandlers:function(){var t=this;this.addHandler(this.vScrollBar,"valueChanged",function(e){t._render(t)}),this.addHandler(this.hScrollBar,"valueChanged",function(e){t._render(t)}),this.addHandler(this.host,"mousewheel",function(e){t.wheel(e,t)}),this.addHandler(this.wrapper,"scroll",function(e){0!=t.wrapper[0].scrollTop&&(t.wrapper[0].scrollTop=0),0!=t.wrapper[0].scrollLeft&&(t.wrapper[0].scrollLeft=0)}),this.addHandler(this.host,"mouseleave",function(e){t.focused=!1}),this.addHandler(this.host,"focus",function(e){t.focused=!0}),this.addHandler(this.host,"blur",function(e){t.focused=!1}),this.addHandler(this.host,"mouseenter",function(e){t.focused=!0}),h.jqx.utilities.resize(this.host,function(){h.jqx.isHidden(t.host)||t._arrange(!1)})},resize:function(e,t){this.width=e,this.height=t,this._arrange(!1)},_removeHandlers:function(){this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.wrapper,"scroll"),this.removeHandler(h(window),"resize."+this.element.id)},wheel:function(e,t){var i=0;if(e.originalEvent&&h.jqx.browser.msie&&e.originalEvent.wheelDelta&&(i=e.originalEvent.wheelDelta/120),(e=e||window.event).wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i)return(t=t._handleDelta(i))||e.preventDefault&&e.preventDefault(),t&&!1;e.preventDefault&&e.preventDefault(),e.returnValue=!1},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value+e.largestep<=e.max?(e.setPosition(e.value+e.largestep),!0):e.value+e.largestep!=e.max&&(e.setPosition(e.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value-e.largestep!=e.min&&(e.setPosition(e.min),!0)},_handleDelta:function(e){if(this.focused){var t=this.vScrollInstance.value;if(e<0?this.scrollDown():this.scrollUp(),t!=this.vScrollInstance.value)return!1}return!0},_render:function(e){var t=(e=null==e?this:e).vScrollInstance.value,i=e.hScrollInstance.value;this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(i=0==this._rtl?e.hScrollInstance.max-i:-e.hScrollInstance.value),e.content.css({left:-i+"px",top:-t+"px"})},scrollTo:function(e,t){null!=e&&null!=t&&(this.vScrollInstance.setPosition(t),this.hScrollInstance.setPosition(e))},getScrollHeight:function(){return this.vScrollInstance.max},getVScrollPosition:function(){return this.vScrollInstance.value},getScrollWidth:function(){return this.hScrollInstance.max},getHScrollPosition:function(){return this.hScrollInstance.value},_getScrollSize:function(){var e=this.scrollBarSize;return isNaN(e)&&(e=parseInt(e),isNaN(e)?e="17px":e+="px"),this.isTouchDevice()&&(e=h.jqx.utilities.touchScrollBarSize),e=parseInt(e)},_getScrollArea:function(){var e=0,t=(this.content.css("margin-right","0px"),this.content.css("max-width","9999999px"),h.jqx.browser.msie&&h.jqx.browser.version<10&&(e=parseInt(this.content.css("left")),this.content.css("left",0)),this.content.css("overflow","auto"),this.rtl&&this.content.css("direction","rtl"),parseInt(this.content[0].scrollWidth)),i=(h.each(this.content.children(),function(){t=Math.max(t,this.scrollWidth),t=Math.max(t,h(this).outerWidth())}),h.jqx.browser.msie&&h.jqx.browser.version<10&&this.content.css("left",e),parseInt(this.content[0].scrollHeight));if(this.content.css("overflow","visible"),h.jqx.browser.msie&&h.jqx.browser.version<9){i=parseInt(this.content[0].scrollHeight);switch(this.sizeMode){case"wrap":i=parseInt(this.content[0].scrollHeight),t=parseInt(this.content[0].scrollWidth);break;case"horizontalWrap":case"horizontalwrap":break;case"verticalWrap":case"verticalwrap":i=parseInt(this.content[0].scrollHeight)}}return this.rtl&&this.content.css("direction","ltr"),{width:t,height:i}},_arrange:function(e){!1!==e&&(null!=this.width&&this.host.width(this.width),null!=this.height&&this.host.height(this.height));function t(e,t){5<t?(e.vScrollBar.jqxScrollBar({max:t}),e.vScrollBar.css("visibility","inherit")):(e.vScrollBar.jqxScrollBar("setPosition",0),e.vScrollBar.css("visibility","hidden"))}function i(e,t){!(0<t)||h.jqx.browser.msie&&h.jqx.browser.version<8&&t-10<=s?(e.hScrollBar.css("visibility","hidden"),e.hScrollBar.jqxScrollBar("setPosition",0)):(e.hScrollBar.jqxScrollBar({max:t+4}),e.hScrollBar.css("visibility","inherit"))}var s=this._getScrollSize(),r=this.host.width(),n=this.host.height(),e=this._getScrollArea(),o=e.width,a=e.height,l=a-parseInt(Math.round(this.host.height())),d=o-parseInt(Math.round(this.host.width()));null!=this.horizontalScrollBarMax&&(d=this.horizontalScrollBarMax),null!=this.verticalScrollBarMax&&(l=this.verticalScrollBarMax);switch(this.sizeMode){case"wrap":return this.host.width(o),this.host.height(a),this.vScrollBar.css("visibility","hidden"),void this.hScrollBar.css("visibility","hidden");case"horizontalWrap":case"horizontalwrap":return this.host.width(o),this.hScrollBar.css("visibility","hidden"),t(this,l),void this._arrangeScrollbars(s,o,n);case"verticalWrap":case"verticalwrap":return this.host.height(a),this.vScrollBar.css("visibility","hidden"),i(this,d),void this._arrangeScrollbars(s,r,n)}t(this,l);"hidden"!=this.vScrollBar.css("visibility")&&null==this.horizontalScrollBarMax&&(!this.isTouchDevice()&&0<d||0<d)&&(d+=s+2),i(this,d),"hidden"!=this.hScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar({max:l+s+2}),this._arrangeScrollbars(s,r,n)},_arrangeScrollbars:function(e,t,i){var s,r="hidden"!=this.vScrollBar[0].style.visibility;this.hScrollBar[0].style.visibility;this.hScrollBar.height(e),this.hScrollBar.css({top:i-e-2-2+"px",left:"0px"}),this.hScrollBar.width(t-2+"px"),this.vScrollBar.width(e),this.vScrollBar.height(parseInt(i)-2+"px"),this.vScrollBar.css({left:parseInt(t)-parseInt(e)-2-2+"px",top:"0px"}),this.rtl?(this.vScrollBar.css({left:"0px"}),r=r?parseInt(e)+"px":0,"rtl"!=this.content.children().css("direction")&&(s=!1,(s=h.jqx.browser.msie&&h.jqx.browser.version<8?!0:s)||this.content.css("padding-left",r))):"hidden"!=this.vScrollBar.css("visibility")&&this.content.css("max-width",this.host.width()-this.vScrollBar.outerWidth()),"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")?(this.bottomRight.css("visibility","inherit"),this.bottomRight.css({left:1+parseInt(this.vScrollBar.css("left")),top:1+parseInt(this.hScrollBar.css("top"))}),this.bottomRight.width(parseInt(e)+3),this.bottomRight.height(parseInt(e)+3),this.rtl&&(this.bottomRight.css({left:"0px"}),this.hScrollBar.css({left:e+2+"px"})),this.hScrollBar.width(t-+e-2-2+"px"),this.vScrollBar.height(parseInt(i)-2-e-2+"px")):this.bottomRight.css("visibility","hidden"),this.hScrollInstance.refresh(),this.vScrollInstance.refresh()},destroy:function(){clearInterval(this.autoUpdateId),this.autoUpdateId=null,this.autoUpdate=!1,h.jqx.utilities.resize(this.host,null,!0),this._removeHandlers(),this.removeHandler(h(window),"unload"),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.host.remove()},_raiseevent:function(e,t,i){if(null!=this.isInitialized&&1==this.isInitialized)return e=this.events[e],(e=new h.Event(e)).previousValue=t,e.currentValue=i,(e.owner=this).host.trigger(e)},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this.hScrollInstance.value=0,this._arrange(),this._render()},propertyChangedHandler:function(e,t,i,s){e.isInitialized&&("rtl"==t&&(this.vScrollBar.jqxScrollBar({rtl:s}),this.hScrollBar.jqxScrollBar({rtl:s}),e._arrange()),e.updating||"scrollBarSize"!=t&&"width"!=t&&"height"!=t||i!=s&&e._arrange(),"touchMode"==t&&"auto"!=s&&e._updateTouchScrolling(),"theme"==t&&(e.host.removeClass(),e.host.addClass(this.toThemeProperty("jqx-panel")),e.host.addClass(this.toThemeProperty("jqx-widget")),e.host.addClass(this.toThemeProperty("jqx-widget-content")),e.host.addClass(this.toThemeProperty("jqx-rc-all")),e.vScrollBar.jqxScrollBar({theme:this.theme}),e.hScrollBar.jqxScrollBar({theme:this.theme}),e.bottomRight.removeClass(),e.bottomRight.addClass(this.toThemeProperty("jqx-panel-bottomright")),e.bottomRight.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),e.content.removeClass(),e.content.addClass(this.toThemeProperty("jqx-widget-content"))))},invalidate:function(){h.jqx.isHidden(this.host)||this.refresh()},refresh:function(e){this._arrange()}})}(jqxBaseFramework),!function(l){l.jqx.jqxWidget("jqxPasswordInput","",{}),l.extend(l.jqx._jqxPasswordInput.prototype,{defineInstance:function(){var e={width:null,height:null,disabled:!1,rtl:!1,placeHolder:null,showStrength:!1,showStrengthPosition:"right",maxLength:null,minLength:null,showPasswordIcon:!0,strengthTypeRenderer:null,passwordStrength:null,changeType:null,hint:!0,value:"",localization:{passwordStrengthString:"Password strength",tooShort:"Too short",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong",showPasswordString:"Show Password"},strengthColors:{tooShort:"rgb(170, 0, 51)",weak:"rgb(170, 0, 51)",fair:"rgb(255, 204, 51)",good:"rgb(45, 152, 243)",strong:"rgb(118, 194, 97)"}};return this===l.jqx._jqxPasswordInput.prototype||l.extend(!0,this,e),e},createInstance:function(){this._inDOM=document.body.contains(this.element),this.render()},render:function(){var e,t,i=this,s=l.jqx.browser.browser,r=l.jqx.browser.version;this._browserCheck="msie"!=s||"7.0"!=r&&"8.0"!=r,this.widgetID=i.element.id;if("password"!=this.element.getAttribute("type"))throw"Invalid input type. Please set the type attribute of the input element to password.";this.input=this.element,""!==this.value&&(this.input.value=this.value),i.isMaterialized()&&((s=l("<div></div>")).addClass(i.toThemeProperty("jqx-input-group")),this.host.after(s),r=this.element,e=this.host.data(),s.append(r),r=l("<label></label"),this.hint&&(r[0].innerHTML=this.placeHolder),r.addClass(i.toThemeProperty("jqx-input-label")),s.append(r),t=l("<span></span>"),s.append(t),t.addClass(i.toThemeProperty("jqx-input-bar")),s[0].id=this.element.id,this.element.removeAttribute("id"),s[0].style.cssText=this.element.style.cssText,i.input=i.element,this.element.style.cssText="",this.bar=t,this.label=r,this.host=s,this.element=s[0],this.host.data(e),(i=this).template&&(i.bar.addClass(i.toThemeProperty("jqx-"+i.template)),i.label.addClass(i.toThemeProperty("jqx-"+i.template)))),i._hidden=!0,i._setTheme(),i._setAttributes(),i._showPassword(),i._showStrength(),this.host.data().jqxWidget=this,l.jqx.utilities.resize(this.host,function(){var e;if(!i._inDOM)return e=i.element.parentNode,i.element.nextSibling?e.insertBefore(i.icon,i.element.nextSibling):e.appendChild(i.icon),void(i._inDOM=!0);i.element!==document.activeElement&&!i.isMaterialized()||(i._positionIcon(),i.showStrength&&i.host.jqxTooltip("close"))})},refresh:function(e){var t=this;e||(t.removeHandler(t.host,"change.passwordinput"+t.widgetID),t.removeHandler(t.host,"focus.passwordinput"+t.widgetID),t.removeHandler(t.host,"blur.passwordinput"+t.widgetID),t.removeHandler(t.host,"click.passwordinput"+t.widgetID),t.removeHandler(t.host,"keyup.passwordinput"+t.widgetID),t.removeHandler(t.icon,"mousedown.passwordinput"+t.widgetID),t.removeHandler(l(document),"mouseup.passwordinput"+t.widgetID),t.removeHandler(l(document),"mousedown.passwordinput"+t.widgetID),t._setAttributes(),t._setTheme(),t._showPassword(),t._showStrength())},val:function(e){var t=this,i=t.input.value,s="placeholder"in t.input;if(l.isEmptyObject(e)&&""!==e)return i=s||i!==t.placeHolder?i:"";if(!s||e!==i){if(!s){if(""===e)return void(i!==t.placeHolder&&(t.input.value=t.placeHolder,t.input.setAttribute("type","text")));t.input.setAttribute("type","password")}t.input.value=e,this.value=e,s&&t.isMaterialized()&&t._refreshPlaceHolder(),!0===t.showStrength&&t._evaluateStrength()}},propertyChangedHandler:function(e,t,i,s){"theme"===t?l.jqx.utilities.setTheme(i,s,e.host):("value"===t&&(e.input.value=s),"disabled"==t?e.disabled?(e.element.setAttribute("disabled","disabled"),e.element.className+=" "+e.toThemeProperty("jqx-fill-state-disabled")):(e.host.removeAttr("disabled"),e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled"))):"placeHolder"==t?this._browserCheck&&("placeholder"in this.element?e.element.setAttribute("placeholder",e.placeHolder):""===e.input.value?(e.input.setAttribute("type","text"),e.input.value=s):e.input.value==i&&(e.input.value=s)):this.refresh())},resize:function(e,t){this.width=e,this.height=t,null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=this.width:null==this.width||isNaN(this.width)||(this.element.style.width=this.width+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=this.height:null==this.height||isNaN(this.height)||(this.element.style.height=this.height+"px")},_setAttributes:function(){var t=this,e=t.element,i=(null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=this.width:null==this.width||isNaN(this.width)||(this.element.style.width=this.width+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=this.height:null==this.height||isNaN(this.height)||(this.element.style.height=this.height+"px"),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.element.style.height=this.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.element.style.width=this.width),t.maxLength&&e.setAttribute("maxlength",t.maxLength),t.minLength&&e.setAttribute("minLength",t.minLength),t.placeHolder&&t._browserCheck&&("placeholder"in t.element?e.setAttribute("placeholder",t.placeHolder):""===e.value&&(e.setAttribute("type","text"),e.value=t.placeHolder)),t.disabled?(e.setAttribute("disabled","disabled"),e.className+=" "+this.toThemeProperty("jqx-fill-state-disabled")):(e.removeAttribute("disabled"),t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled"))),!1);t.addHandler(e,"change.passwordinput"+t.widgetID,function(e){i||(e.preventDefault(),e.stopPropagation(),i=!0,t._raiseEvent(),i=!1),t._refreshPlaceHolder()}),t.addHandler(e,"click.passwordinput"+t.widgetID,function(){t.showPasswordIcon&&t.icon&&(t.icon.style.display="inline",t._positionIcon())}),t.interval=null,t.addHandler(e,"keydown.passwordinput"+t.widgetID,function(){var e;t.changeType="keyboard",t.showPasswordIcon&&t.icon&&(t.interval&&clearInterval(t.interval),e=0,t.interval=setInterval(function(){"none"!=t.icon.style.display?(t._positionIcon(),5<++e&&clearInterval(t.interval)):clearInterval(t.interval)},100))}),t.addHandler(e,"focus.passwordinput"+t.widgetID,function(){t._focused=!0,e.className+=" "+t.toThemeProperty("jqx-fill-state-focus"),!t.placeHolder||!t._browserCheck||"placeholder"in t.element||e.value!=t.placeHolder||(e.value="",t._hidden&&e.setAttribute("type","password")),0<t.val().length&&t.showStrength&&t.host.jqxTooltip("content")&&t.host.jqxTooltip("open"),t.showPasswordIcon&&t.icon&&(t.icon.style.display="inline",t._positionIcon())}),t.addHandler(e,"blur.passwordinput"+t.widgetID,function(){t._focused=!1,t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),!t.placeHolder||!t._browserCheck||"placeholder"in t.input||""!==e.value||(t.input.value=t.placeHolder,t.input.setAttribute("type","text")),t.showPasswordIcon&&t._browserCheck&&(!1===t.rtl?t.host.removeClass(t.toThemeProperty("jqx-passwordinput-password-icon-ltr")):t.host.removeClass(t.toThemeProperty("jqx-passwordinput-password-icon-rtl"))),t.showStrength&&t.host.jqxTooltip("close"),t.showPasswordIcon&&t.icon&&(t.icon.style.display="none")})},_refreshPlaceHolder:function(){var e=this;e.isMaterialized()||("placeholder"in this.input&&!(l.jqx.browser.msie&&l.jqx.browser.version<9)?e.input.setAttribute("placeHolder",e.placeHolder):""===e.input.value&&(e.input.value=e.placeHolder)),""!==e.input.value?e.element.setAttribute("hint",!0):e.element.removeAttribute("hint"),e.label&&(e.label.innerHTML=e.placeHolder)},destroy:function(){this.host.jqxTooltip&&this.host.jqxTooltip("destroy"),this.host.remove()},_setTheme:function(){var e="jqx-widget jqx-widget-content jqx-input jqx-input-widget jqx-rc-all";this.rtl?(e+=" jqx-rtl",this.element.style.direction="rtl"):(this.host.removeClass(this.toThemeProperty("jqx-rtl")),this.element.style.direction="ltr"),this.element.className+=" "+this.toThemeProperty(e)},_showPassword:function(){var e,t,i,s,r,n;this.showPasswordIcon&&this._browserCheck&&(e=this,t=document.createElement("span"),i=".passwordinput"+e.widgetID,t.setAttribute("tabindex",-1),t.setAttribute("hasfocus",!1),t.setAttribute("title",e.localization.showPasswordString),t.style.position="absolute",t.style.display="none",t.className=e.toThemeProperty("jqx-passwordinput-password-icon"),(s=e.element.parentNode)&&(e.element.nextSibling?s.insertBefore(t,e.element.nextSibling):s.appendChild(t)),e.icon=t,e._positionIcon(),r=function(){e.element.setAttribute("type","password"),e.input&&e.input.setAttribute("type","password"),e._hidden=!0},n=function(){!1===e._hidden?r():e._hidden&&(e.element.setAttribute("type","text"),e.input&&e.input.setAttribute("type","text"),e._hidden=!1)},l.jqx.mobile.isTouchDevice()?e.addHandler(e.icon,"mousedown"+i,function(){return n(),!1}):(e.addHandler(e.icon,"mousedown"+i,function(){return n(),!1}),e.addHandler(l(document),"mouseup"+i,function(){return r(),!1}),e.addHandler(l(document),"mousedown"+i,function(){e._focused&&r()})))},_positionIcon:function(){var e=this.host.offset(),t=this.element.offsetWidth,i=this.element.offsetHeight,s=l(this.icon);this.rtl?s.offset({top:parseInt(e.top+i/2-5,10),left:e.left+2}):s.offset({top:parseInt(e.top+i/2-5,10),left:e.left+t-18})},_showStrength:function(){var e=this;if(e.showStrength){if(!e.host.jqxTooltip)throw new Error("jqxPasswordInput: Missing reference to jqxtooltip.js");var t,i,s=e.widgetID+"Strength",r=s+"Value",s=s+"Indicator";t=e.strengthTypeRenderer?(t=e.input.value,"placeholder"in e.input||!e._browserCheck||t!=e.placeHolder||(t=""),e._countCharacters(),i=e.localization.tooShort,e.strengthTypeRenderer(t,{letters:e.letters,numbers:e.numbers,specialKeys:e.specials},i)):'<div style="width: 220px;"><div><span style="font-weight: bold;">'+e.localization.passwordStrengthString+': </span><span id="'+r+'"></span></div><div id="'+s+'"></div></div>',e.host.jqxTooltip({theme:e.theme,position:e.showStrengthPosition,content:t,trigger:"none",autoHide:!1,rtl:e.rtl}),e.strengthTypeRenderer||(i=document.getElementById(s),document.getElementById(r).innerHTML=e.localization.tooShort,i.className+=" jqx-passwordinput-password-strength-inicator",i.style.backgroundColor=e.strengthColors.tooShort,!1===e.rtl?i.style.float="left":i.style.float="right"),e._checkStrength()}},_checkStrength:function(){var e=this;e.addHandler(e.host,"keyup.passwordinput"+e.widgetID,function(){e._evaluateStrength()})},_raiseEvent:function(){var e=new l.Event("change");return e.args={type:this.changeType},this.changeType=null,(e.owner=this).host.trigger(e)},_evaluateStrength:function(){var e,t=this,i=t.input.value,s=i.length,r=(t._countCharacters(),0<s&&t.showStrength&&!t.host.jqxTooltip("opened")&&t.host.jqxTooltip("open"),t.letters+t.numbers+2*t.specials+t.letters*t.numbers/2+s),n=s<8?t.localization.tooShort:r<20?t.localization.weak:r<30?t.localization.fair:r<40?t.localization.good:t.localization.strong;if(t.strengthTypeRenderer)e=t.strengthTypeRenderer(i,{letters:t.letters,numbers:t.numbers,specialKeys:t.specials},n),t.host.jqxTooltip({content:e});else{t.passwordStrength&&(e=t.passwordStrength(i,{letters:t.letters,numbers:t.numbers,specialKeys:t.specials},n),l.each(t.localization,function(){if(e==this)return n=e,!1})),document.getElementById(t.widgetID+"StrengthValue").innerHTML=n;var o,a,s=document.getElementById(t.widgetID+"StrengthIndicator");switch(n){case t.localization.tooShort:o="20%",a=t.strengthColors.tooShort;break;case t.localization.weak:o="40%",a=t.strengthColors.weak;break;case t.localization.fair:o="60%",a=t.strengthColors.fair;break;case t.localization.good:o="80%",a=t.strengthColors.good;break;case t.localization.strong:o="100%",a=t.strengthColors.strong}s.style.width=o,s.style.backgroundColor=a}},_countCharacters:function(){this.letters=0,this.numbers=0,this.specials=0;for(var e=this.input.value,t=e.length,i=0;i<t;i++){var s=e.charAt(i),r=e.charCodeAt(i);64<r&&r<91||96<r&&r<123||127<r&&r<155||159<r&&r<166?this.letters+=1:!1===isNaN(s)?this.numbers+=1:-1!="<>@!#$%^&*()_+[]{}?:;|'\"\\,./~`-=".indexOf(s)&&(this.specials+=1)}},_toPx:function(e){return"number"==typeof e?e+"px":e}})}(jqxBaseFramework),!function($){$.jqx.jqxWidget("jqxPivotDesigner","",{}),$.extend($.jqx._jqxPivotDesigner.prototype,{defineInstance:function(){var e={type:"pivotGrid",target:null,dataFields:null};return $.extend(!0,this,e),e},_instanceId:0,createInstance:function(e){this.element;var t,i=this.host,s=this,r=(this.target&&this.target.getInstance&&(this.target=this.target.getInstance()),[{widget:"jqxWindow",src:"jqxwindow.js"},{widget:"jqxButton",src:"jqxbuttons.js"},{widget:"jqxCheckBox",src:"jqxcheckbox.js"},{widget:"jqxInput",src:"jqxinput.js"},{widget:"jqxScrollBar",src:"jqxscrollbar.js"},{widget:"jqxListBox",src:"jqxlistbox.js"},{widget:"jqxDropDownList",src:"jqxdropdownlist.js"},{widget:"jqxDragDrop",src:"jqxdragdrop.js"}]);for(t in r)if(!window[r[t].widget])throw new Error("Please include "+r[t].src);this._isTouchDevice();var n="jqx-rc-all jqx-widget jqx-pivotgrid jqx-designer-host"+this.toThemeProperty("jqx-widget-content");i.append("<div class='"+n+"' style='width: 100%; height: 100%; overflow:hidden; onselectstart='return false;' oncontextmenu='return false;''><div class='labelFields jqx-widget' style='position: absolute;'>Pivot Table Fields</div><div class='labelFilters jqx-widget' style='position: absolute;'>Filters</div><div class='labelColumns jqx-widget' style='position: absolute;'>Columns</div><div class='labelRows jqx-widget' style='position: absolute;'>Rows</div><div class='labelValues jqx-widget' style='position: absolute;'>Values</div><div class='divFields' style='position: absolute;'></div><div class='divFilters' style='position: absolute;'></div><div class='divColumns' style='position: absolute;'></div><div class='divRows' style='position: absolute;'></div><div class='divValues' style='position: absolute;'></div></div>"),this._listBoxes={fields:s.host.find(".divFields"),rows:s.host.find(".divRows"),columns:s.host.find(".divColumns"),values:s.host.find(".divValues"),filters:s.host.find(".divFilters")},$.jqx.utilities.resize(s.host,function(){s._resize()},!1)},destroy:function(){$.jqx.utilities.resize(this.host,null,!0),this.target&&delete this.target._pivotDesigner},_getLocalizedString:function(e){var t=this.target?this.target._localizedStrings:{};switch(e){case"fields":return t.fieldslabel||"Pivot Fields";case"calculation":return t.calculation||"Calculation";case"filters":return t.filterslabel||"Filters";case"rows":return t.rowslabel||"Rows";case"columns":return t.columnslabel||"Columns";case"values":return t.valueslabel||"Values";case"of":return t.of||"of";case"to":return t.to||"to";case"move":return t.move||"Move";case"remove":return t.remove||"Remove";case"count":return t.count||"Count";case"sum":return t.sum||"Sum";case"average":return t.avgerage||"Average";case"product":return t.product||"Product";case"min":return t.min||"Min";case"max":return t.max||"Max"}return t[e]||e},_isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var e=$.jqx.mobile.isTouchDevice();if(this.touchDevice=e,1==this.touchmode){if($.jqx.browser.msie&&$.jqx.browser.version<9)return this.enablehover=!1;e=!0,$.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=e}else 0==this.touchmode&&(e=!1);return e&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),e},_resize:function(){for(var e=this._listBoxes,t=this.host,i=t.height()-10,s=t.width()-10,r=$("<span style='white-space:nowrap;'></span>"),n=(this.host.append(r),0),o=["fields","filters","rows","columns","values"],a=0;a<o.length;a++){r.text(this._getLocalizedString(o[a]));var l=r.height();n<l&&(n=l)}r.remove();var d=this.host.position(),h=d.left+5,d=d.top+5;d+=5;t.find(".labelFields").css({left:h,top:d,width:s-10,height:n});var i=(i-3*(n+10))/3,c=(s-5)/2;e.fields.css({left:h,top:d+=n,background:"white"}),e.fields.jqxListBox({width:s,height:i,allowDrop:!0,allowDrag:!0}),d+=10+i,t.find(".labelFilters").css({left:h,top:d,width:c,height:n}),t.find(".labelColumns").css({left:h+c+5,top:d,width:c,height:n}),e.filters.css({left:h,top:d+=n}),e.filters.jqxListBox({width:c,height:i}),e.columns.css({left:h+c+5,top:d}),e.columns.jqxListBox({width:c,height:i}),d+=10+i,t.find(".labelRows").css({left:h,top:d,width:c,height:n}),t.find(".labelValues").css({left:h+c+5,top:d,width:c,height:n}),d+=n,t.find(".divRows").css({left:h,top:d}),t.find(".divRows").jqxListBox({width:c,height:i}),t.find(".divValues").css({left:h+c+5,top:d}),t.find(".divValues").jqxListBox({width:c,height:i})},_setupListBoxes:function(){var e,s=this,t=(s.host,s._listBoxes);for(e in t){var i=t[e];i.off(),i.jqxListBox({allowDrag:!0,allowDrop:!0,renderer:function(e,t,i){return s._getCustomRendererElement(t,s._listBoxes.fields[0]!=this.host[0])}}).on("dragStart",function(e){t.rows.jqxListBox({dropAction:"copy"}),t.columns.jqxListBox({dropAction:"copy"}),t.filters.jqxListBox({dropAction:"copy"}),t.values.jqxListBox({dropAction:"copy"}),t.fields.jqxListBox({dropAction:"copy"})}).on("dragEnd",function(e){s._moveElement($(this),e.args.dropTargetElement,e.args.index,e.args.value)})}},_moveElement:function(e,t,i,s){var r=this,n=r._listBoxes;if(t){if(e[0]!=n.fields[0]&&e.jqxListBox("removeAt",i),t==n.fields[0])n.fields.jqxListBox("clear"),r._populateListBox(n.fields,r._allFields,"all");else{if(e[0]==n.fields[0]&&t==n.values[0]||(n.rows[0]!=t&&r._removeItem(n.rows,s),n.columns[0]!=t&&r._removeItem(n.columns,s)),t==n.values[0]){for(var o=n.values.jqxListBox("getItems"),a=0;a<o.length;a++)n.values.jqxListBox("updateAt",{label:o[a].label,value:$.extend({},o[a].value)},a);r._autoAssignAggregationFunctions()}r._removeDuplicates(n.rows),r._removeDuplicates(n.columns),r._removeDuplicates(n.filters)}r._updateCurrentSettings(),r._updateListBoxLabels();i=$(t).jqxListBox("width"),i=($(t).jqxListBox("width",i+1),$(t).jqxListBox("width",i-1),e.jqxListBox("width"));e.jqxListBox("width",i+1),e.jqxListBox("width",i-1),r._updateListBoxLabels(),r._refreshPivotGrid(r._targetCurrentSettings)}},refresh:function(){this.target&&(this.target._pivotDesigner=this),this._readPivotSettings(),this._setupListBoxes(),this._resize(),this._updateListBoxLabels()},_updateCurrentSettings:function(){var e,t=this._listBoxes,i=$.extend({},this._targetCurrentSettings),s={},r=["rows","columns","values","filters"];for(e in r)if(o=i[r[e]])for(var n=0;n<o.length;n++)s[h=o[n].dataField+"_"+(o[n].function||"")]=$.extend({},o[n]),delete s[h].dataField,delete s[h].text;for(e in i=$.extend({},this._targetInitSettings),r)if(o=i[r[e]])for(n=0;n<o.length;n++)s[h=o[n].dataField+"_"+(o[n].function||"")]=$.extend(s[h]||{},o[n]),delete s[h].dataField,delete s[h].text;for(e in t){var o=t[e].jqxListBox("getItems");i[e]=[];for(n=0;n<o.length;n++){var a=o[n].value.dataField,l=o[n].value.text,d="values"==e?o[n].value.function:void 0,l={dataField:a,text:l||a};d&&(l.function=d),l.text=this._getFieldLabel(d,a);var h,a=s[h=l.dataField+"_"+(d||"")];a&&$.extend(l,a),i[e].push(l)}}this._targetCurrentSettings=i},_refreshPivotGrid:function(e){var t=new $.jqx.pivot(this.target.source.dataAdapter,e),t=($(this.target.element).jqxPivotGrid({source:t}),$(this.target.element).jqxPivotGrid("getInstance"));t._pivotRows.autoResize(),t._pivotColumns.autoResize(),t.refresh(),this._targetCurrentSettings=e},_autoAssignAggregationFunctions:function(){for(var e=this.host.find(".divValues").jqxListBox("getItems"),t={},i=0;i<e.length;i++)e[i].value.function&&(t[e[i].value.dataField]||(t[e[i].value.dataField]={}),t[e[i].value.dataField][e[i].value.function]=!0);for(var s=this.target.source.getFunctions(),i=0;i<e.length;i++){var r=!1;if(!e[i].value.function){for(var n in t[e[i].value.dataField]||(t[e[i].value.dataField]={}),s)if(!t[e[i].value.dataField][n]){t[e[i].value.dataField][n]=!0,e[i].value.function=n,r=!0;break}if(!r)for(var n in s){e[i].value.function=n;break}}}},_updateListBoxLabels:function(){var e,n=this,o=(n.host.find(".pivot-designer-item-button").off(),n._listBoxes);for(e in o){var t=o[e],i=t.jqxListBox("getItems");if(i)for(var s=0;s<i.length;s++){var r=void 0;if("values"==e&&!(r=i[s].value.function))throw"Unspecified pivot aggregation function";i[s].label=n._getFieldLabel(r,i[s].value.dataField),t.jqxListBox("updateAt",{label:i[s].label,value:i[s].value},s)}}n.host.find(".pivot-designer-item-button").off(),n.host.find(".pivot-designer-item-button").on("click",function(e){for(var t in o)for(var i=o[t].jqxListBox("getItems"),s=0;s<i.length;s++){var r=$(i[s].element).find(".pivot-designer-item-button");if(0<r.length&&r[0]==this)return void n._showDesignerItemContextMenu(t,s)}})},_showDesignerItemContextMenu:function(e,t){if(!this._isWindowOpen()){var i={moveOperations:{}};for(s in this._listBoxes)s!=e&&(i.moveOperations[this._getLocalizedString("move")+" "+this._getLocalizedString("to")+" "+this._getLocalizedString(s)]={dropTarget:s});if("values"==e){var s,r={};for(s in this.target.source.getFunctions())r[this._getLocalizedString(s)]={function:s};i.functions=r}this._windowData={type:e,itemIndex:t,fieldSettings:i},"filters"==e?(this._filtersWindow||this._createFiltersWindow(),this._filtersWindow.jqxWindow("open"),this._updateFiltersWindowData()):(this._settingsWindow||this._createSettingsWindow(),this._settingsWindow.jqxWindow("open"),this._updateWindowData())}},_isWindowOpen:function(){return this._settingsWindow&&this._settingsWindow.jqxWindow("isOpen")||this._filtersWindow&&this._filtersWindow.jqxWindow("isOpen")},_getFieldLabel:function(e,t){if(e)return this._getValueFieldLabel(e,t);var i,s=this._targetInitSettings;for(i in s)if("values"!=i){var r,n=s[i];for(r in n)if(n[r].dataField==t&&n[r].text)return n[r].text}return t},_getValueFieldLabel:function(e,t){var i=this._getLocalizedString(e)||e,s=void 0,r=this._targetInitSettings;if(r.values)for(var n in r.values)if(r.values[n].dataField==t&&r.values[n].function==e&&null!=(s=r.values[n].text))break;return s||i+" "+this._getLocalizedString("of")+" "+t},_removeItem:function(e,t){for(var i=e.jqxListBox("getItems"),s=0,r=0;r<i.length;r++)e.jqxListBox("getItem",r).value.dataField==t.dataField&&(e.jqxListBox("removeAt",r-s),s++)},_getCustomRendererElement:function(e,t){return t?"<div><div style='width: 16px;height: 16px; float:left; margin-top: 1px;' class='pivot-designer-item-button jqx-pivotgrid-settings-icon'></div><div>"+e+"</div></div>":"<div><div style='height: 16px; float:left; margin-top: 2px;'></div><div>"+e+"</div></div>"},_readPivotSettings:function(){var e,t,i,s=this;function r(e,t,i){if(Array.isArray(e))for(var s=0;s<e.length;s++){var r=e[s].name||e[s].dataField;r&&0!=r.length&&(t[r]||(t[r]={text:r,dataField:r}),null!=e[s].text&&"values"!=i&&(t[r].text=e[s].text),t[r].function=e[s].function)}}!s.target||(t=s.target.source)&&(t=t.dataAdapter)&&(t=t._source)&&(s._targetCurrentSettings=$.extend({},s.target.source._initSettings),s._targetInitSettings=$.extend({},s.target.source._initSettings),e={},t={dataFields:this.dataFields,adapterDataFields:t.datafields,rows:s.target.source.rows,columns:s.target.source.columns,values:s.target.source.values,filters:s.target.source.filters},Array.isArray(t.dataFields)?r(t.dataFields,e):r(t.adapterDataFields,e),r(t.filters,e,"filters"),r(t.rows,e,"rows"),r(t.columns,e,"columns"),r(t.values,e,"values"),this._allFields=e,s.host,i=s._listBoxes,s._populateListBox(i.fields,e,"all"),s._populateListBox(i.filters,t.filters,"filters"),s._populateListBox(i.rows,t.rows,"rows"),s._populateListBox(i.columns,t.columns,"columns"),s._populateListBox(i.values,t.values,"values"))},_populateListBox:function(e,t,i){var s,r=[],n=0;for(s in t){var o=t[s].dataField,a=t[s].text||this._allFields[o].text||o;r[n]={text:a,value:{text:a,dataField:o,function:t[s].function||void 0}},"values"!=i&&(r[n].value.function=void 0),n++}e.jqxListBox({source:r,displayMember:"text",valueMember:"value"})},_removeDuplicates:function(e){for(var t=e.jqxListBox("getItems"),i={},s=0;s<t.length;s++){var r=t[s].label;null!=i[r]?(e.jqxListBox("removeAt",s),t.splice(s,1),s--):i[r]=!0}},_createSettingsWindow:function(){var i=this,e="<div id='pivotFieldSettingsWindow' style='width: 300px; height: 200px'><table style='width: 100%;'><tr><td style='height: 30px;'>"+i._getLocalizedString("move")+" "+i._getLocalizedString("to")+"</td><td><div style='width: 100%;' class='lbPivotFieldMoveTo'></div></td></tr><tr><td style='height: 30px;'>"+i._getLocalizedString("alignment")+"</td><td><div style='width: 100%;' class='lbAlignment'></div></td></tr><tr class='valueField'><td style='height: 30px;'>"+i._getLocalizedString("calculation")+"</td><td><div style='width: 100%;' class='lbCalculation'></div></td></tr><tr class='valueField'><td style='height: 30px;'>"+i._getLocalizedString("numberformat")+"</td><td></td></tr><tr class='valueField'><td style='height: 30px;'>"+i._getLocalizedString("cellalignment")+"</td><td><div style='width: 100%;' class='lbCellsAlignment'></div></td></tr><tr class='valueField'><td style='height: 30px;'>"+i._getLocalizedString("prefix")+"</td><td><input type='text' style='width: 100%;' class='txtPrefix'></input></td></tr><tr class='valueField'><td style='height: 30px;'>"+i._getLocalizedString("decimalplacestext")+"</td><td><input type='text' style='width: 100%;' class='txtDecimalPlaces'></input></td></tr><tr class='valueField'><td style='height: 30px;'>"+i._getLocalizedString("thousandsseparatortext")+"</td><td><input type='text' style='width: 100%;' class='txtThousandsSeparator'></input></td></tr><tr class='valueField'><td style='height: 30px;'>"+i._getLocalizedString("decimalseparatortext")+"</td><td><input type='text' style='width: 100%;' class='txtDecimalSeparator'></input></td></tr><tr class='valueField'><td style='height: 30px;'>"+i._getLocalizedString("nagativebracketstext")+"</td><td><div style='width: 100%;' class='checkBoxNagativeWithBrackets'></input></td></tr><tr><td style='height: 30px;' colspan=2 align=middle><input class='btnOk' type='button' value='"+i._getLocalizedString("ok")+"'></input><input class='btnCancel' style='margin-left: 10px;' type='button' value='"+i._getLocalizedString("cancel")+"'></input></td></tr></table>";i.host.append(e);i._settingsWindow=i.host.find("#pivotFieldSettingsWindow").jqxWindow({title:i._getLocalizedString("fieldsettings"),position:{x:0,y:0},showCollapseButton:!0,autoOpen:!1,minWidth:380,maxWidth:380,width:380,height:360,initContent:function(){i._updateWindowData();var e=i._settingsWindow.find(".btnCancel").jqxButton({width:80}),t=i._settingsWindow.find(".btnOk").jqxButton({width:80});e.on("click",function(){i._settingsWindow.jqxWindow("close")}),t.on("click",function(){i._applySettingsWindowChanges(),i._settingsWindow.jqxWindow("close")})}})},_applySettingsWindowChanges:function(){var e=this,t=e._windowData.itemIndex,i=e._windowData.type,s=e._listBoxes[i],r=s.jqxListBox("getItem",t),n=e._settingsWindow.find(".lbPivotFieldMoveTo").jqxDropDownList("selectedIndex");if(-1!=n){var o,a=void 0;for(o in e._windowData.fieldSettings.moveOperations)if(a=e._windowData.fieldSettings.moveOperations[o].dropTarget,-1==--n)break;var l=e._listBoxes[a],d=r.value;return l!=e._listBoxes.fields&&l.jqxListBox("addItem",{label:r.label,value:d}),void e._moveElement(s,l[0],t,d)}var h,l=e._settingsWindow.find(".lbAlignment").jqxDropDownList("getSelectedItem");e._targetCurrentSettings[i][t].align=l.value,delete e._targetCurrentSettings[i][t].function,"values"==i&&(l=e._settingsWindow.find(".lbCalculation").jqxDropDownList("getSelectedItem"),e._targetCurrentSettings[i][t].text=r.value.text=r.label=e._getFieldLabel(l.value,r.value.dataField),e._targetCurrentSettings[i][t].function=r.value.function=l.value,s.jqxListBox("updateAt",{label:r.value.text,value:r.value},t),e._updateListBoxLabels()),"values"==i&&(l=e._settingsWindow.find(".lbCellsAlignment").jqxDropDownList("getSelectedItem"),(h=e._targetCurrentSettings[i][t].formatSettings||{}).align=l.value,e._targetCurrentSettings[i][t].formatSettings=h),"values"==i&&(d=e._settingsWindow.find(".txtPrefix"),(h=e._targetCurrentSettings[i][t].formatSettings||{}).prefix=d.val(),e._targetCurrentSettings[i][t].formatSettings=h),"values"==i&&(s=e._settingsWindow.find(".txtDecimalPlaces"),(h=e._targetCurrentSettings[i][t].formatSettings||{}).decimalPlaces=s.val(),e._targetCurrentSettings[i][t].formatSettings=h),"values"==i&&(r=e._settingsWindow.find(".txtThousandsSeparator"),(h=e._targetCurrentSettings[i][t].formatSettings||{}).thousandsSeparator=r.val(),e._targetCurrentSettings[i][t].formatSettings=h),"values"==i&&(l=e._settingsWindow.find(".txtDecimalSeparator"),(h=e._targetCurrentSettings[i][t].formatSettings||{}).decimalSeparator=l.val(),e._targetCurrentSettings[i][t].formatSettings=h),"values"==i&&(d=e._settingsWindow.find(".checkBoxNagativeWithBrackets"),(h=e._targetCurrentSettings[i][t].formatSettings||{}).negativeWithBrackets=d.val(),e._targetCurrentSettings[i][t].formatSettings=h),e._refreshPivotGrid(e._targetCurrentSettings)},_updateWindowData:function(){for(var e=this,t=e._windowData.fieldSettings,i=e._listBoxes[e._windowData.type].jqxListBox("getItem",e._windowData.itemIndex).value,s=e.target.source[e._windowData.type],r=void 0,n=0;n<s.length;n++)if(s[n].dataField==i.dataField&&s[n].function==i.function){r=s[n];break}var o=[];for(n in t.moveOperations)o.push({text:n,value:t.moveOperations[n]});e._settingsWindow.find(".lbPivotFieldMoveTo").jqxDropDownList({source:o,displayMember:"text",selectedIndex:-1,valueMember:"value",autoDropDownHeight:!0});var a=o=[{text:e._getLocalizedString("left"),value:"left"},{text:e._getLocalizedString("center"),value:"center"},{text:e._getLocalizedString("right"),value:"right"}],l=0;if(r)for(var d=0;d<o.length;d++)if(o[d].value==r.align){l=d;break}e._settingsWindow.find(".lbAlignment").jqxDropDownList({source:o,selectedIndex:l,displayMember:"text",valueMember:"value",autoDropDownHeight:!0});var h=390;if(t.functions){var c=i.function,u=(e._settingsWindow.find(".valueField").show(),o=[],l=-1,0);for(n in t.functions){var p=t.functions[n].function;o.push({text:n,value:p}),c==p&&(l=u),u++}e._settingsWindow.find(".lbCalculation").jqxDropDownList({source:o,displayMember:"text",valueMember:"value",autoDropDownHeight:!0,selectedIndex:l}),o=a;var l=2,m="right";if(r){r.formatSettings&&r.formatSettings.align&&(m=r.formatSettings.align);for(d=0;d<o.length;d++)if(o[d].value==m){l=d;break}}e._settingsWindow.find(".lbCellsAlignment").jqxDropDownList({source:o,selectedIndex:l,displayMember:"text",valueMember:"value",autoDropDownHeight:!0});a="";r&&r.formatSettings&&null!=r.formatSettings.prefix&&(a=r.formatSettings.prefix);e._settingsWindow.find(".txtPrefix").jqxInput({value:a,height:23,width:195});a=2;try{r&&r.formatSettings&&null!=r.formatSettings.decimalPlaces&&(a=parseInt(r.formatSettings.decimalPlaces))}catch(e){a=2}e._settingsWindow.find(".txtDecimalPlaces").jqxInput({value:a,height:23,width:195});a=e._getLocalizedString("thousandsseparator");r&&r.formatSettings&&null!=r.formatSettings.thousandsSeparator&&(a=r.formatSettings.thousandsSeparator);e._settingsWindow.find(".txtThousandsSeparator").jqxInput({value:a,height:23,width:195});a=e._getLocalizedString("decimalseparator");r&&r.formatSettings&&null!=r.formatSettings.decimalSeparator&&(a=r.formatSettings.decimalSeparator);e._settingsWindow.find(".txtDecimalSeparator").jqxInput({value:a,height:23,width:195});a=!1;r&&r.formatSettings&&null!=r.formatSettings.negativeWithBrackets&&(a=1==r.formatSettings.negativeWithBrackets),e._settingsWindow.find(".checkBoxNagativeWithBrackets").jqxCheckBox({checked:a})}else h=160,e._settingsWindow.find(".valueField").hide();e._settingsWindow.jqxWindow({height:h})},_createFiltersWindow:function(){var i=this,e="<div id='pivotFieldFiltersWindow' style='width: 300px; height: 340px;'><div style='padding: 5; margin: 5; width: 100%; height: 100%;'><table style='width: 100%; height: 100%; margin:0; padding:0;' cellspacing=0; cellpadding=0><tr style='height: auto;'><td style='height: 100%;'><div style='padding: 0px; margin: 0px; display:inline-block;position:relative;' class='listBoxFilters'></div></td></tr><tr style='height: 5px;'><td></td></tr><tr style='height: 30px;'><td colspan=2 align=middle><input class='btnOk' type='button' value='"+i._getLocalizedString("ok")+"'></input><input class='btnCancel' style='margin-left: 10px;' type='button' value='"+i._getLocalizedString("cancel")+"'></input></td></tr></div></table>";i.host.append(e);i._filtersWindow=i.host.find("#pivotFieldFiltersWindow").jqxWindow({title:i._getLocalizedString("fieldsettings"),position:{x:0,y:0},showCollapseButton:!0,autoOpen:!1,minWidth:300,maxWidth:300,width:300,height:360,initContent:function(){i._updateFiltersWindowData();var e=i._filtersWindow.find(".btnCancel").jqxButton({width:80}),t=i._filtersWindow.find(".btnOk").jqxButton({width:80});e.on("click",function(){i._filtersWindow.jqxWindow("close")}),t.on("click",function(){i._applyFiltersWindowChanges(),i._filtersWindow.jqxWindow("close")})}})},_updateFiltersWindowData:function(){for(var e=this._windowData.fieldSettings,t=this._listBoxes[this._windowData.type].jqxListBox("getItem",this._windowData.itemIndex).value,i=this.target.source[this._windowData.type],s=void 0,r=0;r<i.length;r++)if(i[r].dataField==t.dataField&&i[r].function==t.function){s=i[r];break}var n=[];for(r in e.moveOperations)n.push({text:r,value:e.moveOperations[r]});var n=[],o=this.target.source.getItemsFilterStatus(s.dataField);for(r in o)n.push({label:r,value:o[r]});var a=this._filtersWindow.find(".listBoxFilters");a.jqxListBox({source:n,checkBoxes:!0,displayMember:"label",selectedIndex:-1,valueMember:"value",width:"100%",height:"100%"}),a.jqxListBox("beginUpdate"),a.jqxListBox("checkAll");for(r=0;r<n.length;r++)n[r].value&&a.jqxListBox("uncheckIndex",r);a.jqxListBox("endUpdate")},_applyFiltersWindowChanges:function(){for(var self=this,lbFilters=self._filtersWindow.find(".listBoxFilters"),items=lbFilters.jqxListBox("getItems"),uncheckedItems=[],i=0;i<items.length;i++)items[i].checked||uncheckedItems.push(items[i].label);for(var fn="filterFunction = function(value) {",i=0;i<uncheckedItems.length;i++)fn+="if (value == '"+uncheckedItems[i]+"') return true;";fn+="return false;",fn+="}";for(var itemIndex=self._windowData.itemIndex,itemType=self._windowData.type,source=self._listBoxes[itemType],item=source.jqxListBox("getItem",itemIndex),targetCurrentSettings=self._targetCurrentSettings,i=0;i<targetCurrentSettings.filters.length;i++)targetCurrentSettings.filters[i].dataField==item.value.dataField&&(targetCurrentSettings.filters[i].filterFunction=eval(fn));self._refreshPivotGrid(self._targetCurrentSettings)}})}(jqxBaseFramework),!function(u){u.jqx.pivot=function(e,t){var i=this;i.dataAdapter=e,i.rows=[],i.columns=[],i.values=[],i.filters=[],i.pivotValuesOnRows=!1,i.totals={rows:{subtotals:!1,grandtotals:!1},columns:{subtotals:!1,grandtotals:!1}},i.localization=null,i.aggregationFunctions={},i._initSettings={},u.extend(i.aggregationFunctions,i._defaultFunctions),t&&(i._initSettings=t,i.columns=t.columns||[],i.rows=t.rows||[],i.values=t.values||[],i.filters=t.filters||[],i.pivotValuesOnRows=t.pivotValuesOnRows||!1,i.totals=t.totals,i.localization=t.localization,u.extend(i.aggregationFunctions,t.customAggregationFunctions||{})),0===i.rows.length&&0<i.columns.length&&!1===i.pivotValuesOnRows&&(i.pivotValuesOnRows=!0),0===i.columns.length&&0<i.rows.length&&!1!==i.pivotValuesOnRows&&(i.pivotValuesOnRows=!1)},u.jqx.pivot.prototype={_clear:function(){this._pivot={rows:[],columns:[],values:[],groups:[],filters:[]},this._rowsHierarchy={items:{},valueItems:{}},this._columnsHierarchy={items:{},valueItems:{}},this._hashPivotItemsToTableRows={},this._hashRefItems={},this._hierarchyItemKeyIndex=0},_contains:function(e,t,i){if(!e)return!1;for(var s=0;s<e.length;s++)if(i?e[s]===t:e[s].dataField===t)return!0;return!1},_getFieldIndex:function(e,t){if(!e)return-1;for(var i=0;i<e.length&&e[i].name!==t;i++);return i===e.length?-1:i},dataBind:function(){if(this._clear(),this.dataAdapter){this.dataAdapter.dataBind();var e,t=["columns","rows","values","filters"];for(e in t)for(var i=t[e],s=0;s<this[i].length;s++){var r=this[i][s];if(r){var n=!1;if("values"!==i&&"filters"!==i){for(var o in t){o=t[o];if(i===o&&(n=this._contains(this._pivot[o],r.dataField)))break}if(n)continue}this._pivot[i].push(r)}}this._createPivot()}},_isRowSkipped:function(e){for(var t in this.filters){t=this.filters[t];if(u.isFunction(t.filterFunction)&&(t.dataField&&void 0!==e[t.dataField]&&t.filterFunction(e[t.dataField])))return!0}return!1},getItemsFilterStatus:function(e){for(var t={},i=this.dataAdapter.records,s=0;s<i.length;s++){var r=i[s][e];if(!t[r])for(var n in this.filters){var n=this.filters[n];n.dataField===e&&(n=u.isFunction(n.filterFunction)&&n.filterFunction(r),t[r]=n)}}return t},_createPivot:function(){if(0<this._pivot.values.length&&(0<this._pivot.rows.length||0<this._pivot.columns.length)){for(var e={},t={},i=(this.hashSummaryPrefixes={},this.dataAdapter.records),s=0;s<i.length;s++){var r=i[s];this._isRowSkipped(r)||(r=this.dataAdapter._source.datafields,this._appendPivotHierarchy(s,e,this._rowsHierarchy,r,this._pivot.rows,this.pivotValuesOnRows?this._pivot.values:null),this._appendPivotHierarchy(s,t,this._columnsHierarchy,r,this._pivot.columns,this.pivotValuesOnRows?null:this._pivot.values))}this._setupTotals(this._columnsHierarchy),this._setupTotals(this._rowsHierarchy)}},_setupTotals:function(e){var t;!this.totals||!(t=e===this._columnsHierarchy?this.totals.columns:this.totals.rows)||!0!==t.subtotals&&!0!==t.grandtotals||(this._addTotals(e.items,!1,t),e===this._columnsHierarchy==!this.pivotValuesOnRows&&this._addvalueItemsToTotals(e.items))},_addvalueItemsToTotals:function(e){for(var t in e){var i=e[t];if(i.isTotal){if(this._hashRefItems[i.key]){for(var s=this._hashRefItems[i.key].refItems,r=[],t=0;t<s.length;t++){for(var n=this._hashPivotItemsToTableRows[s[t].key],o=0;o<n.length;o++)r.push(n[o]);if(0===t)for(var a in i.valueItems={},s[t].valueItems){var l=s[t].valueItems[a],l={text:l.text,boundField:l.boundField,isTotal:!0,key:this._hierarchyItemKeyIndex++};i.valueItems[a]=l}}for(a in r.sort(function(e,t){return e-t}),i.valueItems)this._hashPivotItemsToTableRows[i.valueItems[a].key]=r;delete this._hashRefItems[i.key]}}else this._addvalueItemsToTotals(i.items)}},_clearTotals:function(e){for(var t in e){var i=e[t];i.isTotal?delete e[i]:this._clearTotals(e[t].items)}},_addTotals:function(e,t,i){if(void 0!==e){this._clearTotals(e);var s=[],r=0;for(h in e){var n=e[h];!0===i.subtotals&&this._addTotals(n.items,!0,i),s.push(n),r++}if(0!==r&&(t||1==i.grandtotals)){for(var o="_"+(t?"SubTotal":"Total")+"_",a=t?"SubTotal":"Total",l=this.localization,t=(l&&(a=t?u.jqx.getByPriority([l.subtotalstring,l.SubTotalString,a]):u.jqx.getByPriority([l.grandtotalstring,l.GrandTotalString,a])),this._hierarchyItemKeyIndex++),l=e[o]={text:a,key:t},d=[],h=0;h<s.length;h++)for(var c=0;c<this._hashPivotItemsToTableRows[s[h].key].length;c++)d.push(this._hashPivotItemsToTableRows[s[h].key][c]);this._hashRefItems[t]={item:l,refItems:s},this._hashPivotItemsToTableRows[t]=d.sort(function(e,t){return e-t}),l.isTotal=!0}}},_appendPivotHierarchy:function(e,t,i,s,r,n){var o=[],a="",l=this.dataAdapter.records[e];if(!this._getBoundFieldsValues(l,r,o))return!1;a.substring(0,a.length);var d=null;if(0==o.length&&null!=n)return this._attachValueFieldAsSummaryItem(e,t,d,a,n),!0;for(var h=0;h<o.length;h++){var c=o[h];t[a=a+"!_$%^&_"+c]?d=t[a]:(d=null==d?i.items[c]={text:c}:(this._addSourceRecordToPivotItem(d.key,e),d.items||(d.items={}),d.items[c]={text:c}),this._applyBoundFieldProperties(r[h],d),(t[a]=d).key=this._hierarchyItemKeyIndex++),null==n||0==n.length?this._addSourceRecordToPivotItem(d.key,e):(this._addSourceRecordToPivotItem(d.key,e),null!=n&&this._attachValueFieldAsSummaryItem(e,t,d,a,n))}return!0},_attachValueFieldAsSummaryItem:function(e,t,i,s,r){for(var n=0;n<r.length;n++){var o=r[n],a=null,l=s+o.dataField+n;t[l]?a=t[l]:(a=null!=i?(i.valueItems||(i.valueItems={}),i.valueItems[o.dataField+n]={text:o.text||o.dataField}):(this.pivotValuesOnRows?this._rowsHierarchy:this._columnsHierarchy).valueItems[o.dataField+n]={text:o.text||o.dataField},(t[l]=a).key=this._hierarchyItemKeyIndex++),this._applyBoundFieldProperties(o,a),this._addSourceRecordToPivotItem(a.key,e)}},_applyBoundFieldProperties:function(e,t){(t.boundField=e).text&&(t.boundFieldText=e.text)},_addSourceRecordToPivotItem:function(e,t){var i=null;0<(i=this._hashPivotItemsToTableRows[e]||(this._hashPivotItemsToTableRows[e]=[])).length&&i[i.length-1]==t||i.push(t)},_sortedArrayIntersectAndDedup:function(e,t){for(var i=[],s=0,r=0;s<e.length&&r<t.length;)e[s]<t[r]?s++:(e[s]>t[r]||(0!=i.length&&i[i.length-1]==e[s]||i.push(e[s]),s++),r++);return i},_getBoundFieldValue:function(e,t){return null==t?null:e[t]},_getBoundFieldsValues:function(e,t,i){for(var s=0;s<t.length;s++){var r=e[t[s].dataField];void 0!==r&&i.push(r)}return!0},_internalDrillThroughPivotCell:function(e,t,i){e=this._hashPivotItemsToTableRows[e]||[],t=this._hashPivotItemsToTableRows[t]||[];return 0==e.length||0==t.length?[]:this._sortedArrayIntersectAndDedup(e,t)},drillThroughPivotCell:function(e,t){if(!e||void 0===e.key||!t||void 0===t.key)return[];var i=e.isTotal||t.isTotal;return this._internalDrillThroughPivotCell(e.key,t.key,i)},getFunctions:function(){return this.aggregationFunctions},_defaultFunctions:{count:function(e){return e.length},sum:function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i];return t},min:function(e){for(var t=1/0,i=0;i<e.length;i++)e[i]<t&&(t=e[i]);return t},max:function(e){for(var t=-1/0,i=0;i<e.length;i++)e[i]>t&&(t=e[i]);return t},average:function(e){var t=u.jqx.pivot.prototype._defaultFunctions.count(e);return 0==t?0:u.jqx.pivot.prototype._defaultFunctions.sum(e)/t},product:function(e){for(var t=0,i=0;i<e.length;i++)0==i?t=e[i]:t*=e[i];return t}},getCellValue:function(e,t){var i=this._getCellValueFromDataSource(e,t);if(isNaN(i))return"";e=(this.pivotValuesOnRows?e:t).boundField;return{value:i,formattedValue:this._formatValue(i,e.formatSettings,e.formatFunction)}},getCellFormatSettings:function(e,t){e=(this.pivotValuesOnRows?e:t).boundField;if(e)return e.formatSettings},_getCellValueFromDataSource:function(e,t){if(null==e)throw"Invalid rowItem";if(null==t)throw"Invalid columnItem";var i=e.isTotal||t.isTotal,s=this._internalDrillThroughPivotCell(e.key,t.key,i);if(0==s.length)return"";var r=(this.pivotValuesOnRows?e:t).boundField;if(null!=r){i=r.function||"count";"String"==typeof i&&(i=i.toLowerCase());try{for(var n=[],o=0;o<s.length;o++){var a=s[o],l=this.dataAdapter.records[a],d=this._getBoundFieldValue(l,r.dataField);n.push(parseFloat(d))}if("function"==typeof(i="string"==typeof i?this.aggregationFunctions[i]:i))return i(n)}catch(e){return NaN}return NaN}},_formatValue:function(e,t,i){if(null==e)return"";if(this._isObject(e)&&!this._isDate(e)&&!i)return"";if(i){if(!u.isFunction(i))return e.toString();try{return i(e)}catch(e){return e.message}}return this._isNumber(e)?this._formatNumber(e,t):this._isDate(e)?this._formatDate(e,t):t?(t.prefix||"")+e.toString()+(t.sufix||""):e.toString()},_isNumberAsString:function(e){if("string"!=typeof e)return!1;e=u.trim(e);for(var t=0;t<e.length;t++){var i=e.charAt(t);if(!("0"<=i&&i<="9"||","==i||"."==i)&&(("-"!=i||0!=t)&&!("("==i&&0==t||")"==i&&t==e.length-1)))return!1}return!0},_castAsDate:function(e,t){if(e instanceof Date&&!isNaN(e))return e;if("string"==typeof e){var i;if(t&&(i=u.jqx.dataFormat.parsedate(e,t),this._isDate(i)))return i;if(this._autoDateFormats){for(var s=0;s<this._autoDateFormats.length;s++)if(i=u.jqx.dataFormat.parsedate(e,this._autoDateFormats[s]),this._isDate(i))return i}else this._autoDateFormats=[];t=this._detectDateFormat(e);return t&&(i=u.jqx.dataFormat.parsedate(e,t),this._isDate(i))?(this._autoDateFormats.push(t),i):(i=new Date(e),this._isDate(i)&&-1==e.indexOf(":")&&i.setHours(0,0,0,0),i)}},_castAsNumber:function(e){return e instanceof Date&&!isNaN(e)?e.valueOf():("string"==typeof e&&(this._isNumber(e)?e=parseFloat(e):/[a-zA-Z]/.test(e)||null!=(t=new Date(e))&&(e=t.valueOf())),e);var t},_isNumber:function(e){return"number"==typeof(e="string"==typeof e&&this._isNumberAsString(e)?parseFloat(e):e)&&isFinite(e)},_isDate:function(e){return e instanceof Date&&!isNaN(e.getDate())},_isBoolean:function(e){return"boolean"==typeof e},_isObject:function(e){return e&&("object"==typeof e||u.isFunction(e))||!1},_formatDate:function(e,t){var i=e.toString();return t&&(t.dateFormat&&(i=u.jqx.dataFormat.formatDate(e,t.dateFormat)),i=(t.prefix||"")+i+(t.sufix||"")),i},_formatNumber:function(e,t){if(!this._isNumber(e))return e;var i=".",s="",r=(this.localization&&(i=this.localization.decimalSeparator||this.localization.decimalseparator||i,s=this.localization.thousandsSeparator||this.localization.thousandsseparator||s),(t=t||{}).decimalSeparator&&(i=t.decimalSeparator),t.thousandsSeparator&&(s=t.thousandsSeparator),t.prefix||""),n=t.sufix||"",o=t.decimalPlaces,a=(isNaN(o)&&(o=this._getDecimalPlaces([e],void 0,3)),t.negativeWithBrackets||!1),l=e<0,d=(l&&a&&(e*=-1),e.toString()),t=Math.pow(10,o),d=(Math.round(e*t)/t).toString();if(h=(d=isNaN(d)?"":d).lastIndexOf("."),0<o)for(h<0?h=(d+=i).length-1:"."!==i&&(d=d.replace(".",i));d.length-1-h<o;)d+="0";for(var h=-1<(h=d.lastIndexOf(i))?h:d.length,c=d.substring(h),u=0,p=h;0<p;p--,u++)u%3==0&&p!==h&&(!l||1<p||l&&a)&&(c=s+c),c=d.charAt(p-1)+c;return d=c,r+(d=l&&a?"("+d+")":d)+n},_getDecimalPlaces:function(e,t,i){var s=0;isNaN(i)&&(i=10);for(var r=0;r<e.length;r++){var n=void 0===t?e[r]:e[r][t];if(!isNaN(n)){for(var o=n.toString(),a=0;a<o.length;a++)if((o[a]<"0"||"9"<o[a])&&0<=(s=o.length-(a+1)))return Math.min(s,i);for(0<s&&(n*=Math.pow(10,s));Math.round(n)!=n&&s<i;)s++,n*=10}}return s},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_detectDateFormat:function(e,t){var i={en_US_d:"M/d/yyyy",en_US_D:"dddd, MMMM dd, yyyy",en_US_t:"h:mm tt",en_US_T:"h:mm:ss tt",en_US_f:"dddd, MMMM dd, yyyy h:mm tt",en_US_F:"dddd, MMMM dd, yyyy h:mm:ss tt",en_US_M:"MMMM dd",en_US_Y:"yyyy MMMM",en_US_S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",en_CA_d:"dd/MM/yyyy",en_CA_D:"MMMM-dd-yy",en_CA_f:"MMMM-dd-yy h:mm tt",en_CA_F:"MMMM-dd-yy h:mm:ss tt",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",de_DE_d:"dd.MM.yyyy",de_DE_D:"dddd, d. MMMM yyyy",de_DE_t:"HH:mm",de_DE_T:"HH:mm:ss",de_DE_f:"dddd, d. MMMM yyyy HH:mm",de_DE_F:"dddd, d. MMMM yyyy HH:mm:ss",de_DE_M:"dd MMMM",de_DE_Y:"MMMM yyyy",fr_FR_d:"dd/MM/yyyy",fr_FR_D:"dddd d MMMM yyyy",fr_FR_t:"HH:mm",fr_FR_T:"HH:mm:ss",fr_FR_f:"dddd d MMMM yyyy HH:mm",fr_FR_F:"dddd d MMMM yyyy HH:mm:ss",fr_FR_M:"d MMMM",fr_FR_Y:"MMMM yyyy",it_IT_d:"dd/MM/yyyy",it_IT_D:"dddd d MMMM yyyy",it_IT_t:"HH:mm",it_IT_T:"HH:mm:ss",it_IT_f:"dddd d MMMM yyyy HH:mm",it_IT_F:"dddd d MMMM yyyy HH:mm:ss",it_IT_M:"dd MMMM",it_IT_Y:"MMMM yyyy",ru_RU_d:"dd.MM.yyyy",ru_RU_D:"d MMMM yyyy '?.'",ru_RU_t:"H:mm",ru_RU_T:"H:mm:ss",ru_RU_f:"d MMMM yyyy '?.' H:mm",ru_RU_F:"d MMMM yyyy '?.' H:mm:ss",ru_RU_Y:"MMMM yyyy",cs_CZ_d:"d.M.yyyy",cs_CZ_D:"d. MMMM yyyy",cs_CZ_t:"H:mm",cs_CZ_T:"H:mm:ss",cs_CZ_f:"d. MMMM yyyy H:mm",cs_CZ_F:"d. MMMM yyyy H:mm:ss",cs_CZ_M:"dd MMMM",cs_CZ_Y:"MMMM yyyy",he_IL_d:"dd MMMM yyyy",he_IL_D:"dddd dd MMMM yyyy",he_IL_t:"HH:mm",he_IL_T:"HH:mm:ss",he_IL_f:"dddd dd MMMM yyyy HH:mm",he_IL_F:"dddd dd MMMM yyyy HH:mm:ss",he_IL_M:"dd MMMM",he_IL_Y:"MMMM yyyy",hr_HR_d:"d.M.yyyy.",hr_HR_D:"d. MMMM yyyy.",hr_HR_t:"H:mm",hr_HR_T:"H:mm:ss",hr_HR_f:"d. MMMM yyyy. H:mm",hr_HR_F:"d. MMMM yyyy. H:mm:ss",hr_HR_M:"d. MMMM",hu_HU_d:"yyyy.MM.dd.",hu_HU_D:"yyyy. MMMM d.",hu_HU_t:"H:mm",hu_HU_T:"H:mm:ss",hu_HU_f:"yyyy. MMMM d. H:mm",hu_HU_F:"yyyy. MMMM d. H:mm:ss",hu_HU_M:"MMMM d.",hu_HU_Y:"yyyy. MMMM",jp_JP_d:"gg y/M/d",jp_JP_D:"gg y'?'M'?'d'?'",jp_JP_t:"H:mm",jp_JP_T:"H:mm:ss",jp_JP_f:"gg y'?'M'?'d'?' H:mm",jp_JP_F:"gg y'?'M'?'d'?' H:mm:ss",jp_JP_M:"M'?'d'?'",jp_JP_Y:"gg y'?'M'?'",lt_LT_d:"yyyy.MM.dd",lt_LT_D:"yyyy 'm.' MMMM d 'd.'",lt_LT_t:"HH:mm",lt_LT_T:"HH:mm:ss",lt_LT_f:"yyyy 'm.' MMMM d 'd.' HH:mm",lt_LT_F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",lt_LT_M:"MMMM d 'd.'",lt_LT_Y:"yyyy 'm.' MMMM",sa_IN_d:"dd-MM-yyyy",sa_IN_D:"dd MMMM yyyy dddd",sa_IN_t:"HH:mm",sa_IN_T:"HH:mm:ss",sa_IN_f:"dd MMMM yyyy dddd HH:mm",sa_IN_F:"dd MMMM yyyy dddd HH:mm:ss",sa_IN_M:"dd MMMM",basic_y:"yyyy",basic_ym:"yyyy-MM",basic_d:"yyyy-MM-dd",basic_dhm:"yyyy-MM-dd hh:mm",basic_bhms:"yyyy-MM-dd hh:mm:ss",basic2_ym:"MM-yyyy",basic2_d:"MM-dd-yyyy",basic2_dhm:"MM-dd-yyyy hh:mm",basic2_dhms:"MM-dd-yyyy hh:mm:ss",basic3_ym:"yyyy/MM",basic3_d:"yyyy/MM/dd",basic3_dhm:"yyyy/MM/dd hh:mm",basic3_bhms:"yyyy/MM/dd hh:mm:ss",basic4_ym:"MM/yyyy",basic4_d:"MM/dd/yyyy",basic4_dhm:"MM/dd/yyyy hh:mm",basic4_dhms:"MM/dd/yyyy hh:mm:ss"},s=(t&&(i=u.extend({},i,t)),[]);for(o in u.isArray(e)?s=e:s.push(e),i)i[o]={format:i[o],count:0};for(var r=0;r<s.length;r++){var n=s[r];if(null!=n)for(var o in i)null!=u.jqx.dataFormat.parsedate(n,i[o].format)&&i[o].count++}var a={key:void 0,count:0};for(o in i)i[o].count>a.count&&(a.key=o,a.count=i[o].count);return a.key?i[a.key].format:""}}}(jqxBaseFramework),!function(d){d.jqx.jqxWidget("jqxPivotGrid","",{}),d.extend(d.jqx._jqxPivotGrid.prototype,{defineInstance:function(){var e={scrollBarsEnabled:!0,source:null,groupingColumns:[],isGroupingEnabled:!1,_offsetX:0,_offsetY:0,_currentPosition:{},_selectStartPosition:{},_isMouseLeftButtonDown:!1,_timeLastUp:new Date,_timeLastDown:new Date,resizeTooltipEnabled:!1,isHorizontalResize:!0,_colResizeState:"NO_RESIZE",activeEditor:{Editor:null},_id:0,_colItemRangeSelectionBeg:null,_colItemRangeSelectionEnd:null,_rowItemRangeSelectionBeg:null,_rowItemRangeSelectionEnd:null,_isCTRLPressed:!1,_internalSelectMode:"CELLS_SELECT",_mostRightItemBounds:{x:0,y:0,width:0,height:0},_mostLeftItemBounds:{x:0,y:0,width:0,height:0},_adjSelectedItemsSave:{},multipleSelectionEnabled:!0,selectionEnabled:!0,selectionMode:"CELLS_SELECT",treeStyleRows:!0,autoResize:!1,cellsRenderer:null,itemsRenderer:null,localization:null};return d.extend(!0,this,e),this._createPivotAreas(),e},_createPivotAreas:function(){this._pivotRows&&(this._pivotRows.clear(),delete this._pivotRows),this._pivotColumns&&(this._pivotColumns.clear(),delete this._pivotColumns),this._pivotCells&&(this._pivotCells._resetCanvas(),this._pivotCells.clear(),delete this._pivotCells),this._pivotRows=new d.jqx.jqxPivotGrid.pivotRows(this),this._pivotColumns=new d.jqx.jqxPivotGrid.pivotColumns(this),this._pivotCells=new d.jqx.jqxPivotGrid.pivotCells,this._pivotCells.parentPivotGrid=this},_instanceId:0,createInstance:function(e){this.element;var t=this.host,i=this,s=(i.localizeStrings(i.localization),"jqx-pivotgrid jqx-rc-all jqx-widget "+this.toThemeProperty("jqx-widget-content")),r="",s=(this._isTouchDevice()&&(r="class='jqx-grid-menu-item-touch'"),t.append("<div class='"+s+"' style='width:100%; height: 100%; overflow:hidden; position:relative; onselectstart='return false;' oncontextmenu='return false;''><div id='divContent' style='width:100px; height:100%;'></div><div id='divHScroll' style='width:100%; height:13px;'></div><div id='divVScroll' style='width:13px; height:100%;'></div><div id='divContextMenu'><ul><li "+r+"><div id='sortasc' class='jqx-pivotgrid-sortasc-icon'></div><span>"+i._localizedStrings.sortascendingstring+"</span></li><li "+r+"><div id='sortdesc' class='jqx-pivotgrid-sortdesc-icon'></div><span>"+i._localizedStrings.sortdescendingstring+"</span></li><li "+r+"><div id='sortremove' class='jqx-pivotgrid-sortremove-icon'></div><span>"+i._localizedStrings.sortremovestring+"</span></li></ul></div></div>"),t.find("#divContent")),r=(s[0],document.createElement("div"));r.style.position="relative",r.style.left="0px",r.style.top="0px",r.style.width="100%",r.style.height="100%",r.style.overflow="hidden",s.append(r),this.contentCanvas=this.Canvas=r,this.hostVScroll=t.find("#divVScroll"),this.hostHScroll=t.find("#divHScroll"),this.hScroll=t.find("#divHScroll").jqxScrollBar({vertical:!1,theme:this.theme}),this.vScroll=t.find("#divVScroll").jqxScrollBar({vertical:!0,theme:this.theme}),i._createContextMenu(),i.id=i._instanceId++,i._resizeLineId="divResizeLine"+i.id,d(document.body).append("<div id='"+i._resizeLineId+"' style='position: absolute; display: none;'></div>");try{i.dataBind()}catch(e){throw"Databinding exception: "+e.toString()}i._installEventHandlers(),d.jqx.utilities.resize(i.host,function(){i.refresh()},!1),i._isInitialized||(i._isInitialized=!0)},destroy:function(){this._isInitialized=!1,this.host.find("#divHScroll").off(),this.host.find("#divVScroll").off(),this._contextMenu.off(),this.removeHandler(this.host),d.jqx.utilities.resize(this.host,null,!0)},_installEventHandlers:function(){var i=this;i.hostVScroll.on("valueChanged",function(e){e.currentTarget==i.hostVScroll[0]&&i.onVScroll(e.currentValue)}),i.hostHScroll.on("valueChanged",function(e){e.currentTarget==i.hostHScroll[0]&&i.onHScroll(e.currentValue)}),i.addHandler(i.host,"mousewheel DOMMouseScroll",function(e){var t;i._isContextMenuOpen||i._pivotDesigner&&i._pivotDesigner._isWindowOpen()||(t=d.jqx.position(e),i.isPtInRect({x:t.left,y:t.top},i._rect)&&(e.preventDefault(),i._scrollBarPositions.vertical.visible&&i.onMouseWheel(e)))}),i.addHandler(i.host,"mouseenter",function(e){e.currentTarget==i.element&&i._onMouseEnter(e)}),i.addHandler(i.host,"mouseleave",function(e){e.currentTarget==i.element&&i._onMouseLeave(e)}),i.addHandler(i.host,"mousedown",function(e){i._isContextMenuOpen||i._pivotDesigner&&i._pivotDesigner._isWindowOpen()||(e.preventDefault(),i._onMouseDown(e),this.focus())}),i.addHandler(d(document),"mouseup",function(e){var t;i._isContextMenuOpen||i._pivotDesigner&&i._pivotDesigner._isWindowOpen()||(e.preventDefault(),i._onMouseUp(e),e.cancel||(t=d.jqx.position(e),!i.isPtInRect({x:t.left,y:t.top},i._rect)&&"RESIZING"!=i._colResizeState||i._onMouseClick(e)))}),i.addHandler(d(document),"mousemove",function(e){i._isContextMenuOpen||i._pivotDesigner&&i._pivotDesigner._isWindowOpen()||i._onMouseMove(e)}),i.addHandler(d(document),"keydown",function(e){i._isContextMenuOpen||i._pivotDesigner&&i._pivotDesigner._isWindowOpen()||i._isContextMenuOpen||(17==e.keyCode?i._isCTRLPressed=!0:16==e.keyCode?i._isSHIFTPressed=!0:i._handleKeyboardNavigation&&i._handleKeyboardNavigation(e))}),i.addHandler(d(document),"keyup",function(e){i._isContextMenuOpen||i._pivotDesigner&&i._pivotDesigner._isWindowOpen()||i._isContextMenuOpen||(17==e.keyCode?i._isCTRLPressed=!1:16==e.keyCode&&(i._isSHIFTPressed=!1))})},_createContextMenu:function(){for(var s=this,e=this.host.find("#divContextMenu"),t=(s._contextMenu=e.jqxMenu({width:"120px",autoCloseOnClick:!0,autoOpenPopup:!1,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0,theme:this.theme,keyboardNavigation:!1,mode:"popup"}),e.find("li")),i="",r=0;r<t.length;r++){var n=d(t[r]).text();n.length>i.length&&(i=n)}var o=d('<span style="white-space:nowrap;">'+i+"</span>"),a=(o.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(o),o.outerWidth()+30);o.remove(),s._contextMenu=e.jqxMenu({width:a}),s._contextMenu.on("shown",function(){s._isContextMenuOpen=!0}),s._contextMenu.on("closed",function(){s._isContextMenuOpen=!1,s._hideItemMenuElement()}),s._contextMenu.on("itemclick",function(e){e.stopImmediatePropagation(),e.stopPropagation();var t,i=s._menuElement._itemMouseOver;i&&(t=i.hierarchy==s._pivotColumns?s._pivotRows:s._pivotColumns,-1!=(e=e.args.innerHTML).indexOf("sortasc")?t.sortBy(i,"asc"):-1!=e.indexOf("sortdesc")?t.sortBy(i,"desc"):-1!=e.indexOf("sortremove")&&t.removeSort())})},_isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var e=d.jqx.mobile.isTouchDevice();if(this.touchDevice=e,1==this.touchmode){if(d.jqx.browser.msie&&d.jqx.browser.version<9)return this.enablehover=!1;e=!0,d.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=e}else 0==this.touchmode&&(e=!1);return e&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),e},propertyChangedHandler:function(e,t,i,s){null!=this._isInitialized&&0!=this._isInitialized&&("source"==t?this.dataBind():"theme"==t&&(this.hostVScrollBar.jqxScrollBar("theme",this.theme),this.hostHScrollBar.jqxScrollBar("theme",this.theme)),this._internalRefresh())},genId:function(){return this._id++},getCellId:function(e,t){return e.id+"_"+t.id},_scrollTimer:void 0,_renderOnTimeout:function(e){clearTimeout(this._scrollTimer);var t=this;0==e?(this._pivotColumns._refreshRequired=this._pivotRows._refreshRequired=!0,t._internalRefresh()):this._scrollTimer=setTimeout(function(){t._render()},e)},onVScroll:function(e){(e=Math.round(e))!=this._offsetY&&(this._offsetY=e,this._renderOnTimeout(0))},onHScroll:function(e){(e=Math.round(e))!=this._offsetX&&(this._offsetX=e,this._renderOnTimeout(0))},onMouseWheel:function(e){var t,i,s=0;(e=e||window.event).wheelDelta?s=e.wheelDelta/120:e.detail&&(s=-e.detail/3),s&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1,e=this.vScroll.jqxScrollBar("min"),t=this.vScroll.jqxScrollBar("max"),i=this.vScroll.jqxScrollBar("value"),this.vScroll.jqxScrollBar("value",i=(i=t<(i-=s*=10)?t:i)<e?e:i))},_onMouseMove:function(e){var t=d.jqx.position(e),i=t.left,s=t.top;if(this.isPtInRect({x:i,y:s},this._rect)||"RESIZING"==this._colResizeState){t=this.host.offset();if(i-=Math.round(t.left),s-=Math.round(t.top),i=Math.max(i,0),s=Math.max(s,0),this._currentPosition.x!=i||this._currentPosition.y!=s){for(var r in this._currentPosition.x=i,this._currentPosition.y=s,this._scrollBarPositions)if(this._scrollBarPositions[r].visible&&this.isPtInRect({x:i,y:s},this._scrollBarPositions[r].rect))return;this._handleMouseMove(e),this.activeEditor&&this.activeEditor.Editor}}},_onMouseEnter:function(e){},_onMouseLeave:function(e){this._hideItemMenuElement()},_onMouseDown:function(e){var t=this._itemHitTest(this._currentPosition,{isOnItemButton:!1});if(null!=t&&this._raisePivotItemMouseEvent(t,"pivotitemmousedown",0==e.button?"left":"right"))return void(e.cancel=!0);0==e.button?this.onMouseLeftButtonDown(e):2==e.button&&this.onMouseRightButtonDown(e)},_onMouseUp:function(e){var t=this._itemHitTest(this._currentPosition,{isOnItemButton:!1});if(null!=t&&this._raisePivotItemMouseEvent(t,"pivotitemmouseup",0==e.button?"left":"right"))return void(e.cancel=!0);0==e.button?this.onMouseLeftButtonUp(e):2==e.button&&this.onMouseRightButtonUp(e)},_onMouseClick:function(e){if(this._handleMouseClick(e),!e.cancel){if(this._dtLastMouseClick)if(new Date-this._dtLastMouseClick<500)return this._handleMouseDoubleClick(e),void(this._dtLastMouseClick=void 0);this._dtLastMouseClick=new Date}},setDivContent:function(e,t,i,s,r){var n=this.getChild(e,"innerDiv");n.style.padding=i.top+"px "+i.right+"px "+i.bottom+"px "+i.left+"px",s&&(n.style["text-align"]=s),this.setElementSize(e,parseFloat(e.style.width),parseFloat(e.style.height)),r&&(n.style.width=parseFloat(e.style.width)-i.left+"px"),n.innerHTML=t},setElementPosition:function(e,t,i){e.style.position="absolute",e.style.left=t+"px",e.style.top=i+"px"},_getFloat:function(e){for(var t,i=0;i<e.length;i++)if(t=parseFloat(e[i]),!isNaN(t))return t;return NaN},setElementSize:function(e,t,i){e.style.width=t+"px",e.style.height=i+"px";var s,r,n,o,e=this.getChild(e,"innerDiv");e&&(s=this._getFloat([e.style.padding.left,e.style.padding,0]),r=this._getFloat([e.style.padding.right,e.style.padding,0]),n=this._getFloat([e.style.padding.top,e.style.padding,0]),o=this._getFloat([e.style.padding.bottom,e.style.padding,0]),e.style.width=t-s-r+"px",e.style.height=i-n-o+"px")},createCanvas:function(e){var t=document.createElement("div");return t.style["background-color"]="transparent",t.style.overflow="hidden",e.appendChild(t),t},createDiv:function(e,t,i,s){var r=document.createElement("div"),t=(r.id=t,r.style.height=s+"px",r.style.width=i+"px",document.createElement("div"));return t.id="innerDiv",t.style.height=s+"px",t.style.width=i+"px",r.appendChild(t),e.appendChild(r),r},getPivotRows:function(){return this._pivotRows},getPivotColumns:function(){return this._pivotColumns},getPivotCells:function(){return this._pivotCells},_layout:function(){this.host.find("#divContent"),this.host.find("#divVScroll"),this.host.find("#divHScroll"),this.host.width(),this.host.height();this._pivotCells.Canvas||(this._pivotCells.Canvas=this.createCanvas(this.Canvas,"divCells",100,100)),this._pivotRows.Canvas||(this._pivotRows.Canvas=this.createCanvas(this.Canvas,"divRowsHierarchy",100,100)),this._pivotColumns.Canvas||(this._pivotColumns.Canvas=this.createCanvas(this.Canvas,"divColumnsHierarchy",100,100)),this._pivotRows.isHidden?this._pivotRows.Canvas.style.display="none":(this._pivotRows.Canvas.style.display="block",this.setElementPosition(this._pivotRows.Canvas,this._pivotRows.x,this._pivotRows.y),this.setElementSize(this._pivotRows.Canvas,this._pivotRows.getWidth()+1,this._pivotRows.getHeight()),null==this._pivotRows.renderCanvas&&(this._pivotRows.renderCanvas=this.createCanvas(this._pivotRows.Canvas,"divRowsRender",100,100)),this.setElementSize(this._pivotRows.renderCanvas,this._pivotRows.getWidth()+1,this._pivotRows.getHeight())),this._pivotColumns.isHidden?this._pivotColumns.Canvas.style.display="none":(this._pivotColumns.Canvas.style.display="block",this.setElementPosition(this._pivotColumns.Canvas,this._pivotColumns.x,this._pivotColumns.y),this.setElementSize(this._pivotColumns.Canvas,this._pivotColumns.getWidth(),this._pivotColumns.getHeight()+1),null==this._pivotColumns.renderCanvas&&(this._pivotColumns.renderCanvas=this.createCanvas(this._pivotColumns.Canvas,"divColumnsRender",100,100)),this.setElementSize(this._pivotColumns.renderCanvas,this._pivotColumns.getWidth(),this._pivotColumns.getHeight()+1)),this.setElementPosition(this._pivotCells.Canvas,this._pivotColumns.x,this._pivotRows.y),this.setElementSize(this._pivotCells.Canvas,this._pivotCells.viewPort.width,this._pivotCells.viewPort.height),null==this._pivotCells.renderCanvas&&(this._pivotCells.renderCanvas=this.createCanvas(this._pivotCells.Canvas,"divCellsRender",100,100)),this.setElementSize(this._pivotCells.renderCanvas,this._pivotColumns.getWidth()+1,this._pivotRows.getHeight()+1)},refresh:function(){this._pivotColumns._renderRequired=!0,this._pivotRows._renderRequired=!0,this._pivotCells.clear(),this._internalRefresh()},_internalRefresh:function(){var e,t,i,s,r,n=this.host.offset();this.autoResize&&(e=this._pivotColumns.isHidden?0:this._pivotColumns.getHeight(),t=this._pivotColumns.isHidden?0:this._pivotColumns.getWidth(),i=this._pivotRows.isHidden?0:this._pivotRows.getHeight(),s=this._pivotRows.isHidden?0:this._pivotRows.getWidth(),(r={}).width=t+s+1,r.height=e+i+1,r.width==this.host.width()&&r.height==this.host.height()||(this._pivotColumns._renderRequired=this._pivotRows._renderRequired=!0,this.host.css({width:r.width+"px",height:r.height+"px"}))),this._rect={x:n.left,y:n.top,width:this.host.width(),height:this.host.height()},this._render(),this.host.find("#divHScroll").jqxScrollBar("refresh")},_render:function(){var e=this._pivotColumns._renderRequired||this._pivotRows._renderRequired;this._pivotRows.compactStyleRenderingEnabled!=this.treeStyleRows&&(this._pivotRows.compactStyleRenderingEnabled=this.treeStyleRows,e=!0),e&&(this._pivotRows._renderRequired=this._pivotColumns._renderRequired=!0,this.RenderGridContent(),this._layout()),this._pivotRows.viewPort.y=this._offsetY+(this._pivotColumns.isVisible()?this._pivotColumns.viewPort.height:0),this._pivotColumns.viewPort.x=this._offsetX+(this._pivotRows.isVisible()?this._pivotRows.viewPort.width:0),this._pivotColumns.refresh(),this._pivotRows.refresh(),this._pivotCells.render(),this._updateMenuElement()},_updateMenuElement:function(){var e=this.host.find("#divContent")[0],t=(this._menuElement&&(d(this._menuElement).off(),e.removeChild(this._menuElement)),document.createElement("div")),i=(t.style.height="16px",t.style.width="16px",t.style.id="menu_element",t.style.align="left",t.style.valign="top",t.style.display="none",e.appendChild(t),this._menuElement=t,this);d(i._menuElement).on("click",function(){i._showItemContextMenu()})},dataBind:function(){var e=this.source;function l(e,t,i,s,r){for(var n in e.items){var o=e.items[n];(a=new d.jqx.jqxPivotGrid.pivotItem(i,s)).text=o.text,a.adapterItem=o,a.isColumn=r,t.items.push(a),l(o,a,a,s,r)}for(var n in e.valueItems){var a,o=e.valueItems[n];(a=new d.jqx.jqxPivotGrid.pivotItem(i,s)).adapterItem=o,a.text=o.text,a.isColumn=r,a._isValueItem=!0,t.valueItems.push(a),l(o,a,a,s,r)}}this.localization&&!e.localization&&(e.localization=this.localization),e.dataBind(),this._createPivotAreas(),l(e._rowsHierarchy,this._pivotRows,null,this._pivotRows,!1),l(e._columnsHierarchy,this._pivotColumns,null,this._pivotColumns,!0),this.bindingState="DataBoundPivot",this._pivotRows.autoResize("default"),this._pivotColumns.autoResize("default"),this._internalRefresh()},getChild:function(e,t){for(var i=e.childNodes,s=0;s<i.length;s++)if(i[s].id==t)return i[s];return null},scrollToOffset:function(e,t){for(var i=this.gridcells,s=0;s<i.length;s++)i[s].style.top=t+parseInt(i[s].originalY)+"px",this.setDivContent(i[s],"cell "+s)},getWidth:function(){return this.host.width()},getHeight:function(){return this.host.height()},RenderGridContent:function(){if(!this._pivotColumns._renderRequired&&!this._pivotRows._renderRequired)return this._pivotRows.viewPort.y=this._offsetY,void(this._pivotColumns.viewPort.x=this._offsetX);var e,t,i,s,r,n,o,a;this.PaintSuspended||"RESIZING"!=this._colResizeState&&((e={}).x=this._offsetX,e.y=this._offsetY,e.width=this.getWidth(),e.height=this.getHeight(),0!=e.width&&0!=e.height&&(this.PaintSuspended=!0,this._pivotColumns._isColumnsCountRequresUpdate&&(this._pivotColumns._updateVisibleLeaves(),this._pivotColumns._updateColumnsCount(),this._pivotColumns._updateColumnsIndexes()),this._pivotRows._isColumnsCountRequresUpdate&&(this._pivotRows._updateColumnsCount(),this._pivotRows._updateColumnsIndexes()),0!=this.getWidth()&&0!=this.getHeight()&&(this.GroupingEnabled&&0<this.groupingColumns.length&&(this._pivotRows.isHidden=!0),this._pivotColumns._renderRequired&&this._pivotColumns.render(),this._pivotRows._renderRequired&&this._pivotRows.render(),t=this._pivotColumns.isVisible()?this._pivotColumns.getHeight():0,i=this._pivotRows.isVisible()?this._pivotRows.getWidth():0,o={width:this._pivotColumns.getWidth()+i,height:this._pivotRows.getHeight()+t},this.scrollableAreaSize==o&&!this.isSyncScrollRequired||(this.scrollableAreaSize=o,this.SynchronizeScrollBars()),o=this.host.find("#divContent"),s=this.host.find("#divVScroll"),a="none"!=(r=this.host.find("#divHScroll")).css("display"),n="none"!=s.css("display"),o.css({height:e.height-(a?r.height()+4:0)+"px"}),o.css({width:e.width-(n?s.width()+4:0)+"px"}),o=e.height,e.height==this.getHeight()&&(o=e.height-t-(a?r.height()+4:0))<0&&(o=e.height),this._pivotRows.x=0,this._pivotRows.y=t,this._pivotRows.viewPort={x:this._pivotRows.x,y:e.y,width:this._pivotRows.getWidth(),height:o},a=e.width,e.width==this.getWidth()&&(a=e.width-i-(n?s.width()+4:0))<0&&(a=e.width),this._pivotColumns.x=i,this._pivotColumns.y=0,this._pivotColumns.viewPort={x:e.x,y:this._pivotColumns.y,width:a,height:this._pivotColumns.getHeight()},this._pivotCells.Bounds={x:this._pivotColumns.x,y:this._pivotRows.y,width:this._pivotColumns.getWidth(),height:o},this._pivotCells.viewPort={x:e.x,y:e.y,width:a,height:o},null!=this.draggingItem&&"visible"==this.dragElement.visibility&&this.dragElement.setValue(this.Canvas.ZIndexProperty,1e4),this._pivotRows._renderRequired=!1,this._pivotColumns._renderRequired=!1),this.PaintSuspended=!1))},SynchronizeScrollBars:function(){var e,t=!1,i=!1,s=this.host.find("#divVScroll"),r=this.host.find("#divHScroll"),n="none"!=r.css("display"),o="none"!=s.css("display"),a=r.height();this.scrollableAreaSize.height>this.getHeight()&&(t=!0),this.scrollableAreaSize.width>this.getWidth()&&(i=!0),this.scrollableAreaSize.height<=this.getHeight()&&this.scrollableAreaSize.width<=this.getWidth()&&(i=t=!1),(t=(i=t?i||this.scrollableAreaSize.width>this.getWidth()-a:i)?t||this.scrollableAreaSize.height>this.getHeight()-a:t)?(s[0].style.display="block",(e=this.getHeight()-(i?a+5:0))<0&&(e=0),this.setElementPosition(s[0],this.getWidth()-a-4,0),this.setElementSize(s[0],a,e),s.jqxScrollBar("min",0),(e=this.scrollableAreaSize.height-(this.getHeight()-(i?a:0))+4)!=s.jqxScrollBar("max")&&s.jqxScrollBar("max",e),null!=this.VerticalScrollBarSmallChange?s.jqxScrollBar("step",this.VerticalScrollBarSmallChange):s.jqxScrollBar("step",10),(e=this.scrollableAreaSize.height/10)<10&&(e=10),null!=this.VerticalScrollBarLargeChange&&(e=verticalScrollBarLargeChange),s.jqxScrollBar("largestep")!=e&&s.jqxScrollBar("largestep",e),s.jqxScrollBar("largestep")<s.jqxScrollBar("step")&&s.jqxScrollBar("largestep",s.jqxScrollBar("step")),this.rtl):(s.jqxScrollBar("value",0),s[0].style.display="none"),i?(r[0].style.display="block",((e=this.getWidth()-(t?a+5:0))<0||null==e)&&(e=0),this.setElementPosition(r[0],0,this.getHeight()-a-4),this.setElementSize(r[0],e,a),0!=r.jqxScrollBar("min")&&r.jqxScrollBar("min",0),o=this.scrollableAreaSize.width-(this.getWidth()-(t?a:0))+4,r.jqxScrollBar("max")!=o&&r.jqxScrollBar("max",o),null!=this.HorizontalScrollBarSmallChange?r.jqxScrollBar("step",this.HorizontalScrollBarSmallChange):r.jqxScrollBar("step",10),(e=this.getWidth()/2)<25&&(e=25),null!=this.HorizontalScrollBarLargeChange&&(e=this.HorizontalScrollBarSmallChange),r.jqxScrollBar("largestep",e),r.jqxScrollBar("largestep")<r.jqxScrollBar("largestep")&&r.jqxScrollBar("largestep",r.jqxScrollBar("step"))):(r.jqxScrollBar("value",0),r[0].style.display="none"),i=i&&this.scrollBarsEnabled,t=t&&this.scrollBarsEnabled,i!=("block"==r[0].display)&&(r[0].display=i?"block":"none"),t!=("block"==s[0].display)&&(s[0].display=t?"block":"none"),this._scrollBarPositions={vertical:{visible:t,rect:{x:s.position().left,y:s.position().top,width:s.width(),height:s.height()}},horizontal:{visible:i,rect:{x:r.position().left,y:r.position().top,width:r.width(),height:r.height()}}},r.jqxScrollBar("refresh"),s.jqxScrollBar("refresh")},isPtInRect:function(e,t){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height},onMouseLeftButtonUp:function(e){var t,i=this;for(t in i._scrollBarPositions)if(this._scrollBarPositions[t].visible&&this.isPtInRect(i._currentPosition,i._scrollBarPositions[t].rect))return i._isMouseCaptured()&&i._releaseMouseCapture(),void(i._isMouseLeftButtonDown=!1);if(i._isMouseCaptured())i._releaseMouseCapture();else if(!i._itemMenuButtonMouseOver&&!i._isContextMenuOpen){i.canDrag=!1;var e=d.jqx.position(e),e=i.isPtInRect({x:e.left,y:e.top},i._rect),s=i._pivotCells._hitTest(i._currentPosition);if(s&&e)if(i._raisePivotCellMouseEvent(s.pivotRow,s.pivotColumn,"pivotcellmouseup","left"))return;if("RESIZING"==i._colResizeState)return i._colResizeState="NO_RESIZE",i._updateCursor("ARROW"),i._pivotColumns._renderRequired=!0,i._pivotRows._renderRequired=!0,s=i.resizingItem.x+i.resizingItem.hierarchy.x-i._offsetX,r=i.resizingItem.y+i.resizingItem.hierarchy.y-i._offsetY,this.isHorizontalResize?i.resizingItem.setWidth(Math.max(i.resizingItem.minimumWidth,Math.abs(i._currentPosition.x-s))):i.resizingItem.setHeight(Math.max(i.resizingItem.minimumHeight,Math.abs(i._currentPosition.y-r))),d("body").find("#"+i._resizeLineId).hide(),i.resizingItem=null,i.resizeTooltipEnabled,i._isMouseLeftButtonDown=!1,void i._internalRefresh();var s={isOnItemButton:!1},r=i._itemHitTest(i._currentPosition,s);if(null==r||!s.isOnItemButton&&!s.isOnMenuButton){s=!1;if(i._canDrop(r)?(i._endDrag(r),s=!0):i.dragElement&&"block"==i.dragElement.style.display&&(i._endDrag(draggingItem),s=!0),s)return i._isMouseLeftButtonDown=!1,void i._internalRefresh();i._isMouseLeftButtonDown=!1,e&&null==i.activeEditor.Editor&&i._updateSelection()}}},onMouseLeftButtonDown:function(e){for(var t in this._scrollBarPositions)if(this._scrollBarPositions[t].visible&&this.isPtInRect(this._currentPosition,this._scrollBarPositions[t].rect))return void this._captureMouse();var i={isOnItemButton:!1},s=this._itemHitTest(this._currentPosition,i);this._timeLastDown=new Date;if(this.isShiftPressed||(this._selectStartPosition={x:this._currentPosition.x,y:this._currentPosition.y}),!this._itemMenuButtonMouseOver&&!this._isContextMenuOpen){if(this._isMouseLeftButtonDown=!0,"READY_RESIZE"==this._colResizeState)return this._colResizeState="RESIZING",this._updateCursor(this.isHorizontalResize?"COLUMN_RESIZE":"ROW_RESIZE"),void this._refreshMouseCursor();if("RESIZING"!=this._colResizeState){if(null!=s){if(i.isOnItemButton)return this._lastToggle&&this._lastToggle.item==s&&new Date-this._lastToggle.time<500?void 0:(this._isMouseLeftButtonDown=!1,s.isExpanded?s.collapse():s.expand(),this._lastToggle={time:new Date,item:s},void this._internalRefresh());this.canDrag=!0,i.isOnItemButton?this._updateCursor("ARROW"):this._updateCursor("CROSS"),s.isColumn?this._internalSelectMode="COL_SELECT":this._internalSelectMode="ROW_SELECT"}else this._internalSelectMode="CELLS_SELECT";i=this._pivotCells._hitTest(this._currentPosition);if(i)if(this._raisePivotCellMouseEvent(i.pivotRow,i.pivotColumn,"pivotcellmousedown","left"))return;null==this.activeEditor.Editor&&this._updateSelection(),this._refreshMouseCursor()}}},onMouseRightButtonDown:function(e){this._timeLastDown=new Date;var t=this._itemHitTest(this._currentPosition,{isOnItemButton:!1});null!=t?this._raisePivotItemMouseEvent(t,"pivotitemmousedown","right"):(t=this._pivotCells._hitTest(this._currentPosition))&&this._raisePivotCellMouseEvent(t.pivotRow,t.pivotColumn,"pivotcellmousedown","right")},onMouseRightButtonUp:function(e){var e=d.jqx.position(e),e=this.isPtInRect({x:e.left,y:e.top},this._rect),t=this._pivotCells._hitTest(this._currentPosition);t&&e&&this._raisePivotCellMouseEvent(t.pivotRow,t.pivotColumn,"pivotcellmouseup","right"),this._timeLastUp=new Date},_itemMouseMove:function(e,t){if(this.resizingItem)this.isHorizontalResize?this._updateCursor("COLUMN_RESIZE"):this._updateCursor("ROW_RESIZE");else{this._menuElement._itemMouseOver!=t&&this._hideItemMenuElement(),this._updateCursor("CROSS");var i={x:t.x,y:t.y,width:t.getDisplayWidth(),height:t.getDisplayHeight()};if(t.isColumn?i.x+=t.hierarchy.x-this._offsetX:i.y+=t.hierarchy.y-this._offsetY,t.IsRowsHierarchyItem&&this._pivotRows.compactStyleRenderingEnabled&&(i.height=t.height),i.right=i.x+i.width,i.bottom=i.y+i.height,Math.abs(i.right-e.x)<=4&&e.y>=i.y&&e.y<=i.bottom){if(this.isHorizontalResize=!0,t.hierarchy.resizable&&!this._pivotColumns.isGroupingColumn(t)){if(this._updateCursor("COLUMN_RESIZE"),this.resizingItem=t.isColumn?t._getLastVisibleLeaf(t):t,!this.resizingItem.isColumn&&!this.resizingItem.isExpanded){var s,r=this._pivotRows._getVisibleLeafLevelItems();for(s in r){var n=r[s];n.ItemLevel>this.resizingItem.ItemLevel&&(this.resizingItem=n)}}this._colResizeState="READY_RESIZE"}}else{if(!t.isColumn&&Math.abs(i.bottom-e.y)<=3)return this.isHorizontalResize=!1,void((t=t.IsRowsHierarchyItem&&this._pivotRows.compactStyleRenderingEnabled?t:t._getLastVisibleLeaf(t)).hierarchy.resizable&&(this._updateCursor("ROW_RESIZE"),this.resizingItem=t,this._colResizeState="READY_RESIZE"));var o=t.hierarchy.getOtherHierarchy();t.hierarchy.sortable&&0<o.items.length&&this._hitTestShowItemMenuElement(e,t,i)}}},isInHierarchyViewPort:function(e,t){return t.isColumnsHierarchy?this.isPtInRect({x:e.x+this._offsetX,y:e.y},t.viewPort):this.isPtInRect({x:e.x,y:e.y+this._offsetY},t.viewPort)},_hitTestShowItemMenuElement:function(e,t,i){var s;this._menuElement&&this._menuElement._itemMouseOver&&this._menuElement._itemMouseOver._element&&d(this._menuElement._itemMouseOver._element).find("#sortElement").show(),this._menuElement.style.display="none",this._isContextMenuOpen||0<t.valueItems.length||!(e.x<i.right&&e.x>i.x&&e.y>=i.y&&e.y<=i.bottom)||((e=d.extend({},this._rect)).x=e.y=0,"block"==this.vScroll[0].display&&(e.width-=this.vScroll.width()),"block"==this.hScroll[0].display&&(e.height-=this.hScroll.height()),(s={x:this._currentPosition.x,y:this._currentPosition.y}).x-=t.hierarchy.x-(t.hierarchy.viewPort.x-t.hierarchy.x),s.y-=t.hierarchy.y-(t.hierarchy.viewPort.y-t.hierarchy.y),i={x:t.x+i.width-18,y:t.y+(i.height-16)/2+1,width:16,height:16},this._menuElement.style.height=i.height+"px",this._menuElement.className=this.toThemeProperty("jqx-pivotgrid-menu-button"),t.isColumn?i.x+=t.hierarchy.x-this._offsetX:i.y+=t.hierarchy.y-this._offsetY,this.setElementPosition(this._menuElement,i.x,i.y),this.isPtInRect({x:i.x,y:i.y},e)&&this.isPtInRect({x:i.x,y:i.y+i.height},e)&&this.isPtInRect({x:i.x+i.width,y:i.y},e)&&this.isPtInRect({x:i.x+i.width,y:i.y+i.height},e)&&(this._menuElement.style.display="block",this._menuElement._itemMouseOver=t,d(this._menuElement._itemMouseOver._element).find("#sortElement").hide(),t._currentCustomContent||(e=d(t._element).css("background-color"),this._menuElement.style["background-color"]=e),t.isColumn?i.x+=this._offsetX-t.hierarchy.x:i.y+=this._offsetY-t.hierarchy.y,this.isPtInRect({x:s.x,y:s.y},i)&&(this._itemMenuButtonMouseOver=!0)))},_hideItemMenuElement:function(){this._menuElement&&!this._isContextMenuOpen&&"block"==this._menuElement.style.display&&(this._menuElement.style.display="none",d(this._menuElement._itemMouseOver._element).find("#sortElement").show())},_hideItemContextMenu:function(){this._contextMenu.jqxMenu("close"),this._hideItemMenuElement()},_showItemContextMenu:function(){var e,t,i,s=this._menuElement._itemMouseOver;s&&(t=this._contextMenu.width(),e=this._contextMenu.height(),this._contextMenu.find("#sortasc")[0].className="jqx-pivotgrid-sortasc-icon "+this.toThemeProperty("jqx-pivotgrid-sortasc-icon"),this._contextMenu.find("#sortdesc")[0].className="jqx-pivotgrid-sortdesc-icon "+this.toThemeProperty("jqx-pivotgrid-sortdesc-icon"),this._contextMenu.find("#sortremove")[0].className="jqx-pivotgrid-sortremove-icon "+this.toThemeProperty("jqx-pivotgrid-sortremove-icon"),t=-t+s.displayWidth+s.x+(s.hierarchy.viewPort.x-this._offsetX)-this._offsetX,s.isColumn||(t=s.x+s.displayWidth),i=s.y+s.getDisplayHeight(),t<=1&&(t=1),(i=(i=s.isColumn?i:s.y-this._offsetY+s.hierarchy.y)<this._pivotColumns.y+this._pivotColumns.getHeight()?this._pivotColumns.y+this._pivotColumns.getHeight():i)+e>this._rect.height&&(i=this._rect.height-e),this._contextMenu.jqxMenu("open",t+this._rect.x,i+this._rect.y),this._contextMenu.focus())},_handleMouseMove:function(e){if("RESIZING"==this._colResizeState)return this._doResize({x:this._currentPosition.x,y:this._currentPosition.y}),void this._refreshMouseCursor();this._colResizeState="NO_RESIZE",this.resizingItem=null;var t=this._currentPosition,i=null,s=(this.isInHierarchyViewPort({x:t.x,y:t.y},this._pivotColumns)&&(i=this._pivotColumns.hitTest(t)),null);if(this.isInHierarchyViewPort({x:t.x,y:t.y},this._pivotRows)&&(s=this._pivotRows.hitTest(t)),this._itemMenuButtonMouseOver=!1,null!=i||null!=s)return n=null==i?s:i,this.gridCellMouseOver=null,this._itemMouseMove(t,n),this._focusedItem!=n&&(this._focusedItem=n,this._isMouseLeftButtonDown&&this._updateSelection()),r={},this.CellsHighlightOnHierarchyItemMoveEnabled&&(n.IsRowsHierarchyItem&&"CELLS_HIGHLIGHT_ROW"==this.CellsHighlightMode||n.isColumn&&"CELLS_HIGHLIGHT_COLUMN"==this.CellsHighlightMode)&&(r=n.isColumn?{x:n.x,y:0,width:n.DisplayWidth,height:this._pivotRows.getHeight()}:{x:0,y:n.y,width:this._pivotColumns.getWidth(),height:n.getDisplayHeight()},(n.isColumn&&this.isGroupingEnabled&&0<this.groupingColumns.length||n.IsRowsHierarchyItem&&this._pivotRows.isOnRowDetails(this._currentPosition,n))&&(r={x:0,y:0,width:0,height:0})),void this._refreshMouseCursor();this._hideItemMenuElement();this.gridCellMouseOver;this.resizingItem=null,this._focusedItem=null,this._colResizeState="NO_RESIZE",this._updateCursor("ARROW");var r,n=null,t=(this.gridCellMouseOver&&((n={}).pivotColumn=this.gridCellMouseOver.pivotColumn,n.pivotRow=this.gridCellMouseOver.pivotRow),this._pivotCells._hitTest(t));this._isMouseLeftButtonDown&&t?(null!=this.gridCellMouseOver&&this.gridCellMouseOver.pivotRow==s&&this.gridCellMouseOver.pivotColumn==i||(this.gridCellMouseOver={pivotRow:t.pivotRow,pivotColumn:t.pivotColumn,pivotCells:this._pivotCells}),r={x:0,y:0,width:0,height:0},"CELLS_HIGHLIGHT_COLUMN"==this.cellsHighlightMode?r={x:this.gridCellMouseOver.pivotColumn.x,y:0,width:this.gridCellMouseOver.pivotColumn.getDisplayWidth(),height:this._pivotRows.getHeight()}:"CELLS_HIGHLIGHT_ROW"==this.cellsHighlightMode?r={x:0,y:this.gridCellMouseOver.pivotRow.y,width:this._pivotColumns.getWidth(),height:this.gridCellMouseOver.pivotRow.getDisplayHeight()}:"CELLS_HIGHLIGHT_SINGLE_CELL"==this.cellsHighlightMode&&(r={x:this.gridCellMouseOver.pivotColumn.x,y:this.gridCellMouseOver.pivotRow.y,width:this._pivotColumns.getWidth(),height:this.gridCellMouseOver.pivotRow.getDisplayHeight()},this.isGroupingEnabled&&0<this.groupingColumns.length&&0<this.gridCellMouseOver.pivotRow.items.length&&(r={x:0,y:0,width:0,height:0}),this.gridCellMouseOver.pivotRow.RowDetailsVisible&&(r.height-=this.gridCellMouseOver.pivotRow.GetRowDetailsHeight())),(this._pivotColumns.isGroupingColumn(this.gridCellMouseOver.pivotColumn)||this._pivotRows.isOnRowDetails(this._currentPosition,this.gridCellMouseOver.pivotRow))&&(r={x:0,y:0,width:0,height:0})):this.gridCellMouseOver=null,null==this.gridCellMouseOver||this.gridCellMouseOver==n&&n.pivotRow==this.gridCellMouseOver.pivotRow&&n.pivotColumn==this.gridCellMouseOver.pivotColumn||this._isMouseLeftButtonDown&&!this._itemMenuButtonMouseOver&&(this._updateSelection(),this._internalRefresh())},_handleMouseClick:function(e){var t={isOnItemButton:!1},i=this._itemHitTest(this._currentPosition,t);null!=i?this._raisePivotItemMouseEvent(i,"pivotitemclick",0==e.button?"left":"right")?e.cancel=!0:this._itemMenuButtonMouseOver||this._isContextMenuOpen||this._isMouseLeftButtonDown&&!t.isOnItemButton&&"Automatic"==i.sortMode&&0==i.valueItems.length&&(t=this.cursor,this.cursor="Wait",this.cursor=t):(i=this._pivotCells._hitTest(this._currentPosition))&&this._raisePivotCellMouseEvent(i.pivotRow,i.pivotColumn,"pivotcellclick",0==e.button?"left":"right")&&(e.cancel=!0)},_handleMouseDoubleClick:function(e){if(null!=this.activeEditor.Editor)if(0==this.hideEditor("MOUSE_DBLCLICK",null,!0))return;if(!this._itemMenuButtonMouseOver&&!this._isContextMenuOpen){var t={isOnItemButton:!1},i=this._itemHitTest(this._currentPosition,t);if(null!=i){if(t.isOnMenuButton)return;if(this._raisePivotItemMouseEvent(i,"pivotitemdblclick",0==e.button?"left":"right"))return;if(this._lastToggle&&this._lastToggle.item==i&&new Date-this._lastToggle.time<500)return;0==e.button&&(i.isExpanded?i.collapse():i.expand(),i.hierarchy.selectItem(i),this._internalRefresh()),this._lastToggle={time:new Date,item:i}}else{t=this._pivotCells._hitTest(this._currentPosition);if(t)if(this._raisePivotCellMouseEvent(t.pivotRow,t.pivotColumn,"pivotcelldblclick",0==e.button?"left":"right"))return}this._refreshMouseCursor()}},_isMouseCaptured:function(){return!0===this._captured},_releaseMouseCapture:function(){this._captured=!1},_captureMouse:function(){this._captured=!0},_updateCursor:function(e){"ARROW"==e?this.element.style.cursor="default":"CROSS"==e?this.element.style.cursor="pointer":"COLUMN_RESIZE"==e?this.element.style.cursor="col-resize":"ROW_RESIZE"==e&&(this.element.style.cursor="row-resize")},_refreshMouseCursor:function(){},_ensureEditorFocus:function(){},focus:function(){},_itemHitTest:function(e,t){t.isOnItemButton=!1;var i,s=null;return null!=(s=null==(s=!this._pivotRows.isHidden&&this.isInHierarchyViewPort(e,this._pivotRows)?this._pivotRows.hitTest(e):s)&&!this._pivotColumns.isHidden&&this.isInHierarchyViewPort(e,this._pivotColumns)?this._pivotColumns.hitTest(e):s)&&((e={x:this._currentPosition.x,y:this._currentPosition.y}).x-=s.hierarchy.x-(s.hierarchy.viewPort.x-s.hierarchy.x),e.y-=s.hierarchy.y-(s.hierarchy.viewPort.y-s.hierarchy.y),0!=s.items.length&&0!=s.expandCollapseEnabled&&s.hierarchy.showExpandCollapseButtons&&(i=0,!s.hierarchy.isColumnsHierarchy&&s.hierarchy.compactStyleRenderingEnabled&&(i=24*s.itemLevel),e.x>s.x+9+i&&e.x<s.x+20+i&&e.y>s.y+9&&e.y<s.y+20&&(t.isOnItemButton=!0)),i={x:s.x,y:s.y,width:s.getDisplayWidth(),height:s.getDisplayHeight()},i={x:s.x+i.width-16,y:s.y,width:16,height:i.height},this.isPtInRect(e,i)&&s.hierarchy.sortable&&(t.isOnMenuButton=!0)),s},_raisePivotCellMouseEvent:function(e,t,i,s){i=new d.Event(i);return i.owner=this,i.args={pivotRow:e,pivotColumn:t,mousebutton:s,cancel:!1},this.host.trigger(i),!!i.args.cancel},_raisePivotItemMouseEvent:function(e,t,i){t=new d.Event(t);return t.owner=this,t.args={pivotItem:e,mousebutton:i,cancel:!1},this.host.trigger(t),!!t.args.cancel},_beginDrag:function(e){},_endDrag:function(e){},_canDrop:function(e){},_doResize:function(e){if(null!=this.resizingItem&&this.resizingItem.hierarchy.resizable&&!this._pivotColumns.isGroupingColumn(this.resizingItem)){this.isHorizontalResize?this._updateCursor("COLUMN_RESIZE"):this._updateCursor("ROW_RESIZE"),this._focusedItem=this.resizingItem;var t=this.resizingItem.x+2*this.resizingItem.hierarchy.x-this.resizingItem.hierarchy.viewPort.x,i=this.resizingItem.y+2*this.resizingItem.hierarchy.y-this.resizingItem.hierarchy.viewPort.y,s=!1,r=(this.resizingItem.hierarchy,d("body").find("#"+this._resizeLineId));if(this.isHorizontalResize){t=e.x-t;if(t<this.resizingItem.minimumWidth)return;var n={x:e.x+this._rect.x,y:this._pivotRows.y+this._rect.y};r.css({"border-right":"1px dotted #555","border-bottom":"",width:"1px",height:this._pivotCells.viewPort.height,top:n.y,left:n.x,display:"block"}),t>=this.resizingItem.minimumWidth&&t<=this.resizingItem.maximumWidth&&(this.resizeTooltipEnabled&&(this._resizeTooltip.Content="width: "+t+" pixels"),s=!0)}else{t=e.y-i;if(t<this.resizingItem.minimumHeight)return;n={x:this._pivotColumns.x+this._rect.x,y:e.y+this._rect.y};r.css({"border-bottom":"1px dotted #555","border-right":"",height:"1px",width:this._pivotCells.viewPort.width,left:n.x,top:n.y,display:"block",zIndex:5e4}),t>=this.resizingItem.minimumHeight&&t<=this.resizingItem.maximumHeight&&(this.resizeTooltipEnabled&&(this._resizeTooltip.Content="height: "+t+" pixels"),s=!0)}s&&this.resizeTooltipEnabled&&("visible"!=this._resizeTooltip.visibility&&(this._resizeTooltip.visibility="visible"),this._resizeTooltip.setValue(this.Canvas.LeftProperty,e.x),this._resizeTooltip.setValue(this.Canvas.TopProperty,e.y),this._resizeTooltip.setValue(this.Canvas.ZIndexProperty,10002))}},_internalClearSelection:function(){this._pivotColumns._internalClearSelection(),this._pivotRows._internalClearSelection(),this._pivotCells._internalClearSelection()},_beginSelectionUpdate:function(){this._isCTRLPressed&&this.multipleSelectionEnabled||(this._pivotCells._beginSelectionUpdate(),this._pivotColumns._beginSelectionUpdate(),this._pivotRows._beginSelectionUpdate())},_endSelectionUpdate:function(){this._pivotColumns._endSelectionUpdate(),this._pivotRows._endSelectionUpdate(),this._pivotCells._endSelectionUpdate()},_updateSelection:function(){if(this.selectionEnabled){this._colItemRangeSelectionBeg=null,this._rowItemRangeSelectionBeg=null,this._beginSelectionUpdate();var e=!1;if(this._isCTRLPressed&&0!=this.multipleSelectionEnabled||(this._internalClearSelection(),e=!0),null!=this.activeEditor.Editor)return this._internalClearSelection(),void this._endSelectionUpdate();var t=-1,i=-1,s={x:this._selectStartPosition.x,y:this._selectStartPosition.y},r=(s.y-=this._offsetY,s.x-=this._offsetX,this._itemHitTest(this._selectStartPosition,{isOnItemButton:!1}));if(null!=r)if((r=!r.isColumn&&this._pivotRows.compactStyleRenderingEnabled?r:r._getFirstVisibleLeaf(r)).isColumn){if("FULL_ROW_SELECT"==this.selectionMode)return this._internalSelectMode="NO_SELECT",void this._endSelectionUpdate();this._internalSelectMode="COL_SELECT",this._colItemRangeSelectionBeg=r}else{if("FULL_COLUMN_SELECT"==this.selectionMode)return this._internalSelectMode="NO_SELECT",this._endSelectionUpdate(),void this._internalRefresh();this._internalSelectMode="ROW_SELECT",this._rowItemRangeSelectionBeg=r}else{if(!(l=this._pivotCells._hitTest(this._selectStartPosition)))return this._internalSelectMode="NO_SELECT",this._endSelectionUpdate(),void this._internalRefresh();this._internalSelectMode="CELLS_SELECT","FULL_ROW_SELECT"==this.selectionMode?this._internalSelectMode="ROW_SELECT":"FULL_COLUMN_SELECT"==this._SelectionMode&&(this._internalSelectMode="COL_SELECT")}var n={x:this._currentPosition.x,y:this._currentPosition.y},o=("COL_SELECT"==this._internalSelectMode?(n.y>=this._pivotColumns.y+this._pivotColumns.getHeight()&&(n.y=this._pivotColumns.y+this._pivotColumns.getHeight()-1),n.y<=this._pivotColumns.y&&(n.y=this._selectStartPosition.y),n.x<=this._pivotColumns.x&&(n.x=this._pivotColumns.x+1),n.x>=this._pivotColumns.x+this._pivotColumns.getWidth()&&(n.x=this._pivotColumns.x+this._pivotColumns.getWidth()-1)):"ROW_SELECT"==this._internalSelectMode?(n.y>=this._pivotRows.y+this._pivotRows.getHeight()&&(n.y=this._pivotRows.y+this._pivotRows.getHeight()-1),n.y<=this._pivotRows.y&&(n.y=this._pivotRows.y+1),n.x<=this._pivotRows.x&&(n.x=this._pivotRows.x+this._pivotRows.getWidth()-1),n.x>=this._pivotRows.x+this._pivotRows.getWidth()&&(n.x=this._pivotRows.x+this._pivotRows.getWidth()-1)):"CELLS_SELECT"==this._internalSelectMode&&(n.x<this._pivotColumns.x&&(n.x=this._pivotColumns.x+1),n.y<this._pivotRows.y&&(n.y=this._pivotRows.y+1)),this._colItemRangeSelectionEnd=null,this._rowItemRangeSelectionEnd=null,-1),a=-1;if("COL_SELECT"==this._internalSelectMode||"ROW_SELECT"==this._internalSelectMode)if(null!=r){var l={},r=this._itemHitTest(n,l);if(null==r)return void this._endSelectionUpdate();(r=!r.isColumn&&this._pivotRows.compactStyleRenderingEnabled?r:r._getLastVisibleLeaf(r)).isColumn?this._colItemRangeSelectionEnd=r:this._rowItemRangeSelectionEnd=r}else this._pivotCells.hitTest(n,l),null!=l?(this._colItemRangeSelectionEnd=l.pivotColumn,this._rowItemRangeSelectionEnd=l.pivotRow):(this._colItemRangeSelectionEnd=null,this._rowItemRangeSelectionEnd=null);if("CELLS_SELECT"==this._internalSelectMode){l=this._pivotCells._hitTest(this._selectStartPosition);if(this._colItemRangeSelectionBeg=l.pivotColumn,this._rowItemRangeSelectionBeg=l.pivotRow,!l)return this._endSelectionUpdate(),void this._internalRefresh();if(s.x==n.x&&s.y==n.y||(this._pivotCells.hitTest(n,l),this._colItemRangeSelectionEnd=l.pivotColumn,this._rowItemRangeSelectionEnd=l.pivotRow),!l.pivotRow||!l.pivotColumn)return this._internalSelectMode="CELLS_SELECT",this._pivotCells._internalSelectCell(this._rowItemRangeSelectionBeg,this._colItemRangeSelectionBeg),this._cellKBRangeSelectionStart=this._cellKBRangeSelectionEnd={pivotRow:this._rowItemRangeSelectionBeg,pivotColumn:this._colItemRangeSelectionBeg,pivotCells:this._pivotCells},this._endSelectionUpdate(),void this._internalRefresh()}if(this._saveSelectedItemsRangeOrder(),this._adjustSelectedItemsOrder(e),"CELLS_SELECT"==this._internalSelectMode){var d,h=this._pivotRows._getVisibleLeafLevelItems(),c=this._pivotColumns._getVisibleLeafLevelItems(),i=this._pivotRows._pointToLeafItemIndexAbsolute(this._selectStartPosition),a=this._pivotRows._pointToLeafItemIndexAbsolute(n),t=this._pivotColumns._pointToLeafItemIndexAbsolute(this._selectStartPosition),o=this._pivotColumns._pointToLeafItemIndexAbsolute(n);if(-1==t&&-1==o||-1==i&&-1==a)return this._endSelectionUpdate(),void this._internalRefresh();-1==t&&(t=o),-1==i&&(i=a),(o=-1==o?t:o)<t&&(d=t,t=o,o=d),(a=-1==a?i:a)<i&&(d=i,i=a,a=d);for(var u=i;u<=a&&u<h.length;u++)for(var p=h[u],m=t;m<=o&&m<c.length;m++){var g=c[m];this._pivotCells._internalSelectCell(p,g)}return this._cellKBRangeSelectionStart={pivotRow:this._rowItemRangeSelectionBeg,pivotColumn:this._colItemRangeSelectionBeg,pivotCells:this._pivotCells},this._cellKBRangeSelectionEnd={pivotRow:this._rowItemRangeSelectionEnd,pivotColumn:this._colItemRangeSelectionEnd,pivotCells:this._pivotCells},this._endSelectionUpdate(),void this._internalRefresh()}this._restoreSelectedItemsRangeOrder(),this._applyItemsMultiSelect(e),this._endSelectionUpdate(),this._internalRefresh()}},_saveSelectedItemsRangeOrder:function(){this._adjSelectedItemsSave.colBeg=this._colItemRangeSelectionBeg,this._adjSelectedItemsSave.colEnd=this._colItemRangeSelectionEnd,this._adjSelectedItemsSave.rowBeg=this._rowItemRangeSelectionBeg,this._adjSelectedItemsSave.rowEnd=this._rowItemRangeSelectionEnd},_restoreSelectedItemsRangeOrder:function(){this._colItemRangeSelectionBeg=this._adjSelectedItemsSave.colBeg,this._colItemRangeSelectionEnd=this._adjSelectedItemsSave.colEnd,this._rowItemRangeSelectionBeg=this._adjSelectedItemsSave.rowBeg,this._rowItemRangeSelectionEnd=this._adjSelectedItemsSave.rowEnd},_adjustSelectedItemsOrder:function(e){var t;null!=this._colItemRangeSelectionBeg&&null!=this._colItemRangeSelectionEnd&&this._colItemRangeSelectionBeg.x>this._colItemRangeSelectionEnd.x&&(t=this._colItemRangeSelectionBeg,this._colItemRangeSelectionBeg=this._colItemRangeSelectionEnd,this._colItemRangeSelectionEnd=t),null!=this._rowItemRangeSelectionBeg&&null!=this._rowItemRangeSelectionEnd&&this._rowItemRangeSelectionBeg.y>this._rowItemRangeSelectionEnd.y&&(t=this._rowItemRangeSelectionBeg,this._rowItemRangeSelectionBeg=this._rowItemRangeSelectionEnd,this._rowItemRangeSelectionEnd=t),(0!=this.multipleSelectionEnabled||e)&&null!=this._rowItemRangeSelectionEnd||(this._rowItemRangeSelectionEnd=this._rowItemRangeSelectionBeg),(0!=this.multipleSelectionEnabled||e)&&null!=this._colItemRangeSelectionEnd||(this._colItemRangeSelectionEnd=this._colItemRangeSelectionBeg)},_applyItemsMultiSelect:function(e){this._saveSelectedItemsRangeOrder(),this._adjustSelectedItemsOrder(e);for(var t=0;t<2;t++)if(!("COL_SELECT"==this._internalSelectMode&&0!=t||"ROW_SELECT"==this._internalSelectMode&&1!=t)){var i=0==t?this._colItemRangeSelectionBeg:this._rowItemRangeSelectionBeg,s=0==t?this._colItemRangeSelectionEnd:this._rowItemRangeSelectionEnd,r=0==t?this._pivotColumns:this._pivotRows,n=r._getVisibleLeafLevelItems();if(null==n)return this._internalRefresh(),void this._restoreSelectedItemsRangeOrder();var o,a=!1;for(o in n){var l=n[o];if((l==i||a)&&(l.getWidthWithChildren()+l.x>this._mostRightItemBounds.x+this._mostRightItemBounds.width&&(this._mostRightItemBounds={x:l.x,y:l.y,width:l.getWidthWithChildren(),height:l.getHeightWithChildren()}),l.getWidthWithChildren()+l.x<this._mostLeftItemBounds.x+this._mostLeftItemBounds.width&&(this._mostLeftItemBounds={x:l.x,y:l.y,width:l.getWidthWithChildren(),height:l.getHeightWithChildren()}),a=!0,r._internalSelectItem(l),l==s))break}!r.isColumnsHierarchy&&r.compactStyleRenderingEnabled||r._applySelectionToParentItems()}this._restoreSelectedItemsRangeOrder()},localizeStrings:function(e,t){d.jqx.dataFormat&&d.jqx.dataFormat.cleardatescache(),this._localizedStrings={decimalseparator:".",thousandsseparator:",",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",alignment:"Text alignment",cellalignment:"Number alignment",numberformat:"Number format",prefix:"Number prefix",decimalplacestext:"Decimal places",thousandsseparatortext:"Thousands separator",decimalseparatortext:"Decimal separator",nagativebracketstext:"Negatives in brackets",fieldsettings:"Field settings",ok:"Ok",cancel:"Cancel"};var i,s,r=d.extend({},e);for(i in this._localizedStrings=d.extend(this._localizedStrings,r),r)i&&i.toLowerCase()!==i&&(r[i.toLowerCase()]=r[i]);for(s in this._localizedStrings)void 0!==r[s]&&(this._localizedStrings[s]=r[s])}})}(jqxBaseFramework),$.jqx.jqxPivotGrid=$.jqx.jqxPivotGrid||{},$.jqx.define($.jqx.jqxPivotGrid,"propertyBag",""),$.extend($.jqx.jqxPivotGrid.propertyBag.prototype,{defineInstance:function(){this.namedPropertyTables={},this._tableSizes={},this.enablePropertyChangeNotifications=!1},getPropertyTable:function(e){return null==this.namedPropertyTables[e]&&(this.namedPropertyTables[e]={},this._tableSizes[e]=0),this.namedPropertyTables[e]},getPropertyCount:function(e){return null==this.getPropertyTable(e)?0:this._tableSizes[e]},getPropertyValue:function(e,t){e=this.getPropertyTable(e);return null!=e&&null!=e[t]?e[t]:null},containsPropertyValue:function(e,t){e=this.getPropertyTable(e);return null!=e&&null!=e[t]},removePropertyValue:function(e,t){var i=this.getPropertyTable(e);null!=i&&(delete i[t],this._tableSizes[e]--)},setPropertyValue:function(e,t,i){var s=this.getPropertyTable(e);null!=s&&(null==i?s[t]&&(this._tableSizes[e]--,delete s[t]):(s[t]||this._tableSizes[e]++,s[t]=i),this.enablePropertyChangeNotifications&&this.onPropertyChanged(e))},clear:function(e){""==e||null==e||null==e?this.namedPropertyTables={}:(this.getPropertyTable(e),this._tableSizes[e]=0)},onPropertyChanged:function(e){$.event.trigger("propertychanged",e)}}),!function(q){q.jqx.jqxPivotGrid=q.jqx.jqxPivotGrid||{},q.jqx.define(q.jqx.jqxPivotGrid,"pivotCells",""),q.extend(q.jqx.jqxPivotGrid.pivotCells.prototype,{defineInstance:function(){this.parentPivotGrid=null,this.IsDataBoundPivotCellsEditable=!1,this.cellProperties=new q.jqx.jqxPivotGrid.propertyBag,this.hashCellAutoSize={},this.hashCellInSpan={},this.hashCellSpan={},this._selectedCells=new Object},hitTest:function(e){e=this._hitTest(e);if(e)return{pivotRow:e.pivotRow,pivotColumn:e.pivotColumn,pivotCells:this}},_hitTest:function(e){var t={};if(t.pivotColumn=this.parentPivotGrid._pivotColumns._pointToLeafItemAbsolute(e),t.pivotRow=this.parentPivotGrid._pivotRows._pointToLeafItemAbsolute(e),!this.parentPivotGrid._pivotColumns.isGroupingColumn(t.pivotColumn)&&null!=t.pivotColumn&&null!=t.pivotRow)return t},clear:function(){this._reset()},_reset:function(){this.cellProperties.clear(),this._selectedCells=new Object,this.hashCellAutoSize={},this.hashCellInSpan={},this.hashCellSpan={},this._clearElementsAndCellsCache()},_resetCanvas:function(){var e=q.jqx.get(this,"renderCanvas");if(e)for(;e.hasChildNodes();)e.removeChild(e.firstChild)},_clearElementsAndCellsCache:function(){this._clearCellsCache()},setCellValue:function(e,t,i){if(null!=e&&null!=t){var s=this.parentPivotGrid.getCellId(t,e),r=(this.getCellDataSource(e,t),-1!=e.BoundFieldIndex&&-1!=t.BoundFieldIndex),n=this.getCellDataSource(e,t);if("DataBound"==n&&r){if(this.parentPivotGrid.OnCellValueChanging(e,t,i))return;try{this.parentPivotGrid.setCellValueFromDataSourceNonPivot(e,t,i)}catch(e){return}return this.cellProperties.setPropertyValue("CellValue",s,null),void this.parentPivotGrid.OnCellValueChanged(e,t)}if("DataBoundPivot"==n){if(this.IsDataBoundPivotCellsEditable)return;throw"The cell's value is derived from the data source and aggregated. It is not editable in this mode. Use the SetCellDataSource method to change the cell's data source first"}this.parentPivotGrid.OnCellValueChanging(e,t,i)||(this.SetCellDataSource(e,t,"Static"),this.cellProperties.setPropertyValue("CellValue",s,i),this.onPropertyChanged("CellValue"),this.parentPivotGrid.OnCellValueChanged(e,t))}},_clearCellsCache:function(){this.cellProperties.clear("CellValue")},_clearCachedCell:function(e,t){t=this.parentPivotGrid.getCellId(t,e);this.cellProperties.containsPropertyValue("CellValue",t)&&this.cellProperties.removePropertyValue("CellValue",t)},drillThroughCell:function(e,t){if(!e||e.isColumn)throw"Invalid pivotRow parameter";if(t&&t.isColumn)return this.parentPivotGrid.source.drillThroughPivotCell(e.adapterItem,t.adapterItem);throw"Invalid pivotColumn parameter"},getCellValue:function(e,t){var i=null;if(this.parentPivotGrid._pivotColumns.isGroupingColumn(t))return null;var s=this.parentPivotGrid.getCellId(t,e),r=this.getCellDataSource(e,t);switch(r=e.isTotal||t.isTotal?"Virtual":r){case"Virtual":i=this.parentPivotGrid.onCellValueNeeded(e,t),this.cellProperties.setDirty(s),null==i&&"BoundPivot"==this.parentPivotGrid.bindingState&&(e.isTotal||t.isTotal)&&(i=this.parentPivotGrid.getCellValueFromDataSource(e,t));break;case"DataBoundPivot":null==(i=this.cellProperties.getPropertyValue("CellValue",s))&&(i=this.parentPivotGrid.source.getCellValue(e.adapterItem,t.adapterItem),this.cellProperties.getPropertyCount("CellValue")<4e6&&this.cellProperties.setPropertyValue("CellValue",s,i));break;case"DataBound":if(null==(i=this.cellProperties.getPropertyValue("CellValue",s))){try{i=this.parentPivotGrid.getCellValueFromDataSourceNonPivot(e,t)}catch(e){return null}this.cellProperties.getPropertyCount("CellValue")<4e6&&this.cellProperties.setPropertyValue("CellValue",s,i)}break;default:i=this.cellProperties.getPropertyValue("CellValue",s)}return i},setCellDataSource:function(e,t,i){null!=e&&null!=t&&(t=this.parentPivotGrid.getCellId(t,e),this.cellProperties.setPropertyValue("cellDataSource",t,i))},getCellDataSource:function(e,t){var i=this.parentPivotGrid.getCellId(t,e),i=this.cellProperties.getPropertyValue("cellDataSource",i);return null!=(i=null!=(i=null==i?t.cellDataSource:i)&&"NotSet"!=i?i:e.cellDataSource)&&"NotSet"!=i?i:this.parentPivotGrid.UseVirtualCellsByDefault?"Virtual":"DataBound"==this.parentPivotGrid.bindingState||"DataBoundPivot"==this.parentPivotGrid.bindingState?this.parentPivotGrid.bindingState:"NotSet"},render:function(){var e=this.renderCanvas;if(e){var t=this.parentPivotGrid,i=(t.setElementPosition(e,-this.parentPivotGrid._offsetX,-this.parentPivotGrid._offsetY),t._pivotRows),s=t._pivotColumns;if(this._refreshRequired||i._isVirtualMode||s._isVirtualMode){for(var r=i._getLeafItemsToRender(),n=s._getLeafItemsToRender(),o=(this._cellElements=this._cellElements||{},new Array),a=new Date,l={first:i._isVirtualMode?r.first:0,last:i._isVirtualMode?r.last:r.items.length-1},d={first:s._isVirtualMode?n.first:0,last:s._isVirtualMode?n.last:n.items.length-1},h=l.last;l.first<=h;h--)for(var c,u,p,m,g,f,v,x,y,w=d.last;d.first<=w;w--)-1!=h&&-1!=w&&(c=r.items[h],u=n.items[w],g=t.getCellId(u,c),v=u.getDisplayWidth()-1,x=c.getDisplayHeight()-1,y=this.isCellSelected(c,u),b=void 0,(p=this._cellElements[g])&&p.isSelected==y&&(b=p.element),p={left:4,top:4,right:4,bottom:4},m=this.getCellValue(c,u),f="",b?b.style.width==v+"px"&&b.style.height==x+"px"||this.parentPivotGrid.setElementSize(b,v,x):((b=t.createDiv(e,f,v,x)).cellId=g,this._cellElements[g]={element:b,isSelected:y},t.setElementSize(b,v,x),g="right",t.cellsRenderer&&q.isFunction(t.cellsRenderer)?(f=t.cellsRenderer({value:m.value,formattedValue:m.formattedValue,isSelected:y,pivotRow:c,pivotColumn:u}),p={left:0,top:0,right:0,bottom:0}):(f=void 0!==m&&void 0!==m.formattedValue?m.formattedValue.toString():"",(v=this.parentPivotGrid.source.getCellFormatSettings(c.adapterItem,u.adapterItem))&&(g=v.align||"right")),this.parentPivotGrid.setDivContent(b,f,p,g),b.originalY=b.style.top,b.className=this.parentPivotGrid.toThemeProperty("jqx-grid-cell-normal")),b.tRender=a,"block"!=b.style.display&&(b.style.display="block"),b.style.left==u.x+"px"&&b.style.top==c.y+"px"||this.parentPivotGrid.setElementPosition(b,u.x,c.y),x="cellsClassName",this.isCellSelected(c,u)?(b.className=this.parentPivotGrid.toThemeProperty("jqx-grid-cell-selected jqx-fill-state-hover jqx-widget-content"),x="cellsClassNameSelected"):b.className=this.parentPivotGrid.toThemeProperty("jqx-grid-cell-normal jqx-widget-content"),(y=q.jqx.getByPriority([c[x],c.adapterItem&&c.adapterItem.boundField?c.adapterItem.boundField[x]:void 0,u[x],u.adapterItem&&u.adapterItem.boundField?u.adapterItem.boundField[x]:void 0]))&&(b.className+=" "+y),b.className+=" jqx-pivotgrid-content-wrapper");for(var b,_=0;_<e.childNodes.length;_++)e.childNodes[_].cellId&&e.childNodes[_].tRender!=a&&o.push(e.childNodes[_]);for(;;){if(!(b=o.pop()))break;delete this._cellElements[b.cellId],b.style.display="none",e.removeChild(b)}this._refreshRequired=!1}}},_beginSelectionUpdate:function(){for(var e in this._selectedCells)this._selectedCells[e].OldIsSelected=this._selectedCells[e].isSelected},_endSelectionUpdate:function(){var e=new Array;for(i in this._selectedCells){var t=this._selectedCells[i];t.isSelected||e.push(i),t.isSelected,t.OldIsSelected}if(0<e.length)for(var i in e)delete this._selectedCells[e[i]]},_internalClearSelection:function(){for(var e in this._selectedCells)this._internalUnselectCell(this._selectedCells[e].pivotRow,this._selectedCells[e].pivotColumn)},clearSelection:function(){this._beginSelectionUpdate(),this._internalClearSelection(),this._endSelectionUpdate(),this.render()},selectCell:function(e,t){this.parentPivotGrid.selectionEnabled&&(this._beginSelectionUpdate(),this._internalSelectCell(e,t),this.parentPivotGrid._cellKBRangeSelectionStart={pivotRow:e,pivotColumn:t,pivotCells:this},this.parentPivotGrid._cellKBRangeSelectionEnd={pivotRow:e,pivotColumn:t,pivotCells:this},this._endSelectionUpdate())},_internalSelectCell:function(e,t){if(null==t||!this.parentPivotGrid._pivotColumns.isGroupingColumn(t)){if("NO_SELECT"==this.parentPivotGrid._internalSelectMode)switch(this.parentPivotGrid.selectionMode){case"CELL_SELECT":this.parentPivotGrid._internalSelectMode="CELLS_SELECT";break;case"FULL_COLUMN_SELECT":this.parentPivotGrid._internalSelectMode="COL_SELECT";break;case"FULL_ROW_SELECT":this.parentPivotGrid._internalSelectMode="ROW_SELECT"}var i=this.parentPivotGrid.getCellId(t,e);delete this._cellElements[i],null==this._selectedCells[i]?this._selectedCells[i]={pivotRow:e,pivotColumn:t,isSelected:!0}:this._selectedCells[i].isSelected=!0,this._refreshRequired=!0}},unselectCell:function(e,t){this._beginSelectionUpdate(),this._internalUnselectCell(e,t),this._endSelectionUpdate()},_internalUnselectCell:function(e,t){t=this.parentPivotGrid.getCellId(t,e);null!=this._selectedCells[t]&&(this._selectedCells[t].isSelected=!1),delete this._cellElements[t],this._refreshRequired=!0},isCellSelected:function(e,t){var i=this.parentPivotGrid.getCellId(t,e);return!(!t.isSelected&&!e.isSelected)||null!=this._selectedCells[i]&&this._selectedCells[i].isSelected},getSelectedCellsCount:function(){return this._selectedCells.length},getSelectedCells:function(){var e,t=new Array;for(e in this._selectedCells){var i=this._selectedCells[e];i.isSelected&&t.push({pivotRow:i.pivotRow,pivotColumn:i.pivotColumn,pivotCells:this})}return t},getNextCell:function(e,t){var i={};switch(t){case"left":i={x:e.pivotColumn.x-1,y:e.pivotRow.y+1};break;case"right":i={x:e.pivotColumn.x+e.pivotColumn.getWidth()+1,y:e.pivotRow.y+1};break;case"top":i={x:e.pivotColumn.x+1,y:e.pivotRow.y-1};break;case"bottom":i={x:e.pivotColumn.x+1,y:e.pivotRow.y+e.pivotRow.getHeight()+1}}t={x:i.x+2*this.parentPivotGrid._pivotColumns.x-this.parentPivotGrid._pivotColumns.viewPort.x,y:i.y+2*this.parentPivotGrid._pivotRows.y-this.parentPivotGrid._pivotRows.viewPort.y},t=this._hitTest(t);if(t)return t}})}(jqxBaseFramework),!function(q){q.jqx.jqxPivotGrid=q.jqx.jqxPivotGrid||{},q.jqx.jqxPivotGrid.pivotItem=function(e,t){this.text="Item",this.isExpanded=!1,this.expandCollapseEnabled=!0,this.isHidden=!1,this.isFiltered=!1,this.isSelected=!1,this._height=26,this._width=18,this.isDirty=!0,this.parentItem=e||null,this.hierarchy=t||e.hierarchy,this.parentPivotGrid=this.hierarchy.parentPivotGrid,this.id=this.parentPivotGrid.genId(),this.itemLevel=0,this.itemColumn=0,this._itemOrdinal=NaN,this.x=0,this.y=0,this.hierarchyItemWidth=70,this.hierarchyItemHeight=26,this.widthWithChildrenCached=0,this.minimumWidth=18,this.maximumWidth=1e7,this.minimumHeight=8,this.maximumHeight=1/0,this.items=new Array,this.valueItems=new Array},q.extend(q.jqx.jqxPivotGrid.pivotItem.prototype,{_getChildItemsToRender:function(e){for(var t=0;t<this.items.length;t++){var i=this.items[t];i.isHidden||i.isFiltered||(e.push(i),i.isExpanded&&i._getChildItemsToRender(e))}},_calculateWidthWithChildren:function(){if(this.isHidden)this.widthWithChildrenCached=0;else{var e=!this.isColumn&&this.hierarchy.compactStyleRenderingEnabled;if(e)this.widthWithChildrenCached=this.hierarchy.getColumnWidth(0);else if(this.widthWithChildrenCached=this.getWidth(),null!=this.items&&null!=this.valueItems&&(0<this.getVisibleItemsCount()||!this.isColumn&&!e)){var t=0;if(this.isColumn){if(t=0,this.isExpanded)for(s=0;s<this.items.length;s++)this.items[s].isHidden||(t+=this.items[s].getWidthWithChildren());for(s=0;s<this.valueItems.length;s++)this.valueItems[s].isHidden||(t+=this.valueItems[s].getWidthWithChildren())}else for(var i=this.hierarchy.getMaxVisibleLevelDepth(),s=this.itemLevel;s<=i;s++)t+=this.hierarchy.getColumnWidth(s);this.widthWithChildrenCached=t}else this.widthWithChildrenCached=this.getWidth()}},getWidthWithChildren:function(){return this.hierarchy._renderRequired&&this._calculateWidthWithChildren(),this.widthWithChildrenCached},getDisplayWidth:function(){if(!this.isDirty&&!this.hierarchy._renderRequired)return this.displayWidth;var e=this.hasVisibleValueItems();return this.isColumn?this.displayWidth=this.isExpanded||e?this.getWidthWithChildren():this.getWidth():(this.displayWidth=!this.hierarchy.isColumnsHierarchy&&this.hierarchy.compactStyleRenderingEnabled?this.getWidthWithChildren():this.getWidth(),this.isExpanded||e||(this.displayWidth=this.hierarchy.getWidth()-this.x)),this.displayWidth<18&&(this.displayWidth=18),this.displayWidth},getWidth:function(){if(this.isHidden||this.isFiltered)return 0;if(null==this.hierarchy)return 0;var e=this.itemColumn,t=(!this.hierarchy.isColumnsHierarchy&&this.hierarchy.compactStyleRenderingEnabled&&(e=0),this.minimumWidth);return this.isColumn?(t=this.hierarchyItemWidth,this.parentItem&&t<this.parentItem.getWidth()&&this.parentItem.widthWithChildrenCached):t=this.hierarchy.getColumnWidth(e),t},_measureElement:function(e){var e=q("<span style='visibility: hidden; white-space: nowrap;'>"+e+"</span>"),t=(q(document.body).append(e),this.hierarchy.sortable?16:0),t={width:e.width()+t+8,height:e.height()+8};return e.remove(),t},autoResize:function(e){e=e||"fitItemContent",this.isColumn?this.setWidth(this.minimumWidth):this.setHeight(this.minimumHeight),"default"!=e&&"fitAll"!=e&&"fitItemContent"!=e||this._autoResizeBestItemContent(e),"default"!=e&&"fitAll"!=e&&"fitItemContent"!=e||this.isColumn&&null!=this.parentItem&&this.getWidth()<this.parentItem.getWidth()&&this.setWidth(this.parentItem.getWidth())},_autoResizeBestItemContent:function(e){this._updateVisibleChildItemsCount();var t,i=this._measureElement(this.text);for(t in"default"==e&&this.adapterItem.boundField&&(isNaN(this.adapterItem.boundField.width)||(i.width=this.adapterItem.boundField.width),isNaN(this.adapterItem.boundField.height)||(i.height=this.adapterItem.boundField.height)),this.itemColumn>=this.hierarchy._getColumnsCount()&&this.hierarchy._updateColumnsCount(),0<this._visibleChildItemsCount&&(i.width+=30),(this.getWidth()<i.width||"default"==e&&this.adapterItem.boundField&&!isNaN(this.adapterItem.boundField.width))&&this.setWidth(i.width),this.isColumn?this.parentPivotGrid._pivotColumns.getHeight()<i.height&&this.parentPivotGrid._pivotColumns.setRowHeight(this,i.height):this.getHeight()<i.height&&this.setHeight(i.height),this.items)this.items[t]._autoResizeBestItemContent(e);for(t in this.valueItems)this.valueItems[t]._autoResizeBestItemContent(e);null!=this.hierarchy&&(this.hierarchy._renderRequired=!0)},_autoResizeBestCellFit:function(e){if(null!=this.hierarchy&&this.hierarchy._renderRequired&&this.hierarchy.render(),null!=this.hierarchy&&this.hierarchy.ColumnsCountRequresUpdate&&this.hierarchy._updateColumnsCount(),0==this.items.length&&0==this.valueItems.length){if(null!=this.hierarchy&&null!=this.parentPivotGrid&&null!=this.parentPivotGrid._pivotCells&&null!=this.parentPivotGrid._pivotRows&&null!=this.parentPivotGrid._pivotColumns){var t={width:1,height:1},i=(this.isColumn?this.parentPivotGrid._pivotRows:this.parentPivotGrid._pivotColumns,this._getVisibleLeafLevelItems());for(n in i){i[n].isColumn||i[n],i[n].isColumn&&i[n];var s=10,r=10;t.width<s&&(t.width=s),t.height<r&&(t.height=r)}this.width<t.width&&this.setWidth(t.width),!this.isColumn&&this.getHeight()<t.height&&this.setHeight(t.height)}}else{for(var n in this.items)this.items[n]._autoResizeBestCellFit(e);for(var n in this.valueItems)this.valueItems[n]._autoResizeBestCellFit(e)}null!=this.hierarchy&&(this.hierarchy._renderRequired=!0)},setWidth:function(e){if(e<0)throw new Exception("Invalid pivotItem Width value. The value must greater than 0");var t;null!=this.hierarchy&&(t=this.itemColumn,!this.hierarchy.isColumnsHierarchy&&this.hierarchy.compactStyleRenderingEnabled&&(t=0),this.hierarchy._getColumnsCount()<t&&this.hierarchy._updateColumnsCount(),(e=e<this.minimumWidth?this.minimumWidth:e)>this.maximumWidth&&(e=this.maximumWidth),this.isColumn?this.hierarchyItemWidth=e:this.hierarchy.setColumnWidth(t,e),this.hierarchy._renderRequired=!0)},getHeight:function(){return this.isHidden||this.isFiltered?0:this.hierarchyItemHeight},setHeight:function(e){if(e<0||1e4<e)throw new Exception("Invalid pivotItem Height value. The value must be between 0 and 10000");(e=e<this.minimumHeight?this.minimumHeight:e)>this.maximumHeight&&(e=this.maximumHeight),this.hierarchyItemHeight=e,null!=this.hierarchy&&(this.hierarchy._renderRequired=!0)},_calculateHeightWithChildren:function(){if(this.isHidden||this.isFiltered)this.heightWithChildren=0;else{var e=!this.isColumn&&this.hierarchy.compactStyleRenderingEnabled;if(this.isExpanded||this.hasVisibleValueItems()){var t=0;if(this.isColumn){var t=this.hierarchyItemHeight,i=0;if(this.isExpanded)for(var s=0;s<this.items.length;s++)i<(r=this.items[s].getHeightWithChildren())&&(i=r);for(var r,s=0;s<this.valueItems.length;s++)i<(r=this.valueItems[s].getHeightWithChildren())&&(i=r);0<i&&(t+=i)}else{if(t=e?this.getHeight():0,this.isExpanded)for(s=0;s<this.items.length;s++)this.items[s].isHidden||this.items[s].isFiltered||(t+=this.items[s].getHeightWithChildren());for(s=0;s<this.valueItems.length;s++)this.valueItems[s].isHidden||this.valueItems[s].isFiltered||(t+=this.valueItems[s].getHeightWithChildren())}this.heightWithChildren=t}else this.heightWithChildren=this.hierarchyItemHeight;this.IsRowDetailsVisible&&(this.heightWithChildren+=this.RowDetailsHeight)}},getHeightWithChildren:function(){return(this.hierarchy._renderRequired||this.isDirty)&&this._calculateHeightWithChildren(),this.heightWithChildren},getDisplayHeight:function(){var e=this.hasVisibleValueItems(),t=0;return this.isColumn?t=this.isExpanded||e?this.getTotalHeight():this.hierarchy.getHeight()-this.y:this.hierarchy.compactStyleRenderingEnabled?(t=this.getHeight(),this.IsRowDetailsVisible&&(t+=this.RowDetailsHeight)):t=this.getHeightWithChildren(),t=t<this.minimumHeight?this.minimumHeight:t},getTotalHeight:function(){return this.isHidden||this.isFiltered?0:this.hierarchyItemHeight+(this.IsRowDetailsVisible?this.RowDetailsHeight:0)},ensureVisible:function(){var e,t,i=this;i.isVisible()||(e=i.hierarchy.parentPivotGrid.host,i.isColumn?(t=e.find("#divHScroll"),i.x+i.getWidth()>i.hierarchy.viewPort.width?t.val(i.x+i.getWidth()-i.hierarchy.viewPort.width):t.val(i.x)):(t=e.find("#divVScroll"),i.y+i.getHeight()>i.hierarchy.viewPort.height?t.val(i.y+i.getHeight()-i.hierarchy.viewPort.height):t.val(i.y)))},isVisible:function(){return!this.isHidden&&!(this.y<this.hierarchy.viewPort.y-this.hierarchy.y||this.y+this.getDisplayHeight()>this.hierarchy.viewPort.y-this.hierarchy.y+this.hierarchy.viewPort.height||this.x<this.hierarchy.viewPort.x-this.hierarchy.x||this.x+this.getDisplayWidth()>this.hierarchy.viewPort.x-this.hierarchy.x+this.hierarchy.viewPort.width)},_updateVisibleChildItemsCount:function(){for(var e=0,t=0;t<this.items.length;t++)this.items[t].isHidden||this.items[t].isFiltered||e++;this._visibleChildItemsCount=e},render:function(e,t){this._updateVisibleChildItemsCount();if(this.isHidden||this.isFiltered)return!0;this.x=e,this.y=t;var i=!this.isColumn&&this.hierarchy.compactStyleRenderingEnabled,s=i?this.getTotalHeight():0;if(this.isExpanded)for(var r=0;r<this.items.length;r++){var n=this.items[r];if(!n.isHidden&&!n.isFiltered)if(this.isColumn){if(!n.render(this.x+s,t+this.getTotalHeight()))break;s+=n.getWidthWithChildren()}else{var o=e;if(o+=i?0:this.getWidth(),!n.render(o,this.y+s))break;s+=n.getHeightWithChildren()}}for(r=0;r<this.valueItems.length;r++){n=this.valueItems[r];if(!n.isHidden&&!n.isFiltered)if(this.isColumn){if(!n.render(this.x+s,t+this.getTotalHeight()))break;s+=n.getWidthWithChildren()}else{o=e;if(o+=i?0:this.getWidth(),!n.render(o,this.y+s))break;s+=n.getHeightWithChildren()}}return this._calculateWidthWithChildren(),this._calculateHeightWithChildren(),!0},_getChildItemsDepth:function(){for(var e=0,t=0;t<this.items.length;t++)e<(i=this.items[t]._getChildItemsDepth())&&(e=i);for(var i,t=0;t<this.valueItems.length;t++)e<(i=this.valueItems[t]._getChildItemsDepth())&&(e=i);return e+1},getTotalItemsCount:function(){var e=0;if(0==this.items.length&&0==this.valueItems.length)e=1;else{for(var t=0;t<this.items.length;t++)e+=this.items[t].getTotalItemsCount();for(t=0;t<this.valueItems.length;t++)e+=this.valueItems[t].getTotalItemsCount()}return e},hasVisibleValueItems:function(){for(var e=0;e<this.valueItems.length;e++){var t=this.valueItems[e];if(0==t.isHidden&&0==t.isFiltered)return!0}return!1},getVisibleItemsCount:function(){if(this.isHidden||this.isFiltered)return 0;var e=0;if(!(this.isExpanded&&0!=this.items.length||0!=this.valueItems.length))return e;for(var e=0,t=0;t<this.items.length;t++)this.items[t].isHidden||this.items[t].isFiltered||e++;for(t=0;t<this.valueItems.length;t++)this.valueItems[t].isHidden||this.valueItems[t].isFiltered||e++;return e},hitTest:function(e){if(this.isHidden||this.isFiltered)return null;var t=this.getDisplayHeight()+1,i=this.getDisplayWidth()+1;return e.x>=this.x&&e.x<=this.x+i&&e.y>=this.y&&e.y<=this.y+t?this:null},_expandInternal:function(e,t,i){if(0!=this.items.length&&this.expandCollapseEnabled&&this.isExpanded!=e){var s=new q.Event(this.isExpanded?"pivotitemcollapsing":"pivotitemexpanding"),r=(s.owner=this.hierarchy.parentPivotGrid,s.args={pivotItem:this},s.cancel=!1,this.hierarchy.parentPivotGrid.host);if(r.trigger(s),!s.cancel&&(this.isExpanded=e,0!=this.items.length||0!=this.valueItems.length)){if(i){for(var n=0;n<this.items.length;n++)this.items[n]._expandInternal(e,t,i);for(n=0;n<this.valueItems.length;n++)this.valueItems[n]._expandInternal(e,t,i)}this.hierarchy._renderRequired=!0,t&&this.hierarchy._updateVisibleLeaves(),(s=new q.Event(this.isExpanded?"pivotitemexpanded":"pivotitemcollapsed")).owner=this.hierarchy.parentPivotGrid,s.args={pivotItem:this},r.trigger(s)}}},expand:function(){this._expandInternal(!0,!0,!1)},collapse:function(){this._expandInternal(!1,!0,!1)},_getFirstVisibleLeaf:function(e){if(e.isExpanded){for(var t=!1,i=0;i<e.items.length;i++)if(0==e.items[i].isHidden&&0==e.items[i].isFiltered){e=e.items[i],e=this._getFirstVisibleLeaf(e),t=!0;break}if(t)return e}if(e.hasVisibleValueItems){for(t=!1,i=0;i<e.valueItems.length;i++)if(0==e.valueItems[i].isHidden&&0==e.valueItems[i].isFiltered){e=e.valueItems[i],e=this._getFirstVisibleLeaf(e),t=!0;break}if(t)return e}return e},_getLastVisibleLeaf:function(e){for(var t=!1,i=e.valueItems.length-1;0<=i;i--)if(0==e.valueItems[i].isHidden&&0==e.valueItems[i].isFiltered){e=e.valueItems[i],e=this._getLastVisibleLeaf(e),t=!0;break}if(t)return e;for(i=e.items.length-1;0<=i&&e.isExpanded;i--)if(0==e.items[i].isHidden&&0==e.items[i].isFiltered){e=e.items[i],e=this._getLastVisibleLeaf(e);break}return e}}),q.jqx.jqxPivotGrid.hierarchy=function(){this.parentPivotGrid=arguments[0],this._initDefaults()},q.extend(q.jqx.jqxPivotGrid.hierarchy.prototype,{_initDefaults:function(){this.columnWidths=new Array,this.rowHeights=new Array,this.items=new Array,this.valueItems=new Array,this.visibleLeafItems=new Array,this.viewPort=new Object,this.viewPort.x=0,this.viewPort.y=0,this.viewPort.width=1e4,this.viewPort.height=1e4,this.isFixed=!1,this.isHidden=!1,this.resizable=!0,this.sortable=!0,this._renderRequired=!0,this.maxVisibleLevelDepth=-1,this.showExpandCollapseButtons=!0,this.x=0,this.y=0,this._width=0,this._height=0,this.minColumnWidth=18,this._isColumnsCountRequresUpdate=!0,this._selectedItems=new Object,this.virtualModeThreshold=5e3,this._isVirtualMode=!0},isVisible:function(){return!this.isHidden},toggle:function(){this.isHidden?this.show():this.hide()},getOtherHierarchy:function(){return this.isColumnsHierarchy?this.parentPivotGrid._pivotRows:this.parentPivotGrid._pivotColumns},show:function(){this.isHidden=!1,this._renderRequired=!0,this.getOtherHierarchy()._renderRequired=!0},hide:function(){this.isHidden=!0,this._renderRequired=!0,this.getOtherHierarchy()._renderRequired=!0},refresh:function(){var e=this.parentPivotGrid,t=e.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-widget-header"),i=e.toThemeProperty("jqx-widget-content jqx-fill-state-normal jqx-widget-header"),s=q.jqx.get(this,"renderCanvas"),r=this._renderRequired||this._refreshRequired;if(r&&(this._renderRequired&&this.render(),!this.isHidden)){var n=new Array,o=new Date,a=this._getItemsToRender();if(a){for(var l=0;l<a.length;l++){var d,h,c,u,p,m=a[l],g=m.getDisplayWidth()-1,f=m.getDisplayHeight()-1,v=m._element,x=(q.isFunction(e.itemsRenderer)&&(d=e.itemsRenderer(m),v&&m._currentCustomContent!=d&&(s.removeChild(v),v=m._element=null),m._currentCustomContent=d),v||(d={left:4,top:4,right:4,bottom:4},!this.isColumnsHierarchy&&this.compactStyleRenderingEnabled&&(d.left+=m.itemLevel*this.compactStyleRenderingItemsIndent),h=m.text,c="left",q.isFunction(e.itemsRenderer)?(h=m._currentCustomContent,d={left:0,top:0,right:0,bottom:0}):(w="",0!=m.items.length&&m.hierarchy.showExpandCollapseButtons&&(w=m.isExpanded?"<div style='position: relative; top: 3px; padding: 5px; width: 11px; height: 11px;' class='jqx-pivotgrid-collapse-button'></div>":"<div style='position: relative; top: 3px; padding: 5px; width: 11px; height: 11px;' class='jqx-pivotgrid-expand-button'></div>"),u="",m.hierarchy._sortItem==m&&(u="<div id='sortElement' class='"+("desc"==m.hierarchy._sortOrder?"sortdesc jqx-grid-column-sortdescbutton "+this.parentPivotGrid.toThemeProperty("jqx-icon-arrow-down"):"sortasc jqx-grid-column-sortascbutton "+this.parentPivotGrid.toThemeProperty("jqx-icon-arrow-up"))+"' style='position: relative; float: right; padding-right: 8px; width: 16px; height: 100%;'></div>"),p=m.text,"center"!=(c=(c=m.adapterItem.boundField?m.adapterItem.boundField.align||"left":c).toString().toLowerCase())&&"right"!=c&&(c="left"),h=""!=u?(x=0,y=24,""!=w&&(y+=x=23),w+"<div><div style='left: "+x+"px; top: 0; position: absolute; height: 100%; width: calc(100% - "+y+"px); text-overflow: ellipsis; overflow: hidden;  white-space: nowrap;padding-left:"+d.left+"px; padding-top:"+d.top+"px; '>"+p+"</div><div style='left: 0; top: 0; position: absolute; height: 100%; width: 100%;'>"+u+"</div></div>"):w+p+u),v=e.createDiv(s,"",g,f),e.setDivContent(v,h,d,c,!0),this.parentPivotGrid.getChild(v,"innerDiv").className="jqx-pivotgrid-item",e.setElementPosition(v,m.x,m.y),v.originalY=v.style.top),m.tRender=o,m.isSelected?t:i),y=m.isSelected?"classNameSelected":"className",w=q.jqx.getByPriority([m[y],m.adapterItem&&m.adapterItem.boundField?m.adapterItem.boundField[y]:void 0,this.hierarchy?this.hierarchy[y]:void 0]);w&&(x+=" "+w),(x+=" jqx-pivotgrid-content-wrapper")!=v.className&&(v.className=x),v.style.display="block",(v.item=m)._element=v}for(l=0;l<s.childNodes.length;l++)s.childNodes[l].item&&s.childNodes[l].item.tRender!=o&&n.push(s.childNodes[l]);for(;;){var b=n.pop();if(!b)break;100<s.childNodes.length?(b.item._element=void 0,s.removeChild(b)):b.item._element.style.display="none"}var r=this.isColumnsHierarchy?0:-e._offsetY,_=this.isColumnsHierarchy?-e._offsetX:0;e.setElementPosition(s,_,r),this._refreshRequired=!1}}},clear:function(){this._initDefaults(),this._resetCanvas(),this.items=[],this.valueItems=[],this._renderRequired=!0},_resetCanvas:function(){var e=q.jqx.get(this,"renderCanvas");if(e)for(;e.hasChildNodes();)e.firstChild.item._element=void 0,e.removeChild(e.firstChild)},autoResize:function(e){for(var t=0;t<this.items.length;t++)this.items[t].autoResize(e);for(t=0;t<this.valueItems.length;t++)this.valueItems[t].autoResize(e)},getMaxVisibleLevelDepth:function(){if(-1==this.maxVisibleLevelDepth||this._renderRequired)for(var e=this._getVisibleLeafLevelItems(),t=this.maxVisibleLevelDepth=0;t<e.length;t++)e[t].itemLevel>this.maxVisibleLevelDepth&&(this.maxVisibleLevelDepth=e[t].itemLevel);return this.maxVisibleLevelDepth},getHierarchyDepth:function(){for(var e=0,t=0;t<this.items.length;t++)e<(i=this.items[t]._getChildItemsDepth())&&(e=i);for(var i,t=0;t<this.valueItems.length;t++)e<(i=this.valueItems[t]._getChildItemsDepth())&&(e=i);return e},getSortItem:function(){return this._sortItem},getSortOrder:function(){return this._sortOrder},_fnAscSortComparer:function(e,t){var i=e.hierarchy.parentPivotGrid,s=(e.isColumn?i._pivotRows:i._pivotColumns)._sortItem;if(!s)return 0;if(e.adapterItem&&e.adapterItem.isTotal)return 1;if(t.adapterItem&&t.adapterItem.isTotal)return-1;i=i._pivotCells,e=e.isColumn?i.getCellValue(s,e):i.getCellValue(e,s),i=t.isColumn?i.getCellValue(s,t):i.getCellValue(t,s);return e.value-i.value},_fnDescSortComparer:function(e,t){return e.adapterItem&&e.adapterItem.isTotal?1:t.adapterItem&&t.adapterItem.isTotal?-1:-1*q.jqx.jqxPivotGrid.hierarchy.prototype._fnAscSortComparer(e,t)},_collectionSort:function(e,t,i){if(this.parentPivotGrid&&this.parentPivotGrid._pivotCells){var s=this.isColumnsHierarchy?this.parentPivotGrid._pivotRows:this.parentPivotGrid._pivotColumns;e=e||this.items,t=t||("asc"==s._sortOrder?this._fnAscSortComparer:this._fnDescSortComparer),this._isSorted&&!i&&this._collectionRemoveSort(e);for(var r=0;r<e.length;r++)e[r]._itemOrdinal=r,this._collectionSort(e[r].items,t,!0);e=e.sort(t),i||(this._isSorted=!0,this._renderRequired=!0,s._renderRequired=!0,this._updateVisibleLeaves())}},_collectionRemoveSort:function(e,t){if(this._isSorted){e=e||this.items;for(var i=new Array(e.length),s=0;s<e.length;s++)i[e[s]._itemOrdinal]=e[s],this._collectionRemoveSort(e[s].items,!0);this.items=i,t||(this._renderRequired=!0,this._updateVisibleLeaves(),this.isColumnsHierarchy&&(this._isColumnsCountRequresUpdate=!0),this._isSorted=!1,(t=this.isColumnsHierarchy?this.parentPivotGrid._pivotRows:this.parentPivotGrid._pivotColumns)._sortItem=void 0,t._sortOrder=void 0,t._renderRequired=!0)}},sortBy:function(e,t){var i,s;!e||e.isColumn==this.isColumnsHierarchy||0<e.valueItems.length||((i=new q.Event("sortchanging")).owner=this.parentPivotGrid,i.args={pivotItem:e,sortOrder:t},i.cancel=!1,this.parentPivotGrid.host.trigger(i),i.cancel||(this._collectionRemoveSort(this.items),(s=e.isColumn?this.parentPivotGrid._pivotColumns:this.parentPivotGrid._pivotRows)._sortItem=e,s._sortOrder=t,this._collectionSort(),this.parentPivotGrid._internalRefresh(),(i=new q.Event("sortchanged")).owner=this.parentPivotGrid,i.args={pivotItem:e,sortOrder:t},this.parentPivotGrid.host.trigger(i)))},removeSort:function(){var e=this==this.parentPivotGrid._pivotColumns?this.parentPivotGrid._pivotRows:this.parentPivotGrid._pivotColumns,t=e._sortItem,e=e._sortOrder,i=new q.Event("sortremoving"),s=(i.owner=this.parentPivotGrid,i.args={pivotItem:t,sortOrder:e},i.cancel=!1,this.parentPivotGrid.host);s.trigger(i),i.cancel||(this._collectionRemoveSort(this.items),this.parentPivotGrid._internalRefresh(),(i=new q.Event("sortremoved")).owner=this.parentPivotGrid,i.args={pivotItem:t,sortOrder:e},s.trigger(i))},_binSearchItems:function(e,t){return this._binSearchItems2(e,t,0,e.length)},_binSearchItems2:function(e,t,i,s){var r=i,n=s;if(n==r)return-1;for(var o=e[0].isColumn;r<n;){var a=parseInt((r+n)/2),l=e[a];if(o)if(l.x>t.x)n=a;else{if(!((a+1<n?e[a+1].x:l.x+l.getWidth())<t.x))return a;r=a+1}else if(l.y>t.y)n=a;else{if(!((a+1<n?e[a+1].y:l.y+l.getTotalHeight())<t.y))return a;r=a+1}}return-1},_pointToLeafItemIndex:function(e){this._renderRequired&&this.render();var e={x:e.x,y:e.y},t=(e.x+=-this.x+this.viewPort.x,e.y+=-this.y+this.viewPort.y,this._getVisibleLeafLevelItems());return this._binSearchItems(t,e)},_pointToLeafItem:function(e){var t=this._getVisibleLeafLevelItems(),e=this._pointToLeafItemIndex(e);return-1==e||e<0||e>=t.length?null:(t[e].lfIdx=e,t[e])},_pointToLeafItemIndexAbsolute:function(e){this._renderRequired&&this.render();this.viewPort.x,this.x,this.viewPort.y,this.y;var e={x:e.x,y:e.y},t=(e.x-=this.x-(this.viewPort.x-this.x),e.y-=this.y-(this.viewPort.y-this.y),this._getVisibleLeafLevelItems());return this._binSearchItems(t,e)},_pointToLeafItemAbsolute:function(e){var t=this._getVisibleLeafLevelItems(),e=this._pointToLeafItemIndexAbsolute(e);return-1==e||e<0||e>=t.length?null:(t[e].lfIdx=e,t[e])},_pointInRect:function(e,t){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height},hitTest:function(e){this._renderRequired&&this.render();var t=this.viewPort.x-this.x,i=this.viewPort.y-this.y;if(!this._pointInRect({x:e.x+t,y:e.y+i},this.viewPort)||this.isHidden)return null;var s={x:e.x,y:e.y},t=(s.x-=this.x-(this.viewPort.x-this.x),s.y-=this.y-(this.viewPort.y-this.y),this._getVisibleLeafLevelItems()),i=this._binSearchItems(t,s);if(-1==i)return null;var r=t[i],n=r.hitTest(s);if(null!=n)return n;for(;null!=r;)if(null!=(r=r.parentItem)&&null!=(n=r.hitTest(s)))return n;return null},_addColumn:function(e){return e<this.minColumnWidth&&(e=this.minColumnWidth),this.columnWidths.push(e),this.columnWidths.length-1},setColumnWidth:function(e,t){return e>=this.columnWidths.length&&this._updateColumnsCount(e+1),t<this.minColumnWidth&&(t=this.minColumnWidth),e<this.columnWidths.length&&(this.columnWidths[e]=t),this._renderRequired=!0},getColumnWidth:function(e){return e>=this.columnWidths.length?70:this.columnWidths[e]},_getVisibleLeaves:function(e,t,i){if(t.isHidden||t.isFiltered)return!0;if(0==t.items.length&&0==t.valueItems.length)return e.push(t),!0;if(i&&e.push(t),t.isExpanded)for(var s=0;s<t.items.length;s++){var r=t.items[s];r.isHidden||r.isFiltered||(0<t.items.length&&r.isExpanded||r.hasVisibleValueItems()?this._getVisibleLeaves(e,r,i):e.push(r))}for(s=0;s<t.valueItems.length;s++){var n=t.valueItems[s];n.isHidden||n.isFiltered||e.push(n)}return!0},_getVisibleLeafLevelItems:function(){return 0==this.visibleLeafItems.length&&this._updateVisibleLeaves(),this.visibleLeafItems},_updateVisibleLeaves:function(){if(this.visibleLeafItems=new Array,this.items.length+this.valueItems.length!=0){for(var e=!this.isColumnsHierarchy&&this.compactStyleRenderingEnabled,t=0;t<this.items.length;t++)(i=this.items[t]).isHidden||i.isFiltered||(i.isExpanded||i.hasVisibleValueItems()?this._getVisibleLeaves(this.visibleLeafItems,i,e):this.visibleLeafItems.push(i));for(var i,t=0;t<this.valueItems.length;t++)(i=this.valueItems[t]).isHidden||i.isFiltered||(i.isExpanded||i.hasVisibleValueItems()?this._getVisibleLeaves(this.visibleLeafItems,i,e):this.visibleLeafItems.push(i));for(t=0;t<this.visibleLeafItems.length;t++)this.visibleLeafItems[t]._lfIndex=t;this._updateItemsLevelAndColumn()}},_getFirstLeafIndexToRender:function(){var e={x:this.x,y:this.y},e={x:e.x,y:e.y};return e.x-=this.x-(this.viewPort.x-this.x),e.y-=this.y-(this.viewPort.y-this.y),this._binSearchItems(this._getVisibleLeafLevelItems(),e)},_getLastLeafIndexToRender:function(){var e={x:Math.min(this.viewPort.width,this.getWidth())-5,y:Math.min(this.viewPort.height,this.getHeight())-5};return this._pointToLeafItemIndex(e)},_getLeafItemsToRender:function(){var e={};return e.items=this._getVisibleLeafLevelItems(),e.first=this._getFirstLeafIndexToRender(),e.last=this._getLastLeafIndexToRender(),e},_getItemsToRender:function(){var e=this._getLeafItemsToRender(),t=e.first,i=e.last;if(-1!=t&&-1!=i){for(var s={},r=t;r<=i;r++){var n=e.items[r];for(s[n.id]=n;null!=n.parentItem;)s[(n=n.parentItem).id]=n}var r,o=new Array;for(r in s)o.push(s[r]);return o}},_updateItemsLevelAndColumn2:function(e,t){e.itemColumn=t,e.itemLevel=t;for(var i=0;i<e.items.length;i++)this._updateItemsLevelAndColumn2(e.items[i],t+1);for(i=0;i<e.valueItems.length;i++)this._updateItemsLevelAndColumn2(e.valueItems[i],t+1)},_updateItemsLevelAndColumn:function(){for(var e=0;e<this.items.length;e++)this._updateItemsLevelAndColumn2(this.items[e],0);for(e=0;e<this.valueItems.length;e++)this._updateItemsLevelAndColumn2(this.valueItems[e],0)},updateColumnsCount:function(){this.updateColumnsCount(0)},getTotalItemsCount:function(){var e=0;if(0==this.items.length&&0==this.valueItems.length)e=1;else{for(var t=0;t<this.items.length;t++)e+=this.items[t].getTotalItemsCount();for(t=0;t<this.valueItems.length;t++)e+=this.valueItems[t].getTotalItemsCount()}return e},_updateColumnsCount:function(e){var t,i=this._getColumnsCount(),s=this.getTotalItemsCount();1024<e&&(e=1024),this.isColumnsHierarchy?s<e&&(s=e):s=(t=this.getHierarchyDepth())<e?e:t;for(var r=i;r<s;r++)this._addColumn(70);this._isColumnsCountRequresUpdate=!1},_updateColumnsIndexes:function(){for(var e in this.items)this._updateItemsLevelAndColumn2(this.items[e],0);for(var e in this.valueItems)this._updateItemsLevelAndColumn2(this.valueItems[e],0)},_getColumnsCount:function(){return this.columnWidths.length},_getRenderedItems:function(){var e=new Array;return this._getChildItemsToRender(e),e},_getChildItemsToRender:function(e){for(var t=0;t<this.items.length;t++){var i=this.items[t];i.isHidden||i.isFiltered||(e.push(i),i.isExpanded&&i._getChildItemsToRender(e))}},getWidth:function(){return this._renderRequired&&this.render(),this._width},getHeight:function(){return this._renderRequired&&this.render(),this._height},_beginSelectionUpdate:function(){for(var e in this._selectedItems)this._selectedItems[e].OldIsSelected=this._selectedItems[e].isSelected},_endSelectionUpdate:function(){var e,t=new Array;for(e in this._selectedItems){var i,s=this._selectedItems[e];s.isSelected||t.push(this._selectedItems[e]),s.isSelected==s.OldIsSelected||null!=s.parentItem&&1!=s.parentItem.isExpanded&&!s._isValueItem||((i=new q.Event("pivotitemselectionchanged")).owner=this.parentPivotGrid,i.args={pivotItem:s,selected:s.isSelected},this.parentPivotGrid.host.trigger(i))}for(e in t){var r=this._selectedItems[t[e].adapterItem.key];r.isSelected=r.OldIsSelected=!1,delete this._selectedItems[t[e].adapterItem.key]}},selectItem:function(e){this.parentPivotGrid.selectionEnabled&&(this._beginSelectionUpdate(),this._internalSelectItem(e),this._endSelectionUpdate())},_internalSelectItem:function(e){if(null!=e&&!(e.isColumn!=this.isColumnsHierarchy||this.isColumnsHierarchy&&this.isGroupingColumn(e))){var t=e.adapterItem.key;if(null==this._selectedItems[t]&&(this._selectedItems[t]=e),e.isSelected=!0,this._refreshRequired=!0,this.parentPivotGrid._pivotCells._refreshRequired=!0,this.isColumnsHierarchy||!e.hierarchy.compactStyleRenderingEnabled){for(var i in e.items)this._internalSelectItem(e.items[i]);for(var i in e.valueItems)this._internalSelectItem(e.valueItems[i])}}},unselectItem:function(e){this._beginSelectionUpdate(),this._internalUnselectItem(e),this._endSelectionUpdate()},_internalUnselectItem:function(e){if(null!=e&&e.isColumn==this.isColumnsHierarchy){var t=e.adapterItem.key;if(this._selectedItems[t]&&(this._selectedItems[t].isSelected=!1,this._refreshRequired=!0,this.parentPivotGrid._pivotCells._refreshRequired=!0),this.isColumnsHierarchy||!e.hierarchy.compactStyleRenderingEnabled){for(var i in e.items)this._internalUnselectItem(e.items[i]);for(var i in e.valueItems)this._internalUnselectItem(e.valueItems[i])}}},_internalClearSelection:function(){for(var e in this._selectedItems)this._internalUnselectItem(this._selectedItems[e])},clearSelection:function(){this._beginSelectionUpdate(),this._internalClearSelection(),this._endSelectionUpdate()},_applySelectionToParentItem:function(e){var t=e.parentItem;if(null!=t){var i,s,e=e.hierarchy,r=!0;if(t.isExpanded)for(var n in t.items)if(0==(i=t.items[n]).isSelected&&0==i.isHidden){r=!1;break}if(r)for(var n in t.valueItems)if(0==(i=t.valueItems[n]).isSelected&&0==i.isHidden){r=!1;break}r&&(s=t.adapterItem.key,null==e._selectedItems[s]&&(e._selectedItems[s]=t),t.isSelected=!0,this._applySelectionToParentItem(t))}},_applySelectionToParentItems:function(){for(var e in this._selectedItems)this._applySelectionToParentItem(this._selectedItems[e])},getSelectedItems:function(){var e,t=new Array;for(e in this._selectedItems)this._selectedItems[e].isSelected&&t.push(e);return t}}),q.jqx.jqxPivotGrid.pivotRows=function(e){q.extend(this,new q.jqx.jqxPivotGrid.hierarchy),this.parentPivotGrid=e,this.isColumnsHierarchy=!1,this.compactStyleRenderingEnabled=!1,this.compactStyleRenderingItemsIndent=20},q.extend(q.jqx.jqxPivotGrid.pivotRows.prototype,q.jqx.jqxPivotGrid.hierarchy.prototype),q.extend(q.jqx.jqxPivotGrid.pivotRows.prototype,{setColumnWidth:function(e,t){return e>=this.columnWidths.Count&&this._updateColumnsCount(e+1),(e=this.compactStyleRenderingEnabled?0:e)<this.columnWidths.length&&(this.columnWidths[e]=t),this._renderRequired=!0},updateBounds:function(){for(var e=0,t=0,i=0;i<2;i++)for(var s=0==i?this.items:this.valueItems,r=0;r<s.length;r++){var n=s[r];n.isHidden||(e+=n.getHeightWithChildren(),t<(n=n.getWidthWithChildren())&&(t=n))}this._width=t,this._height=e+1},render:function(){if(!this._renderSuppressed){for(this._refreshRequired=!0,this.parentPivotGrid._pivotCells._refreshRequired=!0,this.isRendering=!0,this._isColumnsCountRequresUpdate&&this._updateColumnsCount();this._getColumnsCount()<this.getHierarchyDepth();)q.jqx.get(this,"columnWidths").push(70);this._updateVisibleLeaves(),this.compactStyleRenderingEnabled&&(0==this.columnWidths.Count&&this._addColumn(70),(e=this.columnWidths[0])<(t=this.getHierarchyDepth())*this.compactStyleRenderingItemsIndent&&(e=t*this.compactStyleRenderingItemsIndent),this.columnWidths[0]=e),this.updateBounds();var e,t,i=0;if(this.items.length+this.valueItems.length==0)return null!=this.parentPivotGrid&&(this.parentPivotGrid.isSyncScrollRequired=!0),this.isRendering=!1,void(this._renderRequired=!1);for(var s=0;s<2;s++)for(var r=0==s?this.items:this.valueItems,n=0;n<r.length;n++){var o=r[n];if(null==o.hierarchy&&(o.hierarchy=this),!o.isHidden){var a=o.getHeightWithChildren();if(o.itemLevel<this.columnWidths.length&&o.getWidth()>this.columnWidths[o.itemLevel]&&(this.columnWidths[o.itemLevel]=o.getWidth()),!o.render(0,i))break;i+=a}}this.updateBounds(),null!=this.parentPivotGrid&&(this.parentPivotGrid.isSyncScrollRequired=!0),this._resetCanvas(),this._renderRequired=!1,this.isRendering=!1}},isOnRowDetails:function(e,t){if(!t.RowDetailsVisible)return!1;e={x:e.x,y:e.y};return e.x+=-this.x+this.viewPort.x,e.y+=-this.y+this.viewPort.y,e.y<t.y+t.getDisplayHeight()&&e.y>t.y+t.getDisplayHeight()-t.RowDetailsHeight}}),q.jqx.jqxPivotGrid.pivotColumns=function(e){q.extend(this,new q.jqx.jqxPivotGrid.hierarchy),this.parentPivotGrid=e,this.isColumnsHierarchy=!0},q.extend(q.jqx.jqxPivotGrid.pivotColumns.prototype,q.jqx.jqxPivotGrid.hierarchy.prototype),q.extend(q.jqx.jqxPivotGrid.pivotColumns.prototype,{render:function(){if(!this._renderSuppressed){if(this._refreshRequired=!0,this.parentPivotGrid._pivotCells._refreshRequired=!0,this._updateVisibleLeaves(),this._updateColumnsIndexes(),this.items.length+this.valueItems.length==0)return null!=this.parentPivotGrid&&(this.parentPivotGrid.isSyncScrollRequired=!0),void this._updateVisibleLeaves();for(var e=0,t=0;t<2;t++)for(var i=0==t?this.items:this.valueItems,s=0;s<i.length;s++){var r=i[s];if(null==r.hierarchy&&(r.hierarchy=this),!r.isHidden){var n=r.getWidthWithChildren();if(!r.render(e,0))break;e+=n}}this._renderRequired=!1,null!=this.parentPivotGrid&&(this.parentPivotGrid.isSyncScrollRequired=!0),this._updateVisibleLeaves(),this.updateBounds(),this._resetCanvas()}},updateBounds:function(){for(var e=0,t=0,i=0;i<2;i++)for(var s=0==i?this.items:this.valueItems,r=0;r<s.length;r++){var n=s[r],o=n.getHeightWithChildren();e<o&&(e=o),t+=n.getWidthWithChildren()}this._height=e,this._width=t+1},_updateColumnsIndexes:function(){for(var e=this.visibleLeafItems.length,t=--e;0<=t;t--)for(var i=this.visibleLeafItems[t],s=(i.itemColumn=t,i.parentItem);null!=s;)s=s.hierarchy!=i.hierarchy?null:(s.itemColumn=t,(i=s).parentItem)},setRowHeight:function(e,t){return!(t<15||500<t)&&(e.hierarchyItemHeight=t,this._renderRequired=!0)},isGroupingColumn:function(e){return null!=e&&(null!=this.parentPivotGrid&&!!(e.ItemIndex<this.parentPivotGrid.groupingColumns.length&&this.parentPivotGrid.isGroupingEnabled))}})}(jqxBaseFramework),!function(e){e.extend(e.jqx._jqxPivotGrid.prototype,{_handleKeyboardNavigation:function(e){return"CELLS_SELECT"==this._internalSelectMode?this._handleCellsKeyboardNavigation(e):("ROW_SELECT"!=this._internalSelectMode&&this._internalSelectMode,!1)},_handleCellsKeyboardNavigation:function(e){var t=this._cellKBRangeSelectionEnd,i=void 0;if(!t)return!1;if(37==e.keyCode&&(i=this._pivotCells.getNextCell(t,"left")),38==e.keyCode?i=this._pivotCells.getNextCell(t,"top"):39==e.keyCode?i=this._pivotCells.getNextCell(t,"right"):40==e.keyCode&&(i=this._pivotCells.getNextCell(t,"bottom")),null!=i){this._pivotRows._refreshRequired=!0,this._pivotColumns._refreshRequired=!0,this._pivotCells._refreshRequired=!0,this._colItemRangeSelectionBeg=i.pivotColumn,this._rowItemRangeSelectionBeg=i.pivotRow,this._beginSelectionUpdate(),this._isCTRLPressed&&0!=this.multipleSelectionEnabled||this._internalClearSelection(),this._pivotCells._internalSelectCell(this._rowItemRangeSelectionBeg,this._colItemRangeSelectionBeg),this._cellKBRangeSelectionEnd={pivotRow:this._rowItemRangeSelectionBeg,pivotColumn:this._colItemRangeSelectionBeg,pivotCells:this._pivotCells},this._cellKBRangeSelectionStart&&this._isSHIFTPressed||(this._cellKBRangeSelectionStart={pivotRow:this._rowItemRangeSelectionBeg,pivotColumn:this._colItemRangeSelectionBeg,pivotCells:this._pivotCells});for(var e=Math.min(this._cellKBRangeSelectionStart.pivotColumn._lfIndex,this._cellKBRangeSelectionEnd.pivotColumn._lfIndex),s=Math.max(this._cellKBRangeSelectionStart.pivotColumn._lfIndex,this._cellKBRangeSelectionEnd.pivotColumn._lfIndex),r=Math.min(this._cellKBRangeSelectionStart.pivotRow._lfIndex,this._cellKBRangeSelectionEnd.pivotRow._lfIndex),n=Math.max(this._cellKBRangeSelectionStart.pivotRow._lfIndex,this._cellKBRangeSelectionEnd.pivotRow._lfIndex),o=e;o<=s;o++)for(var a=r;a<=n;a++){var l=this._pivotColumns.visibleLeafItems[o],d=this._pivotRows.visibleLeafItems[a];this._pivotCells._internalSelectCell(d,l)}this._endSelectionUpdate(),i.pivotRow.ensureVisible(),i.pivotColumn.ensureVisible(),this._internalRefresh()}return!1}})}(jqxBaseFramework),!function(r){r.jqx.jqxWidget("jqxPopover","",{}),r.extend(r.jqx._jqxPopover.prototype,{defineInstance:function(){var e={arrowOffsetValue:null,animationType:"fade",position:"bottom",animationOpenDelay:"fast",animationCloseDelay:"fast",autoClose:!0,isModal:!1,height:null,initContent:null,offset:null,rtl:!1,showArrow:!0,showCloseButton:!1,selector:null,title:"",width:null,_toggleElement:null,_popover:null,_popoverTop:0,_popoverLeft:0,_init:!1,_ie8:r.jqx.browser.msie&&8===r.jqx.browser.version,_ie7:r.jqx.browser.msie&&r.jqx.browser.version<8,_left:0,_top:0,events:["open","close"]};return this===r.jqx._jqxPopover.prototype||r.extend(!0,this,e),e},createInstance:function(){this._content=this.host.children()},render:function(){var e=this,t=e.element.id;if(e._content.detach(),e._toggleElement=r(e.selector),0===e._toggleElement.length)throw new Error('jqxPopover: Invalid Popover toggler: "'+e.selector+'".');if(null===e._toggleElement)throw new Error("jqxPopover: Missing Popover toggler.");var i=r('<div id="'+t+'" class="'+e.toThemeProperty("jqx-popover")+'"><div class="'+e.toThemeProperty("jqx-popover-arrow")+'"></div><div class="'+e.toThemeProperty("jqx-popover-title")+'"></div><div class="'+e.toThemeProperty("jqx-popover-content")+'"></div></div>'),s=(r("body").append(i),e.host.data()),s=(e.host.detach(),e.host=i,e.host.data(s),e.element=i[0],e.element.id=t,e._popover=r("#"+t),e._popover.find(".jqx-popover-title")),i=(s.append(e.title),e._popover.find(".jqx-popover-content"));i.append(e._content),e._popover.hide(),e._removeHandlers(),e._addHandlers(),e._popover.addClass(e.position),s.addClass(e.toThemeProperty("jqx-widget-header")),e._popover.addClass(e.toThemeProperty("jqx-widget jqx-widget-content jqx-rc-all")),e.showArrow?(e._popover.addClass(e.toThemeProperty("jqx-popover-arrow-"+e.position)),e._popover.find(".jqx-popover-arrow").css("display","block")):e._popover.find(".jqx-popover-arrow").css("display","none"),e.rtl&&(s.addClass(e.toThemeProperty("jqx-rtl")),s.css("direction","rtl"),i.css("direction","rtl")),e.showCloseButton&&(t=r('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>'),i=r('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"></div>'),t.append(i),s.append(t),s.css("min-height","16px"),t.addClass(e.toThemeProperty("jqx-popover-close-button")),e.closeButton=i,e.rtl&&t.addClass(e.toThemeProperty("jqx-popover-close-button-rtl"))),e.arrowOffsetValue&&("bottom"==e.position||"top"==e.position?(s=e._popover.find(".jqx-popover-arrow").css("margin-left"),e._popover.find(".jqx-popover-arrow").css("margin-left",parseInt(s)+e.arrowOffsetValue)):(i=e._popover.find(".jqx-popover-arrow").css("margin-top"),e._popover.find(".jqx-popover-arrow").css("margin-top",parseInt(i)+e.arrowOffsetValue))),(e.width||e.height)&&(e._popover.css("width",e.width),e._popover.css("height",e.height))},refresh:function(e){this.render()},destroy:function(){0!==this.length&&(this._removeHandlers(),this._popover.remove(),this._removeModalBackground())},propertyChangedHandler:function(e,t,i,s){this.render()},_stickToToggleElement:function(){var e=this,t=(e._popover.css("left","0px"),e._popover.css("top","0px"),e._toggleElement),i=t.offset(),s=t.outerHeight(),r=t.outerWidth(),n=e._popover.height(),o=e._popover.width();switch(e.position){case"left":e._popoverTop=i.top-n/2+s/2,e._popoverLeft=i.left-e._popover.outerWidth();break;case"right":e._popoverTop=i.top-n/2+s/2,e._popoverLeft=i.left+r;break;case"top":e._popoverTop=i.top-e._popover.outerHeight(),e._popoverLeft=i.left-o/2+r/2;break;case"bottom":e._popoverTop=i.top+s,e._popoverLeft=i.left-o/2+r/2}var t=e.offset?parseFloat(e.offset.left):0,a=e.offset?parseFloat(e.offset.top):0;e._popover.css("top",a+e._popoverTop),e._popover.css("left",t+e._popoverLeft)},open:function(){var e=this;function t(){e._popover.show(),e._raiseEvent("0"),e._isOpen=!0}function i(){e.initContent&&!1===e._init&&(e.initContent(),e._init=!0,e._stickToToggleElement())}if(e._stickToToggleElement(),!0===e._ie7)return t(),void i();switch(e.animationType){case"fade":e._popover.fadeIn(e.animationOpenDelay,function(){e._raiseEvent("0"),i(),e._isOpen=!0});break;case"none":t(),i()}e._makeModalBackground()},close:function(){var e=this;if(e._isOpen)if(!0===e._ie7)t();else{switch(e.animationType){case"fade":e._popover.fadeOut(e.animationCloseDelay,function(){e._raiseEvent("1"),e._isOpen=!1});break;case"none":t()}e._removeModalBackground()}function t(){e._popover.hide(),e._raiseEvent("1"),e._isOpen=!1}},_raiseEvent:function(e,t){e=this.events[e],(t=void 0===t?{owner:null}:t).owner=this,e=new r.Event(e);return e.owner=this,e.args=t,e.preventDefault&&e.preventDefault(),this._popover.trigger(e)},_makeModalBackground:function(){!0===this.isModal&&(this.modalBackground=r("<div></div>"),this.modalBackground.addClass(this.toThemeProperty("jqx-popover-modal-background")),r(document.body).prepend(this.modalBackground),r(document.body).addClass(this.toThemeProperty("jqx-unselectable")),this.host.addClass(this.toThemeProperty("jqx-selectable")))},_removeModalBackground:function(){!0===this.isModal&&void 0!==this.modalBackground&&(this.modalBackground.remove(),r(document.body).removeClass(this.toThemeProperty("jqx-unselectable")),this.host.removeClass(this.toThemeProperty("jqx-selectable")))},_addHandlers:function(){var t=this,e=t.element.id;t.addHandler(r(document),"keydown.jqxPopover"+e,function(e){27==e.keyCode&&t.close()}),t.addHandler(r(document),"click.jqxPopover"+e,function(e){t.closeButton&&e.target==t.closeButton[0]&&t.close(),e.target.classList&&e.target.classList.contains("jqx-window-close-button")||!0!==t.autoClose||e.target==t.element||r(e.target).ischildof(t._popover)||t.isModal||t.close()}),t.addHandler(r(window),"resize.jqxPopover"+e,function(e){"none"!=t.element.style.display&&t._stickToToggleElement()}),t.selector&&t.addHandler(t._toggleElement,"click.jqxPopover"+e,function(e){e.stopPropagation(),"none"!=t.host.css("display")?t.close():t.open()})},_removeHandlers:function(){var e=this.element.id;this.removeHandler(r(document),"click.jqxPopover"+e),this.selector&&this.removeHandler(this._toggleElement,"click.jqxPopover"+e),this.removeHandler(r(document),"keydown.jqxPopover"+e),this.removeHandler(r(window),"resize.jqxPopover"+e)}})}(jqxBaseFramework),!function(h){h.jqx.jqxWidget("jqxProgressBar","",{}),h.extend(h.jqx._jqxProgressBar.prototype,{defineInstance:function(){var e={colorRanges:[],value:0,oldValue:null,max:100,min:0,orientation:"horizontal",layout:"normal",width:null,height:null,showText:!1,animationDuration:300,disabled:!1,rtl:!1,renderText:null,template:"",aria:{"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["valueChanged","invalidValue","complete","change"]};return this===h.jqx._jqxProgressBar.prototype||h.extend(!0,this,e),e},createInstance:function(e){var t=this;this.host.addClass(this.toThemeProperty("jqx-progressbar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),h.jqx.aria(this),null!=this.width&&-1!=this.width.toString().indexOf("px")||null!=this.width&&isNaN(this.width),this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")||null!=this.height&&isNaN(this.height),this.host.height(this.height),this.valueDiv=h("<div></div>").appendTo(this.element),this._addRanges(),this.valueDiv.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.template&&this.valueDiv.addClass(this.toThemeProperty("jqx-"+this.template)),this.feedbackElementHost=h("<div style='left: 0px; top: 0px; width: 100%; height: 100%; position: absolute;'></div>").appendTo(this.host),this.feedbackElement=h("<span class='text'></span>").appendTo(this.feedbackElementHost),this.feedbackElement.addClass(this.toThemeProperty("jqx-progressbar-text")),this.oldValue=this._value(),this.refresh(),h.jqx.utilities.resize(this.host,function(){t.refresh()})},_addRanges:function(){if(0!=this.colorRanges.length)for(var e="vertical"==this.orientation,t=this.colorRanges,i=t.length,s=0;s<i;s++){var r=t[s].stop,n=t[s].color;this._createColorElements(r,n,e,i-s,s)}},_refreshColorElements:function(){for(var e=this.host.outerWidth(),t=this.host.outerHeight(),i="vertical"==this.orientation,s=0;s<this.colorRanges.length;s++){var r=this.colorRanges[s].element;if(!r)return this.host.find(".jqx-progressbar-range").remove(),void this._addRanges();var n=this.colorRanges[s].stop,n=100*((n=n>Math.min(this.max,this.value)?Math.min(this.max,this.value):n)-this.min)/(this.max-this.min),n=i?t*n/100:e*n/100;n+="px",i?(r.css("height",n),"reverse"==this.layout?r.css("bottom",0):r.css("top",0)):(r.css("width",n),!this.rtl&&"reverse"!=this.layout||r.css("right","0px"))}},_createColorElements:function(e,t,i,s,r){var n,e=100*(e=e>Math.min(this.max,this.value)?Math.min(this.max,this.value):e)/this.max,e=(this.host.width(),this.host.height(),i?this.host.outerHeight()*e/100:this.host.outerWidth()*e/100),o=(e+="px",h(this.valueDiv).parent()[0]);o.style.position="relative",(i=i||!1)?((n=h("<div/>")).attr("class","jqx-progressbar-range"),n.css("width","100%"),n.css("height",e),n.css("background-color",t),n.css("position","absolute"),n.css("z-index",s),"reverse"==this.layout?n.css("bottom",0):n.css("top",0)):((n=h("<div/>")).attr("class","jqx-progressbar-range"),n.css("width",e),n.css("height","100%"),n.css("background-color",t),n.css("position","absolute"),n.css("z-index",s),n.css("top","0px"),this.rtl&&n.css("right","0px")),n.appendTo(o),this.colorRanges[r].element=n},resize:function(e,t){this.width=e,this.height=t,this.refresh()},destroy:function(){this.host.removeClass(),this.valueDiv.removeClass(),this.valueDiv.remove(),this.feedbackElement.remove()},_raiseevent:function(e,t,i){if(null!=this.isInitialized&&1==this.isInitialized)return e=this.events[e],(e=new h.Event(e)).previousValue=t,e.currentValue=i,(e.owner=this).host.trigger(e)},actualValue:function(e){return void 0===e||(h.jqx.aria(this,"aria-valuenow",e),h.jqx.setvalueraiseevent(this,"value",e)),this._value()},val:function(e){return 0==arguments.length||"object"==typeof e?this.actualValue():this.actualValue(e)},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.host.width(i.width),e.host.height(i.height),e.refresh())},propertyChangedHandler:function(e,t,i,s){var r;!this.isInitialized||i==s||e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||(r=this,"colorRanges"==t&&(e.host.find(".jqx-progressbar-range").remove(),e._addRanges()),("min"==t&&e.value<s||"max"==t&&e.value>s)&&(e.value=s),"value"===t&&null!=r.value&&(r.value=s,r.oldValue=i,h.jqx.aria(e,"aria-valuenow",s),(s<r.min||s>r.max)&&r._raiseevent(1,i,s),r.refresh()),"theme"==t&&h.jqx.utilities.setTheme(i,s,e.host),"renderText"==t||"orientation"==t||"layout"==t||"showText"==t||"min"==t||"max"==t?r.refresh():"width"==t&&null!=r.width?null==r.width||isNaN(r.width)||(r.host.width(r.width),r.refresh()):"height"!=t||null==r.height||null==r.height||isNaN(r.height)||(r.host.height(r.height),r.refresh()),"disabled"==t&&r.refresh())},_value:function(){var e,t=this.value;return"number"!=typeof t&&(e=parseInt(t),t=isNaN(e)?0:e),Math.min(this.max,Math.max(this.min,t))},_percentage:function(){return 100*(this._value()-this.min)/(this.max-this.min)},_textwidth:function(e){var e=h("<span>"+e+"</span>"),t=(h(this.host).append(e),e.width());return e.remove(),t},_textheight:function(e){var e=h("<span>"+e+"</span>"),t=(h(this.host).append(e),e.height());return e.remove(),t},_initialRender:!0,refresh:function(e){if(!0!==e){var e=this.actualValue(),t=this._percentage();if(this.disabled)return this.host.addClass(this.toThemeProperty("jqx-progressbar-disabled")),void this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(this.host.removeClass(this.toThemeProperty("jqx-progressbar-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),h(this.element.children[0]).show(),!isNaN(e)&&!isNaN(t)){this.oldValue!==e&&(this._raiseevent(0,this.oldValue,e),this._raiseevent(3,this.oldValue,e),this.oldValue=e);var i=this.oldValue,s=this.host.outerHeight(),r=this.host.outerWidth(),n=(null!=this.width&&(r=parseInt(this.width)),null!=this.height&&(s=parseInt(this.height)),this._refreshColorElements(),parseInt(this.host.outerWidth())/2),o=(parseInt(this.host.outerHeight()),isNaN(t)&&(t=0),this.valueDiv.removeClass(this.toThemeProperty("jqx-progressbar-value-vertical jqx-progressbar-value")),"horizontal"==this.orientation?(this.valueDiv.width(0),this.valueDiv[0].style.height="100%",this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value"))):(this.valueDiv[0].style.width="100%",this.valueDiv.height(0),this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value-vertical"))),this);try{var a,l=this.element.children[0];h(l)[0].style.position="relative","horizontal"==this.orientation?(h(l).toggle(e>=this.min),r=this.host.outerWidth()*t/100,d=0,"reverse"!=this.layout&&!this.rtl||(this._initialRender&&(h(l)[0].style.left=this.host.width()+"px",h(l)[0].style.width=0),d=this.host.outerWidth()-r),h(l).stop(),h(l).animate({width:r,left:d+"px"},this.animationDuration,function(){o._value()===o.max&&o._raiseevent(2,i,o.max)})):(h(l).toggle(e>=this.min),s=this.host.height()*t/100,a=0,"reverse"==this.layout&&(this._initialRender&&(h(l)[0].style.top=this.host.height()+"px",h(l)[0].style.height=0),a=this.host.height()-s),h(l).stop(),h(l).animate({height:s,top:a+"px"},this.animationDuration,function(){var e=o._percentage();(e=isNaN(e)?0:e).toFixed(0)==o.min&&(h(l).hide(),o._value()===o.max&&o._raiseevent(2,i,o.max))}))}catch(e){}this._initialRender=!1,this.feedbackElement.html(t.toFixed(0)+"%").toggle(1==this.showText),this.renderText&&this.feedbackElement.html(this.renderText(t.toFixed(0)+"%",t)),this.feedbackElement.css("position","absolute"),this.feedbackElement.css("top","50%"),this.feedbackElement.css("left","0"),0<this.colorRanges.length&&this.feedbackElement.css("z-index",this.colorRanges.length+1);var r=this.feedbackElement.height(),d=this.feedbackElement.width(),e=Math.floor(n-parseInt(d)/2);this.feedbackElement.css({left:e,"margin-top":-parseInt(r)/2+"px"})}}}})}(jqxBaseFramework),!function(o){o.jqx.jqxWidget("jqxRadioButton","",{}),o.extend(o.jqx._jqxRadioButton.prototype,{defineInstance:function(){var e={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"16px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",rtl:!1,changeType:null,_canFocus:!0,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};return this===o.jqx._jqxRadioButton.prototype||o.extend(!0,this,e),e},createInstance:function(e){this._createFromInput("RadioButton"),this.render()},_createFromInput:function(e){var t,i,s,r,n=this;"input"==n.element.nodeName.toLowerCase()&&(n.field=n.element,n.field.className&&(n._className=n.field.className),t={title:n.field.title},n.field.value&&(t.value=n.field.value),n.field.checked&&(t.checked=!0),n.field.id.length?t.id=n.field.id.replace(/[^\w]/g,"_")+"_"+e:t.id=o.jqx.utilities.createId()+"_"+e,e=!1,!(r=n.element.nextSibling)||"#text"!=r.nodeName&&"span"!=r.nodeName||(e=!0),i=0,s=o("<div></div>",t),e&&(s.append(r),(e=o("<span>"+o(r).text()+"</span>")).appendTo(o(document.body)),i+=e.width(),e.remove()),s[0].style.cssText=n.field.style.cssText,n.width||(n.width=o(n.field).width()+i+10),n.height||(n.height=o(n.field).outerHeight()+10),o(n.field).hide().after(s),r=n.host.data(),n.host=s,n.host.data(r),n.element=s[0],n.element.id=n.field.id,n.field.id=t.id,n._className&&(n.host.addClass(n._className),o(n.field).removeClass(n._className)),n.field.tabIndex&&(e=n.field.tabIndex,n.field.tabIndex=-1,n.element.tabIndex=e))},render:function(){this.setSize();var r=this,e=(this.propertyChangeMap.width=function(e,t,i,s){r.setSize()},this.propertyChangeMap.height=function(e,t,i,s){r.setSize()},this.radiobutton&&this.radiobutton.remove(),this.width||this.host.css("overflow-x","visible"),this.height||this.host.css("overflow-y","visible"),null==this.boxSize&&(this.boxSize=16),parseInt(this.boxSize)+"px"),t=Math.floor((parseInt(this.boxSize)-16)/2),i=t,s=(t+="px",i+="px",parseInt(this.boxSize)/2+"px"),t=("16px"!=this.boxSize?this.radiobutton=o('<div><div style="width: '+e+"; height: "+e+';"><span style="position: relative; left: '+t+"; top: "+i+'; width: 16px; height: 16px;"></span></div></div>'):this.radiobutton=o('<div><div style="width: '+e+"; height: "+e+';"><span style="width: '+s+"; height: "+s+';"></span></div></div>'),this.host.attr("role","radio"),this.host.prepend(this.radiobutton),this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=o('<div style="clear: both;"></div>'),this.host.append(this.clear)),this.checkMark=o(this.radiobutton[0].firstChild.firstChild),this.box=this.radiobutton,this._supportsRC=!0,o.jqx.browser.msie&&o.jqx.browser.version<9&&(this._supportsRC=!1),this.box.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.box.addClass(this.toThemeProperty("jqx-radiobutton-default")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.disabled&&this.disable(),this.host.addClass(this.toThemeProperty("jqx-radiobutton")),this.locked&&this.host.css("cursor","auto"),this.element.getAttribute("checked"));"checked"!=t&&"true"!=t&&1!=t||(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),o.jqx.aria(this),this._centerBox(),this.isMaterialized()&&(o(this.radiobutton).addClass("ripple"),o.jqx.ripple(o(this.radiobutton),this.host,"radiobutton"))},_centerBox:function(){var e;this.height&&-1==this.height.toString().indexOf("%")&&this.box&&(e=parseInt(this.height),this.host.css("line-height",e+"px"),e=e-parseInt(this.boxSize)-1,e/=2,this.box.css("margin-top",parseInt(e)))},_addInput:function(){var e=this.host.attr("name");this.input=o("<input type='hidden'/>"),this.host.append(this.input),e&&this.input.attr("name",e)},refresh:function(e){e||(this.setSize(),this._render())},resize:function(e,t){this.width=e,this.height=t,this.setSize()},setSize:function(){(null==this.width||-1==this.width.toString().indexOf("px"))&&(null==this.width||isNaN(this.width))?null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.element.style.width=this.width):this.host.width(this.width),(null==this.height||-1==this.height.toString().indexOf("px"))&&(null==this.height||isNaN(this.height))?null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.element.style.height=this.height):this.host.height(this.height),this._centerBox()},_addHandlers:function(){var t=this;this.addHandler(this.box,"click",function(e){if(!t.disabled&&!t.enableContainerClick)return t.changeType="mouse",t.toggle("click"),e.preventDefault(),!1}),this.addHandler(this.host,"keydown",function(e){if(!t.disabled&&!t.locked&&32==e.keyCode)return!t._canFocus||(t.changeType="keyboard",t.toggle("click"),e.preventDefault(),!1)}),this.addHandler(this.host,"mousedown",function(e){if(!t.disabled&&t.enableContainerClick)return t.clickTime=new Date,t.changeType="mouse",t.toggle("click"),t._canFocus&&t.focus(),e.preventDefault(),!1}),this.addHandler(this.host,"selectstart",function(e){!t.disabled&&t.enableContainerClick&&e.preventDefault()}),this.addHandler(this.host,"mouseup",function(e){!t.disabled&&t.enableContainerClick&&e.preventDefault()}),this.addHandler(this.host,"focus",function(e){if(!t.disabled&&t.enableContainerClick&&!t.locked)return o(t.radiobutton).removeClass("active"),(!t.clickTime||t.clickTime&&300<new Date-t.clickTime)&&o(t.radiobutton).addClass("active"),t.box.addClass(t.toThemeProperty("jqx-radiobutton-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault(),!1}),this.addHandler(this.host,"blur",function(e){if(o(t.radiobutton).removeClass("active"),!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.removeClass(t.toThemeProperty("jqx-radiobutton-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault(),!1}),this.addHandler(this.host,"mouseenter",function(e){if(!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.addClass(t.toThemeProperty("jqx-radiobutton-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault(),!1}),this.addHandler(this.host,"mouseleave",function(e){if(!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.removeClass(t.toThemeProperty("jqx-radiobutton-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault(),!1}),this.addHandler(this.box,"mouseenter",function(){t.disabled||t.enableContainerClick||(t.box.addClass(t.toThemeProperty("jqx-radiobutton-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){t.disabled||t.enableContainerClick||(t.box.removeClass(t.toThemeProperty("jqx-radiobutton-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")))})},focus:function(){try{this.host.focus()}catch(e){}},_removeHandlers:function(){this.removeHandler(this.box,"click"),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave"),this.removeHandler(this.host,"click"),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"mousedown"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur")},_render:function(){null==this.boxSize&&(this.boxSize=13),this.box.width(this.boxSize),this.box.height(this.boxSize),this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-radiobutton-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates()},val:function(e){return 0==arguments.length||"object"==typeof e||("string"==typeof e?("true"==e&&this.check("api"),"false"==e&&this.uncheck("api"),""==e&&this.indeterminate("api")):(1==e&&this.check("api"),0==e&&this.uncheck("api"),null==e&&this.indeterminate("api"))),this.checked},check:function(e){this.checked=!0;var t,i=this,s=(this.checkMark.removeClass(),this.checkMark.addClass(this.toThemeProperty("jqx-fill-state-pressed")),o.jqx.browser.msie?(this.disabled&&this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")),this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))):(this.disabled&&this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")),this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),o.find(".jqx-radiobutton")),s=(null==this.groupName&&(this.groupName=""),o.each(s,function(){o(this).jqxRadioButton("groupName")==i.groupName&&this!=i.element&&o(this).jqxRadioButton("uncheck","api")}),this.changeType);this._raiseEvent("0"),this.changeType=s,this._raiseEvent("3",{type:e,checked:!0}),0==this.checkMark.height()?(t=parseInt(this.boxSize)/2,this.checkMark.height(t),this.checkMark.width(t)):"13px"!=this.boxSize&&(t=parseInt(this.boxSize)/2,this.checkMark.height(t),this.checkMark.width(t),this.checkMark.css("margin-left",1+t/4),this.checkMark.css("margin-top",1+t/4)),this.input.val(this.checked),o.jqx.aria(this,"aria-checked",this.checked),this.host.attr("checked",this.checked)},uncheck:function(e){var t=this.checked,i=(this.checked=!1,this);o.jqx.browser.msie?i.checkMark.removeClass():(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){i.checkMark.removeClass()})),t&&(t=this.changeType,this._raiseEvent("1"),this.changeType=t,this._raiseEvent("3",{type:e,checked:!1})),this.input.val(this.checked),o.jqx.aria(this,"aria-checked",this.checked),this.host.attr("checked",this.checked)},indeterminate:function(e){var t=this.checked;this.checked=null,this.checkMark.removeClass(),o.jqx.browser.msie?this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=t&&(t=this.changeType,this._raiseEvent("2"),this.changeType=t,this._raiseEvent("3",{type:e,checked:null})),this.input.val(this.checked),o.jqx.aria(this,"aria-checked","undefined"),this.host.attr("checked","undefined")},toggle:function(e){var t;this.disabled||this.locked||(t=this.checked,1==this.checked?this.checked=!this.hasTreeStates||null:this.checked=!0,t!=this.checked&&this.updateStates(e),this.input.val(this.checked))},updateStates:function(e){this.checked?this.check(e):0==this.checked?this.uncheck(e):null==this.checked&&this.indeterminate(e)},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-radiobutton-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),o.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-radiobutton-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-radiobutton-disabled")),this.disabled=!1,o.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this._removeHandlers(),this.host.remove()},_raiseEvent:function(e,t){e=this.events[e],e=new o.Event(e);e.owner=this,(t=t||{}).type=this.changeType,this.changeType=null,e.args=t;try{var i=this.host.trigger(e)}catch(e){}return i},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.setSize()},propertyChangedHandler:function(e,t,i,s){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){if(t!=this.enableContainerClick||this.disabled||this.locked||(s?this.host.css("cursor","pointer"):this.host.css("cursor","auto")),"rtl"==t&&(s?(e.box.addClass(e.toThemeProperty("jqx-radiobutton-rtl")),e.host.addClass(e.toThemeProperty("jqx-rtl"))):(e.box.removeClass(e.toThemeProperty("jqx-radiobutton-rtl")),e.host.removeClass(e.toThemeProperty("jqx-rtl")))),"boxSize"==t&&e.render(),"checked"==t)switch(s){case!0:this.check("api");break;case!1:this.uncheck("api");break;case null:this.indeterminate()}"theme"==t&&o.jqx.utilities.setTheme(i,s,this.host),"disabled"==t&&(s?this.disable():this.enable())}}})}(jqxBaseFramework),!function(f){f.jqx.jqxWidget("jqxRangeSelector","",{}),f.extend(f.jqx._jqxRangeSelector.prototype,{defineInstance:function(){var e={width:400,height:100,min:0,max:100,range:{from:0,to:1/0,min:0,max:1/0},majorTicksInterval:10,minorTicksInterval:1,showMajorTicks:!0,showMinorTicks:!1,snapToTicks:!0,labelsFormat:null,markersFormat:null,showLabels:!0,labelsOnTicks:!0,markersPosition:"top",labelsFormatFunction:null,groupLabelsFormatFunction:null,markersFormatFunction:null,showGroupLabels:!1,showMarkers:!0,resizable:!0,moveOnClick:!0,disabled:!1,rtl:!1,padding:"auto",events:["change"]};return this===f.jqx._jqxRangeSelector.prototype||f.extend(!0,this,e),e},createInstance:function(e){var i=this;if(this._isTouchDevice=f.jqx.mobile.isTouchDevice(),!f.jqx.dataAdapter)throw new Error("jqxRangeSelector: Missing reference to the following module: 'jqxdata.js'.");var s=f.jqx.isHidden(this.host),r=(this.render(),this.host.width()),n=this.host.height();f.jqx.utilities.resize(this.host,function(){var e=i.host.width(),t=i.host.height();i.range=i.getRange(),s?(i.refresh(),s=!1):r==e&&n==t||i.refresh(),r=i.host.width(),n=i.host.height()})},render:function(){(1<this.host.children().length||this.rangeSelector)&&(this._removeHandlers(),this.rangeSelector&&this.rangeSelector.remove()),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-rangeselector")),this.host.children(":eq(0)").addClass(this.toThemeProperty("jqx-rangeselector-content")),this._id=this.element.id,"string"==typeof this.min||this.min instanceof Date?this._dataType="date":this._dataType="number",this._privateProperties(),this._checkProperties(),this._setSize(),this._scale(),this._initSlider()},refresh:function(e){1!=e&&(this.host.children(".jqx-rangeselector-ticks-container").remove(),this._removeHandlers(),this._privateProperties(),this._checkProperties(),this._setSize(),this._scale(),this._initSlider())},destroy:function(){this._removeHandlers(),this.host.remove()},setRange:function(e,t){if(t<e)throw new Error("jqxRangeSelector: range object initialization error. 'min' should be less than 'max'");var i=this._getValue();if(i.from!=e||i.to!=t){i="The set values are in the wrong format. Please set "+("number"==this._dataType?"numeric":"date")+" values.";if("string"==typeof e||e instanceof Date){if("number"==this._dataType)throw new Error(i)}else if("date"==this._dataType)throw new Error(i);e=this._validateInput(e),t=this._validateInput(t),(e=e>this._max?this._max:e)<this._min&&(e=this._min);var i=(t=(t=t>this._max?this._max:t)<this._min?this._min:t)-e,i=(i>this._range._max?t=e+this._range._max:i<this._range._min&&(t=e+this._range._min),this._valuesArray.indexOf(e)),s=this._valuesArray.indexOf(t),i=this._ticksArray[i],s=this._ticksArray[s],r=Math.abs(s-i),r=(this.slider[0].style.width=r+"px",this.rtl?s:i);this.slider[0].style.left=r,this._moveSlider(r),"date"==this._dataType&&(e=new Date(e),t=new Date(t)),this._raiseEvent("0",{type:null,from:e,to:t})}},val:function(e){if(0==arguments.length)return this.getRange();null!=e.from&&this.setRange(e.from,e.to)},getRange:function(){return this._getValue()},propertyChangedHandler:function(e,t,i,s){switch(t){case"showMinorTicks":1==s?f("#"+this._id+" .jqx-rangeselector-ticks-minor").css("visibility","visible"):f("#"+this._id+" .jqx-rangeselector-ticks-minor").css("visibility","hidden");break;case"showMarkers":var r=f("#"+this._id+"LeftMarker, #"+this._id+"RightMarker, #"+this._id+"LeftMarkerArrow, #"+this._id+"RightMarkerArrow");1==s?r.css("visibility","visible"):r.css("visibility","hidden");break;default:this.refresh()}},_raiseEvent:function(e,t){e=this.events[e],e=new f.Event(e);e.owner=this,e.args=t;try{var i=this.host.trigger(e)}catch(e){}return i},_setSize:function(){this.host.width(this.width),this.host.height(this.height)},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_scale:function(){var e=this.host.width(),t=this._max-this._min;this._unitPerPixel=parseFloat((t/e).toFixed(4)),this._pixelPerUnit=e/t,this._minWidth=this._roundNumber(this._range._min/this._unitPerPixel),this._maxWidth=this._roundNumber(this._range._max/this._unitPerPixel),this._minWidth=parseInt(this._minWidth),this._maxWidth=parseInt(this._maxWidth),"number"==this._dataType&&(this._majorTicksCount=t/this.majorTicksInterval,this._majorTicksCount=Math.floor(this._majorTicksCount)+1,this._majorTicksDistance=parseInt(this._roundNumber(e/(t/this.majorTicksInterval))),this._unitsCount=t/this.minorTicksInterval,this._unitsCount=Math.floor(this._unitsCount)+1,this._unitsDistance=parseInt(this._roundNumber(e/(t/this.minorTicksInterval)))),this._addTicks()},_addTicks:function(){this.host.append("<div id='"+this._id+"TicksContainer' class='jqx-rangeselector-ticks-container'></div>"),this.rangeSelector=f("#"+this._id+"TicksContainer"),this._majorTicksArray=new Array,this._ticksArray=new Array,this._valuesArray=new Array;var e=new String,t=(f("#"+this._id+"TicksContainer").append("<div id='labelPlaceholder' style='visibility: hidden; position: absolute;'></div>"),this.rangeSelector.height()),e="number"==this._dataType?this._addNumericTicks(t):this._addDateTicks(t),t=0;this.showLabels&&(t+=f("#labelPlaceholder").outerHeight()+6),"number"!=this._dataType&&this.showGroupLabels&&(t+=f("#labelPlaceholder").outerHeight()+6),"auto"==this.padding&&this.host.css("padding-bottom",t),f("#labelPlaceholder").remove(),f("#"+this._id+"TicksContainer").append(e),this._ticksArray.sort(function(e,t){return e-t});for(var i=1;i<this._ticksArray.length;i++)this._ticksArray[i]=this._roundNumber(this._ticksArray[i]);if(this._valuesArray.sort(function(e,t){return e-t}),"number"==this._dataType)for(i=1;i<this._valuesArray.length;i++)this._valuesArray[i]=this._roundNumber(this._valuesArray[i],"marker",!0);for(i=1;i<this._ticksArray.length;i++)this._ticksArray[i-1]==this._ticksArray[i]&&(this._ticksArray.splice(i,1),this._valuesArray.splice(i,1));this.rtl&&(this._valuesArray=this._valuesArray.reverse())},_addNumericTicks:function(e){for(var t=new String,i=0,s=this._min,r=this._max,n=0;n<this._majorTicksCount;n++){var o,a=this._id+"LabelTick"+(n+1),l=(n==this._majorTicksCount-1&&(i=this.host.width()),this.showMajorTicks?"visible":"hidden"),l=(t+="<div id='"+a+"' class='"+this.toThemeProperty("jqx-rangeselector-ticks")+" "+this.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+l+"; left: "+i+"px;'></div>",this._ticksArray.push(i),this._majorTicksArray.push(i),this._id+"Label"+(n+1)),d=s,h=(this._valuesArray.push(parseFloat(d.toFixed(4))),this.rtl&&(d=r),d=this._formatOutput(d,this.labelsFormat,1<=this.minorTicksInterval?0:2,"label"),f("#labelPlaceholder").html(d),f("#labelPlaceholder").width()),c=this.showLabels?"visible":"hidden",u=(this.labelsOnTicks&&(t+="<div id='"+l+"' class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+c+"; left: "+(i-h/2)+"px; top: "+e+"px;'>"+d+"</div>"),i),i=(s+=this.majorTicksInterval,r-=this.majorTicksInterval,(s-this._min)/this._unitPerPixel);i=parseInt(i),!this.labelsOnTicks&&n<this._majorTicksCount-1&&(o=Math.abs(u-i),t+="<div id='"+l+"' class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+c+"; left: "+(u+o/2-h/2)+"px; top: "+e+"px;'>"+d+"</div>")}for(var i=0,p=this.showMinorTicks?"visible":"hidden",s=this._min,n=0;n<this._unitsCount;n++){var a=this._id+"MinorTick"+(n+1),m=(n==this._unitsCount-1&&(i=this.host.width()),t+="<div id='"+a+"' class='"+this.toThemeProperty("jqx-rangeselector-ticks")+" "+this.toThemeProperty("jqx-rangeselector-ticks-minor")+" "+this.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+p+"; left: "+i+"px;'></div>",s),i=(-1===this._valuesArray.indexOf(parseFloat(m.toFixed(4)))&&(this._valuesArray.push(parseFloat(m.toFixed(4))),this._ticksArray.push(i)),((s+=this.minorTicksInterval)-this._min)/this._unitPerPixel);i=parseInt(i)}return t},_getMillisecondsByInterval:function(e){var t={};return"year"==e||e.years?(t.divisor=e.years||1,31536e6*t.divisor):"month"==e||e.months?(t.divisor=e.months||1,2592e6*t.divisor):"week"==e||e.weeks?(t.divisor=e.weeks||1,6048e5*t.divisor):"day"==e||e.days?(t.divisor=e.days||1,864e5*t.divisor):"hour"==e||e.hours?(t.divisor=e.hours||1,36e5*t.divisor):"minute"==e||e.minutes?(t.divisor=e.minutes||1,60*t.divisor*1e3):"second"==e||e.seconds?(t.divisor=e.seconds||1,1e3*t.divisor):"millisecond"==e||e.milliseconds?(t.divisor=e.milliseconds||1,+t.divisor):t},_addDateTicks:function(l){function e(e){var e="majorTicksInterval"==e?c.majorTicksInterval:c.minorTicksInterval,t=new Object;return"year"==e||e.years?(t.period="year",t.interval=864e5,t.divisor=e.years||1,t.value=31536e6*t.divisor):"month"==e||e.months?(t.period="month",t.interval=864e5,t.divisor=e.months||1,t.value=2592e6*t.divisor):"week"==e||e.weeks?(t.period="week",t.interval=864e5,t.divisor=e.weeks||1,t.value=6048e5*t.divisor):"day"==e||e.days?(t.period="day",t.interval=36e5,t.divisor=e.days||1,t.value=864e5*t.divisor):"hour"==e||e.hours?(t.period="hour",t.interval=6e4,t.divisor=e.hours||1,t.value=36e5*t.divisor):"minute"==e||e.minutes?(t.period="minute",t.interval=6e4,t.divisor=e.minutes||1,t.value=60*t.divisor*1e3):"second"==e||e.seconds?(t.period="second",t.interval=1e3,t.divisor=e.seconds||1,t.value=1e3*t.divisor):"millisecond"!=e&&!e.milliseconds||(t.period="millisecond",t.interval=1,t.divisor=e.milliseconds||1,t.value=+t.divisor),t}function t(e,t,i){for(var s,r,n=0,o=1,a=new Date(c._min).getHours(),l=864e5==t.interval,d=new Array,h=c._min;h<=c._max;h+=t.interval)1==l&&a!=(s=new Date(h).getHours())&&(1==s?r=1:23==s&&(r=-1),h-=36e5*r,a=new Date(h).getHours()),1==u(h,t.period)&&(n%t.divisor==0&&(i?d.push(h):p(h,e,o,t.interval),o++),n++);return d}var c=this,d=new String,u=function(e,t){var e=new Date(e),i=e.getDate(),s="year"==t&&0==e.getMonth()&&1==i,i="month"==t&&1==i,r="week"==t&&0==e.getDay(),n="day"==t&&0==e.getHours(),o="hour"==t&&0==e.getMinutes(),a="minute"==t&&0==e.getSeconds(),e="minute"==t&&0==e.getMilliseconds();return s||i||r||n||o||a||e||"millisecond"==t},p=function(e,t,i){var s,r,n,o,a=(e-c._min)/c._unitPerPixel;c.rtl&&(e="majorTicksInterval"==t?c._dateMajorTicks[c._dateMajorTicks.length-i]:c._dateMinorTicks[c._dateMinorTicks.length-i]),a=parseInt(a);-1===c._valuesArray.indexOf(e)&&(c._ticksArray.push(a),c._valuesArray.push(e),"majorTicksInterval"==t&&c._majorTicksArray.push(a)),"majorTicksInterval"==t?(t=c._id+"LabelTick"+i,n=c.showMajorTicks?"visible":"hidden",d+="<div id='"+t+"' class='"+c.toThemeProperty("jqx-rangeselector-ticks")+" "+c.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+n+"; left: "+a+"px;'></div>",t=c._formatOutput(t=e,c.labelsFormat,c.labelPrecision,"label"),f("#labelPlaceholder").html(t),e=f("#labelPlaceholder").width(),o=c._id+"Label"+i,s=c.showLabels?"visible":"hidden",c.labelsOnTicks?c.labelsOnTicks&&(d+="<div id='"+o+"' class='"+c.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+s+"; left: "+(a-e/2)+"px; top: "+l+"px;'>"+t+"</div>"):(r=c._getMillisecondsByInterval(c.majorTicksInterval)/c._unitPerPixel/2,d+="<div id='"+o+"' class='"+c.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+s+"; left: "+(r+a-e/2)+"px; top: "+l+"px;'>"+t+"</div>")):(n=c.showMinorTicks?"visible":"hidden",o=c._id+"MinorTick"+i,d+="<div id='"+o+"' class='"+c.toThemeProperty("jqx-rangeselector-ticks")+" "+c.toThemeProperty("jqx-rangeselector-ticks-minor")+" "+c.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+n+"; left: "+a+"px;'></div>")};return c._dateMajorTicks=t("majorTicksInterval",e("majorTicksInterval"),!0),c._dateMinorTicks=t("minorTicksInterval",e("minorTicksInterval"),!0),t("majorTicksInterval",e("majorTicksInterval")),t("minorTicksInterval",e("minorTicksInterval")),1==this.showGroupLabels&&this.showLabels&&this._addGroupLabels(f("#labelPlaceholder").height()+l),d},_addGroupLabels:function(e){var t=this,i=new Date(this._min),s=new Date(this._max);if(0<s.getFullYear()-i.getFullYear())var r="year",n=864e5;else if(0<s.getMonth()-i.getMonth())r="month",n=864e5;else{if(!(0<s.getDate()-i.getDate()))return;r="day",n=36e5}for(var o,a,l,d,h=new String,c=this.toThemeProperty("jqx-rangeselector-group-labels-ticks")+" "+this.toThemeProperty("jqx-slider-tick-horizontal"),u=1,p=this._min;p<this._max;p+=n){o=p,d=g=m=l=a=void 0,o=new Date(o),l=o.getFullYear(),m=o.getMonth(),g=o.getDate(),d=!0,"year"==r&&0==m&&1==g?a=l:"month"==r&&1==g?(a=f.jqx.dataFormat.formatdate(o,"MMMM"),0==m&&(a=l+" "+a)):"day"==r&&0==o.getHours()?a=f.jqx.dataFormat.formatdate(o,"dddd"):d=!1;var m,g={check:d,value:1==d&&t.groupLabelsFormatFunction?t.groupLabelsFormatFunction(a,o):a};1==g.check&&(m=(p-this._min)/this._unitPerPixel,h+="<div class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='left: "+m+"px; top: "+e+"px;'><div class='"+c+"'></div><div id='"+this._id+"GroupLabel"+u+"' class='"+this.toThemeProperty("jqx-rangeselector-group-labels")+"' style='margin-left: 5px;'>"+g.value+"</div></div>",u++)}f("#"+this._id+"TicksContainer").append(h)},_updateCursor:function(e,t){var i=this.element.style.cursor,s=this.slider.offset().left,r=s+parseInt(this.slider[0].style.width);s-5<e&&e<s+5||r-5<e&&e<r+5?""!=i&&"auto"!=i||(this.element.style.cursor="e-resize"):"e-resize"==i&&(this.element.style.cursor="auto")},_handleMouseMove:function(e){var t=this,i=t.slider,s=e.pageX,r=e.pageY,e=(t._isTouchDevice&&(s=(e=f.jqx.position(e)).left,r=e.top),t._hostOffset.left),n=t._hostWidth;if(t.resizable&&!t.dragging&&"none"==t.resizeDirection&&e<=s&&s<=e+n&&r>=t._hostOffset.top&&r<=t._hostOffset.top+t._hostHeight&&this._updateCursor(s,r),!t.isMouseDown)return!0;if(t._isTouchDevice&&(r<t._hostOffset.top||r>t._hostOffset.top+t._hostHeight))return!0;r=t._findNearestTick(t._sliderLeftOffset+s-t._mouseDownX);if((l=parseInt(r))<0)return!0;l<0&&(l=0);var o=parseInt(i[0].style.width);if(1==t.resizable&&!t.dragging){var a=l*t._unitPerPixel+t._min;if("left"==t.resizeDirection||t.isLeftMarkerCaptured){e+n+(m=t.isLeftMarkerCaptured?t.leftMarker.outerWidth():0)<(s=s<e-m?e-m:s)&&(s=e+n+m+1);var l,d=i[0].style.left,h=l-parseInt(d),c=parseInt(o-h);if(p=c,u=parseInt(t._maxWidth),p<parseInt(t._minWidth)||u<p||parseInt(t.rightMarker[0].style.left)<parseInt(t.leftMarker[0].style.left))if(s>t._mouseDownX){if(s=t.sliderRight-t._minWidth-e,o==(c=t._minWidth))return!0;if((l=r=t._findNearestTick(s))<0)return!0;parseInt(d),t._unitPerPixel,t._min;a=l*t._unitPerPixel+t._min}else{if(!(0!=t._maxWidth&&s<t._mouseDownX&&c>t._maxWidth))return!0;if(s=t.sliderRight-t._maxWidth-e,o==(c=t._maxWidth))return!0;if((l=r=t._findNearestTick(s))<0)return!0;parseInt(d),t._unitPerPixel,t._min;a=l*t._unitPerPixel+t._min}t.slider[0].style.left=l+"px",d!=i[0].style.left&&(t.slider[0].style.width=c+"px");var u=t._findNearestTick(l),p=t._valuesArray[t._ticksArray.indexOf(u)];null!=p?(t.leftMarkerValue[0].innerHTML=t._formatOutput(p,t.markersFormat,0,"left"),l!=u&&(t.slider[0].style.left=u+"px")):t.leftMarkerValue[0].innerHTML=t._formatOutput(a,t.markersFormat,0,"left"),t.oldX=s,t.moved=!0}else if("right"==t.resizeDirection||t.isRightMarkerCaptured){var m,o=!1,r=(e+n+(m=t.isRightMarkerCaptured?t.rightMarker.outerWidth():0)<(s=s<e-m?e-m:s)&&(s=e+n+m,o=!0),t._sliderInitialWidth),d=t._findNearestTick(r+t._sliderLeftOffset),i=t._findNearestTick(r+s-t._mouseDownX+t._sliderLeftOffset);if(i<0)return!0;(c=r-(h=d-i))<=0&&(h=r,c=0);p=parseInt(t.element.style.width),a=(0<=t.element.style.width.indexOf("%")&&(p=t.host.width()),(o||t._sliderLeftOffset+c>=p)&&(c=p-t._sliderLeftOffset,0),(c=c>parseInt(this._maxWidth)?parseInt(this._maxWidth):c)<parseInt(this._minWidth)&&(c=parseInt(this._minWidth)),t.slider[0].style.width=c+"px",(t._sliderLeftOffset+c)*t._unitPerPixel+t._min),u=t._findNearestTick(t._sliderLeftOffset+c),e=t._valuesArray[t._ticksArray.indexOf(u)];null!=e?(t._sliderLeftOffset+c!=u&&(t.slider[0].style.width=u-t._sliderLeftOffset+"px"),t.rightMarkerValue[0].innerHTML=t._formatOutput(e,t.markersFormat,0,"right")):t.rightMarkerValue[0].innerHTML=t._formatOutput(a,t.markersFormat,0,"right"),t.oldX=s}t._layoutShutter(),t._layoutMarkers(),t.moved=!0}1==t.dragging&&(t._moveSlider(l,!0),t.oldX=s)},_moveSlider:function(e,t){this.moved=!0;var i,s,r,n=parseInt(this.slider[0].style.width),o=parseInt(e+n),a=this._hostWidth,l=e;l<0&&(e=l=0),a<l+n&&(e=l=a-n),0<=l&&l+n<=a&&(this.slider[0].style.left=l+"px",a=this._findNearestTick(l),i=-1!=this._majorTicksArray.indexOf(a),null!=(s=this._valuesArray[this._ticksArray.indexOf(a)])?(this.leftMarkerValue[0].innerHTML=this._formatOutput(s,this.markersFormat,0,"left"),e!=a&&i&&t&&(this.slider[0].style.left=a+"px",o=parseInt(a+n))):this.leftMarkerValue[0].innerHTML=this._formatOutput(l*this._unitPerPixel+this._min,this.markersFormat,0,"left"),s=this._findNearestTick(o),null!=(e=this._valuesArray[this._ticksArray.indexOf(s)])?(r=-1!=this._majorTicksArray.indexOf(s),this.rightMarkerValue[0].innerHTML=this._formatOutput(e,this.markersFormat,0,"right"),o!=s&&r&&i&&t&&(this.slider[0].style.width=s-a+"px")):this.rightMarkerValue[0].innerHTML=this._formatOutput((l+n)*this._unitPerPixel+this._min,this.markersFormat,0,"right")),this._layoutShutter(),this._layoutMarkers()},_initSlider:function(){var n=this,e=this.toThemeProperty("jqx-rangeselector-shutter")+" "+this.toThemeProperty("jqx-scrollbar-state-normal"),e=(f("#"+this._id+"TicksContainer").append("<div id='"+this._id+"ShutterLeft' class='"+e+"'></div><div id='"+this._id+"Slider' class='"+this.toThemeProperty("jqx-rangeselector-slider")+" "+this.toThemeProperty("jqx-scrollbar-thumb-state-normal")+"'><div class='"+this.toThemeProperty("jqx-rangeselector-inner-slider")+"'></div></div><div id='"+this._id+"ShutterRight' class='"+e+"'></div>"),this.slider=f("#"+this._id+"Slider"),this.shutterLeft=f("#"+this._id+"ShutterLeft"),this.shutterRight=f("#"+this._id+"ShutterRight"),this._hostOffset=this.rangeSelector.offset(),this._hostWidth=this.rangeSelector.width(),this._hostHeight=this.rangeSelector.height(),this._hostOffset),t=this._initRange(),i=t.left,t=(t.right-i)/this._unitPerPixel,t=(this.slider[0].style.width=Math.round(t)+"px",e.left+parseInt((i-this._min)/this._unitPerPixel));if(this.slider.offset({left:t}),this._layoutShutter(),this._initMarkers(),0==this.disabled){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.addHandler(this.host,"dragstart.rangeselector"+this._id,function(){return!1}),this.addHandler(f(window),"jqxReady.rangeselector",function(){return n._layoutMarkers(),!1}),this.isSliderCaptured=!1,this.resizeDirection="none",this.isLeftMarkerCaptured=!1,this.isRightMarkerCaptured=!1,this.dragging=!1,this._mouseDownX;var o,a,s,r,e="mousedown.rangeselector"+this.element.id,i=(this._isTouchDevice&&(e=f.jqx.mobile.getTouchEventName("touchstart")+".rangeselector"+this.element.id),this.addHandler(this.host,e,function(e){n.isMouseDown=!0,n._hostOffset=n.rangeSelector.offset(),n._hostWidth=n.rangeSelector.width(),n._hostHeight=n.rangeSelector.height(),n._sliderLeftOffset=parseInt(n.slider[0].style.left);var t=e.pageX,i=e.pageY,e=(n._isTouchDevice&&(t=(e=f.jqx.position(e)).left,i=e.top),n._initialSliderOffset=t-n.slider.offset().left,n.slider.width()),e=(n._sliderInitialWidth=e,o=n.slider.offset().left,a=n._sliderInitialWidth,n.initialOffset=o,parseInt(o+a));if(n.oldX=t,n._mouseDownX=t,n.resizeDirection="none",n.sliderRight=e,o-5<t&&t<o+5&&n._heightCheck(i))n.isSliderCaptured=!1,n.dragging=!1,n.resizeDirection="left";else if(e-5<t&&t<e+5&&n._heightCheck(i))n.isSliderCaptured=!1,n.dragging=!1,n.resizeDirection="right";else if(o+5<=t&&t<=e+5&&n._heightCheck(i))n.isSliderCaptured=!0,n.dragging=!0;else if(n.isSliderCaptured=!1,n.dragging=!1,n.moveOnClick){if(n.isLeftMarkerCaptured||n.isRightMarkerCaptured)return!1;var s=n._sliderLeftOffset+n._initialSliderOffset,r=((s=n._findNearestTick(s))<0&&(s=0),parseInt(n.slider[0].style.width));i>=n.slider.offset().top&&(e<t?n._moveSlider(s-r,!0):n._moveSlider(s,!0))}}),this.addHandler(n.leftMarker,e,function(e){n.leftMarkerAndArrow.addClass(n.toThemeProperty("jqx-fill-state-pressed")),n.oldLeftX=e.pageX,n._isTouchDevice&&(e=f.jqx.position(e),n.oldLeftX=e.left),n._mouseDownX=n.oldLeftX,n.isLeftMarkerCaptured=!0}),this.addHandler(n.rightMarker,e,function(e){n.rightMarkerAndArrow.addClass(n.toThemeProperty("jqx-fill-state-pressed")),n.oldRightX=e.pageX,n._isTouchDevice&&(e=f.jqx.position(e),n.oldRightX=e.left),n._mouseDownX=n.oldRightX,n.isRightMarkerCaptured=!0}),this.addHandler(f(document),"selectstart.rangeselector"+this._id,function(e){if(1==n.isSliderCaptured||1==n.isLeftMarkerCaptured||1==n.isRightMarkerCaptured||1==n.dragging)return e.preventDefault(),!1}),"mousemove.rangeselector"+this.element.id),l=(this._isTouchDevice&&(i=f.jqx.mobile.getTouchEventName("touchmove")+".rangeselector"+this.element.id),this.addHandler(f(document),i,function(e){n._handleMouseMove(e)}),function(e){try{var t,i=n.moved;n.moved=!1,n.isMouseDown=!1,n.dragging=!1,n.resizeDirection="none",1==n.isLeftMarkerCaptured&&(n.leftMarkerAndArrow.removeClass(n.toThemeProperty("jqx-fill-state-pressed")),n.isLeftMarkerCaptured=!1),1==n.isRightMarkerCaptured&&(n.rightMarkerAndArrow.removeClass(n.toThemeProperty("jqx-fill-state-pressed")),n.isRightMarkerCaptured=!1),i&&(t=n._getValue(),n._raiseEvent("0",{type:"mouse",from:t.from,to:t.to}))}catch(e){}});this.addHandler(f(document),"mouseup.rangeselector"+this._id,function(e){l(e)});try{""==document.referrer&&!window.frameElement||null==window.top||window.top==window.self||(s=function(e){l(e)},r=null,(r=window.parent&&document.referrer?document.referrer:r)&&-1!=r.indexOf(document.location.host)&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",s,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",s)))}catch(e){}}else this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this._moveSlider(parseInt(n.slider[0].style.left)),this.moved=!1},_initMarkers:function(){var t,e=f("#"+this._id+"TicksContainer"),i=this.toThemeProperty("jqx-rangeselector-markers")+" "+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-fill-state-normal"),i=(e.append("<div id='"+this._id+"LeftMarker' class='"+i+"'></div><div id='"+this._id+"RightMarker' class='"+i+"'></div>"),this.toThemeProperty("jqx-rangeselector-marker-arrow")+" "+this.toThemeProperty("jqx-fill-state-normal")),e=("bottom"==this.markersPosition?i+=" "+this.toThemeProperty("jqx-rangeselector-marker-arrow-bottom"):i+=" "+this.toThemeProperty("jqx-rangeselector-marker-arrow-top"),e.append("<div id='"+this._id+"LeftMarkerArrow' class='"+i+" "+this.toThemeProperty("jqx-rangeselector-marker-left-arrow")+"'></div>"),e.append("<div id='"+this._id+"RightMarkerArrow' class='"+i+" "+this.toThemeProperty("jqx-rangeselector-marker-right-arrow")+"'></div>"),f("#"+this._id+"LeftMarker").append("<div id='"+this._id+"LeftMarkerValue' class='"+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-rangeselector-markers-value")+"'></div>"),f("#"+this._id+"RightMarker").append("<div id='"+this._id+"RightMarkerValue' class='"+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-rangeselector-markers-value")+"'></div>"),f("#"+this._id+"LeftMarker, #"+this._id+"RightMarker, #"+this._id+"LeftMarkerArrow, #"+this._id+"RightMarkerArrow")),s=f("#"+this._id+"LeftMarker, #"+this._id+"LeftMarkerArrow"),r=f("#"+this._id+"RightMarker, #"+this._id+"RightMarkerArrow"),i=(1==this.showMarkers?e.css("visibility","visible"):e.css("visibility","hidden"),0==this.disabled&&1==this.resizable&&((t=this).addHandler(s,"mouseenter.rangeselector"+this._id,function(e){t.element.style.cursor="pointer",s.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(s,"mouseleave.rangeselector"+this._id,function(e){t.element.style.cursor="auto",s.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(r,"mouseenter.rangeselector"+this._id,function(e){t.element.style.cursor="pointer",r.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(r,"mouseleave.rangeselector"+this._id,function(e){t.element.style.cursor="auto",r.removeClass(t.toThemeProperty("jqx-fill-state-hover"))})),this.leftMarkerAndArrow=s,this.rightMarkerAndArrow=r,this.leftMarkerArrow=f("#"+this._id+"LeftMarkerArrow"),this.rightMarkerArrow=f("#"+this._id+"RightMarkerArrow"),this.leftMarker=f("#"+this._id+"LeftMarker"),this.rightMarker=f("#"+this._id+"RightMarker"),this.leftMarkerValue=f("#"+this._id+"LeftMarkerValue"),this.rightMarkerValue=f("#"+this._id+"RightMarkerValue"),this._initRange());this._updateMarkersValues(i.left,i.right),this._layoutMarkers(),"auto"==this.padding?(this.host.css("padding-left",this.leftMarker[0].offsetWidth),this.host.css("padding-right",this.rightMarker[0].offsetWidth),this.host.css("padding-top",this._leftMarkerHeight+7)):this.host.css("padding",this.padding)},_layoutMarkers:function(){var e,t,i,s,r,n;1==this.showMarkers&&(this._hostOffset||(this._hostOffset=this.rangeSelector.offset()),this._leftMarkerHeight||(this._leftMarkerHeight=this.leftMarker.outerHeight(),this._rightMarkerHeight=this.rightMarker.outerHeight()),this._hostOffset.top,e=parseInt(this.slider[0].style.left)+this._hostOffset.left,t=-5,n=(t="bottom"==this.markersPosition?parseInt(this.element.style.height)+4+this._rightMarkerHeight:t)-this._leftMarkerHeight,i=t-this._rightMarkerHeight,"bottom"==this.markersPosition&&(t=parseInt(this.element.style.height)-6),r=1+e-(s=this.leftMarker[0].offsetWidth)-this._hostOffset.left,this.leftMarker[0].style.left=r+"px",this.leftMarker[0].style.top=n+"px",this.leftMarkerArrow[0].style.left=2+r+s+"px",this.leftMarkerArrow[0].style.top=6+t+"px",n=e+parseInt(this.slider[0].style.width)-this._hostOffset.left,this.rightMarker[0].style.left=n+"px",this.rightMarker[0].style.top=i+"px",this.rightMarkerArrow[0].style.left=7+n+"px",this.rightMarkerArrow[0].style.top=6+t+"px")},_updateMarkersValues:function(e,t){this.leftMarkerValue[0].innerHTML=this._formatOutput(e,this.markersFormat,0,"left",!0),this.rightMarkerValue[0].innerHTML=this._formatOutput(t,this.markersFormat,0,"right",!0)},_removeHandlers:function(){var e=this.element.id,t=f("#"+e+"LeftMarker, #"+e+"LeftMarkerArrow"),i=f("#"+e+"RightMarker, #"+e+"RightMarkerArrow"),s="mousemove.rangeselector"+e,r="mousedown.rangeselector"+e;this._isTouchDevice&&(s=f.jqx.mobile.getTouchEventName("touchmove")+".rangeselector"+e,r=f.jqx.mobile.getTouchEventName("touchstart")+".rangeselector"+e),this.removeHandler(f(document),s),this.removeHandler(f(document),"mouseup.rangeselector"+e),this.removeHandler(this.host,r),this.removeHandler(this.host,"click.rangeselector"+e),this.removeHandler(this.host,"dragstart.rangeselector"+e),this.removeHandler(t,"mouseenter.rangeselector"+e),this.removeHandler(t,"mouseleave.rangeselector"+e),this.removeHandler(i,"mouseenter.rangeselector"+e),this.removeHandler(i,"mouseleave.rangeselector"+e),this.removeHandler(f("#"+e+"LeftMarker"),r),this.removeHandler(f("#"+e+"RightMarker"),r),this.removeHandler(f("#"+e+"LeftMarkerValue, #"+e+"RightMarkerValue"),"selectstart.rangeselector"+e)},_heightCheck:function(e){var t=this.slider,i=t.offset().top;return i<=e&&e<=i+t.height()},_checkProperties:function(){(this._range._from<this._min||this._range._from>this._min&&this._range._from>this._max)&&(this._range._from=this._min),(this._range._to>this._max||this._range._to<this._min&&this._range._to<this._max)&&(this._range._to=this._max);var e=this._max-this._min,e=(this._range._min>e&&(this._range._min=e),this._range._max>e&&(this._range._max=e),this._range._to-this._range._from);e<this._range._min?this._range._to=this._range._from+this._range._min:e>this._range._max&&(this._range._to=this._range._from+this._range._max)},_findNearestTick:function(e){for(var t=0,i=Math.abs(e-this._ticksArray[0]),s=1;s<this._ticksArray.length;s++){var r=Math.abs(e-this._ticksArray[s]);r<i&&(i=r,t=s)}return this._ticksArray[t]},_privateProperties:function(){this._min=this._validateInput(this.min),this._max=this._validateInput(this.max),this._range=new Object,this._range._from=this._validateInput(null!=this.range.from?this.range.from:0),this._range._to=this._validateInput(null!=this.range.to?this.range.to:1/0),this._range._min=this._minMaxDate(null!=this.range.min?this.range.min:0),this._range._max=this._minMaxDate(null!=this.range.max?this.range.max:1/0)},_validateInput:function(e){var t;return"number"==typeof e?t=e:"string"==typeof e?t=Date.parse(e):e instanceof Date&&(t=e.getTime()),t},_minMaxDate:function(e){if("number"==typeof e)return e;var t;switch(e){case"millisecond":t=1;break;case"second":t=1e3;break;case"minute":t=6e4;break;case"hour":t=36e5;break;case"day":t=864e5;break;case"week":t=6048e5;break;default:t=e.milliseconds||(0+e.seconds?1e3*e.seconds:0+e.minutes?6e4*e.minutes:0+e.hours?36e5*e.hours:0+e.days?864e5*e.days:0+e.weeks?6048e5*e.weeks:0)}return t},_formatOutput:function(e,t,i,s,r){var n,o;if(this.values||(this.values=new Array),this.values[s]=e,"label"==s&&this.labelsFormatFunction)n="date"==this._dataType?this._roundDate(e):this._roundNumber(e,"label"),n=this.labelsFormatFunction(n);else if("label"!=s&&this.markersFormatFunction)"date"==this._dataType&&(n=this._roundDate(e)),n=this.markersFormatFunction(e,s);else if(t)n="number"==this._dataType?f.jqx.dataFormat.formatnumber(e,t):(n=this._roundDate(e),f.jqx.dataFormat.formatdate(n,t));else{if("date"==this._dataType)throw null==this.labelsFormat&&null==this.markersFormat?o="both labelsFormat and markersFormat":null==this.labelsFormat?o="labelsFormat":null==this.markersFormat&&(o="markersFormat"),new Error("When the data format is date, "+o+" should be set.");n=e.toFixed(i)}return n},_getValue:function(e){var t=this,i=t.minorTicksInterval;function s(e){return"number"===t._dataType?Math.round(e/i)*i:t._roundNumber(e,"marker")}var r=this.slider,n=r.width(),o=new Object,r=(r.offset().left-this.rangeSelector.offset().left)*this._unitPerPixel+this._min;return o.from=s(r),o.to=s(r+n*this._unitPerPixel),e||1!=this.snapToTicks||(r=this._findNearestTick((o.from-this._min)/this._unitPerPixel),o.from=this._valuesArray[this._ticksArray.indexOf(r)],n=this._findNearestTick((o.to-this._min)/this._unitPerPixel),o.to=this._valuesArray[this._ticksArray.indexOf(n)]),"date"==this._dataType&&(o.from=new Date(o.from),o.to=new Date(o.to)),o},_roundNumber:function(e,t,i){"marker"==t&&1==i&&(e=parseFloat(e));t=parseFloat(e);return t},_roundDate:function(e){"number"==typeof e&&(e=new Date(e));var t,i=this._max-this._min;return 12096e5<i?(t=e.getDate(),12<e.getHours()&&(e.setDate(t+1),e.setHours(0),e.setMinutes(0),e.setSeconds(0))):1728e5<i&&(e.setHours(e.getHours()+Math.round(e.getMinutes()/60)),e.setMinutes(0),e.setSeconds(0)),e},_layoutShutter:function(){var e=parseInt(this.slider[0].style.left),t=(this.shutterLeft[0].style.width=e+"px",this.shutterLeft[0].style.left="0px",f.jqx.browser.msie&&f.jqx.browser.version<9&&(this.shutterLeft[0].style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=75)",this.shutterRight[0].style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=75)"),1+e+parseInt(this.slider[0].style.width)),i=(this.shutterRight[0].style.left=t+"px",parseInt(this.element.style.width)),e=(i=0<=this.element.style.width.indexOf("%")?parseInt(this.host.width()):i)-1-e-parseInt(this.slider[0].style.width);this.shutterRight[0].style.width=1+(e=e<0?0:e)+"px",t+1+e<2+i&&(this.shutterRight[0].style.width=2+e+"px"),0==e&&(this.shutterRight[0].style.width="0px")},_initRange:function(){if(this._range._from>this._range._to)throw new Error("jqxRangeSelector: range object initialization error. 'min' should be less than 'max'");return{left:this._range._from,right:this._range._to}}})}(jqxBaseFramework),!function(d){d.jqx.jqxWidget("jqxRating","",{}),d.extend(d.jqx._jqxRating.prototype,{defineInstance:function(){var e={count:5,disabled:!1,value:0,height:"auto",width:"auto",precision:1,singleVote:!1,itemHeight:"20",itemWidth:"20",_itemHeight:void 0,_itemWidth:void 0,_images:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},_events:["change"],_invalidArgumentExceptions:{invalidPrecision:"The value of the precision property is invalid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidCount:"You've entered invalid value for the count property!",invalidValue:"You've entered invalid value property!"}};return this===d.jqx._jqxRating.prototype||d.extend(!0,this,e),e},createInstance:function(e){d.jqx.aria(this),this._createRating()},destroy:function(){this.host.remove()},val:function(e){return 0==arguments.length||"object"==typeof e||(this.value="string"==typeof e?parseInt(e):e,this.setValue(this.value)),this.value},_createRating:function(){this.host.css("display","none"),this.host.empty(),this._addInput(),this._validateProperties(),this._render(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this.host.css("display","block"),this.host.addClass(this.toThemeProperty("jqx-widget")),this.disabled&&this.disable()},_addInput:function(){var e=this.host.attr("name");this.input=d("<input type='hidden'/>"),this.host.append(this.input),e&&this.input.attr("name",e),this.input.val(this.value.toString())},_render:function(){for(var e=1;e<=this.count;e++)this._images[e-1]=d('<div style="float:left;width:auto;height:auto; position: relative;"><div style="position:absolute;width:auto;height:auto;visibility:hidden;" class="jqx-rating-hoverWrapper"><div style="width:auto;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-hover")+'"></div><div style="visibility:hidden;width:auto;height:auto;" class="'+this.toThemeProperty("jqx-rating-image-backward")+'"></div></div><div style="position:absolute;width:auto;height:auto;" class="jqx-rating-voteWrapper"><div style="width:auto;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-default")+'"></div><div style="width:0;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-backward")+'"></div></div></div>'),this.host.append(this._images[e-1])},_performLayout:function(){for(var e=1;e<=this.count;e++){var t=this._images[e-1].find(this.toThemeProperty(".jqx-rating-image-backward",!0)),i=this._images[e-1].find(this.toThemeProperty(".jqx-rating-image-default",!0)),s=this._images[e-1].find(this.toThemeProperty(".jqx-rating-image-hover",!0)),r=this._getImageName(i),n=this._getImageName(s),o=this._getImageName(t);i.css("background-image","none"),s.css("background-image","none"),t.css("background-image","none"),this._appendImage(s,n,e-1),this._appendImage(t,o,e-1),this._appendImage(i,r,e-1)}},resize:function(e,t){this.width=e,this.height=t,this._setControlSize(this.width,this.height)},_setControlSize:function(e,t){this.host.css("height",this.height),this.host.css("width",this.width),this.itemHeight&&"auto"!==this.itemHeight?this._itemHeight=parseInt(this.itemHeight):this._itemHeight=t,this.itemWidth&&"auto"!==this.itemWidth?this._itemWidth=parseInt(this.itemWidth):this._itemWidth=e},_appendImage:function(e,t,i){var s=this,t=d('<img style="-moz-user-select:-moz-none;-khtml-user-select: none;-webkit-user-select:none;user-select:none;" class="'+this.toThemeProperty("jqx-rating-image")+'" src="'+t+'" />');e.append(t);try{t.load(function(){s._initialized||(s._setControlSize(d(this).width(),d(this).height()),s._setValue(s.value,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),s._initialized=!0),s._images[i].height(s._itemHeight),d(this).height(s._itemHeight),s._images[i].width(s._itemWidth),d(this).width(s._itemWidth)})}catch(e){t[0].onload=function(){s._initialized||(s._setControlSize(d(this).width(),d(this).height()),s._setValue(s.value,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),s._initialized=!0),s._images[i].height(s._itemHeight),d(this).height(s._itemHeight),s._images[i].width(s._itemWidth),d(this).width(s._itemWidth)}}return t},_validateProperties:function(){try{if(this.precision<.001||1<this.precision)throw this._invalidArgumentExceptions.invalidPrecision;if("auto"!==this.height&&parseInt(this.height)<0)throw this._invalidArgumentExceptions.invalidHeight;if("auto"!==this.width&&parseInt(this.width)<0)throw this._invalidArgumentExceptions.invalidWidth;if(this.count<=0)throw this._invalidArgumentExceptions.invalidCount;if(this.value>this.count||this.value<0)throw this._invalidArgumentExceptions.invalidValue}catch(e){alert(e)}},_getImageIndex:function(e){for(var t=0;e!==this._images[t][0];)t++;return++t},_getRating:function(e,t){var i=this._getImageIndex(e);if(this.precision<1){for(var s=parseInt(t)-parseInt(d(e).position().left),r=this._itemWidth*this.precision,n=0;n<s;)n+=r;i-=1-(n=n>parseInt(this._itemWidth)-r?parseInt(this._itemWidth):n)/d(e).width()}return i},_addEventHandlers:function(){for(var s=this,e=0;e<this.count;e++)d.jqx.mobile.isTouchDevice()||(this.addHandler(this._images[e],"mousemove",function(e){e=s._getRating(this,e.pageX);s._setValue(e,".jqx-rating-hoverWrapper",".jqx-rating-image-hover",".jqx-rating-image-backward")}),this.addHandler(this._images[e],"mouseenter",function(e){for(var t=s._getImageIndex(this),i=0;i<t;i++)s._images[i].children(".jqx-rating-hoverWrapper").css("z-index","10"),s._images[i].children(".jqx-rating-voteWrapper").css("z-index","1"),s._images[i].children(".jqx-rating-hoverWrapper").css("visibility","visible")}),this.addHandler(this._images[e],"mouseleave",function(e){for(var t=s._getImageIndex(this),i=0;i<t;i++)s._images[i].children(".jqx-rating-voteWrapper").css("z-index","10"),s._images[i].children(".jqx-rating-hoverWrapper").css("z-index","1"),s._images[i].children(".jqx-rating-hoverWrapper").css("visibility","hidden")})),this.addHandler(this._images[e],"click",function(e){var t=s._getRating(this,e.pageX);s._setValue(t,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),s.singleVote&&s.disable(),e.stopPropagation(),s._raiseEvent(0,t)}),this.addHandler(this._images[e],"dragstart",function(e){return!1})},_removeEventHandlers:function(){for(var e=0;e<this.count;e++)this.removeHandler(this._images[e],"mousemove"),this.removeHandler(this._images[e],"mouseenter"),this.removeHandler(this._images[e],"mouseleave"),this.removeHandler(this._images[e],"click"),this.removeHandler(this._images[e],"dragstart")},_getImageName:function(e){e=e.css("background-image");return e=(e=(e=(e=e.replace('url("',"")).replace('")',"")).replace("url(","")).replace(")","")},_setValue:function(e,t,i,s){for(var r=1;r<=this.count;r++){var n=1,o=this._images[r-1].children(t),a=o.children(i),l=o.children(s);e<r&&(n=Math.abs(r-e)<1?1-Math.abs(r-e):0),a.width(this._itemWidth*n),l.width(this._itemWidth-parseInt(a.width())),o.children(this.toThemeProperty(s)).children(0).css("margin-left",-this._itemWidth*n+"px")}d.jqx.aria(this,"aria-valuenow",e)},_raiseEvent:function(e,t){e=new d.Event(this._events[e]);return e.owner=this,e.value=t,e.oldvalue=this.value,this.value=t,this.input&&this.input.val(this.value.toString()),this.host.trigger(e)},setValue:function(e){this._setValue(e,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),this.value=e,this._raiseEvent(0,this.value)},getValue:function(){return this.value},disable:function(){this._removeEventHandlers(),this.disabled=!0,d.jqx.aria(this,"aria-disabled",!0)},enable:function(){this._removeEventHandlers(),this._addEventHandlers(),this.disabled=!1,d.jqx.aria(this,"aria-disabled",!1)},propertyChangedHandler:function(e,t,i,s){"disabled"===t?s?this.disable():this.enable():"value"===t?e.setValue(s):e._createRating()}})}(jqxBaseFramework),!function(g){g.jqx.jqxWidget("jqxResponsivePanel","",{}),g.extend(g.jqx._jqxResponsivePanel.prototype,{defineInstance:function(){var e={width:null,height:null,collapseBreakpoint:1e3,collapseWidth:null,toggleButton:null,toggleButtonSize:30,animationType:"fade",animationDirection:"left",animationShowDelay:"fast",animationHideDelay:"fast",autoClose:!0,initContent:null,_collapsed:!1,_opened:!1,_init:!1,_ie7:g.jqx.browser.msie&&g.jqx.browser.version<8,events:["collapse","expand","open","close"]};return this===g.jqx._jqxResponsivePanel.prototype||g.extend(!0,this,e),e},createInstance:function(){this.initContent&&!1===this._init&&(this.initContent(),this._init=!0),this._render(!0)},_render:function(e){var t=this;if(!0===e&&t.toggleButton){if(t._toggleButton=g(t.toggleButton),0===t._toggleButton.length)throw new Error('jqxResponsivePanel: Invalid toggleButton selector: "'+t.toggleButton+'".');var i=g('<div class="'+t.toThemeProperty("jqx-menu-minimized-button")+" "+t.toThemeProperty("jqx-responsive-panel-button-inner")+'"></div>');t._toggleButton.append(i)}t._setSize(),t._addClasses(),!1===e&&t._removeHandlers(),t._addHandlers(),t._checkWindowSize()},render:function(){this._render(!1)},refresh:function(e){!0!==e&&this._checkWindowSize()},destroy:function(e){this._removeHandlers(),this.host.remove(),!0!==e&&this.toggleButton&&this._toggleButton.remove()},propertyChangedHandler:function(e,t,i,s){if(s!==i&&"toggleButton"!==t&&"initContent"!==t)switch(t){case"width":case"height":e.host.css(t,s);break;case"collapseBreakpoint":e._checkWindowSize();break;case"toggleButtonSize":e.toggleButton&&e._toggleButton.css({width:s,height:s});break;default:e.render()}},open:function(){var e=this;if(!0===e._collapsed&&!1===e._opened){function t(){e.host.show(),e._opened=!0,e._raiseEvent("2"),e.initContent&&!1===e._init&&(e.initContent(),e._init=!0)}if(!0===e._ie7)t();else switch(e.animationType){case"fade":e.host.fadeIn(e.animationShowDelay,function(){e._raiseEvent("2"),e._opened=!0,e.initContent&&!1===e._init&&(e.initContent(),e._init=!0)});break;case"slide":var i=e.animationDirection;"top"===i?i="up":"bottom"===i&&(i="down"),e._slide(e.host,{mode:"show",direction:i,duration:e.animationShowDelay});break;case"none":t()}}},close:function(){var e=this;if(!0===e._collapsed&&!0===e._opened){if(!0===e._ie7)return e.host.hide(),e._opened=!1,void e._raiseEvent("3");switch(e.animationType){case"fade":e.host.fadeOut(e.animationHideDelay,function(){e._opened=!1,e._raiseEvent("3")});break;case"slide":var t=e.animationDirection;"top"===t?t="up":"bottom"===t&&(t="down"),e._slide(e.host,{mode:"hide",direction:t,duration:e.animationHideDelay});break;case"none":e.host.hide(),e._opened=!1,e._raiseEvent("3")}}},_raiseEvent:function(e,t){e=this.events[e],(t=void 0===t?{owner:null}:t).owner=this,e=new g.Event(e);return e.owner=this,e.args=t,e.preventDefault&&e.preventDefault(),this.host.trigger(e)},_setSize:function(){this.host.css("width",this.width),this.host.css("height",this.height),this.toggleButton&&this._toggleButton.css({width:this.toggleButtonSize,height:this.toggleButtonSize})},_addClasses:function(){var e=this;e.host.addClass(e.toThemeProperty("jqx-responsive-panel")),e.host.addClass(e.toThemeProperty("jqx-widget")),e.host.addClass(e.toThemeProperty("jqx-widget-content")),e.host.addClass(e.toThemeProperty("jqx-rc-all")),e.toggleButton&&(e._toggleButton.addClass(e.toThemeProperty("jqx-responsive-panel-button")),e._toggleButton.addClass(e.toThemeProperty("jqx-fill-state-normal")),e._toggleButton.addClass(e.toThemeProperty("jqx-rc-all")))},isCollapsed:function(){return this._collapsed},isOpened:function(){return this._opened},_addHandlers:function(){var t=this,e=t.element.id;t.addHandler(t.host,"click.jqxResponsivePanel"+e,function(e){e.stopPropagation()}),t.addHandler(g(document),"click.jqxResponsivePanel"+e,function(){!0===t._collapsed&&!0===t.autoClose&&t.close()}),t.addHandler(g(window),"resize.jqxResponsivePanel"+e,function(){setTimeout(function(){t._checkWindowSize()},0)}),t.toggleButton&&(t.addHandler(t._toggleButton,"mouseenter.jqxResponsivePanel"+e,function(){t._toggleButton.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._toggleButton,"mouseleave.jqxResponsivePanel"+e,function(){t._toggleButton.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._toggleButton,"mousedown.jqxResponsivePanel"+e,function(){t._toggleButton.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(g(document),"mouseup.jqxResponsivePanel"+e,function(){t._toggleButton.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._toggleButton,"click.jqxResponsivePanel"+e,function(e){e.stopPropagation(),!0===t._opened?t.close():t.open()}))},_removeHandlers:function(){var e=this,t=e.element.id;e.removeHandler(e.host,"click.jqxResponsivePanel"+t),e.removeHandler(g(document),"click.jqxResponsivePanel"+t),e.removeHandler(g(window),"resize.jqxResponsivePanel"+t),e.toggleButton&&(e.removeHandler(e._toggleButton,"mouseenter.jqxResponsivePanel"+t),e.removeHandler(e._toggleButton,"mouseleave.jqxResponsivePanel"+t),e.removeHandler(e._toggleButton,"mousedown.jqxResponsivePanel"+t),e.removeHandler(g(document),"mouseup.jqxResponsivePanel"+t),e.removeHandler(e._toggleButton,"click.jqxResponsivePanel"+t))},_checkWindowSize:function(){var e=this,t=this.host.parent().width();"jqx-responsive-panel"===this.host.parent()[0].nodeName.toLowerCase()&&(t=this.host.parent().parent().width()),!1===e._collapsed&&t<=e.collapseBreakpoint?(e.toggleButton&&e._toggleButton.show(),!1===e._opened&&e.host.hide(),e.host.removeClass(e.toThemeProperty("jqx-responsive-panel-expanded")),e.host.addClass(e.toThemeProperty("jqx-responsive-panel-collapsed")),e._collapsed=!0,e._raiseEvent("0"),e.collapseWidth&&e.host.width(e.collapseWidth),e.host.trigger("resize")):!0===e._collapsed&&t>e.collapseBreakpoint&&(e.collapseWidth&&e.host.width(e.width),e.toggleButton&&e._toggleButton.hide(),!1===e._opened&&e.host.show(),e.host.removeClass(e.toThemeProperty("jqx-responsive-panel-collapsed")),e.host.addClass(e.toThemeProperty("jqx-responsive-panel-expanded")),e._collapsed=!1,e._raiseEvent("1"),e.initContent&&!1===e._init&&(e.initContent(),e._init=!0),e.host.trigger("resize"))},_slide:function(e,t){var i=this;if(i.activeAnimations||(i.activeAnimations=[]),0<i.activeAnimations.length)for(var s=0;s<i.activeAnimations.length;s++)i.activeAnimations[s].clearQueue(),i.activeAnimations[s].finish();else e.clearQueue(),e.finish();var r="ui-effects-",n=function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&0<e.length&&e.data(r+t[i],e[0].style[t[i]])},o=function(e,t){for(var i,s=0;s<t.length;s++)null!==t[s]&&(void 0===(i=e.data(r+t[s]))&&(i=""),e.css(t[s],i))},a=function(i){if(i.parent().is(".ui-effects-wrapper"))return i.parent();var s={width:i.outerWidth(!0),height:i.outerHeight(!0),float:i.css("float")},e=g("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),t={width:i.width(),height:i.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return i.wrap(e),i[0]!==r&&!g.contains(i[0],r)||g(r).focus(),e=i.parent(),"static"===i.css("position")?(e.css({position:"relative"}),i.css({position:"relative"})):(g.extend(s,{position:i.css("position"),zIndex:i.css("z-index")}),g.each(["top","left","bottom","right"],function(e,t){s[t]=i.css(t),isNaN(parseInt(s[t],10))&&(s[t]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(t),e.css(s).show()},l=function(e){var t=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),e[0]!==t&&!g.contains(e[0],t)||g(t).focus()),e},d=["position","top","bottom","left","right","width","height"],h=t.mode,c="show"===h,u=t.direction||"left",p="up"===u||"down"===u?"top":"left",u="up"===u||"left"===u,m={};n(e,d),e.show(),n=t.distance||e["top"==p?"outerHeight":"outerWidth"](!0),a(e).css({overflow:"hidden"}),c&&e.css(p,u?isNaN(n)?"-"+n:-n:n),m[p]=(c?u?"+=":"-=":u?"-=":"+=")+n;return i.activeAnimations.push(e),e.animate(m,{duration:t.duration,easing:t.easing,complete:function(){i.activeAnimations.pop(e),"show"===h?(i._opened=!0,i._raiseEvent("2"),i.initContent&&!1===i._init&&(i.initContent(),i._init=!0)):"hide"===h&&(e.hide(),i._opened=!1,i._raiseEvent("3")),o(e,d),l(e)}}),function(){e.clearQueue(),e.stop(!0,!0)}}})}(jqxBaseFramework),!function(q){q.jqx.jqxWidget("jqxRibbon","",{}),q.extend(q.jqx._jqxRibbon.prototype,{defineInstance:function(){var e={width:null,height:"auto",mode:"default",position:"top",selectedIndex:-1,selectionMode:"click",popupCloseMode:"click",animationType:"fade",animationDelay:400,scrollPosition:"both",disabled:!1,rtl:!1,scrollStep:10,scrollDelay:30,reorder:!1,initContent:null,_roundedCorners:!0,_removeByDrag:!1,_suppressReorder:!0,events:["select","unselect","change","_removeByDrag","reorder"]};return this===q.jqx._jqxRibbon.prototype||q.extend(!0,this,e),e},createInstance:function(){var e=this;"none"!==e.host.css("display")&&!1!==document.body.contains(e.element)||(e._initiallyHidden=!0),e._browser=q.jqx.browser,"popup"!==e.mode&&-1===e.selectedIndex&&(e.selectedIndex=0),e._originalHTML=e.element.innerHTML,e._render(!0)},render:function(){this._render()},refresh:function(e){!0!==e&&this._render()},destroy:function(){this._removeHandlers(),this.host.remove()},selectAt:function(e){this._selectAt(e)},clearSelection:function(){-1!==this.selectedIndex&&this._clearSelection()},disableAt:function(e){this._items[e]._disabled=!0,q(this._items[e]).addClass(this.toThemeProperty("jqx-fill-state-disabled")),e===this.selectedIndex&&this._clearSelection()},enableAt:function(e){this._items[e]._disabled=!1,q(this._items[e]).removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},hideAt:function(e){this._items[e].style.display="none",this._checkScrollButtons(),e===this.selectedIndex?this._clearSelection():this._updatePositions()},showAt:function(e){"horizontal"===this._orientation?this._items[e].style.display="inline-block":this._items[e].style.display="inherit",this._checkScrollButtons(),this._updatePositions()},val:function(e){if(!e)return this.selectedIndex;this._selectAt(e)},addAt:function(e,t){var i=this,s="jqx-ribbon-item jqx-ribbon-item-"+i.position,r="jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-"+i.position,n=(i._removeHandlers(),document.createElement("li")),o=(n.innerHTML=t.title,document.createElement("div"));if("string"==typeof t.content)o.innerHTML=t.content;else if(void 0!==t.content.length)try{if(void 0!==window.$&&t.content instanceof window.$)q(o).append(t.content);else if(q.isArray(t.content))for(var a=0;a<t.content.length;a++)t.content[a].appendTo(o);else for(;0<t.content.length;)o.appendChild(t.content[0])}catch(e){}else o.appendChild(t.content);switch(i.position){case"top":s+=" jqx-rc-t",r+=" jqx-rc-b";break;case"bottom":s+=" jqx-rc-b",r+=" jqx-rc-t";break;case"left":s+=" jqx-rc-l",r+=" jqx-rc-r";break;case"right":s+=" jqx-rc-r",r+=" jqx-rc-l"}"popup"===i.mode&&(r+=" jqx-ribbon-content-section-popup jqx-ribbon-content-section-"+i._orientation+"-popup"),!0===i.rtl&&(s+=" jqx-ribbon-item-rtl"),n.className=i.toThemeProperty(s),o.className=i.toThemeProperty(r),i._items.length-1>=e?(i._headerElement.insertBefore(n,i._items[e]),i._contentElement.insertBefore(o,i._contentSections[e])):(i._headerElement.appendChild(n),i._contentElement.appendChild(o)),i._updateItems(),i._addHandlers(),i._checkScrollButtons(),e<=i.selectedIndex&&i.selectedIndex<i._items.length-1&&i.selectedIndex++,i._updatePositions(),i.selectedIndex<0||(i._suppressSelectionEvents=!0,i._selectAt(i.selectedIndex,i.selectedIndex,!0))},removeAt:function(e){e===this.selectedIndex&&this._clearSelection(),q(this._items[e]).remove(),q(this._contentSections[e]).remove(),this._updateItems(!0),this._updatePositions(),this._checkScrollButtons()},updateAt:function(e,t){var i=this._items[e];i.innerHTML=t.newTitle,this._contentSections[e].innerHTML=t.newContent,i._isInitialized=!1,this.initContent&&e===this.selectedIndex&&(this.initContent(e),i._isInitialized=!0),this._updatePositions()},setPopupLayout:function(e,t,i,s){var r=this._contentSections[e];"popup"===this.mode&&(r.getAttribute("data-width")||(r.style.width&&r.setAttribute("data-width",r.style.width),r.style.height&&r.setAttribute("data-height",r.style.height)),i&&(r.style.width=this._toPx(i)),s&&(r.style.height=this._toPx(s)),r._layout=t,this._positionContent(e))},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2===Object.keys(i).length&&(e.element.style.width=e._toPx(e.width),e.element.style.height=e._toPx(e.height),e._updateSize())},propertyChangedHandler:function(e,t,i,s){if(!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2===Object.keys(e.batchUpdate).length)&&s!==i)switch(t){case"width":case"height":e.element.style[t]=e._toPx(s),e._updateSize();break;case"position":e._render();break;case"mode":e._contentElement.style.width="auto",e._removeHandlers(null,i),e._render();break;case"selectedIndex":e._selectAt(s,i);break;case"selectionMode":e._removeHandlers(i),e._addHandlers();break;case"scrollPosition":var r=e._scrollButtonNear,n=e._scrollButtonFar;q(r).removeClass(e.toThemeProperty("jqx-ribbon-scrollbutton-"+i+" jqx-rc-tr jqx-rc-bl jqx-rc-tl")),q(n).removeClass(e.toThemeProperty("jqx-ribbon-scrollbutton-"+i+" jqx-rc-tr jqx-rc-bl jqx-rc-br")),r.className+=" "+e.toThemeProperty("jqx-ribbon-scrollbutton-"+s),n.className+=" "+e.toThemeProperty("jqx-ribbon-scrollbutton-"+s),e._scrollButtonRc(r,n),e._checkScrollButtons(),e._updatePositions();break;case"disabled":!0===s?(e._removeHandlers(),e.element.className+=" "+e.toThemeProperty("jqx-fill-state-disabled")):(e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e._addHandlers());break;case"theme":q.jqx.utilities.setTheme(i,s,e.host);break;case"rtl":if(!0===s){e._headerElement.className+=" "+e.toThemeProperty("jqx-ribbon-header-rtl");for(var o=0;o<e._items.length;o++)e._items[o].className+=" "+e.toThemeProperty("jqx-ribbon-item-rtl")}else{e._header.removeClass(e.toThemeProperty("jqx-ribbon-header-rtl"));for(var a=0;a<e._items.length;a++)q(e._items[a]).removeClass(e.toThemeProperty("jqx-ribbon-item-rtl"))}e._positionSelectionToken(e.selectedIndex)}},_raiseEvent:function(e,t){var i,e=this.events[e],e=new q.Event(e);e.owner=this,e.args=t;try{i=this.host.trigger(e)}catch(e){}return i},_render:function(e){var t,i=this;switch(!0!==e&&i._removeHandlers(),i._selectionTokenOffsetY=0,i._browser.browser){case"mozilla":i._browserWidthRtlFlag=0,i._browserScrollRtlFlag=1,i._selectionTokenOffsetX=1;break;case"msie":i._browserWidthRtlFlag=0,i._browserScrollRtlFlag=-1,"8.0"===i._browser.version?i._selectionTokenOffsetX=1:"7.0"===i._browser.version?(i._selectionTokenOffsetX=0,"popup"!==i.mode||"bottom"!==i.position&&"right"!==i.position||(i._selectionTokenOffsetY=2)):i._selectionTokenOffsetX=0;break;default:i._browserWidthRtlFlag=1,i._browserScrollRtlFlag=1,i._selectionTokenOffsetX=0}!0===e&&(t=i.host.children(),i._headerElement=t[0],i._header=q(t[0]),i._contentElement=t[1],i._content=q(t[1]),i._checkStructure(t),i._refreshBarPosition()),i._headerElement.style.float="none",i._contentElement.style.padding="0px",i.element.style.width=i._toPx(i.width),i.element.style.height=i._toPx(i.height),"bottom"!==i.position&&"right"!==i.position||i.element.insertBefore(i._contentElement,i._headerElement),"top"===i.position||"bottom"===i.position?i._orientation="horizontal":i._orientation="vertical","right"===i.position?i._headerElement.style.float="right":"left"===i.position&&(i._headerElement.style.float="left"),i._contentSections=i._content.children(),q.each(i._contentSections,function(){this.getAttribute("data-width")&&(this.style.width=this.getAttribute("data-width"),this.style.height=this.getAttribute("data-height"),this.removeAttribute("data-width"),this.removeAttribute("data-height"))}),!0===e&&(i._selectionToken=document.createElement("div"),i._selectionToken.className=i.toThemeProperty("jqx-widget-content jqx-ribbon-selection-token jqx-ribbon-selection-token-"+i.position),i.element.appendChild(i._selectionToken)),i._updateItems(),!0!==i._initiallyHidden&&i._addClasses(),!0===e&&(i._appendScrollButtons(),i._checkScrollButtons()),i._allowSelection=!0,-1!==i.selectedIndex&&(i._items[i.selectedIndex].className+=" "+i.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"),i._positionSelectionToken(i.selectedIndex),i._contentSections[i.selectedIndex].style.display="block",i.initContent&&(i.initContent(i.selectedIndex),i._items[i.selectedIndex]._isInitialized=!0)),i.disabled?i.element.className+=" "+i.toThemeProperty("jqx-fill-state-disabled"):i._addHandlers(),q.jqx.utilities.resize(i.host,function(){i._initiallyHidden&&(i._initiallyHidden=!1,i._addClasses(),-1!==i.selectedIndex&&(i._items[i.selectedIndex].className+=" "+i.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"))),i._updateSize(!0)}),"popup"===i.mode&&""!==i.theme&&setTimeout(function(){i._positionPopup(),i._positionSelectionToken(i.selectedIndex)},30)},_updateSize:function(e){var t,i=this;"7.0"===i._browser.version&&"msie"===i._browser.browser&&("horizontal"===i._orientation?(i._header.css("width",i.host.width()-parseInt(i._header.css("padding-left"),10)-parseInt(i._header.css("padding-right"),10)-parseInt(i._header.css("border-left-width"),10)-parseInt(i._header.css("border-right-width"),10)),i._contentSections.width(i._content.width()-parseInt(i._contentSections.css("border-left-width"),10)-parseInt(i._contentSections.css("border-right-width"),10)-parseInt(i._contentSections.css("padding-left"),10)-parseInt(i._contentSections.css("padding-right"),10)),"default"===i.mode&&"string"==typeof i.height&&-1!==i.height.indexOf("%")&&i._contentSections.height(i._content.height()-i._header.height()-parseInt(i._contentSections.css("border-bottom-width"),10)-parseInt(i._contentSections.css("border-top-width"),10)-1)):(i._header.css("height",i.host.height()-parseInt(i._header.css("padding-top"),10)-parseInt(i._header.css("padding-bottom"),10)-parseInt(i._header.css("border-top-width"),10)-parseInt(i._header.css("border-bottom-width"),10)),i._contentSections.height(i._content.height()-parseInt(i._contentSections.css("border-top-width"),10)-parseInt(i._contentSections.css("border-bottom-width"),10)-parseInt(i._contentSections.css("padding-top"),10)-parseInt(i._contentSections.css("padding-bottom"),10)),"default"===i.mode&&"string"==typeof i.width&&-1!==i.height.indexOf("%")&&(t="left"===i.position?parseInt(i._contentSections.css("border-left-width"),10)+parseInt(i._contentSections.css("border-right-width"),10)+1:0,i._contentSections.width(i._content.width()-i._header.width()-t)))),i._checkScrollButtons(!0),i._updatePositions(void 0,e),"popup"===i.mode&&i._positionPopup(),i._refreshBarPosition()},_stopAnimation:function(){var e;this._allowSelection||(this.selectedIndex=this._animatingIndex,e=q(this._contentSections[this._animatingIndex]),this._initAnimate(e),e.animate("finish"),this._clearSelection(!0,this._animatingIndex),this._allowSelection=!0)},_refreshBarPosition:function(){var e,s=this;this.bar||(e=q("<span></span>"),q(this.host).append(e),e.addClass(this.toThemeProperty("jqx-tabs-bar")),this.bar=e),setTimeout(function(){var e=parseInt(q(s._headerElement).css("left"),10)-s._headerElement.scrollLeft,t=parseInt(q(s._headerElement).css("top"),10)-s._headerElement.scrollTop,i=void 0!==s._animatingIndex?s._animatingIndex:s.selectedIndex;s._items[i]&&s.bar&&("top"===s.position||"bottom"===s.position?(s.bar.css("left",s._items[i].offsetLeft+e),"top"===s.position?s.bar.css("top",s._items[i].offsetTop+t+s._items[i].offsetHeight):s.bar.css("top",t),s.bar.width(q(s._items[i]).outerWidth()-2),s.bar.removeClass(s.toThemeProperty("vertical"))):("left"===s.position?s.bar.css("left",s._items[i].offsetLeft+e+s._items[i].offsetWidth):s.bar.css("left",s._items[i].offsetLeft+e),s.bar.css("top",t+s._items[i].offsetTop),s.bar.height(q(s._items[i]).outerHeight()-2),s.bar.addClass(s.toThemeProperty("vertical"))))})},_selectAt:function(e,t,i){var s,r,n=this;if(void 0===t&&(t=n.selectedIndex),(e!==t||!0===i)&&(n._stopAnimation(),n._refreshBarPosition(),n._allowSelection)){if(n._animatingIndex=e,-1!==n.selectedIndex&&n._clearSelection(!0,t),n._allowSelection=!1,n._selecting=e,"click"===n.selectionMode&&q(n._items[e]).removeClass(n.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover")),"popup"===n.mode&&n._roundedCorners){switch(n._header.removeClass(n.toThemeProperty("jqx-rc-all")),n.position){case"top":s="jqx-rc-t",r="jqx-rc-b";break;case"bottom":s="jqx-rc-b",r="jqx-rc-t";break;case"left":s="jqx-rc-l",r="jqx-rc-r";break;case"right":s="jqx-rc-r",r="jqx-rc-l"}n._headerElement.className+=" "+n.toThemeProperty(s);for(var o=0;o<n._items.length;o++)n._items[o].className+=" "+n.toThemeProperty(s),n._contentSections[o].className+=" "+n.toThemeProperty(r)}if(n._items[e].className+=" "+n.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"),n._selectionToken.style.display="block",n._updatePositions(e),q().jquery.startsWith("3"))n._contentSections[e].style.display="block",n._animationComplete(e,t);else switch(n.animationType){case"fade":a=q(n._contentSections[e]),n._initAnimate(a),"none"===a.css("display")?a.fadeIn({duration:n.animationDelay,complete:function(){n._animationComplete(e,t)}}):a.fadeOut({duration:n.animationDelay,complete:function(){n._animationComplete(e,t)}});break;case"slide":var a=q(n._contentSections[e]),l=n.position;"top"===l?l="up":"bottom"===l&&(l="down"),n.slideAnimation=n._slide(a,{mode:"show",direction:l,duration:n.animationDelay},e,t);break;case"none":n._contentSections[e].style.display="block",n._animationComplete(e,t)}}},_clearSelection:function(e,t){var i,s,r=this;"popup"===r.mode&&r._roundedCorners&&(r._headerElement.className+=" "+r.toThemeProperty("jqx-rc-all")),r._selecting=-1,void 0===t&&(t=r.selectedIndex),q(r._items[t]).removeClass(r.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected")),r._selectionToken.style.display="none",!0!==e&&"none"!==r.animationType?(i=q(r._contentSections[t]),"fade"===r.animationType?(r._initAnimate(i),i.fadeOut({duration:r.animationDelay,complete:function(){r._clearSelectionComplete(t)}})):"slide"===r.animationType&&("top"===(s=r.position)?s="up":"bottom"===s&&(s="down"),r._stopAnimation(),t=r.selectedIndex,r.slideAnimation=r._slide(i,{mode:"hide",direction:s,duration:r.animationDelay},t),r.selectedIndex=-1)):-1!==t&&(r._contentSections[t].style.display="none",r._clearSelectionComplete(t,e))},_addHandlers:function(){var n,o=this,a=o.element.id,l=!1;function e(e){var e=o._closest(e.target,"li"),t=e._index;o._items[t]._disabled||(t!==o.selectedIndex?o._selectAt(t):"popup"===o.mode&&"none"!==o.popupCloseMode&&(e.className+=" "+o.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"),o._clearSelection()))}function t(e){if(!0===o.reorder&&!0===l){for(var t=o._closest(e.target,"li")._index,i=o._items[n].innerHTML,s=o._contentSections[n].childNodes,r=[];0<s.length;)r.push(q(s[0]).detach());o._suppressSelectionEvents=!0,o._oldReorderIndex=n,o.removeAt(n),o.clearSelection(),o.addAt(t,{title:i,content:r}),o.selectAt(t),setTimeout(function(){q(o._items[t]).trigger("mousedown")},0)}else{i=o._closest(e.target,"li");p(i._index)&&(i.className+=" "+o.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"))}}function i(e){e=o._closest(e.target,"li");p(e._index)&&q(e).removeClass(o.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"))}function s(e){"#document"!==e.target.nodeName&&(e=o._closest(e.target,"li"),!0!==o.reorder&&!0!==o._removeByDrag||e._index!==o.selectedIndex||(l=!0,n=e._index,e.style.cursor="move"))}function r(){"mouseLeave"===o.popupCloseMode&&"popup"===o.mode&&o._clearSelection()}function d(e){e=o._closest(e.target,"li")._index;o._items[e]._disabled||e===o.selectedIndex||o._selectAt(e)}function h(e){e=o._closest(e.target,"li")._index;o._items[e]._disabled||"popup"===o.mode&&"none"!==o.popupCloseMode&&o._clearSelection()}function c(){"mouseLeave"===o.popupCloseMode&&"popup"===o.mode&&o._clearSelection()}function u(e){var t,i,s,r;"click"===o.popupCloseMode&&"popup"===o.mode&&-1!==o.selectedIndex&&"svg"!==e.target.tagName&&(void 0!==(t=o._closest(e.target,void 0,"jqx-ribbon"))&&t.getAttribute("id")!==a||void 0===e.target.className||-1!==e.target.className.indexOf("jqx-ribbon-content-popup")?o._clearSelection():q(e.target).ischildof(o.host)||(i=!1,s=[],(r=function(e){e.parentElement&&(s.push(e.parentElement),r(e.parentElement))})(e.target),q.each(s,function(){if(void 0!==this.className&&this.className.indexOf)return-1!==this.className.indexOf("jqx-ribbon")?!(i=!0):-1!==this.className.indexOf("jqx-ribbon")?(a===this.id&&(i=!0),!1):void 0}),i||o._clearSelection()))}if("click"===o.selectionMode){for(var p=function(e){return(o._selecting!==e&&!1===o._allowSelection||(-1===o._selecting||o.selectedIndex!==e)&&!0===o._allowSelection)&&!o._items[e]._disabled},m=0;m<o._items.length;m++){var g=o._items[m];o.addHandler(g,"click.ribbon"+a,e),o.addHandler(g,"mouseenter.ribbon"+a,t),o.addHandler(g,"mouseleave.ribbon"+a,i),o.addHandler(g,"mousedown.ribbon"+a,s)}if("popup"===o.mode){o.addHandler(o.host,"mouseleave.ribbon"+a,function(){"mouseLeave"===o.popupCloseMode&&"popup"===o.mode&&o._clearSelection()});for(var f=0;f<o._contentSections.length;f++)o.addHandler(o._contentSections[f],"mouseleave.ribbon"+a,r);o.addHandler(q(document),"mousedown.ribbon"+a,function(e){u(e)})}if(!0===o._removeByDrag)for(var v=0;v<o._items.length;v++)o._items[v].className+=" "+o.toThemeProperty("jqx-ribbon-item-docking-layout");o.addHandler(document,"mouseup.ribbon"+a,function(){l=!1;for(var e=0;e<o._items.length;e++)o._items[e].style.cursor=""}),o.addHandler(o._header,"mouseleave.ribbon"+a,function(e){!0===o._removeByDrag&&!0===l&&(o._raiseEvent("3",{draggedIndex:n,x:e.pageX,y:e.pageY}),1<o._items.length&&o.removeAt(n),l=!1,e.target.style.cursor="")})}else if("hover"===o.selectionMode){for(var x=0;x<o._items.length;x++){var y=o._items[x];o.addHandler(y,"mouseenter.ribbon"+a,d),"popup"===o.mode&&o.addHandler(y,"click.ribbon"+a,h)}if("popup"===o.mode){o.addHandler(o.host,"mouseleave.ribbon"+a,function(){"mouseLeave"===o.popupCloseMode&&"popup"===o.mode&&o._clearSelection()});for(var w=0;w<o._contentSections.length;w++)o.addHandler(o._contentSections,"mouseleave.ribbon"+a,c);o.addHandler(q(document),"mousedown.ribbon"+a,function(e){u(e)})}}var b,_=q.jqx.mobile.isTouchDevice()?(b="touchstart","touchend"):(b="mousedown","mouseup");o.addHandler(o._scrollButtonNear,b+".ribbon"+a,function(){return"horizontal"===o._orientation?o._timeoutNear=setInterval(function(){var e=o._headerElement.scrollLeft,t=o.rtl&&"msie"===o._browser.browser?-1:1;o._headerElement.scrollLeft=e-o.scrollStep*t,o._updatePositions()},o.scrollDelay):o._timeoutNear=setInterval(function(){var e=o._headerElement.scrollTop;o._headerElement.scrollTop=e-o.scrollStep,o._updatePositions()},o.scrollDelay),!1}),o.addHandler(o._scrollButtonFar,b+".ribbon"+a,function(){return"horizontal"===o._orientation?o._timeoutFar=setInterval(function(){var e=o._headerElement.scrollLeft,t=o.rtl&&"msie"===o._browser.browser?-1:1;o._headerElement.scrollLeft=e+o.scrollStep*t,o._updatePositions()},o.scrollDelay):o._timeoutFar=setInterval(function(){var e=o._headerElement.scrollTop;o._headerElement.scrollTop=e+o.scrollStep,o._updatePositions()},o.scrollDelay),!1}),o.addHandler(q(document),_+".ribbon"+a,function(){clearInterval(o._timeoutNear),clearInterval(o._timeoutFar)})},_removeHandlers:function(e,t){var i=this,s=i.element.id;e=e||i.selectionMode,t=t||i.mode;for(var r=0;r<i._items.length;r++){var n=i._items[r];i.removeHandler(n,"mouseenter.ribbon"+s),"click"===e&&(i.removeHandler(n,"click.ribbon"+s),i.removeHandler(n,"mouseleave.ribbon"+s),i.removeHandler(n,"mousedown.ribbon"+s))}"click"===e?(i.removeHandler(document,"mouseup.ribbon"+s),i.removeHandler(i._header,"mouseleave.ribbon"+s)):"hover"===e&&"popup"===t&&i.removeHandler(i.host,"mouseleave.ribbon"+s);var o,t=q.jqx.mobile.isTouchDevice()?(o="touchstart","touchend"):(o="mousedown","mouseup");i.removeHandler(i._scrollButtonNear,o+".ribbon"+s),i.removeHandler(i._scrollButtonFar,o+".ribbon"+s),i.removeHandler(q(document),t+".ribbon"+s)},_checkStructure:function(e){if(2!==e.length)throw new Error("jqxRibbon: Invalid HTML structure. You need to add a ul and a div to the widget container.");if(this._header.children().length!==this._content.children().length)throw new Error("jqxRibbon: Invalid HTML structure. For each list item you must have a corresponding div element.")},_addClasses:function(){var e=this,t="jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-"+e.position,i="jqx-widget-content jqx-ribbon-content jqx-ribbon-content-"+e._orientation,s="jqx-widget-header jqx-disableselect jqx-ribbon-header jqx-ribbon-header-"+e._orientation,r="jqx-ribbon-item jqx-ribbon-item-"+e.position;if(e._content.removeClass(),e._header.removeClass(e.toThemeProperty("jqx-rc-all jqx-widget-header jqx-disableselect jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-rc-all jqx-ribbon-header-"+e._orientation+"-popup jqx-ribbon-header-bottom jqx-ribbon-header-auto jqx-ribbon-header-right jqx-ribbon-header-rtl")),e.host.removeClass(),e._roundedCorners)switch(e.position){case"top":s+=" jqx-rc-t",r+=" jqx-rc-t",t+=" jqx-rc-b";break;case"bottom":s+=" jqx-rc-b",r+=" jqx-rc-b",t+=" jqx-rc-t";break;case"left":s+=" jqx-rc-l",r+=" jqx-rc-l",t+=" jqx-rc-r";break;case"right":s+=" jqx-rc-r",r+=" jqx-rc-r",t+=" jqx-rc-l"}else switch(e.position){case"top":r+=" jqx-rc-t";break;case"bottom":r+=" jqx-rc-b";break;case"left":r+=" jqx-rc-l";break;case"right":r+=" jqx-rc-r"}!0===e.rtl&&(s+=" jqx-ribbon-header-rtl",r+=" jqx-ribbon-item-rtl"),e.element.className+=" "+e.toThemeProperty("jqx-widget jqx-ribbon"),e._headerElement.className+=" "+e.toThemeProperty(s),e._contentElement.className+=" "+e.toThemeProperty(i);for(var n,o,a=0;a<e._items.length;a++){var l=q(e._contentSections[a]),d=q(e._items[a]);l.removeClass(),d.removeClass(e.toThemeProperty("jqx-fill-state-disabled jqx-ribbon-item-rtl jqx-widget-content jqx-ribbon-item-selected jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-ribbon-item-docking-layout jqx-ribbon-item jqx-ribbon-item-"+e.position)),"popup"===e.mode&&(t+=" jqx-ribbon-content-section-popup jqx-ribbon-content-popup-"+e.position+" jqx-ribbon-content-section-"+e._orientation+"-popup"),e._contentSections[a].className+=" "+e.toThemeProperty(t),e._items[a].className+=" "+e.toThemeProperty(r)}"popup"===e.mode?(-1===e.selectedIndex&&e._roundedCorners&&(e.element.className+=" "+e.toThemeProperty("jqx-rc-all"),e._headerElement.className+=" "+e.toThemeProperty("jqx-rc-all")),e.element.className+=" "+e.toThemeProperty("jqx-ribbon-popup"),e._headerElement.className+=" "+e.toThemeProperty("jqx-ribbon-header-"+e._orientation+"-popup"),e._contentElement.className+=" "+e.toThemeProperty("jqx-ribbon-content-popup"),e._positionPopup()):("horizontal"===e._orientation?"auto"!==e.height?(o=e._headerElement.offsetHeight,"top"===e.position?e._contentElement.style.paddingTop=e._toPx(o):e._headerElement.className+=" "+e.toThemeProperty("jqx-ribbon-header-bottom")):e._headerElement.className+=" "+e.toThemeProperty("jqx-ribbon-header-auto"):"vertical"===e._orientation&&("auto"!==e.width?(n=e._headerElement.offsetWidth,"left"===e.position?e._contentElement.style.paddingLeft=e._toPx(n):(e._headerElement.className+=" "+e.toThemeProperty("jqx-ribbon-header-right"),e._contentElement.style.paddingRight=e._toPx(n))):(e.element.className+=" "+e.toThemeProperty("jqx-ribbon-auto"),e._headerElement.className+=" "+e.toThemeProperty("jqx-ribbon-header-auto"),e._contentElement.className+=" "+e.toThemeProperty("jqx-ribbon-content-auto-width"))),this.host.addClass("jqx-tabs-header-position-"+this.position)),q(e._headerElement).addClass(e.toThemeProperty("jqx-ribbon-header-"+e.position)),"7.0"===e._browser.version&&"msie"===e._browser.browser&&("horizontal"===e._orientation?(e._header.css("width",e.host.width()-parseInt(e._header.css("padding-left"),10)-parseInt(e._header.css("padding-right"),10)-parseInt(e._header.css("border-left-width"),10)-parseInt(e._header.css("border-right-width"),10)),e._items.height(e._items.height()-parseInt(e._items.css("padding-top"),10)-parseInt(e._items.css("padding-bottom"),10)-parseInt(e._items.css("border-top-width"),10)-parseInt(e._items.css("border-bottom-width"),10)),e._contentSections.width(e._contentSections.width()-parseInt(e._contentSections.css("border-left-width"),10)-parseInt(e._contentSections.css("border-right-width"),10)-parseInt(e._contentSections.css("padding-left"),10)-parseInt(e._contentSections.css("padding-right"),10)),"default"===e.mode&&"auto"!==e.height&&("top"===e.position?e._contentSections.css("padding-top",o):e._contentSections.css("padding-bottom",o),e._content.css("height",e.host.height()+2),e._contentSections.css("height",e._content.height()-parseInt(e._contentSections.css("border-bottom-width"),10)-parseInt(e._contentSections.css("border-top-width"),10)-1))):(i="left"===e.position?(e._contentElement.className+=" "+e.toThemeProperty("jqx-ribbon-content-left"),parseInt(e._contentSections.css("border-left-width"),10)+parseInt(e._contentSections.css("border-right-width"),10)+1):(e._contentElement.className+=" "+e.toThemeProperty("jqx-ribbon-content-right"),0),e._header.css("height",e.host.height()-parseInt(e._header.css("padding-top"),10)-parseInt(e._header.css("padding-bottom"),10)-parseInt(e._header.css("border-top-width"),10)-parseInt(e._header.css("border-bottom-width"),10)),e._items.width(e._items.width()-parseInt(e._items.css("padding-left"),10)-parseInt(e._items.css("padding-right"),10)-parseInt(e._items.css("border-left-width"),10)-parseInt(e._items.css("border-right-width"),10)),e._contentSections.height(e._contentSections.height()-parseInt(e._contentSections.css("border-top-width"),10)-parseInt(e._contentSections.css("border-bottom-width"),10)-parseInt(e._contentSections.css("padding-top"),10)-parseInt(e._contentSections.css("padding-bottom"),10)),"default"===e.mode&&"auto"!==e.width&&("left"===e.position?e._contentSections.css("padding-left",n):e._contentSections.css("padding-right",n),e._contentSections.width(e._content.width()-e._header.width()-i)))),"bottom"===e.position&&e._content.css("padding-bottom",o)},_positionPopup:function(){var e=this,t="7.0"===e._browser.version&&"msie"===e._browser.browser;switch(e.position){case"top":e._contentElement.style.top=e._toPx(e._headerElement.offsetHeight);break;case"bottom":e._contentElement.style.bottom=t?e._toPx(e._height(e._headerElement)):e._toPx(e._headerElement.offsetHeight);break;case"left":e._contentElement.style.left=e._toPx(e._headerElement.offsetWidth);break;case"right":e._contentElement.style.right=e._header.outerWidth()+"px"}},_appendScrollButtons:function(){var s=this,e="horizontal"===s._orientation?["left","right"]:["up","down"];function t(e,t,i){e.className=s.toThemeProperty("jqx-ribbon-scrollbutton jqx-ribbon-scrollbutton-"+s.position+" jqx-ribbon-scrollbutton-"+s.scrollPosition+" jqx-widget-header "+t),e.innerHTML='<div class="'+s.toThemeProperty("jqx-ribbon-scrollbutton-inner "+i)+'"></div>',"horizontal"===s._orientation?e.style.height=s._toPx(s._height(s._headerElement)):e.style.width=s._toPx(s._width(s._headerElement)),s.element.appendChild(e)}var i=document.createElement("div"),r=(t(i,"jqx-ribbon-scrollbutton-lt","jqx-icon-arrow-"+e[0]),document.createElement("div"));if(t(r,"jqx-ribbon-scrollbutton-rb","jqx-icon-arrow-"+e[1]),s._scrollButtonRc(i,r),s._scrollButtonNear=i,s._scrollButtonFar=r,s.roundedCorners)switch(s.position){case"top":case"bottom":i.style.marginLeft="-1px",r.style.marginRight="-1px";break;case"right":case"left":i.style.marginTop="-1px",r.style.marginBottom="-1px"}},_scrollButtonRc:function(e,t){var i=this;if(i.roundedCorners)switch(i.position){case"top":"far"!==i.scrollPosition&&(e.className+=" "+i.toThemeProperty("jqx-rc-tl")),"near"!==i.scrollPosition&&(t.className+=" "+i.toThemeProperty("jqx-rc-tr"));break;case"bottom":"far"!==i.scrollPosition&&(e.className+=" "+i.toThemeProperty("jqx-rc-bl")),"near"!==i.scrollPosition&&(t.className+=" "+i.toThemeProperty("jqx-rc-br"));break;case"left":"far"!==i.scrollPosition&&(e.className+=" "+i.toThemeProperty("jqx-rc-tl")),"near"!==i.scrollPosition&&(t.className+=" "+i.toThemeProperty("jqx-rc-bl"));break;case"right":"far"!==i.scrollPosition&&(e.className+=" "+i.toThemeProperty("jqx-rc-tr")),"near"!==i.scrollPosition&&(t.className+=" "+i.toThemeProperty("jqx-rc-br"))}},_updateItems:function(e){function t(){i._items[s]._index===i.selectedIndex&&(i.selectedIndex=s)}var i=this;i._items=i._header.children(),i._contentSections=i._content.children();for(var s=0;s<i._items.length;s++){var r=i._items[s];r.setAttribute("unselectable","on"),void 0===r._index&&(r._disabled=!1,r._isInitialized=!1,i._contentSections[s]._layout="default"),!0===e&&t(),r._index=s,!0!==e&&t(),i._contentSections[s]&&(i._contentSections[s]._index=s)}},_positionContent:function(e){function t(e){e<0?e=0:i<e+o&&(e=i-o),l.style[d]=a._toPx(e)}var i,s,r,n,o,a=this,l=a._contentSections[e],d="horizontal"===a._orientation?(i=a.element.offsetWidth,s=a.host.offset().left,r=a._items[e].offsetWidth,n=q(a._items[e]).offset().left,o=l.offsetWidth||parseInt(l.style.width,10),"left"):(i=a.element.offsetHeight,s=a.host.offset().top,r=a._items[e].offsetHeight,n=q(a._items[e]).offset().top,o=l.offsetHeight||parseInt(l.style.height,10),"top");switch(l._layout){case"near":t(n-s);break;case"far":t(n-s-(o-r));break;case"center":t(n-s-(o-r)/2);break;default:if("right"===a.position)for(var h=0;h<a._contentSections.length;h++)a._contentSections[h].style.right="1px";else l.style[d]=""}},_checkScrollButtons:function(e){var t=this,i=0,s=(q.each(t._items,function(){var e=q(this);"none"!==e.css("display")&&(i+="horizontal"===t._orientation?e.outerWidth(!0):e.outerHeight(!0))}),"horizontal"===t._orientation?["margin-left","margin-right"]:["margin-top","margin-bottom"]),r="horizontal"===t._orientation?t._width(t._headerElement):t._height(t._headerElement);if(t._itemMargins||(t._itemMargins=[],t._itemMargins.push(q(t._items[0]).css(s[0])),t._itemMargins.push(q(t._items[t._items.length-1]).css(s[1]))),r<i){t._scrollButtonNear.style.display="block",t._scrollButtonFar.style.display="block";var n=t.rtl?t._itemMargins[0]:17,o=t.rtl?t._itemMargins[0]:17;switch(t.scrollPosition){case"near":o=0,n=34;break;case"far":o=34,n=17}t._items[0]&&(t._items[0].style[s[0]]=t._toPx(n)),t._items[t._items.length-1]&&(t._items[t._items.length-1].style[s[1]]=t._toPx(o))}else t._items[0]&&(t._items[0].style[s[0]]=t._toPx(t._itemMargins[0])),t._items[t._items.length-1]&&(t._items[t._items.length-1].style[s[1]]=t._toPx(t._itemMargins[1])),t._scrollButtonNear.style.display="none",t._scrollButtonFar.style.display="none";!0===e&&("horizontal"===t._orientation?(r=t._toPx(t._height(t._headerElement)),t._scrollButtonNear.style.height=r,t._scrollButtonFar.style.height=r):(s=t._toPx(t._width(t._headerElement)),t._scrollButtonNear.style.width=s,t._scrollButtonFar.style.width=s))},_positionSelectionToken:function(e){var t,i,s,r,n,o=this;-1!==e&&0!==(e=q(o._items[e])).length&&("horizontal"===o._orientation?(s=!0===o.rtl?(i=1===o._browserWidthRtlFlag?o._headerElement.scrollWidth-o._headerElement.clientWidth:0,o._browserScrollRtlFlag):(i=0,1),i=e[0].offsetLeft+i-o._headerElement.scrollLeft*s-o._selectionTokenOffsetX+2,s=o._headerElement.offsetHeight-1,n=o._width(e[0])+parseInt(e.css("padding-left"),10)+parseInt(e.css("padding-right"),10),r="top"===o.position?(t=s-o._selectionTokenOffsetY,""):(t="",s-o._selectionTokenOffsetY),o._selectionToken.style.top=o._toPx(t),o._selectionToken.style.bottom=o._toPx(r),o._selectionToken.style.left=o._toPx(i),o._selectionToken.style.width=o._toPx(n)):(t=e[0].offsetTop-o._headerElement.scrollTop-o._selectionTokenOffsetX+2,s=o._headerElement.offsetWidth-1,r=o._height(e[0])+parseInt(e.css("padding-top"),10)+parseInt(e.css("padding-bottom"),10),n="left"===o.position?(i=s-o._selectionTokenOffsetY,""):(i="",s-o._selectionTokenOffsetY),o._selectionToken.style.top=o._toPx(t),o._selectionToken.style.left=o._toPx(i),o._selectionToken.style.right=o._toPx(n),o._selectionToken.style.height=o._toPx(r)))},_updatePositions:function(e,t){var i=this;-1!==(e=isNaN(e)?!0===t&&null!==i._selecting&&0<=i._selecting?i._selecting:i.selectedIndex:e)&&(i._positionSelectionToken(e),"popup"===i.mode&&"default"!==i._contentSections[e]._layout&&i._positionContent(e),"popup"!==i.mode||"left"!==i.position&&"right"!==i.position||(i._contentElement.style.width="auto",t=i._contentSections[e].style.width&&0<=i._contentSections[e].style.width.indexOf("%"),i._contentElement.style.width=t?i._toPx(i._width(i._contentSections[e])-i._width(i._headerElement)):i._toPx(i._width(i._contentSections[e]))),i._refreshBarPosition())},_animationComplete:function(e,t){var i=this,t=-1!==t?t:null;i._contentElement.style.pointerEvents="auto",i.selectedIndex=e,!0!==i._suppressSelectionEvents?(i._raiseEvent("0",{selectedIndex:e}),i._raiseEvent("2",{unselectedIndex:t,selectedIndex:e})):(!0!==i._suppressReorder&&void 0!==i._oldReorderIndex&&e!==i._oldReorderIndex&&i._raiseEvent("4",{newIndex:e,oldIndex:i._oldReorderIndex}),i._suppressSelectionEvents=!1,i._suppressReorder=!1),i.initContent&&!1===i._items[e]._isInitialized&&(i.initContent(e),i._items[e]._isInitialized=!0),i._allowSelection=!0,i._selecting=null,i._refreshBarPosition()},_clearSelectionComplete:function(e,t){this._selecting=null,-1!==(e=void 0===e?this.selectedIndex:e)&&(this._contentElement.style.pointerEvents="none",!0!==this._suppressSelectionEvents&&this._raiseEvent("1",{unselectedIndex:e})),!0!==t&&(this.selectedIndex=-1)},_slide:function(e,t,i,s){var r=this;if(r.activeAnimations||(r.activeAnimations=[]),0<r.activeAnimations.length)for(var n=0;n<r.activeAnimations.length;n++)r.activeAnimations[n].clearQueue(),r.activeAnimations[n].finish();else e.clearQueue(),e.animate("finish");var o="ui-effects-",a=function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&0<e.length&&e.data(o+t[i],e[0].style[t[i]])},l=function(e,t){for(var i,s=0;s<t.length;s++)null!==t[s]&&(void 0===(i=e.data(o+t[s]))&&(i=""),e.css(t[s],i))},d=function(i){if(i.parent().is(".ui-effects-wrapper"))return i.parent();var s={width:i.outerWidth(!0),height:i.outerHeight(!0),float:i.css("float")},e=q("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),t={width:i.width(),height:i.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return i.wrap(e),i[0]!==r&&!q.contains(i[0],r)||q(r).focus(),e=i.parent(),"static"===i.css("position")?(e.css({position:"relative"}),i.css({position:"relative"})):(q.extend(s,{position:i.css("position"),zIndex:i.css("z-index")}),q.each(["top","left","bottom","right"],function(e,t){s[t]=i.css(t),isNaN(parseInt(s[t],10))&&(s[t]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(t),e.css(s).show()},h=function(e){var t=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),e[0]!==t&&!q.contains(e[0],t)||q(t).focus()),e},c=["position","top","bottom","left","right","width","height"],u=t.mode,p="show"===u,m=t.direction||"left",g="up"===m||"down"===m?"top":"left",m="up"===m||"left"===m,f={};a(e,c),e.show(),a=t.distance||e["top"==g?"outerHeight":"outerWidth"](!0),d(e).css({overflow:"hidden"}),p&&e.css(g,m?isNaN(a)?"-"+a:-a:a),f[g]=(p?m?"+=":"-=":m?"-=":"+=")+a;return r.activeAnimations.push(e),e.animate(f,{duration:t.duration,easing:t.easing,complete:function(){r.activeAnimations.pop(e),"show"===u?r._animationComplete(i,s):"hide"===u&&(e.hide(),r._clearSelectionComplete(i)),l(e,c),h(e)}}),function(){e.clearQueue(),e.stop(!0,!0)}},_toPx:function(e){return"number"==typeof e?e+"px":e},_width:function(e){var t=q(e),i=t.css("border-left-width"),s=t.css("border-right-width"),r=parseInt(t.css("padding-left"),10),n=parseInt(t.css("padding-right"),10),t="none"===t.css("display"),i=(t&&(e.style.display="block"),i=-1===i.indexOf("px")?1:parseInt(i,10),s=-1===s.indexOf("px")?1:parseInt(s,10),e.offsetWidth-(i+s+r+n));return t&&(e.style.display="none"),Math.max(0,i)},_height:function(e){var t=q(e),i=t.css("border-top-width"),s=t.css("border-bottom-width"),r=parseInt(t.css("padding-top"),10),t=parseInt(t.css("padding-bottom"),10),i=-1===i.indexOf("px")?1:parseInt(i,10),s=-1===s.indexOf("px")?1:parseInt(s,10),e=e.offsetHeight-(i+s+r+t);return Math.max(0,e)},_closest:function(e,t,i){if(t){if(e.nodeName.toLowerCase()===t)return e;for(var s=e.parentNode;null!==s&&"#document"!==s.nodeName;){if(s.nodeName.toLowerCase()===t)return s;s=s.parentNode}}if(i){if(-1<(" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" "+i+" "))return e;for(var r=e.parentNode;null!==r&&"#document"!==r.nodeName;){if(-1<(" "+r.className+" ").replace(/[\n\t]/g," ").indexOf(" "+i+" "))return r;r=r.parentNode}}},_initAnimate:function(e){!e.initAnimate||e.animate||e.initAnimate()}})}(jqxBaseFramework),!function(De){De.jqx.scheduler||(De.jqx.scheduler={}),De.jqx.jqxWidget("jqxScheduler","",{}),De.extend(De.jqx._jqxScheduler.prototype,{defineInstance:function(){var e={altRows:!1,autoShowLoadElement:!0,columnsHeight:30,columns:[],columnGroups:null,dataview:null,disabled:!1,enableHover:!0,appointmentOpacity:.8,headerZIndex:235,height:600,timeRulerWidth:60,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",localization:null,ready:null,renderToolBar:null,renderAppointment:null,rendered:null,rendering:null,rtl:!1,showToolbar:!0,showLegend:!1,legendPosition:"bottom",legendHeight:34,rowsHeight:27,touchRowsHeight:36,appointmentsMinHeight:18,touchAppointmentsMinHeight:27,appointmentsRenderMode:"default",serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:De.jqx.utilities.scrollBarSize,touchScrollBarSize:De.jqx.utilities.touchScrollBarSize,showHeader:!0,showCurrent:!0,showCurrentAppointment:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,showAllDayRow:!0,changedAppointments:new Array,renderMode:"simple",views:new Array,view:0,min:new De.jqx.date(0),max:new De.jqx.date(9999,12,31),date:new De.jqx.date("todayDate"),colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF","#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8","#E8601A","#FF9639","#F5BD6A","#599994","#115D6E","#D02841","#FF7C41","#FFC051","#5B5F4D","#364651","#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00","#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B","#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63","#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6","#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F","#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825","#993144","#FFA257","#CCA56A","#ADA072","#949681","#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932","#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54","#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3","#444546","#FFBB6E","#F28D00","#D94F00","#7F203B","#583C39","#674E49","#948658","#F0E99A","#564E49","#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17","#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5","#844341","#D5CC92","#BBA146","#897B26","#55591C","#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472","#96003A","#FF7347","#FFBC7B","#FF4154","#642223","#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E","#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7","#7B1A25","#BF5322","#9DA860","#CEA457","#B67818","#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46","#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800","#FF6800","#A0A700","#FF8D00","#678900","#0069A5"],colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],resources:null,contextMenu:!0,contextMenuOpen:null,contextMenuClose:null,contextMenuItemClick:null,contextMenuCreate:null,timeZone:null,statuses:{free:"white",tentative:"tentative",busy:"transparent",outOfOffice:"#800080"},appointmentDataFields:{from:"from",to:"to",id:"id",calendarId:"calendarId",description:"description",location:"location",subject:"subject",background:"background",color:"color",borderColor:"borderColor",style:"style",recurrencePattern:"recurrencePattern",recurrenceException:"recurrenceException",draggable:"draggable",resizable:"resizable",resourceId:"resourceId",status:"status",tooltip:"tooltip",hidden:"hidden",allDay:"allDay",timeZone:"timeZone",ownerId:"ownerId"},appointmentTooltips:!0,tableColumns:1,tableRows:1,dayNameFormat:"full",touchDayNameFormat:"abbr",toolBarRangeFormat:"dd MMMM yyyy",toolBarRangeFormatAbbr:"dd MM yyyy",columnRenderer:null,exportSettings:{serverURL:null,characterSet:null,fileName:"jqxScheduler",dateTimeFormatString:"S",resourcesInMultipleICSFiles:!1,ICSXWRCALNAME:"jqxScheduler",ICSXWRCALDESC:"jqxScheduler Description"},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},editDialogDateTimeFormatString:"dd/MM/yyyy hh:mm tt",editDialogDateFormatString:"dd/MM/yyyy",editDialogOpen:null,editDialogCreate:null,editDialogKeyDown:null,editDialogClose:null,editDialog:!0,toolbarHeight:54,tableZIndex:469,_updating:!1,touchMode:"auto",width:800,that:this,beginDrag:null,endDrag:null,dragging:null,timeZones:[{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Rome",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Budapest, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}]};return this===De.jqx._jqxScheduler.prototype||(De.extend(!0,this,e),this.that=this),e},_applyThemeSettings:function(){var e=window.getComputedStyle(this.element),t=e.getPropertyValue("--jqx-grid-row-height"),i=e.getPropertyValue("--jqx-grid-column-height");e.getPropertyValue("--jqx-scrollbar-size");t&&(this.rowsHeight=parseInt(t)),i&&(this.columnsHeight=parseInt(i))},createInstance:function(e){var r=this;r._views=new Array,r._view=r.view,this._applyThemeSettings();for(var t=0;t<r.views.length;t++)"string"===De.type(r.views[t])?r._views.push({type:r.views[t]}):r._views.push(r.views[t]);for(t=0;t<r._views.length;t++)if(r._views[t].type==r.view){r._view=t;break}15!=De.jqx.utilities.scrollBarSize&&(r.scrollBarSize=De.jqx.utilities.scrollBarSize),r.source&&!r.source.dataBind&&(r.source=new De.jqx.dataAdapter(r.source));var i=r.source._source.datafields;i&&0<i.length&&(r._camelCase=void 0!==r.source._source.dataFields,r.selectionMode=r.selectionMode.toLowerCase()),null==r.host.attr("tabindex")&&r.host.attr("tabindex","0"),r.host.attr("role","grid"),r.host.attr("align","left"),r.host.addClass(r.toTP("jqx-grid")),r.host.addClass(r.toTP("jqx-scheduler")),r.host.addClass(r.toTP("jqx-reset")),r.host.addClass(r.toTP("jqx-rc-all")),r.host.addClass(r.toTP("jqx-widget")),r.host.addClass(r.toTP("jqx-widget-content jqx-disableselect")),r._testmodules()||(r.overlay=De("<div style='z-index: 999; position:absolute;'></div>"),r.overlay.hide(),r.overlay.appendTo(r.host),r.render(!0),De.jqx.utilities.resize(r.host,function(){var e=De(window).width(),t=De(window).height(),i=(r._hostWidth=null,r._hostHeight=null,r.host.width()),s=r.host.height();r._hostWidth=i,r._hostHeight=s,r._lastHostWidth==i&&r._lastHostHeight==s||r._updatesize(r._lastHostWidth!=i,r._lastHostHeight!=s),r._lastWidth=e,r._lastHeight=t,r._lastHostWidth=i,r._lastHostHeight=s}),r.createEditRecurrenceDialog())},createEditRecurrenceDialog:function(){var t=this,i=(t.editRecurrenceDialog=null,De("<div><div>"+t.schedulerLocalization.editRecurringAppointmentDialogTitleString+"</div><div><div>"+t.schedulerLocalization.editRecurringAppointmentDialogContentString+"</div><div style='position: absolute; white-space:nowrap; text-overflow: ellipsis; left:0px; width:100%; bottom: 0px;'><button title='"+t.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"' id='editRecurringAppointmentOccurrence."+t.element.id+"' style='white-space:nowrap; text-overflow: ellipsis; border-left-width: 0px;  border-bottom-width: 0px; border-radius:0px; width:50%;'>"+t.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"</button><button title='"+t.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"' id='editRecurringAppointmentSeries."+t.element.id+"' style=' white-space:nowrap; text-overflow: ellipsis; border-bottom-width: 0px;  border-left-width: 0px; border-right-width:0px; width:50%; border-radius:0px;'>"+t.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"</button></div></div></div>")),e=(t.editRecurrenceDialog=i,De(i).jqxWindow({rtl:t.rtl,autoFocus:!1,animationType:"none",autoOpen:!1,theme:t.theme,minWidth:300,minHeight:110,resizable:!1}),i.find("button")),s=(e.jqxButton({theme:t.theme,width:"50%"}),!1);e.mousedown(function(){s=!0,0<=this.id.indexOf("editRecurringAppointmentOccurrence")?t.editSeries(!1):t.editSeries(!0),De(i).jqxWindow("close")}),this.addHandler(De(i),"open",function(e){t._raiseEvent("editRecurrenceDialogOpen",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),t.addHandler(De(i),"keydown",function(e){if(13==e.keyCode&&De(document.activeElement).ischildof(De(i))&&"button"==document.activeElement.nodeName.toLowerCase())return De(document.activeElement).trigger("mousedown"),De(document.activeElement).trigger("mouseup"),!0}),this.addHandler(De(i),"close",function(e){if(!s)return t._removeFeedbackAndStopResize(),t.overlay.hide(),t.focus(),t._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null}),!1;s=!1,t.overlay.hide(),t.focus(),t._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),t.editRecurrenceDialog=i},getViewStart:function(){var e=this.getVisibleDate(),t=this._views[this._view].type;this._views[this._view];switch(t){case"dayView":case"timelineDayView":return e}return this.getFirstDayOfWeek(e)},getViewEnd:function(){var e=this.getViewStart(),t=1,i=this._views[this._view].type,s=this._views[this._view];switch(i){case"dayView":t=1;break;case"timelineDayView":t=1,s.days&&(t=s.days);break;case"weekView":case"timelineWeekView":t=7,s.days&&(t=s.days);break;case"monthView":t=41;break;case"timelineMonthView":t=41,s.days&&(t=s.days);break;case"agendaView":t=7,s.days&&(t=s.days)}return e.addDays(t)},getFirstDayOfWeek:function(e){var t=e,i=this.schedulerLocalization.firstDay;for((i<0||6<i)&&(i=6);t.dayOfWeek()!=i;)t.addDays(-1,!1);return t},getVisibleDate:function(){(t=(t=this.date)<this.min?this.min:t)>this.max&&(t=this.max);var e=this._views[this._view].type,t=(this._views[this._view],t.clearTime());switch(e){case"dayView":case"weekView":case"timelineDayView":case"timelineWeekView":case"agendaView":return t}e=t.day();return t=t.addDays(1-e)},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=De('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var e=De('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.schedulerLocalization.loadString+"</span></div></div>");e.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),e.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(e),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url&&(e=!1,(e="auto"!==this.height&&null!==this.height&&!this.autoheight||999999!=this.maxHeight?e:!0)?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height)),e=!1,(e="auto"!==this.width&&null!==this.width&&!this.autoWidth?e:!0)?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width)))},_measureElement:function(e){var t=De("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");t.addClass(this.toTP("jqx-widget")),De(document.body).append(t),"cell"==e?this._cellheight=t.height():this._columnheight=t.height(),t.remove()},_testmodules:function(){function e(){""!=t.length&&(t+=",")}var t="";this.host.jqxScrollBar||(e(),t+=" jqxscrollbar.js"),this.host.jqxButton||(e(),t+=" jqxbuttons.js"),De.jqx.dataAdapter||(e(),t+=" jqxdata.js"),this.host.jqxDateTimeInput||(e(),t+=" jqxdatetimeinput.js"),this.host.jqxCalendar||(e(),t+=" jqxcalendar.js");try{Globalize||(e(),t+=" globalize.js")}catch(e){}if(""!=t)throw new Error("jqxScheduler: Missing references to the following module(s): "+t);return!1},focus:function(){try{if(this.isTouchDevice())return;if(this._editDialog&&this._editDialog.jqxWindow("isOpen"))return e=this,setTimeout(function(){e.editDialogFields.subject.focus(),e.editDialogFields.subject.select()},1),void(this.focused=!0);if(document.activeElement==this.element)return;this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return De.jqx.isHidden(this.host)},_updatesize:function(e,t){var i,s,r,n;this._loading||(s=(i=this).host.width(),r=i.host.height(),i._oldWidth||(i._oldWidth=s),i._oldHeight||(i._oldHeight=r),null!=i._resizeTimer&&(clearTimeout(i._resizeTimer),i._resizeTimer=null),(n=function(){i._resizeTimer&&clearTimeout(i._resizeTimer),i.resizingGrid=!0,De.jqx.isHidden(i.host)||(i._updatecolumnwidths(),i.refresh(),i._oldWidth=s,i._oldHeight=r,i.resizingGrid=!1)})(),i._resizeTimer=setTimeout(function(){var e=i.host.width(),t=i.host.height();i._oldWidth==e&&i._oldHeight==t||n()},300))},resize:function(e,t){null!=e&&(this.width=e),null!=t&&(this.height=t),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var e=De.jqx.mobile.isTouchDevice();return this.touchDevice=e,1==this.touchMode?(e=!0,De.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=e):0==this.touchMode&&(e=!1),e&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),e},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(e,t){if(this._cellscache=new Array,De.jqx.dataFormat&&De.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxScheduler: "+this.loadingErrorMessage);if(null!=e){for(var i in this.schedulerLocalization)e[i]&&(this.schedulerLocalization[i]=e[i]);e.loadingErrorMessage&&(this.loadingErrorMessage=e.loadingErrorMessage),!1!==t&&(this._builddataloadelement(),De(this.dataloadelement).css("visibility","hidden"),De(this.dataloadelement).css("display","none"))}else this.schedulerLocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},agendaDateColumn:"Date",agendaTimeColumn:"Time",agendaAppointmentColumn:"Appointment",backString:"Back",forwardString:"Forward",toolBarPreviousButtonString:"previous",toolBarNextButtonString:"next",emptyDataString:"No data to display",loadString:"Loading...",clearString:"Clear",todayString:"Today",dayViewString:"Day",weekViewString:"Week",monthViewString:"Month",agendaViewString:"Agenda",timelineDayViewString:"Timeline Day",timelineWeekViewString:"Timeline Week",timelineMonthViewString:"Timeline Month",agendaAllDayString:"all day",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",editRecurringAppointmentDialogTitleString:"Edit Recurring Appointment",editRecurringAppointmentDialogContentString:"Do you want to edit only this occurrence or the series?",editRecurringAppointmentDialogOccurrenceString:"Edit Occurrence",editRecurringAppointmentDialogSeriesString:"Edit The Series",editDialogTitleString:"Edit Appointment",editDialogCreateTitleString:"Create New Appointment",contextMenuEditAppointmentString:"Edit Appointment",contextMenuCreateAppointmentString:"Create New Appointment",editDialogSubjectString:"Subject",editDialogLocationString:"Location",editDialogFromString:"From",editDialogToString:"To",editDialogAllDayString:"All day",editDialogExceptionsString:"Exceptions",editDialogResetExceptionsString:"Reset on Save",editDialogDescriptionString:"Description",editDialogResourceIdString:"Owner",editDialogStatusString:"Status",editDialogColorString:"Color",editDialogColorPlaceHolderString:"Select Color",editDialogTimeZoneString:"Time Zone",editDialogSelectTimeZoneString:"Select Time Zone",editDialogSaveString:"Save",editDialogDeleteString:"Delete",editDialogCancelString:"Cancel",editDialogRepeatString:"Repeat",editDialogRepeatEveryString:"Repeat every",editDialogRepeatEveryWeekString:"week(s)",editDialogRepeatEveryYearString:"year(s)",editDialogRepeatEveryDayString:"day(s)",editDialogRepeatNeverString:"Never",editDialogRepeatDailyString:"Daily",editDialogRepeatWeeklyString:"Weekly",editDialogRepeatMonthlyString:"Monthly",editDialogRepeatYearlyString:"Yearly",editDialogRepeatEveryMonthString:"month(s)",editDialogRepeatEveryMonthDayString:"Day",editDialogRepeatFirstString:"first",editDialogRepeatSecondString:"second",editDialogRepeatThirdString:"third",editDialogRepeatFourthString:"fourth",editDialogRepeatLastString:"last",editDialogRepeatEndString:"End",editDialogRepeatAfterString:"After",editDialogRepeatOnString:"On",editDialogRepeatOfString:"of",editDialogRepeatOccurrencesString:"occurrence(s)",editDialogRepeatSaveString:"Save Occurrence",editDialogRepeatSaveSeriesString:"Save Series",editDialogRepeatDeleteString:"Delete Occurrence",editDialogRepeatDeleteSeriesString:"Delete Series",editDialogStatuses:{free:"Free",tentative:"Tentative",busy:"Busy",outOfOffice:"Out of Office"}}},_updateScrollbars:function(e){var t=!1,i=this,s=("auto"!==i.width&&null!==i.width&&!i.autowidth||999999!=i.maxWidth||(t=!0),i._views[i._view].type),r=i._views[i._view];if("monthView"==s&&i.resources&&"none"==i.resources.orientation&&!r.monthRowAutoHeight)return a=i.vScrollBar[0].style.visibility,i.hScrollBar[0].style.visibility="hidden",i.vScrollBar[0].style.visibility="hidden",void(a!=i.vScrollBar[0].style.visibility&&i._updatecolumnwidths());var s=parseInt(i.scrollBarSize),r=i.table?i.table.height():0,n=0,o="inherit",a=i.vScrollBar[0].style.visibility,l=(i.hScrollBar[0].style.visibility,e=e||i.host.height(),i.columnGroups?e-=i.showHeader?i.columnsheader.height():0:e-=i.showHeader?i.columnsHeight:0,i.filterable&&(e-=i.filter.height()),i.pageable&&(e-=i.pagerHeight,"both"===i.pagerPosition&&(e-=i.pagerHeight)),i.showToolbar&&(e-=i.toolbarHeight),i.showLegend&&0<i._resources.length&&(e-=i.legendHeight),!1),a=(!(l="auto"!==i.height&&null!==i.height&&!i.autoheight||999999!=i.maxHeight?l:!0)&&e<r&&0<i.getRows().length?(i.vScrollBar[0].style.visibility=o,n=4+parseInt(s),i.vScrollBar.jqxScrollBar({max:r-e})):i.vScrollBar[0].style.visibility="hidden",a!=i.vScrollBar[0].style.visibility&&i._updatecolumnwidths(),i.table?i.table.width():0),d=(4<a&&(a-=4),parseInt(i.host.css("border-left-width"))+parseInt(i.host.css("border-right-width"))),h=d+i.host.width()-n;h<a&&!t?(i.hScrollBar[0].style.visibility=o,i.hScrollBar.jqxScrollBar({max:2+d+a-h}),n=4+parseInt(s),0==s&&(n=0),l||r==e||(e-n+4<r&&0<i.getRows().length&&(i.hScrollBar.jqxScrollBar({max:d+a-h}),t="hidden"===i.vScrollBar[0].style.visibility,i.vScrollBar[0].style.visibility=o,i._updatecolumnwidths(),t&&i.hScrollBar.jqxScrollBar({max:a-h+d}),3<(l=i.table?i.table.width():0)&&(l-=3),l!=a&&(l<h?(i.hScrollBar.jqxScrollBar({max:d+l-h}),i.hScrollBar[0].style.visibility="hidden",n=0):t?h<l&&i.hScrollBar.jqxScrollBar({max:d+l-h}):i.hScrollBar.jqxScrollBar({max:a-h+d-s}))),0<r-e?i.vScrollBar.jqxScrollBar({max:r-e+n}):i.vScrollBar[0].style.visibility="hidden")):i.hScrollBar[0].style.visibility="hidden",0===i.getRows().length&&(i.vScrollBar[0].style.visibility="hidden",i.bottomRight[0].style.visibility="hidden"),"hidden"==i.vScrollBar[0].style.visibility&&0!=i.vScrollInstance.value&&i.vScrollInstance.setPosition(0)},_measureElementWidth:function(e){var e=De("<span style='visibility: hidden; white-space: nowrap;'>"+e+"</span>"),t=(e.addClass(this.toTP("jqx-widget")),e.addClass(this.toTP("jqx-grid")),e.addClass(this.toTP("jqx-grid-column-header")),e.addClass(this.toTP("jqx-widget-header")),De(document.body).append(e),e.outerWidth()+20);return e.remove(),t},_arrangeAutoHeight:function(e){var t,i,s;return e=e||0,!("auto"!==this.height&&null!==this.height&&!this.autoheight)&&(i=this.table.height(),t=0,this._hostHeight=null,this.columnGroups?t+=this.showHeader?this.columnsheader.height():-1:t+=this.showHeader?this.columnsHeight:-1,t=(t=(t+=this.showLegend&&0<this._resources.length?this.legendHeight:0)+(this.showToolbar?this.toolbarHeight:0))+(this.pageable?this.pagerHeight:0),"both"===this.pagerPosition&&(t+=this.pageable?this.pagerHeight:0),t+=i,this.filterable&&(i=this.filter.find(".filterrow"),s=1,0<this.filter.find(".filterrow-hidden").length&&(s=0),t+=this.filterHeight-1+this.filterHeight*i.length*s),t+e>this.maxHeight?this.host.height(this.maxHeight):this.host.height(t+e),!0)},_arrangeAutoWidth:function(e){if(e=e||0,"auto"===this.width||null===this.width||this.autowidth){this._hostWidth=null;for(var t=0,i=0;i<this.columns.records.length;i++){var s=this.columns.records[i].width;this.columns.records[i].hidden||(t+="auto"==s?s=this._measureElementWidth(this.columns.records[i].text):s)}var r=t;return r+e>this.maxWidth?this.host.width(this.maxWidth):this.host.width(r+e),!0}return!1},_measureTopAndHeight:function(){var e=this.host.height(),t=0;return this.showToolbar&&(t+=this.toolbarHeight,e-=parseInt(this.toolbarHeight)),this.showLegend&&"bottom"!=this.legendPosition&&0<this._resources.length&&(t+=parseInt(this.legendHeight)+1),{top:t,height:e}},_arrange:function(){var e,t,i,s,r,n,o,a,l,d,h,c;this.table&&(this._arrangeAutoHeight(),this._arrangeAutoWidth(),e=this.legendHeight,0==this._resources.length&&(e=0),t=this._hostWidth||this.host.width(),i=a=this._hostHeight||this.host.height(),this.showLegend&&"top"==this.legendPosition?this.legendbartop[0].style.visibility="inherit":this.legendbartop[0].style.visibility="hidden",o=0,this.showToolbar?(this.toolbar.width(t),this.toolbar[0].style.height=this.toolbarHeight-1+"px",this.toolbar[0].style.top="0px",o+=this.toolbarHeight,a-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.showLegend&&"bottom"==this.legendPosition?(this.legendbarbottom[0].style.width=t+"px",this.legendbarbottom[0].style.height=e+"px"):this.legendbarbottom[0].style.height="0px",this.showLegend&&"top"==this.legendPosition&&(this.legendbartop[0].style.width!=t+"px"&&(this.legendbartop[0].style.width=parseInt(t)+"px"),this.legendbartop[0].style.height!=e+"px"&&(this.legendbartop[0].style.height=parseInt(e-1)+"px"),this.legendbartop[0].style.top!=o+"px"&&(this.legendbartop[0].style.top=o+"px"),s=o+e+"px",o+=e,this.content[0].style.top!=s&&(this.content[0].style.top=o+"px")),this.showLegend||(this.legendbartop[0].style.display="none",this.legendbarbottom[0].style.display="none"),this._updateScrollbars(i),s=parseInt(this.scrollBarSize),r=2,"hidden"!=this.vScrollBar[n=0].style.visibility&&(n=s+4),"hidden"!=this.hScrollBar[0].style.visibility&&(r=s+4+2),0==s&&(n=r=0),"hidden"==this.vScrollBar[0].style.visibility&&"hidden"==this.hScrollBar[0].style.visibility||(h=this._arrangeAutoHeight(r-2),d=this._arrangeAutoWidth(n+1),(h||d)&&(this.legendbartop[0].style.width=parseInt(t)+"px",this.toolbar[0].style.width=parseInt(t)+"px",this.legendbarbottom[0].style.width=parseInt(t)+"px",this.filter[0].style.width=parseInt(t)+"px"),h&&(o=(d=this._measureTopAndHeight()).top,a=d.height)),h=0,this.showLegend&&"bottom"==this.legendPosition?(r+=e,h+=e):this.showLegend&&(r+=e),this.hScrollBar[0].style.height!=s+"px"&&(this.hScrollBar[0].style.height=parseInt(s)+"px"),this.hScrollBar[0].style.top==o+a-4-s-h+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=o+a-4-s-h-1+"px",this.hScrollBar[0].style.left="0px"),d=this.hScrollBar[0].style.width,l=h=!1,0==n?d!=t-2+"px"&&(this.hScrollBar[0].style.width=t-2+"px",h=!0):d!=t-s-4+"px"&&(this.hScrollBar[0].style.width=t-s-4+"px",h=!0),this.vScrollBar[0].style.width!=s+"px"&&(this.vScrollBar[0].style.width=s+"px",l=!0),this.vScrollBar[0].style.height!=parseInt(a)-r+"px"&&(this.vScrollBar[0].style.height=parseInt(a)-r+"px",l=!0),this.vScrollBar[0].style.left==parseInt(t)-parseInt(s)-4+"px"&&this.vScrollBar[0].style.top==o+"px"||(this.vScrollBar[0].style.top=o+"px",this.vScrollBar[0].style.left=parseInt(t)-parseInt(s)-4+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:o}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:s+2})),(d=this.vScrollInstance).disabled=this.disabled,(c=this.hScrollInstance).disabled=this.disabled,h&&c.refresh(),l&&d.refresh(),"hidden"!=(h=this).vScrollBar[0].style.visibility&&"hidden"!=h.hScrollBar[0].style.visibility?(h.bottomRight[0].style.visibility="inherit",h.bottomRight[0].style.left=1+parseInt(h.vScrollBar.css("left"))+"px",h.bottomRight[0].style.top=parseInt(h.hScrollBar.css("top"))+"px",h.rtl&&h.bottomRight.css("left","0px"),h.bottomRight[0].style.width=parseInt(s)+3+"px",h.bottomRight[0].style.height=parseInt(s)+4+"px"):h.bottomRight[0].style.visibility="hidden",this.content[0].style.width!=t-n+"px"&&(this.content[0].style.width=t-n+"px"),this.content[0].style.height!=a-r+3+"px"&&(this.content[0].style.height=a-r+3+"px"),this.content[0].style.top!=o+"px"&&(this.content[0].style.top=parseInt(o)+"px"),this.rtl&&this.content.css("left",n),this.showLegend&&"bottom"==this.legendPosition&&(this.legendbarbottom.css("top",o-1+a-e-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.legendbarbottom.css("left",this.content.css("left")):this.legendbarbottom.css("left","0px"))),this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,t!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),a!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostWidth=t,this._hostHeight=i,c=this.schedulercontent.coord(),this._tableOffset=c)},scrollOffset:function(e,t){if(0==arguments.length||null!=e&&"object"==typeof e&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};null!=e&&"object"==typeof e&&(t=e.left,e=e.top),null!=e&&null!=t&&null!=e&&null!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginAppointmentsUpdate:function(){this._appupdating=!0},endAppointmentsUpdate:function(){this._appupdating=!1,this._renderrows()},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){(this._updating=!1)!==e&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(e,t,i){var s,w,r,b,_;!0!==this.loadingstate&&(s=window,"block"==this.host.css("display")&&(this.autoShowLoadElement?(De(this.dataloadelement).css("visibility","visible"),De(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(De(this.dataloadelement).css("visibility","hidden"),De(this.dataloadelement).css("display","none"))),w=this,null!=(e=null==e?{}:e).sortcomparer&&null!=e.sortcomparer||(e.sortcomparer=null),null!=e.filter&&null!=e.filter||(e.filter=null),null!=e.sort&&null!=e.sort||(e.sort=null),null!=e.data&&null!=e.data||(e.data=null),null!=e&&(null!=e._source?e._source:e).url,this.dataview=this.dataview||new De.jqx.scheduler.dataView("dataView"),this.resourcesDataView=this.resourcesDataView||new De.jqx.scheduler.dataView("resourcesDataView"),this.dataview.pageable=this.pageable,((this.dataview.scheduler=this).resourcesDataView.scheduler=this)._loading=!0,this.appointments=new Array,this.uiappointments=new Array,r=1,this.resources&&this.resources.source&&(r=2),b=0,this._resourcesBinding=!(_=function(){var e,t;b==r&&(w._resourcesBinding=!1,e=1<w._resources.length?w._resources.length:1,w.resources&&"horizontal"===w.resources.orientation?(w.tableColumns=e,w.tableRows=1):w.resources&&"vertical"===w.resources.orientation?(w.tableRows=e,w.tableColumns=1):(w.tableColumns=1,w.tableRows=1),w._render(),w.autoShowLoadElement&&!w._loading&&(De(w.dataloadelement).css("visibility","hidden"),De(w.dataloadelement).css("display","none")),w._updateTouchScrolling(),w._raiseEvent("bindingComplete"),i&&i(),w.initializedcall||(w.initializedcall=!0,w.isInitialized=!0,(null!=w.width&&-1!=w.width.toString().indexOf("%")||null!=w.height&&-1!=w.height.toString().indexOf("%"))&&w._updatesize(!0),w.ready&&w.ready(),w._rendercelltexts&&w._rendercelltexts(),w._gridRenderElement&&(De(w._gridRenderElement).show("slow"),e=6e3+Math.floor(4e3*Math.random()+1),t=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase(),s[De.camelCase(t)](function(){De(w._gridRenderElement).hide("slow",function(){De(w._gridRenderElement).remove()})},e)),"hidden"==w.host.css("visibility")&&(De.jqx.browser.msie&&De.jqx.browser.version,"visible"==w.vScrollBar.css("visibility")&&w.vScrollBar.css("visibility","inherit"),"visible"==w.hScrollBar.css("visibility")&&w.hScrollBar.css("visibility","inherit"),w._intervalTimer=setInterval(function(){"visible"==w.host.css("visibility")&&(w._updatesize(!0),clearInterval(w._intervalTimer))},100))))}),this.dataview.update=function(e){w._loading=!1,w.appointmentsByKey=new Array,w.appointments=new Array,w.uiappointments=new Array;w.source._source.datafields;for(var t=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"],i=new Array,s=0;s<w.source.records.length;s++){var r,n,o=w.source.records[s],a={};for(n in w.appointmentDataFields){var l,d=o[w.appointmentDataFields[n]];if("from"!=n&&"to"!=n||(d=new De.jqx.date(d)),"style"==n&&d&&(l=w.getAppointmentColors(d),a.color=l.color,a.background=l.background,a.borderColor=l.border),"recurrencePattern"==n&&d&&((d=new De.jqx.scheduler.recurrencePattern(d)).timeZone=o.timeZone||w.timeZone),"recurrenceException"==n){var h=new Array;if(d){0<=d.indexOf("EXDATE:")&&(d=d.substring(d.indexOf("EXDATE:")+7));var c=new Array;0<=d.indexOf(",")?c=d.split(","):c.push(d);for(var u=0;u<c.length;u++){var p,m=c[u];0<=m.indexOf(";")&&(p=m.split(";")[1],m=m.split(";")[0],0<=p.toLowerCase().indexOf("display")&&p.toLowerCase().indexOf("none")&&(a.hidden=!0));try{"Invalid Date"!=(g=De.jqx.scheduler.utilities.untilStringToDate(m))&&(g=a.timeZone?new De.jqx.date(g,a.timeZone):w.timeZone?g.toTimeZone(w.timeZone):new De.jqx.date(g))}catch(e){var g=new De.jqx.date(m,w.timeZone)}h.push(g)}}d=h}a[n]=d}for(r in t)null==a[n=t[r]]&&(d="","originalData"!=n&&("ownerId"==n&&(d=null),"timeZone"==n&&(d=null),"recurrencePattern"==n&&(d=null),"recurrenceException"==n&&(d=[]),"allDay"==n&&(d=!1),"draggable"==n&&(d=!0),"resizable"==n&&(d=!0),"hidden"==n&&(d=!1),"resourceId"==n&&(d=null),"from"==n&&(d=new De.jqx.date),"to"==n&&(d=(new De.jqx.date).addHours(1)),a[n]=d));a.originalData=o,!w.resources||w.resources.source||w._resourcesBinding||-1==i.indexOf(a.resourceId)&&i.push(a.resourceId),w.appointmentsByKey[o.uid]=a,w.appointments.push(a);var f=new De.jqx.scheduler.appointment(a);if(a.timeZone&&(f.from=f.from.toTimeZone(a.timeZone),f.to=f.to.toTimeZone(a.timeZone)),w.timeZone?(a.timeZone||(f.timeZone=w.timeZone),f.from=f.from.toTimeZone(w.timeZone),f.to=f.to.toTimeZone(w.timeZone)):(f.from=f.from.toTimeZone(null),f.to=f.to.toTimeZone(null)),a.jqxAppointment=f,a.recurrenceException)for(var v=0;v<a.recurrenceException.length;v++){var g=f.recurrenceException[v],x=f.clone(),y=(x.occurrenceFrom=g,f.duration());w.allDay&&(y=new De.jqx.timeSpan(1e4*(w.to-w.from))),x.from=g,x.to=g.add(y),x.rootAppointment=f,x.hidden=!0,f.exceptions.push(x)}f.boundAppointment=a,(f.scheduler=w).uiappointments.push(f)}w._resourcesBinding||(w._resources=i),b++,_()},this.resourcesDataView.update=function(e){if(w.resources.dataField){w._resources=new Array;for(var t=0;t<e.length;t++)0<=w._resources.indexOf(e[t][w.resources.dataField])||e[t][w.resources.dataField]&&w._resources.push(e[t][w.resources.dataField])}else w._resources=e;null==w.resources.orientation&&(w.resources.orientation="none"),b++,_()},this.dataview.databind(e),this.resources&&this.resources.source&&(this._resourcesBinding=!0,this.resourcesDataView.databind(this.resources.source)))},_raiseEvent:function(e,t){var i=t=null==t?{owner:null}:t,e=(i.owner=this,new De.Event(e)),i=(e.owner=this,e.args=i,this.host.trigger(e));return t=e.args,i},ensureAppointmentVisible:function(e){return!!this.appointmentsByKey[e]&&this._ensureAppointmentVisible(this.appointmentsByKey[e].jqxAppointment)},_ensureAppointmentVisible:function(e){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;if(!e)return!1;var t=this.getViewStart(),i=this.getViewEnd();if(!De.jqx.scheduler.utilities.rangeIntersection(e.from,e.to,t,i))return this.navigateTo(e.from),this._ensureAppointmentVisible(e);t=e.id,i=De('[data-key="'+t+'"]');if(0<i.length)var s=i[0];else{if(!(e.elements&&0<e.elements.length))return!1;s=e.elements[0].element}var t=this.vScrollInstance.value,i=this.hScrollInstance.value,r=(this.rtl&&(i=this.hScrollInstance.max-i),this.element.clientHeight),n=this.element.clientWidth,o=0,a=(this.columnGroups?o+=this.showHeader?this.columnsheader.height():0:o+=this.showHeader?this.columnsHeight:0,this._views[this._view].type),l=this._views[this._view],d=0;if("dayView"==a||"weekView"==a){var h=this.showAllDayRow,h=(!l.timeRuler||"dayView"!==a&&"weekView"!==a||null!=l.timeRuler.showAllDayRow&&(h=l.timeRuler.showAllDayRow),h&&(d=(1==this.tableRows?this.table[0].rows[0]:this.table[0].rows[1]).clientHeight),1<=e.duration().days()||e.allDay);if(h&&1==this.tableRows&&1==this.tableColumns)return!1}this.showToolbar&&(o+=this.toolbarHeight),r-=o,this.showLegend&&0<this._resources.length&&(r-=this.legendHeight);var c,a=+t,l=r+a-d,e=+i,o=n+e,t=s,r=((t=De(t))[0].clientHeight,t.position().top-d),i=(r<=a?((c=r)<0&&(c=0),(!h||1<this.tableRows)&&this.vScrollBar.jqxScrollBar("setPosition",c)):l<=r&&((c=r)<0&&(c=0),(!h||1<this.tableRows)&&this.vScrollBar.jqxScrollBar("setPosition",c-2)),t.position().left);i=Math.round(i),t.outerWidth();0===Math.round(t.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),i<=e&&(t.outerWidth(),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-i):this.hScrollBar.jqxScrollBar("setPosition",i)),o<i&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-i):this.hScrollBar.jqxScrollBar("setPosition",i))},ensureVisible:function(e,t){for(var i="date"==De.type(e)?e:e.toDate(),s=0;s<this.rows.length;s++)for(var r=0;r<this.rows[s].cells.length;r++){var n=this.rows[s].cells[r];if(!t||n.getAttribute("data-view")===t){var o=n.getAttribute("data-date");if(this._getDateByString(o).valueOf()==i.valueOf())return this._ensureVisible(n)}}},_ensureVisible:function(e){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;var t=this.vScrollBar.jqxScrollBar("value"),i=this.hScrollBar.jqxScrollBar("value"),s=(this.rtl&&(i=this.hScrollBar.jqxScrollBar("max")-i),this._hostHeight),r=this._hostWidth,n=0,n=(this.columnGroups?n+=this.showHeader?this.columnsheader.height():0:n+=this.showHeader?this.columnsHeight:0,this.showToolbar&&(n+=this.toolbarHeight),s-=n,this.showLegend&&0<this._resources.length&&(s-=this.legendHeight),"hidden"!=this.hScrollBar.css("visibility")&&(s-=20),this._views[this._view].type),o=this._views[this._view],a=0,n=("dayView"!=n&&"weekView"!=n||(l=this.showAllDayRow,!o.timeRuler||"dayView"!==n&&"weekView"!==n||null!=o.timeRuler.showAllDayRow&&(l=o.timeRuler.showAllDayRow),l&&(a=(1==this.tableRows?this.table[0].rows[0]:this.table[0].rows[1]).clientHeight)),+t),o=s+n-a,l=+i,t=r+l,i=e,e=(i=De(i)).position().top-a,d=e+i.outerHeight(),h=i.position().left,c=(h=Math.round(h))+i.outerWidth(),h=(0===Math.round(i.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),h<=l&&((l=h-i.outerWidth()+0)<0&&(l=0),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-l):this.hScrollBar.jqxScrollBar("setPosition",l)),t<=c&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-(2+c-r)):this.hScrollBar.jqxScrollBar("setPosition",2+c-r)),i.parent().index());if(0<this.tableRows&&h--,0===Math.round(i.position().top)||0===h)return this.vScrollBar.jqxScrollBar("setPosition",0);l=this.table[0].rows.length-1;return this.table[0].rows[l][0]===i.parent()[0]?this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max")):e<=n?this.vScrollBar.jqxScrollBar("setPosition",e<0?0:e):o<=d?this.vScrollBar.jqxScrollBar("setPosition",4+d-s+a):void 0},getColumn:function(e){var t=null;return this.columns.records&&De.each(this.columns.records,function(){if(this.datafield==e||this.displayfield==e)return t=this,!1}),t},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;t=t.toLowerCase();var s=this.getColumn(e);if(null!=s){s[t];s[t]=i;e=this.getColumn(e);switch(null!=e&&(e[t]=i),t){case"text":case"hidden":case"hideable":case"renderer":case"align":case"cellsalign":case"contenttype":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==t||"text"==t||"class"==t||"hidden"==t||"pinned"==t||"resizable"==t||"renderer"==t?this._rendercolumnheaders():"width"!=t&&"maxwidth"!=t&&"minwidth"!=t||(s._width=null,s._percentagewidth=null,this._updatecolumnwidths()),this.refresh()}}},getColumnProperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getColumn(e)[t])},setColumnProperty:function(e,t,i){this._setcolumnproperty(e,t,i)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,t){this.databind(this.source,e,t)},refresh:function(e){1==e||De.jqx.isHidden(this.host)||(this.table[0].style.top="0px",this.vScrollInstance.setPosition(0),this._renderrows(),this._arrange(),this._renderhorizontalscroll(),this._updateTouchScrolling(),this._refreshToolBar(),this._updateFocusedCell())},_updateFocusedCell:function(){var e=this;if(e.focusedCell)e._updateCellsSelection();else{var t=e._views[e._view].type,i=e._views[e._view],s=e.showAllDayRow;if(!i.timeRuler||"dayView"!==t&&"weekView"!==t||null!=i.timeRuler.showAllDayRow&&(s=i.timeRuler.showAllDayRow),!s||"dayView"!=t&&"weekView"!=t?(e.focusedCell=e.rows[0].cells[0],e.rtl&&(e.focusedCell=e.rows[0].cells[e.rows[0].cells.length-1])):(e.focusedCell=e.rows[1].cells[0],e.rtl&&(e.focusedCell=e.rows[1].cells[e.rows[1].cells.length-1])),0<=e.focusedCell.className.indexOf("jqx-scheduler-disabled-cell")){e.focusedCell=null;for(var r=0;r<this.rows.length;r++){for(var n=0;n<this.rows[r].cells.length;n++){var o=this.rows[r].cells[n];if(-1==o.className.indexOf("jqx-scheduler-disabled-cell")){e.focusedCell=o;break}}if(e.focusedCell)break}}e._lastSelectedCell=e.focusedCell,e._updateCellsSelection()}},_updateTouchScrolling:function(){var e,t,i,s=this.that;s.isTouchDevice()&&(e=De.jqx.mobile.getTouchEventName("touchstart"),t=De.jqx.mobile.getTouchEventName("touchend"),i=De.jqx.mobile.getTouchEventName("touchmove"),s.schedulercontent&&(s.removeHandler(s.table,e+".touchScroll"),s.removeHandler(s.table,i+".touchScroll"),s.removeHandler(s.table,t+".touchScroll"),s.removeHandler(s.table,"touchcancel.touchScroll"),De.jqx.mobile.touchScroll(s._table[0],Math.max(s.vScrollInstance.max,s.hScrollInstance.max),function(e,t){s.dragOrResize||(null!=t&&"hidden"!=s.vScrollBar.css("visibility")&&(s.vScrollInstance.value,s.vScrollInstance.setPosition(t)),null!=e&&"hidden"!=s.hScrollBar.css("visibility")&&(s.hScrollInstance.value,s.hScrollInstance.setPosition(e)),s.scrolled=new Date)},this.element.id,this.hScrollBar,this.vScrollBar)))},scrollWidth:function(){return this.hScrollInstance.max},scrollHeight:function(){return this.vScrollInstance.max},scrollLeft:function(e){"hidden"!=this.hScrollBar[0].style.visibility&&this.hScrollInstance.setPosition(e)},scrollTop:function(e){"hidden"!=this.vScrollBar[0].style.visibility&&this.vScrollInstance.setPosition(e)},render:function(e){var t="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbartop' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbarbottom' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>",t=(this.element.innerHTML=t,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset")),this.showCurrent&&this.element.setAttribute("show-current",""),this.host.find("#verticalScrollBar"+this.element.id)),i=this.host.find("#horizontalScrollBar"+this.element.id),s=(this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=t.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=i.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=De.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=De.data(this.hScrollBar[0],"jqxScrollBar").instance,this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-scheduler-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.legendbarbottom=this.host.find("#legendbarbottom"),this.legendbarbottom[0].id="legendbarbottom"+this.element.id,this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar-bottom")),this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbarbottom.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.legendbartop=this.host.find("#legendbartop"),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar-top")),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbartop.addClass(this.toTP("jqx-widget-header")),this.schedulertable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns,this.source.datafields);if(s=null==s&&this.source._source?this.source._source.datafields:s)for(var r=0;r<this.columns.length;r++){var n=this.columns[r];if(n&&n.cellsFormat&&2<n.cellsFormat.length)for(var o=0;o<s.length;o++)if(s[o].name==n.datafield&&!s[o].format){s[o].format=n.cellsFormat;break}}this.databind(this.source),this.showToolbar&&this.toolbar.css("visibility","inherit"),this.showLegend&&this.legendbarbottom.css("visibility","inherit"),this.tableheight=null;var a=this;this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(e){return a.content&&(a.content[0].scrollTop=0,a.content[0].scrollLeft=0),a.schedulercontent&&(a.schedulercontent[0].scrollLeft=0,a.schedulercontent[0].scrollTop=0),!1}),!0!==e&&this._render()},_render:function(){var e,t,i,o=this;null==o.dataview||o._loading||(25==o.columnsHeight&&!o.columnGroups||o._measureElement("column"),o.rowinfo=new Array,o._removeHandlers(),null==o.columns?o.columns=new De.jqx.schedulerDataCollection(o.element):o._initializeColumns(),o.host.height(o.height),o.host.width(o.width),De.jqx.utilities.html(o.content,""),o.columnsheader=o.columnsheader||De('<div style="overflow: hidden;"></div>'),o.columnsheader.remove(),o.columnsheader.addClass(o.toTP("jqx-widget-header")),o.columnsheader.addClass(o.toTP("jqx-grid-header")),o.showHeader?o.columnsheader&&o.columnsheader.css("display","block"):o.columnsheader.css("display","none"),o.schedulercontent=o.schedulercontent||De('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),o.schedulercontent.remove(),e=o.columnsHeight,e=o._preparecolumnGroups(),o.columnsheader.height(e),o.content.append(o.columnsheader),o.content.append(o.schedulercontent),o._rendercolumnheaders(),o.tableheight=null,o.schedulercontent.find("#contenttable"+o.element.id).remove(),null!=o.table&&(o.table.remove(),o.table=null),null!=o.pinnedtable&&(o.pinnedtable.remove(),o.pinnedtable=null),o.table=De('<div id="contenttable'+o.element.id+'" style="overflow: hidden; position: relative;"></div>'),o.pinnedtable=De('<div id="contenttable2'+o.element.id+'" style="display: none; overflow: hidden; position: relative;"></div>'),o.schedulercontent.addClass(o.toTP("jqx-grid-content")),o.schedulercontent.addClass(o.toTP("jqx-widget-content")),o.schedulercontent.append(o.table),1==o.tableRows&&o.schedulercontent.append(o.pinnedtable),o._renderrows(),o._arrange(),o._resourcesElements=new Array,(e=function(r,n){r.children().remove();r=De("<div style='margin:5px; position: relative;'></div>").appendTo(r);o._resourcesElements[n]=new Array,De.each(o._resources,function(e){function t(){"on"==s.attr("data-toggle")?o.hideAppointmentsByResource(i):o.showAppointmentsByResource(i)}var e=o.getColors(e),i=this.toString(),s=De("<div data-toggle='on' style='border-color: "+e.border+"; background: "+e.background+";' class='"+o.toThemeProperty("jqx-scheduler-legend")+"'></div>"),e=(s.appendTo(r),De("<div class='"+o.toThemeProperty("jqx-scheduler-legend-label")+"'>"+i+"</div>"));e.appendTo(r),o._resourcesElements[n][i]=s;o.addHandler(s,"mousedown",function(){return t(),!1}),o.addHandler(e,"mousedown",function(){return t(),!1})})})(o.legendbarbottom,"bottom"),e(o.legendbartop,"top"),("top"==o.legendPosition?o.legendbarbottom:o.legendbartop).hide(),0==o._resources.length&&(o.legendbarbottom.hide(),o.legendbartop.hide()),o.renderToolBar?o.renderToolBar(o.toolbar):o._renderToolBar(),o.disabled&&o.host.addClass(o.toThemeProperty("jqx-fill-state-disabled")),o._renderhorizontalscroll(),o._addHandlers(),o.clearSelection(),e=o._views[o._view].type,t=o._views[o._view],i=o.showAllDayRow,!t.timeRuler||"dayView"!==e&&"weekView"!==e||null!=t.timeRuler.showAllDayRow&&(i=t.timeRuler.showAllDayRow),o.focusedCell=(!i||"dayView"!=e&&"weekView"!=e?o.rows[0]:o.rows[1]).cells[0],o._lastSelectedCell=o.focusedCell,o._updateCellsSelection())},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},getAppointmentElement:function(e){for(var t=null,i=(0<=e.className.indexOf("jqx-scheduler-appointment")&&-1==e.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==e.className.indexOf("jqx-scheduler-appointment-content")&&-1==e.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(t=e),e),s=0;s<4&&i.parentNode;s++)0<=i.className.indexOf("jqx-scheduler-appointment")&&-1==i.className.indexOf("jqx-scheduler-appointment-innter-content")&&-1==i.className.indexOf("jqx-scheduler-appointment-content")&&-1==i.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(t=i),i=i.parentNode;return t},getJQXAppointmentByElement:function(e){var t,e=e.getAttribute?e.getAttribute("data-key"):e.attr("data-key");return 0<=e.indexOf(".")?(t=e.substring(0,e.indexOf(".")),e.substring(e.indexOf(".")+1),this.appointmentsByKey[t].jqxAppointment.renderedAppointments[e]):this.appointmentsByKey[e].jqxAppointment},_renderToolBar:function(){function e(e){var t=De.jqx.formatDate(r.getViewStart().toDate(),e,r.schedulerLocalization),e=De.jqx.formatDate(r.getViewEnd().toDate(),e,r.schedulerLocalization);"dayView"===l||"timelineDayView"===l?r.toolbarDetails.html(t):r.toolbarDetails.html(t+" - "+e),r.rtl?(r.toolbarDetails.addClass("jqx-rtl"),r.toolbarDetails.html("<span style='direction:rtl;'>"+e+"<span> - <span style='direction:rtl;'>"+t+"</span>")):r.toolbarDetails[0].style.direction="ltr"}var r=this,t=De('<div style="width: 100%; height: 100%; position: relative;"></div>'),i=(this.toolbarHeight-20)/2,s=(t.css("top",i),r.toolbarLeftButton=De('<div type="button" style="outline: none; padding: 0px; display: flex; justify-content: center; align-items: center; margin-left: 3px; margin-right: 3px; height: 24px; width: 27px; float: left;"></div>'),r.toolbarRightButton=De('<div type="button" style="outline: none; padding: 0px; display: flex; justify-content: center; align-items: center; margin-right: 3px; width: 27px; height: 24px; float: left;"></div>'),r.toolbarLeftButton.attr("title",r.schedulerLocalization.toolBarPreviousButtonString),r.toolbarRightButton.attr("title",r.schedulerLocalization.toolBarNextButtonString),r.toolbarRightButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:r.disabled,theme:r.theme}),r.toolbarLeftButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:r.disabled,theme:r.theme}),r.dateTimeInput=De('<div style="outline: none; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: left;"></div>'),r.toolbarLeftButton.find(".jqx-icon-arrow-left").remove(),r.toolbarRightButton.find(".jqx-icon-arrow-right").remove(),De("<div style='outline: none;  width: 15px; height: 15px;'></div>")),n=(s.addClass(r.toThemeProperty("jqx-icon-arrow-left")),r.toolbarLeftButton.wrapInner(s),De("<div style='outline: none; width: 15px; height: 15px;'></div>")),o=(n.addClass(r.toThemeProperty("jqx-icon-arrow-right")),r.toolbarRightButton.wrapInner(n),r.rtl&&(r.toolbarLeftButton.css("float","right"),r.toolbarRightButton.css("float","right"),r.dateTimeInput.css("float","right")),r.addHandler(r.toolbarRightButton,"mouseenter",function(){n.addClass(r.toThemeProperty("jqx-icon-arrow-right-hover"))}),r.addHandler(r.toolbarLeftButton,"mouseenter",function(){s.addClass(r.toThemeProperty("jqx-icon-arrow-left-hover"))}),r.addHandler(r.toolbarRightButton,"mouseleave",function(){n.removeClass(r.toThemeProperty("jqx-icon-arrow-right-hover"))}),r.addHandler(r.toolbarLeftButton,"mouseleave",function(){s.removeClass(r.toThemeProperty("jqx-icon-arrow-left-hover"))}),r.addHandler(r.toolbarRightButton,"mousedown",function(){n.addClass(r.toThemeProperty("jqx-icon-arrow-right-selected"))}),r.addHandler(r.toolbarRightButton,"mouseup",function(){n.removeClass(r.toThemeProperty("jqx-icon-arrow-right-selected"))}),r.addHandler(r.toolbarLeftButton,"mousedown",function(){s.addClass(r.toThemeProperty("jqx-icon-arrow-left-selected"))}),r.addHandler(r.toolbarLeftButton,"mouseup",function(){s.removeClass(r.toThemeProperty("jqx-icon-arrow-left-selected"))}),r.addHandler(De(document),"mouseup.pagerbuttons"+r.element.id,function(){n.removeClass(r.toThemeProperty("jqx-icon-arrow-right-selected")),s.removeClass(r.toThemeProperty("jqx-icon-arrow-left-selected"))}),r.addHandler(r.toolbarRightButton,"click",function(){r.toolbarRightButton.jqxButton("disabled")||(r.rtl?r.navigateBackward():r.navigateForward(),r.focus())}),r.addHandler(r.toolbarLeftButton,"click",function(){r.toolbarLeftButton.jqxButton("disabled")||(r.rtl?r.navigateForward():r.navigateBackward(),r.focus())}),r.toolbar.children().remove(),r.toolbar.append(t),r.rtl?(t.append(r.toolbarRightButton),t.append(r.dateTimeInput),t.append(r.toolbarLeftButton)):(t.append(r.toolbarLeftButton),t.append(r.dateTimeInput),t.append(r.toolbarRightButton)),r.toolbarDetails=De('<div class="'+r.toTP("jqx-scheduler-toolbar-details")+'" style="margin-left: 7px; margin-top:2px; float: left;"></div>'),r.toolbarViews=De('<div style="margin-right: 10px; margin-top:0px; float: right;"></div>'),r.rtl&&(r.toolbarDetails.css("float","right"),r.toolbarDetails.css("margin-left","0px"),r.toolbarDetails.css("margin-right","7px"),r.toolbarViews.css("margin-left","10px"),r.toolbarViews.css("margin-right","0px"),r.toolbarViews.css("float","left")),new Array),a=(r.rtl?(o.push(r.toolbarRightButton),o.push(r.dateTimeInput),o.push(r.toolbarLeftButton)):(o.push(r.toolbarLeftButton),o.push(r.dateTimeInput),o.push(r.toolbarRightButton)),r._views.length-1),l=(De.each(r._views,function(e){var t="",i=e;if(r.rtl&&(i=a-e),null!=r._views[i].text)t=r._views[i].text;else switch(r._views[i].type){case"dayView":t=r.schedulerLocalization.dayViewString;break;case"weekView":t=r.schedulerLocalization.weekViewString;break;case"monthView":t=r.schedulerLocalization.monthViewString;break;case"agendaView":t=r.schedulerLocalization.agendaViewString;break;case"timelineDayView":t=r.schedulerLocalization.timelineDayViewString;break;case"timelineWeekView":t=r.schedulerLocalization.timelineWeekViewString;break;case"timelineMonthView":t=r.schedulerLocalization.timelineMonthViewString}var e='<span data-type="'+r._views[i].type+'" style="cursor: pointer; outline: none; margin-left: -1px; position: relative;">'+t+"</span>",s=De(e);s.addClass(r.toTP("jqx-group-button-normal jqx-button jqx-fill-state-normal")),o.push(s),0==i&&(r.rtl?s.addClass(r.toTP("jqx-rc-r")):s.addClass(r.toTP("jqx-rc-l"))),i==r._views.length-1&&(r.rtl?s.addClass(r.toTP("jqx-rc-l")):s.addClass(r.toTP("jqx-rc-r"))),i===r._view&&s.addClass(r.toTP("jqx-fill-state-pressed")),s.mouseenter(function(){s.addClass(r.toTP("jqx-fill-state-hover"))}),s.mouseleave(function(){s.removeClass(r.toTP("jqx-fill-state-hover"))}),s.mousedown(function(){r._setView(i),r.focus()}),De(r.toolbarViews).append(s)}),t.append(r.toolbarDetails),t.append(r.toolbarViews),r._views.length<2&&r.toolbarViews.hide(),r.dateTimeInput.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:r.rtl,localization:r._getDateTimeInputLocalization(),firstDayOfWeek:r.schedulerLocalization.firstDay,todayString:r.schedulerLocalization.todayString,clearString:r.schedulerLocalization.clearString,showFooter:!0,height:25,width:25,renderMode:"simple"}),r.addHandler(r.dateTimeInput,"change",function(e){r.fromNavigate||(r.navigateTo(new De.jqx.date(e.args.date,r.timeZone)),r.focus())}),r.tabKeyElements=o,r._views[r._view].type),i=(e(r.toolBarRangeFormat),r.toolbarViews.width()+r.toolbarDetails.width()+120);r.toolBarRangeFormat;i>r.host.width()?(e(r.toolBarRangeFormatAbbr),r.toolbarViews.width()+r.toolbarDetails.width()+120>r.host.width()&&(r.toolbarDetails.hide(),r.toolbarViews.width()+120>r.host.width()&&r.toolbarViews.hide())):r.currentToolbarFormat=r.toolBarRangeFormat},_setView:function(e){var t,i,s,r=this;r.toolbarViews.find(".jqx-fill-state-pressed").removeClass(r.toTP("jqx-fill-state-pressed")),(r.rtl?De(r.toolbarViews.children()[r._views.length-1-e]):De(r.toolbarViews.children()[e])).addClass(r.toTP("jqx-fill-state-pressed")),r._view!==e&&(r.vScrollBar[0].style.visibility&&(r._scrollPosition||(r._scrollPosition=new Array),r._scrollPosition[r._view]=r.vScrollInstance.value),(s=r.hScrollBar[0].style.visibility)&&(r._hscrollPosition||(r._hscrollPosition=new Array),r._hscrollPosition[r._view]=r.hScrollInstance.value),t=r._views[r._view].type,i=r._views[e].type,r._view=e,r._refreshColumns(),r.refresh(),s!==r.hScrollBar[0].style.visibility&&(r._renderrows(),r._updateTouchScrolling()),r._scrollPosition[r._view]&&r.vScrollInstance.setPosition(r._scrollPosition[r._view]),r._hscrollPosition[r._view]&&r.hScrollInstance.setPosition(r._hscrollPosition[r._view]),r.selectedJQXAppointment&&r._ensureAppointmentVisible(r.selectedJQXAppointment),e=r.getViewStart(),s=De.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd()),r._raiseEvent("viewChange",{date:r.date,from:e,to:s,oldViewType:t,newViewType:i}))},_getDateTimeInputLocalization:function(){var e={};return e.backString=this.schedulerLocalization.backString,e.forwardString=this.schedulerLocalization.forwardString,e.todayString=this.schedulerLocalization.todayString,e.clearString=this.schedulerLocalization.clearString,e.calendar=this.schedulerLocalization,e},setView:function(e){switch(e){case"dayView":this._setView(0);break;case"weekView":this._setView(1);break;case"monthView":this._setView(2);break;case"timelineDayView":this._setView(3);break;case"timelineWeekView":this._setView(4);break;case"timelineMonthView":this._setView(5)}this.view=e},navigateForward:function(){var e=this._views[this._view].type,t=this._views[this._view],i=new De.jqx.date(this.date,this.timeZone);switch(e){case"dayView":case"timelineDayView":i=i.addDays(1),i=function(){for(;(0==i.dayOfWeek()||6==i.dayOfWeek())&&!1===t.showWeekends;)i=i.addDays(1);return i}();break;case"weekView":case"timelineWeekView":i=i.addDays(7);break;case"monthView":case"timelineMonthView":i.day();var s=i.month(),r=i.year(),r=new De.jqx.date(r,s,1);r.timeZone=this.timeZone,i=r.addMonths(1);break;case"agendaView":i=t.days?i.addDays(t.days):i.addDays(7)}return this.navigateTo(i)},navigateBackward:function(){var e=this._views[this._view].type,t=this._views[this._view],i=new De.jqx.date(this.date,this.timeZone);switch(e){case"dayView":case"timelineDayView":i=i.addDays(-1),i=function(){for(;(0==i.dayOfWeek()||6==i.dayOfWeek())&&!1===t.showWeekends;)i=i.addDays(-1);return i}();break;case"weekView":case"timelineWeekView":i=i.addDays(-7);break;case"monthView":case"timelineMonthView":i.day();var s=i.month(),r=i.year(),r=new De.jqx.date(r,s,1);r.timeZone=this.timeZone,i=r.addMonths(-1);break;case"agendaView":i=t.days?i.addDays(-t.days):i.addDays(-7)}return this.navigateTo(i)},_refreshToolBar:function(e){function t(e){var t=De.jqx.formatDate(n.toDate(),e,r.schedulerLocalization),i=De.jqx.formatDate(o.toDate(),e,r.schedulerLocalization),s=r._views[r._view].type;!1===r._views[r._view].showWeekends&&(0!=(n=0!=n.dayOfWeek()&&6!=n.dayOfWeek()?n:n.addDays(1)).dayOfWeek()&&6!=n.dayOfWeek()||(n=n.addDays(1)),0!=(o=0!=o.dayOfWeek()&&6!=o.dayOfWeek()?o:o.addDays(-1)).dayOfWeek()&&6!=o.dayOfWeek()||(o=o.addDays(-1)),t=De.jqx.formatDate(n.toDate(),e,r.schedulerLocalization),i=De.jqx.formatDate(o.toDate(),e,r.schedulerLocalization)),"dayView"===s||"timelineDayView"===s?r.toolbarDetails.html(t):r.toolbarDetails.html(t+" - "+i),r.rtl?(r.toolbarDetails.addClass("jqx-rtl"),r.toolbarDetails.html("<span style='direction:rtl;'>"+i+"<span> - <span style='direction:rtl;'>"+t+"</span>")):r.toolbarDetails[0].style.direction="ltr"}var r=this,n=r.getViewStart(),o=r.getViewEnd();e?t(r._lastFormatString||r.toolBarRangeFormat):(t(r.toolBarRangeFormat),r.toolbarDetails.show(),r.toolbarViews.show(),r.toolbarViews.width()+r.toolbarDetails.width()+120>r.host.width()&&(t(r.toolBarRangeFormatAbbr),r.toolbarViews.width()+r.toolbarDetails.width()+120>r.host.width()&&(r.toolbarDetails.hide(),r.toolbarViews.width()+120>r.host.width()&&r.toolbarViews.hide())))},navigateTo:function(e){var t,i,s=this;(e="date"==De.type(e)?new De.jqx.date(e):e)<this.min||e>this.max||(e.timeZone=s.timeZone,s.date=e,s._refreshToolBar(!0),s.fromNavigate=!0,s.dateTimeInput.val(e.toDate()),s.fromNavigate=!1,s._refreshColumnTitles(),s._renderrows(),s._updateFocusedCell(),s.resources&&s._renderhorizontalscroll(),t=s.getViewStart(),i=De.jqx.scheduler.utilities.getEndOfDay(s.getViewEnd()),s._raiseEvent("dateChange",{date:e,from:t,to:i}))},_preparecolumnGroups:function(){var e=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var s=this,t=0;t<this.columnGroups.length;t++)this.columnGroups[t].parent=null,this.columnGroups[t].groups=null;for(t=0;t<this.columns.records.length;t++)this.columns.records[t].parent=null,this.columns.records[t].groups=null;function i(e){for(var t=0;t<s.columnGroups.length;t++){var i=s.columnGroups[t];if(i.name===e)return i}return null}for(t=0;t<this.columnGroups.length;t++)(d=this.columnGroups[t]).groups||(d.groups=null),d.parentGroup&&(d.parentgroup=d.parentGroup),d.parentgroup&&(r=i(d.parentgroup))&&((d.parent=r).groups||(r.groups=new Array),-1===r.groups.indexOf(d)&&r.groups.push(d));for(var r,t=0;t<this.columns.records.length;t++)(d=this.columns.records[t]).columngroup&&(r=i(d.columngroup))&&(r.groups||(r.groups=new Array),-1===(d.parent=r).groups.indexOf(d)&&r.groups.push(d));for(var n=0,t=0;t<this.columns.records.length;t++){var o=d=this.columns.records[t];for(d.level=0;o.parent;)o=o.parent,d.level++;for(var o=d,a=d.level,n=Math.max(n,d.level);o.parent;)(o=o.parent)&&(o.level=--a)}for(var l=function(e){var t=new Array;if(e.columngroup&&t.push(e),!e.groups)return new Array;for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var s=l(e.groups[i]),r=0;r<s.length;r++)t.push(s[r]);return t},t=0;t<this.columnGroups.length;t++){for(var d=this.columnGroups[t],h=l(d),c=(d.columns=h,new Array),u=0,p=0;p<h.length;p++)c.push(this.columns.records.indexOf(h[p])),h[p].pinned&&u++;if(0!=u)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:t<e?1:0});for(var m=1;m<c.length;m++)if(c[m]!=c[m-1]+1)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+n,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,t){return!(!t.editRecurrenceDialog||!t.editRecurrenceDialog.jqxWindow("isOpen"))||(!(!t._editDialog||!t._editDialog.jqxWindow("isOpen"))||(t.autoheight&&"hidden"==t.hScrollBar.css("visibility")?e.returnValue=!0:(i=0,(e=e||window.event).originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i?((t=t._handleDelta(i))&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!t&&(e.returnValue=t=!1)):(e.preventDefault&&e.preventDefault(),void(e.returnValue=!1)))));var i},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;if(e<0?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20),t!=this.vScrollInstance.value)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){t=this.hScrollInstance.value;if(0<e?20<this.hScrollInstance.value?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max),t!=this.hScrollInstance.value)return!0}return!1},_removeHandlers:function(){var e,t=this,i=(t._mousewheelfunc&&t.removeHandler(this.host,"mousewheel",t._mousewheelfunc),t.removeHandler(De(document),"keydown.scheduler"+t.element.id),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(t.host,"dragstart."+t.element.id),t.removeHandler(t.host,"selectstart."+t.element.id),t.removeHandler(De(window),"jqxReady."+t.element.id),t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),"mousedown"),s=(t.isTouchDevice()&&(i=De.jqx.mobile.getTouchEventName("touchstart"),De.jqx.browser.msie&&De.jqx.browser.version<10&&(i="mousedown")),t.table&&t.removeHandler(t.table,"mouseleave"),"mousemove.scheduler"+t.element.id),r="mouseup.scheduler"+t.element.id;if(t.isTouchDevice()&&!0!==t.touchMode&&(s=De.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+t.element.id,r=De.jqx.mobile.getTouchEventName("touchend")+".scheduler"+t.element.id),t.removeHandler(De(document),s),t.removeHandler(De(document),r),!t.isTouchDevice())try{""==document.referrer&&!window.frameElement||null==window.top||window.top==window.self||(e=null,(e=window.parent&&document.referrer?document.referrer:e)&&-1!=e.indexOf(document.location.host)&&t.removeHandler(De(window.top.document),"mouseup.jqxscheduler"+t.element.id))}catch(e){}t.removeHandler(t.host,s),t.removeHandler(De(document),"keydown.jqxscheduler"+t.element.id),t.removeHandler(t.host,"keydown"),t.table&&(t.removeHandler(t.table,"dblclick"),t.removeHandler(t.pinnedtable,i),t.removeHandler(t.table,i))},selectAppointment:function(e){this.appointmentsByKey[e]&&this._selectAppointment(this.appointmentsByKey[e].jqxAppointment)},_selectAppointment:function(e,t,i){if(e){var s=this,r=(s.selectedAppointment&&s.clearAppointmentsSelection(),e.id),n=De('[data-key="'+r+'"]');if(0<n.length){s.selectedJQXAppointment=e,s.selectedAppointment=De(t||n[0]);r=s._views[s._view].type;s._views[s._view];if("agendaView"==r)return void s.clearSelection();switch(n.addClass(s.toTP("jqx-scheduler-selected-appointment")),e.resizable&&n.find(".jqx-scheduler-appointment-resize-indicator").show(),r){case"dayView":De(n).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),De(n).find(".jqx-scheduler-appointment-right-resize-indicator").hide();break;case"weekView":break;case"monthView":case"timeLineMonthView":case"timeLineDayView":case"timeLineWeekView":1<n.length&&De.each(n,function(e){s.rtl?(0<e&&De(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide(),e<n.length-1&&De(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide()):(0<e&&De(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),e<n.length-1&&De(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide())})}if("mouse"==i)return void s.clearSelection()}s.clearSelection()}},clearAppointmentsSelection:function(){var e;this.selectedAppointment&&(e=this.selectedAppointment.attr("data-key"),(e=De('[data-key="'+e+'"]')).removeClass(this.toTP("jqx-scheduler-selected-appointment")),e.find(".jqx-scheduler-appointment-resize-indicator").hide(),this.selectedAppointment=null,this.selectedJQXAppointment=null)},selectCell:function(e,t,i){for(var s=this,r=e.toDate(),n=0;n<s.rows.length;n++)for(var o=0;o<s.rows[n].cells.length;o++){var a=s.rows[n].cells[o];if(!i||a.getAttribute("data-view")===i){var l=a.getAttribute("data-date"),l=s._getDateByString(l);if(t&&a.getAttribute("data-end-date")){if(l.valueOf()==e.valueOf())return a.setAttribute("data-selected","true"),s.focusedCell=a,s._lastSelectedCell=a,s._updateCellsSelection(),void s._ensureVisible(s.focusedCell)}else if(!t&&a.getAttribute("data-end-date"))continue;if(l.valueOf()==r.valueOf())return a.setAttribute("data-selected","true"),s.focusedCell=a,s._lastSelectedCell=a,s._updateCellsSelection(),void s._ensureVisible(s.focusedCell)}}s._updateCellsSelection()},selectRange:function(e,t,i,s){e<this.min&&(e=this.min),t>this.max&&(t=this.max);for(var r=e.toDate(),n=t.toDate(),o=!1,a=0;a<this.rows.length;a++)for(var l=0;l<this.rows[a].cells.length;l++){var d=this.rows[a].cells[l];if(!s||d.getAttribute("data-view")===s){var h=d.getAttribute("data-date"),h=this._getDateByString(h);if(i&&d.getAttribute("data-end-date"))h.valueOf()>=r.valueOf()&&h.valueOf()<=n.valueOf()&&d.setAttribute("data-selected","true");else if(!i&&d.getAttribute("data-end-date"))continue;h.valueOf()>=r.valueOf()&&h.valueOf()<=n.valueOf()&&(d.setAttribute("data-selected","true"),o||(this._lastSelectedCell=d,this.focusedCell=d,o=!0))}}this._updateCellsSelection()},_selectRange:function(i,s){var r=this;if("agendaView"!=r._views[r._view].type){var e=i,t=s.getAttribute("data-view");if(i.getAttribute("data-view")===t){var n=s.getAttribute("data-date"),o=e.getAttribute("data-date");if(null!=n&&null!=o){var a,l=s.getAttribute("data-end-date"),d=e.getAttribute("data-end-date"),h=null!=l||null!=d,c=null!=l&&null!=d,l=r._getDateByString(n),d=r._getDateByString(o),u=(l<this.min.toDate()&&(l=this.min.toDate()),d<this.min.toDate()&&(d=this.min.toDate()),l>this.max.toDate()&&(l=this.max.toDate()),d>this.max.toDate()&&(d=this.max.toDate()),Math.min(l,d)),p=Math.max(l,d),m=r.rows,g=0,f=0,v=(0<g&&r.rtl&&(g=0,f=1),m.length);h&&(v=1,null==i.getAttribute("data-end-date")&&(d.setHours(0,0,0,0),a=new De.jqx.date(d,r.timeZone).toString(),De(e).parent().index(),De.each(m[0].cells,function(){var e,t;if(this.getAttribute("data-date")===a)return i=this,c=null!=s.getAttribute("data-end-date")&&null!=i.getAttribute("data-end-date"),e=s.getAttribute("data-date"),t=i.getAttribute("data-date"),e=r._getDateByString(e),t=r._getDateByString(t),u=Math.min(e,t),p=Math.max(e,t),!1})));for(var x=0;x<v;x++)for(var y,w,b=m[x],_=(h&&1<this.tableRows&&(_=m[y=(-1+parseInt(i.getAttribute("data-view")))*(m.length/r.tableRows)],b=m[y]),b.cells),q=g;q<_.length-f;q++)_[q].getAttribute("data-view")===t&&(_[q].removeAttribute("data-selected"),!c&&_[q].getAttribute("data-end-date")||(w=_[q].getAttribute("data-date"),w=r._getDateByString(w).valueOf(),u<=w&&w<=p&&_[q].setAttribute("data-selected","true")));r._updateCellsSelection()}}}},findCell:function(e,t){var i=this,s=null,r=(i._tableOffset||(r=i.schedulercontent.coord(),i._tableOffset=r),i._tableOffset),n=r.top,o=r.left;if(t<n)return null;if(e<o)return null;if(t>n+i._hostHeight)return null;if(e>o+i._hostWidth)return null;for(var a=!1,l=i.rows,d=i._views[i._view],h=d.type,c=i.vScrollInstance.value,u=i.hScrollInstance.value,p=0;p<l.length&&!a;p++){var m=l[p].cells,g=!1;(0==p&&"dayView"==h||"weekView"==h)&&(g=i.showAllDayRow,!d.timeRuler||"dayView"!==h&&"weekView"!==h||null!=d.timeRuler.showAllDayRow&&(g=d.timeRuler.showAllDayRow),g&&i._allDayRowFullHeight);for(var f=0;f<m.length;f++){var v,x,y,w,b=m[f];if(0!=f||!b.getAttribute("data-time-slot"))if(b._left?(v=b._left,x=b._top,y=b._width,w=b._height):(v=b.offsetLeft+o,x=b.offsetTop+n,y=b.offsetWidth,w=b.offsetHeight,b._left=v,b._top=x,b._width=y,b._height=w),b._left=v,b._top=x,b._width=y,b._height=w,0!==y&&0!==w){if(i.rtl?"hidden"!=i.hScrollInstance.element.style.visibility&&(v-=i.hScrollInstance.max-u):v-=u,x-=c,0==p&&g&&(x+=c),!(x<=t&&t<x+w))break;if(v<=e&&e<v+y){s=b,a=!0;break}}}}return s},_removeFeedbackAndStopResize:function(){var e=this;if(e.feedback){if(e.feedback.remove(),e.feedback=null,e.pinnedfeedback.remove(),e.pinnedfeedback=null,e.feedbacks)for(var t=0;t<e.feedbacks.length;t++)e.feedbacks[t].remove();e._resizeDays=0,e._resizeStep=0,e._lastX=null,e.feedbacks=new Array,e.leftResize=!1,e.rightResize=!1,e.topResize=!1,e.bottomResize=!1,e.overlay.hide(),e.resizing=!1,e.resizeFrom=null,e._dragCell=null,e._dragStartCell=null,e.resizeTo=null,e.dragOrResize=!1,e.isMouseDown=!1,e.selectedJQXAppointment&&De('[data-key="'+e.selectedJQXAppointment.id+'"]').removeClass(e.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),e.openedMonthCellPopup&&e.openedMonthCellPopup.remove()}},_saveChangesAfterDragOrResize:function(e,t,i,s){if(!1===e)if(t.isException()){for(var r=(t.rootAppointment||t).exceptions,n=0;n<r.length;n++)if(r[n].occurrenceFrom.equals(t.occurrenceFrom)){r[n]=t;break}}else t.rootAppointment.recurrenceException||(t.rootAppointment.recurrenceException=new Array),null!=t.rootAppointment?(t.rootAppointment.exceptions.push(t),t.rootAppointment.recurrenceException.push(t.occurrenceFrom)):(t.exceptions.push(t),t.recurrenceException.push(t.occurrenceFrom));else if(!0===e){if(t.isException())for(r=(t.rootAppointment||t).exceptions,n=0;n<r.length;n++)if(r[n].occurrenceFrom.equals(t.occurrenceFrom)){for(var o=0;o<t.rootAppointment.recurrenceException.length;o++)if(t.rootAppointment.recurrenceException[o].equals(r[n].occurrenceFrom)){t.from;var a=new De.jqx.date(r[n].occurrenceFrom.year(),r[n].occurrenceFrom.month(),r[n].occurrenceFrom.day(),t.from.hour(),t.from.minute(),t.from.second());t.rootAppointment.recurrenceException[o]=a;break}(r[n]=t).from;a=new De.jqx.date(r[n].occurrenceFrom.year(),r[n].occurrenceFrom.month(),r[n].occurrenceFrom.day(),t.from.hour(),t.from.minute(),t.from.second());r[n].occurrenceFrom=a;break}if(null!=t.rootAppointment){t.rootAppointment.recurrencePattern=t.rootAppointment.recurrencePattern.createNewPattern();var l=t.rootAppointment.from,e=t.rootAppointment.duration(),a=null;switch(t.rootAppointment.recurrencePattern.freq){case"daily":case"weekly":case"monthly":case"yearly":a=new De.jqx.date(l.year(),l.month(),l.day(),t.from.hour(),t.from.minute(),t.from.second())}s?(t.rootAppointment.from=l,t.rootAppointment.to=l.add(t.duration())):(t.rootAppointment.from=a,t.rootAppointment.to=a.add(e)),t.rootAppointment.allDay=t.allDay,t.rootAppointment.resourceId=t.resourceId,t.rootAppointment.color=t.color,t.rootAppointment.borderColor=t.borderColor,t.rootAppointment.background=t.background,t.rootAppointment.timezone=t.timezone,t.rootAppointment.subject=t.subject,t.rootAppointment.description=t.description,t.rootAppointment.location=t.location,t.rootAppointment.category=t.category,t.rootAppointment.status=t.status,this.resizing?t.rootAppointment.recurrencePattern.setFrom(l):t.rootAppointment.recurrencePattern.setFrom(a)}else t.recurrencePattern=t.recurrencePattern.createNewPattern(),t.recurrencePattern.setFrom(t.from);s=De(i).attr("data-view"),e=this._resources[parseInt(s)-1];null!=e&&(null!=t.rootAppointment?t.rootAppointment.resourceId=e:t.resourceId=e)}},_handleMouseUp:function(e,f,v){var x=this,t=(clearInterval(x._verticalIntervalDragVelocity),clearInterval(x._horizontalIntervalDragVelocity),clearInterval(x._intervalDrag),clearInterval(x._horizontalIntervalDrag),e),i=!1;if(v?x.resizeTo?t.to.equals(x.resizeTo)&&(i=!0):x.resizeFrom&&t.from.equals(x.resizeFrom)&&(i=!0):x._dragStartCell==f&&(i=!0),i)return De('[data-key="'+e.id+'"]').removeClass(x.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),void x._removeFeedbackAndStopResize();function s(e,t){var i;if((t.allDay||w)&&(i=x.getMaxAllDayAppointments(x.appointmentsToRender)),v)x.resizeTo?(x.resizeTo>x.max&&(x.resizeTo=x.max),x.resizeTo<x.min&&(x.resizeTo=x.min),t.to=x.resizeTo):x.resizeFrom&&(x.resizeFrom>x.max&&(x.resizeFrom=x.max),x.resizeFrom<x.min&&(x.resizeFrom=x.min),t.from=x.resizeFrom),0==t.from.hour()&&0==t.from.minute()&&23==t.to.hour()&&59==t.to.minute()&&(t.allDay=!0);else{var s=x._views[x._view].type,r=x._views[x._view],n=De(f).attr("data-date"),o=null!=De(f).attr("data-end-date"),n=new De.jqx.date(n,x.timeZone);if((n=n<x.min?x.min:n)>x.max&&(n=x.max),!(x.rtl&&w&&o||x.rtl&&("monthView"==s||"timelineMonthView"==s))?!x.rtl||"timelineDayView"!=s&&"timelineWeekView"!=s?t.from=n:(c=x.getMinutesPerScale(),t.to=n.addMinutes(c)):t.to=De.jqx.scheduler.utilities.getEndOfDay(n),"dayView"===s||"weekView"===s)if(w||o){if(!w&&o)t.to=De.jqx.scheduler.utilities.getEndOfDay(n),t.allDay=!0;else if(w&&o&&!x.rtl)t.to=n.add(y),0==t.from.hour()&&0==t.from.minute()&&23==t.to.hour()&&59==t.to.minute()&&(t.allDay=!0);else if(w&&o&&x.rtl)t.from=De.jqx.scheduler.utilities.getStartOfDay(t.to.add(new De.jqx.timeSpan(-y))),0==t.from.hour()&&0==t.from.minute()&&23==t.to.hour()&&59==t.to.minute()&&(t.allDay=!0);else if(w&&!o){var a=30;switch(r.timeRuler&&r.timeRuler.scale){case"sixtyMinutes":case"hour":a=60;break;case"fifteenMinutes":case"quarterHour":a=15;break;case"tenMinutes":a=10;break;case"fiveMinutes":a=5}t.to=n.addMinutes(a),t.allDay=!1}}else t.to=n.add(y),t.allDay=!1;else"monthView"===s?x.rtl?t.from=De.jqx.scheduler.utilities.getStartOfDay(t.to.add(new De.jqx.timeSpan(-y))):t.to=n.add(y):"timelineDayView"!==s&&"timelineWeekView"!==s&&"timelineMonthView"!==s||(x.rtl?"timelineMonthView"==s?t.from=De.jqx.scheduler.utilities.getStartOfDay(t.to.add(new De.jqx.timeSpan(-y))):(c=x.getMinutesPerScale(),t.from=n.addMinutes(c).add(new De.jqx.timeSpan(-y))):t.to=n.add(y))}x._saveChangesAfterDragOrResize(e,t,f,x.resizing);var l,d,h,c,s=De(f).attr("data-view"),u=(null!=(o=x._resources[parseInt(s)-1])&&(t.resourceId=o),x.resizing=!1,x.resizeFrom=null,x._dragCell=null,x.resizeTo=null,{}),p={};for(l in x.appointmentDataFields){var m=x.appointmentDataFields[l],g=t[l];u[l]=g,"from"!=l&&"to"!=l||(g=g.toDate()),p[m]=g}u.jqxAppointment=t,u.originalData=p,t.boundAppointment=u,x._raiseEvent("appointmentChange",{appointment:t.boundAppointment}),x.changedAppointments[t.id]={type:"Update",appointment:t.boundAppointment},x.table.find(".jqx-icon-arrow-down").hide(),"monthView"==x._views[x._view].type&&x._views[x._view].monthRowAutoHeight?x._renderrows():"weekView"!=x._views[x._view].type&&"dayView"!=x._views[x._view].type||!t.allDay&&!w?(d=x.getViewStart(),h=De.jqx.scheduler.utilities.getEndOfDay(x.getViewEnd()),x._prepareAppointmentsInView(d,h),x._renderAppointments(d,h)):1<x.tableRows?x._renderrows():(d=x.getViewStart(),h=De.jqx.scheduler.utilities.getEndOfDay(x.getViewEnd()),x._prepareAppointmentsInView(d,h),x._renderAppointments(d,h),(r=x.getMaxAllDayAppointments(x.appointmentsToRender))!=i&&(c=r*(x._defaultRowHeight-2),c=x.isTouchDevice()?Math.max(22+x._defaultRowHeight,17+c):Math.max(3*x._defaultRowHeight,17+c),(1==x.tableRows?De(De(x.table[0].rows[0]).find("td")):De(De(x.table[0].rows[1]).find("td"))).css("height",c+"px"),De(x.oldRow).find("td").css("height",c+"px"),De(x.pinnedTableRow).find("td").css("height",c+"px"),x.pinnedtable.height(c),x._updateScrollbars(x._hostHeight||x.host.height()))),x._removeFeedbackAndStopResize()}var y=t.duration(),w=1<=t.duration().days()||t.allDay;t.isRecurrentAppointment()?s(!1,t):s(null,t)},_handleDayWeekViewResize:function(e,t,i,s,r){var n=this,o=(n._views[n._view].type,n._views[n._view]);if(1<=r.duration().days()||r.allDay||i.getAttribute("data-end-date")){function a(e){return!(e<n.cellWidth-10)}var o=o.appointmentsRenderMode&&"exactTime"==o.appointmentsRenderMode;if(r.allDay||!o)n.leftResize?(n._lastResizeX||(n._lastResizeX=n.mouseDownPosition.left),e>n._lastResizeX+De(i).width()/2?a(I=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-s.left-n.cellWidth)&&(n.feedback.css("left",5+s.left+n.cellWidth),n.feedback.width(I-5),n.feedback.hide(),n.pinnedfeedback.css("left",5+s.left+n.cellWidth),n.pinnedfeedback.width(I-5),n._lastResizeX=n.pinnedfeedback.coord().left,n.rtl?n.resizeTo=De.jqx.scheduler.utilities.getEndOfDay(new De.jqx.date(i.getAttribute("data-date"),n.timeZone)).addDays(-1):n.resizeFrom=new De.jqx.date(i.getAttribute("data-date"),n.timeZone).addDays(1)):e<n._lastResizeX-De(i).width()/2&&a(I=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-s.left)&&(n.feedback.css("left",5+s.left),n.feedback.width(I-5),n.feedback.hide(),n.pinnedfeedback.css("left",5+s.left),n.pinnedfeedback.width(I-5),n._lastResizeX=n.pinnedfeedback.coord().left,n.rtl?n.resizeTo=De.jqx.scheduler.utilities.getEndOfDay(new De.jqx.date(i.getAttribute("data-date"),n.timeZone)):n.resizeFrom=new De.jqx.date(i.getAttribute("data-date"),n.timeZone))):n.rightResize&&(n._lastResizeX||(n._lastResizeX=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left),o=De(i).width()/2,e>n._lastResizeX+o?(S=De(i).width()+s.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left,a(I=n.selectedAppointmentTableBounds.width+S)&&(n.feedback.hide(),n.feedback.width(I-6),n.feedback.css("left",5+s.left),n.pinnedfeedback.width(I-6),n._lastResizeX=n.selectedAppointmentTableBounds.width+S+n.pinnedfeedback.coord().left,n.rtl?n.resizeFrom=new De.jqx.date(i.getAttribute("data-date"),n.timeZone):n.resizeTo=De.jqx.scheduler.utilities.getEndOfDay(new De.jqx.date(i.getAttribute("data-date"),n.timeZone)))):e<n._lastResizeX-o&&(S=s.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left,a(I=n.selectedAppointmentTableBounds.width+S)&&(n.feedback.hide(),n.feedback.css("left",5+s.left),n.feedback.width(I-6),n.pinnedfeedback.width(I-6),n._lastResizeX=n.selectedAppointmentTableBounds.width+S+n.pinnedfeedback.coord().left,n.rtl?n.resizeFrom=new De.jqx.date(i.getAttribute("data-date"),n.timeZone).addDays(1):n.resizeTo=De.jqx.scheduler.utilities.getEndOfDay(new De.jqx.date(i.getAttribute("data-date"),n.timeZone).addDays(-1)))));else{for(var l=new Array,d=new Array,h=-1,c=-1,u=this.host.coord().left,p=0,o=n.hScrollInstance.value,m=(n.rtl&&(o=n.hScrollInstance.max-n.hScrollInstance.value),e+(o="hidden"==n.hScrollBar[0].style.visibility?0:o)-u),u=0,g=0;g<this.columns.records.length;g++)!this.columns.records[g].timeColumn||n.rtl||(u+=this.columns.records[g].width,p++);for(var f=n.getViewStart(),v=n.getViewEnd(),g=0;g<this._getColumnsLengthPerView();g++){var x=this.columns.records[g+p].width;n.leftResize?(n.rtl||(l.push(u),d.push(f.addDays(g)),(0!=r.from.hour()||0==r.from.hour()&&0!=r.from.minute())&&u<n.selectedAppointmentTableBounds.left&&u+x>n.selectedAppointmentTableBounds.left&&(l.push(n.selectedAppointmentTableBounds.left),d.push(r.from),h=l.length-1),(23!=r.to.hour()||23==r.to.hour()&&59!=r.to.minute())&&u<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&u+x>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(l.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),d.push(r.to),c=l.length-1)),n.rtl&&(l.push(u),d.push(v.addDays(-g-1)),(0!=r.from.hour()||0==r.from.hour()&&0!=r.from.minute())&&u<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&u+x>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(l.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),d.push(r.from),h=l.length-1),(23!=r.to.hour()||23==r.to.hour()&&59!=r.to.minute())&&u<n.selectedAppointmentTableBounds.left&&u+x>n.selectedAppointmentTableBounds.left&&(l.push(n.selectedAppointmentTableBounds.left),d.push(r.to),c=l.length-1)),u+=x):n.rtl?((0!=r.from.hour()||0==r.from.hour()&&0!=r.from.minute())&&u<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&u+x>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(l.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),d.push(r.from),h=l.length-1),(23!=r.to.hour()||23==r.to.hour()&&59!=r.to.minute())&&u<n.selectedAppointmentTableBounds.left&&u+x>n.selectedAppointmentTableBounds.left&&(l.push(n.selectedAppointmentTableBounds.left),d.push(r.to),c=l.length-1),u+=x,l.push(u),d.push(v.addDays(-g-1))):((0!=r.from.hour()||0==r.from.hour()&&0!=r.from.minute())&&u<n.selectedAppointmentTableBounds.left&&u+x>n.selectedAppointmentTableBounds.left&&(l.push(n.selectedAppointmentTableBounds.left),d.push(r.from),h=l.length-1),(23!=r.to.hour()||23==r.to.hour()&&59!=r.to.minute())&&u<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&u+x>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(l.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),d.push(r.to),c=l.length-1),u+=x,l.push(u),d.push(f.addDays(g)))}if(n.leftResize){for(g=0;g<l.length;g++){var y,s=l[g];_=(_=l[g+1])||s,(g<l.length-1?s<=m&&m<=_:s<=m)&&(x=-s+n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width,q=n.pinnedfeedback.width(),y=n.pinnedfeedback.css("left"),j=n.resizeTo,T=n.resizeFrom,0<x&&(n.pinnedfeedback.css("left",s),n.pinnedfeedback.width(x),g==h?n.rtl?n.resizeTo=r.from:n.resizeFrom=r.from:g==c?n.rtl?n.resizeTo=r.to:n.resizeFrom=r.to:n.rtl?n.resizeTo=De.jqx.scheduler.utilities.getEndOfDay(d[g]):n.resizeFrom=d[g]))}var w=n.resizeFrom,b=n.resizeTo;n.rtl?w=r.from:b=r.to,new De.jqx.timeSpan(1e4*(b-w)).days()<1&&(n.pinnedfeedback.css("left",y),n.pinnedfeedback.width(q),n.resizeFrom=T,n.resizeTo=j)}else if(n.rightResize){for(g=0;g<l.length;g++){var _,s=l[g];if(_=(_=l[g+1])||s,g<l.length-1?e>=s-this.cellWidth/3&&e<=_-this.cellWidth/3:e>=s-this.cellWidth/3){var x=s-n.selectedAppointmentTableBounds.left-15,q=n.pinnedfeedback.width(),j=(n.pinnedfeedback.width(x),n.resizeTo),T=n.resizeFrom;if(g==h){n.rtl?n.resizeFrom=r.from:n.resizeTo=r.from;x=s-n.selectedAppointmentTableBounds.left-9;n.pinnedfeedback.width(x);break}if(g==c){n.rtl?n.resizeFrom=r.to:n.resizeTo=r.to;x=s-n.selectedAppointmentTableBounds.left-9;n.pinnedfeedback.width(x);break}n.rtl?n.resizeFrom=d[g]:n.resizeTo=De.jqx.scheduler.utilities.getEndOfDay(d[g]);break}}w=n.resizeFrom,b=n.resizeTo;n.rtl?b=r.to:w=r.from,new De.jqx.timeSpan(1e4*(b-w)).days()<1&&(n.pinnedfeedback.width(q),n.resizeFrom=T,n.resizeTo=j)}}}else{function C(e){return!(e<10)}var S,k,I=n.findCell(n.feedback.coord().left,t);n.topResize?(n._lastResizeY||(n._lastResizeY=n.mouseDownPosition.top),t>n._lastResizeY+De(i).height()/2?C(k=n.selectedAppointmentTableBounds.height+n.selectedAppointmentTableBounds.top-s.top-De(i).height()-3)&&(n.feedback.css("top",2+s.top+De(i).height()),n.feedback.height(k),n._lastResizeY=n.feedback.coord().top,o=new De.jqx.date(I.getAttribute("data-date"),n.timeZone),n.resizeFrom=o.addMinutes(n.getMinutesPerScale())):t<n._lastResizeY-De(i).height()/2&&C(k=n.selectedAppointmentTableBounds.height+n.selectedAppointmentTableBounds.top-s.top-3)&&(n.feedback.css("top",2+s.top),n.feedback.height(k),n._lastResizeY=n.feedback.coord().top,n.resizeFrom=new De.jqx.date(I.getAttribute("data-date"),n.timeZone))):n.bottomResize&&(n._lastResizeY||(n._lastResizeY=n.mouseDownPosition.top),t>n._lastResizeY+De(i).height()/2?(S=-5+De(i).height()+s.top-n.selectedAppointmentTableBounds.height-n.selectedAppointmentTableBounds.top,C(k=n.selectedAppointmentTableBounds.height+S)&&(n.feedback.height(k),n._lastResizeY=n.selectedAppointmentTableBounds.height+S+n.feedback.coord().top,n.resizeTo=new De.jqx.date(I.getAttribute("data-date"),n.timeZone).addMinutes(n.getMinutesPerScale()))):t<n._lastResizeY-De(i).height()/2&&(S=-5+s.top-n.selectedAppointmentTableBounds.height-n.selectedAppointmentTableBounds.top,C(k=n.selectedAppointmentTableBounds.height+S)&&(n.feedback.height(k),n._lastResizeY=n.selectedAppointmentTableBounds.height+S+n.feedback.coord().top,n.resizeTo=new De.jqx.date(I.getAttribute("data-date"),n.timeZone))))}},_handleTimelineMonthViewResize:function(e,t,i,s,r){function n(e){return!(e<10)}var o,a,l=this,d=(l._views[l._view].type,l._views[l._view],l.findCell(e,l.feedback.coord().top));if(r.allDay)l.leftResize?(l._lastResizeX||(l._lastResizeX=l.mouseDownPosition.left),e>l._lastResizeX+De(i).width()/2?n(a=l.selectedAppointmentTableBounds.width+l.selectedAppointmentTableBounds.left-s.left-De(i).width())&&(l.feedback.css("left",s.left+De(i).width()),l.feedback.width(a),l._lastResizeX=l.feedback.coord().left,l.rtl?l.resizeTo=De.jqx.scheduler.utilities.getEndOfDay(new De.jqx.date(d.getAttribute("data-date"),l.timeZone).addDays(-1)):l.resizeFrom=new De.jqx.date(d.getAttribute("data-date"),l.timeZone).addDays(1)):e<l._lastResizeX-De(i).width()/2&&n(a=l.selectedAppointmentTableBounds.width+l.selectedAppointmentTableBounds.left-s.left)&&(l.feedback.css("left",s.left),l.feedback.width(a),l._lastResizeX=l.feedback.coord().left,l.rtl?l.resizeTo=De.jqx.scheduler.utilities.getEndOfDay(new De.jqx.date(d.getAttribute("data-date"),l.timeZone)):l.resizeFrom=new De.jqx.date(d.getAttribute("data-date"),l.timeZone))):l.rightResize&&(l._lastResizeX||(l._lastResizeX=l.mouseDownPosition.left),e>l._lastResizeX+De(i).width()/2?(o=De(i).width()+s.left-l.selectedAppointmentTableBounds.width-l.selectedAppointmentTableBounds.left,n(a=l.selectedAppointmentTableBounds.width+o-5)&&(l.feedback.width(a),l._lastResizeX=l.selectedAppointmentTableBounds.width+o+l.feedback.coord().left,l.rtl?l.resizeFrom=new De.jqx.date(d.getAttribute("data-date"),l.timeZone):l.resizeTo=De.jqx.scheduler.utilities.getEndOfDay(new De.jqx.date(d.getAttribute("data-date"),l.timeZone)))):e<l._lastResizeX-De(i).width()/2&&(o=s.left-l.selectedAppointmentTableBounds.width-l.selectedAppointmentTableBounds.left,n(a=l.selectedAppointmentTableBounds.width+o-5)&&(l.feedback.width(a),l._lastResizeX=l.selectedAppointmentTableBounds.width+o+l.feedback.coord().left,l.rtl?l.resizeFrom=new De.jqx.date(d.getAttribute("data-date"),l.timeZone).addDays(1):l.resizeTo=De.jqx.scheduler.utilities.getEndOfDay(new De.jqx.date(d.getAttribute("data-date"),l.timeZone).addDays(-1)))));else{for(var h=new Array,c=new Array,u=-1,p=-1,m=this.host.coord().left,g=0,f=0;f<this.columns.records.length;f++)this.columns.records[f].timeColumn&&(m+=this.columns.records[f].width,g++);for(var i=l.hScrollInstance.value,v=(l.rtl&&(i=l.hScrollInstance.max-l.hScrollInstance.value),e+(i="hidden"==l.hScrollBar[0].style.visibility?0:i)-m),m=0,x=l.getViewStart(),y=l.getViewEnd(),f=(this._getColumnsLengthPerView(),0);f<this._getColumnsLengthPerView();f++){var w=this.columns.records[f+g].width;l.leftResize?(h.push(m),l.rtl?c.push(y.addDays(-f)):c.push(x.addDays(f)),(0!=r.from.hour()||0==r.from.hour()&&0!=r.from.minute())&&m<l.selectedAppointmentTableBounds.left&&m+w>l.selectedAppointmentTableBounds.left&&(h.push(l.selectedAppointmentTableBounds.left),c.push(r.from),u=h.length-1),(23!=r.to.hour()||23==r.to.hour()&&59!=r.to.minute())&&m<l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width&&m+w>l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width&&(h.push(l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width+8),c.push(r.to),p=h.length-1),m+=w):((0!=r.from.hour()||0==r.from.hour()&&0!=r.from.minute())&&m<l.selectedAppointmentTableBounds.left&&m+w>l.selectedAppointmentTableBounds.left&&(h.push(l.selectedAppointmentTableBounds.left),c.push(r.from),u=h.length-1),(23!=r.to.hour()||23==r.to.hour()&&59!=r.to.minute())&&m<l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width&&m+w>l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width&&(h.push(l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width),c.push(r.to),p=h.length-1),m+=w,h.push(m),l.rtl?c.push(y.addDays(-f-1)):c.push(x.addDays(f)))}if(l.leftResize){for(f=0;f<h.length;f++){var b,_=h[f];T=(T=h[f+1])||_,(f<h.length-1?_<=v&&v<=T:_<=v)&&(w=-_+l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width,C=l.feedback.width(),b=l.feedback.css("left"),S=l.resizeTo,k=l.resizeFrom,l.feedback.css("left",_),l.feedback.width(w),f==u?l.rtl?l.resizeTo=r.from:l.resizeFrom=r.from:f==p?l.rtl?l.resizeTo=r.to:l.resizeFrom=r.to:l.rtl?l.resizeTo=c[f]:l.resizeFrom=c[f])}var q=l.resizeFrom,j=l.resizeTo;l.rtl?q=r.from:j=r.to,new De.jqx.timeSpan(1e4*(j-q));l.feedback.width()<20&&(l.feedback.css("left",b),l.feedback.width(C),l.resizeFrom=k,l.resizeTo=S)}else if(l.rightResize){for(f=0;f<h.length;f++){var T,_=h[f];if(T=(T=h[f+1])||_,f<h.length-1?v>=_-this.cellWidth/3&&v<=T-this.cellWidth/3:v>=_-this.cellWidth/3){var w=_-l.selectedAppointmentTableBounds.left-12,C=l.feedback.width(),S=(l.feedback.width(w),l.resizeTo),k=l.resizeFrom;if(f==u){l.rtl?l.resizeFrom=r.from:l.resizeTo=r.from;w=_-l.selectedAppointmentTableBounds.left;l.feedback.width(w);break}if(f==p){l.rtl?l.resizeFrom=r.to:l.resizeTo=r.to;w=_-l.selectedAppointmentTableBounds.left;l.feedback.width(w);break}l.rtl?l.resizeFrom=c[f]:l.resizeTo=De.jqx.scheduler.utilities.getEndOfDay(c[f]);break}}q=l.resizeFrom,j=l.resizeTo,l.rtl?j=r.to:q=r.from,new De.jqx.timeSpan(1e4*(j-q));l.feedback.width()<20&&(l.feedback.width(C),l.resizeFrom=k,l.resizeTo=S)}}},_handleMonthViewResize:function(e,t,i,s,r){var n=this;if(n.selectedJQXAppointment){n._views[n._view].type;var o=n._views[n._view],a=-5;1<n.tableColumns&&(a=parseInt(-5/n.tableColumns));for(var l=0;l<n.columns.records.length/n.tableColumns;l++)n.columns.records[l].timeColumn||(a+=n.columns.records[l].width);var d=n.selectedJQXAppointment.resourceId,h=n._resources.indexOf(d),c="0px",u=(-1!=(h=n.resources&&"none"==n.resources.orientation?-1:h)&&1==n.tableRows&&(c=a*h+"px"),!o.showWeekNumbers||n.rtl||(c=parseInt(c)+n.columns.records[0].width+"px"),i.offsetWidth),p=(i.offsetHeight,18);n.isTouchDevice()&&(p=2);for(l=0;l<6;l++)n.feedbacks[l][0].style.left=c,n.feedbacks[l][0].style.width=a+"px",n.feedbacks[l][0].style.display="block",n.feedbacks[l][0].style.top=parseInt(n.rows[l].top)+p+"px",1<n.tableRows&&(n.feedbacks[l][0].style.top=parseInt(n.rows[6*h+l].top)+p+"px"),De(n.feedbacks[l][0]).find(".jqx-scheduler-appointment-resize-indicator").css("visibility","inherit");var m=n.selectedJQXAppointment.elements,d=(m[0].cells[0].cell,m[m.length-1]),g=d.lastCellY,f=d.lastCellX,v=m[0].cellY,x=m[0].cellX,y=parseInt(s.top),w=parseInt(s.left);if(n.rtl){if(n.leftResize){for(D=!1,l=0;l<6;l++){_=n.feedbacks[l],q=parseInt(_[0].style.top)-p,parseInt(_[0].style.left);if(q<y)_[0].style.width=a+"px";else for(j=0;j<m.length;j++)(k=m[j].cellY)==q&&(_[0].style.width=m[j].width+"px",_[0].style.top=m[j].y+"px");C=m[0],S=parseInt(C.x);if(q==v?(_[0].style.left=S+"px",y==v?(_[0].style.left=1+s.left+"px",_[0].style.width=-1+C.x+C.width-s.left+"px",s.left>C.x+C.width&&(_[0].style.width=C.width+"px",_[0].style.left=C.x+"px"),"exactTime"!=o.appointmentsRenderMode||n.selectedJQXAppointment.allDay||e-(P=n.host.coord().left)>=C.x-10&&e-P<=C.cellX+n.cellWidth&&(_[0].style.width=C.width+"px",_[0].style.left=C.x+"px",D=!0)):y<v?(_[0].style.left=S+"px",_[0].style.width=C.width+"px"):v<y&&(_[0].style.left=c,_[0].style.width=C.x+C.width-parseInt(c)+"px")):q==y&&(_[0].style.width=a-s.left+parseInt(c)+"px",_[0].style.left=s.left+"px"),q<v&&(_[0].style.display="none"),y<q&&(_[0].style.display="none"),y<v)for(j=0;j<m.length;j++)(k=m[j].cellY)==q&&(_[0].style.display="block",_[0].style.width=m[j].width+"px",_[0].style.left=m[j].x+"px");if(y==v)for(j=0;j<m.length;j++){k=m[j].cellY;(y<v||y==v)&&k==q&&v!=g&&(_[0].style.left=1+s.left+parseInt(c)+"px",1+s.left+parseInt(c)>C.x+C.width&&(_[0].style.left=C.x+"px"),_[0].style.width=-1+C.x+C.width-s.left+"px")}}(I=De.jqx.scheduler.utilities.getEndOfDay(new De.jqx.date(i.getAttribute("data-date"),n.timeZone)))>n.selectedJQXAppointment.from&&!D?n.resizeTo=I:n.resizeTo=n.selectedJQXAppointment.to}else if(n.rightResize){for(b=!1,l=0;l<6;l++){_=n.feedbacks[l],q=parseInt(_[0].style.top)-p,parseInt(_[0].style.left);q<y&&(_[0].style.width=a+"px");for(j=0;j<m.length;j++)(k=m[j].cellY)==q&&(_[0].style.top=m[j].y+"px");C=m[0],S=parseInt(C.x);if(q==v?(_[0].style.left=S+"px",y==v?x<=w?(_[0].style.width=w+u-S-5+"px","exactTime"!=o.appointmentsRenderMode||n.selectedJQXAppointment.allDay||e-(P=n.host.coord().left)>=C.lastCellX&&e-P<=C.x+C.width+15&&(_[0].style.width=C.width+"px",b=!0)):_[0].style.width=C.width+"px":v<y?(_[0].style.left=S+"px",_[0].style.width=C.width+"px"):y<v&&(_[0].style.left=S+"px",_[0].style.width=a-S+parseInt(c)+"px")):q==y&&(_[0].style.width=w+u-5-parseInt(c)+"px"),g<q&&(_[0].style.display="none"),q<y&&(_[0].style.display="none"),g<y)for(j=0;j<m.length;j++)(k=m[j].cellY)==q&&(_[0].style.display="block"),q==g&&(_[0].style.width=m[j].width+"px",_[0].style.left=m[j].x+"px");if(y<=g&&q==g)for(j=0;j<m.length;j++){k=m[j].cellY;q!=y&&k==q&&v!=g?(_[0].style.width=m[j].width+"px",_[0].style.left=m[j].x+"px"):q==y&&k==q&&v!=g&&(_[0].style.left=m[j].x+"px",_[0].style.width=w+u-5-parseInt(c)-m[j].x+"px")}}(I=new De.jqx.date(i.getAttribute("data-date"),n.timeZone))<n.selectedJQXAppointment.to&&!b?n.resizeFrom=I:n.resizeFrom=n.selectedJQXAppointment.from}}else if(n.leftResize){for(var b=!1,l=0;l<6;l++){var _=n.feedbacks[l],q=parseInt(_[0].style.top)-p;parseInt(_[0].style.left);if(q<y){_[0].style.width=a+"px";for(var j=0;j<m.length;j++)(k=m[j].cellY)==q&&(_[0].style.top=m[j].y+"px")}else for(var j=0;j<m.length;j++)(k=m[j].cellY)==q&&(_[0].style.width=m[j].width+"px",_[0].style.top=m[j].y+"px");var T,C=m[0],S=parseInt(C.x);if(q==v?(_[0].style.left=S+"px",y==v?(_[0].style.left=1+s.left+"px",_[0].style.width=-1+C.x+C.width-s.left+"px","exactTime"!=o.appointmentsRenderMode||n.selectedJQXAppointment.allDay||(T=n.cellWidth-(C.x-x),e-(P=n.host.coord().left)>=C.x&&e-P<=C.x+T+2&&(_[0].style.left=S+"px",_[0].style.width=C.width+"px",b=!0))):v<y?(_[0].style.left=S+"px",_[0].style.width=C.width+"px"):y<v&&(_[0].style.left=c,_[0].style.width=C.x+C.width-parseInt(c)+"px")):q==y&&(_[0].style.width=a-s.left+parseInt(c)+"px",_[0].style.left=s.left+"px"),g<q&&(_[0].style.display="none"),q<y&&(_[0].style.display="none"),g<=y)for(var j=0;j<m.length;j++){var k=m[j].cellY;g<y||y==g&&f<w?k==q&&(_[0].style.display="block",_[0].style.width=m[j].width+"px",_[0].style.left=m[j].x+"px"):y==g&&w<=f&&v!=g&&(_[0].style.width=m[j].width-s.left+parseInt(c)+"px")}}(I=new De.jqx.date(i.getAttribute("data-date"),n.timeZone))<n.selectedJQXAppointment.to&&!b?n.resizeFrom=I:n.resizeFrom=n.selectedJQXAppointment.from}else if(n.rightResize){for(var I,D=!1,l=0;l<6;l++){var _=n.feedbacks[l],q=parseInt(_[0].style.top)-p;parseInt(_[0].style.left);q<y&&(_[0].style.width=a+"px");for(var j=0;j<m.length;j++)(k=m[j].cellY)==q&&(_[0].style.top=m[j].y+"px");var P,C=m[0],S=parseInt(C.x);if(q==v?(_[0].style.left=S+"px",y==v?x<=w?(_[0].style.width=w+u-S-5+"px","exactTime"!=o.appointmentsRenderMode||n.selectedJQXAppointment.allDay||f<=e-(P=n.host.coord().left)&&e-P<=C.x+C.width+15&&(_[0].style.width=C.width+"px",D=!0)):_[0].style.width=C.width+"px":y<v?(_[0].style.left=S+"px",_[0].style.width=C.width+"px"):v<y&&(_[0].style.left=S+"px",_[0].style.width=a-S+parseInt(c)+"px")):q==y&&(_[0].style.width=w+u-5-parseInt(c)+"px"),q<v&&(_[0].style.display="none"),y<q&&v<q&&(_[0].style.display="none"),y<=v)for(var j=0;j<m.length;j++){var k=m[j].cellY;(y<v||y==v&&w<x)&&k==q&&(_[0].style.display="block",_[0].style.width=m[j].width+"px")}}(I=De.jqx.scheduler.utilities.getEndOfDay(new De.jqx.date(i.getAttribute("data-date"),n.timeZone)))>n.selectedJQXAppointment.from&&!D?n.resizeTo=I:n.resizeTo=n.selectedJQXAppointment.to}for(var A=new Array,l=0;l<6;l++)"block"==(_=n.feedbacks[l])[0].style.display&&A.push(_);De.each(A,function(e){n.rtl?(0<e&&(De(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"),e<A.length-1&&(De(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden")):(0<e&&(De(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden"),e<A.length-1&&(De(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"))})}},_handleTimelineDayWeekViewResize:function(e,t,i,s,r){function n(e){return!(e<10)}var o,a,l=this,d=(l._views[l._view].type,l._views[l._view],l.getMinutesPerScale()),h=l.findCell(e,l.feedback.coord().top);l.leftResize?(l._lastResizeX||(l._lastResizeX=l.mouseDownPosition.left),e>l._lastResizeX+De(i).width()/2?n(a=l.selectedAppointmentTableBounds.width+l.selectedAppointmentTableBounds.left-s.left-De(i).width())&&(l.feedback.css("left",2+s.left+De(i).width()),l.feedback.width(a),l._lastResizeX=l.feedback.coord().left,l.rtl?l.resizeTo=new De.jqx.date(h.getAttribute("data-date"),l.timeZone):l.resizeFrom=new De.jqx.date(h.getAttribute("data-date"),l.timeZone).addMinutes(d)):e<l._lastResizeX-De(i).width()/2&&n(a=l.selectedAppointmentTableBounds.width+l.selectedAppointmentTableBounds.left-s.left)&&(l.feedback.css("left",2+s.left),l.feedback.width(a),l._lastResizeX=l.feedback.coord().left,l.rtl?l.resizeTo=new De.jqx.date(h.getAttribute("data-date"),l.timeZone).addMinutes(d):l.resizeFrom=new De.jqx.date(h.getAttribute("data-date"),l.timeZone))):l.rightResize&&(l._lastResizeX||(l._lastResizeX=l.mouseDownPosition.left),e>l._lastResizeX+De(i).width()/2?(o=De(i).width()+s.left-l.selectedAppointmentTableBounds.width-l.selectedAppointmentTableBounds.left,n(a=l.selectedAppointmentTableBounds.width+o)&&(l.feedback.width(a),l._lastResizeX=l.selectedAppointmentTableBounds.width+o+l.feedback.coord().left,l.rtl?l.resizeFrom=new De.jqx.date(h.getAttribute("data-date"),l.timeZone):l.resizeTo=new De.jqx.date(h.getAttribute("data-date"),l.timeZone).addMinutes(d))):e<l._lastResizeX-De(i).width()/2&&(o=s.left-l.selectedAppointmentTableBounds.width-l.selectedAppointmentTableBounds.left,n(a=l.selectedAppointmentTableBounds.width+o)&&(l.feedback.width(a),l._lastResizeX=l.selectedAppointmentTableBounds.width+o+l.feedback.coord().left,l.rtl?l.resizeFrom=new De.jqx.date(h.getAttribute("data-date"),l.timeZone).addMinutes(d):l.resizeTo=new De.jqx.date(h.getAttribute("data-date"),l.timeZone))))},_handleResize:function(i,r,e,t,n){var o=this,a=o._views[o._view].type,l=o._views[o._view];"dayView"===a||"weekView"===a?o._handleDayWeekViewResize(i,r,e,t,n):"timelineMonthView"===a?o._handleTimelineMonthViewResize(i,r,e,t,n):"monthView"===a?o._handleMonthViewResize(i,r,e,t,n):"timelineDayView"!==a&&"timelineWeekView"!==a||o._handleTimelineDayWeekViewResize(i,r,e,t,n),"timelineDayView"===a||"timelineMonthView"===a||"timelineWeekView"===a?(clearInterval(o._horizontalIntervalDrag),o._horizontalIntervalDrag=setInterval(function(){var e=o.host.width(),t=o.host.coord().left+25,e=e+t-45;o.rtl?e<i?o.hScrollInstance.setPosition(o.hScrollInstance.value-5):i<t&&o.hScrollInstance.setPosition(o.hScrollInstance.value+5):i<t?o.hScrollInstance.setPosition(o.hScrollInstance.value-5):e<i&&o.hScrollInstance.setPosition(o.hScrollInstance.value+5)},5)):"dayView"!==a&&"weekView"!==a||(clearInterval(o._intervalDrag),o._intervalDrag=setInterval(function(){var e=o.host.height(),t=0,i=(o.columnGroups?t+=o.showHeader?o.columnsheader.height():0:t+=o.showHeader?o.columnsHeight:0,o.showToolbar&&(t+=o.toolbarHeight),e-=t,o.legendHeight),i=(0==o._resources.length&&(i=0),o.showLegend&&(e-=i),t+o.host.coord().top),t=o.showAllDayRow,s=(!l.timeRuler||"dayView"!==a&&"weekView"!==a||null!=l.timeRuler.showAllDayRow&&(t=l.timeRuler.showAllDayRow),1<=n.duration().days()||n.allDay),s=(t&&s?i-=20:t&&o.resizing&&(i+=De(o.table[0].rows[0]).height(),e-=De(o.table[0].rows[0]).height()),i+25),t=e+s-45;r<s?o.vScrollInstance.setPosition(o.vScrollInstance.value-5):t<r&&o.vScrollInstance.setPosition(o.vScrollInstance.value+5)},5)),o.resizing=!0},_startTimers:function(i,a,l){var d=this,h=d.host.coord(),s=0,c=0;"hidden"!=d.hScrollInstance.element.style.visibility&&(clearInterval(d._horizontalIntervalDragVelocity),d._horizontalIntervalDragVelocity=setInterval(function(){40<++s&&(s=40)},100),clearInterval(d._horizontalIntervalDrag),d._horizontalIntervalDrag=setInterval(function(){var e=d._hostWidth,t=h.left+30,e=e+t-60;d.rtl?i<t?d.hScrollInstance.setPosition(d.hScrollInstance.value+10+s):e<i?d.hScrollInstance.setPosition(d.hScrollInstance.value-10-s):s=0:i<t?d.hScrollInstance.setPosition(d.hScrollInstance.value-10-s):e<i?d.hScrollInstance.setPosition(d.hScrollInstance.value+10+s):s=0},10)),"hidden"!=d.vScrollInstance.element.style.visibility&&(clearInterval(d._verticalIntervalDragVelocity),d._verticalIntervalDragVelocity=setInterval(function(){40<++c&&(c=40)},100),clearInterval(d._intervalDrag),d._intervalDrag=setInterval(function(){var e,t=d._hostHeight,i=0,s=(d.columnGroups?i+=d.showHeader?d.columnsheader.height():0:i+=d.showHeader?d.columnsHeight:0,d._views[d._view].type),r=d._views[d._view],n=(d.showToolbar&&(i+=d.toolbarHeight),t-=i,d.showLegend&&0<d._resources.length&&(t-=d.legendHeight),h.top),o=i+n;"dayView"!=s&&"weekView"!=s||(e=d.showAllDayRow,!r.timeRuler||"dayView"!==s&&"weekView"!==s||null!=r.timeRuler.showAllDayRow&&(e=r.timeRuler.showAllDayRow),s=1<=l.duration().days()||l.allDay,e&&s?o-=20:e&&d.resizing&&(o+=De(d.table[0].rows[0]).height()));r=n+t+i-30;a<o+30?d.vScrollInstance.setPosition(d.vScrollInstance.value-10-c):r<a?d.vScrollInstance.setPosition(d.vScrollInstance.value+10+c):c=0},10))},_hoverCell:function(e){return!this.enableHover||(0<this._resources.length&&0<=e.className.indexOf("pinned")||(0<=e.className.indexOf("time-column")||(0<=e.className.indexOf("jqx-scheduler-disabled-cell")||(!(!e||e!=this.hoveredCell)||(!(this.hoveredCell=e)||(this._removeHoveredCell(),(this.hoveredCell=e).className+=" "+this.toTP("jqx-fill-state-hover")+" "+this.toTP("jqx-grid-cell-hover")+" "+this.toTP("jqx-scheduler-cell-hover"),void(e.jqxClassName=e.className)))))))},_removeHoveredCell:function(){var e,t,i=this;i.hoveredCell&&(e=i.hoveredCell,t=(t=(t=(t=e.className).replace(" "+i.toTP("jqx-fill-state-hover"),"")).replace(" "+i.toTP("jqx-grid-cell-hover"),"")).replace(" "+i.toTP("jqx-scheduler-cell-hover"),""),e.className=t,e.jqxClassName=t),i.hoveredCell=null},_addHandlers:function(){var e,j=this,i=(this._mousewheelfunc=this._mousewheelfunc||function(e){return j.wheel(e,j),!1},this.focused=!1),t=(this.addHandler(De(document),"keydown.scheduler"+j.element.id,function(e){i=!1,9===e.keyCode&&e.shiftKey&&!j.focused&&(i=!0)}),this.addHandler(this.host,"focus",function(e){if(!j.focusedCell||j.selectedAppointment||i||De(j.focusedCell).addClass(j.toThemeProperty("jqx-scheduler-cell-focus")),j.focused=!0,i)if(0<j.appointmentsToRender.length){var t=j.appointmentsToRender[j.appointmentsToRender.length-1];j._selectAppointment(t),j._lastSelectedAppointment=t}else if(j.focusedCell){if(j.focusedCell&&-1==j.focusedCell.className.indexOf("-focus"))return j._updateCellsSelection(),!1}else j._updateFocusedCell()}),this.addHandler(this.host,"blur",function(e){if(j.focusedCell)return document.activeElement==j.element||(!!De(document.activeElement).ischildof(j.host)||(De(j.focusedCell).removeClass(j.toThemeProperty("jqx-scheduler-cell-focus")),void(j.focused=!1)))}),this.addHandler(this.host,"dragstart."+this.element.id,function(e){return!1}),this.addHandler(this.host,"selectstart."+this.element.id,function(e){return!!j.enableBrowserSelection||(!(!j.showToolBar||!De(e.target).ischildof(j.toolbar))||(!!(j.rowDetails&&0<De(e.target).parents("[data-role=details]").length)||null!=j.editKey&&void 0))}),this.addHandler(De(window),"jqxReady."+this.element.id,function(){}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.isTouchDevice()),s=(this.vScrollInstance.valueChanged=function(e){j._timer&&clearTimeout(j._timer),t?j.table&&(j.table[0].style.top=0-j.vScrollInstance.value+"px"):j._timer=setTimeout(function(){j.table&&(j.table[0].style.top=0-j.vScrollInstance.value+"px")},1)},this.hScrollInstance.valueChanged=function(e){j._htimer&&clearTimeout(j._htimer),t?j.table&&j._renderhorizontalscroll():j._htimer=setTimeout(function(){j.table&&j._renderhorizontalscroll()},1)},"mousedown"),r=(this.isTouchDevice()&&(s=De.jqx.mobile.getTouchEventName("touchstart"),De.jqx.browser.msie&&De.jqx.browser.version<10&&(s="mousedown")),this.addHandler(this.table,"mouseleave",function(e){j._removeHoveredCell()}),j.isTouchDevice()&&(j.enableHover=!1),"mousemove.scheduler"+this.element.id),n="mouseup.scheduler"+this.element.id,o=(this.isTouchDevice()&&!0!==this.touchMode&&(r=De.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+this.element.id,n=De.jqx.mobile.getTouchEventName("touchend")+".scheduler"+this.element.id),this.addHandler(De(document),r,function(e){var t=e.pageX,i=e.pageY;if(j.isTouchDevice()&&(t=(v=De.jqx.position(e)).left,i=v.top,(isNaN(t)||isNaN(i))&&(t=(v=De.jqx.position(e.originalEvent)).left,i=v.top)),j.disabled||3===e.which)return!0;if(!j.isMouseDown)return!0;if(j.hScrollInstance.isScrolling()||j.vScrollInstance.isScrolling())return!0;if(j._hostWidth){var s=j.host.coord();if(s.left+j._hostWidth<t||t<s.left)return!0;if(s.top+j._hostHeight<i||i<s.top)return!0}if(j.mouseDownPosition&&(3<=Math.abs(j.mouseDownPosition.left-t)&&Math.abs(j.mouseDownPosition.left-t)<=10||3<=Math.abs(j.mouseDownPosition.top-i)&&Math.abs(j.mouseDownPosition.top-i)<=10)&&(j.dragOrResize=!0),j.selectedAppointment&&j.dragOrResize){var r=null;if(j._hasOpenedMenu)return!0;if(j.editRecurrenceDialog.jqxWindow("isOpen"))return!0;var n,s=j._views[j._view].type,o=j._views[j._view],a=!1;if(!(n="td"===e.target.nodeName.toLowerCase()?e.target:j.findCell(t,i)))return!0;if(null!=n.getAttribute("data-time-slot"))return!0;if(0<=n.className.indexOf("jqx-grid-cell-pinned"))return!0;if(!j.feedback){if(!(r=j.getJQXAppointmentByElement(j.selectedAppointment)).draggable&&!r.resizable)return!(r=null);if(j.beginDrag)if(!j.beginDrag(r))return!0;function l(e){c&&e.find(".jqx-scheduler-appointment-resize-indicator").hide(),d.addClass(j.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),e.find(".jqx-scheduler-appointment-duration-status").hide(),e.addClass(j.toTP("jqx-scheduler-feedback-appointment")),e.addClass(j.toTP("jqx-scheduler-feedback-drag-appointment")),c?e.css("z-index",401):e.css("z-index",400)}var d=De('[data-key="'+r.id+'"]'),h=j.selectedAppointment.position(),c=(j.feedback=j.selectedAppointment.clone(!0),j.pinnedfeedback=j.selectedAppointment.clone(!0),!("row-resize"==j.selectedAppointment[0].style.cursor||"col-resize"==j.selectedAppointment[0].style.cursor||j.resizing));if(l(j.feedback),l(j.pinnedfeedback),"monthView"!=j._views[j._view].type||c){if(j.table.append(j.feedback),(1==j.tableRows?j.pinnedtable:j.table).append(j.pinnedfeedback),j.feedback.css("left",h.left),j.feedback.css("top",h.top),j.pinnedfeedback.css("left",h.left),j.pinnedfeedback.css("top",h.top),"monthView"==j._views[j._view].type&&j.isTouchDevice()){j.feedbacks=new Array;for(var u=0;u<6;u++)j.feedbacks.push(j.feedback.clone(!0)),De(j.feedbacks[u]).hide(),j.table.append(De(j.feedbacks[u]))}}else{j.feedbacks=new Array;for(u=0;u<6;u++)j.feedbacks.push(j.feedback.clone(!0)),De(j.feedbacks[u]).hide(),j.table.append(De(j.feedbacks[u]))}}if(j.dragging)if(!1===j.dragging(r,n,j.feedback))return!0;var p,m,g,f,v=De(n).position(),h=(j.endDrag&&(p=j.feedback.css("left"),m=j.feedback.css("top"),g=j.feedback.width(),f=j.feedback.height),(r=r||j.selectedJQXAppointment)||(j.selectAppointment(j.uiappointments[0].id),r=j.selectedJQXAppointment),r.resourceId),h=j._resources.indexOf(h),x=(j.resources&&"none"==j.resources.orientation&&(h=-1),!1),y=j.isTouchDevice();if(y&&!0!==j.touchMode&&null==j._dragCell&&!(j.leftResize||j.rightResize||j.topResize||j.bottomResize||j.resizing))switch(s){case"dayView":case"weekView":(a=1<=r.duration().days()||r.allDay)?(t>=j.selectedAppointmentBounds.left-15&&t<=j.selectedAppointmentBounds.left+15&&(j.leftResize=x=!0),t>=j.selectedAppointmentBounds.left+j.selectedAppointmentBounds.width-15&&t<=j.selectedAppointmentBounds.left+j.selectedAppointmentBounds.width+15&&(j.rightResize=x=!0)):(i>=j.selectedAppointmentBounds.top-15&&i<=j.selectedAppointmentBounds.top+15&&(j.topResize=x=!0),i>=j.selectedAppointmentBounds.top-15+j.selectedAppointmentBounds.height&&i<=j.selectedAppointmentBounds.top+j.selectedAppointmentBounds.height+15&&(j.bottomResize=x=!0));break;default:t>=j.selectedAppointmentBounds.left-15&&t<=j.selectedAppointmentBounds.left+15&&(j.leftResize=x=!0),t>=j.selectedAppointmentBounds.left+j.selectedAppointmentBounds.width-15&&t<=j.selectedAppointmentBounds.left+j.selectedAppointmentBounds.width+15&&(j.rightResize=x=!0)}if(y&&(j.leftResize||j.rightResize||j.topResize||j.bottomResize||j.resizing)||x){if(n.getAttribute("data-view")!=h+1&&0<j._resources.length&&"none"!=j.resources.orientation)return!0;if((q=j._getDateByString(n.getAttribute("data-date")))<j.min.toDate()||q>j.max.toDate())return;j._handleResize(t,i,n,v,r),j._oldResizeTD=n}else if(!y&&"row-resize"==j.selectedAppointment[0].style.cursor||"col-resize"==j.selectedAppointment[0].style.cursor||j.resizing){if(n.getAttribute("data-view")!=h+1&&0<j._resources.length&&j.resources&&"none"!=j.resources.orientation)return!0;if((q=j._getDateByString(n.getAttribute("data-date")))<j.min.toDate()||q>j.max.toDate())return;j._handleResize(t,i,n,v,r),j._oldResizeTD=n}else{if(!r.draggable)return j._removeFeedbackAndStopResize(),!0;if(j._dragCell==n)return j._startTimers(t,i,r),j.isTouchDevice()&&!0!==j.touchMode?(e.stopPropagation(),!1):void 0;if((q=j._getDateByString(n.getAttribute("data-date")))<j.min.toDate()||q>j.max.toDate())return;y=r.duration();if(0<=s.indexOf("month")&&new De.jqx.date(q).add(y)>j.max)return;var w,b,h="hidden"==j.vScrollBar[0].style.visibility?0:6+j.vScrollBar.outerWidth();if(j._dragCell=n,j.feedback[0].style.left=2+v.left+"px",j.feedback[0].style.top=2+v.top+"px","dayView"===s||"weekView"===s){j.pinnedfeedback.css("left",2+v.left),j.pinnedfeedback.css("top",2+v.top);var _=0;if(n.getAttribute("data-end-date")){var q=j.appointmentsMinHeight;j.isTouchDevice()&&(q=j.touchAppointmentsMinHeight),o.appointmentHeight&&(q=o.appointmentHeight),a=1<=r.duration().days()||r.allDay,j.feedback.css("top",2+v.top+q),j.pinnedfeedback.css("top",2+v.top+18),"dayView"==s&&(y=j.selectedAppointment.coord().left-9,j.feedback.css("left",y),j.pinnedfeedback.css("left",y)),a?(j.pinnedfeedback.css("top",r.elements[0].y),_=j.selectedAppointment.width(),2+v.left+_>j.host.width()-h&&(_-=2+v.left+_-j.host.width()+h+6)):_=De(n).width()-4,j.feedback.width(_),j.feedback.height(q),j.pinnedfeedback.width(_),j.pinnedfeedback.height(q),j.feedback.hide(),j.pinnedfeedback.show()}else{j.feedback.show(),j.pinnedfeedback.hide();switch(o.timeRuler&&o.timeRuler.scale){case"sixtyMinutes":case"hour":0;break;case"thirtyMinutes":case"halfHour":0;break;case"fifteenMinutes":case"quarterHour":0;break;case"tenMinutes":0;break;case"fiveMinutes":0}_=De(n).width()-4,j.feedback.width(_),(a=1<=r.duration().days()||r.allDay)?j.feedback.height(De(n).height()-6):j.feedback.height(j.selectedAppointment.height())}j._startTimers(t,i,r)}else"monthView"===s?(j.feedback.css("left",1+v.left),w=j.selectedAppointmentTableBounds,(b=parseInt(w.top))>v.top&&b<v.top+n.offsetHeight?j.feedback.css("top",b+"px"):j.feedback.css("top",j.selectedAppointment.height()+v.top-2),j.isTouchDevice()&&j.feedback.css("top",v.top+2),_=j.selectedAppointment.width(),j.feedback.width(_),j.feedback.height(j.selectedAppointment.height()),j._startTimers(t,i,r)):"timelineDayView"!==s&&"timelineMonthView"!==s&&"timelineWeekView"!==s||(w=j.selectedAppointmentTableBounds,(b=parseInt(w.top))>v.top&&b<v.top+n.offsetHeight&&j.feedback.css("top",b+"px"),j._startTimers(t,i,r))}return j.endDrag?(j.endDrag(r,n,j.feedback)||j.feedback.width(g),j.feedback.height(f),j.feedback.css("top",m),j.feedback.css("left",p),!0):j.isTouchDevice()&&!0!==j.touchMode?(e.stopPropagation(),!1):void 0}}),function(e){if(j.isMouseDown=!1,j.dragOrResize=!1,j.contextMenu&&j.menu&&3!==e.which&&(j.menu.jqxMenu("close"),j._hasOpenedMenu=!1),3===e.which)return!0;j.selectedAppointment&&j.feedback&&(j.editRecurrenceDialog.jqxWindow("isOpen")||j._handleMouseUp(j.selectedJQXAppointment,j._dragCell,j.resizing))});if(this.addHandler(De(document),n,function(e){return o(e)}),!this.isTouchDevice())try{""==document.referrer&&!window.frameElement||null==window.top||window.top==window.self||(e=null,(e=window.parent&&document.referrer?document.referrer:e)&&-1!=e.indexOf(document.location.host)&&j.addHandler(De(window.top.document),"mouseup.jqxscheduler"+j.element.id,function(e){if(!j.disabled)return o(e)}))}catch(e){}this.addHandler(this.host,r,function(e){var t=e.pageX,i=e.pageY;if(j.disabled||3===e.which)return!0;if(j.selectedAppointment&&j.isMouseDown)return!0;if(j.hScrollInstance.isScrolling()||j.vScrollInstance.isScrolling())return!0;if(j._hasOpenedMenu)return!0;if("none"!==j.overlay[0].style.display)return!0;for(var s,r=null,n=(0<=e.target.className.indexOf("jqx-scheduler-appointment")&&-1==e.target.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==e.target.className.indexOf("jqx-scheduler-appointment-content")&&-1==e.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(r=e.target),e.target),o=0;o<4&&n.parentNode;o++)0<=n.className.indexOf("jqx-scheduler-appointment")&&-1==n.className.indexOf("jqx-scheduler-appointment-innter-content")&&-1==n.className.indexOf("jqx-scheduler-appointment-content")&&-1==n.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(r=n),n=n.parentNode;if(r){var a=j._views[j._view].type,l=(j._views[j._view],j.getJQXAppointmentByElement(r));if(l.resizable){var d=l.duration(),d=l.allDay||1<=d.days()||23==d.hours()&&59==d.minutes&&59==d.seconds,h=De(r).coord(),c=De(r).position(),u=(j.selectedAppointmentBounds={top:h.top,left:h.left,width:De(r).width(),height:De(r).height()},j.selectedAppointmentTableBounds={top:c.top,left:c.left,width:De(r).width(),height:De(r).height()},j.selectedAppointmentBounds);if("weekView"==a||"dayView"==a)d?"dayView"!=a?t>=u.left-3&&t<=u.left+6?(r.style.cursor="col-resize",j.leftResize=!0,j.rightResize=!1):t>=u.left+u.width-6&&t<=u.left+u.width+3?(r.style.cursor="col-resize",j.leftResize=!1,j.rightResize=!0):r.style.cursor="pointer":r.style.cursor="pointer":i>=u.top-3&&i<=u.top+6?(r.style.cursor="row-resize",j.topResize=!0,j.bottomResize=!1):i>=u.top+u.height-6&&i<=u.top+u.height+3?(r.style.cursor="row-resize",j.topResize=!1,j.bottomResize=!0):r.style.cursor="pointer";else if("monthView"==a&&1<l.elements.length)for(var p=j.table.coord(),o=0;o<l.elements.length;o++){var m=l.elements[o],u={top:p.top+m.y,left:p.left+m.x,width:m.width,height:m.height};if(0==o&&!j.rtl||o==l.elements.length-1&&j.rtl)if(t>=u.left-3&&t<=u.left+6){if(i>=u.top&&i<=u.top+u.height){r.style.cursor="col-resize",j.leftResize=!0,j.rightResize=!1,j.selectedAppointment=De(r);break}r.style.cursor="pointer"}else r.style.cursor="pointer";else if(o==l.elements.length-1&&!j.rtl||0==o&&j.rtl)if(t>=u.left+u.width-6&&t<=u.left+u.width+3){if(i>=u.top&&i<=u.top+u.height){r.style.cursor="col-resize",j.leftResize=!1,j.rightResize=!0,j.selectedAppointment=De(r);break}r.style.cursor="pointer"}else r.style.cursor="pointer"}else t>=u.left-3&&t<=u.left+6?(r.style.cursor="col-resize",j.leftResize=!0,j.rightResize=!1):t>=u.left+u.width-6&&t<=u.left+u.width+3?(r.style.cursor="col-resize",j.leftResize=!1,j.rightResize=!0):r.style.cursor="pointer"}}if(!j.enableHover)return!0;if(!(s="td"===e.target.nodeName.toLowerCase()?e.target:j.findCell(t,i)))return!0;if(j._removeHoveredCell(),j.renderedRecords&&0===j.renderedRecords.length)return!0;if(j.isMouseDown){if(3<Math.abs(j.mousecaptureposition.left-t)||3<Math.abs(j.mousecaptureposition.top-i)){if(0===j.mousecaptureposition.clickedcell.length)return void(j.selectionarea[0].style.visibility="hidden");j.lastHoveredCell!=s&&(j._selectRangeTimer&&clearTimeout(j._selectRangeTimer),j._selectRangeTimer=setTimeout(function(){"agendaView"!=j._views[j._view].type&&j._selectRange(s,j.mousecaptureposition.clickedcell[0])},1)),j.lastHoveredCell=s}}else if(!r){if(1==j.rows.length&&1==j.rows[0].cells.length)return!0;j._hoverCell(s)}return!0}),this.addHandler(De(document),"keydown.jqxscheduler"+j.element.id,function(e){if(j.focused&&e.ctrlKey&&68==e.keyCode)return!1}),this.addHandler(this.host,"keydown",function(e){return j._handleKey(e)}),De.jqx.browser.msie&&De.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(e){j.table.trigger("mousedown",e)});function a(t){t.target;var e=null;if(j.disabled)return!0;j.menu||3!=t.which||j._initMenu(),j.table.coord();var i=t.pageX,s=t.pageY,e=(De.jqx.browser.msie&&De.jqx.browser.version<9&&arguments&&2==arguments.length&&(i=arguments[1].pageX,s=arguments[1].pageY),j.isTouchDevice()&&(i=(d=De.jqx.position(t)).left,s=d.top,(isNaN(i)||isNaN(s))&&(i=(d=De.jqx.position(t.originalEvent)).left,s=d.top)),j.mouseDown={top:s,left:i},j.findCell(i,s)),r=(e="td"===t.target.nodeName.toLowerCase()?t.target:j.findCell(i,s),j._views[j._view].type),n=j._views[j._view];if("monthView"===r&&n.weekViewNavigation&&e&&e.getAttribute("data-time-slot")&&(p=j._getDateByString(e.getAttribute("data-date")),l=new De.jqx.date(p),j.date=l,j.setView("weekView")),"monthView"===r&&n.dayViewNavigation&&(n=De(e).coord().top,e&&n<=s&&s<=n+16&&(p=j._getDateByString(e.getAttribute("data-date")),l=new De.jqx.date(p),j.date=l,j.setView("dayView"))),"span"===t.target.nodeName.toLowerCase()&&(0<=t.target.className.indexOf("jqx-icon-arrow-down")||0<=t.target.className.indexOf("jqx-icon-close")))return t.target.mousedown&&t.target.mousedown(),!0;function o(e){if(3===t.which&&j.contextMenu&&j.menu){e?j.menu.find("li:first").show():j.menu.find("li:first").hide();e=j.menu.coord();if("block"==j.menu.css("display")&&e.left==t.pageX&&e.top==t.pageY)return j._hasOpenedMenu=!0,t.preventDefault(),t.stopPropagation();j.menuOpening=!0,j.menu.jqxMenu("open",t.pageX,t.pageY),j.menuOpening=!1,j._hasOpenedMenu=!0,t.preventDefault(),t.stopPropagation(),setTimeout(function(){j.menu.jqxMenu("focus")},50)}}function a(){for(var e=0;e<g.length;e++)for(var t=g[e].cells,i=0;i<t.length;i++)t[i].removeAttribute("data-selected")}var l=(n=De(e).parent()).attr("data-key");if(j.mousecaptureposition={left:t.pageX,top:t.pageY,clickedrow:De(n).index(),clickedcell:De(e)},3!==t.which?(j.isMouseDown=!0,j.isMouseDownDate=new Date):j.isMouseDown=!1,j.contextMenu&&j.menu&&3!==t.which&&(j.menu.jqxMenu("close"),j._hasOpenedMenu=!1),(n=0==(n=0<=t.target.className.indexOf("jqx-scheduler-appointment")&&-1==t.target.className.indexOf("jqx-scheduler-appointment-duration-status")&&-1==t.target.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==t.target.className.indexOf("jqx-scheduler-appointment-status")&&-1==t.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&-1==t.target.className.indexOf("jqx-scheduler-appointment-content")?De(t.target):De(t.target).parents(".jqx-scheduler-appointment")).length?null:n)&&-1==n[0].className.indexOf("feedback")){if(0<n.parents(".jqx-scheduler-month-cell-popup").length)return!0;j.mouseDownPosition={top:s,left:i};var s=De(n).coord(),d=(j.selectedAppointmentBounds={top:s.top,left:s.left,width:De(n).width(),height:De(n).height()},De(n).position()),h=(j.selectedAppointmentTableBounds={top:d.top,left:d.left,width:De(n).width(),height:De(n).height()},j._dragStartCell||(j._dragStartCell=j.findCell(s.left,s.top)),j.getJQXAppointmentByElement(n)),c=(j._selectAppointment(h,n,"mouse"),j._raiseEvent("appointmentClick",{appointment:h.boundAppointment}),j.clearSelection(),(new Date).getTime()),u=300;return De.jqx.browser.msie&&De.jqx.browser.version<9&&(u=1e3),j.clickTime||(j.clickTime=new Date),c-j.clickTime.getTime()<u&&j._lastSelectedAppointment&&h.id==j._lastSelectedAppointment.id&&3!=t.which?(h.readOnly||j.editRecurrenceDialog.jqxWindow("isOpen")||j._editDialog&&(!j._editDialog||j._editDialog.jqxWindow("isOpen"))||!1!==j._initDialog(h)&&j._openDialog(),j.mouseDownPosition=null,j.isMouseDown=!1,t.preventDefault&&t.preventDefault(),j._raiseEvent("appointmentDoubleClick",{appointment:h.boundAppointment})):h.readOnly||3!==t.which&&j.focus(),j._lastSelectedAppointment=h,t.preventDefault&&t.preventDefault(),t.stopPropagation(),j.clickTime=new Date,void(h.readOnly||3==t.which&&o(!0))}if(3===t.which?null!==j.getSelection()?o(!1):(j.clearAppointmentsSelection(),e.setAttribute("data-selected","true"),j._lastSelectedCell=e,j.focusedCell=e,j._updateCellsSelection(e),o(!1),m=new De.jqx.date(e.getAttribute("data-date"),j.timeZone),j._raiseEvent("cellClick",{cell:e,date:m})):3!=t.which&&j.clearAppointmentsSelection(),"agendaView"==j.view&&(i=!1,!(n=-1!=t.target.className.indexOf("jqx-scheduler-agenda-appointment"))&&t.target&&t.target.parentNode&&(n=-1!=t.target.parentNode.className.indexOf("jqx-scheduler-agenda-appointment"),i=!0),n&&(n=t.target,i&&(n=t.target.parentNode),h=j.getJQXAppointmentByElement(n),j._selectAppointment(h,n,"mouse"),j._raiseEvent("appointmentClick",{appointment:h.boundAppointment}),c=(new Date).getTime(),u=300,De.jqx.browser.msie&&De.jqx.browser.version<9&&(u=1e3),j.clickTime||(j.clickTime=new Date),c-j.clickTime.getTime()<u&&j._lastSelectedAppointment&&h.id==j._lastSelectedAppointment.id&&3!=t.which&&(h.readOnly||j.editRecurrenceDialog.jqxWindow("isOpen")||j._editDialog&&(!j._editDialog||j._editDialog.jqxWindow("isOpen"))||!1!==j._initDialog(h)&&j._openDialog(),j.mouseDownPosition=null,j.isMouseDown=!1,t.preventDefault&&t.preventDefault(),j._raiseEvent("appointmentDoubleClick",{appointment:h.boundAppointment})),j._lastSelectedAppointment=h,t.preventDefault&&t.preventDefault(),t.stopPropagation(),j.clickTime=new Date,h.readOnly||3==t.which&&o(!0))),void 0!==l&&3!=t.which){j.clickedTD=e;var p,m=new De.jqx.date(e.getAttribute("data-date"),j.timeZone),g=(j.rowinfo[l]&&(c=(new Date).getTime(),u=300,j.clickTime||(j.clickTime=new Date),j.focus(),j._lastSelectedCell&&"true"==j._lastSelectedCell.getAttribute("data-selected")&&"true"===e.getAttribute("data-selected")&&c-j.clickTime.getTime()<u&&(m=new De.jqx.date(e.getAttribute("data-date"),j.timeZone),j._raiseEvent("cellDoubleClick",{cell:e,date:m}),j._initDialog(),j._openDialog(),t.preventDefault&&t.preventDefault())),j.rows);if("true"!=e.getAttribute("data-selected")||t.shiftKey||c-j.clickTime.getTime()>u){if("true"==e.getAttribute("data-time-slot"))return;t.shiftKey||(j.shiftSelectedCell=null),t.shiftKey&&j._lastSelectedCell&&"agendaView"!=r&&(j.shiftSelectedCell||(j.shiftSelectedCell=j._lastSelectedCell),e.getAttribute("data-view")===j.shiftSelectedCell.getAttribute("data-view")&&a(),j._selectRange(e,j.shiftSelectedCell)),t.shiftKey||(a(),(p=j._getDateByString(e.getAttribute("data-date")))>=j.min.toDate()&&p<=j.max.toDate()?e.setAttribute("data-selected","true"):e.setAttribute("data-selected","false")),De('[data-key="'+l+'"]').removeClass(j.toTP("jqx-scheduler-selected-appointment")),j.selectedAppointment=null,(p=j._getDateByString(e.getAttribute("data-date")))>=j.min.toDate()&&p<=j.max.toDate()&&(j._lastSelectedCell=e,j.focusedCell=e),j._updateCellsSelection(e),j.openedMonthCellPopup&&j.openedMonthCellPopup.remove()}j._raiseEvent("cellClick",{cell:e,date:m}),j.clickTime=new Date,t.stopPropagation&&t.stopPropagation()}}this.addHandler(this.pinnedtable,s,function(e){e=a(e);if(null!=e)return e}),this.addHandler(this.table,s,function(e){e=a(e);if(null!=e)return e})},moveAppointment:function(n,o,a,l,d){var h,c,e,u=this,p=l.getAttribute("data-end-date");n&&!u.editRecurrenceDialog.jqxWindow("isOpen")&&(clearInterval(u._verticalIntervalDragVelocity),clearInterval(u._horizontalIntervalDragVelocity),clearInterval(u._intervalDrag),clearInterval(u._horizontalIntervalDrag),h=n.duration(),c=1<=n.duration().days()||n.allDay,e=function(e){if(!d){var t=u._views[u._view].type,i=u._views[u._view],s=o;if(n.from=s,"dayView"===t||"weekView"===t)if(c||p){if(!c&&p)n.to=De.jqx.scheduler.utilities.getEndOfDay(s),n.allDay=!0;else if(c&&p)n.to=s.add(h);else if(c&&!p){var r=30;switch(i.timeRuler&&i.timeRuler.scale){case"sixtyMinutes":case"hour":r=60;break;case"fifteenMinutes":case"quarterHour":r=15;break;case"tenMinutes":r=10;break;case"fiveMinutes":r=5}n.to=s.addMinutes(r),n.allDay=!1}}else n.to=s.add(h),n.allDay=!1;else"monthView"!==t&&"timelineDayView"!==t&&"timelineWeekView"!==t&&"timelineMonthView"!==t||(n.to=s.add(h))}u._saveChangesAfterDragOrResize(e,n,l,d),null!=a&&(n.resourceId=a),u.table.find(".jqx-icon-arrow-down").hide(),n.allDay||c?u._renderrows():(i=u.getViewStart(),t=De.jqx.scheduler.utilities.getEndOfDay(u.getViewEnd()),u._prepareAppointmentsInView(i,t),u._renderAppointments(i,t)),u._raiseEvent("appointmentChange",{appointment:n.boundAppointment}),u.changedAppointments[n.id]={type:"Update",appointment:n.boundAppointment},u._ensureAppointmentVisible(u.selectedJQXAppointment)},n.isRecurrentAppointment()?e(!1):e(null))},getAppointmentProperty:function(e,t){var i=null;if(i=this.appointmentsByKey[e]?this.appointmentsByKey[e].jqxAppointment:i)return i[t]},setAppointmentProperty:function(e,t,i){var s=this,r=null;if(r=this.appointmentsByKey[e]?this.appointmentsByKey[e].jqxAppointment:r)switch(r[t]=i,s.changedAppointments[e]={type:t,appointment:r.boundAppointment},e){case"draggable":case"resizable":break;case"background":case"color":case"borderColor":case"status":case"tooltip":case"subject":case"location":case"description":case"style":var n=s.getViewStart(),o=De.jqx.scheduler.utilities.getEndOfDay(s.getViewEnd());s._prepareAppointmentsInView(n,o),s._renderAppointments(n,o);break;case"hidden":case"timeZone":r.isAllDayAppointment()?s._renderrows():(n=s.getViewStart(),o=De.jqx.scheduler.utilities.getEndOfDay(s.getViewEnd()),s._prepareAppointmentsInView(n,o),s._renderAppointments(n,o));break;default:s._renderrows()}},deleteAppointment:function(e){this.appointmentsByKey[e]&&this._deleteAppointment(this.appointmentsByKey[e].jqxAppointment)},_deleteAppointment:function(e){var t=this;if(e.rootAppointment){if(e.isException()){for(var i=(e.rootAppointment||e).exceptions,s=0;s<i.length;s++)if(i[s].occurrenceFrom.equals(t.editAppointment.occurrenceFrom)){i[s]=e;break}t._raiseEvent("appointmentDelete",{appointment:e.boundAppointment})}else null!=e.rootAppointment?(e.rootAppointment.exceptions.push(t.editAppointment),e.rootAppointment.recurrenceException.push(t.editAppointment.occurrenceFrom)):(e.exceptions.push(t.editAppointment),e.recurrenceException.push(t.editAppointment.occurrenceFrom)),t._raiseEvent("appointmentDelete",{appointment:t.editAppointment.boundAppointment});return e.hidden=!0,void t._renderrows()}t._raiseEvent("appointmentDelete",{appointment:e.boundAppointment});for(var r=e.id,n=(delete t.appointmentsByKey[r],-1),s=0;s<t.appointments.length;s++)if(t.appointments[s]==e.boundAppointment||t.appointments[s].id==e.boundAppointment.id){n=s;break}-1!=n&&t.appointments.splice(n,1);for(n=-1,s=0;s<t.uiappointments.length;s++)if(t.uiappointments[s]==e||t.uiappointments[s].id==e.id){n=s;break}-1!=n&&t.uiappointments.splice(n,1),t.selectedJQXAppointment==e&&(t.clearAppointmentsSelection(),t.uiappointments[n+1]?t.selectAppointment(t.uiappointments[n+1].id):t.uiappointments[n-1]?t.selectAppointment(t.uiappointments[n-1].id):t.uiappointments[0]&&t.selectAppointment(t.uiappointments[0].id)),t.changedAppointments[r]={type:"Delete",appointment:e.boundAppointment},t._renderrows()},addAppointment:function(e){var t=this;if(e.scheduler||(e.scheduler=this),!e.duration)if((e.from||e.to)&&e.appointmentObject){var i=new De.jqx.scheduler.appointment;for(v in e)i[v]=e[v];e=i}else{var s,r=e,n={},o=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"];for(v in t.appointmentDataFields){var a,l=r[w=t.appointmentDataFields[v]];if("from"!=v&&"to"!=v||(l=new De.jqx.date(l)),"style"==v&&l&&(a=t.getAppointmentColors(l),n.color=a.color,n.background=a.background,n.borderColor=a.border),"recurrencePattern"==v&&l&&((l=new De.jqx.scheduler.recurrencePattern(l)).timeZone=r.timeZone||t.timeZone),"recurrenceException"==v){var d=new Array;if(l){0<=l.indexOf("EXDATE:")&&(l=l.substring(l.indexOf("EXDATE:")+7));var h=new Array;0<=l.indexOf(",")?h=l.split(","):h.push(l);for(var c=0;c<h.length;c++){var u,p=h[c];0<=p.indexOf(";")&&(u=p.split(";")[1],p=p.split(";")[0],0<=u.toLowerCase().indexOf("display")&&u.toLowerCase().indexOf("none")&&(n.hidden=!0));try{"Invalid Date"!=(m=De.jqx.scheduler.utilities.untilStringToDate(p))&&(m=n.timeZone?new De.jqx.date(m,n.timeZone):t.timeZone?m.toTimeZone(t.timeZone):new De.jqx.date(m))}catch(e){var m=new De.jqx.date(p,t.timeZone)}d.push(m)}}l=d}n[v]=l}for(s in o)null==n[v=o[s]]&&(l="","originalData"!=v&&("ownerId"==v&&(l=null),"timeZone"==v&&(l=null),"recurrencePattern"==v&&(l=null),"recurrenceException"==v&&(l=null),"allDay"==v&&(l=!1),"draggable"==v&&(l=!0),"resizable"==v&&(l=!0),"hidden"==v&&(l=!1),"resourceId"==v&&(l=null),"from"==v&&(l=new De.jqx.date),"to"==v&&(l=(new De.jqx.date).addHours(1)),n[v]=l));n.originalData=r,n.scheduler=this;e=new De.jqx.scheduler.appointment(n);n.timeZone&&(e.from=e.from.toTimeZone(n.timeZone),e.to=e.to.toTimeZone(n.timeZone)),t.timeZone?(n.timeZone||(e.timeZone=t.timeZone),e.from=e.from.toTimeZone(t.timeZone),e.to=e.to.toTimeZone(t.timeZone)):(e.from=e.from.toTimeZone(null),e.to=e.to.toTimeZone(null))}var g,f,v=t.dataview.generatekey(),x=(e.id=v,t.appointmentsByKey[v]=e,t.appointments.push(e),{}),y={};for(g in t.appointmentDataFields){var w=t.appointmentDataFields[g],l=e[g];x[g]=l,"from"!=g&&"to"!=g||(l=(l.toDate?l:new De.jqx.date(l)).toDate()),y[w]=l}x.originalData=y,((e.boundAppointment=x).jqxAppointment=e).jqxAppointment=e,t._raiseEvent("appointmentAdd",{appointment:e.boundAppointment}),t.uiappointments.push(e),t.changedAppointments[v]={type:"Add",appointment:e.boundAppointment},t.hiddenResources&&t.hiddenResources[e.resourceId]?t.hideAppointmentsByResource(e.resourceId):t._renderrows(),t._selectAppointment(e),t._lastSelectedAppointment=e,t.resources&&(f=e.resourceId,-1===t._resources.indexOf(f)&&(t._resources.push(f),t._renderrows()))},_updateCellsSelection:function(){var e=this,t=e.rows,i=0,s=0;0<i&&e.rtl&&(i=0,s=1);for(var r=0;r<t.length;r++)for(var n=t[r].cells,o=i;o<n.length-s;o++){var a,l=n[o];"true"==l.getAttribute("data-selected")?(0<=(a=l.jqxClassName||l.className).indexOf("jqx-fill-state-pressed")?l!=e.focusedCell?a=(a=a.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""):l==e.focusedCell&&e.focused&&(a=(a=a.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(a+=" "+e.toTP("jqx-scheduler-cell-focus"))):(a=(a=(a=(a=(a=(a=(a=(a=a.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+e.theme,"")).replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+e.theme,"")).replace(" jqx-scheduler-cell-selected","")).replace(" jqx-scheduler-cell-selected-"+e.theme,""),a+=" "+e.toTP("jqx-fill-state-pressed jqx-grid-cell-selected jqx-scheduler-cell-selected"),l==e.focusedCell&&e.focused&&!e.selectedAppointment&&(a+=" "+e.toTP("jqx-scheduler-cell-focus"))),l.className!=a&&(l.className=a),l.jqxClassName=a):-1==(a=l.jqxClassName||l.className).indexOf("jqx-fill-state-pressed")?(l!=e.focusedCell?a=(a=a.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""):l==e.focusedCell&&e.focused&&(a=(a=a.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(a+=" "+e.toTP("jqx-scheduler-cell-focus"))),l.className!=a&&(l.className=a),l.jqxClassName=a):(l==e.focusedCell&&e.focused&&(a=(a=a.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(a+=" "+e.toTP("jqx-scheduler-cell-focus")),l.className!=a&&(l.className=a),l.jqxClassName=a),a=(a=(a=(a=(a=(a=(a=(a=a.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+e.theme,"")).replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+e.theme,"")).replace(" jqx-scheduler-cell-selected","")).replace(" jqx-scheduler-cell-selected-"+e.theme,""),l==e.focusedCell&&e.focused&&!e.selectedAppointment&&(a+=" "+e.toTP("jqx-scheduler-cell-focus")),l.className!=a&&(l.className=a),l.jqxClassName=a,l.removeAttribute("data-selected"))}},_getuikey:function(e,t){var i=null,s=this.table[0].rows,i=De(s[e]).attr("data-key");if(De(s[e]).attr("data-role")){var r=De(s[e]);if("next"==t)for(;r;){r=r.next();if(r)if(!r.attr("data-role"))return i=r.attr("data-key")}else if("prev"==t)for(;r;)if(r=r.prev())if(!r.attr("data-role"))return i=r.attr("data-key");return null}return i},getRows:function(){var e,t,i=this._views[this._view].type,s=this._views[this._view],r="halfHour",n=(s.timeRuler&&s.timeRuler.scale&&(r=s.timeRuler.scale),24),o=this.showAllDayRow,a=(!s.timeRuler||"dayView"!==i&&"weekView"!==i||(e=0,t=23,null!=s.timeRuler.scaleStartHour&&(e=parseInt(s.timeRuler.scaleStartHour)),n=(t=23<(t=(t=null!=s.timeRuler.scaleEndHour?parseInt(s.timeRuler.scaleEndHour):t)<0?23:t)?23:t)-(e=23<(e=e<0?0:e)?0:e)+1,null!=s.timeRuler.showAllDayRow&&(o=s.timeRuler.showAllDayRow)),new Array),l=0;switch(i){case"dayView":case"weekView":default:l=2*n;"hour"===r||"sixtyMinutes"===r?l=n:"quarterHour"===r||"fifteenMinutes"===r?l=4*n:"tenMinutes"===r?l=6*n:"fiveMinutes"===r&&(l=12*n),o&&l++;break;case"monthView":l=6;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":l=1;break;case"agendaView":l=this.appointments?this.appointments.length:0}for(var d=0;d<l;d++)a.push({uid:d});return a},_getDateByString:function(e){if(e&&this._dateByStringCache&&this._dateByStringCache[e])return a=this._dateByStringCache[e],new Date(a.getTime());var t=e.split(" "),i=t[0].split("-"),t=t[1].split(":"),s=parseInt(i[0],10),r=parseInt(i[1],10)-1,i=parseInt(i[2],10),n=parseInt(t[0],10),o=parseInt(t[1],10),t=parseInt(t[2],10),a=new Date(s,r,i,n,o,t);return s<1970&&a.setFullYear(s,r,i),this._dateByStringCache||(this._dateByStringCache=[]),this._dateByStringCache[e]=a},_getCellByDate:function(e,t,i){var s=this.rows;void 0===t&&(t=!1),void 0===i&&this.focusedCell&&(i=this.focusedCell.getAttribute("data-view"));for(var r=0;r<s.length;r++){var n=s[r];if(!n.element.getAttribute("data-group-row"))for(var o=0;o<n.cells.length;o++){var a=n.cells[o];if(null==a.getAttribute("rowspan")&&(a.getAttribute("data-view")===i&&!(a.getAttribute("data-time-slot")||t&&null!=a.getAttribute("data-end-date")))){var l=a.getAttribute("data-date");if(this._getDateByString(l).valueOf()==e.valueOf())return a}}}},_rendercelltexts:function(){var e,t,i;"10208878-FCD1-4EC7-9249-BA0F153A5DE8"!==De.jqx.credits&&(e="www.jqwidgets.com",-1==location.hostname.indexOf(e.substring(4))&&(this._gridRenderElement&&De(this._gridRenderElement).remove(),i=String.fromCharCode(83,80,65,78),t=String.fromCharCode(72,84,84,80,58,47,47),(i=document.createElement(i)).id=De.jqx.utilities.createId(),i.innerHTML=e,i.style.position="absolute",i.style.right="5px",i.style.bottom="5px",i.style.color="#909090",i.style.cursor="pointer",i.style.zIndex="999999",i.style.display="none",i.style.fontSize="9px",i.onmousedown=function(){open(t+e)},this.content[0].appendChild(i),this._gridRenderElement=i))},_handleKey:function(h){if(this._loading)return!0;var m=h.shiftKey,g=h.ctrlKey||h.metaKey,f=this,e=h.charCode||h.keyCode||0;if(f._hasOpenedMenu)return 27==e?f.closeMenu():f.menu.jqxMenu("focus"),!0;if(13===e||f.selectedAppointment&&46==e){if(f.editRecurrenceDialog&&f.editRecurrenceDialog.jqxWindow("isOpen"))return!0;if(f._editDialog&&f._editDialog.jqxWindow("isOpen"))return!0;f.selectedAppointment?(s=f.getJQXAppointmentByElement(f.selectedAppointment)).readOnly||(46==e?!1!==f._initDialog(s,"delete")&&f._openDialog():!1!==f._initDialog(s)&&f._openDialog()):(f._initDialog(),f._openDialog())}if(27===e&&f.dragOrResize)return f.table.find(".jqx-icon-arrow-down").hide(),o=f.getViewStart(),a=De.jqx.scheduler.utilities.getEndOfDay(f.getViewEnd()),f._prepareAppointmentsInView(o,a),f._renderAppointments(o,a),f._removeFeedbackAndStopResize(),!1;function t(e){var t=f.selectedAppointment,i=(t=f.getJQXAppointmentByElement(t)).elements[0].cells[0].cell,s=t.elements[t.elements.length-1].cells[t.elements[t.elements.length-1].cells.length-1].cell,r=f.rows[f.rows.length-1].cells[f.rows[f.rows.length-1].cells.length-1],n=f._views[f._view].type,o=(f._views[f._view],i=!m&&(g||"down"!=e&&"right"!=e)?i:s);switch(e){case"left":0<(l=(d=f.rowByCell[i.getAttribute("data-key")]).indexOf(i))&&!m?o=d.cells[l-1]:"monthView"!=n||m||(a=d.aboveRow)&&(o=a.cells[a.cells.length-1]);break;case"right":(l=(d=f.rowByCell[i.getAttribute("data-key")]).indexOf(i))<d.cells.length-1?o=d.cells[l+1]:"monthView"==n&&(h=d.belowRow)&&(o=h.cells[0]),"monthView"==n&&!m&&g&&s==r&&(o=i);break;case"up":var a,l=(d=f.rowByCell[i.getAttribute("data-key")]).indexOf(i);(a=d.aboveRow)&&!m&&(o=a.cells[l]);break;case"down":var d,h,l=(d=f.rowByCell[i.getAttribute("data-key")]).indexOf(i);(h=d.belowRow)&&(o=h.cells[l])}var c,u=o.getAttribute("data-date"),u=new De.jqx.date(u,f.timeZone),n=De(o).attr("data-view"),p=f._resources[parseInt(n)-1];m?(n=f._views[f._view].type,f._views[f._view],c=!1,"dayView"===n||"weekView"===n?i.getAttribute("data-end-date")?"left"==e&&(1<t.elements[0].cells.length||f.rtl)?(f.rtl?t.to=De.jqx.scheduler.utilities.getEndOfDay(u.addDays(1)):t.to=De.jqx.scheduler.utilities.getEndOfDay(u.addDays(-1)),c=!0):"right"==e&&((!f.rtl||f.rtl&&1<t.elements[0].cells.length)&&(t.to=De.jqx.scheduler.utilities.getEndOfDay(u)),c=!0):"up"==e&&1<t.elements[0].cells.length?(t.to=u,c=!0):"down"==e&&(t.to=u.addMinutes(f.getMinutesPerScale()),c=!0):0<=n.indexOf("month")?"left"==e&&(1<t.elements[0].cells.length||1<t.elements.length)?(t.to=De.jqx.scheduler.utilities.getEndOfDay(u.addDays(-1)),c=!0):"right"==e&&(t.to=De.jqx.scheduler.utilities.getEndOfDay(u),c=!0):!f.rtl&&"left"==e&&1<t.elements[0].cells.length||f.rtl&&"right"==e&&1<t.elements[0].cells.length?(t.to=u,f.rtl&&(t.to=u.addMinutes(f.getMinutesPerScale())),c=!0):(!f.rtl&&"right"==e||f.rtl&&"left"==e)&&(t.to=u.addMinutes(f.getMinutesPerScale()),f.rtl&&(t.to=t.to.addMinutes(f.getMinutesPerScale())),c=!0),c&&f.moveAppointment(t,u,p,o,!0)):g?f.moveAppointment(t,u,p,o):(f.clearAppointmentsSelection(),f.selectCell(u,"down"==e?!1:!0,n),f._ensureVisible(o)),f.selectedAppointment&&(f.selectedAppointment.removeClass(f.toTP("jqx-scheduler-selected-appointment")),c=f.selectedAppointment.attr("data-key"),De('[data-key="'+c+'"]').addClass(f.toTP("jqx-scheduler-selected-appointment")),f.clearSelection())}if(h.altKey&&f._resourcesElements&&f._resources&&0<f._resources.length){var i=49<=e&&e<=58?e-48:-1;if(1<=i)return De.each(f._resources,function(e,t){if(e==i-1)return e=t,"on"==f._resourcesElements.bottom[e].attr("data-toggle")?f.hideAppointmentsByResource(e):f.showAppointmentsByResource(e),!1}),!1}if(h.ctrlKey){if(!f.selectedAppointment){if(37==e)return f.toolbarLeftButton.trigger("click"),f._ensureVisible(f.focusedCell),!1;if(39==e)return f.toolbarRightButton.trigger("click"),f._ensureVisible(f.focusedCell),!1}if(49==e)return f._setView(0),!1;if(50==e)return f._setView(1),!1;if(51==e)return f._setView(2),!1;if(52==e)return f._setView(3),!1;if(53==e)return f._setView(4),!1;if(54==e)return f._setView(5),!1;if(68==e)return f.dateTimeInput.jqxDateTimeInput("open"),!1;if(77==e)return f.openMenu(),!1}if(9==e)if(h.shiftKey)if(f.selectedAppointment){f.clearSelection();var s,r,n=f.selectedAppointment;if(s=f.getJQXAppointmentByElement(n))return 0<(r=f.tabKeyAppointments.indexOf(s))?(s=f.tabKeyAppointments[r-1],f._selectAppointment(s),f._lastSelectedAppointment=s,f._ensureAppointmentVisible(s),!1):(f.clearAppointmentsSelection(),f.focusedCell?!f.focusedCell||-1!=f.focusedCell.className.indexOf("-focus")||(f._updateCellsSelection(),f._ensureVisible(f.focusedCell),!1):(f._updateFocusedCell(),f._ensureVisible(f.focusedCell),!1))}else if(f.focusedCell){if(f.focusedCell&&-1==f.focusedCell.className.indexOf("-focus"))return f._updateCellsSelection(),f._ensureVisible(f.focusedCell),!1}else f._updateFocusedCell(),f._ensureVisible(f.focusedCell);else{if(f.selectedAppointment)return f.clearSelection(),n=f.selectedAppointment,s=f.getJQXAppointmentByElement(n),(r=f.tabKeyAppointments.indexOf(s))<f.tabKeyAppointments.length-1?(s=f.tabKeyAppointments[r+1],f._selectAppointment(s),f._lastSelectedAppointment=s,f._ensureAppointmentVisible(s),!1):(f.clearAppointmentsSelection(),!0);if(s=f.tabKeyAppointments[0])return f._selectAppointment(s),f._lastSelectedAppointment=s,f._ensureAppointmentVisible(s),!1;if(!f.focusedCell)return f._updateFocusedCell(),f._ensureVisible(f.focusedCell),!1;if(f.focusedCell&&-1==f.focusedCell.className.indexOf("-focus"))return f._updateCellsSelection(),f._ensureVisible(f.focusedCell),!1}if(f.selectedAppointment)return 37==e?t("left"):38==e?t("up"):40==e?t("down"):39==e&&t("right"),!(37<=e&&e<=40)&&void 0;var c,o,u,a,p=this._lastSelectedCell;if(p)return De(this._lastSelectedCell).parent()[0]||(this._lastSelectedCell=this.rows[0].cells[0],p=this._lastSelectedCell),this.rows,c=this._views[this._view].type,o=this._views[this._view],u="halfHour",o.timeRuler&&o.timeRuler.scale&&(u=o.timeRuler.scale),a=function(e,t){switch(u){case"sixtyMinutes":case"hour":0;break;case"thirtyMinutes":case"halfHour":0;break;case"fifteenMinutes":case"quarterHour":0;break;case"tenMinutes":0;break;case"fiveMinutes":0}function i(e,t,i){if(e&&(null==e.getAttribute("rowspan")||"agendaView"==c)&&null==e.getAttribute("data-time-slot")&&!(i<f.min||i>f.max)){var s=f.rows,i=f._lastSelectedCell;if(f._lastSelectedCell=e,h.shiftKey&&f._lastSelectedCell?f.shiftSelectedCell||(f.shiftSelectedCell=p):h.shiftKey||(f.shiftSelectedCell=null),f.shiftSelectedCell)(!e.getAttribute("data-end-date")||!f.shiftSelectedCell.getAttribute("data-end-date"))&&(e.getAttribute("data-end-date")||f.shiftSelectedCell.getAttribute("data-end-date"))?(f.focusedCell=i,f._lastSelectedCell=i):(f.focusedCell=e,f._selectRange(e,f.shiftSelectedCell));else{for(var r=0;r<s.length;r++){var n=s[r];if(!n.element.getAttribute("data-group-row"))for(var o=0;o<n.cells.length;o++)n.cells[o].removeAttribute("data-selected","false")}e.setAttribute("data-selected","true"),f.focusedCell=e}f._ensureVisible(f.focusedCell)}}var s=e.getAttribute("data-date");new De.jqx.date(s,f.timeZone),e.getAttribute("data-view");switch(t){case"left":0<(r=(d=f.rowByCell[e.getAttribute("data-key")]).indexOf(e))&&(o=d.cells[r-1],l=new De.jqx.date(o.getAttribute("data-date"),f.timeZone)),i(o,0,l);break;case"right":(r=(d=f.rowByCell[e.getAttribute("data-key")]).indexOf(e))<d.cells.length-1&&(o=d.cells[r+1],l=new De.jqx.date(o.getAttribute("data-date"),f.timeZone)),i(o,0,l);break;case"up":var r=(d=f.rowByCell[e.getAttribute("data-key")]).indexOf(e),n=d.aboveRow;if(n){var o=n.cells[r];if(0==r&&o.getAttribute("rowspan"))for(var a=-1+f.rows.indexOf(d),o=e;0<=a;){if(f.rows[a].cells[0]!=o){o=f.rows[a].cells[0];break}a--}var l=new De.jqx.date(o.getAttribute("data-date"),f.timeZone);i(o,0,l)}break;case"down":var r=(d=f.rowByCell[e.getAttribute("data-key")]).indexOf(e),n=d.belowRow;if(n){o=n.cells[r];if(0==r&&o.getAttribute("rowspan"))for(a=1+f.rows.indexOf(d),o=e;a<f.rows.length;){if(f.rows[a].cells[0]!=o){o=f.rows[a].cells[0];break}a++}l=new De.jqx.date(o.getAttribute("data-date"),f.timeZone);i(o,0,l)}break;case"home":r=(d=f.rowByCell[e.getAttribute("data-key")]).indexOf(e),o=f.rows[0].cells[r],l=new De.jqx.date(o.getAttribute("data-date"),f.timeZone);i(o,0,l);break;case"end":var d,r=(d=f.rowByCell[e.getAttribute("data-key")]).indexOf(e),o=f.rows[f.rows.length-1].cells[r],l=new De.jqx.date(o.getAttribute("data-date"),f.timeZone);i(o,0,l)}f._updateCellsSelection()},36==e||g&&38==e?(a(p,"home"),!1):35==e||g&&40==e?(a(p,"end"),!1):37==e?(f.selectedAppointment?t(p):a(p,"left"),!1):38==e?(f.selectedAppointment?t(p):a(p,"up"),!1):40==e?(f.selectedAppointment?t(p):a(p,"down"),!1):39==e?(f.selectedAppointment?t(p):a(p,"right"),!1):void 0},getSelectedCells:function(){for(var i=this,e=i.rows,t=e.length,s=new Array,r=0;r<t;r++)for(var n=e[r].cells,o=0;o<n.length;o++)n[o].getAttribute("data-selected")&&s.push(n[o]);return s.sort(function(e,t){return i._sortByDate(e,t)})},getSelection:function(){var e=this,t=e.getSelectedCells();if(0==t.length)return null;var i=t[0].getAttribute("data-date"),s=t[t.length-1].getAttribute("data-date"),r=e.getMinutesPerScale(),n=(0<=(n=e._views[e._view].type).toLowerCase().indexOf("month")&&(r=0),t[0].getAttribute("data-end-date")&&(r=0),s=new De.jqx.date(s,e.timeZone).addMinutes(r),parseInt(t[0].getAttribute("data-view"))-1),r=e._resources[n];return 0<=e._views[e._view].type.toLowerCase().indexOf("month")?{from:new De.jqx.date(i,e.timeZone),to:De.jqx.scheduler.utilities.getEndOfDay(s),resourceId:r}:0<=e._views[e._view].type.toLowerCase().indexOf("day")||0<=e._views[e._view].type.toLowerCase().indexOf("week")?(i=new De.jqx.date(i,e.timeZone),0===s.minute()&&0===s.hour()&&0===i.hour()&&0===i.minute()?s.day()===i.day()?{from:new De.jqx.date(i,e.timeZone),to:De.jqx.scheduler.utilities.getEndOfDay(s),resourceId:r}:{from:new De.jqx.date(i,e.timeZone),to:De.jqx.scheduler.utilities.getEndOfDay(s).addDays(-1),resourceId:r}:{from:new De.jqx.date(i,e.timeZone),to:s,resourceId:r}):0<=e._views[e._view].type.toLowerCase().indexOf("agenda")?{from:new De.jqx.date(i,e.timeZone),to:De.jqx.scheduler.utilities.getEndOfDay(s),resourceId:r}:void 0},clearSelection:function(){for(var e=this.rows,t=e.length,i=0;i<t;i++)for(var s=e[i].cells,r=0;r<s.length;r++)s[r].removeAttribute("data-selected");this._updateCellsSelection()},_getvirtualcolumnsindexes:function(e,t,i,s,r){this.rtl&&(e=this.hScrollInstance.max-e);var n=0,o=-1,a=i+s;if(this.autorowheight)return{start:0,end:i+s};if(!r)for(var l=0;l<i+s;l++)if(this.columns.records[l].hidden||(n+=this.columns.records[l].width),e<=n&&-1==o&&(o=l),t+e<n){a=l;break}return{start:o=-1==o?0:o,end:a=i+s<++a?i+s:a}},_renderhorizontalscroll:function(){var e=this,t=e.hScrollInstance,i=t.value,s=("hidden"===e.hScrollBar[0].style.visibility&&(i=t.value=0),parseInt(i));if(null!=e.table){function r(e){return!(!e.parentNode||"#document-fragment"==e.parentNode.nodeName)}for(var i=e._getvirtualcolumnsindexes(s,e._hostWidth,0,e.columns.records.length,!1),n=i.start,o=i.end,a=(e.rows,0);a<n;a++){var l=a;r(d=e.columns.records[l].element[0])&&d.parentNode.removeChild(d)}for(a=o;a<e.columns.records.length;a++){var d,l=a;r(d=e.columns.records[l].element[0])&&d.parentNode.removeChild(d)}for(a=n;a<o;a++){l=a;r(d=e.columns.records[l].element[0])||e.columnsrow[0].appendChild(d)}i=e.columnsrow;e.columns.records.length,e.columns.records,e.source.records.length;if(e.rtl&&"hidden"!=e.hScrollBar.css("visibility")&&(s=t.max-s),e.table[0].style.left=-s+"px","block"==e.pinnedtable[0].style.display&&(e.pinnedtable[0].style.left=-s+"px"),0<e._resources.length&&0<e.tableRows)for(var h=0;h<this.table[0].rows.length;h++){var c=this.table[0].rows[h];c.getAttribute("data-group-row")&&De(c).find("span").css("left",5+s)}i[0].style.marginLeft=-s+"px"}},_getDayName:function(e,t){7<=e&&(e-=7),t||(t=this.dayNameFormat,this.isTouchDevice()&&(t=this.touchDayNameFormat));var i=this.schedulerLocalization.days.names[e];switch(t){case"full":i=this.schedulerLocalization.days.names[e];break;case"abbr":i=this.schedulerLocalization.days.namesAbbr[e];break;case"shortest":i=this.schedulerLocalization.days.namesShort[e];break;case"firstTwoLetters":i=i.substring(0,2);break;case"firstLetter":i=i.substring(0,1)}return i},_initializeColumns:function(){if(0===this._views.length&&this._views.push({type:"dayView"}),!this._views[this._view])throw new Error("jqxScheduler: View is undefined. You need to define the View in the Views Array when you create jqxScheduler");var i=this._views[this._view].type,m=this._views[this._view];if(m.timeSlotWidth&&(m.timeSlotWidth=Math.max(m.timeSlotWidth,30),m.columnWidth=m.timeSlotWidth),m.columnWidth&&m.columnWidth<30&&(m.columnWidth=30),this.columns&&this.columns.records)for(var s=0;s<this.columns.records.length;s++)this._removecolumnhandlers(this.columns.records[s]);this.columns=new Array;function e(e,t){var i="halfHour",s=(m.timeRuler&&m.timeRuler.scale&&(i=m.timeRuler.scale),24),r=0,n=23,o=(m.timeRuler&&(null!=m.timeRuler.scaleStartHour&&(r=parseInt(m.timeRuler.scaleStartHour)),s=(n=23<(n=(n=null!=m.timeRuler.scaleEndHour?parseInt(m.timeRuler.scaleEndHour):n)<0?23:n)?23:n)-(r=23<(r=r<0?0:r)?0:r)+1),2);if(i)switch(i){case"sixtyMinutes":case"hour":o=1;break;case"thirtyMinutes":case"halfHour":o=2;break;case"fifteenMinutes":case"quarterHour":o=4;break;case"tenMinutes":o=6;break;case"fiveMinutes":o=12}new Array;var a="auto";m.timeRuler&&m.timeRuler.formatString&&(a=m.timeRuler.formatString);for(var l=s,d=e.addHours(r),h="auto",h=m.columnWidth?o*m.columnWidth:80*o,c=0;c<l;c++){var u,p=d.toDate();u="auto"===a?0==p.getHours()&&0==p.getMinutes()||12==p.getHours()&&0==p.getMinutes()?"hh tt":"hh:mm":De.isFunction(a)?a(p):a,De.jqx.dataFormat.isDate(p)&&(p=De.jqx.dataFormat.formatdate(p,u,g.schedulerLocalization)),d=d.addMinutes(60,!1),g.columns.push({columnGroup:t,text:p,minwidth:30,width:h})}}for(var t=new Array,g=this,r=0;r<this.tableColumns;r++){1<this.tableColumns&&(l=g._resources[r]||"Resource"+r,t.push({text:l,name:l}));var n="left";switch(this.rtl&&(n="right"),i){case"dayView":var o=this.getViewStart(),a=(!1!==m.showWeekends||0!==(o=0!==o.dayOfWeek()&&6!==o.dayOfWeek()?o:o.addDays(1)).dayOfWeek()&&6!==o.dayOfWeek()||(o=o.addDays(1)),"auto"),l=(m&&m.columnWidth&&(a=m.columnWidth),g._resources[r]||"Resource"+r);this.columns.push({align:n,width:a,columnGroup:l,text:this._getDayName(o.dayOfWeek())});break;case"weekView":case"monthView":for(s=0;s<7;s++)6<(d=this.schedulerLocalization.firstDay+s)&&(d=0),(!1!==m.showWeekends||0!==d&&6!==d)&&(a="auto",m&&m.columnWidth&&(a=m.columnWidth),l=g._resources[r]||"Resource"+r,this.columns.push({align:"weekView"==i?n:"center",width:a,columnGroup:l,text:this._getDayName(d)}));break;case"timelineDayView":l=g._resources[r]||"Resource"+r;e(g.getViewStart(),l);break;case"timelineWeekView":for(s=0;s<7;s++){var d=this.schedulerLocalization.firstDay+s;(!1!==m.showWeekends||0!==s&&6!==s)&&(l=g._resources[r]||"Resource"+r,t.push({align:g.rtl?"right":"left",parentGroup:l,name:this._getDayName(d)+r,text:this._getDayName(d)}),e(g.getViewStart().addDays(s),this._getDayName(d)+r))}break;case"timelineMonthView":var h=g.getViewStart(),c="auto";m.timeRuler&&m.timeRuler.formatString&&(c=m.timeRuler.formatString);for(s=0;s<41;s++){var u,p,d=h.dayOfWeek();(!1!==m.showWeekends||0!==d&&6!==d)&&(a="auto",a=m.columnWidth||100,u=h.toDate(),"auto"===c?(p="dd",1===(u=h.toDate()).getDate()&&(p="MMM dd")):p=De.isFunction(c)?c(u):c,De.jqx.dataFormat.isDate(u)&&(u=De.jqx.dataFormat.formatdate(u,p,g.schedulerLocalization)),h=h.addDays(1),l=g._resources[r]||"Resource"+r,g.columns.push({minwidth:30,columnGroup:l,text:u,width:a}))}break;case"agendaView":var o=m.dateColumnWidth,f=m.timeColumnWidth,v=(v=m.appointmentColumnWidth)||"70%",f=f||"auto",o=o||"auto";g.columns.push({text:g.schedulerLocalization.agendaDateColumn,width:o}),g.columns.push({text:g.schedulerLocalization.agendaTimeColumn,width:f}),g.columns.push({text:g.schedulerLocalization.agendaAppointmentColumn,width:v})}}0<t.length&&(this.columnGroups=t);function x(e){var t=new De.jqx.scheduler.column(g,g);t.visibleindex=w++,t.text="",t.width=g.timeRulerWidth,t.editable=!1,t.timeColumn=!0,b="left",t.text="",t.hidden=!1,t.timeZone=m.timeRuler.timeZones[e].id,t.width=g.timeRulerWidth,!m.timeRuler||"dayView"!==i&&"weekView"!==i||(t._text=m.timeRuler.timeZones[s].text||"",t.hidden=m.timeRuler.hidden||!1,t.width=m.timeRuler.width||g.timeRulerWidth,y.add(t))}var g=this,y=new De.jqx.schedulerDataCollection(this.element),w=0,b=(this._columns=this.columns,"left"),_=new De.jqx.scheduler.column(g,this);_.visibleindex=w++,_.text="",_.width=g.timeRulerWidth,_.editable=!1,_.timeColumn=!0,b="left",_.text="",_.hidden=!1,_.width=g.timeRulerWidth,!m.timeRuler||"dayView"!==i&&"weekView"!==i?"dayView"!==i&&"weekView"!==i&&(_.hidden=!0):(_._text=m.timeRuler.text||"",b=m.timeRuler.position||"left",_.hidden=m.timeRuler.hidden||!1,_.width=m.timeRuler.width||g.timeRulerWidth,m.timeRuler.timeZones);if("left"===b&&("dayView"===i||"weekView"===i)){if(m.timeRuler&&m.timeRuler.timeZones)for(s=0;s<m.timeRuler.timeZones.length;s++)x(s);y.add(_)}"left"===b&&"monthView"===i&&m.showWeekNumbers&&(_.hidden=!1,y.add(_));new Array;if(De.each(this.columns,function(e){null!=g.columns[e]&&((e=new De.jqx.scheduler.column(g,this)).visibleindex=w++,y.add(e))}),"right"===b&&("dayView"===i||"weekView"===i)){if(m.timeRuler)for(s=0;s<m.timeRuler.timeZones.length;s++)x(s);y.add(_)}"right"===b&&"monthView"===i&&m.showWeekNumbers&&(_.hidden=!1,y.add(_)),this.rtl&&y.records.reverse(),this.columns=y},_getColumnsLengthPerView:function(){var e=this._views[this._view].type,t=this._views[this._view],i=1;switch(e){case"dayView":i=1;break;case"weekView":case"monthView":i=!1!==t.showWeekends?7:5;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":case"agendaView":i=this.columns.records.length}return i},escapeHTML:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,function(e){return t[e]})},sanitizeHTML:function(e){var t=this,i=new RegExp("<s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)[^>]*>(.*?)<s*/s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)>","ig");return String(e).replace(i,function(e){return t.escapeHTML(e)})},escape_HTML:function(e){return e&&(0<=e.indexOf("onclick")||0<=e.indexOf("onload")||0<=e.indexOf("onerror"))?this.escapeHTML(e):this.sanitizeHTML(e)},_renderagenda:function(){for(var i=this,e=(i._views[i._view].type,i._views[i._view]),t=i.getViewStart(),s=De.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd().addDays(-1)),s=(i._prepareAppointmentsInView(t,s),i.appointmentsToRender.length),r=new Array,n=0;n<i.appointmentsToRender.length;n++)for(var o=i.appointmentsToRender[n],a=o.from.clearTime();a<De.jqx.scheduler.utilities.getEndOfDay(o.to);){var l=a.toString();r[l]?r[l].appointments.push(o):(r[l]={date:a,appointments:new Array},r[l].appointments.push(o),r[r.length]=r[l]),a=a.addDays(1).clearTime()}for(var z=0,d=0,E=(i.rows=new Array,De.jqx.browser.msie&&De.jqx.browser.version<8),L=0,h=i.rtl?" "+i.toTP("jqx-grid-table-rtl"):"",c=0,u="<table cellspacing='0' cellpadding='0' class='"+i.toTP("jqx-grid-table")+h+"' id='table"+i.element.id+"'><colgroup>",N=i.columns.records.length,p=0;p<N;p++){var m=i.columns.records[p];m.hidden?L++:((_=(_=m.width)<m.minwidth?m.minwidth:_)>m.maxwidth&&(_=m.maxwidth),(_-=0)<0&&(_=0),E?(m=_,p==L&&m++,u+="<col style='max-width: "+m+"px; width: "+m+"px;'>"):u+="<col style='max-width: "+_+"px; width: "+_+"px;'>",c+=_)}u+="</colgroup>",0==s&&(x='<tr role="row">',T=this.host.height(),h=0,i.columnGroups?h+=i.showHeader?i.columnsheader.height():0:h+=i.showHeader?i.columnsHeight:0,i.showToolbar&&(h+=i.toolbarHeight),i.showLegend&&0<i._resources.length&&(h+=i.legendHeight),T-=h,C='<td data-date="'+t.toString()+'" colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+T+"px; height: "+T+"px; max-width:"+c+"px; width:"+c+"px;",q=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item"),u+=x=x+(C=(C+='" class="'+(q+=" "+this.toTP("jqx-center-align"))+'">')+this.schedulerLocalization.emptyDataString+"</td>")+"</tr>",this.table[0].style.width=c+2+"px",d=c);var g=i.rowsHeight;i.isTouchDevice()&&(g=i.touchRowsHeight);for(n=0;n<r.length;n++)for(var O=n,a=r[n],f=0;f<a.appointments.length;f++){for(var v=0,x='<tr data-key="'+O+'" role="row">',z=0,y=a.appointments[f],p=0;p<N;p++){var w=i.columns.records[p],b=p;i.rtl&&(b=N-1-p);(_=(_=w.width)<w.minwidth?w.minwidth:_)>w.maxwidth&&(_=w.maxwidth),(_-=0)<0&&(_=0);var _,q=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item"),O=(i.rtl&&(q+=" "+i.toTP("jqx-cell-rtl")),i.dataview.generatekey()),j=a.date,T=g+"px",C='<td data-key="'+O+'" data-view="'+-1+'" data-date="'+j.toString()+'" role="gridcell"  style="max-width:'+_+"px; width:"+_+"px; height: "+T+"; min-height: "+g+"px;";if(0==b&&0==f){C='<td rowspan="'+a.appointments.length+'" data-key="'+O+'" data-view="'+-1+'" data-date="'+j.toString()+'" role="gridcell"  style="max-width:'+_+"px; width:"+_+"px;  min-height: "+g+"px;";q+=" "+i.toTP("jqx-center-align")}else if(0==b){z++;continue}i.rtl&&1==b&&(q+=" "+i.toTP("jqx-right-align")),w.hidden?(C+="display: none;",i._hiddencolumns=!0):(v+=0+_,0!=z||i.rtl?C+="border-left-width: 1px;":C+="border-left-width: 0px;",z++),C+='" class="'+q+'">';var S,k,I,R,F,D,P,A="";0==b&&0==f&&(w=j.toString("dddd",i.schedulerLocalization),I=j.toString("MMMM, yyyy",i.schedulerLocalization),P=i.toTP("jqx-scheduler-agenda-date"),S=i.toTP("jqx-scheduler-agenda-day"),k=i.toTP("jqx-scheduler-agenda-week"),A='<div class="'+P+'"><strong class="'+S+'">'+j.day()+'</strong><br/><em class="'+k+'">'+w+'</em><br/><span class="'+P+'">'+I+"</span></div>"),1==b?(S="auto",e=this._views[this._view],j=y.from,k=y.to,w=S=e.timeRuler&&e.timeRuler.formatString?e.timeRuler.formatString:S,"auto"===(I=S)&&(w=0==j.hour()&&0==j.minute()||12==j.hour()&&0==j.minute()?"hh tt":"hh:mm",I=0==k.hour()&&0==k.minute()||12==k.hour()&&0==k.minute()?"hh tt":"hh:mm"),P=i.toTP("jqx-scheduler-agenda-time"),A=y.allDay?"<span class='"+P+"'>"+i.schedulerLocalization.agendaAllDayString+"</span>":i.rtl?"<span class='"+P+"'>"+k.toString(I,i.schedulerLocalization)+" - "+j.toString(w,i.schedulerLocalization)+"</span>":"<span class='"+P+"'>"+j.toString(w,i.schedulerLocalization)+" - "+k.toString(I,i.schedulerLocalization)+"</span>"):2==b&&(y.resourceId&&De.each(i._resources,function(e,t){y.resourceId==t&&(t=i.getColors(e),this.toString(),e=i.toTP("jqx-scheduler-agenda-appointment-resource jqx-scheduler-legend"),i.rtl&&(e=i.toTP("jqx-scheduler-agenda-appointment-resource-rtl jqx-scheduler-legend")),e="<div data-key='"+y.id+"' class='"+e+"' style='margin-right: 5px; border-color: "+t.border+"; background: "+t.background+";' class='"+i.toThemeProperty("jqx-scheduler-legend")+"'></div>",A=e)}),j=y.subject||"(No Title)",w=y.location,b=y.description,R=y.status?i.schedulerLocalization.editDialogStatuses[y.status]:"",F=y.isRecurrentAppointment(),y.isException(),D=i.schedulerLocalization.editDialogSubjectString+": "+j,w&&(D+="\n"+i.schedulerLocalization.editDialogLocationString+": "+w),b&&(D+="\n"+i.schedulerLocalization.editDialogDescriptionString+": "+b),R&&(D+="\n"+i.schedulerLocalization.editDialogStatusString+": "+R),F&&(D+="\n"+i.schedulerLocalization.editDialogRepeatString+": "+F),P=i.toTP("jqx-scheduler-agenda-appointment jqx-scheduler-legend-label"),i.rtl&&(P=i.toTP("jqx-scheduler-agenda-appointment-rtl jqx-scheduler-legend-label")),A+="<span data-key='"+y.id+"' title='"+i.escape_HTML(D)+"' class='"+P+"'>"+i.escape_HTML(j)+"</span>"),x+=C=C+A+"</td>"}0==d&&(i.table[0].style.width=v+2+"px",i.pinnedtable[0].style.width=v+2+"px",d=v),u+=x+="</tr>"}i.table.html(u+="</table>"),i.pinnedtable.html(u),i.pinnedtable[0].style.display="none";h=De(i.table[0].firstChild),t=De(i.pinnedtable[0].firstChild);function W(){var i={};return i.cells=new Array,i.indexOf=function(e){for(var t=0;t<i.cells.length;t++)if(i.cells[t].getAttribute("data-key")==e.getAttribute("data-key"))return t;return-1},i}i._table=h,i._pinnedtable=t,De.jqx.browser.msie&&De.jqx.browser.version<10&&(i._table[0].style.width=d+"px",i._pinnedtable[0].style.width=d+"px"),0===s&&(i._table[0].style.width=2+d+"px",i._pinnedtable[0].style.width=2+d+"px",i._pinnedtable[0].style.display="none"),i._pinnedtable[0].style.display="none",i._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),i.table[0].rows=i.table[0].firstChild.rows,i.rowByCell=new Array,i.columnCells=new Array,i.cellWidth=0,i.cellHeight=0;for(var V=i.table[0].rows.length,n=0;n<V;n++){var M=i.table[0].rows[n];if(!M.getAttribute("data-group-row"))for(var H=new W,G=(H.aboveRow=null,H.belowRow=null,0<i.rows.length&&(H.aboveRow=i.rows[i.rows.length-1],i.rows[i.rows.length-1].belowRow=H),H.element=M,i.rows.push(H),!1),p=0;p<M.cells.length;p++){if(M.cells.length<i.columns.records.length&&!G)for(var U=n;0<=U;){var Y=i.table[0].rows[U];if(i.table[0].rows[U].cells.length==i.columns.records.length){var B=Y.cells[0];i.columnCells[H.cells.length]||(i.columnCells[H.cells.length]=new Array),i.columnCells[H.cells.length].push(B),0==i.cellWidth&&(i.cellWidth=B.clientWidth),0==i.cellHeight&&(1==V||1<n)&&(i.cellHeight=B.clientHeight),H.cells.push(B),G=!0;break}U--}"none"===(B=M.cells[p]).style.display||0<=B.className.indexOf("jqx-grid-cell-pinned")||(i.columnCells[H.cells.length]||(i.columnCells[H.cells.length]=new Array),i.columnCells[H.cells.length].push(B),0==i.cellWidth&&(i.cellWidth=B.clientWidth),0==i.cellHeight&&(1==V||1<n)&&(i.cellHeight=B.clientHeight),H.cells.push(B),i.rowByCell[B.getAttribute("data-key")]=H)}}0===s&&(i._table[0].style.tableLayout="auto"),i._updateScrollbars(i.host.height()),i._arrange(),i.rendered&&i.rendered(),i.renderedTime=new Date},_renderrows:function(){var i=this;if(!i._loading&&!i._updating&&!i._appupdating){i.rendering&&i.rendering();var e=(i=this)._views[i._view].type,t=i._views[i._view];if("agendaView"==e)i._renderagenda();else{var s,z=1,E=i.getViewStart(),L=De.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd()),N=(i._prepareAppointmentsInView(E,L),new Array),O=("weekView"===e||"dayView"===e?z=i.getMaxAllDayAppointments(i.appointmentsToRender):"monthView"===e&&t.monthRowAutoHeight&&i.rows&&6==i.rows.length&&(N=i._getMonthAppointmentsPerWeek()),1<i.tableRows&&i.tableRows,"halfHour"),r=null,R=(t.rowHeight&&(r=t.rowHeight),t&&t.allDayRowHeight&&(s=t.allDayRowHeight),t.timeRuler&&t.timeRuler.scale&&(O=t.timeRuler.scale),0),n=(i.table[0].rows=new Array,i.rows=new Array,i.toTP("jqx-cell")+" "+i.toTP("jqx-widget-content")),o=(i.rtl&&(n+=" "+i.toTP("jqx-cell-rtl")),i.columns.records.length),F=i._getColumnsLengthPerView(),W=De.jqx.browser.msie&&De.jqx.browser.version<8,a=(W&&i.host.attr("hideFocus","true"),i._lastSelectedCell=null,i.focusedCell=null,new Array,i.source.records),a=i.dataview.evaluate(a),l=(i.dataViewRecords=a,i.cells=new Array,i.dataViewRecords,i.renderedRecords=i.getRows(),i.tableZIndex,i.getRows().length),V=0,G=0;if(W)for(var d=0;d<o;d++){(S=(S=(m=i.columns.records[d]).width)<m.minwidth?m.minwidth:S)>m.maxwidth&&(S=m.maxwidth);var h=De('<table><tr><td role="gridcell" style="max-width: '+S+"px; width:"+S+'px;" class="'+n+'"></td></tr></table>'),U=(De(document.body).append(h),h.find("td")),V=1+parseInt(U.css("padding-left"))+parseInt(U.css("padding-right"));h.remove();break}var a=i.rtl?" "+i.toTP("jqx-grid-table-rtl"):"",c="<table cellspacing='0' cellpadding='0' class='"+i.toTP("jqx-grid-table")+a+"' id='table"+i.element.id+"'><colgroup>",Y=0,u=2,p=30;switch(O){case"sixtyMinutes":case"hour":p=60,u=1;break;case"thirtyMinutes":case"halfHour":p=30,u=2;break;case"fifteenMinutes":case"quarterHour":p=15,u=4;break;case"tenMinutes":p=10,u=6;break;case"fiveMinutes":p=5,u=12}function K(e){var t=i.columns.records[e];if(t)return t;for(;e>=i.columns.records.length;)e-=i.columns.records.length;return t=i.columns.records[e]}for(var m,g=1,d=("timelineDayView"===e||"timelineWeekView"===e?F=(o*=g=u)/i.tableColumns:"timelineMonthView"===e?F=o/i.tableColumns:"monthView"===e&&(F=t.showWeekNumbers?(o-i.tableColumns)/i.tableColumns:o/i.tableColumns),0);d<o;d++)(m=K(d)).hidden?(Y++,0):((S=(S=m.width/g)<m.minwidth?m.minwidth/g:S)>m.maxwidth&&(S=m.maxwidth/g),(S-=V)<0&&(S=0),"monthView"==e&&i.rtl&&m.timeColumn&&S++,W?(oe=S,d==Y&&oe++,c+="<col style='max-width: "+oe+"px; width: "+oe+"px;'>"):c+="<col style='max-width: "+S+"px; width: "+S+"px;'>",G+=S);c+="</colgroup>",i._hiddencolumns=!1,0===l&&(ne='<tr role="row">',f=i.host.height(),i.pageable&&(f-=i.pagerHeight,"both"===i.pagerPosition&&(f-=i.pagerHeight)),f-=i.columnsHeight,i.showLegend&&0<i._resources.length&&(f-=i.legendHeight),f<25&&(f=25),"hidden"!=i.hScrollBar[0].style.visibility&&(f-=i.hScrollBar.outerHeight()),"auto"!==i.height&&null!==i.height&&!i.autoheight||(f=300),h='<td colspan="'+i.columns.records.length+'" role="gridcell" style="border: none; min-height: '+f+"px; height: "+f+"px; max-width:"+G+"px; width:"+G+"px;",n=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item"),i.rtl&&(n+=" "+i.toTP("jqx-cell-rtl")),c+=ne+=h=(h+='" class="'+(n+=" "+i.toTP("jqx-center-align"))+'">')+i.schedulerLocalization.emptyDataString+"</td>",i.table[0].style.width=G+2+"px",R=G);var X=i.getRows(),E=i.getViewStart(),f=i._hostHeight||i.host.height(),a=0,v=(i.columnGroups?a+=i.showHeader?i.columnsheader.height():0:a+=i.showHeader?i.columnsHeight:0,i.showToolbar&&(a+=i.toolbarHeight),i.showLegend&&0<i._resources.length&&(a+=i.legendHeight),i.showAllDayRow),$=23;t.resourceHeaderRowHeight&&($=t.resourcesRowHeight),$+=2,null!=t.showAllDayRow&&(v=t.showAllDayRow);var x,Z,J=i._columnswidth>i._hostWidth?3+i.scrollBarSize:0,Q=1<i.tableRows?i.resources.unitsInView:1,y=(null==Q&&(Q=i._resources.length),null!=(r=i.resources&&i.resources.resourceRowHeight?i.resources.resourceRowHeight:r)&&"auto"!=r||(Z=3*(x=i.rowsHeight),i.isTouchDevice()&&(Z=22+(x=i.touchRowsHeight)),1==i.tableRows?(r=0<f?f-a:x,10<i.columns.records.length&&(r=0<f?f-i.scrollBarSize-5-a:x)):(r=0<f?(f-a-$)/l:x,10<i.columns.records.length&&(r=0<f?(f-i.scrollBarSize-5-a-Q*$)/(Q*l):x)),"dayView"===e||"weekView"===e?v&&(null==s||"auto"==s?s=r=0<f?(f-a)/(i.tableRows*l):Z:r=0<f?(f-a-s-Q*$)/(Q*(l-1)):x):"monthView"===e&&("hidden"==i.hScrollBar[0].style.visibility&&(J=0),r=1==i.tableRows?0<f?(f-a-J)/l:x:0<f?(f-a-$-J)/l:x),r=Math.max(x,r),s=s||Z,s=Math.max(Z,s),i._allDayRowHeight=s,s=z*((i._defaultRowHeight=x)-2),s=Math.max(Z,17+s),i._allDayRowFullHeight=s,t.allDayRowHeight&&(i._allDayRowHeight=t.allDayRowHeight,s=z*(t.allDayRowHeight-2),i._allDayRowFullHeight=s)),new Array);if(i.resources&&i.resources.colorScheme){for(var ee=0;ee<i.colorSchemes.length;ee++)if(i.colorSchemes[ee].name==i.resources.colorScheme){y=i.colorSchemes[ee].colors;break}for(;i._resources.length>y.length-1;){var te=parseInt(i.resources.colorScheme.substring(6));27<=te&&(te=0),y=y.concat(i.colorSchemes[te].colors),te++}}for(var w=0;w<i.tableRows;w++){var ie=0,se=23,b=(t.timeRuler&&null!=t.timeRuler.scaleStartHour&&(ie=parseInt(t.timeRuler.scaleStartHour)),t.timeRuler&&null!=t.timeRuler.scaleEndHour&&(se=parseInt(t.timeRuler.scaleEndHour)),E),_=(!1!==t.showWeekends||0!=b.dayOfWeek()&&6!=b.dayOfWeek()||(b=b.addDays(1)),new Array),re="monthView"!=e&&"timelineDayView"!=e&&"timelineWeekView"!=e&&"timelineMonthView"!=e&&v?1:0;if(1<i.tableRows){var ne='<tr data-group-row="true" role="row">',n=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(i.rtl&&(n+=" "+i.toTP("jqx-cell-rtl")),W)n+=" "+i.toTP("jqx-grid-cell-pinned");else{n+=" "+i.toTP("jqx-grid-cell-pinned"),Te+=' colspan="'+o+'"';for(var oe=0,ae=0;ae<o;ae++){var le=K(ae),de=le.width/g;de<le.minwidth&&(S=le.minwidth/g),de>le.maxwidth&&(S=le.maxwidth/g),(de-=V)<0&&(de=0),le.hidden||(oe+=de)}S=oe}var he,h='<td style="height:'+$+"px;",ce=(d!=o-1||1!=o||i.rtl||(h+="border-right-color: transparent;"),0<i._resources.length&&i.resources.colorScheme&&"none"!=i.resources.orientation&&(he=we=k="",k=y[w],k=i.hexToRgba(y[w],.7).toString(),he=255-(.299*(ce=i.hexToRgba(y[w],.7)).r+.587*ce.g+.114*ce.b)<105?"Black":"White",h=(h+="background: "+k+";")+"border-color: "+(we=y[w])+";color: "+he+";"),h+='" class="'+n+'" role="gridcell" '+Te,i._resources[w]);c+=ne+=h=h+("><span style='position: relative;'>"+ce+"</span>")+"</td>"}for(var q=0;q<l;q++){var j={},ue="jqx"+i.element.id+"_"+q,ne='<tr data-key="'+(j.uid=ue)+'" role="row">',pe=0,me=0;if(_[0]&&re<q){p=30;if("monthView"!=e){switch(O){case"sixtyMinutes":case"hour":p=60;break;case"thirtyMinutes":case"halfHour":p=30;break;case"fifteenMinutes":case"quarterHour":p=15;break;case"tenMinutes":p=10;break;case"fiveMinutes":p=5}for(var T=0;T<o;T++)_[T]=_[T].addMinutes(p,!1)}else for(T=0;T<o;T++)_[T]=_[T].addDays(7,!1)}var ge=0,fe=1,ve=0,ve=t.showWeekends||null==t.showWeekends?i.columns.records.length/(7*i.tableColumns):i.columns.records.length/(5*i.tableColumns);ve*=u;for(var C=0,xe=(i.rtl&&(C=1),0),d=0;d<o;d++){var ye,S,k,we,be,_e,qe,je,I=K(d),D=(F<=ge&&(C=xe=ge=0,i.rtl&&(C=1),fe++),_[d]||(i.rtl?0<=e.toString().indexOf("timelineDayView")?(ye=1+d,_[d]=b.addHours(1+se).addMinutes(-ye*p,!1)):0<=e.toString().indexOf("timelineWeekView")?t.showWeekends||null==t.showWeekends?_[d]=b.addDays(6-xe).addHours(1+se,!1).addMinutes(-C*p,!1):_[d]=b.addDays(4-xe).addHours(1+se,!1).addMinutes(-C*p,!1):"dayView"==e||"monthView"==e||"weekView"==e?t.showWeekends||null==t.showWeekends?_[d]=b.addDays(6-ge).addHours(ie,!1):_[d]=b.addDays(4-ge).addHours(ie,!1):_[d]=b.addDays(F-ge-1).addHours(ie,!1):0<=e.toString().indexOf("timelineDayView")?_[ye=d]=b.addHours(ie).addMinutes(ye*p,!1):0<=e.toString().indexOf("timelineWeekView")?_[d]=b.addDays(xe).addHours(ie,!1).addMinutes(C*p,!1):_[d]=b.addDays(ge).addHours(ie,!1),i.timeZone&&(_[d].timeZone=i.timeZone)),ve<=++C&&(C=0,xe++),(!(I.timeColumn||"dayView"!==e&&"weekView"!==e)||!I.timeColumn&&"monthView"===e&&t.showWeekNumbers||"monthView"===e&&!t.showWeekNumbers||"timelineMonthView"===e||"timelineDayView"==e||"timelineWeekView"==e)&&ge++,_[d]),n=((S=(S=I.width/g)<I.minwidth?I.minwidth/g:S)>I.maxwidth&&(S=I.maxwidth/g),(S-=V)<0&&(S=0),i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item")),Te=(I.pinned&&(n+=" "+i.toTP("jqx-grid-cell-pinned")),i.sortcolumn===I.displayfield&&(n+=" "+i.toTP("jqx-grid-cell-sort")),i.altRows&&q%2!=0&&(n+=" "+i.toTP("jqx-grid-cell-alt")),0!=q||!v||"dayView"!==e&&"weekView"!==e||(n+=" "+i.toTP("jqx-grid-cell-alt")),(D>i.max||D<i.min)&&(n+=" "+i.toTP("jqx-scheduler-disabled-cell")),i.rtl&&(n+=" "+i.toTP("jqx-cell-rtl")),""),ue=i.dataview.generatekey(),P=w+fe,h=(i.resources&&"none"==i.resources.orientation&&(P=-1),'<td data-key="'+ue+'" data-view="'+(P=0==i._resources.length?-1:P)+'" data-date="'+D.toString()+'" role="gridcell" '+Te+' style="max-width:'+S+"px; width:"+S+"px;  height:"+r+"px;");if(0!=q||!v||"dayView"!==e&&"weekView"!==e||(h='<td  data-key="'+ue+'" data-view="'+P+'" data-end-date="'+De.jqx.scheduler.utilities.getEndOfDay(D).toString()+'" data-date="'+D.clearTime().toString()+'" role="gridcell" '+Te+' style="max-width:'+S+"px; width:"+S+"px; height:"+s+"px;"),"monthView"==e&&t.monthRowAutoHeight&&0<N.length&&N[q]&&"auto"!=N[q]&&r<N[q]&&(h='<td data-key="'+ue+'" data-view="'+P+'" data-date="'+D.toString()+'" role="gridcell" '+Te+' style="max-width:'+S+"px; width:"+S+"px;  height:"+N[q]+"px;"),i.date.month()!=D.month()&&"monthView"===e&&t.showOtherMonthDays,i.resources&&0<i._resources.length&&i.resources.colorScheme&&"none"!==i.resources.orientation&&(we=k="",k=y[w+fe-1],k=(0!=q||!v||"dayView"!==e&&"weekView"!==e?i.hexToRgba(y[w+fe-1],.3):i.shadeColor(y[w+fe-1],.3)).toString(),0==q&&v&&("dayView"===e||"weekView"===e)||-1!=e.indexOf("month")||I.timeColumn||!1!==t.showWorkTime&&(be=1,_e=5,qe=8,je=18,t.workTime&&(be=t.workTime.fromDayOfWeek||0,_e=t.workTime.toDayOfWeek||0,qe=void 0!==t.workTime.fromHour?t.workTime.fromHour:8,je=t.workTime.toHour||8),D.dayOfWeek()>=be&&D.dayOfWeek()<=_e&&D.hour()>=qe&&D.hour()<je&&(k=i.hexToRgba(y[w+fe-1],.1).toString())),h=h+"background: "+k+";border-color: "+(we=y[fe+w-1])+";"),d!=o-1||1!=o||i.rtl||(h+="border-right-color: transparent;"),I.timeColumn&&!I.hidden&&"monthView"===e){n=i.toTP("jqx-scheduler-time-column")+" "+i.toTP("jqx-widget-header")+" "+i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(n+=" "+i.toTP("jqx-scheduler-week-number-column"),1<i.tableRows&&(n=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item")),i.rtl&&(n+=" "+i.toTP("jqx-cell-rtl")),0!==D.minute()){me++;continue}h='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+D.toString()+'" role="gridcell" style="max-width:'+S+"px; width:"+S+"px;";d!=o-1||1!=o||i.rtl?i.rtl&&0==d&&(h+="border-left-color: transparent;"):h+="border-right-color: transparent;",d==o-1&&i.rtl&&(h+="border-right-color: transparent;")}if(!I.timeColumn||I.hidden||"dayView"!==e&&"weekView"!==e)0<q&&(M="border-left-width: 1px;",h+=M=i.rtl&&0==d&&"monthView"==e&&t.showWeekNumbers?"border-left-width: 0px;":M);else{n=i.toTP("jqx-scheduler-time-column")+" "+i.toTP("jqx-widget-header")+" "+i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(1<i.tableRows&&(n=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item")),i.rtl&&(n+=" "+i.toTP("jqx-cell-rtl")),0<q){if(0!==D.minute()){me++;continue}h='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+D.toString()+'" rowspan='+u+' role="gridcell" '+Te+' style="max-width:'+S+"px; width:"+S+"px;";d!=o-1||1!=o||i.rtl?i.rtl&&0==d&&(h+="border-left-color: transparent;"):h+="border-right-color: transparent;"}else i.resources&&"none"==i.resources.orientation&&(P=-1),0!=q||!v||"dayView"!==e&&"weekView"!==e||(h='<td data-view="'+P+'" data-time-slot="true" data-end-date="'+De.jqx.scheduler.utilities.getEndOfDay(D).toString()+'" data-date="'+D.toString()+'" role="gridcell" '+Te+' style="max-width:'+S+"px; width:"+S+"px;"),(d==o-1&&1==o&&!i.rtl||0==d&&1==o&&i.rtl)&&(h+="border-right-color: transparent;"),i.rtl&&(h+="border-left-width: 1px;"),1<i.tableRows&&(h=h+"background: "+k+";border-color: "+we+";")}"left"!=I.cellsalign&&("right"===I.cellsalign?n+=" "+i.toTP("jqx-right-align"):n+=" "+i.toTP("jqx-center-align")),I.timeColumn||i.rowinfo[j.uid]&&i.rowinfo[j.uid].selected&&i.editKey!==j.uid&&"none"!==i.selectionMode&&(n=(n=(n+=" "+i.toTP("jqx-grid-cell-selected"))+" "+i.toTP("jqx-fill-state-pressed"))+" "+i.toTP("jqx-scheduler-cell-selected")),I.hidden?(h+="display: none;",i._hiddencolumns=!0):(pe+=V+S,0!=me||i.rtl||(h+="border-left-width: 0px;"),me++),0==q&&v&&("dayView"===e||"weekView"===e)||-1!=e.indexOf("month")||(n+=" "+i.toTP("jqx-grid-cell-nowrap"),q%2!=1||I.timeColumn||(n+=" "+i.toTP("jqx-scheduler-middle-cell")),I.timeColumn||!1!==t.showWorkTime&&(be=1,_e=5,qe=8,je=18,t.workTime&&(be=t.workTime.fromDayOfWeek||0,_e=t.workTime.toDayOfWeek||0,qe=void 0!==t.workTime.fromHour?t.workTime.fromHour:8,je=t.workTime.toHour||8),D.dayOfWeek()>=be&&D.dayOfWeek()<=_e&&D.hour()>=qe&&D.hour()<je?n+=" "+i.toTP("jqx-scheduler-work-time-cell"):n+=" "+i.toTP("jqx-scheduler-not-work-time-cell")));var A,M="",H=("monthView"===e?(i.touchDevice||I.timeColumn||(n+=" "+i.toTP("jqx-top-align")),D.isToday()&&(n+=" "+i.toTP("jqx-scheduler-month-day-today-cell")),P="dd",M=D.toDate(),A=i.toTP("jqx-scheduler-month-outer-cell")+" ",H=i.toTP("jqx-scheduler-month-weekend-cell"),i.date.month()==D.month()&&(A=""),D.isWeekend()?n+=" "+H:H="",1===M.getDate()&&(P="MMM dd"),M=i.touchDevice?16<r?"<div class='"+A+i.toTP("jqx-scheduler-month-cell-touch")+"'>"+De.jqx.dataFormat.formatdate(M,P,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>":"<div class='"+A+i.toTP("jqx-scheduler-month-cell-touch")+"'>"+De.jqx.dataFormat.formatdate(M,P,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>":16<r?"<div class='"+A+i.toTP("jqx-scheduler-month-cell")+"'>"+De.jqx.dataFormat.formatdate(M,P,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>":"<div class='"+A+i.toTP("jqx-scheduler-month-cell")+"'>"+De.jqx.dataFormat.formatdate(M,P,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>"):"timelineWeekView"!==e&&"timelineDayView"!==e&&"timelineMonthView"!==e||(n+=" "+i.toTP("jqx-right-align jqx-bottom-align"),M="<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span>"),0!=q||!v||"dayView"!==e&&"weekView"!==e||I.timeColumn||(n=(n+=" "+i.toTP("jqx-top-align"))+" "+i.toTP("jqx-scheduler-all-day-cell"),i.rtl&&(n+=" "+i.toTP("jqx-rtl")),M=D.toDate(),D.isToday()&&(n+=" "+i.toTP("jqx-scheduler-all-day-today-cell")),M="<span>"+De.jqx.dataFormat.formatdate(M,"dd",i.schedulerLocalization)+"</span>"),I.cellsFormat);I.timeColumn&&!I.hidden?(M=D.toDate(),I.timeZone&&(M=(M=D.clone().toTimeZone(I.timeZone)).toDate()),D.isToday()&&(n+=" "+i.toTP("jqx-scheduler-time-today-column-header-cell")),t.timeRuler&&t.timeRuler.formatString?H=t.timeRuler.formatString:I.timeColumn.format||(H=0==M.getHours()||12==M.getHours()?"hh tt":"hh:mm"),De.jqx.dataFormat.isDate(M)&&(M=De.jqx.dataFormat.formatdate(M,H,i.schedulerLocalization)),q<re&&(i.rtl?n+=" "+i.toTP("jqx-scheduler-time-column-header-cell-rtl"):n+=" "+i.toTP("jqx-scheduler-time-column-header-cell"),M=""),q<re&&(I._text&&(n+=" "+i.toTP("jqx-bottom-align")),t.timeRuler&&t.timeRuler.timeZones&&0<t.timeRuler.timeZones.length&&d<t.timeRuler.timeZones.length&&(M=I._text)),"monthView"==e&&(M=D.weekOfYear(i.schedulerLocalization.firstDay))):""!=H&&De.jqx.dataFormat&&(De.jqx.dataFormat.isDate(M)?M=De.jqx.dataFormat.formatdate(M,H,i.schedulerLocalization):(De.jqx.dataFormat.isNumber(M)||!isNaN(parseFloat(M))&&isFinite(M))&&(M=De.jqx.dataFormat.formatnumber(M,H,i.schedulerLocalization))),""!=I.cellclassname&&I.cellclassname&&("string"==typeof I.cellclassname?n+=" "+I.cellclassname:(A=I.cellclassname(q,I.datafield,M,j))&&(n+=" "+A)),""!=I.cellsRenderer&&I.cellsRenderer&&(P=X.indexOf(j),M=I.cellsRenderer(P,I.datafield,M,j)),ne+=h=(h+='" class="'+n+'">')+M+"</td>"}0==R&&(i.table[0].style.width=pe+2+"px",i.pinnedtable[0].style.width=pe+2+"px",R=pe),c+=ne+="</tr>",i.rowinfo[j.uid]?"row"in i.rowinfo[j.uid]||(i.rowinfo[j.uid].row=j):i.rowinfo[j.uid]={row:j}}}i.table.html(c+="</table>"),i.pinnedtable.html(c),i.table[0].rows=i.table[0].firstChild.rows;var Q=De.jqx.browser.msie&&De.jqx.browser.version<9,Ce=null;if(!v||"dayView"!==e&&"weekView"!==e||1!=i.tableRows)i.pinnedtable[0].style.display="none";else if(i.pinnedtable[0].style.display="block",i.pinnedtable[0].style.zIndex="400",i.pinnedtable[0].style.position="absolute",i.pinnedtable[0].style.top="0px",i.pinnedtable[0].style.height=s+"px",!Q)if(1==i.tableRows){i.oldRow=i.table[0].rows[0];try{i.table[0].rows[0]=i.pinnedtable.find("tr")[0]}catch(e){}Ce=i.pinnedtable.find("tr")[0],i.pinnedTableRow=Ce}else{i.oldRow=i.table[0].rows[1];try{i.table[0].rows[1]=i.pinnedtable.find("tr")[1]}catch(e){}Ce=i.pinnedtable.find("tr")[1],i.pinnedTableRow=Ce}for(var ae=De(i.table[0].firstChild),f=De(i.pinnedtable[0].firstChild),Se=(i._table=ae,i._pinnedtable=f,De.jqx.browser.msie&&De.jqx.browser.version<10&&(i._table[0].style.width=R+"px",i._pinnedtable[0].style.width=R+"px"),0===l&&(i._table[0].style.width=2+R+"px",i._pinnedtable[0].style.width=2+R+"px"),i._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),i._pinnedtable.addClass("jqx-grid-table-one-cell jqx-disableselect"),i.rowByCell=new Array,i.columnCells=new Array,i.cellWidth=0,i.cellHeight=0,i.table[0].rows.length),q=0;q<Se;q++){var ke=i.table[0].rows[q];if(!(ke=0==q&&Ce?Ce:ke).getAttribute("data-group-row")){(j=new Ie).aboveRow=null,j.belowRow=null,0<i.rows.length&&(j.aboveRow=i.rows[i.rows.length-1],i.rows[i.rows.length-1].belowRow=j),j.element=ke,i.rows.push(j);for(d=0;d<ke.cells.length;d++){var B=ke.cells[d];B.getAttribute("data-time-slot")||"none"===B.style.display||0<=B.className.indexOf("jqx-grid-cell-pinned")||(i.columnCells[j.cells.length]||(i.columnCells[j.cells.length]=new Array),i.columnCells[j.cells.length].push(B),0==i.cellWidth&&(i.cellWidth=B.clientWidth),0==i.cellHeight&&(1==Se||1<q)&&(i.cellHeight=B.clientHeight),"monthView"==i._views[i._view].type&&null==j.top&&(j.top=parseInt(De(B).position().top)),j.cells.push(B),i.rowByCell[B.getAttribute("data-key")]=j)}}}0===l&&(i._table[0].style.tableLayout="auto"),i._renderAppointments(E,L),("none"!=i.pinnedtable[0].style.display||("dayView"==e||"weekView"==e)&&1<i.tableRows)&&i._updateScrollbars(i.host.height()),"monthView"===e&&t.monthRowAutoHeight&&(0==N.length?i._renderrows():i._updateScrollbars(i.host.height())),i.rendered&&i.rendered(),i.renderedTime=new Date}}function Ie(){var i={};return i.cells=new Array,i.indexOf=function(e){for(var t=0;t<i.cells.length;t++)if(i.cells[t].getAttribute("data-key")==e.getAttribute("data-key"))return t;return-1},i}},showAppointmentsByResource:function(e){for(var t,i=this,s=0;s<i.uiappointments.length;s++){var r=i.uiappointments[s];if(r.resourceId==e&&(r.hidden=!1,r.hiddenByResourceId=!1,r.exceptions))for(var n=0;n<r.exceptions.length;n++)r.exceptions[n].hiddenByResourceId=!1}i._resourcesElements&&(t=i.getColors(i._resources.indexOf(e)),i._resourcesElements.top[e].attr("data-toggle","on"),i._resourcesElements.top[e].css("background",t.background),i._resourcesElements.bottom[e].attr("data-toggle","on"),i._resourcesElements.bottom[e].css("background",t.background)),i.hiddenResources&&delete i.hiddenResources[e],i._renderrows()},hideAppointmentsByResource:function(e){for(var t=this,i=0;i<t.uiappointments.length;i++){var s=t.uiappointments[i];if(s.resourceId==e&&(s.hidden=!0,s.hiddenByResourceId=!0,s.exceptions))for(var r=0;r<s.exceptions.length;r++)s.exceptions[r].hiddenByResourceId=!0,s.exceptions[r].hidden=!0}t._resourcesElements&&(t._resourcesElements.top[e].attr("data-toggle","off"),t._resourcesElements.top[e].css("background","transparent"),t._resourcesElements.bottom[e].attr("data-toggle","off"),t._resourcesElements.bottom[e].css("background","transparent")),t.hiddenResources||(t.hiddenResources=new Array),t.hiddenResources[e]=!0,t._renderrows()},_prepareAppointmentsInView:function(e,t){var i=this;if(!i._appupdating){for(var s=new Array,r=0;r<this.uiappointments.length;r++){var n=this.uiappointments[r];if(!n.hidden||null!=n.recurrencePattern){De.jqx.scheduler.utilities.rangeIntersection(n.from,n.to,e,t)&&!n.recurrencePattern&&s.push(n),n.renderedAppointments=new Array;var o=!1;if(n.recurrencePattern){for(var a=n.getOccurrences(e,t),l=n.exceptions,d=0;d<a.length;d++){var h=a[d];if(!h.hidden){for(var c=!0,u=0;u<l.length;u++){var p=(m=l[u]).occurrenceFrom||m;if(i.selectedJQXAppointment&&i.selectedJQXAppointment.rootAppointment&&!o&&i.selectedJQXAppointment.occurrenceFrom.clearTime().equals(p.clearTime())&&(i.selectedJQXAppointment=m,o=!0),p.clearTime().equals(h.from.clearTime())){c=!1;break}}c&&(i.selectedJQXAppointment&&i.selectedJQXAppointment.rootAppointment&&!o&&i.selectedJQXAppointment.occurrenceFrom.clearTime().equals(h.occurrenceFrom.clearTime())&&(i.selectedJQXAppointment=h,o=!0),n.renderedAppointments[h.id]=h,s.push(h))}}for(u=0;u<l.length;u++){var m,p=(m=l[u]).occurrenceFrom?m.from:m,g=n.createOccurrence(p);m.occurrenceFrom&&(m.cloneAppointmentAttributes(g),m.hidden)||g!=n&&(s.push(m),n.renderedAppointments[m.id]=m)}}}}var f=new Array;this.tabKeyAppointments=new Array;for(r=0;r<s.length;r++){var v=s[r];f.push(v),this.tabKeyAppointments.push(v)}f.sort(this._sortAppointmentsByFrom),0<this._resources.length?this.tabKeyAppointments.sort(function(e,t){return i._sortAppointmentsByResourceId(e,t,i)}):this.tabKeyAppointments.sort(this._sortAppointmentsByFrom),this.appointmentsToRender=f}},_renderDayWeekAppointments:function(){var e=this,t=(e._views[e._view].type,e._views[e._view]),i=new Array,s=new Array,r=this.rows,n=e.showAllDayRow,z=e.getMinutesPerScale();t.timeRuler&&null!=t.timeRuler.showAllDayRow&&(n=t.timeRuler.showAllDayRow);for(var o=0;o<this.appointmentsToRender.length;o++){function a(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0}var l=this.appointmentsToRender[o],d=l.from,h=l.to,c=De.jqx.scheduler.utilities.getEndOfDay(h),E=d.day(),u=(l.allDay,new Array),p=new Array,L=l.resourceId,m=e._resources.indexOf(L),g=(e.resources&&"none"==e.resources.orientation&&(m=-1),d.toDate().valueOf()),f=h.toDate().valueOf();c.toDate().valueOf();if(!l.allDay&&l.duration().days()<1||!n){var v=h.toDate();0==v.getHours()&&v.getMinutes();for(var x=0;x<e.columnCells.length;x++)if(e.columnCells[x]){var y=e.columnCells[x];e.rtl&&(y=e.columnCells[e.columnCells.length-1-x]);for(var w,b=0;b<y.length;b++)y[b].getAttribute("data-end-date")||(j=y[b].getAttribute("data-date"),T=e._getDateByString(j),(w=e._getDateByString(j)).setMinutes(w.getMinutes()+z-1),q=T.valueOf(),w=w.valueOf(),h<q||!(g<=q&&q<f||g<=w&&w<f||q<=g&&f<=w)||-1!=m&&1+m!=y[b].getAttribute("data-view")||(E!=T.getDate()&&(u.sort(a),p.push(u),u=new Array,E=d.addDays(1).day()),u.push({cell:y[b],date:T})))}u.sort(a),p.push(u);for(var N,_=new Array,x=0;x<p.length;x++)0!=(y=p[x]).length&&(S=e.cellWidth,k=y[y.length-1].cell.offsetTop+e.cellHeight,I=y[0].cell.offsetLeft,D=y[0].cell.offsetTop,N=e.getMinutesPerScale(),v=new De.jqx.date(y[y.length-1].date,e.timeZone).addMinutes(N),P={cells:y,x:I,y:D,height:k-D,width:S,appointment:l,from:new De.jqx.date(y[0].date,e.timeZone),to:v},_.push(P),i.push(P));l.elements=_,l.rootAppointment&&(l.rootAppointment.elements=l.rootAppointment.elements.concat(l.elements))}else{y=r[0].cells;1<this.tableRows&&(y=r[m*(r.length/e.tableRows)].cells);for(b=0;b<y.length;b++){var q,j=y[b].getAttribute("data-date"),O=e._getDateByString(j),T=new De.jqx.date(O,e.timeZone);c<(q=(T=De.jqx.scheduler.utilities.getEndOfDay(T)).toDate().valueOf())||d<=T&&T<=c&&(-1!=m&&1+m!=y[b].getAttribute("data-view")||(0==u.length&&(T=De.jqx.scheduler.utilities.getStartOfDay(T)),u.push({cell:y[b],date:T})))}u.sort(a),p.push(u);for(_=new Array,x=0;x<p.length;x++){if(0==(y=p[x]).length)break;var C=De(y[0].cell).position(),S=De(y[y.length-1].cell).position().left+this.cellWidth-C.left,k=De(y[y.length-1].cell).position().top,I=C.left,D=C.top,C=(this.rtl&&(I=(C=De(y[y.length-1].cell).position()).left,S=De(y[0].cell).position().left+this.cellWidth-C.left),y[y.length-1].date),C=new De.jqx.date(De.jqx.scheduler.utilities.getEndOfDay(C),e.timeZone),P={cells:y,x:I,y:D,height:k-D+this.cellHeight,width:S,appointment:l,from:De.jqx.scheduler.utilities.getStartOfDay(new De.jqx.date(y[0].date,e.timeZone)),to:C};_.push(P),s.push(P)}l.elements=_,l.rootAppointment&&(l.rootAppointment.elements=l.rootAppointment.elements.concat(l.elements))}}var R=this.getViewStart(),F=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var A=new Array,M=R,H=0;M<F;){A[H]=new Array;for(x=0;x<i.length;x++)(B=i[x]).from.day()==M.day()&&(B.column=-1,B.columnSpan=1,A[H].push(B));H++,M=M.addDays(1)}for(x=0;x<A.length;x++)this._renderAppointmentsInDay(A[x]);this._renderAllDayAppointments(s)}else for(b=0;b<this._resources.length;b++){for(var W=this._resources[b],A=new Array,M=R,H=0;M<F;){A[H]=new Array;for(var B,x=0;x<i.length;x++)(B=i[x]).from.day()==M.day()&&(B.column=-1,B.columnSpan=1,B.appointment.resourceId==W&&A[H].push(B));H++,M=M.addDays(1)}for(x=0;x<A.length;x++)this._renderAppointmentsInDay(A[x]);for(var V=new Array,x=0;x<s.length;x++)s[x].appointment.resourceId==W&&V.push(s[x]);this._renderAllDayAppointments(V)}},_renderAllDayAppointments:function(e){var t=this,z=this.showAllDayRow,i=this._views[this._view];if((z=i.timeRuler&&null!=i.timeRuler.showAllDayRow?i.timeRuler.showAllDayRow:z)&&0!=e.length){var s=e,E=this.getMaxAllDayAppointments(e);1==this.tableRows?this.table[0].rows[0].clientHeight:this.table[0].rows[1].clientHeight;for(var r=0;r<e.length;r++){(d=e[r]).row=-1;(l=this.getCollisionAppointments(d,e)).sort(this._sortAppointmentsByFrom);var L=l.indexOf(d);if(0<=L)for(var n=L;n<l.length;n++)l[n].row=-1;for(var o=0;o<E;o++){var a,N,O=o;for(u in l){if("indexOf"==u)break;-1!=(c=l[u]).row||this.isBusyRow(O,l)||(c.row=O,a=E,(N=this.getMaxAllDayAppointments(l))<a&&(a=N),c.rowsCount=a)}}}for(o=0;o<s.length;o++){var l,d=s[o],h=((l=this.getCollisionAppointments(d,s)).sort(this._sortAppointmentsByFrom),1);for(u in l){if("indexOf"==u)break;var R=l[u],h=Math.max(h,R.rowsCount)}for(u in l){if("indexOf"==u)break;(R=l[u]).rowsCount=h}if(1==l.length)d.rowSpan=h;else{for(var c,F=0,W=!0,n=d.row;n<h;n++){for(var u in l){if("indexOf"==u)break;(c=l[u])!=d&&c.row==n&&(W=!1)}if(!W)break;F++}d.rowSpan=F}}var p=t.appointmentsMinHeight+2;t.isTouchDevice()&&(p=t.touchAppointmentsMinHeight+2);for(var m=0;m<s.length;m++){var V,g,f,v=p,v=((d=s[m]).height=p,v*d.row);d.y=18+d.y+v+4*d.row,d.x+=3,d.width-=8,0==d.appointment.from.hour()&&23==d.appointment.to.hour()||(v=this.getViewStart(),V=this.getViewEnd(),t.rtl?(g=parseFloat(t.cellWidth/24)*d.appointment.to.hour()+parseFloat(t.cellWidth/48)*(d.appointment.to.minute()/30),f=parseFloat(t.cellWidth/24)*d.appointment.from.hour()+parseFloat(t.cellWidth/48)*(d.appointment.from.minute()/30),0<g&&(g=t.cellWidth-g),d.appointment.from<v&&(f=0),d.appointment.to>V&&(g=0),"exactTime"==i.appointmentsRenderMode&&(d.x+=g,d.width-=g,d.width-=f),d.appointment.duration().days()<1&&d.width<15&&(d.width=15),d.timewidth=d.width,"exactTimeStatus"==i.appointmentsRenderMode&&(d.timewidth-=g,d.timewidth-=f),d.timex=g):(g=parseFloat(t.cellWidth/24)*d.appointment.from.hour()+parseFloat(t.cellWidth/48)*(d.appointment.from.minute()/30),d.appointment.from<v&&(g=0),d.timewidth=d.width,d.timex=g,f=parseFloat(t.cellWidth/24)*d.appointment.to.hour()+parseFloat(t.cellWidth/48)*(d.appointment.to.minute()/30),d.appointment.to>V&&(f=0),d.timewidth-=g,0<f&&(d.timewidth-=t.cellWidth,d.timewidth+=f),"exactTime"==i.appointmentsRenderMode&&(d.width=d.timewidth,d.x+=g)))}for(m=0;m<s.length;m++){var G,x=s[m],y="",w="auto",i=this._views[this._view],b=x.appointment.from,_=x.appointment.to,q=w=i.timeRuler&&i.timeRuler.formatString?i.timeRuler.formatString:w,w=("auto"===w&&(q=0==b.hour()&&0==b.minute()||12==b.hour()&&0==b.minute()?"hh tt":"hh:mm",G=0==_.hour()&&0==_.minute()||12==_.hour()&&0==_.minute()?"hh tt":"hh:mm"),b.toString(q)),b=_.toString(G),q=x.appointment.duration(),_=x.appointment.allDay||23===q.hours&&59===q.minutes&&59===q.seconds,q=x.appointment.background,j=x.appointment.subject||"(No Title)",T=x.appointment.color,C=x.appointment.resourceId,S=t.getColors(t._resources.indexOf(C)),C=" data-resourceId='"+C+"' ",k=x.appointment.borderColor,I=x.appointment.location,U=(0<I.length&&(I=", "+I),q=q||S.background,k=k||S.border,T=T||S.color,x.appointment.isRecurrentAppointment()),Y=x.appointment.isException(),D=(_&&(b=w=""),""),P=t.toTP("jqx-scheduler-appointment-status"),A="",M=t.statuses[x.appointment.status],H=!1,B=(M&&(H="transparent"!=M&&(A="<div style='background: "+M+"; border-right-color: "+k+"' class='"+P+"'></div>","tentative"==M&&(A="<div style='background-color: "+k+"; border-right-color: "+k+"' class='"+(P=t.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),!0)),t.toTP("jqx-scheduler-appointment-duration-status")),B="<div style='width: "+x.timewidth+"px; left: "+x.timex+"px;' class='"+B+"'></div>",K=(_&&(B=""),""),M=("exactTimeStatus"!=i.appointmentsRenderMode&&(B=""),t.rtl&&(A="<div style='background: "+M+"; border-left-color: "+k+"' class='"+(P=t.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>",K=A="tentative"==M?"<div style='background-color: "+k+"; border-left-color: "+k+"' class='"+(P=t.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>":A,A=""),""),P=_?j+I:j+I+B,j=(!t.renderAppointment||(_=t.renderAppointment({appointment:x.appointment.boundAppointment,textColor:T,background:q,borderColor:k,html:P,cssClass:"",style:"",width:x.width,height:x.height,view:t._views[t._view].type}))&&((y=_.html)!=P&&(P=y),T=_.textColor,q=_.background,k=_.borderColor,_.cssClass&&(M=_.cssClass+" "),""!=_.style&&(q=(S=t.getAppointmentColors(_.style)).background,k=S.border,T=S.color)),""===D&&(D=H?"<div style='white-space:nowrap;' class='"+t.toTP("jqx-scheduler-appointment-content")+"'>"+A+"<div class='"+t.toTP("jqx-scheduler-appointment-inner-content")+"'>"+P+"</div>"+K+"</div>":"<div style='white-space:nowrap;' class='"+t.toTP("jqx-scheduler-appointment-content")+"'><div class='"+t.toTP("jqx-scheduler-appointment-inner-content")+"'>"+P+"</div></div>"),""),S=(t.rtl&&(j=t.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),y=Y?(B="white"==T.toLowerCase()?t.toTP("jqx-icon-recurrence-exception-white"):t.toTP("jqx-icon-recurrence-exception"),"<div data-key='"+x.appointment.id+"'"+C+"class='"+j+M+t.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+x.x+"px; top: "+x.y+"px; width: "+x.width+"px; line-height: "+x.height+"px; height: "+x.height+"px; border-color:"+k+"; color:"+T+"; background:"+q+";'><div class='"+B+"'></div>"+D+"<div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):U?(_="white"==T.toLowerCase()?t.toTP("jqx-icon-recurrence-white"):t.toTP("jqx-icon-recurrence"),"<div data-key='"+x.appointment.id+"'"+C+"class='"+j+M+t.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+x.x+"px; top: "+x.y+"px; width: "+x.width+"px; line-height: "+x.height+"px; height: "+x.height+"px; border-color:"+k+"; color:"+T+"; background:"+q+";'><div class='"+_+"'></div>"+D+"<div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):"<div data-key='"+x.appointment.id+"'"+C+"class='"+j+M+t.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+x.x+"px; top: "+x.y+"px; width: "+x.width+"px; line-height: "+x.height+"px; height: "+x.height+"px; border-color:"+k+"; color:"+T+"; background:"+q+";'>"+D+"<div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>",De(y));1==this.tableRows?S.appendTo(this.pinnedtable):S.appendTo(this.table),x.element=S,this.appointmentTooltips&&(x.appointment.tooltip?S[0].setAttribute("title",x.appointment.tooltip):(H=x.appointment.subject,(H=w?w+" - "+b+" "+H:H)&&((I=x.appointment.location)&&(H+="\n"+I),S[0].setAttribute("title",H))))}}},_renderAppointmentsInDay:function(e,z){if(0!=e.length){var t,i=this,s=this._views[this._view],r=e,n=(this.getViewStart(),this.getViewEnd(),0),E=(s.timeRuler?(n=this.columns.records[1].width,s.timeRuler.timeZones&&(n=this.columns.records[1+s.timeRuler.timeZones.length].width)):n=this.columns.records[1].width,n/(t=this.getMaxColumnsInADay(e)));if(!(E<0)){for(var o=0;o<e.length;o++){(c=e[o]).column=-1;(h=this.getCollisionAppointments(c,e)).sort(this._sortAppointmentsByFrom);var L=h.indexOf(c);if(0<=L)for(var a=L;a<h.length;a++)h[a].column=-1;for(var l=0;l<t;l++){var d,N,O=l;for(m in h){if("indexOf"==m)break;-1!=(p=h[m]).column||this.isBusyColumn(O,h)||(p.column=O,d=t,(N=this.getMaxColumnsInADay(h))<d&&(d=N),p.columnsCount=d)}}}for(l=0;l<r.length;l++){var h,R,c=r[l],u=((h=this.getCollisionAppointments(c,r)).sort(this._sortAppointmentsByFrom),1);for(m in h){if("indexOf"==m)break;null!=(R=h[m]).columnsCount&&(u=Math.max(u,R.columnsCount))}for(m in h){if("indexOf"==m)break;(R=h[m]).columnsCount=u}if(1==h.length)c.columnSpan=u;else{for(var p,F=0,W=!0,a=c.column;a<u;a++){for(var m in h){if("indexOf"==m)break;null!=(p=h[m]).column&&p!=c&&p.column==a&&(W=!1)}if(!W)break;F++}c.columnSpan=F}}for(var g=0;g<r.length;g++){var V,f,v,x=n/r[g].columnsCount,x=((c=r[g]).width=x*c.columnSpan-5,x*c.column);c.x=2+c.x+x,c.height-=5,c.y+=1,"exactTime"==s.appointmentsRenderMode&&(x=i.getMinutesPerScale(),V=c.appointment.from.minute()%x!=0?(f=c.appointment.from.minute()%x,parseFloat(i.cellHeight/x)*f):0,c.appointment.to.minute()%x!=0?(f=c.appointment.to.minute()%x,v=i.cellHeight-parseFloat(i.cellHeight/x)*f,c.to.day()!==c.appointment.to.day()&&(v=0)):v=0,c.y+=V,c.height-=V,c.height-=v)}for(g=0;g<r.length;g++){var G,y=r[g],w="",b="auto",s=this._views[this._view],_=y.appointment.from,q=y.appointment.to,j=b=s.timeRuler&&s.timeRuler.formatString?s.timeRuler.formatString:b,b=("auto"===b&&(j=0==_.hour()&&0==_.minute()||12==_.hour()&&0==_.minute()?"hh tt":"hh:mm",G=0==q.hour()&&0==q.minute()||12==q.hour()&&0==q.minute()?"hh tt":"hh:mm"),_.toString(j),q.toString(G),y.appointment.background),j=y.appointment.subject||"(No Title)",T=y.appointment.location||"",C=y.appointment.color,S=y.appointment.resourceId,k=i.getColors(i._resources.indexOf(S)),S=" data-resourceId='"+S+"' ",I=y.appointment.borderColor,U=(b=b||k.background,I=I||k.border,C=C||k.color,y.appointment.isRecurrentAppointment()),Y=y.appointment.isException(),D="",P=i.toTP("jqx-scheduler-appointment-status"),A="",M=i.statuses[y.appointment.status],H=!1,B=(M&&(H="transparent"!=M&&(A="<div style='background: "+M+"; border-right-color: "+I+"' class='"+P+"'></div>","tentative"==M&&(A="<div style='background-color: "+I+"; border-right-color: "+I+"' class='"+(P=i.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),!0)),""),M=(i.rtl&&(A="<div style='background: "+M+"; border-left-color: "+I+"' class='"+(P=i.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>",B=A="tentative"==M?"<div style='background-color: "+I+"; border-left-color: "+I+"' class='"+(P=i.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>":A,A=""),""),P=T?j+"<br/>"+T:j,j=(!i.renderAppointment||(j=i.renderAppointment({appointment:y.appointment.boundAppointment,textColor:C,background:b,borderColor:I,html:P,cssClass:"",style:"",width:y.width,height:y.height,view:i._views[i._view].type}))&&((w=j.html)!=P&&(P=w),C=j.textColor,b=j.background,I=j.borderColor,j.cssClass&&(M=j.cssClass+" "),""!=j.style&&(b=(k=i.getAppointmentColors(j.style)).background,I=k.border,C=k.color)),""===D&&(D=H?"<div class='"+i.toTP("jqx-scheduler-appointment-content")+"'>"+A+"<div class='"+i.toTP("jqx-scheduler-appointment-inner-content")+"'>"+P+"</div>"+B+"</div>":"<div class='"+i.toTP("jqx-scheduler-appointment-content")+"'><div class='"+i.toTP("jqx-scheduler-appointment-inner-content")+"'>"+P+"</div></div>"),""),A=(i.rtl&&(j=i.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),w=Y?(k="white"==C.toLowerCase()?i.toTP("jqx-icon-recurrence-exception-white"):i.toTP("jqx-icon-recurrence-exception"),"<div data-key='"+y.appointment.id+"'"+S+"class='"+j+M+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+y.x+"px; top: "+y.y+"px; width: "+y.width+"px; height: "+y.height+"px; border-color:"+I+"; color:"+C+"; background:"+b+";'><div class='"+k+"'></div>"+D+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"):U?(H="white"==C.toLowerCase()?i.toTP("jqx-icon-recurrence-white"):i.toTP("jqx-icon-recurrence"),"<div data-key='"+y.appointment.id+"'"+S+"class='"+j+M+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+y.x+"px; top: "+y.y+"px; width: "+y.width+"px; height: "+y.height+"px; border-color:"+I+"; color:"+C+"; background:"+b+";'><div class='"+H+"'></div>"+D+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"):"<div data-key='"+y.appointment.id+"'"+S+"class='"+j+M+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+y.x+"px; top: "+y.y+"px; width: "+y.width+"px; height: "+y.height+"px; border-color:"+I+"; color:"+C+"; background:"+b+";'>"+D+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>",De(w));A.appendTo(this.table),y.element=A,i.showCurrentAppointment&&(B=new Date,_=y.from.toDate(),q=y.to.toDate(),_<=B&&B<=q&&this.showCurrentAppointment&&y.element[0].classList.add("current-appointment")),this.appointmentTooltips&&(y.appointment.tooltip?A[0].setAttribute("title",y.appointment.tooltip):(P=y.appointment.subject)&&((T=y.appointment.location)&&(P+="\n"+T),A[0].setAttribute("title",P)))}}}},getCollisionAppointments:function(e,t){for(var i=new Array,s=e.from,r=e.to,n=0;n<t.length;n++){var o=t[n],a=o.from,l=o.to;if(De.jqx.scheduler.utilities.rangeIntersection(s,r,a,l)&&(i.push(o),30<i.length))break}return i},getAllDayCollisionAppointments:function(e,t){for(var i=new Array,s=De.jqx.scheduler.utilities.getStartOfDay(e.from),r=De.jqx.scheduler.utilities.getEndOfDay(e.to),n=0;n<t.length;n++){var o=t[n],a=De.jqx.scheduler.utilities.getStartOfDay(o.from),l=De.jqx.scheduler.utilities.getEndOfDay(o.to);De.jqx.scheduler.utilities.rangeIntersection(s,r,a,l)&&i.push(o)}return i},_renderAppointments:function(e,t){var i,s=this;s._appupdating||(s.table.find(".jqx-scheduler-appointment").remove(),s.pinnedtable.find(".jqx-scheduler-appointment").remove(),"dayView"===(i=s._views[s._view].type)||"weekView"===i?s._renderDayWeekAppointments(e,t):"monthView"===i?s._renderMonthAppointments(e,t):"timelineWeekView"!==i&&"timelineDayView"!==i&&"timelineMonthView"!==i||s._renderTimelineAppointments(e,t),s.selectedJQXAppointment&&s._selectAppointment(s.selectedJQXAppointment))},_renderTimelineAppointments:function(e,t){for(var i=this,s=i._views[i._view].type,r=i._views[i._view],n=new Array,o=(this.rows,this.cellHeight),a=this.cellWidth,l=i.getMinutesPerScale(),d=0;d<this.appointmentsToRender.length;d++){for(var h=this.appointmentsToRender[d],c=h.from,u=h.to,p=(i._getDateByString,new Array),m=c.toDate().valueOf(),g=u.toDate().valueOf(),f=("timelineMonthView"===s&&(m=c.clearTime().toDate().valueOf()),i.rows[0]),c=h.resourceId,v=i._resources.indexOf(c),x=(0<i._resources.length&&"horizontal"!==i.resources.orientation&&1<=v&&(f=i.rows[v]),i.resources&&"none"==i.resources.orientation&&(v=-1,f=i.rows[0]),f.cells),y=0;y<x.length;y++){var w=x[y].getAttribute("data-date"),b=(x[y].appointments=new Array,i._getDateByString(w)),_=b.valueOf(),w=i._getDateByString(w),w=(w.setMinutes(w.getMinutes()+l-1),w.valueOf());u<_||!(m<=_&&_<g||m<=w&&w<g||_<=m&&m<=w&&g<=w)||-1!=v&&1+v!=x[y].getAttribute("data-view")||(p.push({cell:x[y],date:b}),f=D)}p.sort(function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0});var q,j,T,C,S,c=new Array;0!=(x=p).length&&(q=i.appointmentsMinHeight,i.isTouchDevice()&&(q=i.touchAppointmentsMinHeight),r.appointmentHeight&&(q=r.appointmentHeight),C=De(x[0].cell).position(),q=q,j=De(x[x.length-1].cell).position().left-C.left+a,S=C.left,T=C.top,i.rtl&&(C=De(x[x.length-1].cell).position(),j=De(x[0].cell).position().left-C.left+a,S=C.left,T=C.top),C=new De.jqx.date(x[x.length-1].date,i.timeZone).addMinutes(l),"timelineMonthView"===s&&(C=De.jqx.scheduler.utilities.getEndOfDay(new De.jqx.date(x[x.length-1].date,i.timeZone))),S={cellX:S,cellY:T,cellHeight:o,cells:x,x:S,y:T,height:q,width:j,appointment:h,from:new De.jqx.date(x[0].date,i.timeZone),to:C},"exactTime"===r.appointmentsRenderMode&&(S.from=h.from,S.to=h.to),c.push(S),n.push(S),h.elements=c,h.rootAppointment&&(h.rootAppointment.elements=h.rootAppointment.elements.concat(h.elements)))}if(this._resources.length<2||"none"==this.resources.orientation)this._renderUITimelineAppointments(n,e,t);else for(y=0;y<this._resources.length;y++){for(var k=this._resources[y],I=new Array,D=0;D<n.length;D++)n[D].appointment.resourceId==k&&I.push(n[D]);this._renderUITimelineAppointments(I,e,t)}},_renderUITimelineAppointments:function(e,z,E){(h=this)._views[h._view].type;var t=h._views[h._view],i=e,h=this,L=new Array,N=h.getMaxTimelineAppointments(e,L,z,E),s=h.appointmentsMinHeight;h.isTouchDevice()&&(s=h.touchAppointmentsMinHeight),t.appointmentHeight&&(s=t.appointmentHeight);for(var r=0;r<e.length;r++){(d=e[r]).row=-1;(l=h.getCollisionAppointments(d,e)).sort(h._sortAppointmentsByFrom);var O=l.indexOf(d);if(0<=O)for(var n=O;n<l.length;n++)l[n].row=-1;for(var o=0;o<N;o++){var a,R,F=o;if(30<o)break;for(p in l){if("indexOf"==p)break;if(30<p)break;-1!=(u=l[p]).row||h.isBusyRow(F,l)||(u.row=F,a=N,(R=h.getMaxTimelineAppointments(l,L,z,E))<a&&(a=R),u.rowsCount=a)}}}for(o=0;o<i.length;o++){var l,d=i[o],c=((l=h.getCollisionAppointments(d,i)).sort(h._sortAppointmentsByFrom),1);for(p in l){if("indexOf"==p)break;var W=l[p],c=Math.max(c,W.rowsCount)}for(p in l){if("indexOf"==p)break;(W=l[p]).rowsCount=c}if(1==l.length)d.rowSpan=c;else{for(var u,V=0,G=!0,n=d.row;n<c;n++){for(var p in l){if("indexOf"==p)break;(u=l[p])!=d&&u.row==n&&(G=!1)}if(!G)break;V++}d.rowSpan=V}}for(var m=0;m<i.length;m++){var g,f,v,x=s,x=2+(3+((d=i[m]).height=x))*d.row,x=(d.y=d.y+x,d.x+=1,d.width-=5,h._views[h._view].type),t=h._views[h._view];"timelineMonthView"==x&&t.appointmentsRenderMode?0==d.appointment.from.hour()&&23==d.appointment.to.hour()||(h.rtl?(g=parseFloat(h.cellWidth/24)*d.appointment.to.hour()+parseFloat(h.cellWidth/48)*(d.appointment.to.minute()/30),v=parseFloat(h.cellWidth/24)*d.appointment.from.hour()+parseFloat(h.cellWidth/48)*(d.appointment.from.minute()/30),0<g&&(g=h.cellWidth-g),"exactTime"==t.appointmentsRenderMode&&(d.x+=g,d.width-=g,d.width-=v),d.appointment.duration().days()<1&&d.width<15&&(d.width=15),d.timewidth=d.width,d.timex=g):(g=parseFloat(h.cellWidth/24)*d.appointment.from.hour()+parseFloat(h.cellWidth/48)*(d.appointment.from.minute()/30),v=parseFloat(h.cellWidth/24)*d.appointment.to.hour()+parseFloat(h.cellWidth/48)*(d.appointment.to.minute()/30),d.timewidth=d.width,d.timex=g,d.timewidth-=g,d.timewidth-=h.cellWidth,d.timewidth+=v,"exactTime"==t.appointmentsRenderMode&&(d.width=d.timewidth,h.date.month()===d.appointment.from.month()?d.x+=g:d.width=g+d.timewidth,d.appointment.duration().days()<1&&d.width<15&&g+(d.width=15)>h.cellWidth&&(x=h.cellWidth-g-15,d.x+=x)))):t.appointmentsRenderMode&&"exactTime"==t.appointmentsRenderMode&&(x=h.getMinutesPerScale(),d.appointment.from.minute()%x!=0?(f=d.appointment.from.minute()%x,g=parseFloat(h.cellWidth/x)*f,h.rtl&&(g=parseFloat(h.cellWidth/x)*f)):g=0,d.appointment.to.minute()%x!=0?(f=d.appointment.to.minute()%x,v=h.cellWidth-parseFloat(h.cellWidth/x)*f,h.rtl&&(v=h.cellWidth-parseFloat(h.cellWidth/x)*f)):v=0,h.rtl?d.x+=v:d.x+=g,d.width-=g,d.width-=v)}for(var U=[],m=0;m<i.length;m++){var y,Y,w,b,_,q,j,T,C,S,k,I,D,P,A,M="";(H=i[m]).y<0||(U.push(H),t=h._views[h._view],H.appointment.from,H.appointment.to,t.timeRuler&&t.timeRuler.formatString&&t.timeRuler.formatString,b=H.appointment.background,T=H.appointment.subject||"(No Title)",(A=H.appointment.location)&&1<A.length&&(A=", "+A),q=H.appointment.color,y=H.appointment.resourceId,C=h.getColors(h._resources.indexOf(y)),y=" data-resourceId='"+y+"' ",_=H.appointment.borderColor,b=b||C.background,_=_||C.border,q=q||C.color,Y=H.appointment.isRecurrentAppointment(),P=H.appointment.isException(),j="",D=h.toTP("jqx-scheduler-appointment-status"),k="",S=!1,(w=h.statuses[H.appointment.status])&&(S="transparent"!=w&&(k="<div style='background: "+w+"; border-right-color: "+_+"' class='"+D+"'></div>","tentative"==w&&(k="<div style='background-color: "+_+"; border-right-color: "+_+"' class='"+(D=h.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),!0)),I="",h.rtl&&(k="<div style='background: "+w+"; border-left-color: "+_+"' class='"+(D=h.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>",I=k="tentative"==w?"<div style='background-color: "+_+"; border-left-color: "+_+"' class='"+(D=h.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>":k,k=""),w="",D=T+"<br/>"+A,h.renderAppointment&&(T=h.renderAppointment({appointment:H.appointment.boundAppointment,textColor:q,background:b,borderColor:_,html:D,cssClass:"",style:"",width:H.width,height:H.height,view:h._views[h._view].type}))&&((M=T.html)!=D&&(D=M),q=T.textColor,b=T.background,_=T.borderColor,T.cssClass&&(w=T.cssClass+" "),""!=T.style&&(b=(C=h.getAppointmentColors(T.style)).background,_=C.border,q=C.color)),""===j&&(j=S?"<div style='white-space:nowrap;' class='"+h.toTP("jqx-scheduler-appointment-content")+"'>"+k+"<div class='"+h.toTP("jqx-scheduler-appointment-inner-content")+"'>"+D+"</div>"+I+"</div>":"<div style='white-space:nowrap;' class='"+h.toTP("jqx-scheduler-appointment-content")+"'><div class='"+h.toTP("jqx-scheduler-appointment-inner-content")+"'>"+D+"</div></div>"),T="",h.rtl&&(T=h.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),M=P?(C="white"==q.toLowerCase()?h.toTP("jqx-icon-recurrence-exception-white"):h.toTP("jqx-icon-recurrence-exception"),"<div data-key='"+H.appointment.id+"'"+y+"class='"+T+w+h.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+H.x+"px; top: "+H.y+"px; width: "+H.width+"px; height: "+H.height+"px; line-height: "+H.height+"px; border-color:"+_+"; color:"+q+"; background:"+b+";'><div class='"+C+"'></div>"+j+"<div class='"+h.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+h.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):Y?(S="white"==q.toLowerCase()?h.toTP("jqx-icon-recurrence-white"):h.toTP("jqx-icon-recurrence"),"<div data-key='"+H.appointment.id+"'"+y+"class='"+T+w+h.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+H.x+"px; top: "+H.y+"px; width: "+H.width+"px; height: "+H.height+"px; line-height: "+H.height+"px; border-color:"+_+"; color:"+q+"; background:"+b+";'><div class='"+S+"'></div>"+j+"<div class='"+h.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+h.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):"<div data-key='"+H.appointment.id+"'"+y+"class='"+T+w+h.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+H.x+"px; top: "+H.y+"px; width: "+H.width+"px; height: "+H.height+"px; line-height: "+H.height+"px; border-color:"+_+"; color:"+q+"; background:"+b+";'>"+j+"<div class='"+h.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+h.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>",(B=De(M)).appendTo(this.table),H.element=B,k=new Date,I=H.from.toDate(),D=H.to.toDate(),I<=k&&k<=D&&this.showCurrentAppointment&&H.element[0].classList.add("current-appointment"),this.appointmentTooltips&&(H.appointment.tooltip?B[0].setAttribute("title",H.appointment.tooltip):(P=H.appointment.subject)&&((A=H.appointment.location)&&(P+="\n"+A),B[0].setAttribute("title",P))))}for(var K=h.table.find(".jqx-scheduler-appointment"),m=0;m<U.length;m++){var H=U[m],B=De(function(e){for(var t=0;t<K.length;t++)if(K[t].getAttribute("data-key")==e)return K[t]}(H.appointment.id));De.each(H.cells,function(e){var t,a=De(this.cell),l=H.cellY,d=(H.cellX,H.cellHeight);a[0].appointments||(a[0].appointments=new Array),a[0].appointments.push({ui:B,appointment:H}),H.y+H.height>=l+d-12&&(B[0].style.visibility="hidden",0<(t=a.find(".jqx-icon-arrow-down")).length&&(t[0].style.display="block",t[0].mousedown=function(){h.openedMonthCellPopup&&h.openedMonthCellPopup.remove();for(var e=De("<div></div>"),t=(new De.jqx.date(a.attr("data-date"),h.timeZone),De("<div class='"+h.toTP("jqx-scheduler-month-cell")+"'><span style='float: right; cursor: pointer; width:16px; height: 16px;' class='"+h.toTP("jqx-icon-close")+"'></span></div>")),i=(t.height(16),t.find("span")[0].mousedown=function(){e.remove()},t.addClass(h.toTP("jqx-widget-header")),e.addClass(h.toTP("jqx-widget")),e.addClass(h.toTP("jqx-window")),e.addClass(h.toTP("jqx-scheduler-month-cell-popup")),e.addClass(h.toTP("jqx-popup")),De("<div></div>")),s=(e.append(t),e.append(i),i.addClass(h.toTP("jqx-widget-content")),a.width()),r=21,n=0;n<a[0].appointments.length;n++){var o=a[0].appointments[n].ui.clone(!0);o.css("left","3px"),o.css("top","0px"),o.css("margin-top","2px"),o.css("position","relative"),o.css("visibility","visible"),o.width(s-6),o.click(function(e){e=h.getJQXAppointmentByElement(h.getAppointmentElement(e.target));h._raiseEvent("appointmentClick",{appointment:e.boundAppointment})}),o.dblclick(function(e){e=h.getJQXAppointmentByElement(h.getAppointmentElement(e.target));e.readOnly||h.editRecurrenceDialog.jqxWindow("isOpen")||h._editDialog&&(!h._editDialog||h._editDialog.jqxWindow("isOpen"))||!1!==h._initDialog(e)&&h._openDialog(),h._raiseEvent("appointmentDoubleClick",{appointment:e.boundAppointment})}),r+=o.outerHeight()+4,i.append(o)}e.css("overflow","hidden"),e.css("position","absolute");t=h.table.height()-l-25,e.css("max-height",t=t<d?d:t),e.height(r),e.width(s),e.css("z-index","9999"),t=a.position();e.css("top",t.top),e.css("left",t.left),h.table.append(e),h.openedMonthCellPopup=e}))})}},_renderMonthAppointments:function(){var e=this,t=(e._views[e._view].type,e._views[e._view]),i=new Array,s=(this.rows,0);0<this.host.find(".jqx-scheduler-month-cell").length&&(s=De(this.host.find(".jqx-scheduler-month-cell")[0]).height());for(var r=0;r<this.appointmentsToRender.length;r++){function n(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0}var o=this.appointmentsToRender[r],a=De.jqx.scheduler.utilities.getStartOfDay(o.from),l=De.jqx.scheduler.utilities.getEndOfDay(o.to),d=(o.allDay,new Array),h=new Array,z=a.toDate().valueOf(),E=l.toDate().valueOf(),c=-1,a=o.resourceId,u=e._resources.indexOf(a);e.resources&&"none"==e.resources.orientation&&(u=-1);for(var p=0;p<e.rows.length;p++)for(var m=e.rows[p].cells,g=0;g<m.length;g++){var f=m[g].getAttribute("data-date"),f=this._getDateByString(f),v=f.valueOf();l<v||(m[g].appointments=new Array,-1!=u&&1+u!=m[g].getAttribute("data-view")||z<=v&&v<E&&(c!=p&&-1!=c&&(d.sort(n),h.push(d),d=new Array),d.push({cell:m[g],date:f}),c=p))}d.sort(n),h.push(d);for(var x=new Array,p=0;p<h.length;p++){if(0==(m=h[p]).length)break;var y=e.appointmentsMinHeight,y=(e.isTouchDevice()&&(y=e.touchAppointmentsMinHeight),y=t.appointmentHeight?t.appointmentHeight:y),w=De(m[m.length-1].cell).position().left,b=w-De(m[0].cell).position().left+e.columns.records[0].width,_=(t.showWeekNumbers&&(b=w-De(m[0].cell).position().left+e.columns.records[1].width),De(m[0].cell).position()),q=_.left,j=_.top+s,T=De.jqx.scheduler.utilities.getEndOfDay(new De.jqx.date(m[m.length-1].date,e.timeZone)),C=new De.jqx.date(m[0].date,e.timeZone),_=(e.rtl&&(T=De.jqx.scheduler.utilities.getEndOfDay(new De.jqx.date(m[0].date,e.timeZone)),C=new De.jqx.date(m[m.length-1].date,e.timeZone),q=(_=De(m[m.length-1].cell).position()).left,j=_.top+s,b=(w=De(m[0].cell).position().left)-De(m[m.length-1].cell).position().left+e.columns.records[0].width,t.showWeekNumbers&&(b=w-De(m[m.length-1].cell).position().left+e.columns.records[1].width)),{cells:m,cellY:parseInt(_.top),cellX:parseInt(_.left),lastCellY:parseInt(_.top),lastCellX:w,x:q,y:j,height:y,width:b,appointment:o,from:C,to:T});x.push(_),i.push(_)}o.elements=x,o.rootAppointment&&(o.rootAppointment.elements=o.rootAppointment.elements.concat(o.elements))}var S=this.getViewStart(),k=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var I=new Array,D=S,P=0;D<k;){I[P]=new Array;for(p=0;p<i.length;p++){var A=i[p];D<=A.from&&A.to<D.addDays(7)&&(A.row=-1,A.rowSpan=1,I[P].push(A))}P++,D=D.addDays(7)}for(var M=D=S,p=0;p<I.length;p++){if(0<I[p].length){for(var L=I[p],H=[],g=0;g<7;g++){var N=L.filter(function(e){return De.jqx.scheduler.utilities.rangeIntersection(e.from,e.to,D,De.jqx.scheduler.utilities.getEndOfDay(D))});D=D.addDays(1);for(var B=0;B<N.length&&!(20<=B);B++){o=N[B];-1===H.indexOf(o)&&H.push(o)}}this._renderUIMonthAppointments(H)}M=M.addDays(7),D=M}}else for(g=0;g<this._resources.length;g++){for(var O=this._resources[g],I=(new Array,new Array),D=S,P=0;D<k;){I[P]=new Array;for(p=0;p<i.length;p++){A=i[p];D<=A.from&&A.to<D.addDays(7)&&(A.row=-1,A.rowSpan=1,A.appointment.resourceId==O&&I[P].push(A))}P++,D=D.addDays(7)}for(p=0;p<I.length;p++)0<I[p].length&&this._renderUIMonthAppointments(I[p])}},_getMonthAppointmentsPerWeek:function(){var e=this,t=(e._views[e._view].type,e._views[e._view]),i=new Array,s=(this.rows,0);if(0<this.host.find(".jqx-scheduler-month-cell").length&&(s=De(this.host.find(".jqx-scheduler-month-cell")[0]).height()),!e.rows)return new Array;for(var r=this.getViewStart(),n=this.getViewEnd(),o=0;o<this.appointmentsToRender.length;o++){function a(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0}var l=this.appointmentsToRender[o],d=De.jqx.scheduler.utilities.getStartOfDay(l.from),h=De.jqx.scheduler.utilities.getEndOfDay(l.to),c=(l.allDay,e._getDateByString,new Array),u=new Array,p=d.toDate().valueOf(),m=h.toDate().valueOf(),g=-1,d=l.resourceId,f=e._resources.indexOf(d);e.resources&&"none"==e.resources.orientation&&(f=-1);for(var v=0;v<e.rows.length;v++)for(var x=e.rows[v].cells,y=0;y<x.length;y++){x[y].getAttribute("data-date");var w=r.addDays(7*v+y).toDate(),b=w.valueOf();h<b||-1!=f&&1+f!=x[y].getAttribute("data-view")||p<=b&&b<m&&(g!=v&&-1!=g&&(c.sort(a),u.push(c),c=new Array),c.push({cell:x[y],date:w}),g=v)}c.sort(a),u.push(c);for(var z=new Array,v=0;v<u.length;v++){if(0==(x=u[v]).length)break;var _=e.appointmentsMinHeight,E=(e.isTouchDevice()&&(_=e.touchAppointmentsMinHeight),_=t.appointmentHeight?t.appointmentHeight:_),q=De(x[x.length-1].cell).position().left,j=q-De(x[0].cell).position().left+e.columns.records[0].width,T=(t.showWeekNumbers&&(j=q-De(x[0].cell).position().left+e.columns.records[1].width),De(x[0].cell).position()),C=T.left,S=T.top+s,k=De.jqx.scheduler.utilities.getEndOfDay(new De.jqx.date(x[x.length-1].date,e.timeZone)),I=new De.jqx.date(x[0].date,e.timeZone),T=(e.rtl&&(k=De.jqx.scheduler.utilities.getEndOfDay(new De.jqx.date(x[0].date,e.timeZone)),I=new De.jqx.date(x[x.length-1].date,e.timeZone),C=(T=De(x[x.length-1].cell).position()).left,S=T.top+s,j=(q=De(x[0].cell).position().left)-De(x[x.length-1].cell).position().left+e.columns.records[0].width,t.showWeekNumbers&&(j=q-De(x[x.length-1].cell).position().left+e.columns.records[1].width)),{cells:x,cellY:parseInt(T.top),cellX:parseInt(T.left),lastCellY:parseInt(T.top),lastCellX:q,x:C,y:S,height:E,width:j,appointment:l,from:I,to:k});z.push(T),i.push(T)}}if(this._resources.length<2||"none"==this.resources.orientation){for(var D=new Array,P=r,A=0;P<n;){D[A]=new Array;for(v=0;v<i.length;v++)P<=(H=i[v]).from&&H.to<P.addDays(7)&&(H.row=-1,H.rowSpan=1,D[A].push(H));A++,P=P.addDays(7)}for(var M=new Array,v=0;v<D.length;v++)0<D[v].length?(B=this.getMaxMonthAppointments(D[v]),_=e.appointmentsMinHeight,e.isTouchDevice()&&(_=e.touchAppointmentsMinHeight),t.appointmentHeight&&(_=t.appointmentHeight),M.push(B*(_+3)+22)):M.push("auto");return M}for(M=new Array,y=0;y<this._resources.length;y++){for(var L=this._resources[y],D=(new Array,new Array),P=r,A=0;P<n;){D[A]=new Array;for(var H,v=0;v<i.length;v++)P<=(H=i[v]).from&&H.to<P.addDays(7)&&(H.row=-1,H.rowSpan=1,H.appointment.resourceId==L&&D[A].push(H));A++,P=P.addDays(7)}for(var B,v=0;v<D.length;v++)0<D[v].length?(B=this.getMaxMonthAppointments(D[v]),M.push(B*(_+3)+22)):M.push("auto");return M}},_renderUIMonthAppointments:function(e){var t=this._views[this._view],i=e,d=(this.getViewStart(),this.getViewEnd(),this),z=this.getMaxMonthAppointments(e),E=d.appointmentsMinHeight,L=(d.isTouchDevice()&&(E=d.touchAppointmentsMinHeight),t.appointmentHeight&&(E=t.appointmentHeight),this._sortAppointmentsByFrom);this.rtl&&(L=this._sortAppointmentsByTo);for(var N=0;N<e.length;N++){(a=e[N]).row=-1;(o=this.getCollisionAppointments(a,e)).sort(L);var O=o.indexOf(a);if(0<=O)for(var s=O;s<o.length;s++)o[s].row=-1;for(var r=0;r<z;r++){var n,R,F=r;for(c in o){if("indexOf"==c)break;-1!=(h=o[c]).row||this.isBusyRow(F,o)||(h.row=F,n=z,(R=this.getMaxMonthAppointments(o))<n&&(n=R),h.rowsCount=n)}}}for(r=0;r<i.length;r++){var o,a=i[r],l=((o=this.getCollisionAppointments(a,i)).sort(L),1);for(c in o){if("indexOf"==c)break;var W=o[c],l=Math.max(l,W.rowsCount)}for(c in o){if("indexOf"==c)break;(W=o[c]).rowsCount=l}if(1==o.length)a.rowSpan=l;else{for(var h,V=0,G=!0,s=a.row;s<l;s++){for(var c in o){if("indexOf"==c)break;(h=o[c])!=a&&h.row==s&&(G=!1)}if(!G)break;V++}a.rowSpan=V}}for(var u=0;u<i.length;u++){var p,m,g=E,g=2+(3+((a=i[u]).height=g))*a.row;a.y=a.y+g,a.x+=1,a.width-=5,0==a.appointment.from.hour()&&23==a.appointment.to.hour()||(d.rtl?(p=parseFloat(d.cellWidth/24)*a.appointment.to.hour()+parseFloat(d.cellWidth/48)*(a.appointment.to.minute()/30),m=parseFloat(d.cellWidth/24)*a.appointment.from.hour()+parseFloat(d.cellWidth/48)*(a.appointment.from.minute()/30),1<a.appointment.elements.length?a==a.appointment.elements[0]?0<m?"exactTime"==t.appointmentsRenderMode?(a.width-=d.cellWidth-p,a.width-=m):a.timewidth=a.width-d.cellWidth+p-m:(a.timewidth=a.width,a.timex=0):a==a.appointment.elements[a.appointment.elements.length-1]&&("exactTime"==t.appointmentsRenderMode&&(a.x+=d.cellWidth,a.x-=p,a.width+=p,a.width-=d.cellWidth),a.timewidth=a.width-d.cellWidth+p,a.timex=d.cellWidth-p):("exactTime"==t.appointmentsRenderMode&&(a.x+=d.cellWidth,a.x-=p,a.width-=d.cellWidth-p,a.width-=m),a.appointment.duration().days()<1&&a.width<15&&(a.width=15),a.timewidth=a.width-d.cellWidth+p-m,a.timex=d.cellWidth-p)):(p=parseFloat(d.cellWidth/24)*a.appointment.from.hour()+parseFloat(d.cellWidth/48)*(a.appointment.from.minute()/30),a.timewidth=a.width,a.from.clearTime().toString()==a.appointment.from.clearTime().toString()?a.timex=p:p=0,1<a.appointment.elements.length&&a.appointment.elements[0]!=a&&(p=0),m=parseFloat(d.cellWidth/24)*a.appointment.to.hour()+parseFloat(d.cellWidth/48)*(a.appointment.to.minute()/30),1<a.appointment.elements.length&&a.appointment.elements[a.appointment.elements.length-1]!=a&&(m=0),a.timewidth-=p,0<m&&(a.timewidth-=d.cellWidth,a.timewidth+=m),"exactTime"==t.appointmentsRenderMode&&(a.from.clearTime().toString()==a.appointment.from.clearTime().toString()&&(a.x+=p),a.width=a.timewidth,a.appointment.duration().days()<1&&a.width<15&&p+(a.width=15)>d.cellWidth&&(g=d.cellWidth-p-15,a.x+=g))))}for(u=0;u<i.length;u++){var f=i[u],v="",x="auto",t=this._views[this._view],y=f.appointment.from,w=f.appointment.to,x="auto",t=this._views[this._view],y=f.appointment.from,w=f.appointment.to,U=x=t.timeRuler&&t.timeRuler.formatString?t.timeRuler.formatString:x,b=x,x=("auto"===x&&(U=0==y.hour()&&0==y.minute()||12==y.hour()&&0==y.minute()?"hh tt":"hh:mm",b=0==w.hour()&&0==w.minute()||12==w.hour()&&0==w.minute()?"hh tt":"hh:mm"),y.toString(U)),U=w.toString(b),b=f.appointment.duration(),b=f.appointment.allDay||23===b.hours&&59===b.minutes&&59===b.seconds,_=f.appointment.background,q=f.appointment.subject||"(No Title)",j=f.appointment.color,T=f.appointment.resourceId,C=d.getColors(d._resources.indexOf(T)),T=" data-resourceId='"+T+"' ",S=f.appointment.borderColor,k=f.appointment.location,Y=(k&&1<k.length&&(k=", "+k),_=_||C.background,S=S||C.border,j=j||C.color,f.appointment.isRecurrentAppointment()),K=f.appointment.isException(),I="",D=d.toTP("jqx-scheduler-appointment-status"),P="",A=d.statuses[f.appointment.status],M=!1,H=(A&&(M="transparent"!=A&&(P="<div style='background: "+A+"; border-right-color: "+S+"' class='"+D+"'></div>","tentative"==A&&(P="<div style='background-color: "+S+"; border-right-color: "+S+"' class='"+(D=d.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),!0)),d.toTP("jqx-scheduler-appointment-duration-status")),H="<div style='width: "+f.timewidth+"px; left: "+f.timex+"px;' class='"+H+"'></div>",X=(b&&(H=""),"exactTimeStatus"!=t.appointmentsRenderMode&&(H=""),""),A=(d.rtl&&(P="<div style='background: "+A+"; border-left-color: "+S+"' class='"+(D=d.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>",X=P="tentative"==A?"<div style='background-color: "+S+"; border-left-color: "+S+"' class='"+(D=d.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>":P,P=""),""),D=b?q+k:q+k+H,H=(!d.renderAppointment||(q=d.renderAppointment({appointment:f.appointment.boundAppointment,textColor:j,background:_,borderColor:S,html:D,cssClass:"",style:"",width:f.width,height:f.height,view:d._views[d._view].type}))&&((v=q.html)!=D&&(D=v),j=q.textColor,_=q.background,S=q.borderColor,q.cssClass&&(A=q.cssClass+" "),""!=q.style&&(_=(C=d.getAppointmentColors(q.style)).background,S=C.border,j=C.color)),""===I&&(I=M?"<div style='white-space:nowrap;' class='"+d.toTP("jqx-scheduler-appointment-content")+"'>"+P+"<div class='"+d.toTP("jqx-scheduler-appointment-inner-content")+"'>"+D+"</div>"+X+"</div>":"<div style='white-space:nowrap;' class='"+d.toTP("jqx-scheduler-appointment-content")+"'><div class='"+d.toTP("jqx-scheduler-appointment-inner-content")+"'>"+D+"</div></div>"),""),B=(d.rtl&&(H=d.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),v=K?(q="white"==j.toLowerCase()?d.toTP("jqx-icon-recurrence-exception-white"):d.toTP("jqx-icon-recurrence-exception"),"<div data-key='"+f.appointment.id+"'"+T+"class='"+H+A+d.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+f.x+"px; top: "+f.y+"px; width: "+f.width+"px; line-height: "+f.height+"px; height: "+f.height+"px; border-color:"+S+"; color:"+j+"; background:"+_+";'><div class='"+q+"'></div>"+I+"<div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):Y?(C="white"==j.toLowerCase()?d.toTP("jqx-icon-recurrence-white"):d.toTP("jqx-icon-recurrence"),"<div data-key='"+f.appointment.id+"'"+T+"class='"+H+A+d.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+f.x+"px; top: "+f.y+"px; width: "+f.width+"px; line-height: "+f.height+"px; height: "+f.height+"px; border-color:"+S+"; color:"+j+"; background:"+_+";'><div class='"+C+"'></div>"+I+"<div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):"<div data-key='"+f.appointment.id+"'"+T+"class='"+H+A+d.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+f.x+"px; top: "+f.y+"px; width: "+f.width+"px; line-height: "+f.height+"px; height: "+f.height+"px; border-color:"+S+"; color:"+j+"; background:"+_+";'>"+I+"<div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>",De(v)),M=(B.appendTo(this.table),f.element=B,new Date),P=y.toDate(),X=w.toDate();P<=M&&M<=X&&this.showCurrentAppointment&&f.element[0].classList.add("current-appointment"),this.appointmentTooltips&&(f.appointment.tooltip?B[0].setAttribute("title",f.appointment.tooltip):(D=f.appointment.subject,(D=x&&!b?x+" - "+U+" "+D:D)&&((k=f.appointment.location)&&(D+="\n"+k),B[0].setAttribute("title",D))));De.each(f.cells,function(){var e,a=De(this.cell),l=a.position();a[0].appointments||(a[0].appointments=new Array),a[0].appointments.push({ui:B,appointment:f}),f.y+f.height+2>=l.top+a.height()&&(B.css("visibility","hidden"),(e=a.find(".jqx-icon-arrow-down")).show(),e[0]&&(e[0].mousedown=function(){d.openedMonthCellPopup&&d.openedMonthCellPopup.remove();for(var e=De("<div></div>"),t=a.find("div").clone(!0),i=(t.find("span").removeClass().addClass(d.toTP("jqx-icon-close")),t.find("span")[0].mousedown=function(){e.remove()},t.addClass(d.toTP("jqx-widget-header")),e.addClass(d.toTP("jqx-widget")),e.addClass(d.toTP("jqx-window")),e.addClass(d.toTP("jqx-scheduler-month-cell-popup")),e.addClass(d.toTP("jqx-popup")),De("<div></div>")),s=(e.append(t),e.append(i),i.addClass(d.toTP("jqx-widget-content jqx-disableselect")),a.width()),r=5+a.find("div").outerHeight(),n=0;n<a[0].appointments.length;n++){var o=a[0].appointments[n].ui.clone(!0);o.css("left","3px"),o.css("top","0px"),o.css("margin-top","2px"),o.css("position","relative"),o.css("visibility","visible"),o.width(s-6),r+=o.outerHeight()+4,i.append(o),o.click(function(e){e=d.getJQXAppointmentByElement(d.getAppointmentElement(e.target));d._raiseEvent("appointmentClick",{appointment:e.boundAppointment})}),o.dblclick(function(e){e=d.getJQXAppointmentByElement(d.getAppointmentElement(e.target));e.readOnly||d.editRecurrenceDialog.jqxWindow("isOpen")||d._editDialog&&(!d._editDialog||d._editDialog.jqxWindow("isOpen"))||!1!==d._initDialog(e)&&d._openDialog(),d._raiseEvent("appointmentDoubleClick",{appointment:e.boundAppointment})})}e.css("overflow","hidden"),e.css("position","absolute"),e.height(r),e.width(s),e.css("z-index","9999"),e.css("top",l.top),e.css("left",l.left),d.table.append(e),d.openedMonthCellPopup=e}))})}},_sortByDate:function(e,t){e=e.getAttribute("data-date"),e=this._getDateByString(e),t=t.getAttribute("data-date");return e<(t=this._getDateByString(t))?-1:t<e?1:e==t?0:void 0},_sortAppointmentsByFrom:function(e,t){if(e.from.dateData===t.from.dateData){var i=1e4*(e.to.dateData-e.from.dateData);if(1e4*(t.to.dateData-t.from.dateData)<i)return-1}return e.from.dateData<t.from.dateData?-1:e.from.dateData>t.from.dateData?1:e.from.dateData==t.from.dateData?0:void 0},_sortAppointmentsByTo:function(e,t){if(e.to.equals(t.to)){var i=1e4*(e.to-e.from);if(1e4*(t.to-t.from)<i)return-1}return e.to<t.to?-1:e.to>t.to?1:e.to==t.to?0:void 0},_sortAppointmentsByResourceId:function(e,t,i){e=i._resources.indexOf(e.resourceId),i=i._resources.indexOf(t.resourceId);return e==i?0:e<i||i<e?-1:void 0},isBusyRow:function(e,t){for(var i=0;i<t.length;i++)if(t[i].row==e)return!0;return!1},isBusyColumn:function(e,t){for(var i=0;i<t.length;i++)if(t[i].column==e)return!0;return!1},getMaxTimelineAppointments:function(e,t,i,s){if(0==e.length)return 1;var r=this._views[this._view].type,n=(this._views[this._view],1),o=i,a=this.getMinutesPerScale(),l=null,d=null,h="";for(p in e){if("indexOf"==p)break;var c=e[p],l=l||c.from.dateData,d=d||c.to.dateData;c.from.dateData<l&&(l=c.from.dateData),c.to.dateData>d&&(d=c.to.dateData),h+=c.appointment.id}if(t[h=h+l+d])return t[h];l=new De.jqx.date(l,this.timeZone),d=new De.jqx.date(d,this.timeZone);for(o=l;l<d;){var u,p,m=o,g=(u="timelineMonthView"===r?m.addDays(1):m.addMinutes(a),0);for(p in e){if("indexOf"==p)break;var f=(c=e[p]).from,v=c.to;De.jqx.scheduler.utilities.rangeIntersection(m,u,f,v)&&g++}n=Math.max(g,n),o="timelineMonthView"===r?o.addDays(1,!1):o.addMinutes(a,!1)}return t[h]=n},getMaxMonthAppointments:function(e){this._views[this._view].type,this._views[this._view];if(0==e.length)return 1;for(var t=1,i=this.getViewStart().clone(),s=this.getViewEnd();i<s;){var r,n=i,o=De.jqx.scheduler.utilities.getEndOfDay(n),a=0;for(r in e){if("indexOf"==r)break;var l=e[r],d=l.from,l=l.to;De.jqx.scheduler.utilities.rangeIntersection(n,o,d,l)&&a++}t=Math.max(a,t),i=i.addDays(1,!1)}return t},getMaxAllDayAppointments:function(e){this._views[this._view].type,this._views[this._view];var h=this;if(0==e.length)return 1;function t(e){for(var t=1,i=h.getViewStart(),s=h.getViewEnd();i<s;){var r,n=i,o=De.jqx.scheduler.utilities.getEndOfDay(n),a=0;for(r in e){if("indexOf"==r)break;var l=e[r],d=l;1!=(d=l.appointment?l.appointment:d).hidden&&d.duration&&(d.allDay||1<=d.duration().days())&&(d=l.from,l=l.to,De.jqx.scheduler.utilities.rangeIntersection(n,o,d,l)&&a++)}t=Math.max(a,t),i=i.addDays(1,!1)}return t}if(this._resources.length<2||!this.resources.orientation||"none"==this.resources.orientation)var i=t(e);else{for(var s=1,r=0;r<this._resources.length;r++){for(var n=this._resources[r],o=new Array,a=0;a<e.length;a++)(e[a].appointment&&e[a].appointment.resourceId==n||null!=e[a].resourceId&&e[a].resourceId==n)&&o.push(e[a]);i=t(o),s=Math.max(s,i)}i=s}return i},getMinutesPerScale:function(){this._views[this._view].type;var e=this._views[this._view],t=30,i="halfHour";switch(i=e.timeRuler&&e.timeRuler.scale?e.timeRuler.scale:i){case"sixtyMinutes":case"hour":t=60;break;case"thirtyMinutes":case"halfHour":t=30;break;case"fifteenMinutes":case"quarterHour":t=15;break;case"tenMinutes":t=10;break;case"fiveMinutes":t=5}return t},getMaxColumnsInADay:function(e){this._views[this._view].type;var t=this._views[this._view],i=30,s="halfHour";switch(s=t.timeRuler&&t.timeRuler.scale?t.timeRuler.scale:s){case"sixtyMinutes":case"hour":i=60;break;case"thirtyMinutes":case"halfHour":i=30;break;case"fifteenMinutes":case"quarterHour":i=15;break;case"tenMinutes":i=10;break;case"fiveMinutes":i=5}if(0==e.length)return 1;for(var r=1,n=e[0].from.clone(),o=n.addMinutes(i),a=De.jqx.scheduler.utilities.getEndOfDay(n);n<a;){var l,d=n,h=o,c=0;for(l in e){if("indexOf"==l)break;var u,p=e[l];(p.from||p.to)&&(u=p.from,p=p.to,De.jqx.scheduler.utilities.rangeIntersection(d,h,u,p)&&c++)}r=Math.max(c,r),n=n.addMinutes(i,!1),o=o.addMinutes(i,!1)}return r},getTouches:function(e){return De.jqx.mobile.getTouches(e)},_updatecolumnwidths:function(){var a,l,e,d,h,c=this,u=this._hostWidth,p=u;"hidden"!==this.vScrollBar.css("visibility")&&0<this.scrollBarSize&&(u-=parseInt(this.scrollBarSize)+6,this.rtl&&(u+=3),p=u);null!=this.columns&&null!=this.columns.records&&(c=this,a=!1,l=new Array,De.each(this.columns.records,function(e,t){this.hidden||(-1!=this.width.toString().indexOf("%")||null!=this._percentagewidth?("hidden"!=c.vScrollBar[t=0].style.visibility&&c.scrollBarSize,c.scrollBarSize,t=parseFloat(this.width)*p/100,(t=(t=null!=this._percentagewidth?parseFloat(this._percentagewidth)*p/100:t)<this.minwidth&&"auto"!=this.minwidth?this.minwidth:t)>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),u-=Math.round(t)):"auto"==this.width||this._width?this.text:u-=this.width,"auto"==this._width&&(l[l.length]=this))}),0!=(e=this.columnsheader.find("#columntable"+this.element.id)).length&&(d=0,e.find(".jqx-grid-column-header"),h=0,De.each(this.columns.records,function(e,t){var i,s=this.element,r=!1,n=this.width,o=this.width;-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(n=null!=this._percentagewidth?parseFloat(this._percentagewidth)*p/100:parseFloat(this.width)*p/100,n=Math.round(n),r=!0),"auto"==this.width||this._width||r?r?(n<this.minwidth&&"auto"!=this.minwidth&&(n=this.minwidth,this.width=n),n>this.maxwidth&&"auto"!=this.maxwidth&&(n=this.maxwidth,this.width=n),parseInt(s[0].style.width)!=n&&(s.width(n),this.width=n)):(r=c.columns.records.length,"dayView"===(n=c._views[c._view].type)||"weekView"===n?((i=c._views[c._view]).timeRuler&&i.timeRuler.timeZones&&(r-=i.timeRuler.timeZones.length),r--):"monthView"===n&&c._views[c._view].showWeekNumbers&&r--,i=Math.floor(u*(1/r)),c.resources&&c.resources.resourceColumnWidth&&"auto"!=c.resources.resourceColumnWidth?i=c.resources.resourceColumnWidth:c.resources&&c.resources.resourceColumnWidth&&"auto"==c.resources.resourceColumnWidth&&"horizontal"==c.resources.orientation&&(i=Math.round((2+u)*(1/c._getColumnsLengthPerView()))),1<=(d+=u*(1/r)-i)&&(--d,i++),.5<=d&&e==c.columns.records.length-1&&i++,"agendaView"==n&&(i=u/l.length,i++),i<0&&(r=De("<span>"+this.text+"</span>"),De(document.body).append(r),i=10+r.width(),r.remove()),(i=i<this.minwidth?this.minwidth:i)>this.maxwidth&&(i=this.maxwidth),this._width="auto",this.width=parseInt(i),s.width(this.width)):parseInt(s[0].style.width)!=this.width&&s.width(this.width),parseInt(s[0].style.left)!=h&&s.css("left",h),this.hidden||(h+=this.width),this._requirewidthupdate=!0,o!==this.width&&(a=!0)}),this.columnsheader.width(2+h),e.width(this.columnsheader.width()),this._resizecolumnGroups(),a&&(this._renderrows(),c._arrange())))},_rendercolumnheaders:function(){var d=this;if(!this._updating){var h=this._views[this._view],c=(this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove(),De('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>')),u=(c[0].cells=new Array,0),p=(this._hostWidth||(this._hostWidth=this.host.width()),this._hostWidth),m=p,e=this.getRows().length,t=this.rowsHeight,i=(e*(t=this.isTouchDevice()?this.touchRowsHeight:t)>this.host.height()&&(this.vScrollBar[0].style.visibility="inherit"),"hidden"!==this.vScrollBar.css("visibility")&&0<this.scrollBarSize&&(p-=parseInt(this.scrollBarSize)+6,this.rtl&&(p+=3),m=p),new Array),g=new Array;if(De.each(this.columns.records,function(e,t){this.hidden||("auto"==this.width||this._width?this.text:this.width<this.minwidth&&"auto"!=this.minwidth?p-=this.minwidth:this.width>this.maxwidth&&"auto"!=this.maxwidth?p-=this.maxwidth:-1!=this.width.toString().indexOf("%")?(t=0,(t=(t=parseFloat(this.width)*m/100)<this.minwidth&&"auto"!=this.minwidth?this.minwidth:t)>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),p-=t):("string"==typeof this.width&&(this.width=parseInt(this.width)),p-=this.width)),null!=this.width&&"auto"!=this.width||(g[g.length]=this),i[i.length]=this}),this.rtl)for(var s=0;s<i.length;s++)this.columns.replace(s,i[s]);var f=this.headerZIndex,v=d.columnsHeight,x=0,y=document.createDocumentFragment();De.each(this.columns.records,function(e,t){this.height=d.columnsHeight,d.columnGroups&&d.columnGroups.length&&(this.height=(this.datafield,s=this,r=d.columnGroupslevel*d.columnsHeight,r-=s.level*d.columnsHeight),v=this.height);var i,s=d.toTP("jqx-grid-column-header")+" "+d.toTP("jqx-widget-header"),r=(d.rtl&&(s+=" "+d.toTP("jqx-grid-column-header-rtl")),d.enableBrowserSelection||(s+=" "+d.toTP("jqx-disableselect")),d.rtl?f++:f--),n=document.createElement("div"),n=(n.setAttribute("role","columnheader"),n.style.position="absolute",n.style.zIndex=r,n.style.height="100%",n.className=s,De(n)),o=(d.rtl&&0===e&&(n[0].style.borderLeftColor="transparent"),d.columnGroups?(n[0].style.height=v+"px",n[0].style.bottom="0px"):this.timeColumn||(n[0].style.height=-1+v+"px"),this.uielement=n,this.element=n,""!=this.classname&&this.classname&&n.addClass(this.classname),this.width),a=!1,l=(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(o=null!=this._percentagewidth?parseFloat(this._percentagewidth)*m/100:parseFloat(this.width)*m/100,o=Math.round(o),a=!0),"auto"==this.width||this._width||a?a?((o=o<this.minwidth&&"auto"!=this.minwidth?this.minwidth:o)>this.maxwidth&&"auto"!=this.maxwidth&&(o=this.maxwidth),null!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),n.width(o),this.width=o):(a=d.columns.records.length,"dayView"===(l=d._views[d._view].type)||"weekView"===l?((i=d._views[d._view]).timeRuler&&i.timeRuler.timeZones&&(a-=i.timeRuler.timeZones.length),a--):"monthView"===l&&d._views[d._view].showWeekNumbers&&a--,i=Math.floor(p*(1/a)),d.resources&&d.resources.resourceColumnWidth&&"auto"!=d.resources.resourceColumnWidth?i=d.resources.resourceColumnWidth:d.resources&&d.resources.resourceColumnWidth&&"auto"==d.resources.resourceColumnWidth&&"horizontal"==d.resources.orientation&&(i=Math.round((2+p)*(1/d._getColumnsLengthPerView()))),1<=(x+=p*(1/a)-i)&&(--x,i++),.5<=x&&e==d.columns.records.length-1&&i++,isNaN(i)&&(i=this.minwidth),"agendaView"==l&&(i=p/g.length,i++),i<0&&(a=De("<span>"+this.text+"</span>"),De(document.body).append(a),i=10+a.width(),a.remove()),(i=i<this.minwidth?this.minwidth:i)>this.maxwidth&&(i=this.maxwidth),this._width="auto",this.width=parseInt(i),o=this.width,n.width(this.width)):((o=o<this.minwidth&&"auto"!=this.minwidth?this.minwidth:o)>this.maxwidth&&"auto"!=this.maxwidth&&(o=this.maxwidth),n[0].style.width=parseInt(o)+"px"),this.timeColumn&&(n.css("border-bottom-color","transparent"),h.timeRuler&&h.timeRuler.timeZones&&e<h.timeRuler.timeZones.length&&n.css("border-right-color","transparent"),1==this.tableRows&&n.addClass(d.toTP("jqx-scheduler-time-column"))),this.hidden&&n.css("display","none"),De(n.children()[0]),c[0].cells[e]=n[0],d._rendercolumnheader(this.text,this.align,v,d));n[0].innerHTML=l,y.appendChild(n[0]);n[0].style.left=u+"px",this.hidden||(u+=o)}),c[0].appendChild(y),this.columnsheader[0].style.width=0<u?2+u+"px":u+"px",this._columnswidth=u,this.columnsrow=c,d.columnsheader.append(c),c[0].style.width=u+"px",this.columnGroups&&this._rendercolumnGroups(),this.showCurrent&&this._refreshColumnTitles()}},_rendercolumnGroups:function(){if(this.columnGroups){var e=this.headerZIndex+this.columns.records.length,t=this.toTP("jqx-grid-column-header")+" "+this.toTP("jqx-grid-columngroup-header")+" "+this.toTP("jqx-widget-header"),i=(this.rtl&&(t+=" "+this.toTP("jqx-grid-columngroup-header-rtl")),this.columnsheader.find("#columntable"+this.element.id));i.find("jqx-grid-columngroup-header").remove();for(var s=0;s<this.columnGroupslevel-1;s++)for(var r=0;r<this.columnGroups.length;r++){var n,o,a,l,d,h=this.columnGroups[r],c=h.level;c===s&&(c=c*this.columnsHeight,n=99999,h.groups&&(o=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=o(s):s.hidden||(t+=s.width,n=Math.min(parseInt(s.element[0].style.left),n))}return t},h.width=o(h),h.left=n,a=this.columnsHeight,l=e--,l=De('<div role="columnheader" style="z-index: '+l+';position: absolute;" class="'+t+'"></div>'),d=De(this._rendercolumnheader(h.text,h.align,this.columnsHeight,this)),h.renderer&&h.renderer(l,h.text),l.append(d),l[0].style.left=n+"px",0===n&&(l[0].style.borderLeftColor="transparent"),l[0].style.top=c+"px",l[0].style.height=a+"px",l[0].style.width=-1+h.width+"px",i.append(l),h.element=l))}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var r,t,i,s=this.columnGroups[e],n=s.level*this.columnsHeight,o=99999;s.groups&&(s.width=(r=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=r(s):(t+=s.width,o=Math.min(parseInt(s.element[0].style.left),o))}return t})(s),s.left=o,t=this.columnsHeight,(i=s.element)[0].style.left=o+"px",i[0].style.top=n+"px",i[0].style.height=t+"px",i[0].style.width=-1+s.width+"px")}},_removecolumnhandlers:function(e){var t=De(e.element);0<t.length&&(this.removeHandler(t,"mouseenter"),this.removeHandler(t,"mouseleave"),e=De(e.filtericon),this.removeHandler(e,"mousedown"),this.removeHandler(e,"click"),this.removeHandler(t,"click"))},destroy:function(){var e=this;e._removeHandlers(),e._editDialog&&e._editDialog.jqxWindow("destroy"),e.menu&&e.menu.jqxMenu("destroy"),e.editRecurrenceDialog&&e.editRecurrenceDialog.jqxWindow("destroy"),e.vScrollBar.jqxScrollBar("destroy"),e.hScrollBar.jqxScrollBar("destroy"),delete e.vScrollBar,delete e.hScrollBar,delete e._mousewheelfunc,De.jqx.utilities.resize(e.host,null,!0),e.host.remove()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.host.height(e.height),e.host.width(e.width),e._updatesize(!1,!0))},propertyChangedHandler:function(e,t,i,s){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)&&s!==i)if("filterable"==t)e._render();else if("view"==t)e.setView(s);else if("views"==t){e._columns=null,e._views=new Array,e._view=e.view;for(var r=0;r<e.views.length;r++)"string"===De.type(e.views[r])?e._views.push({type:e.views[r]}):e._views.push(e.views[r]);for(r=0;r<e._views.length;r++)if(e._views[r].type==e.view){e._view=r;break}e._render()}else"height"===t?(e._hostWidth=null,e._hostHeight=null,e.host.height(e.height),e.host.width(e.width),e._updatesize(!1,!0)):"width"===t?(e._hostWidth=null,e._hostHeight=null,e.host.height(e.height),e.host.width(e.width),e._updatesize(!0,!1)):"source"===t||"resources"==t?(s=e.vScrollBar.jqxScrollBar("value"),e.updateBoundData("dataBind",function(){e.scrolltop(0),e.vScrollBar.jqxScrollBar({value:s})})):"columns"===t||"columnGroups"===t?(e._columns=null,e._render()):"selectionMode"===t?e.selectionMode=s.toLowerCase():"touchMode"==t?(e._removeHandlers(),e.touchDevice=null,e.vScrollBar.jqxScrollBar({touchMode:s}),e.hScrollBar.jqxScrollBar({touchMode:s}),e.refresh(),e._addHandlers()):"enableHover"!=t&&("showLegend"==t?(e.legendbartop.show(),e.legendbarbottom.show(),e.refresh()):"disabled"==t?(s?e.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),e.host.find(".jqx-grid-group-collapse").css("cursor",s?"default":"pointer"),e.host.find(".jqx-grid-group-expand").css("cursor",s?"default":"pointer")):"columnsHeight"==t?e._render():"localization"==t?(e._render(),e.editRecurrenceDialog&&(e.editRecurrenceDialog.jqxWindow("destroy"),e.createEditRecurrenceDialog())):"theme"==t?(De.jqx.utilities.setTheme(i,s,e.host),e._editDialog&&De.jqx.utilities.setTheme(i,s,e._editDialog),e.editRecurrenceDialog&&De.jqx.utilities.setTheme(i,s,e.editRecurrenceDialog),e.menu&&e.menu.jqxMenu({theme:e.theme}),e.vScrollBar.jqxScrollBar({theme:e.theme}),e.hScrollBar.jqxScrollBar({theme:e.theme}),e.refresh()):"date"===t?e.navigateTo(s):e.refresh())},_rendercolumnheader:function(e,t,i,s){var r="4px",s=(s.columnGroups?((r=i/2-this._columnheight/2)<0&&(r=4),r+="px"):25!=this.columnsHeight&&((r=this.columnsHeight/2-this._columnheight/2)<0&&(r=4),r+="px"),'<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>");if(this.columnRenderer){r=this.columnRenderer(e,t,i,s);if(null!=r)return r}return s}})}(jqxBaseFramework),!function(M){M.jqx.scheduler||(M.jqx.scheduler={}),M.jqx.scheduler.utilities={weekDays:{Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()},areWeekDaysIncluded:function(e,i){var s=!1;return M.each(e,function(e,t){if(t===i)return!(s=!0)}),s},getStartOfDay:function(e){var t=new M.jqx.date(e.year(),e.month(),e.day(),0,0,0);return t.timeZone=e.timeZone,t},getEndOfDay:function(e){var t=new M.jqx.date(e.year(),e.month(),e.day(),23,59,59);return t.timeZone=e.timeZone,t},getDaysCount:function(e,t){for(var i=1;e<t;)e.day()!=t.day()&&i++,e=e.addDays(1);return i},getStartOfWeek:function(e,t){var i=e.dayOfWeek(),t=t.firstDay;return i<t&&(i+=7),e.addDays(-(i-t)).date()},getEndOfWeek:function(e,t,i){return this.getStartOfWeek(e,t,i).addDays(7)},getEndOfMonth:function(e,t){var i=e.daysInMonth(),i=new M.jqx.date(e.year(),e.month(),i,23,59,59);return i.timeZone=e.timeZone,i},rangeIntersection:function(e,t,i,s){e=e.dateData,i=i.dateData,t=t.dateData,s=s.dateData;if(e<=i&&i<t)return!0;if(i<e&&e<s)return!0;if(e==i||t==s)return!0;if(e<i){if(i<t&&t<s)return!0;if(s<t)return!0}else{if(e<s&&s<t)return!0;if(t<s)return!0}return!1},rangeContains:function(e,t,i,s){return e<=i&&s<=t},monthDays:[31,28,31,30,31,30,31,31,30,31,30,31],msPerDay:864e5,maxYear:9999,ORDINAL_BASE:new Date(1970,0,1),getYearDay:function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());return Math.ceil((t-new Date(e.getFullYear(),0,1))/M.jqx.scheduler.utilities.msPerDay)+1},isLeapYear:function(e){return(e=e instanceof Date?e.getFullYear():e)%4==0&&e%100!=0||e%400==0},tzOffset:function(e){return 60*e.getTimezoneOffset()*1e3},monthRange:function(e,t){e=new Date(e,t,1);return[M.jqx.scheduler.utilities.getWeekday(e),M.jqx.scheduler.utilities.getMonthDays(e)]},getMonthDays:function(e){var t=e.getMonth();return 1==t&&M.jqx.scheduler.utilities.isLeapYear(e)?29:M.jqx.scheduler.utilities.monthDays[t]},getWeekday:function(e){return[6,0,1,2,3,4,5][e.getDay()]},combine:function(e,t){return t=t||e,new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())},sort:function(e){e.sort(function(e,t){return e.getTime()-t.getTime()})},timeToUntilString:function(e){for(var t,e=new Date(e),i=[e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),"T",e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),"Z"],s=0;s<i.length;s++)t=i[s],!/[TZ]/.test(t)&&t<10&&(i[s]="0"+String(t));return i.join("")},untilStringToDate:function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/.exec(e);if(t)return new Date(Date.UTC(t[1],t[2]-1,t[3],t[5]||0,t[6]||0,t[7]||0));throw new Error("Invalid UNTIL value: "+e)},Time:function(e,t,i){this.hour=e,this.minute=t,this.second=i;var s=this.that=this;this.getHours=function(){return s.hour},this.getMinutes=function(){return s.minute},this.getSeconds=function(){return s.second},this.getTime=function(){return 1e3*(60*s.hour*60+60*s.minute+s.second)}}},M.jqx.scheduler.appointment=function(){var n=this;if(n.from=new M.jqx.date,n.to=(new M.jqx.date).addHours(1),n.subject="",n.description="",n.location="",n.tooltip="",n.hidden=!1,n.resourceId=null,n.id="",n.background=null,n.color=null,n.borderColor=null,n.status="busy",n.style=null,n.exceptions=new Array,n.exceptionDates=new Array,n.recurrencePattern=null,n.recurrenceException=new Array,n.occurrenceEnumerator=null,n.rootAppointment=null,n.hiddenByResourceId=!1,n.draggable=!0,n.resizable=!0,n.recurrentAppointment=!1,n.allDay=!1,n.readOnly=!1,n.showStatus=!0,n.timeZone=null,n.scheduler=null,n.elements=new Array,n.appointmentObject=!0,n.duration=function(){var e=n.to-n.from;return new M.jqx.timeSpan(1e4*e)},n.toJSON=function(e){function i(e){return(e<10?"0":"")+e}function t(e,t){return e?t?e.getUTCFullYear()+"-"+i(e.getUTCMonth()+1)+"-"+i(e.getUTCDate())+"T"+i(e.getUTCHours())+":"+i(e.getUTCMinutes())+":"+i(e.getUTCSeconds())+"Z":e.getFullYear()+"-"+i(e.getMonth()+1)+"-"+i(e.getDate())+"T"+i(e.getHours())+":"+i(e.getMinutes())+":"+i(e.getSeconds())+"Z":""}var s={};return s.id=n.id,s.from=t(n.from.toDate(),e),s.to=t(n.to.toDate(),e),s.subject=n.subject,s.status=n.status,s.location=n.location,s.description=n.description,s.title=n.title,s.resourceId=n.resourceId,n.recurrencePattern?s.recurrencePattern=n.recurrencePattern.toString():s.recurrencePattern="",n.recurrenceException&&0<n.recurrenceException.length?s.recurrenceException=function(){for(var e="",t=0;t<n.recurrenceException.length;t++)e+=n.recurrenceException[t].toString(),t<n.recurrenceException.length-1&&(e+=",");return e}():s.recurrenceException="",s.dtstamp=t(new Date,e),JSON.stringify(s)},n.toString=function(i){function e(e){for(var t="";75<e.length;)t+=e.substr(0,75)+"\n",e=" "+e.substr(75);return t+=e}function s(e){return(e<10?"0":"")+e}function r(e,t){return e?t?""+e.getFullYear()+s(e.getMonth()+1)+s(e.getDate())+"T"+s(e.getHours())+s(e.getMinutes())+s(e.getSeconds()):""+e.getUTCFullYear()+s(e.getUTCMonth()+1)+s(e.getUTCDate())+"T"+s(e.getUTCHours())+s(e.getUTCMinutes())+s(e.getUTCSeconds())+"Z":""}var t=n.status;return"outOfOffice"==(t="free"==(t="tentative"==(t="busy"==(t=t||"CONFIRMED").toLowerCase()?"CONFIRMED":t).toLowerCase()?"TENTATIVE":t).toLowerCase()?"CANCELLED":t).toLowerCase()&&(t="CANCELLED"),"BEGIN:VEVENT\nUID:"+n.id+"\nDTSTAMP:"+r(new Date,i)+"\n"+e("TITLE:"+n.subject)+"\nDTSTART:"+r(n.from.toDate(),i)+"\nDTEND:"+r(n.to.toDate(),i)+"\n"+(n.recurrencePattern?"RRULE:"+n.recurrencePattern.toString()+"\n":"")+(n.recurrenceException&&0<n.recurrenceException.length?"EXDATE:"+function(){for(var e="",t=0;t<n.recurrenceException.length;t++)e+=r(n.recurrenceException[t].toDate(),i),t<n.recurrenceException.length-1&&(e+=",");return e}()+"\n":"")+(n.subject?e("SUMMARY:"+n.subject)+"\n":"")+"TRANSP:OPAQUE\n"+(n.status?e("STATUS:"+t)+"\n":"")+(n.description?e("DESCRIPTION:"+n.description)+"\n":"")+(n.location?e("LOCATION:"+n.location)+"\n":"")+"END:VEVENT"},n.range=function(){return n.allDay?{from:M.jqx.scheduler.utilities.getStartOfDay(n.from),to:M.jqx.scheduler.utilities.getEndOfDay(n.to)}:{from:n.from,to:n.to}},n.clearRecurrence=function(){n.recurrencePattern&&(n.exceptions=new Array,n.exceptionDates=new Array,n.recurrencePattern=null,n.recurrenceException=new Array,n.hidden=!1)},n.isAllDayAppointment=function(){return 1<=this.duration().days()||this.allDay},n.cloneAppointmentAttributes=function(e){e.subject=n.subject,e.description=n.description,e.location=n.location,e.tooltip=n.tooltip,e.resourceId=n.resourceId,e.category=n.category,e.status=n.status,e.rootAppointment=n,e.color=n.color,e.borderColor=n.borderColor,e.background=n.background,e.hidden=n.hidden,e.timezone=n.timeZone,e.style=n.style,e.hiddenByResourceId=n.hiddenByResourceId},n.createOccurrence=function(e){if(null==e)return null;var t=new M.jqx.scheduler.appointment,i=(t.allDay=n.allDay,n.duration());return n.allDay&&(i=new M.jqx.timeSpan(1e4*(n.to-n.from))),t.from=e,t.to=e.add(i),t.occurrenceFrom=e.clone(),t.subject=n.subject,t.description=n.description,t.location=n.location,t.tooltip=n.tooltip,t.resourceId=n.resourceId,t.category=n.category,t.status=n.status,t.rootAppointment=n,t.color=n.color,t.draggable=n.draggable,t.resizable=n.resizable,t.borderColor=n.borderColor,t.background=n.background,t.recurrentAppointment=!0,t.timeZone=n.timeZone,t.style=n.style,t.hiddenByResourceId=n.hiddenByResourceId,t.boundAppointment=n.boundAppointment,n.hiddenByResourceId&&(t.hidden=!0),t.id=n.id+"."+M.jqx.scheduler.utilities.guid(),n.hidden=!0,n.occurrenceIndex++,t},n.clone=function(){var e=new M.jqx.scheduler.appointment;return e.allDay=n.allDay,e.from=n.from.clone(),e.to=n.to.clone(),e.subject=n.subject,e.description=n.description,e.location=n.location,e.tooltip=n.tooltip,e.resourceId=n.resourceId,e.category=n.category,e.status=n.status,e.color=n.color,e.borderColor=n.borderColor,e.background=n.background,e.style=n.style,e.timeZone=n.timeZone,e.hiddenByResourceId=n.hiddenByResourceId,n.hiddenByResourceId&&(e.hidden=!0),e.id=n.id+"."+M.jqx.scheduler.utilities.guid(),e},n.isRecurrentAppointment=function(){return n.recurrentAppointment||null!=n.recurrencePattern},n.anyExceptions=function(){return null!=n.exceptions&&0<n.exceptions.length},n.anyOccurrences=function(){return null!=n.occurrenceEnumerator&&n.occurrenceEnumerator.getNextAppointment()},n.isException=function(){var e=n.rootAppointment||this;if(!e.recurrenceException)return!1;for(var t=0;t<e.recurrenceException.length;t++){var i=e.recurrenceException[t];if(n.occurrenceFrom&&i.equals(n.occurrenceFrom))return!0}return!1},n.getOccurrences=function(e,t){n.occurrenceIndex=0;e=null!==e?e:n.from,e=new M.jqx.scheduler.recurrentAppointmentsList(n,n.calendar,e,t,n.scheduler);return n.occurrences=e.list,e.list},1===arguments.length)if("object"==M.type(arguments[0]))for(var e in arguments[0]){var t=arguments[0][e];void 0!==this[e]&&(this[e]=t)}else n.from=arguments[0],n.to=new M.jqx.date(n.from).addHours(1);else 2===arguments.length?(n.from=arguments[0],n.to=arguments[1]):3===arguments.length&&(n.from=arguments[0],n.to=arguments[1],n.subject=arguments[2]);null!=n.recurrencePattern&&n.recurrencePattern.setFrom(n.from)},M.jqx.scheduler.recurrentAppointmentsList=function(){var a=this;return a.recurrentAppointment=null,a.currentTime=null,a.calendar=M.jqx.scheduler.calendar,a.from=new M.jqx.date(0),a.to=new M.jqx.date(9999,12,31),a.foundItems=0,a.list=new Array,a.scheduler=null,a.getOccurrences=function(e,t,i){return(null==e?a:new M.jqx.scheduler.recurrentAppointmentsList(e,a.calendar,t,i)).list},a.current=function(){return a.recurrentAppointment.createOccurrence(a.currentTime)},a.fillList=function(){a.currentTime=null,a.foundItems=0,a.list=new Array;var e=a.recurrentAppointment.recurrencePattern;if(e.step=0,e.current=0,e.currentYearDay=0,null==e)return!1;for(;a.getNextAppointment(e);){var t=a.current();t&&a.list.push(t)}},a.getNextAppointment=function(e){if(null==a.recurrentAppointment)return!1;this.scheduler._views[this.scheduler._view].type;var t=this.scheduler._views[this.scheduler._view],i=0;switch(e.freq){case"weekly":i=7;break;case"monthly":i=31;break;case"yearly":i=365}for(var s=0;s<4294967295;s++){var r=e.getNewOccurenceDate();if(r){if(e.currentTime=r,e.to<r&&e.to.addDays(i)>=r||a.to<r&&a.to.addDays(i)>=r)return!(a.currentTime=null);if(M.jqx.scheduler.utilities.getEndOfDay(e.to).addDays(i)<r||M.jqx.scheduler.utilities.getEndOfDay(a.to).addDays(i)<r)return a.currentTime=null,!1;var n,o=a.getCanSetTime(e,r,!0);if(!e.canCreateNewOccurence(r,a.calendar)||(n=!(n=!0)!==t.showWeekends||6!=r.dayOfWeek()&&0!=r.dayOfWeek()?n:!1)&&a.foundItems++,o)return a.currentTime=r,!(a.foundItems>e.count)}}return!1},a.getCanSetTime=function(e,t,i){return e.canCreateNewOccurence(t,a.calendar)||(i=!1),t<a.from&&t.add(a.recurrentAppointment.duration())<=a.from&&(i=!1),i=a.to<=t?!1:i},a.isException=function(e,t,i){for(var s=a.recurrentAppointment.exceptions,r=0;r<s.length;r++)if(i.isDateInExceptionAppointment(e,t,s[r])&&-1===i.newExceptions.indexOf(s[r]))return!0;return!1},arguments&&0<arguments.length&&(a.recurrentAppointment=arguments[0],arguments[1]&&(a.calendar=arguments[1]),arguments[2]&&(a.from=arguments[2]),arguments[3]&&(a.to=arguments[3]),arguments[4]&&(a.scheduler=arguments[4]),void 0===arguments[2]&&(a.from=new M.jqx.date(0),a.to=new M.jqx.date(9999,12,31)),a.scheduler&&a.scheduler.localization&&(a.calendar.firstDay=a.scheduler.localization.firstDay),a.fillList()),a},M.jqx.scheduler.recurrencePattern=function(){var y=this,e={from:new M.jqx.date(0),to:new M.jqx.date(9999,12,31),count:1e3,interval:1,exceptions:new Array,newExceptions:new Array,month:1,day:1,current:0,currentYearDay:0,step:0,days:[],bynweekday:[],isEveryWeekDay:!0,timeZone:null,weekDays:{Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},freq:"daily",bymonth:null,bymonthday:null,byyearday:null,byweekno:null,byweekday:null};return M.extend(!0,y,e),y.getNewOccurenceDate=function(){function e(e,t){var i=0,s=[];if(e instanceof Array)for(;i<t;i++)s[i]=[].concat(e);else for(;i<t;i++)s[i]=e;return s}function t(e,t){return(e%=t)*t<0?e+t:e}function i(e){y.yearlen=e%4!=0||e%100==0&&e%400!=0?365:366,y.nextyearlen=(1+e)%4!=0||(1+e)%100==0&&(1+e)%400!=0?365:366,new Date(e,0,1);var e=a[new Date(e,0,1).getDay()],t=function(){for(var e=[],t=0;t<55;t++)e=e.concat(function(e,t){1===arguments.length&&(t=e,e=0);for(var i=[],s=e;s<t;s++)i.push(s);return i}(7));return e}();365==y.yearlen?(y.wdaymask=t.slice(e),y.mrange=[].concat(n)):(y.wdaymask=t.slice(e),y.mrange=[].concat(r))}var s,r=[0,31,60,91,121,152,182,213,244,274,305,335,366],n=[0,31,59,90,120,151,181,212,243,273,304,334,365],o=y.from.year(),a=[6,0,1,2,3,4,5];switch(i(o),y.freq){case"daily":default:var l=y.from.add(new M.jqx.timeSpan(y.step*y.interval,0,0,0));return y.step++,l;case"weekly":return y.byweekday&&(l=new M.jqx.date(y.from,y.timeZone),s=a[y.from.dayOfWeek()],(l=(l=(l=l.addDays(7*y.step)).addDays(y.byweekday[y.current])).addDays(-s))<y.from&&(l=null),y.current++,null==y.byweekday[y.current]&&(y.current=0,y.step++)),l;case"monthly":if(0<y.bynweekday.length){(l=new M.jqx.date(y.from.year(),y.from.month(),1,y.from.hour(),y.from.minute(),y.from.second())).timeZone=y.timeZone,i((l=l.addMonths(y.step*y.interval)).year());var d=l.month(),h=(g=y.mrange.slice(d-1,d+1))[0],c=g[1];--c,y.nwdaymask=e(0,y.yearlen),y.step++;for(var u=0;u<y.bynweekday.length;u++){var p=y.bynweekday[u][0];(f=y.bynweekday[u][1])<0?(x=c+7*(f+1),x-=t(y.wdaymask[x]-p,7)):(x=h+7*(f-1),x+=t(7-y.wdaymask[x]+p,7)),h<=x&&x<=c&&(y.nwdaymask[x]=1)}var m=x+1-h;(l=new M.jqx.date(y.from.year(),y.from.month(),m,y.from.hour(),y.from.minute(),y.from.second())).timeZone=y.timeZone,l=l.addMonths((y.step-1)*y.interval)}else 0<y.bymonthday.length?((l=new M.jqx.date(y.from.year(),y.from.month(),y.bymonthday[y.current],y.from.hour(),y.from.minute(),y.from.second())).timeZone=y.timeZone,l=l.addMonths(y.step*y.interval),y.current++,y.bymonthday[y.current]||(y.current=0,y.step++)):((l=new M.jqx.date(y.from.year(),y.from.month(),y.day,y.from.hour(),y.from.minute(),y.from.second())).timeZone=y.timeZone,l=l.addMonths(y.step*y.interval),y.step++);return l;case"yearly":if(y.bymonth&&0<y.bymonth.length)if(0<y.bynweekday.length){(l=new M.jqx.date(y.from.year(),y.bymonth[y.current],1,y.from.hour(),y.from.minute(),y.from.second())).timeZone=y.timeZone,i((l=l.addYears(y.step*y.interval)).year());var g,d=l.month(),h=(g=y.mrange.slice(d-1,d+1))[0],c=g[1];--c,y.nwdaymask=e(0,y.yearlen);for(u=0;u<y.bynweekday.length;u++){var f,p=y.bynweekday[u][0];(f=y.bynweekday[u][1])<0?(x=c+7*(f+1),x-=t(y.wdaymask[x]-p,7)):(x=h+7*(f-1),x+=t(7-y.wdaymask[x]+p,7)),h<=x&&x<=c&&(y.nwdaymask[x]=1)}m=x+1-h;(l=new M.jqx.date(l.year(),y.bymonth[y.current],m,y.from.hour(),y.from.minute(),y.from.second())).timeZone=y.timeZone,y.step++}else y.byyearday&&0<y.byyearday.length?((l=new M.jqx.date(y.from.year(),y.bymonth[y.current],y.byyearday[y.currentYearDay],y.from.hour(),y.from.minute(),y.from.second())).timeZone=y.timeZone,l=l.addYears(y.step*y.interval),y.currentYearDay++,y.byyearday[y.currentYearDay]||(y.currentYearDay=0,y.current++,y.bymonth[y.current]||(y.current=0,y.step++))):((l=new M.jqx.date(y.from.year(),y.bymonth[y.current],y.from.day(),y.from.hour(),y.from.minute(),y.from.second())).timeZone=y.timeZone,l=l.addYears(y.step*y.interval),y.current++,y.bymonth[y.current]||(y.current=0,y.step++));else if(y.byyearday&&0<y.byyearday.length)(l=new M.jqx.date(y.from.year(),y.from.month(),y.byyearday[y.current],y.from.hour(),y.from.minute(),y.from.second())).timeZone=y.timeZone,l=l.addYears(y.step*y.interval),y.current++,y.byyearday[y.current]||(y.current=0,y.step++);else if(null!=y.byweekno){var l=y.from.addYears(y.step*y.interval);if(l=function(e,t){var i=1,s=new M.jqx.date(t.year(),1,1,t.hour(),t.minute(),t.second());for(s.timeZone=y.timeZone;i!=e&&(s=s.addDays(7),!(53<++i)););for(;M.jqx.scheduler.utilities.getWeekday(s.toDate())!=y.wkst;)s=s.addDays(1);return s}(y.byweekno[y.current],l),y.byweekday){for(var v=l,x=0;x<7&&a[v.dayOfWeek()]!==y.byweekday[y.currentYearDay];x++)v=v.addDays(1);l=v,y.currentYearDay++,y.byweekday[y.currentYearDay]||(y.currentYearDay=0,y.current++,y.byweekno[y.current]||(y.current=0,y.step++))}else y.current++,y.byweekno[y.current]||(y.current=0,y.step++)}else(l=new M.jqx.date(y.from.year(),y.month,y.day,y.from.hour(),y.from.minute(),y.from.second())).timeZone=y.timeZone,l=l.addYears(y.step*y.interval),y.step++;return l}},y.isDateInExceptionAppointment=function(e,t,i){return y.freq,e.year()==i.from.year()&&e.dayOfYear()==i.from.dayOfYear()},y.createNewPattern=function(){var e;return y.ical?new M.jqx.scheduler.recurrencePattern(y.ical):((e=new M.jqx.scheduler.recurrencePattern).from=y.from,e.to=y.to,e.count=y.count,e.interval=y.interval,e.exceptions=y.exceptions,e.newExceptions=y.newExceptions,e.weekDays=y.weekDays,e.isEveryWeekDay=y.isEveryWeekDay,e.month=y.month,e.day=y.day,e.current=y.current,e.currentYearDay=y.currentYearDay,e.step=y.step,e.days=y.days,e.bynweekday=y.bynweekday,e.bymonth=y.bymonth,e.bymonthday=y.bymonthday,e.byyearday=y.byyearday,e.byweekno=y.byweekno,e.byweekday=y.byweekday,e.freq=e.freq,e.timeZone=e.timeZone,e)},y.equals=function(e){return y.from==e.from&&y.to==e.to&&y.count===e.count&&y.interval===e.interval&&y.day===e.day&&y.month===e.month},y.isDayOfWeekIncluded=function(e){e=e.dayOfWeek();return M.jqx.scheduler.utilities.areWeekDaysIncluded(y.weekDays,e)},y.getWeekIndexFromDate=function(e,t){void 0===t.firstDay&&(t.firstDay=0);var i=t.firstDay,t=M.jqx.scheduler.utilities.getStartOfWeek(y.from,t,i),i=new M.jqx.timeSpan(e.subtract(t));return parseInt(i.days()/7)},y.canCreateNewOccurence=function(e,t){e.toDate();switch(y.freq){case"daily":default:return y.bymonth&&-1==y.bymonth.indexOf(e.month())?!1:!y.isEveryWeekDay||!!y.isDayOfWeekIncluded(e,t);case"weekly":var i=y.getWeekIndexFromDate(e,t);if(y.bymonth&&-1==y.bymonth.indexOf(e.month()))return!1;if(i%y.interval!=0)return!1;if(y.weekDays=={}){i=e;if(y.from.dayOfWeek()!=i.dayOfWeek())return!1}else if(!y.isDayOfWeekIncluded(e,t))return!1;break;case"monthly":case"yearly":if(y.bymonth&&-1==y.bymonth.indexOf(e.month()))return!1;if(e<y.from)return!1}return!0},y.toString=function(){var t={},e=(t.dtstart=this.from.toDate(),t.until=this.to?this.to.toDate():null,t.count=this.count,{});e.YEARLY=0,e.MONTHLY=1,e.WEEKLY=2,e.DAILY=3,e.HOURLY=4,e.MINUTELY=5,e.SECONDLY=6,t.freq=e[this.freq.toUpperCase()],"YEARLY"==t.freq&&(t.bymonth=this.bymonth||(new Array).push(this.month)),t.byweekday=new Array;return M.each(this.weekDays,function(){var e=this;t.byweekday.push(e=--e<0?6:e)}),null!=this.byyearday&&(t.byyearday=this.byyearday),null!=this.byweekno&&(t.byweekno=this.byweekno),t.bymonthday=this.bymonthday,t.wkst=["MO","TU","WE","TH","FR","SA","SU"][this.wkst],t.interval=this.interval,new M.jqx.ICalRule(t).toString()},y.init=function(e){var e=new M.jqx.ICalRule(y.ical,e),t=e.options;if(y.from=t.dtstart?new M.jqx.date(t.dtstart,y.timeZone):y.from,y.count=(null!=t.count?t:y).count,y.freq=e.FREQUENCIES[t.freq].toLowerCase(),y.interval=(null!=t.interval?t:y).interval,y.to=t.until?new M.jqx.date(t.until,y.timeZone):y.to,y.wkst=t.wkst,y.bymonth=t.bymonth,y.bymonth&&0<y.bymonth.length?y.month=y.bymonth[0]:y.month=y.from.month(),y.day=y.from.day(),null!=t.byweekday){y.weekDays={};for(var i=0;i<t.byweekday.length;i++)switch(t.byweekday[i]){case 0:y.weekDays.Monday=1;break;case 1:y.weekDays.Tuesday=2;break;case 2:y.weekDays.Wednesday=3;break;case 3:y.weekDays.Thursday=4;break;case 4:y.weekDays.Friday=5;break;case 5:y.weekDays.Saturday=6;break;case 6:y.weekDays.Sunday=0}y.byweekday=t.byweekday}return y.byweekno=t.byweekno,t.bynweekday&&(y.bynweekday=t.bynweekday),null!=t.bymonthday&&(y.bymonthday=t.bymonthday.sort(),y.bymonthday[0]&&(y.day=y.bymonthday[0])),null!=t.byyearday&&(y.day=t.byyearday[0],y.byyearday=t.byyearday.sort()),t},y.setFrom=function(e){y.from=e.clone(),y.ical&&y.init(e)},1==arguments.length&&(y.ical=arguments[0],y.init()),y},M.jqx.scheduler.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","},M.jqx.ICalRule=function(t,e){function i(e,t){1===arguments.length&&(t=e,e=0);for(var i=[],s=e;s<t;s++)i.push(s);return i}function s(e,t){var i=0,s=[];if(e instanceof Array)for(;i<t;i++)s[i]=[].concat(e);else for(;i<t;i++)s[i]=e;return s}function r(e){return!(e instanceof Array&&0==e.length)&&Boolean(e)}function u(e,t){return-1!=e.indexOf(t)}var n,o,a,l,p=this,d=([].concat(s(1,31),s(2,28),s(3,31),s(4,30),s(5,31),s(6,30),s(7,31),s(8,31),s(9,30),s(10,31),s(11,30),s(12,31),s(1,7)),[].concat(s(1,31),s(2,29),s(3,31),s(4,30),s(5,31),s(6,30),s(7,31),s(8,31),s(9,30),s(10,31),s(11,30),s(12,31),s(1,7)),i(1,29)),h=i(1,30),c=i(1,31),m=i(1,32),d=([].concat(m,h,m,c,m,c,m,m,c,m,c,m,m.slice(0,7)),[].concat(m,d,m,c,m,c,m,m,c,m,c,m,m.slice(0,7)),i(-28,0)),h=i(-29,0),c=i(-30,0),m=i(-31,0),g=([].concat(m,h,m,c,m,c,m,m,c,m,c,m,m.slice(0,7)),[].concat(m,d,m,c,m,c,m,m,c,m,c,m,m.slice(0,7)),function(){for(var e=[],t=0;t<55;t++)e=e.concat(i(7))}(),function(e,t){var i=this;if(0===t)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=t,this.nth=function(e){return i.n==e?i:new g(i.weekday,e)},this.equals=function(e){return i.weekday==e.weekday&&i.n==e.n},this.toString=function(){var e=["MO","TU","WE","TH","FR","SA","SU"][i.weekday];return e=this.n?(0<i.n?"+":"")+String(i.n)+e:e},this.getJsWeekday=function(){return 6==i.weekday?0:i.weekday+1}}),f=(this.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],this.YEARLY=0,this.MONTHLY=1,this.WEEKLY=2,this.DAILY=3,this.HOURLY=4,this.MINUTELY=5,this.SECONDLY=6,this.MO=new g(0),this.TU=new g(1),this.WE=new g(2),this.TH=new g(3),this.FR=new g(4),this.SA=new g(5),this.SU=new g(6),{freq:null,dtstart:null,interval:1,wkst:p.MO,count:null,until:null,bysetpos:null,bymonth:null,bymonthday:null,byyearday:null,byweekno:null,byweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null}),t=(this._string=null,this.toString=function(){for(var e,t,i,s=this.origOptions,r=[],n=Object.keys(s),o=Object.keys(f),a=0;a<n.length;a++)if(u(o,n[a])&&(e=n[a].toUpperCase(),i=[],!(null===(t=s[n[a]])||t instanceof Array&&!t.length))){switch(e){case"FREQ":t=p.FREQUENCIES[s.freq];break;case"WKST":t=(t=t||0).toString();break;case"BYWEEKDAY":e="BYDAY",t instanceof Array||(t=[t]);for(var l,d=0;d<t.length;d++)(l=t[d])instanceof g||(l=l instanceof Array?new g(l[0],l[1]):new g(l)),i[d]=l.toString();t=i;break;case"DTSTART":case"UNTIL":t=M.jqx.scheduler.utilities.timeToUntilString(t);break;default:if(t instanceof Array){for(d=0;d<t.length;d++)i[d]=String(t[d]);t=i}else t=String(t)}r.push([e,t])}for(var h=[],a=0;a<r.length;a++){var c=r[a];h.push(c[0]+"="+c[1].toString())}return h.join(";")},this.parseString=function(e){if(!(e=e.replace(/^\s+|\s+$/,"")).length)return null;for(var t,i,s,r,n=e.split(";"),o={},a=0;a<n.length;a++)if(i=(r=n[a].split("="))[0],s=r[1],""!=i)switch(i){case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":if(-1!=s.indexOf(","))for(s=s.split(","),t=0;t<s.length;t++)/^[+-]?\d+$/.test(s[t])&&(s[t]=Number(s[t]));else/^[+-]?\d+$/.test(s)&&(s=Number(s));o[i=i.toLowerCase()]=s;break;case"BYDAY":var l,d,h,c=s.split(",");for(o.byweekday=[],t=0;t<c.length;t++)2==(h=c[t]).length?(d=p[h],o.byweekday.push(d)):(h=h.match(/^([+-]?\d)([A-Z]{2})$/),l=Number(h[1]),d=h[2],d=p[d].weekday,o.byweekday.push(new g(d,l)));break;case"FREQ":o.freq=p[s];break;case"WKST":o.wkst=p[s];break;case"DTSTART":o.dtstart=M.jqx.scheduler.utilities.untilStringToDate(s);break;case"UNTIL":o.until=M.jqx.scheduler.utilities.untilStringToDate(s);break;case"BYEASTER":o.byeaster=Number(s);break;default:throw new Error("Unknown ICalRule property '"+i+"'")}return p.options=o},"string"===M.type(t)?this.options=this.parseString(t):this.options=t||{},this.options),v=(Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var i,s;if(null==this)throw new TypeError(" this is null or not defined");var r,n=Object(this),o=n.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(i=t),s=0;s<o;)s in n&&(r=n[s],e.call(i,r,s,n)),s++}),Object.keys||(Object.keys=(n=Object.prototype.hasOwnProperty,o=!{toString:null}.propertyIsEnumerable("toString"),l=(a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t,i,s=[];for(t in e)n.call(e,t)&&s.push(t);if(o)for(i=0;i<l;i++)n.call(e,a[i])&&s.push(a[i]);return s})),this.origOptions={},[]),x=Object.keys(this.options),y=Object.keys(f);if(x.forEach(function(e){this.origOptions[e]=this.options[e],u(y,e)||v.push(e)},this),v.length)throw new Error("Invalid options: "+v.join(", "));if(!p.FREQUENCIES[this.options.freq]&&null===t.byeaster)throw new Error("Invalid Frequency: "+String(t.freq));y.forEach(function(e){u(x,e)||(t[e]=f[e])});var w=this.options;if(null!==w.byeaster&&(w.freq=this.YEARLY),w.dtstart||(w.dtstart=new Date,w.dtstart.setMilliseconds(0)),e&&(w.dtstart=e.toDate()),null===w.wkst?w.wkst=this.MO.weekday:"number"!=typeof w.wkst&&(null==w.wkst?w.wkst=this.MO.weekday:w.wkst=w.wkst.weekday),null!==w.bysetpos){"number"==typeof w.bysetpos&&(w.bysetpos=[w.bysetpos]);for(var b=0;b<w.bysetpos.length;b++)if(0==(_=w.bysetpos[b])||!(-366<=_&&_<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}if(!(r(w.byweekno)||r(w.byyearday)||r(w.bymonthday)||null!==w.byweekday||null!==w.byeaster))switch(w.freq){case this.YEARLY:w.bymonth||(w.bymonth=w.dtstart.getMonth()+1),w.bymonthday=w.dtstart.getDate();break;case this.MONTHLY:w.bymonthday=w.dtstart.getDate();break;case this.WEEKLY:w.byweekday=M.jqx.scheduler.utilities.getWeekday(w.dtstart)}if(null===w.bymonth||w.bymonth instanceof Array||(w.bymonth=[w.bymonth]),null===w.byyearday||w.byyearday instanceof Array||(w.byyearday=[w.byyearday]),null===w.bymonthday)w.bymonthday=[],w.bynmonthday=[];else if(w.bymonthday instanceof Array){for(var _,q=[],j=[],b=0;b<w.bymonthday.length;b++)0<(_=w.bymonthday[b])?q.push(_):_<0&&j.push(_);w.bymonthday=q,w.bynmonthday=j}else w.bymonthday<0?(w.bynmonthday=[w.bymonthday],w.bymonthday=[]):(w.bynmonthday=[],w.bymonthday=[w.bymonthday]);if(null===w.byweekno||w.byweekno instanceof Array||(w.byweekno=[w.byweekno]),null===w.byweekday)w.bynweekday=null;else if("number"==typeof w.byweekday)w.byweekday=[w.byweekday],w.bynweekday=null;else if(w.byweekday instanceof g)!w.byweekday.n||w.freq>this.MONTHLY?(w.byweekday=[w.byweekday.weekday],w.bynweekday=null):(w.bynweekday=[[w.byweekday.weekday,w.byweekday.n]],w.byweekday=null);else{var T=[],C=[];for(b=0;b<w.byweekday.length;b++){var S=w.byweekday[b];"number"==typeof S?T.push(S):!S.n||w.freq>this.MONTHLY?T.push(S.weekday):C.push([S.weekday,S.n])}w.byweekday=r(T)?T:null,w.bynweekday=r(C)?C:null}if(null===w.byhour?w.byhour=w.freq<this.HOURLY?[w.dtstart.getHours()]:null:"number"==typeof w.byhour&&(w.byhour=[w.byhour]),null===w.byminute?w.byminute=w.freq<this.MINUTELY?[w.dtstart.getMinutes()]:null:"number"==typeof w.byminute&&(w.byminute=[w.byminute]),null===w.bysecond?w.bysecond=w.freq<this.SECONDLY?[w.dtstart.getSeconds()]:null:"number"==typeof w.bysecond&&(w.bysecond=[w.bysecond]),w.freq>=this.HOURLY)this.timeset=null;else{if(this.timeset=[],w.byhour)for(b=0;b<w.byhour.length;b++)for(var k=w.byhour[b],I=0;I<w.byminute.length;I++)for(var D=w.byminute[I],P=0;P<w.bysecond.length;P++){var A=w.bysecond[P];this.timeset.push(new M.jqx.scheduler.utilities.Time(k,D,A))}M.jqx.scheduler.utilities.sort(this.timeset)}return this}}(jqxBaseFramework),!function(D){D.extend(D.jqx._jqxScheduler.prototype,{_getexportcolor:function(e){e="transparent"==e?"#FFFFFF":e;if(-1==(e=e&&e.toString()?e:"#FFFFFF").toString().indexOf("rgb"))return-1!=e.toString().indexOf("#")&&4==e.toString().length&&(t=e.toString().substring(1,4),e+=t),e;var t=e.split(",");if(-1!=e.toString().indexOf("rgba"))return i=parseInt(t[0].substring(5)),s=parseInt(t[1]),r=parseInt(t[2]),e=parseFloat(t[3].substring(1,4)),n=this._rgbToHex(o={r:i,g:s,b:r}),0==i&&0==s&&0==r&&0==e?"#ffffff":"#"+n;var i,s,r,n,o={r:i=parseInt(t[0].substring(4)),g:s=parseInt(t[1]),b:r=parseInt(t[2].substring(1,4))};return"#"+(n=this._rgbToHex(o))},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){e=parseInt(e).toString(16);return(e=1==e.length?"0"+e:e).toUpperCase()},exportData:function(h){if(!D.jqx.dataAdapter.ArrayExporter)throw"jqxScheduler: Missing reference to jqxdata.export.js!";var e=this.exportSettings.serverURL,t=this.exportSettings.characterSet,i=this.exportSettings.fileName,s=this.exportSettings.ICSXWRCALNAME,r=this.exportSettings.ICSXWRCALDESC,c=(void 0===i&&(i="jqxScheduler"),this);if("ical"==h||"ics"==h)if(1<c._resources.length&&i&&c.resourcesInMultipleICSFiles)for(var n=this.getAppointments(),o=0;o<c._resources.length;o++){for(var a=c._resources[o],l=new Array,d=0;d<n.length;d++){var u=n[d];u.resourceId==a&&l.push(u)}var p="BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:jqxScheduler\nMETHOD:PUBLISH\n";s&&(p+="X-WR-CALNAME:"+s+"\n"),r&&(p+="X-WR-CALDESC:"+r+"\n");for(var m=0;m<l.length;m++)p+=l[m].jqxAppointment.toString(),m<l.length-1&&(p+="\n");for(var g=(p+="\nEND:VCALENDAR").length,f=new Uint8Array(new ArrayBuffer(g)),m=0;m<g;m++)f[m]=p.charCodeAt(m);var v=new Blob([f],{type:"application/calendar"});window.jqxSaveAs&&window.jqxSaveAs(v,i+"_"+a+".ics")}else{for(n=this.getAppointments(),p="BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:jqxScheduler\nMETHOD:PUBLISH\n",o=0;o<n.length;o++)p+=n[o].jqxAppointment.toString(),o<n.length-1&&(p+="\n");g=(p+="\nEND:VCALENDAR").length,f=new Uint8Array(new ArrayBuffer(g));for(o=0;o<g;o++)f[o]=p.charCodeAt(o);v=new Blob([f],{type:"application/calendar"});if(!i)return p;window.jqxSaveAs&&window.jqxSaveAs(v,i+".ics")}else{var x,y,w,n=this.getDataAppointments(),b=new Array,_={},q={},j=this.host.find(".jqx-grid-cell:first"),T=(j.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),j.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),j.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),j.removeClass(this.toThemeProperty("jqx-fill-state-hover")),1),C=1,S=D(this.columns.records[0].element),k=0,I=(D.each(this.appointmentDataFields,function(e,d){var t;_[d]={},_[d].text=d,_[d].width=100,_[d].formatString="",_[d].localization=c.schedulerLocalization,"from"==e||"to"==e?(_[d].type="date",_[d].formatString=c.exportSettings.dateTimeFormatString):_[d].type="string",_[d].cellsAlign="left",b.push(_[d]),x="cell"+T,y="column"+C,"html"!=h&&"xls"!=h&&"pdf"!=h||((t=function(e,t,i,s,r,n,o,a,l){q[e]={},null!=t&&(q[e]["font-size"]=t.css("font-size"),q[e]["font-weight"]=t.css("font-weight"),q[e]["font-style"]=t.css("font-style"),q[e]["background-color"]=c._getexportcolor(t.css("background-color")),q[e].color=c._getexportcolor(t.css("color")),q[e]["border-color"]=c._getexportcolor(t.css("border-top-color")),i?q[e]["text-align"]="left":(q[e]["text-align"]="left",q[e].formatString="",q[e].dataType="string","from"!=o&&"to"!=o||(q[e].dataType="date",q[e].formatString=c.exportSettings.dateTimeFormatString)),"html"!=h&&"pdf"!=h||(q[e]["border-top-width"]=t.css("border-top-width"),q[e]["border-left-width"]=t.css("border-left-width"),q[e]["border-right-width"]=t.css("border-right-width"),q[e]["border-bottom-width"]=t.css("border-bottom-width"),q[e]["border-top-style"]=t.css("border-top-style"),q[e]["border-left-style"]=t.css("border-left-style"),q[e]["border-right-style"]=t.css("border-right-style"),q[e]["border-bottom-style"]=t.css("border-bottom-style"),i?(0==k&&(q[e]["border-left-width"]=t.css("border-right-width")),q[e]["border-top-width"]=t.css("border-right-width"),q[e]["border-bottom-width"]=t.css("border-bottom-width")):(0==k&&(q[e]["border-left-width"]="1px"),q[e]["border-right-width"]="1px")),i&&(_[d].style=e),_[d].cellStyle=e)})(y,S,!0,0,0,0,e),C++,t(x,j,!1,0,0,0,e),T++),k++}),D.jqx.dataAdapter.ArrayExporter(n,_,q,e));if(null==i)return this._renderrows(),w=I.exportTo(h),setTimeout(function(){c.exporting=!1},50),w;I.exportToFile(h,i,e,t),this._renderrows(),setTimeout(function(){c.exporting=!1},50)}},shadeColor:function(e,t){var e=parseInt(e.slice(1),16),i=t<0?0:255,t=t<0?-1*t:t,s=e>>16,r=e>>8&255,e=255&e;return"#"+(16777216+65536*(Math.round((i-s)*t)+s)+256*(Math.round((i-r)*t)+r)+(Math.round((i-e)*t)+e)).toString(16).slice(1)},hexToRgba:function(e,t){function i(){var e=D.jqx.browser.msie&&D.jqx.browser.version<10;return null==this.alpha||e?"rgb("+this.r+", "+this.g+", "+this.b+")":(1<this.alpha?this.alpha=1:this.alpha<0&&(this.alpha=0),"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")")}e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return null==t?e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),toString:i}:null:(1<t?t=1:t<0&&(t=0),e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),alpha:t,toString:i}:null)},getAppointmentColors:function(e){var t=e;return{background:this.hexToRgba(e,this.appointmentOpacity).toString(),color:255-(.299*(e=this.hexToRgba(e,.7)).r+.587*e.g+.114*e.b)<105?"Black":"White",border:t}},getColors:function(e){-1==e&&(e=0);for(var t=(t=this.resources?this.resources.colorScheme:null)||"scheme01",i=new Array,s=0;s<this.colorSchemes.length;s++)if(this.colorSchemes[s].name==t){i=this.colorSchemes[s].colors;break}for(;e>i.length-1;){var r=parseInt(t.substring(6));27<=r&&(r=0),i=i.concat(this.colorSchemes[r].colors),r++}i[e];var n=this.hexToRgba(i[e],this.appointmentOpacity).toString(),o=i[e];return{background:n,color:255-(.299*(n=this.hexToRgba(i[e],.7)).r+.587*n.g+.114*n.b)<105?"Black":"White",border:o}},getAppointments:function(){for(var e=this.uiappointments,t=new Array,i=0;i<e.length;i++){var s=e[i].boundAppointment;s.toString=s.jqxAppointment.toString,t.push(s)}return t},getDataAppointments:function(){for(var e=this.uiappointments,t=new Array,i=0;i<e.length;i++){var s=e[i].boundAppointment,r={};D.each(this.appointmentDataFields,function(e,t){if(r[t]=s[e],"from"!=e&&"to"!=e||"date"!=D.type(s[e])&&(r[t]=s[e].toDate()),"recurrencePattern"==e&&s[e]&&(r[t]=s[e].toString()),"recurrenceException"==e&&s[e]){r[t]="";for(var i=0;i<s[e].length;i++)r[t]+=s[e][i].toString(),i<s[e].length-1&&(r[t]+=",")}try{JSON&&(r.toString=function(){return JSON.stringify(r)})}catch(e){}}),t.push(r)}return t},_refreshColumns:function(){this._initializeColumns(),this.columnsheader=this.columnsheader||D('<div style="overflow: hidden;"></div>'),this.columnsheader.children().remove();this.columnsHeight;var e=this._preparecolumnGroups();this.columnsheader.height(e),this._rendercolumnheaders()},_refreshColumnTitles:function(){var e=this._views[this._view].type,m=this._views[this._view],g=this,f=new Array;if(g.columns.records[0].timeColumn&&f.push({}),m.timeRuler&&m.timeRuler.timeZones)for(var t=0;t<m.timeRuler.timeZones.length;t++)f.push({});function i(e,t,i){var s="halfHour",r=(m.timeRuler&&m.timeRuler.scale&&(s=m.timeRuler.scale),24),n=0,o=23;if(m.timeRuler&&(null!=m.timeRuler.scaleStartHour&&(n=parseInt(m.timeRuler.scaleStartHour)),r=(o=23<(o=(o=null!=m.timeRuler.scaleEndHour?parseInt(m.timeRuler.scaleEndHour):o)<0?23:o)?23:o)-(n=23<(n=n<0?0:n)?0:n)+1),s)switch(s){case"sixtyMinutes":case"hour":0;break;case"thirdyMinutes":case"halfHour":0;break;case"fifteenMinutes":case"quarterHour":0;break;case"tenMinutes":0;break;case"fiveMinutes":0}new Array;var a="auto",l=(m.timeRuler&&m.timeRuler.formatString&&(a=m.timeRuler.formatString),r),d=e.addHours(n);g.rtl&&(d=e.addHours(o));for(var h=0;h<l;h++){var c,u=d.toDate(),p=(c="auto"===a?0==u.getHours()&&0==u.getMinutes()||12==u.getHours()&&0==u.getMinutes()?"hh tt":"hh:mm":D.isFunction(a)?a(u):a,new Date),p=u.getFullYear()===p.getFullYear()&&u.getMonth()===p.getMonth()&&u.getDate()===p.getDate();D.jqx.dataFormat.isDate(u)&&(u=D.jqx.dataFormat.formatdate(u,c,g.schedulerLocalization)),d=g.rtl?d.addMinutes(-60):d.addMinutes(60),f.push({}),g.columns.records[f.length-1].text=u,g.columns.records[f.length-1].today=p}}this.tableColumns;for(var s=0;s<this.tableColumns;s++)switch(e){case"dayView":var r=this.getViewStart();!1!==m.showWeekends||0!==(r=0!==r.dayOfWeek()&&6!==r.dayOfWeek()?r:r.addDays(1)).dayOfWeek()&&6!==r.dayOfWeek()||(r=r.addDays(1)),f.push({});var n=(r=this.getViewStart()).addDays(t);this.columns.records[f.length-1].today=r.isToday(),this.columns.records[f.length-1].text=this._getDayName(r.dayOfWeek());break;case"weekView":case"monthView":for(t=0;t<7;t++){var o=this.schedulerLocalization.firstDay+t;(!1!==m.showWeekends||0!==t&&6!==t)&&(f.push({}),g.rtl&&(o=6-o),n=(r=this.getViewStart()).addDays(t),this.columns.records[f.length-1].today=n.isToday(),this.columns.records[f.length-1].text=this._getDayName(o))}break;case"timelineDayView":g._resources[s];i(g.getViewStart());break;case"timelineWeekView":for(t=0;t<7;t++){o=this.schedulerLocalization.firstDay+t;(!1!==m.showWeekends||0!==t&&6!==t)&&(g.rtl&&(o=6-o),i(g.getViewStart().addDays(t),this._getDayName(o)))}break;case"timelineMonthView":var a=g.getViewStart(),l="auto";m.timeRuler&&m.timeRuler.formatString&&(l=m.timeRuler.formatString);for(t=0;t<41;t++){var d,h,c,o=a.dayOfWeek();(!1!==m.showWeekends||0!==o&&6!==o)&&(g.rtl&&(o=6-o),h=a.toDate(),d=new Date,d=h.getFullYear()===d.getFullYear()&&h.getMonth()===d.getMonth()&&h.getDate()===d.getDate(),"auto"===l?(c="dd",1===(h=a.toDate()).getDate()&&(c="MMM dd")):c=D.isFunction(l)?l(h):l,D.jqx.dataFormat.isDate(h)&&(h=D.jqx.dataFormat.formatdate(h,c,g.schedulerLocalization)),a=a.addDays(1),f.push({}),g.columns.records[f.length-1].text=h,g.columns.records[f.length-1].today=d)}}for(var u=g.columnsHeight,t=0;t<this.columns.records.length;t++){var p,v=this.columns.records[t];v.timeColumn||(g.columnGroups&&g.columnGroups.length&&(v.datafield,p=void 0,p=g.columnGroupslevel*g.columnsHeight,u=p-=v.level*g.columnsHeight),null==(p=null!=v.renderer?v.renderer(g.escape_HTML(v.text),v.align,u):g._rendercolumnheader(v.text,v.align,u,v))&&(p=g._rendercolumnheader(g.escape_HTML(v.text),v.align,u,g)),null!=v.renderer&&(p=D(p)),D(v.element).html(p),D(v.element).removeClass("today"),v.today&&D(v.element).addClass("today"))}},_editDialogLabel:function(){return this.theme?"jqx-scheduler-edit-dialog-label jqx-scheduler-edit-dialog-label-"+this.theme:"jqx-scheduler-edit-dialog-label"},_editDialogField:function(){return this.theme?"jqx-scheduler-edit-dialog-field jqx-scheduler-edit-dialog-field-"+this.theme:"jqx-scheduler-edit-dialog-field"},initRepeatPanels:function(i,s,e){var m=this,t=D("<div></div>"),r=(s.append(t),D("<div class='"+m._editDialogLabel()+"'>"+m.schedulerLocalization.editDialogRepeatString+"</div>").appendTo(t)),n=D("<div class='"+m._editDialogField()+"'></div>").appendTo(t),n=D("<div></div>").appendTo(n),o=D("<div></div>"),a=(s.append(o),D("<div></div>")),l=(o.append(a),a.detach(),m.editDialogFields.repeatEndPanel={},m.editDialogFields.repeatEndPanelContainer=a),d="repeatEndPanel",l=D("<div></div>").appendTo(l),h=D("<div class='"+m._editDialogLabel()+"'>"+m.schedulerLocalization.editDialogRepeatEndString+"</div>").appendTo(l),c=D("<div class='"+m._editDialogField()+"'></div>").appendTo(l),c=((c=D("<div style='top: 3px; position:relative; float:left;'><span style='margin-left:2px;'>"+m.schedulerLocalization.editDialogRepeatNeverString+"</span></div>").appendTo(c)).jqxRadioButton({rtl:m.rtl,groupName:"end"+d,theme:m.theme,width:200,checked:!0}),m.editDialogFields[d].repeatEndNever=c,m.editDialogFields[d].repeatEndNeverLabel=h,D("<div class='"+m._editDialogLabel()+"'></div>").appendTo(l)),h=D("<div class='"+m._editDialogField()+"'></div>").appendTo(l),u=((p=D("<div style='top: 3px;  position:relative;  float:left;'><span style='margin-left:2px;'>"+m.schedulerLocalization.editDialogRepeatAfterString+"</span></div>").appendTo(h)).jqxRadioButton({rtl:m.rtl,groupName:"end"+d,theme:m.theme,width:60,checked:!1}),D("<div style='margin-left: 3px; float:left;'></div>").appendTo(h)),h=(u.jqxNumberInput({rtl:m.rtl,decimal:10,min:1,inputMode:"simple",width:50,spinButtons:!0,decimalDigits:0,theme:m.theme}),D("<div style='float: left; top: 3px;  margin-left: 5px; line-height:25px;'>"+m.schedulerLocalization.editDialogRepeatOccurrencesString+"</div>").appendTo(h),m.editDialogFields[d].repeatEndAfter=p,m.editDialogFields[d].repeatEndAfterValue=u,m.editDialogFields[d].repeatEndAfterLabel=c,D("<div class='"+m._editDialogLabel()+"'></div>").appendTo(l)),p=D("<div class='"+m._editDialogField()+"'></div>").appendTo(l);(u=D("<div style='top: 3px; position:relative; float:left;'><span style='margin-left:2px;'>"+m.schedulerLocalization.editDialogRepeatOnString+"</span></div>").appendTo(p)).jqxRadioButton({rtl:m.rtl,groupName:"end"+d,theme:m.theme,width:60,checked:!1});function g(){var e=D("<div style='visibility: hidden;'></div>").appendTo(D(document.body)),t=D("<div class='"+m._editDialogLabel()+"'>"+m.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(e),i=D("<div class='"+m._editDialogField()+"'></div>").appendTo(e),i=((s=D("<div style='float:left;'></div>").appendTo(i)).jqxNumberInput({rtl:m.rtl,decimal:1,min:1,inputMode:"simple",width:50,spinButtons:!0,decimalDigits:0,theme:m.theme}),D("<div style='float: left; margin-left: 5px; line-height:25px;'>"+m.schedulerLocalization.editDialogRepeatEveryDayString+"</div>").appendTo(i),m.editDialogFields.daily={},m.editDialogFields.daily.repeatDayInterval=s,m.editDialogFields.daily.repeatDayLabel=t,(m.editDialogFields.daily.panel=e).detach(),m.editDialogFields.weekly={},D("<div style='visibility: hidden;'></div>").appendTo(D(document.body))),s=D("<div class='"+m._editDialogLabel()+"'>"+m.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(i),t=D("<div class='"+m._editDialogField()+"'></div>").appendTo(i),t=((e=D("<div style='float:left;'></div>").appendTo(t)).jqxNumberInput({rtl:m.rtl,decimal:1,min:1,inputMode:"simple",width:50,spinButtons:!0,decimalDigits:0,theme:m.theme}),D("<div style='float: left; margin-left: 5px; line-height:25px;'>"+m.schedulerLocalization.editDialogRepeatEveryWeekString+"</div>").appendTo(t),m.editDialogFields.weekly.repeatWeekInterval=e,m.editDialogFields.weekly.repeatWeekIntervalLabel=s,D("<div class='"+m._editDialogLabel()+"'>"+m.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(i)),e=D("<div class='"+m._editDialogField()+"'></div>").appendTo(i),r=D("<div style='float:left;'></div>").appendTo(e);m.editDialogFields.weekly.repeatDaysLabel=t,m.editDialogFields.weekly.repeatDays=new Array;for(var n=0;n<7;n++){var o=m._getDayName(n,"firstTwoLetters"),a=D("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'>"+o+"</span></div>");r.append(a),a.jqxCheckBox({rtl:m.rtl,checked:1==n,width:50,theme:m.theme}),m.editDialogFields.weekly.repeatDays.push(a)}(m.editDialogFields.weekly.panel=i).detach(),m.editDialogFields.monthly={};s=D("<div style='visibility: hidden;'></div>").appendTo(D(document.body)),e=D("<div class='"+m._editDialogLabel()+"'>"+m.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(s),t=D("<div class='"+m._editDialogField()+"'></div>").appendTo(s),(i=D("<div style='float:left;'></div>").appendTo(t)).jqxNumberInput({rtl:m.rtl,decimal:1,min:1,inputMode:"simple",width:50,spinButtons:!0,decimalDigits:0,theme:m.theme}),D("<div style='float: left; margin-left: 5px; line-height:25px;'>"+m.schedulerLocalization.editDialogRepeatEveryMonthString+"</div>").appendTo(t),m.editDialogFields.monthly.repeatMonth=i,m.editDialogFields.monthly.repeatMonthLabel=e,t=D("<div class='"+m._editDialogLabel()+"'>"+m.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(s),i=D("<div class='"+m._editDialogField()+"'></div>").appendTo(s),e=D("<div style='float:left;'></div>").appendTo(i);(i=D("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'>"+m.schedulerLocalization.editDialogRepeatEveryMonthDayString+"</span></div>").appendTo(e)).jqxRadioButton({rtl:m.rtl,groupName:"month",width:60,checked:!0,theme:m.theme});(e=D("<div style='float:left;'></div>").appendTo(e)).jqxNumberInput({rtl:m.rtl,decimal:1,min:1,max:31,inputMode:"simple",width:50,spinButtons:!0,decimalDigits:0,theme:m.theme}),m.editDialogFields.monthly.repeatMonthDay=e,m.editDialogFields.monthly.repeatMonthDayBool=i,m.editDialogFields.monthly.repeatMonthDayLabel=t;for(var e=D("<div class='"+m._editDialogLabel()+"'></div>").appendTo(s),i=D("<div class='"+m._editDialogField()+"'></div>").appendTo(s),t=D("<div style='float:left;'></div>").appendTo(i),l=((i=D("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'></span></div>").appendTo(t)).jqxRadioButton({groupName:"month",width:25,checked:!1,theme:m.theme}),D("<div style='float:left;'></div>").appendTo(t)),d=((d=new Array).push(m.schedulerLocalization.editDialogRepeatFirstString),d.push(m.schedulerLocalization.editDialogRepeatSecondString),d.push(m.schedulerLocalization.editDialogRepeatThirdString),d.push(m.schedulerLocalization.editDialogRepeatFourthString),d.push(m.schedulerLocalization.editDialogRepeatLastString),l.jqxDropDownList({height:27,dropDownWidth:150,selectedIndex:0,source:d,autoDropDownHeight:!0,width:"auto",theme:m.theme}),D("<div style='margin-left: 5px; float:left;'></div>").appendTo(t)),h=new Array,n=0;n<7;n++){o=m._getDayName(n);h.push(o)}d.jqxDropDownList({height:27,rtl:m.rtl,dropDownWidth:150,autoDropDownHeight:!0,selectedIndex:1,source:h,width:"auto",theme:m.theme}),m.editDialogFields.monthly.repeatDayOfWeekBool=i,m.editDialogFields.monthly.repeatDayOfWeek=d,m.editDialogFields.monthly.repeatDayOfWeekLabel=e,m.editDialogFields.monthly.repeatDayOfWeekType=l,(m.editDialogFields.monthly.panel=s).detach(),m.editDialogFields.yearly={};for(var t=D("<div style='visibility: hidden;'></div>").appendTo(D(document.body)),i=D("<div class='"+m._editDialogLabel()+"'>"+m.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(t),d=D("<div class='"+m._editDialogField()+"'></div>").appendTo(t),l=((e=D("<div style='float:left;'></div>").appendTo(d)).jqxNumberInput({decimal:1,min:1,inputMode:"simple",width:50,spinButtons:!0,decimalDigits:0,theme:m.theme}),D("<div style='float: left; margin-left: 5px; line-height:25px;'>"+m.schedulerLocalization.editDialogRepeatEveryYearString+"</div>").appendTo(d),m.editDialogFields.yearly.repeatYear=e,m.editDialogFields.yearly.repeatYearLabel=i,D("<div class='"+m._editDialogLabel()+"'>"+m.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(t)),s=D("<div class='"+m._editDialogField()+"'></div>").appendTo(t),d=D("<div style='float:left;'></div>").appendTo(s),i=((e=D("<div style='position:relative; top: 6px; float:left;'></span></div>").appendTo(d)).jqxRadioButton({rtl:m.rtl,groupName:"year",width:25,checked:!0,theme:m.theme}),m.editDialogFields.yearly.repeatYearBool=e,m.editDialogFields.yearly.repeatYearBoolLabel=l,D("<div style='float:left;'></div>").appendTo(d)),c=new Array,n=0;n<12;n++){var u=m.schedulerLocalization.months.names[n];c.push(u)}i.jqxDropDownList({height:27,selectedIndex:0,dropDownWidth:150,width:"auto",source:c,theme:m.theme}),m.editDialogFields.yearly.repeatYearMonth=i;(s=D("<div style='margin-left: 5px; float:left;'></div>").appendTo(d)).jqxNumberInput({height:25,decimal:1,min:1,inputMode:"simple",width:50,spinButtons:!0,decimalDigits:0,theme:m.theme}),m.editDialogFields.yearly.repeatYearDay=s,e=D("<div class='"+m._editDialogLabel()+"'></div>").appendTo(t),l=D("<div class='"+m._editDialogField()+"'></div>").appendTo(t),i=D("<div style='float:left;'></div>").appendTo(l),(d=D("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'></span></div>").appendTo(i)).jqxRadioButton({rtl:m.rtl,groupName:"year",width:25,checked:!1,theme:m.theme}),s=D("<div style='float:left;'></div>").appendTo(i);m.editDialogFields.yearly.repeatDayOfWeekBool=d,m.editDialogFields.yearly.repeatDayOfWeekType=s,m.editDialogFields.yearly.repeatDayOfWeekLabel=e;(l=new Array).push(m.schedulerLocalization.editDialogRepeatFirstString),l.push(m.schedulerLocalization.editDialogRepeatSecondString),l.push(m.schedulerLocalization.editDialogRepeatThirdString),l.push(m.schedulerLocalization.editDialogRepeatFourthString),l.push(m.schedulerLocalization.editDialogRepeatLastString),s.jqxDropDownList({height:27,dropDownWidth:150,selectedIndex:0,source:l,autoDropDownHeight:!0,width:"auto",theme:m.theme});for(var d=D("<div style='margin-left: 5px; float:left;'></div>").appendTo(i),p=(m.editDialogFields.yearly.repeatDayOfWeek=d,new Array),n=0;n<7;n++){o=m._getDayName(n);p.push(o)}for(d.jqxDropDownList({height:27,rtl:m.rtl,dropDownWidth:150,selectedIndex:1,autoDropDownHeight:!0,source:p,width:"auto",theme:m.theme}),c=new Array,D("<div style='line-height:25px; height: 25px; margin-left: 5px; float:left;'>"+m.schedulerLocalization.editDialogRepeatOfString+"</div>").appendTo(i),e=D("<div style='margin-left: 5px; float:left;'></div>").appendTo(i),n=0;n<12;n++){u=m.schedulerLocalization.months.names[n];c.push(u)}(m.editDialogFields.yearly.repeatDayOfWeekMonth=e).jqxDropDownList({height:27,rtl:m.rtl,dropDownWidth:150,selectedIndex:0,source:c,width:"auto",theme:m.theme}),(m.editDialogFields.yearly.panel=t).detach()}(c=D("<div style='margin-left: 3px; float:left;'></div>").appendTo(p)).jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:m.rtl,localization:m._getDateTimeInputLocalization(),firstDayOfWeek:m.schedulerLocalization.firstDay,todayString:m.schedulerLocalization.todayString,clearString:m.schedulerLocalization.clearString,value:e,formatString:m.editDialogDateFormatString,width:150,theme:m.theme}),c.jqxDateTimeInput("getInstance"),m.editDialogFields[d].repeatEndOn=u,m.editDialogFields[d].repeatEndOnValue=c,m.editDialogFields[d].repeatEndOnLabel=h;m.editAppointment&&m.editAppointment.rootAppointment,g();l=D("<div></div>"),s.append(l),p=D("<div class='"+m._editDialogLabel()+"'>"+m.schedulerLocalization.editDialogExceptionsString+"</div>").appendTo(l),e=D("<div class='"+m._editDialogField()+"'></div>").appendTo(l),u=D("<div style='position:relative; top:2px;'>"+m.schedulerLocalization.editDialogResetExceptionsString+"</div>").appendTo(e),u.jqxCheckBox({width:"100%",theme:m.theme}),l.hide(),m.editDialogFields.resetExceptions=u,m.editDialogFields.resetExceptionsLabel=p,m.editDialogFields.resetExceptionsContainer=l,c=new Array;c.push(m.schedulerLocalization.editDialogRepeatNeverString),c.push(m.schedulerLocalization.editDialogRepeatDailyString),c.push(m.schedulerLocalization.editDialogRepeatWeeklyString),c.push(m.schedulerLocalization.editDialogRepeatMonthlyString),c.push(m.schedulerLocalization.editDialogRepeatYearlyString),n.jqxDropDownList({rtl:m.rtl,height:27,width:"100%",autoDropDownHeight:!0,theme:m.theme,source:c,selectedIndex:0}),m.editDialogFields.repeat=n,m.editDialogFields.repeatLabel=r,m.editDialogFields.repeatContainer=t,m.editDialogFields.repeatPanel=o,this.addHandler(n,"change",function(e){var t=e.args.item.index;(function(){switch(o.children().detach(),t){case 0:break;case 1:m.editDialogFields.daily.panel.css("visibility","visible"),o.append(m.editDialogFields.daily.panel);break;case 2:m.editDialogFields.weekly.panel.css("visibility","visible"),o.append(m.editDialogFields.weekly.panel);break;case 3:m.editDialogFields.monthly.panel.css("visibility","visible"),o.append(m.editDialogFields.monthly.panel);break;case 4:m.editDialogFields.yearly.panel.css("visibility","visible"),o.append(m.editDialogFields.yearly.panel)}o.append(a),0==t?m.editDialogFields.repeatEndPanelContainer.hide():m.editDialogFields.repeatEndPanelContainer.show(),m.isTouchDevice()||(i.jqxWindow({height:150}),i.jqxWindow({height:s[0].scrollHeight+40}))})()})},_initMenu:function(){var i=this;if(this.host.jqxMenu){if(this.menu){if(this._hasOpenedMenu)return;this.removeHandler(this.menu,"keydown"),this.removeHandler(this.menu,"closed"),this.removeHandler(this.menu,"itemclick"),this.menu.jqxMenu("destroy"),this.menu.removeData(),this.menu.remove()}this.menuitemsarray=new Array,this.menu=D('<div id="menu.jqxscheduler'+this.element.id+'" style="white-space: nowrap; z-index: 9999999999999;"></div>'),this.host.append(this.menu),this.addHandler(D(window),"orientationchange.jqxscheduler"+this.element.id,function(){i.menu.jqxMenu("close"),i._hasOpenedMenu=!1}),this.addHandler(D(window),"orientationchanged.jqxscheduler"+this.element.id,function(){i.menu.jqxMenu("close"),i._hasOpenedMenu=!1}),this.removeHandler(this.menu,"keydown"),this.addHandler(this.menu,"keydown",function(e){27==e.keyCode&&(i.menu.jqxMenu("close"),i._hasOpenedMenu=!1,i.focus())}),this.addHandler(this.menu,"open",function(e){i.contextMenuOpen&&i.contextMenuOpen(i.menu,i.selectedJQXAppointment?i.selectedJQXAppointment.boundAppointment:null,e),i._raiseEvent("contextMenuOpen",{menu:i.menu,appointment:i.selectedJQXAppointment?i.selectedJQXAppointment.boundAppointment:null}),i._removeFeedbackAndStopResize()}),this.addHandler(this.menu,"close",function(e){i.contextMenuClose&&i.contextMenuClose(i.menu,i.selectedJQXAppointment?i.selectedJQXAppointment.boundAppointment:null,e),i._hasOpenedMenu=!1,document.activeElement&&0<=document.activeElement.className.indexOf("jqx-menu")&&!i.menuOpening&&i.focus(),i._raiseEvent("contextMenuClose",{menu:i.menu,appointment:i.selectedJQXAppointment?i.selectedJQXAppointment.boundAppointment:null})}),this.addHandler(this.host,"contextmenu",function(e){return e.preventDefault(),e.stopPropagation(),!1}),this.addHandler(this.menu,"itemclick",function(e){var t=i.menu.jqxMenu("getItem",e.args.id);if((i._raiseEvent("contextMenuItemClick",{item:t,menu:i.menu,appointment:i.selectedJQXAppointment?i.selectedJQXAppointment.boundAppointment:null}),i.contextMenuItemClick)&&1==i.contextMenuItemClick(i.menu,i.selectedJQXAppointment?i.selectedJQXAppointment.boundAppointment:null,e))return 500<new Date-i.renderedTime&&i._renderrows(),i.menu.jqxMenu("close"),void(i._hasOpenedMenu=!1);if("createAppointment"==t.id)i._initDialog(),i._openDialog(),"keyboard"==e.args.clickType&&(i.menu.jqxMenu("close"),i._hasOpenedMenu=!1);else{if("editAppointment"!=t.id)return"keyboard"==e.args.clickType&&(i.menu.jqxMenu("close"),i._hasOpenedMenu=!1),!0;t=i.getJQXAppointmentByElement(i.selectedAppointment);t.readOnly||!1!==i._initDialog(t)&&i._openDialog(),"keyboard"==e.args.clickType&&(i.menu.jqxMenu("close"),i._hasOpenedMenu=!1)}});var e=new Array,e=(e.push({label:this.schedulerLocalization.contextMenuEditAppointmentString,id:"editAppointment"}),e.push({label:this.schedulerLocalization.contextMenuCreateAppointmentString,id:"createAppointment"}),{rtl:this.rtl,keyboardNavigation:!0,source:e,popupZIndex:999999,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0});i.contextMenuCreate&&i.contextMenuCreate(i.menu,e),i._raiseEvent("contextMenuCreate",{menu:i.menu,settings:e}),this.menu.jqxMenu(e)}},_initDialog:function(f,s){var e,v,x,t,y,w,b=this,_=null;if(f&&f.isRecurrentAppointment()&&!b.editRecurrenceDialog.jqxWindow("isOpen"))return n=(e=b.host.coord()).top+b.host.height()/2-b.editRecurrenceDialog.height()/2,t=e.left+b.host.width()/2-b.editRecurrenceDialog.width()/2,b.editRecurrenceDialog.find("button:first").focus(),setTimeout(function(){b.editRecurrenceDialog.find("button:first").focus()},25),b.editRecurrenceDialog.jqxWindow("move",t,n),b.editRecurrenceDialog.jqxWindow("open"),b.editSeries=function(e){e?b._initDialog(f.rootAppointment):b._initDialog(f),b._openDialog()},b.overlay.show(),b.overlay.width(b.host.width()),b.overlay.height(b.host.height()),e=b.host.coord(),b.overlay.offset(e),b._editDialog||b._initDialog(),!1;if((b.editAppointment=f)||(_=b.getSelection())||(b.focus(),b.focusedCell||b._updateFocusedCell(),b.focusedCell&&(b.focusedCell.setAttribute("data-selected","true"),b._lastSelectedCell=b.focusedCell,b._updateCellsSelection(b.focusedCell),_=b.getSelection())),(_||f)&&(v=(_||f).from,x=(_||f).to,0<(t=b.getSelectedCells()).length&&t[t.length-1].getAttribute("data-end-date")&&(x=D.jqx.scheduler.utilities.getEndOfDay(x)),b._editStart=v,b._editEnd=x),b.editDialogFields&&b.editDialogFields.resourceContainer&&0<b._resources.length){for(var i=new Array,r=0;r<b._resources.length;r++)i.push(b._resources[r]);var n=!0;10<i.length&&(n=!1),b.editDialogFields.resource.jqxDropDownList({source:i,selectedIndex:0,autoDropDownHeight:n}),f||b.editDialogFields.resource.val(_.resourceId)}b.editDialogFields&&b.editDialogFields.repeatContainer&&(f&&f.rootAppointment?(b.editDialogFields.repeatContainer.hide(),b.editDialogFields.repeatPanel.hide()):(b.editDialogFields.repeatContainer.show(),b.editDialogFields.repeatPanel.show())),null==b._editDialog&&(y=(b._editDialog=null)==f?b.schedulerLocalization.editDialogCreateTitleString:b.schedulerLocalization.editDialogTitleString,w=D("<div><div>"+y+"</div><div id='dialog"+this.element.id+"'></div></div>"),D(w).jqxWindow({rtl:b.rtl,autoFocus:!1,autoOpen:!1,animationType:"none",theme:b.theme,width:540,maxHeight:800,minHeight:110,resizable:!1,initContent:function(){b.editDialogFields={},null==v&&null==x&&b._editStart&&b._editEnd&&(v=b._editStart,x=b._editEnd),w.jqxWindow("setTitle",y);var e=D(w.children()[1]),t=D("<div></div>"),i=(e.append(t),D("<div class='"+b._editDialogLabel()+"'>"+b.schedulerLocalization.editDialogSubjectString+"</div>").appendTo(t)),s=D("<div class='"+b._editDialogField()+"'></div>").appendTo(t),s=D("<input type='text'/>").appendTo(s),s=(s.jqxInput({height:25,rtl:b.rtl,width:"100%",theme:b.theme}),s.css("box-sizing","border-box"),b.editDialogFields.subject=s,b.editDialogFields.subjectLabel=i,b.editDialogFields.subjectContainer=t,D("<div></div>")),i=(e.append(s),D("<div class='"+b._editDialogLabel()+"'>"+b.schedulerLocalization.editDialogLocationString+"</div>").appendTo(s)),t=D("<div class='"+b._editDialogField()+"'></div>").appendTo(s),t=D("<input type='text'/>").appendTo(t),t=(t.jqxInput({height:25,rtl:b.rtl,width:"100%",theme:b.theme}),t.css("box-sizing","border-box"),b.editDialogFields.location=t,b.editDialogFields.locationLabel=i,b.editDialogFields.locationContainer=s,D("<div></div>")),i=(e.append(t),D("<div class='"+b._editDialogLabel()+"'>"+b.schedulerLocalization.editDialogFromString+"</div>").appendTo(t)),s=D("<div class='"+b._editDialogField()+"'></div>").appendTo(t),r=D("<div></div>").appendTo(s),s=null,s=(v?s=v.toDate():((o=new Date).setHours(9,0,0),v=new D.jqx.date(s=o)),r.jqxDateTimeInput({height:27,dropDownWidth:220,dropDownHeight:220,rtl:b.rtl,localization:b._getDateTimeInputLocalization(),firstDayOfWeek:b.schedulerLocalization.firstDay,todayString:b.schedulerLocalization.todayString,clearString:b.schedulerLocalization.clearString,value:s,formatString:b.editDialogDateTimeFormatString,width:"100%",showTimeButton:!0,theme:b.theme}),b.editDialogFields.from=r,b.editDialogFields.fromLabel=i,b.editDialogFields.fromContainer=t,D("<div></div>")),i=(e.append(s),D("<div class='"+b._editDialogLabel()+"'>"+b.schedulerLocalization.editDialogToString+"</div>").appendTo(s)),t=D("<div class='"+b._editDialogField()+"'></div>").appendTo(s),n=D("<div></div>").appendTo(t),t=null,o=(x?t=x.toDate():((o=new Date).setHours(10,0,0),x=new D.jqx.date(t=o)),n.jqxDateTimeInput({height:27,dropDownWidth:220,dropDownHeight:220,rtl:b.rtl,localization:b._getDateTimeInputLocalization(),firstDayOfWeek:b.schedulerLocalization.firstDay,todayString:b.schedulerLocalization.todayString,clearString:b.schedulerLocalization.clearString,value:t,formatString:b.editDialogDateTimeFormatString,width:"100%",showTimeButton:!0,theme:b.theme}),b.editDialogFields.to=n,b.editDialogFields.toLabel=i,b.editDialogFields.toContainer=s,b._changeFromUser=!0,b.addHandler(r,"change",function(e){var t,i;b._changeFromUser&&(e.args,t=e.args.oldValue,i=n.val("date"),0<(i=new D.jqx.date(i)-new D.jqx.date(t))&&(t=D.jqx.timeSpan(1e4*i),i=new D.jqx.date(e.args.newValue).add(t),n.val(i.toDate())))}),b.addHandler(n,"change",function(e){var t;b._changeFromUser&&(e.args,e=e.args.oldValue,t=n.val("date"),r.val("date")>=t&&n.val(e))}),D("<div></div>")),t=(e.append(o),D("<div class='"+b._editDialogLabel()+"'>"+b.schedulerLocalization.editDialogAllDayString+"</div>").appendTo(o)),i=D("<div class='"+b._editDialogField()+"'></div>").appendTo(o),s=D("<div style='top: 8px; position:relative;'></div>").appendTo(i),i=(s.jqxCheckBox({rtl:b.rtl,width:25,theme:b.theme}),b.editDialogFields.allDay=s,b.editDialogFields.allDayLabel=t,b.editDialogFields.allDayContainer=o,b.addHandler(o,"change",function(e){e.args.checked?(n.jqxDateTimeInput({showTimeButton:!1,formatString:b.editDialogDateFormatString}),r.jqxDateTimeInput({showTimeButton:!1,formatString:b.editDialogDateFormatString})):(n.jqxDateTimeInput({showTimeButton:!0,formatString:b.editDialogDateTimeFormatString}),r.jqxDateTimeInput({showTimeButton:!0,formatString:b.editDialogDateTimeFormatString}))}),D.jqx.scheduler.utilities.getStartOfDay(v).equals(v)&&D.jqx.scheduler.utilities.getEndOfDay(x).equals(x)&&b.editDialogFields.allDay.val(!0),(0<=b._views[b._view].type.indexOf("month")||v&&v.equals(x)||x&&x.equals(D.jqx.scheduler.utilities.getEndOfDay(x))&&v&&v.equals(D.jqx.scheduler.utilities.getStartOfDay(v)))&&b.editDialogFields.allDay.val(!0),D("<div></div>")),s=(e.append(i),D("<div class='"+b._editDialogLabel()+"'>"+b.schedulerLocalization.editDialogTimeZoneString+"</div>").appendTo(i)),t=D("<div class='"+b._editDialogField()+"'></div>").appendTo(i),o=D("<div></div>").appendTo(t);(a=new Array).push({displayName:b.schedulerLocalization.editDialogSelectTimeZoneString,id:null});for(var a=a.concat(b.timeZones),l=0;l<a.length;l++){var d=a[l],h=d.displayName.indexOf(")");h=0<=h?d.displayName.substring(2+h):d.displayName,d.searchName=h}o.jqxDropDownList({height:27,rtl:b.rtl,placeHolder:b.schedulerLocalization.editDialogSelectTimeZoneString,width:"100%",theme:b.theme,searchMember:"searchName",source:a,displayMember:"displayName",valueMember:"id"}),b.editDialogFields.timeZone=o,b.editDialogFields.timeZoneLabel=s,b.editDialogFields.timeZoneContainer=i,b.initRepeatPanels(w,e,x.toDate()),b.editDialogFields&&b.editDialogFields.repeatContainer&&(b.editAppointment&&b.editAppointment.rootAppointment?(b.editDialogFields.repeatContainer.hide(),b.editDialogFields.repeatPanel.hide()):(b.editDialogFields.repeatContainer.show(),b.editDialogFields.repeatPanel.show()));for(var t=D("<div></div>"),o=(e.append(t),D("<div class='"+b._editDialogLabel()+"'>"+b.schedulerLocalization.editDialogDescriptionString+"</div>").appendTo(t)),s=D("<div class='"+b._editDialogField()+"'></div>").appendTo(t),i=D("<textarea type='text' resizable='off' style='position:relative; top: 3px; padding:3px;'></textarea>").appendTo(s),s=(i.jqxInput({rtl:b.rtl,height:40,width:"100%",theme:b.theme}),i.css("box-sizing","border-box"),b.editDialogFields.description=i,b.editDialogFields.descriptionLabel=o,b.editDialogFields.descriptionContainer=t,D("<div></div>")),i=(e.append(s),D("<div class='"+b._editDialogLabel()+"'>"+b.schedulerLocalization.editDialogColorString+"</div>").appendTo(s)),o=D("<div class='"+b._editDialogField()+"'></div>").appendTo(s),t=D("<div></div>").appendTo(o),o=(t.jqxDropDownList({height:27,rtl:b.rtl,selectedIndex:-1,placeHolder:b.schedulerLocalization.editDialogColorPlaceHolderString,selectionRenderer:function(e,t){if(t<0)return e.css("top","4px"),e.css("position","relative"),e[0].outerHTML;e="";return e+="<div style='margin-top: 2px; float: left; border-radius: 3px; width: 96%; height: 20px; border: none; background:"+b.colors[t]+"; margin-left: 2%;'></div>"},renderer:function(e){if(-1==e)return"";var t="";return t+="<div style='margin-top: 1px; float: left; border-radius: 3px; width: 96%; height: 20px; border: none; background:"+b.colors[e]+"; margin-left: 2%;'></div>"},source:b.colors,width:"100%",theme:b.theme}),b.editDialogFields.color=t,b.editDialogFields.colorLabel=i,b.editDialogFields.colorContainer=s,D("<div></div>")),t=(e.append(o),D("<div class='"+b._editDialogLabel()+"'>"+b.schedulerLocalization.editDialogStatusString+"</div>").appendTo(o)),i=D("<div class='"+b._editDialogField()+"'></div>").appendTo(o),s=D("<div></div>").appendTo(i),i=(s.jqxDropDownList({height:27,rtl:b.rtl,selectedIndex:2,autoDropDownHeight:!0,source:b.schedulerLocalization.editDialogStatuses,width:"100%",theme:b.theme}),b.editDialogFields.status=s,b.editDialogFields.statusLabel=t,b.editDialogFields.statusContainer=o,D("<div></div>")),s=(e.append(i),D("<div class='"+b._editDialogLabel()+"'>"+b.schedulerLocalization.editDialogResourceIdString+"</div>").appendTo(i)),t=D("<div class='"+b._editDialogField()+"'></div>").appendTo(i),o=D("<div></div>").appendTo(t),c=new Array,l=0;l<b._resources.length;l++)c.push(b._resources[l]);var t=!0,t=(10<c.length&&(t=!1),o.jqxDropDownList({height:27,rtl:b.rtl,source:c,selectedIndex:0,autoDropDownHeight:t,width:"100%",theme:b.theme}),b.editDialogFields.resource=o,b.editDialogFields.resourceLabel=s,b.editDialogFields.resourceContainer=i,0==c.length&&i.hide(),!f&&_&&b.editDialogFields.resource.val(_.resourceId),D("<div></div>")),o=(e.append(t),D("<div style='width:100%;' class='"+b._editDialogField()+"'></div>").appendTo(t)),s=D("<button style='margin-left: 5px; float:right;'>"+b.schedulerLocalization.editDialogCancelString+"</button>").appendTo(o),i=D("<button style='margin-left: 5px; float:right;'>"+b.schedulerLocalization.editDialogDeleteString+"</button>").appendTo(o),t=D("<button style='display: none; margin-left: 5px; float:right;'>"+b.schedulerLocalization.editDialogRepeatDeleteSeriesString+"</button>").appendTo(o),u=D("<button style='display: none; margin-left: 5px; float:right;'>"+b.schedulerLocalization.editDialogRepeatDeleteString+"</button>").appendTo(o),p=D("<button style='margin-left: 5px; float:right;'>"+b.schedulerLocalization.editDialogSaveString+"</button>").appendTo(o),m=D("<button style='display: none; margin-left: 5px; float:right;'>"+b.schedulerLocalization.editDialogRepeatSaveSeriesString+"</button>").appendTo(o),g=D("<button style='display: none; margin-left: 5px; float:right;'>"+b.schedulerLocalization.editDialogRepeatSaveString+"</button>").appendTo(o);b.isTouchDevice(),i.jqxButton({rtl:b.rtl,theme:b.theme}),t.jqxButton({rtl:b.rtl,theme:b.theme}),u.jqxButton({rtl:b.rtl,theme:b.theme}),p.jqxButton({rtl:b.rtl,theme:b.theme}),s.jqxButton({rtl:b.rtl,theme:b.theme}),m.jqxButton({rtl:b.rtl,theme:b.theme}),g.jqxButton({rtl:b.rtl,theme:b.theme}),m.hide(),g.hide(),p.addClass("primary"),g.addClass("primary"),m.addClass("primary"),i.addClass("jqx-danger"),b.editDialogFields.saveOccurrenceButton=g,b.editDialogFields.saveSeriesButton=m,b.editDialogFields.saveButton=p,b.editDialogFields.cancelButton=s,b.editDialogFields.deleteButton=i,b.editDialogFields.deleteSeriesButton=t,b.editDialogFields.deleteExceptionsButton=u,b.editDialogFields.buttons=o,b.addHandler(i,"click",function(){w.jqxWindow("close"),b.overlay.hide(),b._deleteAppointment(b.editAppointment)}),b.addHandler(s,"click",function(){w.jqxWindow("close"),b.overlay.hide()}),b.addHandler(g,"click",function(){if(b.editAppointment.isException()){for(var e=(b.editAppointment.rootAppointment||b.editAppointment).exceptions,t=0;t<e.length;t++)if(e[t].occurrenceFrom.equals(b.editAppointment.occurrenceFrom)){e[t]=b.editAppointment;break}}else null!=b.editAppointment.rootAppointment?(b.editAppointment.rootAppointment.exceptions.push(b.editAppointment),b.editAppointment.rootAppointment.recurrenceException.push(b.editAppointment.occurrenceFrom)):(b.editAppointment.exceptions.push(b.editAppointment),b.editAppointment.recurrenceException.push(b.editAppointment.occurrenceFrom));b._setAppointmentPropertiesFromDialog(b.editAppointment,"occurrence")&&(b.changedAppointments[b.editAppointment.id]={type:"Update",appointment:b.editAppointment.boundAppointment},b._raiseEvent("appointmentChange",{appointment:b.editAppointment.boundAppointment}),b._renderrows(),w.jqxWindow("close"),b.overlay.hide())}),b.addHandler(m,"click",function(){var e=b.editAppointment;e.rootAppointment&&(e=e.rootAppointment),b._setAppointmentPropertiesFromDialog(e,"series")&&(b.changedAppointments[e.id]={type:"Update",appointment:e.boundAppointment},b._raiseEvent("appointmentChange",{appointment:e.boundAppointment}),b._renderrows(),w.jqxWindow("close"),b.overlay.hide())}),b.addHandler(p,"click",function(){var e,t=!0;null==b.editAppointment?(e=new D.jqx.scheduler.appointment,(t=b._setAppointmentPropertiesFromDialog(e,"none"))&&b.addAppointment(e)):b.editAppointment.rootAppointment?(g.trigger("click"),t=!1):b.editAppointment.isRecurrentAppointment()?(m.trigger("click"),t=!1):(t=b._setAppointmentPropertiesFromDialog(b.editAppointment,"none"))&&(b.changedAppointments[b.editAppointment.id]={type:"Update",appointment:b.editAppointment?b.editAppointment.boundAppointment:null},b._raiseEvent("appointmentChange",{appointment:b.editAppointment.boundAppointment}),b._renderrows()),t&&(w.jqxWindow("close"),b.overlay.hide())}),b.addHandler(w,"close",function(e){b.overlay.hide(),b.focus(),b.editDialogClose&&b.editDialogClose(w,b.editDialogFields,b.editAppointment?b.editAppointment.boundAppointment:null),b._raiseEvent("editDialogClose",{dialog:w,fields:b.editDialogFields,appointment:b.editAppointment?b.editAppointment.boundAppointment:null})}),b.editDialogCreate&&b.editDialogCreate(w,b.editDialogFields,b.editAppointment),b._raiseEvent("editDialogCreate",{dialog:w,fields:b.editDialogFields,appointment:b.editAppointment?b.editAppointment.boundAppointment:null}),w.jqxWindow({height:e[0].scrollHeight+40})}}),b._editDialog=w),b.dialogOpenings||(b.dialogOpenings=0),b.removeHandler(b._editDialog,"open"),b.addHandler(b._editDialog,"open",function(e){if(b.editDialogOpen&&b.editDialogFields&&1==b.editDialogOpen(b._editDialog,b.editDialogFields,b.editAppointment?b.editAppointment.boundAppointment:null))return;b.rtl&&(b._editDialog.find(".jqx-scheduler-edit-dialog-label").addClass(b.toThemeProperty("jqx-scheduler-edit-dialog-label-rtl")),b._editDialog.find(".jqx-scheduler-edit-dialog-field").addClass(b.toThemeProperty("jqx-scheduler-edit-dialog-field-rtl")),b.editDialogFields.saveOccurrenceButton.css("float","left"),b.editDialogFields.saveSeriesButton.css("float","left"),b.editDialogFields.saveButton.css("float","left"),b.editDialogFields.cancelButton.css("float","left"),b.editDialogFields.deleteButton.css("float","left"),b.editDialogFields.deleteSeriesButton.css("float","left"),b.editDialogFields.deleteExceptionsButton.css("float","left"),b.editDialogFields.buttons.css("width","auto"),b.editDialogFields.allDay.css("float","right")),setTimeout(function(){var e=b.editAppointment?b.editAppointment.boundAppointment:null;b.editAppointment&&b.editAppointment.rootAppointment&&(e=b.editAppointment.rootAppointment.boundAppointment),b._raiseEvent("editDialogOpen",{dialog:b._editDialog,fields:b.editDialogFields,appointment:e})});function t(){setTimeout(function(){s?b.editDialogFields.deleteButton.focus():(b.editDialogFields.subject.focus(),b.editDialogFields.subject.select())},1)}var i=null==b.editAppointment?b.schedulerLocalization.editDialogCreateTitleString:b.schedulerLocalization.editDialogTitleString;if(b._editDialog.jqxWindow({title:i}),0==b.dialogOpenings&&!f)return b.dialogOpenings++,b.isTouchDevice()||(b._editDialog.jqxWindow({height:150}),b._editDialog.jqxWindow({height:D(b._editDialog.children())[1].scrollHeight+40})),b.editDialogFields.deleteButton.hide(),void t();b.editDialogFields&&(b.editDialogFields.subject.val(""),b.editDialogFields.location.val(""),t(),b.editDialogFields.resetExceptions.val(!1),b.editDialogFields.description.val(""),f||b.editDialogFields.deleteButton.hide(),f?(b.dialogOpenings++,b.editDialogFields.deleteButton.show(),b.editDialogFields.subject.val(f.subject),b.editDialogFields.location.val(f.location),b.editDialogFields.description.val(f.description),b.editDialogFields.timeZone.val(f.timeZone),0<=b.colors.indexOf(f.borderColor)?b.editDialogFields.color.val(f.borderColor):b.editDialogFields.color.jqxDropDownList("clearSelection"),b.editDialogFields.allDay.val(f.allDay),b.editDialogFields.resource.val(f.resourceId),b.editDialogFields.status.val(f.status),f.timeZone&&(f.from=f.from.toTimeZone(f.timeZone),f.to=f.to.toTimeZone(f.timeZone)),v=f.from,x=f.to,D.jqx.scheduler.utilities.getStartOfDay(v).equals(v)&&D.jqx.scheduler.utilities.getEndOfDay(x).equals(x)&&b.editDialogFields.allDay.val(!0),b._setAppointmentPropertiesToDialog(f,v,x,_?_.resourceId:null)):(b.editDialogFields.saveButton.show(),b._setAppointmentPropertiesToDialog(null,v,x,_?_.resourceId:null)),v&&x&&(b._changeFromUser=!1,b.editDialogFields.from.val(v.toDate()),b.editDialogFields.to.val(x.toDate()),b._changeFromUser=!0),b.isTouchDevice()||(b._editDialog.jqxWindow({height:150}),b._editDialog.jqxWindow({height:D(b._editDialog.children())[1].scrollHeight+40})))}),b.removeHandler(b._editDialog,"keydown"),b.addHandler(b._editDialog,"keydown",function(e){if(b.editDialogKeyDown){var t=b.editDialogKeyDown(w,b.editDialogFields,b.editAppointment,e);if(null!=t)return t}if(13==e.keyCode){if(D(document.activeElement).ischildof(b._editDialog)){if("button"==document.activeElement.nodeName.toLowerCase())return!0;(f?f.isException()||f.rootAppointment?b.editDialogFields.saveOccurrenceButton:f.isRecurrentAppointment()?b.editDialogFields.saveSeriesButton:b.editDialogFields.saveButton:b.editDialogFields.saveButton).trigger("click")}}else 27==e.keyCode&&b.editDialogFields.cancelButton.trigger("click")})},openMenu:function(e,t){var i,s=this;s.menu||s._initMenu(),s._views[s._view].type;s.contextMenu&&s.menu&&(s.selectedAppointment?s.menu.jqxMenu("showItem","editAppointment"):s.menu.jqxMenu("hideItem","editAppointment"),arguments.length<2&&(s.selectedAppointment?(e=(i=s.selectedAppointment.coord()).left,t=i.top):s.focusedCell&&(i=D(s.focusedCell).coord()),e=i.left,t=i.top),s.menu.jqxMenu("open",e,t),s._hasOpenedMenu=!0)},closeMenu:function(){var e=this;e.contextMenu&&e.menu&&setTimeout(function(){e.menu.jqxMenu("close")})},closeDialog:function(){this._editDialog.jqxWindow("close")},openDialog:function(e,t){var i=this;i._views[i._view].type;i.selectedJQXAppointment?!1!==i._initDialog(i.selectedJQXAppointment)&&i._openDialog(e,t):(null==i.getSelection()&&(i.focus(),i.focusedCell.setAttribute("data-selected","true"),i._lastSelectedCell=i.focusedCell,i._updateCellsSelection(i.focusedCell)),i._initDialog(),i._openDialog(e,t))},_openDialog:function(e,t){var i,s=this;s._views[s._view].type;s.editDialog&&(i=s.host.coord(),s.overlay.show(),s.overlay.css("z-index",9999999),s.overlay.width(s.host.width()),s.overlay.height(s.host.height()),s.overlay.offset(i),s.isTouchDevice()?(s._editDialog.jqxWindow("move",i.left,i.top),s._editDialog.jqxWindow({draggable:!1,maxWidth:s.host.width(),maxHeight:s.host.height()}),s._editDialog.jqxWindow({width:s.host.width(),height:s.host.height()}),s._editDialog.jqxWindow("open"),s._editDialog.jqxWindow("move",i.left,i.top)):(null!=e&&null!=t?s._editDialog.jqxWindow("move",e,t):((e=s._editDialog.height())<400&&(e=400),t=i.top+s.host.height()/2-e/2,e=i.left+s.host.width()/2-s._editDialog.width()/2,s._editDialog.jqxWindow("move",e,t)),s._editDialog.jqxWindow("open")),setTimeout(function(){s.overlay.css("z-index",999)},50))},_setAppointmentPropertiesFromDialog:function(e,t){var i=this,s=e,e=i._views[i._view].type,r=(i._views[i._view],i.editDialogFields.from.val("date")),n=i.editDialogFields.to.val("date");if(n<r)return i.editDialogFields.from.jqxDateTimeInput("focus"),!1;if(r==n)return 0<=e.indexOf("month");s.resourceId=i.editDialogFields.resource.val(),"none"==i.editDialogFields.resourceContainer.css("display")&&(s.resourceId=""),s.description=i.editDialogFields.description.val(),s.allDay=i.editDialogFields.allDay.val(),s.status=i.editDialogFields.status.val(),s.location=i.editDialogFields.location.val(),s.timeZone=i.editDialogFields.timeZone.val(),""==s.timeZone&&""!=i.timeZone&&(s.timeZone=i.timeZone),s.from=new D.jqx.date(r,s.timeZone),s.to=new D.jqx.date(n,s.timeZone),i.timeZone?(s.from=s.from.toTimeZone(i.timeZone),s.to=s.to.toTimeZone(i.timeZone)):(s.from=s.from.toTimeZone(null),s.to=s.to.toTimeZone(null)),s.allDay&&(s.from=D.jqx.scheduler.utilities.getStartOfDay(s.from),s.to=D.jqx.scheduler.utilities.getEndOfDay(s.to)),i.editDialogFields.color.val()&&(e=i.getAppointmentColors(i.editDialogFields.color.val()),s.color=e.color,s.background=e.background,s.borderColor=e.border),s.subject=i.editDialogFields.subject.val();var r=i.editDialogFields.repeat.jqxDropDownList("selectedIndex"),o=new D.jqx.scheduler.recurrencePattern,e=i.editDialogFields.repeatEndPanel;switch(o.timeZone=i.timeZone,o.from=s.from.clone(),"occurrence"==t&&s.rootAppointment&&(o.from=s.rootAppointment.from.clone()),i.editDialogFields.resetExceptions.val()&&(s.exceptions=new Array,s.recurrenceException=new Array),e.repeatEndNever.val()?(o.count=1e3,o.to=new D.jqx.date(9999,12,31)):e.repeatEndAfter.val()?(o.count=e.repeatEndAfterValue.val(),o.to=new D.jqx.date(9999,12,31)):e.repeatEndOn.val()&&(o.count=1e3,n=new D.jqx.date(e.repeatEndOnValue.jqxDateTimeInput("getDate"),i.timeZone),o.to=n),r){case 0:default:s.clearRecurrence();break;case 1:var a=i.editDialogFields.daily.repeatDayInterval.val();o.interval=a,o.freq="daily";break;case 2:var l=i.editDialogFields.weekly,a=l.repeatWeekInterval.val(),d=[{Sunday:0},{Monday:1},{Tuesday:2},{Wednesday:3},{Thursday:4},{Friday:5},{Saturday:6}],h=l.repeatDays,c=new Array;o.weekDays={};for(var u=0;u<7;u++)h[u].val()&&(0==u?c.push(6):c.push(u-1),D.extend(o.weekDays,d[u]));o.freq="weekly",o.byweekday=c,o.interval=a;break;case 3:l=i.editDialogFields.monthly,a=l.repeatMonth.val();if(l.repeatMonthDayBool.val())o.day=l.repeatMonthDay.val(),o.bymonthday=new Array,o.bymonthday.push(o.day);else{var p=l.repeatDayOfWeek.jqxDropDownList("selectedIndex"),m=new Array;0==p?p=6:p--;var g="";switch(l.repeatDayOfWeekType.jqxDropDownList("selectedIndex")){case 0:g=1;break;case 1:g=2;break;case 2:g=3;break;case 3:g=4;break;case 4:g=-1}m.push([p,g]),o.bynweekday=m}o.freq="monthly",o.interval=a;break;case 4:l=i.editDialogFields.yearly,a=l.repeatYear.val();if(l.repeatYearBool.val())o.day=l.repeatYearDay.val(),o.month=l.repeatYearMonth.jqxDropDownList("selectedIndex"),o.bymonth=new Array,o.bymonth.push(1+o.month),o.byyearday=new Array,o.byyearday.push(o.day);else{o.month=l.repeatDayOfWeekMonth.jqxDropDownList("selectedIndex"),o.bymonth=new Array,o.bymonth.push(1+o.month);p=l.repeatDayOfWeek.jqxDropDownList("selectedIndex"),m=new Array;0==p?p=6:p--;g="";switch(l.repeatDayOfWeekType.jqxDropDownList("selectedIndex")){case 0:g=1;break;case 1:g=2;break;case 2:g=3;break;case 3:g=4;break;case 4:g=-1}m.push([p,g]),o.bynweekday=m}o.freq="yearly",o.interval=a}s.rootAppointment?s.rootAppointment.recurrencePattern=o:0<r&&(s.recurrencePattern=o);var f,v={},x={};for(f in i.appointmentDataFields){var y=i.appointmentDataFields[f],w=s[f];v[f]=w,"from"!=f&&"to"!=f||(w=w.toDate()),x[y]=w}return v.originalData=x,(v.jqxAppointment=s).boundAppointment=v,!0},_setAppointmentPropertiesToDialog:function(e,t,i,s){var r=this,n=r.editDialogFields.repeatEndPanel;if(n.repeatEndNever.jqxRadioButton({checked:!0}),n.repeatEndAfter.jqxRadioButton({checked:!1}),n.repeatEndAfterValue.val(1),n.repeatEndOnValue.val(void 0),i.toDate(),r.editDialogFields.daily&&r.editDialogFields.daily.repeatDayInterval.val(1),r.editDialogFields.weekly){for(var o=r.editDialogFields.weekly,a=0;a<o.repeatDays.length;a++)1==a?o.repeatDays[a].jqxCheckBox({checked:!0}):o.repeatDays[a].jqxCheckBox({checked:!1});o.repeatWeekInterval.val(1)}if(r.editDialogFields.monthly&&((n=r.editDialogFields.monthly).repeatDayOfWeek.jqxDropDownList("selectIndex",1),n.repeatDayOfWeekBool.jqxRadioButton({checked:!1}),n.repeatDayOfWeekType.jqxDropDownList("selectIndex",0),n.repeatMonthDayBool.jqxRadioButton({checked:!0}),n.repeatMonthDay.val(1),n.repeatMonth.val(1)),r.editDialogFields.yearly&&((n=r.editDialogFields.yearly).repeatDayOfWeekMonth.jqxDropDownList("selectIndex",0),n.repeatDayOfWeekBool.jqxRadioButton({checked:!1}),n.repeatDayOfWeekType.jqxDropDownList("selectIndex",0),n.repeatDayOfWeek.jqxDropDownList("selectIndex",1),n.repeatYear.val(1),n.repeatYearMonth.jqxDropDownList("selectIndex",0),n.repeatYearDay.val(1),n.repeatYearBool.val(!0)),e&&e.isRecurrentAppointment()?e.rootAppointment?r.editDialogFields.resetExceptionsContainer.hide():r.editDialogFields.resetExceptionsContainer.show():e&&(r.editDialogFields.resetExceptionsContainer.hide(),r.editDialogFields.repeat.jqxDropDownList("selectIndex",0)),!e)return r.editDialogFields.timeZone.jqxDropDownList("clearSelection"),s?r.editDialogFields.resource.val(s):r.editDialogFields.resource.jqxDropDownList("selectIndex",0),r.editDialogFields.allDay.val(!1),(0<=r._views[r._view].type.indexOf("month")||t&&t.equals(i)||i&&i.equals(D.jqx.scheduler.utilities.getEndOfDay(i))&&t&&t.equals(D.jqx.scheduler.utilities.getStartOfDay(t)))&&r.editDialogFields.allDay.val(!0),r.editDialogFields.color.jqxDropDownList("clearSelection"),r.editDialogFields.description.val(""),r.editDialogFields.subject.val(""),void r.editDialogFields.repeat.jqxDropDownList("selectIndex",0);var l=(n=e).recurrencePattern;if(null!=(l=n.rootAppointment?n.rootAppointment.recurrencePattern:l)){n=l.freq,n="yearly"==n?4:"monthly"==n?3:"weekly"==n?2:"daily"==n?1:0,s=r.editDialogFields.repeatEndPanel;switch(1e3!=l.count?(s.repeatEndNever.jqxRadioButton({checked:!1}),s.repeatEndAfter.jqxRadioButton({checked:!0}),s.repeatEndAfterValue.val(l.count)):9999!=l.to.year()?(s.repeatEndOn.jqxRadioButton({checked:!0}),s.repeatEndOnValue.val(l.to.toDate())):s.repeatEndNever.jqxRadioButton({checked:!0}),r.editDialogFields.repeat.jqxDropDownList("selectIndex",n),n){case 1:var d=l.interval;r.editDialogFields.daily.repeatDayInterval.val(d);break;case 2:for(var d=l.interval,h=r.editDialogFields.weekly,c=(h.repeatWeekInterval.val(d),l.byweekday),u=0;u<7;u++)(p=h.repeatDays[u]).val(!1);for(var p,u=0;u<c.length;u++)(6==(p=c[u])?h.repeatDays[0]:h.repeatDays[p+1]).val(!0);break;case 3:d=r.editDialogFields.monthly;if(d.repeatMonth.val(l.interval),l.bymonthday&&0<l.bymonthday.length)d.repeatMonthDayBool.jqxRadioButton({checked:!0}),d.repeatMonthDay.val(l.day);else{d.repeatDayOfWeekBool.jqxRadioButton({checked:!0});var m=(f=l.bynweekday)[0][0];d.repeatDayOfWeek.jqxDropDownList("selectIndex",m=7==++m?0:m);var g="";switch(f[0][1]){case 1:g=0;break;case 2:g=1;break;case 3:g=2;break;case 4:g=3;break;case-1:g=4}d.repeatDayOfWeekType.jqxDropDownList("selectIndex",g)}break;case 4:d=r.editDialogFields.yearly;if(l.byyearday&&0<l.byyearday.length&&(d.repeatYearDay.val(l.byyearday[0]),d.repeatYearBool.val(!0)),l.bymonth&&0<l.bymonth.length&&(d.repeatYearMonth.jqxDropDownList("selectIndex",l.bymonth[0]-1),d.repeatYearBool.val(!0)),!l.byyearday||l.byyearday&&0==l.byyearday.length){d.repeatDayOfWeekMonth.jqxDropDownList("selectIndex",l.bymonth[0]-1),d.repeatDayOfWeekBool.jqxRadioButton({checked:!0});var f,m=(f=l.bynweekday)[0][0];d.repeatDayOfWeek.jqxDropDownList("selectIndex",m=7==++m?0:m);g="";switch(f[0][1]){case 1:g=0;break;case 2:g=1;break;case 3:g=2;break;case 4:g=3;break;case-1:g=4}d.repeatDayOfWeekType.jqxDropDownList("selectIndex",g)}}}}}),D.jqx.scheduler.column=function(i,e){return this.owner=i,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.editable=!0,this.hidden=!1,this.hideable=!0,this.groupable=!0,this.renderer=null,this.cellsRenderer=null,this.columntype=null,this.cellsFormat="",this.align="center",this.cellsalign="center",this.width="auto",this.minwidth=60,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.resizable=!0,this.draggable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.autoCellHeight=!0,this.validation=null,this.classname="",this.cellclassname="",this.rendered=null,this.exportable=!0,this.nullable=!0,this.columngroup=null,this.columntype="textbox",this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsFormat:this.cellsFormat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){var i;this[e]?(i=this[e],this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)):this[e.toLowerCase()]&&(i=this[e.toLowerCase()],this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i))},this._initfields=function(e){if(null!=e)if(D.jqx.hasProperty(e,"dataField")&&(this.datafield=D.jqx.get(e,"dataField")),D.jqx.hasProperty(e,"displayField")?this.displayfield=D.jqx.get(e,"displayField"):this.displayfield=this.datafield,D.jqx.hasProperty(e,"columnType")&&(this.columntype=D.jqx.get(e,"columnType")),D.jqx.hasProperty(e,"validation")&&(this.validation=D.jqx.get(e,"validation")),D.jqx.hasProperty(e,"autoCellHeight")&&(this.autoCellHeight=D.jqx.get(e,"autoCellHeight")),D.jqx.hasProperty(e,"text")?this.text=D.jqx.get(e,"text"):this.text=this.displayfield,D.jqx.hasProperty(e,"sortable")&&(this.sortable=D.jqx.get(e,"sortable")),D.jqx.hasProperty(e,"hidden")&&(this.hidden=D.jqx.get(e,"hidden")),D.jqx.hasProperty(e,"groupable")&&(this.groupable=D.jqx.get(e,"groupable")),D.jqx.hasProperty(e,"renderer")&&(this.renderer=D.jqx.get(e,"renderer")),D.jqx.hasProperty(e,"align")&&(this.align=D.jqx.get(e,"align")),D.jqx.hasProperty(e,"cellsAlign")&&(this.cellsalign=D.jqx.get(e,"cellsAlign")),D.jqx.hasProperty(e,"cellsFormat")&&(this.cellsFormat=D.jqx.get(e,"cellsFormat")),D.jqx.hasProperty(e,"width")&&(this.width=D.jqx.get(e,"width")),D.jqx.hasProperty(e,"minWidth")&&(this.minwidth=D.jqx.get(e,"minWidth")),D.jqx.hasProperty(e,"maxWidth")&&(this.maxwidth=D.jqx.get(e,"maxWidth")),D.jqx.hasProperty(e,"cellsRenderer")&&(this.cellsRenderer=D.jqx.get(e,"cellsRenderer")),D.jqx.hasProperty(e,"columnType")&&(this.columntype=D.jqx.get(e,"columnType")),D.jqx.hasProperty(e,"pinned")&&(this.pinned=D.jqx.get(e,"pinned")),D.jqx.hasProperty(e,"filterable")&&(this.filterable=D.jqx.get(e,"filterable")),D.jqx.hasProperty(e,"filter")&&(this.filter=D.jqx.get(e,"filter")),D.jqx.hasProperty(e,"resizable")&&(this.resizable=D.jqx.get(e,"resizable")),D.jqx.hasProperty(e,"draggable")&&(this.draggable=D.jqx.get(e,"draggable")),D.jqx.hasProperty(e,"editable")&&(this.editable=D.jqx.get(e,"editable")),D.jqx.hasProperty(e,"initEditor")&&(this.initeditor=D.jqx.get(e,"initEditor")),D.jqx.hasProperty(e,"createEditor")&&(this.createeditor=D.jqx.get(e,"createEditor")),D.jqx.hasProperty(e,"destroyEditor")&&(this.destroyeditor=D.jqx.get(e,"destroyEditor")),D.jqx.hasProperty(e,"getEditorValue")&&(this.geteditorvalue=D.jqx.get(e,"getEditorValue")),D.jqx.hasProperty(e,"className")&&(this.classname=D.jqx.get(e,"className")),D.jqx.hasProperty(e,"cellClassName")&&(this.cellclassname=D.jqx.get(e,"cellClassName")),D.jqx.hasProperty(e,"rendered")&&(this.rendered=D.jqx.get(e,"rendered")),D.jqx.hasProperty(e,"exportable")&&(this.exportable=D.jqx.get(e,"exportable")),D.jqx.hasProperty(e,"nullable")&&(this.nullable=D.jqx.get(e,"nullable")),D.jqx.hasProperty(e,"columnGroup")&&(this.columngroup=D.jqx.get(e,"columnGroup")),!e instanceof String&&"string"!=typeof e)for(var t in e)if(!this.hasOwnProperty(t)&&!this.hasOwnProperty(t.toLowerCase()))throw i.host.remove(),new Error("jqxScheduler: Invalid property name - "+t+".")},this._initfields(e),this},D.jqx.schedulerDataCollection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginUpdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t},this.isempty=function(e){return null==this.records[e]},this.initialize=function(e){this.records[(e=e<1?1:e)-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,!0)},this.insertAt=function(e,t){return null!=e&&(null!=t&&(0<=e&&(e<this.records.length?(this.records.splice(e,0,t),!0):this.add(t))))},this.remove=function(e){if(null==e)return!1;e=this.records.indexOf(e);return-1!=e&&(this.records.splice(e,1),!0)},this.removeAt=function(e){return null!=e&&(!(e<0)&&(e<this.records.length&&(this.records[e],this.records.splice(e,1),!0)))},this},D.jqx.scheduler.dataView=function(d){return(this.that=this).scheduler=null,this.records=[],this.rows=[],this.columns=[],this.filters=new Array,this.pagesize=0,this.pagenum=0,this.source=null,this.databind=function(e,t){var i=this;if(D.isArray(e))i.update(e);else{var s=!!e._source,r=null,n=(this._sortData=null,this._sortHierarchyData=null,s?e=(r=e)._source:r=new D.jqx.dataAdapter(e,{autoBind:!1}),function(e){e.originaldata=r.originaldata,e.records=r.records,e.hierarchy=r.hierarchy,e.scheduler.serverProcessing||(e._sortData=null,e._sortfield=null,e._filteredData=null,e._sortHierarchyData=null),e.hierarchy||(e.hierarchy=new Array,r.hierarchy=new Array),r._source.totalrecords?e.totalrecords=r._source.totalrecords:r._source.totalRecords?e.totalrecords=r._source.totalRecords:0!==e.hierarchy.length?e.totalrecords=e.hierarchy.length:e.totalrecords=e.records.length,e.cachedrecords=r.cachedrecords}),i=(s=this,r.recordids=[],r.records=new Array,r.cachedrecords=new Array,r.originaldata=new Array,r._options.totalrecords=s.totalrecords,r._options.originaldata=s.originaldata,r._options.recordids=s.recordids,r._options.cachedrecords=new Array,r._options.pagenum=s.pagenum,r._options.pageable=s.pageable,null!=e.type&&(r._options.type=e.type),null!=e.formatdata&&(r._options.formatData=e.formatdata),null!=e.contenttype&&(r._options.contentType=e.contenttype),null!=e.async&&(r._options.async=e.async),null!=e.updaterow&&(r._options.updaterow=e.updaterow),null!=e.addrow&&(r._options.addrow=e.addrow),null!=e.deleterow&&(r._options.deleterow=e.deleterow),0==s.pagesize&&(s.pagesize=10),r._options.pagesize=s.pagesize,this.source=e,void 0!==t&&0,this);switch(e.datatype){case"local":case"array":default:null==e.localdata&&(e.localdata=[]),null!=e.localdata&&(r.unbindBindingUpdate(d+i.scheduler.element.id),(!i.scheduler.autoBind&&i.scheduler.isInitialized||i.scheduler.autoBind)&&r.dataBind(),(l=function(){n(i),i.update(r.records)})(),r.bindBindingUpdate(d+i.scheduler.element.id,l));break;case"ics":case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=e.localdata)return r.unbindBindingUpdate(d+i.scheduler.element.id),(!i.scheduler.autoBind&&i.scheduler.isInitialized||i.scheduler.autoBind)&&r.dataBind(),(l=function(e){n(i),i.update(r.records)})(),void r.bindBindingUpdate(d+i.scheduler.element.id,l);var o={},a=r._options.data,l=(r._options.data?D.extend(r._options.data,o):(e.data&&D.extend(o,e.data),r._options.data=o),function(){function e(){n(i),i.update(r.records)}if(D.jqx.browser.msie&&D.jqx.browser.version<9)try{e()}catch(e){}else e()});r.unbindDownloadComplete(d+i.scheduler.element.id),r.bindDownloadComplete(d+i.scheduler.element.id,l),r._source.loaderror=function(e,t,i){l()},(!i.scheduler.autoBind&&i.scheduler.isInitialized||i.scheduler.autoBind)&&r.dataBind(),r._options.data=a}}},this.addFilter=function(e,t){this._sortData=null,this._sortHierarchyData=null;for(var i=-1,s=0;s<this.filters.length;s++)if(this.filters[s].datafield==e){i=s;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removeFilter=function(e){this._sortData=null,this._sortHierarchyData=null;for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this._compare=function(e,t,i){if(void 0===(t=t)&&(t=null),null===(e=void 0===(e=e)?null:e)&&null===t)return 0;if(null===e&&null!==t)return 1;if(null!==e&&null===t)return 1;if(e=e.toString(),t=t.toString(),D.jqx.dataFormat)if(i&&""!=i)switch(i){case"number":case"int":case"float":return e<t?-1:t<e?1:0;case"date":case"time":return e<t?-1:t<e?1:0;case"string":case"text":e=String(e).toLowerCase(),t=String(t).toLowerCase()}else{if(D.jqx.dataFormat.isNumber(e)&&D.jqx.dataFormat.isNumber(t))return e<t?-1:t<e?1:0;if(D.jqx.dataFormat.isDate(e)&&D.jqx.dataFormat.isDate(t))return e<t?-1:t<e?1:0;D.jqx.dataFormat.isNumber(e)||D.jqx.dataFormat.isNumber(t)||(e=String(e).toLowerCase(),t=String(t).toLowerCase())}try{if(e<t)return-1;if(t<e)return 1}catch(e){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)},this.evaluate=function(e){if(this.scheduler.serverProcessing)return e;var t=new Array;if(this.filters.length){function i(e,t){for(var i=0;i<e.length;i++){for(var s=e[i],r=(s._visible=!0,void 0),n=0;n<this.filters.length;n++)var o=this.filters[n].filter,a=s[this.filters[n].datafield],a=o.evaluate(a),r=null==r?a:"or"==o.operator?r||a:r&&a;s._visible=!1,(r||s.aggregate)&&(s._visible=!0,t.push(s),l[s.uid]=s)}}var l=new Array;if(this._filteredData)this.rows=this._filteredData;else{if(this.source.hierarchy||this.scheduler.source.hierarchy&&0<this.scheduler.source.hierarchy.length){var r=new Array,n=function(e,t){for(var i=0;i<t.length;i++){var s=t[i];r.push(s),s.records&&0<s.records.length&&n(s,s.records)}};n(null,e),i.call(this,r,t);for(var s=0;s<t.length;s++)for(var o=t[s];o.parent;){var a=o.parent;l[a.uid]||(a._visible=!0,l[a.uid]=a),o=a}t=e}else i.call(this,e,t);this._filteredData=t,this.rows=t}}else this.rows=e;return this.rows},this.getid=function(e,t,i){if(0<D(e,t).length)return D(e,t).text();if(this.rows&&""!=e&&null!=e&&0<this.rows.length){null==(r=this.rows[this.rows.length-1][e])&&(r=null);for(var s=1;s<=100;s++)if(!(n=this.scheduler.appointmentsByKey[s+r])){if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){if(n=this.scheduler.appointmentsByKey["jqx"+r+s])continue;return"jqx"+r+s}return r+s}}if(null!=e&&0<e.toString().length){t=D(t).attr(e);if(null!=t&&0<t.toString().length)return this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords?"jqx"+t:t}var r;if(this.rows&&0<this.rows.length&&(n=this.scheduler.appointmentsByKey[i])){null==(r=this.rows[this.rows.length-1][e])&&(r="");for(s=1;s<=1e3;s++)if(!(n=this.scheduler.appointmentsByKey[s+r])){if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){if(n=this.scheduler.appointmentsByKey["jqx"+r+s])continue;return"jqx"+r+s}return r+s}}if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){if(!(n=this.scheduler.appointmentsByKey["jqx"+i]))return"jqx"+i;for(s=i+1;s<=100;s++)if(!(n=this.scheduler.appointmentsByKey["jqx"+s])){var n=this.scheduler.appointmentsByKey["jqx"+s];if(!n)return"jqx"+s}}return i},this.generatekey=function(){function e(){return 16*(1+Math.random())|0}return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()},this}}(jqxBaseFramework),!function(d){d.jqx.jqxWidget("jqxScrollBar","",{}),d.extend(d.jqx._jqxScrollBar.prototype,{defineInstance:function(){var e={height:null,width:null,vertical:!1,min:0,max:1e3,value:0,step:10,largestep:50,thumbMinSize:10,thumbSize:0,thumbStep:"auto",roundedCorners:"all",showButtons:!0,disabled:!1,touchMode:"auto",touchModeStyle:"auto",thumbTouchSize:0,_triggervaluechanged:!0,rtl:!1,areaDownCapture:!1,areaUpCapture:!1,_initialLayout:!1,offset:0,reference:0,velocity:0,frame:0,timestamp:0,ticker:null,amplitude:0,target:0};return this===d.jqx._jqxScrollBar.prototype||d.extend(!0,this,e),e},createInstance:function(e){this.render()},render:function(){this._mouseup=new Date;var e,t=this,i="<div id='jqxScrollOuterWrap' style='box-sizing: content-box; width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='box-sizing: content-box; width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div><div id='jqxScrollAreaUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollThumb' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollBtnDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div></div></div>",s=(d.jqx.utilities&&"hidden"==d.jqx.utilities.scrollBarButtonsVisibility&&(this.showButtons=!1),t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.host.html(i)}):this.element.innerHTML=i,null!=this.width&&0<parseInt(this.width)&&this.host.width(parseInt(this.width)),null!=this.height&&0<parseInt(this.height)&&this.host.height(parseInt(this.height)),this.isPercentage=!1,null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.width(this.width),this.isPercentage=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.height(this.height),this.isPercentage=!0),this.isPercentage&&d.jqx.utilities.resize((e=this).host,function(){e._arrange()},!1),this.thumbCapture=!1,this.scrollOuterWrap=d(this.element.firstChild),this.scrollWrap=d(this.scrollOuterWrap[0].firstChild),this.btnUp=d(this.scrollWrap[0].firstChild),this.areaUp=d(this.btnUp[0].nextSibling),this.btnThumb=d(this.areaUp[0].nextSibling),this.arrowUp=d(this.btnUp[0].firstChild),this.areaDown=d(this.btnThumb[0].nextSibling),this.btnDown=d(this.areaDown[0].nextSibling),this.arrowDown=d(this.btnDown[0].firstChild),this.element.id);if(this.btnUp[0].id="jqxScrollBtnUp"+s,this.btnDown[0].id="jqxScrollBtnDown"+s,this.btnThumb[0].id="jqxScrollThumb"+s,this.areaUp[0].id="jqxScrollAreaUp"+s,this.areaDown[0].id="jqxScrollAreaDown"+s,this.scrollWrap[0].id="jqxScrollWrap"+s,this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+s,!this.host.jqxRepeatButton)throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.");this.btnUp.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDown.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDownInstance=d.data(this.btnDown[0],"jqxRepeatButton").instance,this.btnUpInstance=d.data(this.btnUp[0],"jqxRepeatButton").instance,this.areaUp.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.areaDown.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.btnThumb.jqxButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.propertyChangeMap.value=function(e,t,i,s){isNaN(s)||i!=s&&e.setPosition(parseFloat(s),!0)},this.propertyChangeMap.width=function(e,t,i,s){null!=e.width&&0<parseInt(e.width)&&(e.host.width(parseInt(e.width)),e._arrange())},this.propertyChangeMap.height=function(e,t,i,s){null!=e.height&&0<parseInt(e.height)&&(e.host.height(parseInt(e.height)),e._arrange())},this.propertyChangeMap.theme=function(e,t,i,s){e.setTheme()},this.propertyChangeMap.max=function(e,t,i,s){isNaN(s)||i!=s&&(e.max=parseInt(s),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.min=function(e,t,i,s){isNaN(s)||i!=s&&(e.min=parseInt(s),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.disabled=function(e,t,i,s){i!=s&&(s?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.btnUp.jqxRepeatButton("disabled",e.disabled),e.btnDown.jqxRepeatButton("disabled",e.disabled),e.btnThumb.jqxButton("disabled",e.disabled))},this.propertyChangeMap.touchMode=function(e,t,i,s){i!=s&&(e._updateTouchBehavior(),!0===s?(e.showButtons=!1,e.refresh()):!1===s&&(e.showButtons=!0,e.refresh()))},this.propertyChangeMap.rtl=function(e,t,i,s){i!=s&&e.refresh()},this.buttonUpCapture=!1,this.buttonDownCapture=!1,this._updateTouchBehavior(),this.setPosition(this.value),this._addHandlers(),this.setTheme()},resize:function(e,t){this.width=e,this.height=t,this._arrange()},_updateTouchBehavior:function(){this.isTouchDevice=d.jqx.mobile.isTouchDevice(),1==this.touchMode?(d.jqx.browser.msie&&d.jqx.browser.version<9||(this.isTouchDevice=!0,d.jqx.mobile.setMobileSimulator(this.btnThumb[0]),this._removeHandlers(),this._addHandlers()),this.setTheme()):0==this.touchMode&&(this.isTouchDevice=!1)},_addHandlers:function(){var e,o=this,t=!1;try{("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(t=!0,this._touchSupport=!0)}catch(e){}if((o.isTouchDevice||t)&&(this.addHandler(this.btnThumb,d.jqx.mobile.getTouchEventName("touchend"),function(e){var t=o.vertical?o.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):o.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),i=o.toThemeProperty("jqx-fill-state-pressed");return o.btnThumb.removeClass(t),o.btnThumb.removeClass(i),o.disabled||o.handlemouseup(o,e),!1}),this.addHandler(this.btnThumb,d.jqx.mobile.getTouchEventName("touchstart"),function(e){var t;o.disabled||(1!=o.touchMode&&(t=e).originalEvent.touches&&t.originalEvent.touches.length?(e.clientX=t.originalEvent.touches[0].clientX,e.clientY=t.originalEvent.touches[0].clientY):(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY),o.handlemousedown(e),e.preventDefault&&e.preventDefault())}),d.jqx.mobile.touchScroll(this.element,o.max,function(e,t,i,s,r){var n;"visible"==o.host.css("visibility")&&(r&&(1!=o.touchMode&&(n=r).originalEvent.touches&&n.originalEvent.touches.length?(r.clientX=n.originalEvent.touches[0].clientX,r.clientY=n.originalEvent.touches[0].clientY):(r.clientX=r.originalEvent.clientX,r.clientY=r.originalEvent.clientY)),n=o.vertical?o.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):o.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),o.btnThumb.addClass(n),o.btnThumb.addClass(o.toThemeProperty("jqx-fill-state-pressed")),o.thumbCapture=!0,o.element.setAttribute("touched",""),o.handlemousemove(r))},o.element.id,o.host,o.host)),!this.isTouchDevice){try{""==document.referrer&&!window.frameElement||null==window.top||window.top==window.self||(s=null,(s=window.parent&&document.referrer?document.referrer:s)&&-1!=s.indexOf(document.location.host)&&(e=function(e){o.disabled||o.handlemouseup(o,e)},window.top.document.addEventListener?window.top.document.addEventListener("mouseup",e,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",e)))}catch(e){}t="click mouseup mousedown";this.addHandler(this.btnDown,t,function(e){var t=o.step;switch(Math.abs(o.max-o.min)<=t&&(t=1),o.rtl&&!o.vertical&&(t=-o.step),e.type){case"click":o.buttonDownCapture&&!o.isTouchDevice?o.disabled||o.setPosition(o.value+t):!o.disabled&&o.isTouchDevice&&o.setPosition(o.value+t);break;case"mouseup":if(!o.btnDownInstance.base.disabled&&o.buttonDownCapture)return o.buttonDownCapture=!1,o.btnDown.removeClass(o.toThemeProperty("jqx-scrollbar-button-state-pressed")),o.btnDown.removeClass(o.toThemeProperty("jqx-fill-state-pressed")),o._removeArrowClasses("pressed","down"),o.handlemouseup(o,e),o.setPosition(o.value+t),!1;break;case"mousedown":if(o.btnDownInstance.base.disabled)break;return o.buttonDownCapture=!0,o.btnDown.addClass(o.toThemeProperty("jqx-fill-state-pressed")),o.btnDown.addClass(o.toThemeProperty("jqx-scrollbar-button-state-pressed")),o._addArrowClasses("pressed","down"),!1}}),this.addHandler(this.btnUp,t,function(e){var t=o.step;switch(Math.abs(o.max-o.min)<=t&&(t=1),o.rtl&&!o.vertical&&(t=-o.step),e.type){case"click":o.buttonUpCapture&&!o.isTouchDevice?o.disabled||o.setPosition(o.value-t):!o.disabled&&o.isTouchDevice&&o.setPosition(o.value-t);break;case"mouseup":if(!o.btnUpInstance.base.disabled&&o.buttonUpCapture)return o.buttonUpCapture=!1,o.btnUp.removeClass(o.toThemeProperty("jqx-scrollbar-button-state-pressed")),o.btnUp.removeClass(o.toThemeProperty("jqx-fill-state-pressed")),o._removeArrowClasses("pressed","up"),o.handlemouseup(o,e),o.setPosition(o.value-t),!1;break;case"mousedown":if(o.btnUpInstance.base.disabled)break;return o.buttonUpCapture=!0,o.btnUp.addClass(o.toThemeProperty("jqx-fill-state-pressed")),o.btnUp.addClass(o.toThemeProperty("jqx-scrollbar-button-state-pressed")),o._addArrowClasses("pressed","up"),!1}})}var i,s="click";this.isTouchDevice&&(s=d.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.areaUp,s,function(e){var t,i,s;if(!o.disabled)return t=o.largestep,o.rtl&&!o.vertical&&(t=-o.largestep),i=!0,s=o.btnThumb.offset(),o.vertical?o.areaClickOffset.y>=s.top&&(i=!1):o.areaClickOffset.x>=s.left&&(i=!1),i&&o.setPosition(o.value-t),!1}),this.addHandler(this.areaDown,s,function(e){var t,i,s;if(!o.disabled)return t=o.largestep,o.rtl&&!o.vertical&&(t=-o.largestep),i=!0,s=o.btnThumb.offset(),o.vertical?o.areaClickOffset.y<=s.top&&(i=!1):o.areaClickOffset.x<=s.left&&(i=!1),i&&o.setPosition(o.value+t),!1}),this.addHandler(this.areaUp,"mousedown",function(e){if(!o.disabled)return o.areaUpCapture=!0,!(o.areaClickOffset={x:e.pageX,y:e.pageY})}),this.addHandler(this.areaDown,"mousedown",function(e){if(!o.disabled)return o.areaDownCapture=!0,!(o.areaClickOffset={x:e.pageX,y:e.pageY})}),this.addHandler(this.btnThumb,"mousedown dragstart",function(e){if("dragstart"===e.type)return!1;o.disabled||o.handlemousedown(e),e.preventDefault&&e.preventDefault()}),this.addHandler(d(document),"mouseup."+this.element.id,function(e){o.disabled||o.handlemouseup(o,e)}),this.isTouchDevice||(this.mousemoveFunc=function(e){o.disabled||o.handlemousemove(e)},this.addHandler(d(document),"mousemove."+this.element.id,this.mousemoveFunc),this.addHandler(d(document),"mouseleave."+this.element.id,function(e){o.disabled||o.handlemouseleave(e)}),this.addHandler(d(document),"mouseenter."+this.element.id,function(e){o.disabled||o.handlemouseenter(e)}),o.disabled||(this.addHandler(this.btnUp,"mouseenter mouseleave",function(e){"mouseenter"===e.type?o.disabled||o.btnUpInstance.base.disabled||1==o.touchMode||(o.btnUp.addClass(o.toThemeProperty("jqx-scrollbar-button-state-hover")),o.btnUp.addClass(o.toThemeProperty("jqx-fill-state-hover")),o._addArrowClasses("hover","up")):o.disabled||o.btnUpInstance.base.disabled||1==o.touchMode||(o.btnUp.removeClass(o.toThemeProperty("jqx-scrollbar-button-state-hover")),o.btnUp.removeClass(o.toThemeProperty("jqx-fill-state-hover")),o._removeArrowClasses("hover","up"))}),i=o.toThemeProperty("jqx-scrollbar-thumb-state-hover"),o.vertical||(i=o.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")),this.addHandler(this.btnThumb,"mouseenter mouseleave",function(e){"mouseenter"===e.type?o.disabled||1==o.touchMode||(o.btnThumb.addClass(i),o.btnThumb.addClass(o.toThemeProperty("jqx-fill-state-hover"))):o.disabled||1==o.touchMode||(o.btnThumb.removeClass(i),o.btnThumb.removeClass(o.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnDown,"mouseenter mouseleave",function(e){"mouseenter"===e.type?o.disabled||o.btnDownInstance.base.disabled||1==o.touchMode||(o.btnDown.addClass(o.toThemeProperty("jqx-scrollbar-button-state-hover")),o.btnDown.addClass(o.toThemeProperty("jqx-fill-state-hover")),o._addArrowClasses("hover","down")):o.disabled||o.btnDownInstance.base.disabled||1==o.touchMode||(o.btnDown.removeClass(o.toThemeProperty("jqx-scrollbar-button-state-hover")),o.btnDown.removeClass(o.toThemeProperty("jqx-fill-state-hover")),o._removeArrowClasses("hover","down"))})))},destroy:function(){var e=this.btnUp,t=this.btnDown,i=this.btnThumb,s=(this.scrollWrap,this.areaUp),r=this.areaDown,e=(this.arrowUp.remove(),delete this.arrowUp,this.arrowDown.remove(),delete this.arrowDown,r.removeClass(),s.removeClass(),t.removeClass(),e.removeClass(),i.removeClass(),e.jqxRepeatButton("destroy"),t.jqxRepeatButton("destroy"),s.jqxRepeatButton("destroy"),r.jqxRepeatButton("destroy"),i.jqxButton("destroy"),d.data(this.element,"jqxScrollBar"));this._removeHandlers(),this.btnUp=null,this.btnDown=null,this.scrollWrap=null,this.areaUp=null,this.areaDown=null,this.scrollOuterWrap=null,delete this.mousemoveFunc,delete this.btnDownInstance,delete this.btnUpInstance,delete this.scrollOuterWrap,delete this.scrollWrap,delete this.btnDown,delete this.areaDown,delete this.areaUp,delete this.btnDown,delete this.btnUp,delete this.btnThumb,delete this.propertyChangeMap.value,delete this.propertyChangeMap.min,delete this.propertyChangeMap.max,delete this.propertyChangeMap.touchMode,delete this.propertyChangeMap.disabled,delete this.propertyChangeMap.theme,delete this.propertyChangeMap,e&&delete e.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter"),this.removeHandler(this.btnDown,"mouseenter"),this.removeHandler(this.btnThumb,"mouseenter"),this.removeHandler(this.btnUp,"mouseleave"),this.removeHandler(this.btnDown,"mouseleave"),this.removeHandler(this.btnThumb,"mouseleave"),this.removeHandler(this.btnUp,"click"),this.removeHandler(this.btnDown,"click"),this.removeHandler(this.btnDown,"mouseup"),this.removeHandler(this.btnUp,"mouseup"),this.removeHandler(this.btnDown,"mousedown"),this.removeHandler(this.btnUp,"mousedown"),this.removeHandler(this.areaUp,"mousedown"),this.removeHandler(this.areaDown,"mousedown"),this.removeHandler(this.areaUp,"click"),this.removeHandler(this.areaDown,"click"),this.removeHandler(this.btnThumb,"mousedown"),this.removeHandler(this.btnThumb,"dragstart"),this.removeHandler(d(document),"mouseup."+this.element.id),this.mousemoveFunc?this.removeHandler(d(document),"mousemove."+this.element.id,this.mousemoveFunc):this.removeHandler(d(document),"mousemove."+this.element.id),this.removeHandler(d(document),"mouseleave."+this.element.id),this.removeHandler(d(document),"mouseenter."+this.element.id)},_addArrowClasses:function(e,t){""!=(e="pressed"==e?"selected":e)&&(e="-"+e),this.vertical?("up"!=t&&null!=t||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),"down"!=t&&null!=t||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):("up"!=t&&null!=t||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),"down"!=t&&null!=t||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},_removeArrowClasses:function(e,t){""!=(e="pressed"==e?"selected":e)&&(e="-"+e),this.vertical?("up"!=t&&null!=t||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),"down"!=t&&null!=t||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):("up"!=t&&null!=t||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),"down"!=t&&null!=t||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},setTheme:function(){var e=this.btnUp,t=this.btnDown,i=this.btnThumb,s=this.scrollWrap,r=(this.areaUp,this.areaDown,this.arrowUp),n=this.arrowDown,o=(this.scrollWrap[0].className=this.toThemeProperty("jqx-reset"),this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset"),this.toThemeProperty("jqx-reset")),a=(this.areaDown[0].className=o,this.areaUp[0].className=o,this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content")),a=(this.host.addClass(a),this.isTouchDevice&&this.host.addClass(this.toThemeProperty("jqx-scrollbar-mobile")),t[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal"),e[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal"),""),a=this.vertical?(r[0].className=o+" "+this.toThemeProperty("jqx-icon-arrow-up"),n[0].className=o+" "+this.toThemeProperty("jqx-icon-arrow-down"),this.toThemeProperty("jqx-scrollbar-thumb-state-normal")):(r[0].className=o+" "+this.toThemeProperty("jqx-icon-arrow-left"),n[0].className=o+" "+this.toThemeProperty("jqx-icon-arrow-right"),this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")),l=(a+=" "+this.toThemeProperty("jqx-fill-state-normal"),i[0].className=a,this.disabled?(s.addClass(this.toThemeProperty("jqx-fill-state-disabled")),s.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))):(s.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),s.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))),"all"==this.roundedCorners?(this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.vertical?(r=d.jqx.cssroundedcorners("top"),r=this.toThemeProperty(r),e.addClass(r),n=d.jqx.cssroundedcorners("bottom"),n=this.toThemeProperty(n),t.addClass(n)):(o=d.jqx.cssroundedcorners("left"),o=this.toThemeProperty(o),e.addClass(o),a=d.jqx.cssroundedcorners("right"),a=this.toThemeProperty(a),t.addClass(a))):(l=d.jqx.cssroundedcorners(this.roundedCorners),l=this.toThemeProperty(l),e.addClass(l),t.addClass(l)),d.jqx.cssroundedcorners(this.roundedCorners));l=this.toThemeProperty(l),i.hasClass(l)||i.addClass(l),"none"===e.css("display")&&(this.showButtons=!1,this.touchModeStyle=!0,i.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch"))),this.isTouchDevice&&0!=this.touchModeStyle&&(this.showButtons=!1,i.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch")))},isScrolling:function(){return null!=this.thumbCapture&&null!=this.buttonDownCapture&&null!=this.buttonUpCapture&&null!=this.areaDownCapture&&null!=this.areaUpCapture&&(this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture)},track:function(){var e=Date.now(),t=e-this.timestamp;this.timestamp=e,e=this.offset-this.frame,this.frame=this.offset,this.velocity=.2*(1e3*e/(1+t))+.2*this.velocity},handlemousedown:function(e){null!=this.thumbCapture&&0!=this.thumbCapture||(this.thumbCapture=!0,null!=(t=this.btnThumb)&&(t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.vertical?t.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):t.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")),this.element.setAttribute("touched","")));var t,i=this;this.thumbCapture&&d.jqx.scrollAnimation&&(i.reference=parseInt(i.btnThumb[0].style.top),i.offset=parseInt(i.btnThumb[0].style.top),i.vertical||(i.reference=parseInt(i.btnThumb[0].style.left),i.offset=parseInt(i.btnThumb[0].style.left)),i.velocity=i.amplitude=0,i.frame=i.offset,i.timestamp=Date.now(),clearInterval(i.ticker),i.ticker=setInterval(function(){i.track()},100)),this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartValue=this.value},toggleHover:function(e,t){},refresh:function(){this._arrange()},_setElementPosition:function(e,t,i){isNaN(t)||parseInt(e[0].style.left)!=parseInt(t)&&(e[0].style.left=t+"px"),isNaN(i)||parseInt(e[0].style.top)!=parseInt(i)&&(e[0].style.top=i+"px")},_setElementTopPosition:function(e,t){isNaN(t)||(e[0].style.top=t+"px")},_setElementLeftPosition:function(e,t){isNaN(t)||(e[0].style.left=t+"px")},handlemouseleave:function(e){var t=this.btnUp,i=this.btnDown;(this.buttonDownCapture||this.buttonUpCapture)&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),this._removeArrowClasses("pressed")),1==this.thumbCapture&&(t=this.btnThumb,i=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),t.removeClass(i),t.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.element.removeAttribute("touched"))},handlemouseenter:function(e){var t=this.btnUp,i=this.btnDown;this.buttonUpCapture&&(t.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","up"),this.element.setAttribute("touched","")),this.buttonDownCapture&&(i.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","down"),this.element.setAttribute("touched","")),1==this.thumbCapture&&(t=this.btnThumb,this.vertical?t.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):t.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")),t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.element.setAttribute("touched",""))},handlemousemove:function(e){var t=this.btnUp,i=this.btnDown;if(null!=i&&null!=t){if(null!=t&&null!=i&&null!=this.buttonDownCapture&&null!=this.buttonUpCapture&&(this.buttonDownCapture&&0==e.which?(i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","down"),this.buttonDownCapture=!1):this.buttonUpCapture&&0==e.which&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","up"),this.buttonUpCapture=!1)),1!=this.thumbCapture)return!1;var s=this.btnThumb;if(0==e.which&&!this.isTouchDevice&&!this._touchSupport)return this.thumbCapture=!1,this._arrange(),r=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),s.removeClass(r),s.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),!0;null!=e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation();var r=0;try{var r=this.vertical?e.clientY-this.dragStartY:e.clientX-this.dragStartX,n=this._btnAndThumbSize,o=(this._btnAndThumbSize||(n=this.vertical?t.height()+i.height()+s.height():t.width()+i.width()+s.width()),(this.max-this.min)/(this.scrollBarSize-n));if("auto"!=this.thumbStep)return r*=o,Math.abs(this.dragStartValue+r-this.value)>=parseInt(this.thumbStep)&&(a=Math.round(parseInt(r)/this.thumbStep)*this.thumbStep,this.rtl&&!this.vertical?this.setPosition(this.dragStartValue-a):this.setPosition(this.dragStartValue+a)),!1;var a=r*=o;this.rtl&&!this.vertical&&(a=-r),this.setPosition(this.dragStartValue+a),this.offset=parseInt(s[0].style.left),this.vertical&&(this.offset=parseInt(s[0].style.top))}catch(e){alert(e)}return!1}},handlemouseup:function(e,t){var r,i,s,n=!1;this.thumbCapture&&(this.thumbCapture=!1,s=this.btnThumb,i=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),s.removeClass(i),s.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.element.removeAttribute("touched"),n=!0,this._mouseup=new Date,d.jqx.scrollAnimation&&(r=this,clearInterval(this.ticker),(25<this.velocity||this.velocity<-25)&&(this.amplitude=.8*this.velocity,this.target=Math.round(this.offset+this.amplitude),this.vertical,this.target-=this.reference,this.timestamp=Date.now(),requestAnimationFrame(function e(){var t,i,s;r.amplitude&&(s=Date.now()-r.timestamp,.5<(s=-r.amplitude*Math.exp(-s/325))||s<-.5?(i=t=(r.max-r.min)/(r.scrollBarSize-r._btnAndThumbSize)*(r.target+s),r.rtl&&!r.vertical&&(i=-t),r.setPosition(r.dragStartValue+i),requestAnimationFrame(e)):(i=t=(r.max-r.min)/(r.scrollBarSize-r._btnAndThumbSize)*(r.target+s),r.rtl&&!r.vertical&&(i=-t),r.setPosition(r.dragStartValue+i)))})))),this.areaDownCapture=this.areaUpCapture=!1,(this.buttonUpCapture||this.buttonDownCapture)&&(i=this.btnUp,s=this.btnDown,this.buttonUpCapture=!1,this.buttonDownCapture=!1,i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),s.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),s.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed"),this.element.removeAttribute("touched"),n=!0,this._mouseup=new Date),n&&(null!=t.preventDefault&&t.preventDefault(),null!=t.originalEvent&&(t.originalEvent.mouseHandled=!0),null!=t.stopPropagation&&t.stopPropagation())},setPosition:function(e,t){var i;this.element;return(e=(e=null!=e&&NaN!=e?e:this.min)>=this.max?this.max:e)<this.min&&(e=this.min),this.value===e&&1!=t||(e==this.max&&(t=new d.Event("complete"),this.host.trigger(t)),t=this.value,this._triggervaluechanged&&((i=new d.Event("valueChanged")).previousValue=this.value,i.currentValue=e),this.value=e,this._positionelements(),this._triggervaluechanged&&this.host.trigger(i),this.valueChanged&&this.valueChanged({currentValue:this.value,previousvalue:t})),e},val:function(i){return function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return"number"!=typeof i&&("date"!=typeof i&&("boolean"!=typeof i&&"string"!=typeof i))}(i)||0==arguments.length?this.value:(this.setPosition(i),i)},_getThumbSize:function(e){var t=this.max-this.min,i=0;return 1<t?i=e/(t+e)*e:1==t?i=e-1:0==t&&(i=e),(i=0<this.thumbSize?this.thumbSize:i)<this.thumbMinSize&&(i=this.thumbMinSize),Math.min(i,e)},_positionelements:function(){this.element;var e,t=this.areaUp,i=this.areaDown,s=(this.btnUp,this.btnDown,this.btnThumb),r=(this.scrollWrap,this._height||this.host.height()),n=this._width||this.host.width(),o=this.vertical?n:r,a=(this.showButtons||(o=0),this.vertical?r:n),l=(this.scrollBarSize=a,this._getThumbSize(a-2*o)),r=((l=Math.floor(l))<this.thumbMinSize&&(l=this.thumbMinSize),(NaN==r||r<10)&&(r=10),(NaN==n||n<10)&&(n=10),this.btnSize=o+=2,this._btnAndThumbSize),n=(this._btnAndThumbSize||(r=this.vertical?2*this.btnSize+s.outerHeight():2*this.btnSize+s.outerWidth(),r=Math.round(r)),(a-r)/(this.max-this.min)*(this.value-this.min));this.rtl&&!this.vertical&&(n=(a-r)/(this.max-this.min)*(this.max-this.value-this.min)),(n=Math.round(n))<0&&(n=0),this.vertical?(i[0].style.height=(e=(e=a-n-r)<0?0:e)+"px",t[0].style.height=n+"px",this._setElementTopPosition(t,o),this._setElementTopPosition(s,o+n),this._setElementTopPosition(i,o+n+l)):(t[0].style.width=n+"px",i[0].style.width=0<=a-n-r?a-n-r+"px":"0px",this._setElementLeftPosition(t,o),this._setElementLeftPosition(s,o+n),this._setElementLeftPosition(i,2+o+n+l))},_arrange:function(){var e,t,i,s,r,n,o,a,l,d,h,c,u=this;u._initialLayout?u._initialLayout=!1:(u.min>u.max&&(e=u.min,u.min=u.max,u.max=e),u.min<0&&(e=u.max-u.min,u.min=0,u.max=e),u.element,e=u.areaUp,t=u.areaDown,o=u.btnUp,a=u.btnDown,i=u.btnThumb,n=u.scrollWrap,s=parseInt(u.element.style.height),h=parseInt(u.element.style.width),u.isPercentage&&(s=u.host.height(),h=u.host.width()),isNaN(s)&&(s=0),isNaN(h)&&(h=0),u._width=h,u._height=s,r=u.vertical?h:s,u.showButtons||(r=0),o[0].style.width=r+"px",o[0].style.height=r+"px",a[0].style.width=r+"px",a[0].style.height=r+"px",u.vertical?n[0].style.width=h+2+"px":n[0].style.height=s+2+"px",u._setElementPosition(o,0,0),n=r+2,u.vertical?u._setElementPosition(a,0,s-n):u._setElementPosition(a,h-n,0),o=u.vertical?s:h,u.scrollBarSize=o,a=u._getThumbSize(o-2*n),(a=Math.floor(a-2))<u.thumbMinSize&&(a=u.thumbMinSize),l=!1,u.isTouchDevice&&0!=u.touchModeStyle&&(l=!0),u.vertical?(i[0].style.width=h+"px",i[0].style.height=a+"px",l&&0!==u.thumbTouchSize&&(i.css({width:u.thumbTouchSize+"px"}),i.css("margin-left",(u.host.width()-u.thumbTouchSize)/2))):(i[0].style.width=a+"px",i[0].style.height=s+"px",l&&0!==u.thumbTouchSize&&(i.css({height:u.thumbTouchSize+"px"}),i.css("margin-top",(u.host.height()-u.thumbTouchSize)/2))),(NaN==s||s<10)&&(s=10),(NaN==h||h<10)&&(h=10),u.btnSize=r,l=u.vertical?2*n+(2+parseInt(i[0].style.height)):2*n+(2+parseInt(i[0].style.width)),l=Math.round(l),d=(o-(u._btnAndThumbSize=l))/(u.max-u.min)*(u.value-u.min),u.rtl&&!u.vertical&&(d=(o-l)/(u.max-u.min)*(u.max-u.value-u.min)),d=Math.round(d),(isNaN(d)||d<0||d===-1/0||d===1/0)&&(d=0),u.vertical?(t[0].style.height=(c=(c=o-d-l)<0?0:c)+"px",t[0].style.width=h+"px",e[0].style.height=d+"px",e[0].style.width=h+"px",c=parseInt(u.element.style.height),u.isPercentage&&(c=u.host.height()),i[0].style.visibility="inherit",(c-3*parseInt(r)<0||c<l)&&(i[0].style.visibility="hidden"),u._setElementPosition(e,0,n),u._setElementPosition(i,0,n+d),u._setElementPosition(t,0,n+d+a)):(0<d&&(e[0].style.width=d+"px"),0<s&&(e[0].style.height=s+"px"),t[0].style.width=(h=(h=o-d-l)<0?0:h)+"px",t[0].style.height=s+"px",c=parseInt(u.element.style.width),u.isPercentage&&(c=u.host.width()),i[0].style.visibility="inherit",(c-3*parseInt(r)<0||c<l)&&(i[0].style.visibility="hidden"),u._setElementPosition(e,n,0),u._setElementPosition(i,n+d,0),u._setElementPosition(t,n+d+a,0)))}})}(jqxBaseFramework),!function(a){var t=0;a.jqx.jqxWidget("jqxScrollView","",{}),a.extend(a.jqx._jqxScrollView.prototype,{defineInstance:function(){var e={width:320,height:320,buttonsOffset:[0,0],moveThreshold:.5,currentPage:0,animationDuration:300,showButtons:!0,dragEnabled:!0,bounceEnabled:!0,slideShow:!1,slideDuration:3e3,disabled:!1,_mouseDown:!1,_movePermited:!1,_startX:-1,_startOffset:-1,_lastOffset:-1,_events:["pageChanged"],_eventsMap:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove")}};return this===a.jqx._jqxScrollView.prototype||a.extend(!0,this,e),e},createInstance:function(){t+=1,this._instanceId=t,this._isTouchDevice=a.jqx.mobile.isTouchDevice();var e=this;a.jqx.utilities.resize(this.host,function(){e.refresh()})},resize:function(e,t){this.width=e,this.height=t,this.refresh()},refresh:function(){var e;this.host.width(this.width),this.host.height(this.height),this._render(),this._performLayout(),0<=this.moveThreshold.toString().indexOf("%")&&(this.moveThreshold=parseInt(this.moveThreshold,10)/100),this._refreshPages(),this._refreshButtons(),this._removeEventListeners(),this._addEventListeners(),this._changePage(this.currentPage,!1,0),this.slideShow?(e=this).slideShowTimer=setInterval(function(){e.currentPage>=e._pages.length-1?e._changePage(0,!0,e.animationDuration):e._changePage(e.currentPage+1,!0,e.animationDuration)},this.slideDuration):null!=this.slideShowTimer&&clearInterval(this.slideShowTimer)},destroy:function(){this.host.remove()},_getEvent:function(e){return this._isTouchDevice?this._eventsMap[e]:e},_eventNamespace:function(){return".scrollview"+this._instanceId},_removeEventListeners:function(){this.removeHandler(this._innerWrapper),this.removeHandler(this.host,this._getEvent("mousemove")+this._eventNamespace()),this.removeHandler(a(document),this._getEvent("mouseup")+this._eventNamespace())},_getCoordinate:function(e,t){if(this._isTouchDevice){var i=a.jqx.position(e);if("pageX"==t)return i.left;if("pageY"==t)return i.top;if(e.originalEvent.touches)return e.originalEvent.touches[0][t]}return e[t]},_draggedRight:function(){if(0<this.currentPage){var e=this.currentPage-1,t=a(this._pages[e]);if(t.offset().left+t.outerWidth()-this.host.offset().left>=this.host.width()*this.moveThreshold)return this.changePage(e),!0}return!1},_draggedLeft:function(){if(this.currentPage+1<this._pages.length){var e=this.currentPage+1,t=a(this._pages[e]);if(this.host.width()-(t.offset().left-this.host.offset().left)>=this.host.width()*this.moveThreshold)return this.changePage(e),!0}return!1},_dropTarget:function(){var e=this._movedLeft?this._draggedLeft():this._draggedRight();e||this.changePage(this.currentPage,!1)},_scrollEnabled:function(e){return!!this._mouseDown&&(this._movePermited||15<=Math.abs(this._getCoordinate(e,"pageX")-this._startX)&&(this._movePermited=!0),this._movePermited)},_setMoveDirection:function(e){this._lastOffset>e?this._movedLeft=!0:this._movedLeft=!1},_getBounceOffset:function(e){var t=-(this._innerWrapper.width()-this.host.width());return 0<e?e=0:e<t&&(e=t),e},_addEventListeners:function(){var e,t,i=this;this.addHandler(this._innerWrapper,this._getEvent("mousedown")+this._eventNamespace(),function(e){0!=i.dragEnabled&&(i._mouseDown=!0,i._startX=i._getCoordinate(e,"pageX"),i._startOffset=i._lastOffset=parseInt(i._innerWrapper.css("margin-left"),10))}),this.addHandler(this.host,"dragstart",function(){return!1}),this.addHandler(this.host,this._getEvent("mousemove")+this._eventNamespace(),function(e){var t;if(0!=i.dragEnabled)return!i._scrollEnabled(e)||(t=i._startOffset+i._getCoordinate(e,"pageX")-i._startX,i.bounceEnabled||(t=i._getBounceOffset(t)),i._innerWrapper.css("margin-left",t),i._setMoveDirection(t),i._lastOffset=t,e.preventDefault(),!1)}),this.addHandler(a(document),this._getEvent("mouseup")+this._eventNamespace(),function(e){0!=i.dragEnabled&&(i._movePermited&&i._dropTarget(),i._movePermited=!1,i._mouseDown=!1)});try{""==document.referrer&&!window.frameElement||-1==(e=null!=window.top&&window.parent&&document.referrer?document.referrer:e).indexOf(document.location.host)||(t=function(e){i._movePermited&&i._dropTarget(),i._movePermited=!1,i._mouseDown=!1},window.top.document.addEventListener?window.top.document.addEventListener("mouseup",t,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",t))}catch(e){}},_render:function(){this.host.addClass(this.toThemeProperty("jqx-scrollview")),this.host.css({overflow:"hidden",position:"relative"})},_performLayout:function(){this.host.css({width:this.width,height:this.height})},_renderPages:function(){this._innerWrapper||(this._innerWrapper=a("<div/>"),this.host.wrapInner(this._innerWrapper),this._innerWrapper=this.host.children().first()),this._innerWrapper.addClass(this.toThemeProperty("jqx-scrollview-inner-wrapper")),this._innerWrapper.height(this.host.height())},_refreshPage:function(e){e.addClass(this.toThemeProperty("jqx-scrollview-page")),this._performPageLayout(e)},_refreshPages:function(){var e=this,t=0;this._renderPages(),this._pages=this._innerWrapper.children(),this._pages.each(function(){e._refreshPage(a(this)),t+=a(this).outerWidth(!0)}),this._innerWrapper.width(t)},_performPageLayout:function(e){e.css("float","left"),e.width(this.host.width()),e.height(this.host.height())},_refreshButtons:function(){this._renderButtons(),this._removeButtonsEventListeners(),this._addButtonsEventListeners(),this._performButtonsLayout()},_removeButtonsEventListeners:function(){var e=this;this._buttonsContainer.children().each(function(){e.removeHandler(a(this))})},_addButtonsEventListeners:function(){var t=this;this._buttonsContainer.children().each(function(e){t.addHandler(a(this),"click",function(){t.changePage(e)})})},_performButtonsLayout:function(){var e=(this.host.width()-this._buttonsContainer.width())/2,t=0!=this._buttonsContainer.outerHeight()?this._buttonsContainer.outerHeight():14;this._buttonsContainer.css({position:"absolute",left:e+parseInt(this.buttonsOffset[0],10),top:this.host.height()-2*t+parseInt(this.buttonsOffset[1],10)-1})},_renderButtons:function(){var e;this._buttonsContainer&&this._buttonsContainer.remove(),this._buttons=[],this._buttonsContainer=a("<span/>");for(var t=0;t<this._pages.length;t+=1)e=a('<span class="'+this.toThemeProperty("jqx-scrollview-button")+" "+this.toThemeProperty("jqx-fill-state-normal")+'"></span>'),this._buttonsContainer.append(e),this._buttons[t]=e;this._buttonsContainer.appendTo(this.host),this.showButtons||this._buttonsContainer.hide()},_raiseEvent:function(e,t){e=new a.Event(this._events[e]);return e.args=t,this.host.trigger(e)},_swapButtons:function(e,t){this._buttons[e].removeClass(this.toThemeProperty("jqx-scrollview-button-selected")),this._buttons[e].removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._buttons[t].addClass(this.toThemeProperty("jqx-scrollview-button-selected")),this._buttons[t].addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_changePage:function(e,t,i){var s,r,n,o;this.disabled||(r=a(this._pages[e]),s=(this.host.width()-r.width())/2,r=r.offset().left-this._innerWrapper.offset().left-s,n=this.currentPage,void 0===i&&(i=this.animationDuration),(o=this)._innerWrapper.stop(),this._swapButtons(this.currentPage,e),this.currentPage=e,this._innerWrapper.animate({marginLeft:-r},i,function(){t&&o._raiseEvent(0,{currentPage:e,oldPage:n})}))},propertyChangedHandler:function(e,t,i,s){"currentPage"===t?(e.currentPage=i,e.changePage(s)):/(buttonsOffset|width|height)/.test(t)?e.refresh():"showButtons"===t?s?e._buttonsContainer.css("display","block"):e._buttonsContainer.css("display","none"):"slideShow"==t&&e.refresh()},changePage:function(e){if(e>=this._pages.length||e<0)throw new Error("Invalid index!");this._changePage(e,!0)},forward:function(){this.currentPage+1<this._pages.length&&this.changePage(this.currentPage+1)},back:function(){0<=this.currentPage-1&&this.changePage(this.currentPage-1)}})}(jqxBaseFramework),!function(I){I.jqx.jqxWidget("jqxSlider","",{}),I.extend(I.jqx._jqxSlider.prototype,{defineInstance:function(){var e={disabled:!1,width:300,height:30,step:1,max:10,min:0,int64:!1,orientation:"horizontal",showTicks:!0,tickMode:"default",tickNumber:10,minorTickNumber:20,niceInterval:!1,ticksPosition:"both",ticksFrequency:2,minorTicksFrequency:1,showMinorTicks:!1,showButtons:!0,buttonsPosition:"both",mode:"default",showRange:!0,rangeSlider:!1,value:0,values:[0,10],tooltip:!1,tooltipFormatFunction:null,tooltipFormatSettings:null,tooltipPosition:"near",tooltipHideDelay:500,sliderButtonSize:14,tickSize:7,minorTickSize:4,showTickLabels:!1,tickLabelStyleSettings:null,tickLabelFormatSettings:null,tickLabelFormatFunction:null,template:"",layout:"normal",rtl:!1,changeType:null,editableLabels:!1,padding:{},_settings:{vertical:{size:"height",oSize:"width",outerOSize:"outerWidth",outerSize:"outerHeight",left:"top",top:"left",start:"_startY",mouse:"_mouseStartY",page:"pageY",opposite:"horizontal"},horizontal:{size:"width",oSize:"height",outerOSize:"outerHeight",outerSize:"outerWidth",left:"left",top:"top",start:"_startX",mouse:"_mouseStartX",page:"pageX",opposite:"vertical"}},_touchEvents:{mousedown:I.jqx.mobile.getTouchEventName("touchstart"),click:I.jqx.mobile.getTouchEventName("touchstart"),mouseup:I.jqx.mobile.getTouchEventName("touchend"),mousemove:I.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_events:["change","slide","slideEnd","slideStart","created"],_invalidArgumentExceptions:{invalidWidth:"Invalid width.",invalidHeight:"Invalid height.",invalidStep:"Invalid step.",invalidMaxValue:"Invalid maximum value.",invalidMinValue:"Invalid minimum value.",invalidTickFrequency:"Invalid tick frequency.",invalidValue:"Invalid value.",invalidValues:"Invalid values.",invalidTicksPosition:"Invalid ticksPosition",invalidButtonsPosition:"Invalid buttonsPosition"},_lastValue:[],_track:null,_leftButton:null,_rightButton:null,_slider:null,_rangeBar:null,_slideEvent:null,_capturedElement:null,_slideStarted:!1,_helpers:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===I.jqx._jqxSlider.prototype||I.extend(!0,this,e),e},_createFromInput:function(e){var t,i,s=this;"input"===s.element.nodeName.toLowerCase()&&(s.field=s.element,s.field.className&&(s._className=s.field.className),t={title:s.field.title},s.field.value&&(t.value=s.field.value),s.field.id.length?t.id=s.field.id.replace(/[^\w]/g,"_")+"_"+e:t.id=I.jqx.utilities.createId()+"_"+e,s.field.getAttribute("min")&&(e=s.field.getAttribute("min"),s.min=parseFloat(e)),s.field.getAttribute("step")&&(e=s.field.getAttribute("step"),s.step=parseFloat(e)),s.field.getAttribute("max")&&(e=s.field.getAttribute("max"),s.max=parseFloat(e)),e=document.createElement("div"),void 0!==t.id&&e.setAttribute("id",t.id),void 0!==t.value&&e.setAttribute("value",t.value),e.style.cssText=s.field.style.cssText,s.width||(s.width=s.field.offsetWidth),s.height||(s.height=s.field.offsetHeight),s.field.style.display="none",s.field.parentNode&&s.field.parentNode.insertBefore(e,s.field.nextSibling),i=s.host.data(),s.host=I(e),s.host.data(i),s.element=e,s.element.id=s.field.id,s.field.id=t.id,s._helpers.element=new jqxHelper(s.element),s._helpers.field=new jqxHelper(s.field),s._className&&(s._helpers.element.addClass(s._className),s._helpers.field.removeClass(s._className)),s.field.tabIndex&&(i=s.field.tabIndex,s.field.tabIndex=-1,s.element.tabIndex=i))},createInstance:function(e){var t=this;window.jqxHelper||(window.jqxHelper=I),t._createFromInput("jqxSlider"),t._isTouchDevice=I.jqx.mobile.isTouchDevice();if(t.element.innerHTML="<div role='slider'><div style='width:100%; height: 100%;'></div></div><div><div></div><div></div><div></div></div><div><div style='width:100%; height: 100%;'></div></div>",t._leftButton=t.element.firstChild,t._contentWrapper=t._leftButton.nextSibling,t._rightButton=t._contentWrapper.nextSibling,t.element.className=t.toThemeProperty("jqx-slider jqx-widget"),t._topTicks=t._contentWrapper.firstChild,t._track=t._topTicks.nextSibling,t._bottomTicks=t._track.nextSibling,t._leftButton.className=t.toThemeProperty("jqx-slider-left"),t._rightButton.className=t.toThemeProperty("jqx-slider-left"),t._helpers.leftButton=new jqxHelper(t._leftButton),t._helpers.rightButton=new jqxHelper(t._rightButton),t._helpers.element=new jqxHelper(t.element),t._helpers.track=new jqxHelper(t._track),!t.host.jqxRepeatButton)throw new Error("jqxSlider: Missing reference to jqxbuttons.js.");if(I.jqx.aria(this),"s"===t.int64){if(!I.jqx.longInt)throw new Error("jqxSlider: Missing reference to jqxmath.js");I.jqx.longInt(t),t._value64=(new I.jqx.math).fromString(t.value.toString(),10),t._values64=[(new I.jqx.math).fromString(t.values[0].toString(),10),(new I.jqx.math).fromString(t.values[1].toString(),10)],t._min64=(new I.jqx.math).fromString(t.min.toString(),10),t._max64=(new I.jqx.math).fromString(t.max.toString(),10),t._step64=(new I.jqx.math).fromString(t.step.toString(),10),t._ticksFrequency64=(new I.jqx.math).fromString(t.ticksFrequency.toString(),10),t._minorTicksFrequency64=(new I.jqx.math).fromString(t.minorTicksFrequency.toString(),10)}else if("u"===t.int64){try{new BigNumber(t.value)}catch(e){throw new Error("jqxSlider: Missing reference to jqxmath.js")}t._value64=new BigNumber(t.value),t._values64=[new BigNumber(t.values[0]),new BigNumber(t.values[1])],t._min64=new BigNumber(t.min),t._max64=new BigNumber(t.max),t._step64=new BigNumber(t.step),t._ticksFrequency64=new BigNumber(t.ticksFrequency),t._minorTicksFrequency64=new BigNumber(t.minorTicksFrequency)}t._helpers.element.width(t.width),t._helpers.element.height(t.height),!t._helpers.element.isRendered||t._helpers.element.isRendered()?(I(t._leftButton).jqxRepeatButton({template:t.template,theme:t.theme,delay:50,width:t.sliderButtonSize,height:t.sliderButtonSize}),I(t._rightButton).jqxRepeatButton({template:t.template,theme:t.theme,delay:50,width:t.sliderButtonSize,height:t.sliderButtonSize}),t.render()):(t._helpers.element.sizeChanged(function(){I(t._leftButton).jqxRepeatButton({template:t.template,theme:t.theme,delay:50,width:t.sliderButtonSize,height:t.sliderButtonSize}),I(t._rightButton).jqxRepeatButton({template:t.template,theme:t.theme,delay:50,width:t.sliderButtonSize,height:t.sliderButtonSize}),t.render()}),t._helpers.element.sizeStyleChanged(function(){var e=t._helpers.element.getSizeFromStyle();e.width&&(t.width=e.width),e.height&&(t.height=e.height),t.__trackSize=null,t.__thumbSize=null,t._performLayout(),t._initialSettings()}))},render:function(){var e=this;e._raiseEvent(4,{value:e.getValue()}),e._setPaddingValues(),e._rendering=!0,e._refresh(),e._addInput(),null==e.element.getAttribute("tabindex")&&e.element.setAttribute("tabindex",0),I.jqx.utilities.resize(e.host,function(){e.__trackSize=null,e.__thumbSize=null,e._performLayout(),e._initialSettings()}),"vertical"===e.orientation&&(e.element.style.minWidth="96px"),e._rendering=!1},focus:function(){try{this.host.focus()}catch(e){}},destroy:function(){var e=this;e.removeHandler(I(document),"mouseup.arrow"+e.element.id),e.removeHandler(I(document),e._getEvent("mouseup")+"."+e.element.id),e.removeHandler(I(document),e._getEvent("mousemove")+"."+e.element.id),I.jqx.utilities.resize(this.host,null,!0),e.host.remove(),e._helpers=[]},_addInput:function(){var e=this.element.getAttribute("name"),t=document.createElement("input");t.setAttribute("type","hidden"),this.element.appendChild(t),e&&t.setAttribute("name",e),this.rangeSlider?this.values&&(t.value=this.value.rangeStart.toString()+"-"+this.value.rangeEnd.toString()):t.value=this.value.toString(),this.input=t},_getSetting:function(e){return this._settings[this.orientation][e]},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},refresh:function(e){e||this._refresh()},_refresh:function(){this._render(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initialSettings()},_render:function(){this._addTrack(),this._addSliders(),this._addTickContainers(),this._updateButtonsVisibility(),this._addRangeBar()},_addTrack:function(){var e=this,t=e._track;e._helpers.track.addClass(e.toThemeProperty("jqx-slider-track")),t.setAttribute("style",""),e._helpers.track.removeClass(e.toThemeProperty("jqx-slider-track-"+e._getSetting("opposite"))),e._helpers.track.addClass(e.toThemeProperty("jqx-slider-track-"+e.orientation)),e._helpers.track.addClass(e.toThemeProperty("jqx-fill-state-normal jqx-rc-all"))},_addSliders:function(){var e,t,i=this;(null===i._slider||i._slider.length<1)&&(i._slider={},e=document.createElement("div"),t=document.createElement("div"),e.className=i.toThemeProperty("jqx-slider-slider"),t.className=i.toThemeProperty("jqx-slider-slider"),i._slider.left=e,i._track.appendChild(e),i._slider.right=t,i._track.appendChild(t),i._helpers.track=new jqxHelper(i._track),i._helpers.left=new jqxHelper(i._slider.left),i._helpers.right=new jqxHelper(i._slider.right),i.template&&(i._helpers.left.addClass(i.toThemeProperty("jqx-"+i.template)),i._helpers.right.addClass(i.toThemeProperty("jqx-"+i.template)))),i._helpers.left.removeClass(i.toThemeProperty("jqx-slider-slider-"+i._getSetting("opposite"))),i._helpers.left.addClass(i.toThemeProperty("jqx-slider-slider-"+i.orientation)),i._helpers.right.removeClass(i.toThemeProperty("jqx-slider-slider-"+i._getSetting("opposite"))),i._helpers.right.addClass(i.toThemeProperty("jqx-slider-slider-"+i.orientation)),i._helpers.right.addClass(i.toThemeProperty("jqx-fill-state-normal")),i._helpers.left.addClass(i.toThemeProperty("jqx-fill-state-normal"))},_addTickContainers:function(){this._bottomTicks.className=this.toThemeProperty("jqx-slider-tickscontainer"),this._topTicks.className=this.toThemeProperty("jqx-slider-tickscontainer");var e="visible";this.showTicks||(e="hidden"),this._bottomTicks.style.visibility=e,this._topTicks.style.visibility=e},_updateButtonsVisibility:function(){var e="block";this.showButtons&&!this.rangeSlider||(e="none"),this._rightButton.style.display=e,this._leftButton.style.display=e},_getNiceInterval:function(e){function t(e){return Math.log(parseFloat(e))/Math.LN10}var i,s,r,n,o,a,l=this,d="Width",h=("vertical"===l.orientation&&(d="Height"),document.createElement("span")),c=(h.className=l.toThemeProperty("jqx-widget jqx-slider-label"),h.style.position="absolute",h.style.visibility="hidden",l.tickLabelStyleSettings&&(u=l.tickLabelStyleSettings,h.style.fontSize=u.fontSize,h.style.fontFamily=u.fontFamily,h.style.fontWeight=u.fontWeight,h.style.fontStyle=u.fontStyle),u=l._formatLabel(l.min),p=l._formatLabel(l.max),I.jqx.browser.msie?0:1),u=(document.body.appendChild(h),h.innerHTML=u,h["scroll"+d]+c),p=(h.innerHTML=p,h["scroll"+d]+c),d=(h.parentNode.removeChild(h),Math.max(p,u)),c=(d*=1.5+(105<d?(d-105)/100:0),l._getTrackSize()),h=(64<c&&!1===l.showButtons&&(c-=64),Math.round(c/d));return 0===h&&(h=1),!0===e&&(h*=4),!1===l.int64?(s=l.max-l.min,r=Math.floor(t(s)-t(h)),a=(i=s<2*(o=h*(n=Math.pow(10,r)))?1:s<3*o?2:s<7*o?5:10)*n):(s=new BigNumber(l.max).subtract(new BigNumber(l.min)),r=Math.floor(t(s.toString())-t(h)),n=new BigNumber(10).pow(new BigNumber(r)),o=new BigNumber(h).multiply(n),i=-1===s.compare(new BigNumber(2*o))?1:-1===s.compare(new BigNumber(3*o))?2:-1===s.compare(new BigNumber(7*o))?5:10,-1===(a=new BigNumber(i).multiply(n)).compare(1)&&(a=new BigNumber(1)),"s"===l.int64&&(a=(new I.jqx.math).fromString(a.toString()))),a},_formatLabel:function(e,t){var i,s=!0!==t?this.tickLabelFormatFunction:this.tooltipFormatFunction,t=!0!==t?this.tickLabelFormatSettings:this.tooltipFormatSettings;return s?i=s(e):t?void 0!==t.radix?i=(new I.jqx.math).getRadixValue(e,this.int64,t.radix):void 0!==t.outputNotation&&"default"!==t.outputNotation&&"decimal"!==t.outputNotation?i=(new I.jqx.math).getDecimalNotation(e,t.outputNotation,t.decimalDigits,t.digits):void 0!==t.decimalDigits?i=Number(e).toFixed(t.decimalDigits):void 0!==t.digits&&(i=Number(Number(e).toPrecision(t.digits)).toString()):i=e,i},_addTicks:function(e,t){var i=this;if(i.showTicks){var s,r,n,o,a,l,d,h,c,u,p,m=parseInt(e.style[i._getSetting("size")],10),g="normal"===i.layout&&"horizontal"===i.orientation&&!1===i.rtl||"reverse"===i.layout&&"vertical"===i.orientation,f="",v=(!1===i.int64?(u=i.max-i.min,"default"===i.tickMode?(w=i.niceInterval?(s=i._getNiceInterval(),i._getNiceInterval(!0)):(s=i.ticksFrequency,i.minorTicksFrequency),r=Math.round(u/s),n=Math.round(u/w)):"tickNumber"===i.tickMode&&(r=i.tickNumber,n=i.minorTickNumber,s=Math.round(u/r)),o=i.min,a=i.max):"s"===i.int64?(u=i._max64.subtract(i._min64),"default"===i.tickMode?(w=i.niceInterval?(s=i._getNiceInterval(),i._getNiceInterval(!0)):(s=i._ticksFrequency64,i._minorTicksFrequency64),r=u.div(s).toNumber(),n=u.div(w).toNumber()):"tickNumber"===i.tickMode&&(r=i.tickNumber,n=i.minorTickNumber,s=u.div((new I.jqx.math).fromNumber(r))),o=i._min64.toString(),a=i._max64.toString()):"u"===i.int64&&(u=i._max64.subtract(i._min64),"default"===i.tickMode?(w=i.niceInterval?(s=i._getNiceInterval(),i._getNiceInterval(!0)):(s=i._ticksFrequency64,i._minorTicksFrequency64),r=parseInt(u.divide(s).toString(),10),n=parseInt(u.divide(w).toString(),10)):"tickNumber"===i.tickMode&&(r=i.tickNumber,n=i.minorTickNumber,s=u.divide(new BigNumber(r)).intPart()),o=i._min64.toString(),a=i._max64.toString()),m/r),x=m/n,y=(e.innerHTML="",g?i._formatLabel(o):i._formatLabel(a)),w=document.createElement("span"),b=(w.style.visibility="hidden",w.className=i.toThemeProperty("jqx-widget jqx-widget-content jqx-slider"),i.tickLabelStyleSettings&&(u=i.tickLabelStyleSettings,w.style.fontSize=u.fontSize,w.style.fontFamily=u.fontFamily,w.style.fontWeight=u.fontWeight,w.style.fontStyle=u.fontStyle),document.body.appendChild(w),w.innerHTML="0",{width:w.offsetWidth,height:w.offsetHeight}),_=(w.parentNode.removeChild(w),parseInt(e.style[i._getSetting("oSize")],10)),q="horizontal"===i.orientation?i.padding.left:0,j=(f+=i._addTick(e,q,i.min,_,y,b,!1,t),document.createElement("span")),T=(j.className=i.toThemeProperty("jqx-widget"),j.style.position="absolute",j.style.visibility="hidden",document.body.appendChild(j),j.innerHTML=i.min.toString(),l="horizontal"===i.orientation?j.offsetWidth:j.offsetHeight,0),C=0;for("default"===i.tickMode&&!0===i.niceInterval&&((C=!(u=!0)===i.int64?(T=g?(c=(p=i.min)-p%s+s)-p:(p=i.max)-(c=p-p%s))/s*v:(w=new BigNumber(s.toString()),T=g?(c=(p=new BigNumber(i.min)).subtract(p.mod(w)).add(w)).subtract(p):(c=(p=new BigNumber(i.max)).subtract(p.mod(w)),p.subtract(c)),parseFloat(T.divide(w).multiply(v).toString())))<=l&&(u=!1),c.toString()!==i.max.toString()&&C<m&&(p=i._formatLabel(c.toString()),f+=i._addTick(e,C+q,c,_,p,b,!1,t,u))),d=1;d<r;d++){var S,k=d*v+C;k=Math.floor(k),!1===i.int64?S=g?i.min+s*d+T:i.max-s*d-T:"s"===i.int64?S=(g?i._min64.add(s.multiply((new I.jqx.math).fromString(d.toString(),10))).add((new I.jqx.math).fromString(T.toString(),10)):i._max64.subtract(s.multiply((new I.jqx.math).fromString(d.toString(),10))).subtract((new I.jqx.math).fromString(T.toString(),10))).toString():"u"===i.int64&&(S=(g?i._min64.add(s.multiply(d)).add(T):i._max64.subtract(s.multiply(d)).subtract(T)).toString()),S.toString()!==i.max.toString()&&(y=i._formatLabel(S.toString()),h=!0,"default"===i.tickMode&&!0===i.niceInterval&&(j.innerHTML=y,r*v<=k+(l="horizontal"===i.orientation?j.offsetWidth:j.offsetHeight)&&(h=!1)),f+=i._addTick(e,k+q,d,_,y,b,!1,t,h))}if(i.showMinorTicks)for(d=1;d<n;d++)k=d*x,k=Math.floor(k),f+=i._addTick(e,k+q,d,_,y="",b,!0,t);y=g?i._formatLabel(a):i._formatLabel(o),f+=i._addTick(e,r*v+q,i.max,_,y,b,!1,t),e.innerHTML=f,j.parentNode.removeChild(j)}},_addTick:function(e,t,i,s,r,n,o,a,l){var d,h,c,u,p,m,g=this,f="",f=g.toThemeProperty("jqx-slider-tick"),v=(f+=" "+g.toThemeProperty("jqx-fill-state-pressed"),g.template&&(f+=" "+g.toThemeProperty("jqx-"+g.template)),g._getSetting("top")),x="2px",y=g.tickSize;return o&&(y=g.minorTickSize),e!==g._bottomTicks&&(x=s-y-2+"px"),"horizontal"===g.orientation?(p='<div style="'+v+": "+x+"; "+g._getSetting("oSize")+":  "+y+"px; float: left; position:absolute; left:"+t+'px;" class="'+g.toThemeProperty("jqx-slider-tick-horizontal")+" "+f+'"></div>',g.showTickLabels&&(x=e!==g._bottomTicks?s-y-n.height-2+"px":2+y+"px",o=n.width*r.toString().length,u=t-(o/=2),!1!==l&&(c=h=d=o="",g.tickLabelStyleSettings&&((m=g.tickLabelStyleSettings).fontSize&&(o=m.fontSize),m.fontFamily&&(d=m.fontFamily),m.fontWeight&&(h=m.fontWeight),m.fontStyle&&(c=m.fontStyle)),p+='<div class="'+g.toThemeProperty("jqx-slider-label jqx-slider-label-"+a)+'" style="'+v+": "+x+"; float: left; position:absolute; left:"+u+"px; white-space: nowrap; font-size: "+o+"; font-family: "+d+"; font-weight: "+h+"; font-style: "+c+'">'+r+"</div>"))):(p='<div style="'+v+": "+x+"; "+g._getSetting("oSize")+":  "+y+"px; float: none; position:absolute; top:"+t+'px;" class="'+g.toThemeProperty("jqx-slider-tick-vertical")+" "+f+'"></div>',g.showTickLabels&&(x=e!==g._bottomTicks?s-y-r.toString().length*n.width-6+"px":6+y+"px",m=n.height,u=t-(m/=2),!1!==l&&(p+='<div class="'+g.toThemeProperty("jqx-slider-label jqx-slider-label-"+a)+'" style="'+v+": "+x+"; float: none; position:absolute; top:"+u+'px;">'+r+"</div>"))),p},_addRangeBar:function(){var e=this;(null===e._rangeBar||e._rangeBar.length<1)&&(e._rangeBar=document.createElement("div"),e._rangeBar.className=e.toThemeProperty("jqx-slider-rangebar jqx-fill-state-pressed jqx-rc-all"),e.template&&(e._rangeBar.className+=" "+e.toThemeProperty("jqx-"+e.template)),e._helpers.rangeBar=new jqxHelper(e._rangeBar),e._track.appendChild(e._rangeBar)),e.showRange?e._rangeBar.style.display="block":e._rangeBar.style.display="none",e._thumbSize=e._slider.left.offsetWidth},_getLeftDisplacement:function(){if(!this.showButtons)return 0;if(this.rangeSlider)return 0;switch(this.buttonsPosition){case"left":return this._leftButton[this._getSetting("outerSize")](!0)+this._rightButton[this._getSetting("outerSize")](!0);case"right":return 0;default:return this._leftButton[this._getSetting("outerSize")](!0)}return 0},_performLayout:function(){var e,t=this,i=((null!==t.width&&-1!==t.width.toString().indexOf("px")||void 0!==t.width&&!isNaN(t.width))&&(t.element.style.width=parseInt(t.width,10)+"px"),(null!==t.height&&-1!==t.height.toString().indexOf("px")||void 0!==t.height&&!isNaN(t.height))&&(t.element.style.height=parseInt(t.height,10)+"px"),null!==t.width&&-1!==t.width.toString().indexOf("%")&&t._helpers.element.width(t.width),null!==t.height&&-1!==t.height.toString().indexOf("%")&&t._helpers.element.height(t.height),t._helpers.element.innerHeight()),i=("width"===t._getSetting("size")&&(i=t._helpers.element.innerWidth()),t._performButtonsLayout(),t._performTrackLayout(i-8),t._contentWrapper.style[t._getSetting("size")]=t._track.style[t._getSetting("size")],t._contentWrapper.style[t._getSetting("oSize")]=t.element.style[t._getSetting("oSize")],t._performTicksLayout(),t._performRangeBarLayout(),t.padding);"horizontal"===t.orientation?(t._contentWrapper.style.position="absolute",t._contentWrapper.style.left="0px",t._contentWrapper.style.top="0px",t.showButtons&&!t.rangeSlider&&(t._contentWrapper.style.left=4+t._helpers.leftButton.outerWidth(!0)+"px",t._leftButton.style.left=i.left+"px",t._rightButton.style.right=i.right+"px","left"===t.buttonsPosition?(t._contentWrapper.style.left=2+2*t._helpers.leftButton.innerWidth()+t._helpers.left.innerWidth()/2+"px",t._rightButton.style.left=1+t._helpers.leftButton.innerWidth()+"px"):"right"===t.buttonsPosition&&(t._contentWrapper.style.left=t._helpers.left.innerWidth()/2+"px",t._leftButton.style.left="",t._leftButton.style.right=1+i.right+t._helpers.leftButton.innerWidth()+"px",t._rightButton.style.right=t._leftButton.style.right-t._helpers.leftButton.innerWidth()+"px")),t.showButtons&&!t.rangeSlider||(e=2+Math.ceil(t.sliderButtonSize/2),t._contentWrapper.style.left=e+"px")):(t._contentWrapper.style.position="absolute",t._contentWrapper.style.left="0px",t._contentWrapper.style.top="0px",t.showButtons&&!t.rangeSlider&&(t._contentWrapper.style.top=1+t._helpers.leftButton.outerHeight(!0)+"px",t._leftButton.style.top="0px",t._rightButton.style.bottom="0px",t._leftButton.style.left="",t._leftButton.style.right="",t._rightButton.style.left="",t._rightButton.style.right="","left"===t.buttonsPosition?(t._contentWrapper.style.top=2+2*t._helpers.leftButton.innerHeight()+t._helpers.left.innerHeight()/2+"px",t._rightButton.style.top=1+t._helpers.leftButton.innerHeight()+"px"):"right"===t.buttonsPosition&&(t._contentWrapper.style.top=t._helpers.left.innerHeight()/2+"px",t._leftButton.style.top="",t._leftButton.style.bottom=1+t._helpers.leftButton.innerHeight()+"px",t._rightButton.style.bottom=t._leftButton.style.bottom-t._helpers.leftButton.innerHeight()+"px")),t.showButtons&&!t.rangeSlider||(e=2+Math.ceil(t.sliderButtonSize/2),t._contentWrapper.style.top=e+"px")),t.rangeSlider?t._slider.left.style.visibility="visible":t._slider.left.style.visibility="hidden",t._refreshRangeBar(),"vertical"===t.orientation&&t.showButtons&&(t._leftButton.offsetWidth,t._track.offsetWidth,t._track.style.marginLeft="1px"),t._editableLabels()},_performTrackLayout:function(e){var t=this,i=e;t.showButtons&&!t.rangeSlider&&("horizontal"===t.orientation?i-=t._helpers.leftButton.innerWidth()+t._helpers.rightButton.innerWidth()+4:i-=t._helpers.leftButton.innerHeight()+t._helpers.rightButton.innerHeight()+4),!t.rangeSlider&&t.showButtons||(i=e-2*(2+Math.ceil(t.sliderButtonSize/2))),"horizontal"===t.orientation?i=(i-=t.padding.left+t.padding.right)-(t._helpers.left.outerWidth()-2):i-=t._helpers.left.outerHeight()-2,t._track.style[t._getSetting("size")]=i+"px",t._track.style.left=t.padding.left+"px",t._slider.left.style.left="0px",t._slider.left.style.top="0px",t._slider.right.style.left="0px",t._slider.right.style.top="0px"},_performTicksLayout:function(){var e=this;e._performTicksContainerLayout(),e._addTicks(this._topTicks,"top"),e._addTicks(this._bottomTicks,"bottom"),e._topTicks.style.visibility="hidden",e._bottomTicks.style.visibility="hidden","top"!==e.ticksPosition&&"both"!==e.ticksPosition||!e.showTicks||(e._topTicks.style.visibility="visible"),"bottom"!==e.ticksPosition&&"both"!==e.ticksPosition||!e.showTicks||(e._bottomTicks.style.visibility="visible")},_performTicksContainerLayout:function(){var e,t=this;"horizontal"===t.orientation?(t._topTicks.style.width=t._track.style.width,t._bottomTicks.style.width=t._track.style.width,e=(parseInt(t.element.style.height,10)-t._helpers.track.outerHeight())/2-2,t._topTicks.style.height=e+"px",t._bottomTicks.style.height=e+"px",t._topTicks.style.float="none",t._track.style.float="none",t._bottomTicks.style.float="none"):(t._topTicks.style.height=t._track.style.height,t._bottomTicks.style.height=t._track.style.height,e=(parseInt(t.element.style.width,10)-t._helpers.track.outerWidth())/2-2,t._topTicks.style.width=e+"px",t._bottomTicks.style.width=e+"px",t._topTicks.style.float="left",t._track.style.float="left",t._bottomTicks.style.float="left")},_performButtonsLayout:function(){this._updateButtonsVisibilityStyles(),this._updateButtonsVisibilityClasses(),this._updateButtonsVisibilityHover(),this._centerElement(this._rightButton),this._centerElement(this._leftButton),this._layoutButtons()},_centerElement:function(e){var t=new jqxHelper(e),t=(e.style.marginLeft="0px",e.style.marginTop="0px",e.style.marginRight="0px",e.style.marginBottom="0px",(parseFloat(this.element.style[this._getSetting("oSize")])-parseFloat(t[this._getSetting("outerOSize")]()))/2);return"horizontal"===this.orientation?(e.style.marginLeft="0px",e.style.marginTop=t+"px"):(e.style.marginTop="0px;",e.style.marginLeft=t+"px"),e},_updateButtonsVisibilityStyles:function(){this._leftButton.style.backgroundPosition="center",this._rightButton.style.backgroundPosition="center","vertical"===this.orientation&&(this._leftButton.style.float="none",this._rightButton.style.float="none"),this._leftButton.style.position="absolute",this._rightButton.style.position="absolute"},_updateButtonsVisibilityClasses:function(){var e=this,t={prev:"left",next:"right"};"vertical"===e.orientation&&(t={prev:"up",next:"down"}),e._helpers.leftButton.addClass(e.toThemeProperty("jqx-rc-all jqx-slider-button")),e._helpers.rightButton.addClass(e.toThemeProperty("jqx-rc-all jqx-slider-button")),e._leftArrow=e._leftButton.firstChild,e._rightArrow=e._rightButton.firstChild,e._helpers.leftArrow=new jqxHelper(e._leftArrow),e._helpers.rightArrow=new jqxHelper(e._rightArrow),e._helpers.leftArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-left")),e._helpers.rightArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-right")),e._helpers.leftArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up")),e._helpers.rightArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down")),e._helpers.leftArrow.addClass(e.toThemeProperty("jqx-icon-arrow-"+t.prev)),e._helpers.rightArrow.addClass(e.toThemeProperty("jqx-icon-arrow-"+t.next))},_updateButtonsVisibilityHover:function(){var e=this,t={prev:"left",next:"right"};"vertical"===e.orientation&&(t={prev:"up",next:"down"}),e.removeHandler(I(document),"mouseup.arrow"+e.element.id),e.addHandler(I(document),"mouseup.arrow"+e.element.id,function(){e._helpers.leftArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-"+t.prev+"-selected")),e._helpers.rightArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-"+t.next+"-selected")),e.sliderTooltip?(e.sliderTooltipTimer&&clearTimeout(e.sliderTooltipTimer),e.sliderTooltipTimer=setTimeout(function(){e.isMaterialized()||e.sliderTooltipObj.fadeOut("fast"),I(e.sliderTooltipObj).removeClass("show"),I(e.sliderTooltipObj).addClass("hide"),e._mouseDown=!1},e.tooltipHideDelay)):e._mouseDown=!1,e.isMaterialized()&&(e._refreshRangeBar(),setTimeout(function(){e._refreshRangeBar()},200))}),e.removeHandler(e._leftButton,"mousedown."+e.element.id),e.removeHandler(e._leftButton,"mouseup."+e.element.id),e.removeHandler(e._leftButton,"mouseenter."+e.element.id),e.removeHandler(e._leftButton,"mouseleave."+e.element.id),e.removeHandler(e._rightButton,"mousedown."+e.element.id),e.removeHandler(e._rightButton,"mouseup."+e.element.id),e.removeHandler(e._rightButton,"mouseenter."+e.element.id),e.removeHandler(e._rightButton,"mouseleave."+e.element.id),e.addHandler(e._leftButton,"mousedown."+e.element.id,function(){e.disabled||(e._helpers.leftArrow.addClass(e.toThemeProperty("jqx-icon-arrow-"+t.prev+"-selected")),e._mouseDown=!0)}),e.addHandler(e._leftButton,"mouseup."+e.element.id,function(){e.disabled||e._helpers.leftArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-"+t.prev+"-selected"))}),e.addHandler(e._leftButton,"mouseenter."+e.element.id,function(){e.disabled||e._helpers.leftArrow.addClass(e.toThemeProperty("jqx-icon-arrow-"+t.prev+"-hover"))}),e.addHandler(e._leftButton,"mouseleave."+e.element.id,function(){e.disabled||e._helpers.leftArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-"+t.prev+"-hover"))}),e.addHandler(e._rightButton,"mousedown."+e.element.id,function(){e.disabled||(e._helpers.rightArrow.addClass(e.toThemeProperty("jqx-icon-arrow-"+t.next+"-selected")),e._mouseDown=!0)}),e.addHandler(e._rightButton,"mouseup."+e.element.id,function(){e.disabled||e._helpers.rightArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-"+t.next+"-selected"))}),e.addHandler(e._rightButton,"mouseenter."+e.element.id,function(){e.disabled||e._helpers.rightArrow.addClass(e.toThemeProperty("jqx-icon-arrow-"+t.next+"-hover"))}),e.addHandler(e._rightButton,"mouseleave."+e.element.id,function(){e.disabled||e._helpers.rightArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-"+t.next+"-hover"))})},_layoutButtons:function(){"horizontal"===this.orientation?this._horizontalButtonsLayout():this._verticalButtonsLayout()},_horizontalButtonsLayout:function(){var e=2+Math.ceil(this.sliderButtonSize/2);"left"===this.buttonsPosition?(this._leftButton.style.marginRight="0px",this._rightButton.style.marginRight=e+"px"):"right"===this.buttonsPosition?(this._leftButton.style.marginLeft=2+e+"px",this._rightButton.style.marginRight="0px"):(this._leftButton.style.marginRight=e+"px",this._rightButton.style.marginLeft=e+"px")},_verticalButtonsLayout:function(){var e=this,t=2+Math.ceil(e.sliderButtonSize/2),t=("left"===e.buttonsPosition?(e._leftButton.style.marginBottom="0px",e._rightButton.style.marginBottom=t+"px"):"right"===e.buttonsPosition?(e._leftButton.style.marginTop=2+t+"px",e._rightButton.style.marginBottom="0px"):(e._leftButton.style.marginBottom=t+"px",e._rightButton.style.marginTop=2+t+"px"),parseInt(e._leftButton.style.marginLeft,10));e._leftButton.style.marginLeft=t-1+"px",e._rightButton.style.marginLeft=t-1+"px"},_performRangeBarLayout:function(){var e=this;e._rangeBar.style[e._getSetting("oSize")]=e._helpers.track[e._getSetting("oSize")]()+"px",e._rangeBar.style[e._getSetting("size")]=e._helpers.track[e._getSetting("size")]()+"px",e._rangeBar.style.position="absolute",e._rangeBar.style.left="0px",e._rangeBar.style.top="0px"},_raiseEvent:function(e,t){var i=this._events[e],i=new I.Event(i,this.element);return!1===this._triggerEvents||(!!this._rendering||(i.args=t,0===e&&(i.args.type=this.changeType,this.changeType=null),1===e&&(i.args.cancel=!1,this._slideEvent=i),this._lastValue[e]=t.value,(i.owner=this).host.trigger(i)))},_initialSettings:function(){var e=this;!1===e.int64?e.rangeSlider?"number"!=typeof e.value?e.setValue(e.value):e.setValue(e.values):(void 0===e.value&&(e.value=0),e.setValue(e.value)):!1===e.rangeSlider||!0===Array.isArray(e._value64)?e.setValue(e._value64):e.setValue(e._values64),e.disabled&&e.disable()},_addEventHandlers:function(){var e,t,i=this;i.addHandler(i._slider.right,i._getEvent("mousedown"),i._startDrag,{that:this}),i.addHandler(i._slider.left,i._getEvent("mousedown"),i._startDrag,{that:this}),i.addHandler(I(document),i._getEvent("mouseup")+"."+i.element.id,function(){i._stopDrag()});try{""===document.referrer&&!window.frameElement||null===window.top||window.top===window.self||(e=function(){i._stopDrag()},t=null,(t=window.parent&&document.referrer?document.referrer:t)&&-1!==t.indexOf(document.location.host)&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",e,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",e)))}catch(e){}i.addHandler(I(document),i._getEvent("mousemove")+"."+i.element.id,i._performDrag,{that:this}),i.addHandler(i._slider.left,"mouseenter",function(){i.disabled||i._helpers.left.addClass(i.toThemeProperty("jqx-fill-state-hover"))}),i.addHandler(i._slider.right,"mouseenter",function(){i.disabled||i._helpers.right.addClass(i.toThemeProperty("jqx-fill-state-hover"))}),i.addHandler(i._slider.left,"mouseleave",function(){i.disabled||i._helpers.left.removeClass(i.toThemeProperty("jqx-fill-state-hover"))}),i.addHandler(i._slider.right,"mouseleave",function(){i.disabled||i._helpers.right.removeClass(i.toThemeProperty("jqx-fill-state-hover"))}),i.addHandler(i._slider.left,"mousedown",function(){i.disabled||i._helpers.left.addClass(i.toThemeProperty("jqx-fill-state-pressed"))}),i.addHandler(i._slider.right,"mousedown",function(){i.disabled||i._helpers.right.addClass(i.toThemeProperty("jqx-fill-state-pressed"))}),i.addHandler(i._slider.left,"mouseup",function(){i.disabled||i._helpers.left.removeClass(i.toThemeProperty("jqx-fill-state-pressed"))}),i.addHandler(i._slider.right,"mouseup",function(){i.disabled||i._helpers.right.removeClass(i.toThemeProperty("jqx-fill-state-pressed"))}),i.addHandler(i._leftButton,i._getEvent("click"),i._leftButtonHandler,{that:this}),i.addHandler(i._rightButton,i._getEvent("click"),i._rightButtonHandler,{that:this}),i.addHandler(i._track,i._getEvent("mousedown"),i._trackMouseDownHandler,{that:this}),i.addHandler(i.host,"focus",function(){i._helpers.track.addClass(i.toThemeProperty("jqx-fill-state-focus")),i._helpers.leftButton.addClass(i.toThemeProperty("jqx-fill-state-focus")),i._helpers.rightButton.addClass(i.toThemeProperty("jqx-fill-state-focus")),i._helpers.right.addClass(i.toThemeProperty("jqx-fill-state-focus")),i._helpers.left.addClass(i.toThemeProperty("jqx-fill-state-focus"))}),i.addHandler(i.host,"blur",function(){i._helpers.track.removeClass(i.toThemeProperty("jqx-fill-state-focus")),i._helpers.leftButton.removeClass(i.toThemeProperty("jqx-fill-state-focus")),i._helpers.rightButton.removeClass(i.toThemeProperty("jqx-fill-state-focus")),i._helpers.right.removeClass(i.toThemeProperty("jqx-fill-state-focus")),i._helpers.left.removeClass(i.toThemeProperty("jqx-fill-state-focus"))}),i.element.onselectstart=function(){return!1},i._addMouseWheelListeners(),i._addKeyboardListeners()},_addMouseWheelListeners:function(){var i=this;i.addHandler(i.host,"mousewheel",function(e){if(i.disabled)return!0;if(i.changeType="mouse",document.activeElement&&!I(document.activeElement).ischildof(i.host))return!0;var t=e.wheelDelta;e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),0<(t="wheelDelta"in e?t:-40*e.detail)?i.incrementValue():i.decrementValue(),e.preventDefault()})},_addKeyboardListeners:function(){var t=this;t.addHandler(t.host,"keydown",function(e){if(!0!==t._editingLabels)switch(t.changeType="keyboard",e.keyCode){case 40:case 37:return"normal"!==t.layout||t.rtl?t.incrementValue():t.decrementValue(),!1;case 38:case 39:return"normal"!==t.layout||t.rtl?t.decrementValue():t.incrementValue(),!1;case 36:return t.rangeSlider?t.setValue([t.values[0],t.max]):t.setValue(t.min),!1;case 35:return t.rangeSlider?t.setValue([t.min,t.values[1]]):t.setValue(t.max),!1}})},_trackMouseDownHandler:function(e){var t=e.data.that,i=I.jqx.mobile.getTouches(e)[0],s=parseInt(t._slider.left.style[t._getSetting("size")],10),s="width"===t._getSetting("size")?t._slider.left.offsetWidth:t._slider.left.offsetHeight;isNaN(s)&&(s=0);i=(t._isTouchDevice?i:e)[t._getSetting("page")]-s/2,e=t._getClosest(i),s=t._getValueByPosition(i);t._mouseDown=!0,t.changeType="mouse",t._setValue(s,e),t.input&&I.jqx.aria(t,"aria-valuenow",t.input.value)},_getClosest:function(e){var t=this;return t.rangeSlider?(e=e-t._helpers.track.offset()[t._getSetting("left")]-t._helpers.left[t._getSetting("size")]()/2,Math.abs(parseInt(t._slider.left.style[t._getSetting("left")],10)-e)<Math.abs(parseInt(t._slider.right.style[t._getSetting("left")],10)-e)?t._slider.left:t._slider.right):t._slider.right},_removeEventHandlers:function(){var e=this;e.removeHandler(e._slider.right,e._getEvent("mousedown"),e._startDrag),e.removeHandler(e._slider.left,e._getEvent("mousedown"),e._startDrag),e.removeHandler(I(document),e._getEvent("mouseup")+"."+e.host.attr("id"),e._stopDrag),e.removeHandler(I(document),e._getEvent("mousemove")+"."+e.host.attr("id"),e._performDrag),e.removeHandler(e._leftButton,e._getEvent("click"),e._leftButtonHandler),e.removeHandler(e._rightButton,e._getEvent("click"),e._rightButtonHandler),e.removeHandler(e._track,e._getEvent("mousedown"),e._trackMouseDownHandler),e.element.onselectstart=null,e.removeHandler(e.host,e._getEvent("mousewheel")),e.removeHandler(e.host,e._getEvent("keydown"))},_rightButtonClick:function(){this.changeType="mouse","horizontal"!==this.orientation||this.rtl?this.decrementValue():this.incrementValue()},_leftButtonClick:function(){this.changeType="mouse","horizontal"!==this.orientation||this.rtl?this.incrementValue():this.decrementValue()},_rightButtonHandler:function(e){e=e.data.that;return"normal"===e.layout?e._rightButtonClick():e._leftButtonClick(),!1},_leftButtonHandler:function(e){e=e.data.that;return"normal"===e.layout?e._leftButtonClick():e._rightButtonClick(),!1},_startDrag:function(e){var t=e.data.that;t.changeType="mouse",t._capturedElement=e.target;var i=new jqxHelper(e.target).offset(),i=(t._startX=i.left,t._startY=i.top,I.jqx.position(e));if(t._mouseStartX=i.left,t._mouseStartY=i.top,t._mouseDown=!0,e.stopPropagation(),t.tooltip&&t._showTooltip(t._capturedElement,t.value),t._isTouchDevice)return!1},_stopDrag:function(){var e=this;e._slideStarted&&e._raiseEvent(2,{value:e.getValue()}),e._slideStarted&&null!==e._capturedElement?(e.input&&I.jqx.aria(this,"aria-valuenow",e.input.value),e._helpers.left.removeClass(e.toThemeProperty("jqx-fill-state-pressed")),e._helpers.right.removeClass(e.toThemeProperty("jqx-fill-state-pressed")),e._slideStarted=!1,e._capturedElement=null,e.sliderTooltip&&(e.sliderTooltipTimer=setTimeout(function(){e.isMaterialized()||e.sliderTooltipObj.fadeOut("fast"),I(e.sliderTooltipObj).removeClass("show"),I(e.sliderTooltip).addClass("hide")},e.tooltipHideDelay))):e._capturedElement=null},_performDrag:function(e){var t=e.data.that;if(null!==t._capturedElement){if(0===e.which&&I.jqx.browser.msie&&I.jqx.browser.version<9)return t._stopDrag(),!1;e=I.jqx.position(e),e="horizontal"===t.orientation?e.left:e.top;return t._isDragged(e),t._slideStarted||t._isTouchDevice?t._dragHandler(e):void 0}},_isDragged:function(e){2<Math.abs(e-this[this._getSetting("mouse")])&&!this._slideStarted?(this._slideStarted=!0,this._valueChanged(3)&&this._raiseEvent(3,{value:this.getValue()})):null==this._capturedElement&&(this._slideStarted=!1)},_dragHandler:function(e){e=e-this[this._getSetting("mouse")]+this[this._getSetting("start")];var t,i,s,r=this._getValueByPosition(e);return this.rangeSlider&&(t=this._helpers.right,i=this._helpers.left,s=this._getSetting("left"),this._capturedElement===i?parseFloat(e)>t.offset()[s]&&(e=t.offset()[s]):parseFloat(e)<i.offset()[s]&&(e=i.offset()[s])),this._setValue(r,this._capturedElement,e),!1},_getValueByPosition:function(e){return"default"===this.mode?this._getFloatingValueByPosition(e):this._getFixedValueByPosition(e)},_getFloatingValueByPosition:function(e){var t,i,s,r,n=this,e=e-n._helpers.track.offset()[n._getSetting("left")]+n._slider.left.offsetWidth/2,o=e/n._helpers.track[n._getSetting("size")]();return e<0&&(e=0),!1===n.int64?t=(n.max-n.min)*o+n.min:"s"===n.int64?(r=(new I.jqx.math).fromNumber(n._helpers.track[n._getSetting("size")](),10),i=n._max64.subtract(n._min64),s=n._divide64(i,r)*e,t=(new I.jqx.math).fromNumber(s,10).add(n._min64)):"u"===n.int64&&(r=new BigNumber(n._helpers.track[n._getSetting("size")]()),i=n._max64.subtract(n._min64),s=n._divide64(i,r)*e,t=new BigNumber(s).add(n._min64)),"normal"===n.layout?"horizontal"!==n.orientation||n.rtl?!1===n.int64?n.max+n.min-t:n._max64.add(n._min64).subtract(t):t:"horizontal"===n.orientation?!1===n.int64?n.max+n.min-t:n._max64.add(n._min64).subtract(t):t},_getThumbSize:function(){if(this.__thumbSize)return this.__thumbSize;var e=this._helpers.left[this._getSetting("size")]();return this.__thumbSize=e},_getTrackSize:function(){if(this.__trackSize)return this.__trackSize;var e=parseInt(this._helpers.track[this._getSetting("size")](),10);return this.__trackSize=e},_getFixedValueByPosition:function(e){var t,i,s=this,r=s._getTrackSize(),n=s._getThumbSize(),o={number:-1,distance:Number.MAX_VALUE};if(!1===s.int64)for(a=s.step,d=r/(l=(s.max-s.min)/a),h=s._helpers.track.offset()[s._getSetting("left")]-n/2,t=s.max+s.step,"fixedRange"===s.mode&&(t=s.max),i=s.min;i<=t;i+=s.step)Math.abs(o.distance-e)>Math.abs(h-e)&&(o.distance=h,o.number=i),h+=d;else if("s"===s.int64)for(a=s._step64,l=s._max64.subtract(s._min64).div(s._step64),d=s._divide64((new I.jqx.math).fromNumber(r,10),l),h=s._helpers.track.offset()[s._getSetting("left")]-n/2,o={number:(new I.jqx.math).fromString(s._min64.toString(),10),distance:h},u=(new I.jqx.math).fromString(s._min64.toString(),10);"fixedRange"!==s.mode?u.lessThanOrEqual(s._max64.add(s._step64)):u.lessThanOrEqual(s._max64);u=u.add(s._step64))Math.abs(o.distance-e)>Math.abs(h-e)&&(o.distance=h,o.number=(new I.jqx.math).fromString(u.toString(),10)),h+=d;else if("u"===s.int64)for(var a=s._step64,l=s._max64.subtract(s._min64).divide(s._step64),d=parseFloat(new BigNumber(r).divide(l).toString()),h=s._helpers.track.offset()[s._getSetting("left")]-n/2,o={number:new BigNumber(s._min64.toString()),distance:h},c="fixedRange"!==s.mode?s._max64.add(s._step64):s._max64,u=new BigNumber(s._min64.toString());1!==u.compare(c);u=u.add(s._step64))Math.abs(o.distance-e)>Math.abs(h-e)&&(o.distance=h,o.number=new BigNumber(u.toString())),h+=d;return"normal"===s.layout?"horizontal"!==s.orientation||s.rtl?!1===s.int64?s.max+s.min-o.number:s._max64.add(s._min64).subtract(o.number):o.number:"horizontal"===s.orientation?!1===s.int64?s.max+s.min-o.number:s._max64.add(s._min64).subtract(o.number):o.number},_setValue:function(e,t,i){var s=this;s._slideEvent&&s._slideEvent.args.cancel||(e=s._handleValue(e,t),s._setSliderPosition(e,t,i),s._fixZIndexes(),s._valueChanged(1)&&s._raiseEvent(1,{value:s.getValue()}),s._valueChanged(0)&&s._raiseEvent(0,{value:s.getValue()}),s.input&&(s.rangeSlider?s.values&&void 0!==s.value.rangeEnd&&void 0!==s.value.rangeStart&&(s.input.value=s.value.rangeStart.toString()+"-"+s.value.rangeEnd.toString()):s.input.value=s.value.toString()))},_valueChanged:function(e){var t=this.getValue();return!this.rangeSlider&&this._lastValue[e]!==t||this.rangeSlider&&("object"!=typeof this._lastValue[e]||parseFloat(this._lastValue[e].rangeEnd)!==parseFloat(t.rangeEnd)||parseFloat(this._lastValue[e].rangeStart)!==parseFloat(t.rangeStart))},_handleValue:function(e,t){var i=this;return e=i._validateValue(e,t),t===i._slider.left&&(!1===i.int64?i.values[0]=e:(i.values[0]=e.toString(),i._value64[0]=e)),t===i._slider.right&&(!1===i.int64?i.values[1]=e:(i.values[1]=e.toString(),i._values64[1]=e)),i.rangeSlider?!(i.value={rangeStart:i.values[0],rangeEnd:i.values[1]})!==i.int64&&(i._value64={rangeStart:i._values64[0],rangeEnd:i._values64[1]}):!1===i.int64?i.value=e:(i.value=e.toString(),i._value64=e),e},_fixZIndexes:function(){this.values[1]-this.values[0]<.5&&this.max-this.values[0]<.5?(this._slider.left.style.zIndex=20,this._slider.right.style.zIndex=15):(this._slider.left.style.zIndex=15,this._slider.right.style.zIndex=20)},_refreshRangeBar:function(){var e,t=this._helpers.left,i=this._helpers.right,s=this._helpers.track,r=this._getSetting("left"),n=this._getSetting("size"),o=this.rtl&&"horizontal"===this.orientation;"normal"===this.layout?(e=t.position()[r],I(t[0]).position()[r],"vertical"!==this.orientation&&!o||(e=i.position()[r])):(e=i.position()[r],"vertical"===this.orientation&&(e=t.position()[r])),this.rangeSlider?this._rangeBar.style[r]=e+"px":"horizontal"!==this.orientation||!o&&"normal"===this.layout?"vertical"===this.orientation&&(this._rangeBar.style[r]=e-s.position().top+t.innerHeight()/2+"px"):this._rangeBar.style[r]=e-s.position().left+t.innerWidth()/2+"px",this._rangeBar.style[n]=Math.abs(i.position()[r]-t.position()[r])+"px"},_validateValue:function(e,t){return!1===this.int64?((e=e>this.max?this.max:e)<this.min&&(e=this.min),this.rangeSlider&&(t===this._slider.left?e>=this.values[1]&&(e=this.values[1]):e<=this.values[0]&&(e=this.values[0]))):"s"===this.int64?(e=e.greaterThan(this._max64)?this._max64:e).lessThan(this._min64)&&(e=this._min64):"u"===this.int64&&-1===(e=1===e.compare(this._max64)?this._max64:e).compare(this._min64)&&(e=this._min64),e},_setSliderPosition:function(e,t,i){var s,r,n,o,a=parseInt(this._helpers.track[this._getSetting("size")](),10),i=(i&&(i-=this._helpers.track.offset()[this._getSetting("left")]),parseInt(this._helpers.left[this._getSetting("size")](),10));isNaN(i)&&(i=0),"s"===this.int64?("number"==typeof e?e=(new I.jqx.math).fromNumber(e,10):"string"==typeof e&&(e=(new I.jqx.math).fromString(e,10)),(e=e.greaterThan(this._max64)?(new I.jqx.math).fromString(this._max64.toString(),10):e).lessThan(this._min64)&&(e=(new I.jqx.math).fromString(this._min64.toString(),10)),n=1-(r=this._divide64(e.subtract(this._min64),this._max64.subtract(this._min64))),"normal"===this.layout?(s=r,("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(s=n)):(s=n,"horizontal"!==this.orientation&&(s=r)),o=a*s-i/2,t.style[this._getSetting("left")]=o+"px"):"u"===this.int64?(-1===(e=1===(e="number"!=typeof e&&"string"!=typeof e?e:new BigNumber(e)).compare(this._max64)?new BigNumber(this._max64):e).compare(this._min64)&&(e=new BigNumber(this._min64)),n=1-(r=this._divide64(e.subtract(this._min64),this._max64.subtract(this._min64))),"normal"===this.layout?(s=r,("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(s=n)):(s=n,"horizontal"!==this.orientation&&(s=r)),o=a*s-i/2,t.style[this._getSetting("left")]=o+"px"):!1===this.int64&&("normal"===this.layout?(s=(e-this.min)/(this.max-this.min),("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(s=1-(e-this.min)/(this.max-this.min))):(s=1-(e-this.min)/(this.max-this.min),"horizontal"!==this.orientation&&(s=(e-this.min)/(this.max-this.min))),o=a*s-i/2,t.style[this._getSetting("left")],t.style[this._getSetting("left")]=o+"px",this.tooltip&&this._showTooltip(t,this.value),this._refreshRangeBar()),this.tooltip&&this._showTooltip(t,this.value),0<this.value?I(t).addClass(this.toThemeProperty("jqx-slider-has-value")):I(t).removeClass(this.toThemeProperty("jqx-slider-has-value")),this._refreshRangeBar()},_divide64:function(e,t){var i;if(o=e.toString(),15<(r=t.toString()).length){var s=r.length-15,r=r.slice(0,15)+"."+r.slice(15),n=parseFloat(r);if(o.length>s)var r=o.length-s,o=o.slice(0,r)+"."+o.slice(r);else if(o.length===s)o="0."+o;else{for(var a="0.",l=0;l<s-o.length;l++)a+="0";o=a+""+o}i=parseFloat(o)}else n="s"===this.int64?(i=e.toNumber(),t.toNumber()):(i=parseFloat(e.toString()),parseFloat(t.toString()));return i/n},_showTooltip:function(e,t){var i=this;if(i._slideStarted||null!=i._capturedElement||i._mouseDown){t=i._formatLabel(t,!0),i.toolTipCreated||(l="tooltip"+i.element.id,(r=document.createElement("div")).style.display="none",r.style.position="absolute",r.style.visibility="hidden",r.style.boxShadow="none",r.style.top="0px",r.style.left="0px",r.style.zIndex=99999,r.setAttribute("id",l),document.body.appendChild(r),(s=document.createElement("div")).setAttribute("id",l+"Main"),r.appendChild(s),(n=document.createElement("div")).setAttribute("id",l+"Text"),s.appendChild(n),(c=document.createElement("div")).setAttribute("id",l+"Arrow"),c.style.top="0px",c.style.left="0px",r.appendChild(c),i.sliderTooltip=r,i.sliderTooltipObj=new jqxHelper(i.sliderTooltip),i.sliderTooltipObj.initAnimate&&i.sliderTooltipObj.initAnimate(),n.innerHTML="<span>"+t+"</span>",i.sliderTooltip.className=i.toThemeProperty("jqx-slider-tooltip jqx-tooltip jqx-popup "+i.orientation),i.rangeSlider&&(i.sliderTooltip.className+=" range"),i.template&&(i.sliderTooltip.className+=" jqx-"+i.template+"-slider"),s.className=i.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-main"),n.className=i.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-text"),c.className=i.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-arrow"),i.sliderTooltipContent=n,i.sliderTooltipArrow=c,i.sliderTooltipMain=s,i.sliderTooltipArrowObj=new jqxHelper(i.sliderTooltipArrow),i.arrowSize=5,i.toolTipCreated=!0,i.rangeSlider&&(i.sliderTooltipArrow.style.visibility="hidden"));var s,r,n,o,a=new jqxHelper(e).offset(),l=new jqxHelper(e).outerWidth(),d=(i.sliderTooltip.style.display="block",i.sliderTooltip.style.visibility="visible",I(i.sliderTooltip).addClass("init"),I(i.sliderTooltip).removeClass("hide"),setTimeout(function(){I(i.sliderTooltip).addClass("show")}),i.sliderButtonSize+i.tickSize),h=(i.rangeSlider?(r=i.value?i.value.rangeStart:"",n=i.value?i.value.rangeEnd:"",""!==r?i.sliderTooltipContent.innerHTML="<span>"+r+" - "+n+"</span>":(i.isMaterialized()||(i.sliderTooltip.style.display="none",i.sliderTooltip.style.visibility="hidden"),I(i.sliderTooltip).removeClass("show"),I(i.sliderTooltip).addClass("hide"))):i.sliderTooltipContent.innerHTML="<span>"+t.toString()+"</span>",i.sliderTooltip.offsetWidth);if("horizontal"===i.orientation)switch(u=1+a.left+l/2-h/2,i.rangeSlider&&(o=(i._helpers.right.offset().left-i._helpers.left.offset().left-i._thumbSize)/2,u=i._helpers.left.offset().left-h/2+o+i._thumbSize),i.tooltipPosition){case"far":p=a.top+d+i.arrowSize+6,i.sliderTooltipObj.offset({top:p,left:u}),i.sliderTooltipObj.addClass(i.toThemeProperty("far")),i.sliderTooltipArrowObj.addClass(i.toThemeProperty("jqx-tooltip-arrow-t-b")),i.sliderTooltipArrow.style.borderTopWidth="0px",i.sliderTooltipArrow.style.borderRightWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderBottomWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderLeftWidth=i.arrowSize+"px",i.sliderTooltipArrowObj.offset({top:p-i.arrowSize+1,left:u-i.arrowSize/2-1+h/2});break;case"near":p=a.top-i.arrowSize-i.sliderTooltipObj.innerHeight()-4,i.sliderTooltipObj.offset({top:p,left:u}),i.sliderTooltipArrowObj.addClass(i.toThemeProperty("jqx-tooltip-arrow-t-b")),i.sliderTooltipArrow.style.borderTopWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderRightWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderBottomWidth="0px",i.sliderTooltipArrow.style.borderLeftWidth=i.arrowSize+"px",i.sliderTooltipArrowObj.offset({top:p+i.sliderTooltipObj.innerHeight(),left:u-i.arrowSize/2-1+h/2})}else{var c=i.sliderTooltipObj.innerHeight(),u=a.left-h-i.arrowSize-i.tickSize-2,p=a.top+i._thumbSize/2-c/2-1;switch(i.rangeSlider&&(o=(i._helpers.right.offset().top-i._helpers.left.offset().top-i._thumbSize)/2,p=i._helpers.left.offset().top-c/2+o+i._thumbSize),i.tooltipPosition){case"far":u=a.left+i._thumbSize+i.arrowSize+i.tickSize,i.sliderTooltipObj.offset({top:p,left:u}),i.sliderTooltipObj.addClass(i.toThemeProperty("far")),i.sliderTooltipArrowObj.addClass(i.toThemeProperty("jqx-tooltip-arrow-l-r")),i.sliderTooltipArrow.style.borderTopWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderRightWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderBottomWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderLeftWidth="0px",i.sliderTooltipArrowObj.offset({top:p+i.sliderTooltipObj.innerHeight()/2-i.arrowSize/2-2,left:u-i.arrowSize+1});break;case"near":i.sliderTooltipObj.offset({top:p,left:u+2}),i.sliderTooltipArrowObj.addClass(i.toThemeProperty("jqx-tooltip-arrow-l-r")),i.sliderTooltipArrow.style.borderTopWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderRightWidth="0px",i.sliderTooltipArrow.style.borderBottomWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderLeftWidth=i.arrowSize+"px",i.sliderTooltipArrowObj.offset({top:p+i.sliderTooltipObj.innerHeight()/2-i.arrowSize/2-2,left:u+h+3})}}I(i.sliderTooltip).removeClass("init")}},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2===Object.keys(i).length&&(e.__trackSize=null,e.__thumbSize=null,e._performLayout(),e._initialSettings())},propertyChangedHandler:function(e,t,i,s){if(e.__trackSize=null,e.__thumbSize=null,!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2===Object.keys(e.batchUpdate).length))switch(t){case"template":e.template&&(e._helpers.left.removeClass(e.toThemeProperty("jqx-"+i)),e._helpers.right.removeClass(e.toThemeProperty("jqx-"+i)),e._helpers.rangeBar.removeClass(e.toThemeProperty("jqx-"+i)),e._helpers.left.addClass(e.toThemeProperty("jqx-"+e.template)),e._helpers.right.addClass(e.toThemeProperty("jqx-"+e.template)),I(e._leftButton).jqxRepeatButton({template:s}),I(e._rightButton).jqxRepeatButton({template:s}),e._helpers.rangeBar.addClass(e.toThemeProperty("jqx-"+e.template)));break;case"theme":I.jqx.utilities.setTheme(i,s,e.host),I(e._leftButton).jqxRepeatButton({theme:s}),I(e._rightButton).jqxRepeatButton({theme:s});break;case"disabled":s?(e.disabled=!0,e.disable()):(e.disabled=!1,e.enable());break;case"width":case"height":e.__trackSize=null,e.__thumbSize=null,e._performLayout(),e._initialSettings();break;case"min":case"max":"s"===e.int64?e["_"+t+"64"]=(new I.jqx.math).fromString(s.toString(),10):"u"===e.int64&&(e["_"+t+"64"]=new BigNumber(s)),e._performLayout(),e.__trackSize=null,e.__thumbSize=null,e._initialSettings();break;case"showTicks":case"ticksPosition":case"tickSize":case"tickMode":case"tickNumber":case"minorTickNumber":e._performLayout(),e._initialSettings();break;case"ticksFrequency":case"minorTicksFrequency":"s"===e.int64?e["_"+t+"64"]=(new I.jqx.math).fromString(s.toString(),10):"u"===e.int64&&(e["_"+t+"64"]=new BigNumber(s)),e._performLayout(),e._initialSettings();break;case"showRange":case"showButtons":case"orientation":case"rtl":e._render(),e._performLayout(),e._initialSettings(),"orientation"===t&&(e.element.style.minWidth="vertical"===s?"96px":"");break;case"buttonsPosition":e._refresh();break;case"rangeSlider":e.value=s?{rangeEnd:e.value,rangeStart:e.value}:e.value.rangeEnd,e._render(),e._performLayout(),e._initialSettings();break;case"value":var r=s;"s"===e.int64?(r=(new I.jqx.math).fromString(s.toString(),10),e._value64=r):"u"===e.int64?(r=new BigNumber(s),e._value64=r):!1!==e.int64||e.rangeSlider||(e.value=parseFloat(s)),e.setValue(r);break;case"values":r=s;"s"===e.int64?(r=[(new I.jqx.math).fromString(s[0].toString(),10),(new I.jqx.math).fromString(s[1].toString(),10)],e._values64=r):"u"===e.int64&&(r=[new BigNumber(s[0]),new BigNumber(s[1])],e._values64=r),e.setValue(r);break;case"tooltip":break;case"step":"s"===e.int64?e._step64=(new I.jqx.math).fromString(s.toString(),10):"u"===e.int64&&(e._step64=new BigNumber(s));break;case"editableLabels":e._performLayout(),e._initialSettings();break;case"tickLabelStyleSettings":e._setPaddingValues(!0),e._performLayout(),e._initialSettings();break;default:e._refresh()}},incrementValue:function(e){var t,i=this;!1===i.int64?(void 0!==e&&!isNaN(parseFloat(e))||(e=i.step),i.rangeSlider?i.values[1]<i.max&&i._setValue(i.values[1]+e,i._slider.right):i.values[1]>=i.min&&i.values[1]<i.max&&i._setValue(i.values[1]+e,i._slider.right)):"s"===i.int64?(e=void 0===e||isNaN(parseFloat(e))?i._step64:(new I.jqx.math).fromString(e.toString(),10),(t=i._values64[1].add(e)).lessThan(i._values64[1])&&(t=i._max64),i.rangeSlider?i._values64[1].lessThan(i._max64)&&i._setValue(t,i._slider.right):i._values64[1].greaterThanOrEqual(i._min64)&&i._values64[1].lessThan(i._max64)&&i._setValue(t,i._slider.right)):"u"===i.int64&&(e=void 0===e||isNaN(parseFloat(e))?i._step64:new BigNumber(e),-1===(t=i._values64[1].add(e)).compare(i._values64[1])&&(t=i._max64),i.rangeSlider?-1===i._values64[1].compare(i._max64)&&i._setValue(t,i._slider.right):-1!==i._values64[1].compare(i._min64)&&-1===i._values64[1].compare(i._max64)&&i._setValue(t,i._slider.right)),i.input&&I.jqx.aria(this,"aria-valuenow",i.input.value)},decrementValue:function(e){var t,i=this;!1===i.int64?(void 0!==e&&!isNaN(parseFloat(e))||(e=i.step),i.rangeSlider?i.values[0]>i.min&&i._setValue(i.values[0]-e,i._slider.left):i.values[1]<=i.max&&i.values[1]>i.min&&i._setValue(i.values[1]-e,i._slider.right)):"s"===i.int64?(e=void 0===e||isNaN(parseFloat(e))?i._step64:(new I.jqx.math).fromString(e.toString(),10),i.rangeSlider?((t=i._values64[0].subtract(e)).greaterThan(i._values64[0])&&(t=i._min64),i._values64[0].greaterThan(i._min64)&&i._setValue(t,i._slider.left)):((t=i._values64[1].subtract(e)).greaterThan(i._values64[1])&&(t=i._min64),i._values64[1].lessThanOrEqual(i._max64)&&i._values64[1].greaterThan(i._min64)&&i._setValue(t,i._slider.right))):"u"===i.int64&&(e=void 0===e||isNaN(parseFloat(e))?i._step64:new BigNumber(e),i.rangeSlider?(1===(t=i._values64[0].subtract(e)).compare(i._values64[0])&&(t=i._min64),1===i._values64[0].compare(i._min64)&&i._setValue(t,i._slider.left)):(1===(t=i._values64[1].subtract(e)).compare(i._values64[1])&&(t=i._min64),1!==i._values64[1].compare(i._max64)&&1===i._values64[1].compare(i._min64)&&i._setValue(t,i._slider.right))),i.input&&I.jqx.aria(this,"aria-valuenow",i.input.value)},val:function(e){var t;if(0===arguments.length||!I.isArray(e)&&"object"==typeof e)return this.getValue();!1===this.int64?this.setValue(e):"s"===this.int64?(t=(new I.jqx.math).fromString(e.toString(),10),this.setValue(t)):"u"===this.int64&&(t=new BigNumber(e),this.setValue(t))},setValue:function(e){var t,i,s=this;!1===s.int64||"string"!=typeof e&&"number"!=typeof e||("s"===s.int64?"string"==typeof e?e=(new I.jqx.math).fromString(e,10):"number"==typeof e&&(e=(new I.jqx.math).fromNumber(e,10)):"u"===s.int64&&(e=new BigNumber(e))),s.rangeSlider?(arguments.length<2?e instanceof Array?(t=e[0],i=e[1]):"object"==typeof e&&void 0!==e.rangeStart&&void 0!==e.rangeEnd&&(t=e.rangeStart,i=e.rangeEnd):(t=arguments[0],i=arguments[1]),s._triggerEvents=!1,s._setValue(i,s._slider.right),s._triggerEvents=!0,s._setValue(t,s._slider.left)):(i=(s._triggerEvents=!1)===s.int64?s.min:s._min64,s._setValue(i,s._slider.left),s._triggerEvents=!0,s._setValue(e,s._slider.right)),s.input&&I.jqx.aria(this,"aria-valuenow",s.input.value)},getValue:function(){var e=this.value;return e=!1!==this.int64?this._value64.toString():e},_enable:function(e){e?(this._addEventHandlers(),this.disabled=!1,this._helpers.element.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))):(this._removeEventHandlers(),this.disabled=!0,this._helpers.element.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),I(this._leftButton).jqxRepeatButton({disabled:this.disabled}),I(this._rightButton).jqxRepeatButton({disabled:this.disabled})},disable:function(){this._enable(!1),I.jqx.aria(this,"aria-disabled",!0)},enable:function(){this._enable(!0),I.jqx.aria(this,"aria-disabled",!1)},_setPaddingValues:function(e){var s=this,t=document.createElement("span"),i=(t.className=s.toThemeProperty("jqx-widget jqx-slider-label"),t.style.position="absolute",t.visibility="hidden",s.tickLabelStyleSettings&&(r=s.tickLabelStyleSettings,t.style.fontSize=r.fontSize,t.style.fontFamily=r.fontFamily,t.style.fontWeight=r.fontWeight,t.style.fontStyle=r.fontStyle),r="normal"===s.layout?(i=s._formatLabel(s.min),s._formatLabel(s.max)):(i=s._formatLabel(s.max),s._formatLabel(s.min)),document.body.appendChild(t),t.innerHTML=i,"horizontal"===s.orientation?t.offsetWidth:t.offsetHeight),r=(t.innerHTML=r,"horizontal"===s.orientation?t.offsetWidth:t.offsetHeight);function n(e){var t,i=!0===s.showButtons?(t=27,0):(t=0,8),e=Math.ceil(e/2)+1-t;return Math.max(e,i)}t.parentNode.removeChild(t),!0!==e&&(!0===e||void 0!==s.padding&&!I.isEmptyObject(s.padding))||("horizontal"===s.orientation?s.padding={left:n(i),right:n(r)}:s.padding={bottom:n(i),top:n(r)})},_editableLabels:function(){var e,t,i,s,r,n,o,a,l,d,h=this;function c(e,t){var i,s;h.disabled||(i=h._formatLabel(t),(s=document.createElement("span")).className=h.toThemeProperty("jqx-widget jqx-slider-label"),s.style.position="absolute",s.style.visibility="hidden",document.body.appendChild(s),s.innerHTML=i,i={width:s.scrollWidth,height:s.scrollHeight},s.parentNode.removeChild(s),s=i,n.offset(I(e).offset()),r.style.width=s.width+10+"px",r.style.height=s.height+"px",r.style.visibility="visible",r.value=t,r.select(),h._editingLabels=!0)}function u(e,t,i,s){if(e===h[t].toString())return!1;if("s"===h.int64){var r=(new I.jqx.math).fromString(e,10);if("min"===t&&-1!==r.compare(h["_"+s+"64"])||"max"===t&&1!==r.compare(h["_"+s+"64"]))return!1;h[i]=r,h[t]=e}else if("u"===h.int64){r=new BigNumber(e);if(-1===r.compare(0)||"min"===t&&-1!==r.compare(h["_"+s+"64"])||"max"===t&&1!==r.compare(h["_"+s+"64"]))return!1;h[i]=r,h[t]=e}else{if("min"===t&&e>=h[s]||"max"===t&&e<=h[s])return!1;h[t]=parseFloat(e)}}h.showTickLabels&&h.editableLabels&&(e=h.element.id,d=h.element.getElementsByClassName("jqx-slider-label-top"),t=h.element.getElementsByClassName("jqx-slider-label-bottom"),i=h.ticksPosition,s=/^-?\d+\.?\d*$/,"both"!==i&&"top"!==i||(o=d[0],d=d[d.length-1],d="horizontal"===h.orientation&&"normal"===h.layout&&!1===h.rtl||"vertical"===h.orientation&&"reverse"===h.layout?(a=o,d):(a=d,o),h.addHandler(I(a),"dblclick.jqxSlider"+e,function(){c(this,h.min),h._editedProperty="min"}),h.addHandler(I(d),"dblclick.jqxSlider"+e,function(){c(this,h.max),h._editedProperty="max"})),"both"!==i&&"bottom"!==i||(o=t[0],a=t[t.length-1],d="horizontal"===h.orientation&&"normal"===h.layout&&!1===h.rtl||"vertical"===h.orientation&&"reverse"===h.layout?(l=o,a):(l=a,o),h.addHandler(I(l),"dblclick.jqxSlider"+e,function(){c(this,h.min),h._editedProperty="min"}),h.addHandler(I(d),"dblclick.jqxSlider"+e,function(){c(this,h.max),h._editedProperty="max"})),!0!==h._labelInputCreated?((r=document.createElement("input")).className="jqx-slider-label-input",h.element.appendChild(r)):r=h.element.querySelector(".jqx-slider-label-input"),n=I(r),!0!==h._labelInputCreated&&(h.addHandler(n,"blur.jqxGauge"+h.element.id,function(){var e=this.value;if(r.style.visibility="hidden",s.test(e)){if("min"===h._editedProperty){if(!1===u(e,"min","_min64","max"))return}else if(!1===u(e,"max","_max64","min"))return;h._refresh(),h._editingLabels=!1}}),h._labelInputCreated=!0))}})}(jqxBaseFramework),!function(m){m.extend(m.expr[":"],{data:m.expr.createPseudo?m.expr.createPseudo(function(t){return function(e){return!!m.data(e,t)}}):function(e,t,i){return!!m.data(e,i[3])}}),m.jqx.jqxWidget("jqxSortable","",{}),m.extend(m.jqx._jqxSortable.prototype,{defineInstance:function(){var e={appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,maxItems:9999,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholderShow:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:999999,element:null,defaultElement:"<div>",mouseHandled:!1,cancel:"input,textarea,button,select,option",distance:1,delay:0,widgetName:"widget",widgetEventPrefix:"",disabled:!1,create:null,_touchEvents:{mousedown:m.jqx.mobile.getTouchEventName("touchstart"),click:m.jqx.mobile.getTouchEventName("touchstart"),mouseup:m.jqx.mobile.getTouchEventName("touchend"),mousemove:m.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_events:["activate","beforeStop","change","deactivate","out","over","receive","removeItem","sort","start","stop","update","create"]};return this===m.jqx._jqxSortable.prototype||m.extend(!0,this,e),e},createInstance:function(){this._render()},_render:function(){var e=this,t=(this._isTouchDevice=m.jqx.mobile.isTouchDevice(),this.containerCache={},m(e.defaultElement||this)[0]);e.document=m(t.style?t.ownerDocument:t.document||t),e.window=m(e.document[0].defaultView||e.document[0].parentWindow),e.host.addClass(e.toThemeProperty("jqx-widget jqx-sortable")),e.refresh(),e.floating=!!e.itemsArray.length&&("x"===e.axis||e._isFloating(e.itemsArray[0].item)),e.offset=e.host.offset(),e._handleMouse(),e._cancelSelect(),e.ready=!0},_isOverAxis:function(e,t,i){return t<=e&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]+".jqxSortable"+this.element.id:e+".jqxSortable"+this.element.id},_handleMouse:function(){var t=this;t.addHandler(this.host,this._getEvent("mousedown"),function(e){return t._mouseDown(e)}),t.addHandler(t.host,this._getEvent("click"),function(e){if(!0===m.data(e.target,t.widgetName+".preventClickEvent"))return m.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),t.started=!1},widget:function(){return this.host},_mouseDestroy:function(){this.host.off("."+this.widgetName),this._mouseMoveDelegate&&(this.removeHandler(m(document),this._getEvent("mousemove")),this.removeHandler(m(document),this._getEvent("mouseup")))},_mouseDown:function(e){var t=this;if(!t.mouseHandled){t._mouseMoved=!1,t._isTouchDevice&&(r=m.jqx.position(e),e.pageX=r.left,e.pageY=r.top),t._mouseStarted&&t._mouseUp(e),t._mouseDownEvent=e,this._isTouchDevice&&(e.which=1);var i,s,r=1===e.which,n=!("string"!=typeof this.cancel||!e.target.nodeName)&&m(e.target).closest(this.cancel).length;if(!(r=this._isTouchDevice?!0:r)||n||!this._mouseCapture(e))return!0;if(t.mouseDelayMet=!t.delay,t.mouseDelayMet||(t._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},t.delay)),t._mouseDistanceMet(e)&&t._mouseDelayMet(e)&&(t._mouseStarted=!1!==t._mouseStart(e),!t._mouseStarted))return e.preventDefault(),!0;!0===m.data(e.target,this.widgetName+".preventClickEvent")&&m.removeData(e.target,this.widgetName+".preventClickEvent"),t._mouseMoveDelegate=function(e){return t._mouseMove(e)},t._mouseUpDelegate=function(e){e=t._mouseUp(e);return!!t._isTouchDevice||e},t.addHandler(m(document),this._getEvent("mousemove"),t._mouseMoveDelegate),t.addHandler(m(document),this._getEvent("mouseup"),t._mouseUpDelegate);try{""==document.referrer&&!window.frameElement||null==window.top||window.top==window.self||(i=function(e){t._mouseUp(e)},s=null,(s=window.parent&&document.referrer?document.referrer:s)&&-1!=s.indexOf(document.location.host)&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",i,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",i)))}catch(e){}if(this._isTouchDevice)return!0;e.preventDefault();return!0}},_mouseMove:function(e){var t,i=this;if(this._isTouchDevice&&(e.which=1,t=m.jqx.position(e),e.pageX=t.left,e.pageY=t.top),i._mouseMoved)if(m.jqx.browser.msie&&11<m.jqx.browser.version){if(!e.which)return i._mouseUp(e)}else{if(m.jqx.browser.msie&&(!document.documentMode||document.documentMode<9)&&!e.button)return i._mouseUp(e);if(!e.which)return i._mouseUp(e)}return(e.which||e.button)&&(i._mouseMoved=!0),i._mouseStarted?(i._mouseDrag(e),e.preventDefault()):(i._mouseDistanceMet(e)&&i._mouseDelayMet(e)&&(i._mouseStarted=!1!==i._mouseStart(i._mouseDownEvent,e),i._mouseStarted?i._mouseDrag(e):i._mouseUp(e)),!i._mouseStarted)},_mouseUp:function(e){try{this.removeHandler(m(document),this._getEvent("mousemove")),this.removeHandler(m(document),this._getEvent("mouseup")),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&m.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e))}catch(e){}return!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.distance},_mouseDelayMet:function(){return this.mouseDelayMet},scrollParent:function(e){var t=this.css("position"),i="absolute"===t,s=e?/(auto|scroll|hidden)/:/(auto|scroll)/,e=this.parents().filter(function(){var e=m(this);return(!i||"static"!==e.css("position"))&&s.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&e.length?e:m(this[0].ownerDocument||document)},destroy:function(){this.host.removeClass("jqx-sortable jqx-sortable-disabled").find(".jqx-sortable-handle").removeClass("jqx-sortable-handle"),this._mouseDestroy();for(var e=this.itemsArray.length-1;0<=e;e--)this.itemsArray[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,t){var i=null,s=!1,r=this;return!r.reverting&&(!r.disabled&&"static"!==r.type&&(r._refreshItems(e),m(e.target).parents().each(function(){if(m.data(this,r.widgetName+"-item")===r)return i=m(this),!1}),!!(i=m.data(e.target,r.widgetName+"-item")===r?m(e.target):i)&&(!(r.handle&&!t&&(m(r.handle,i).find("*").addBack().each(function(){this===e.target&&(s=!0)}),!s))&&(r.currentItem=i,r._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,t,i){var s,r,n=this;if(n.currentContainer=this,n._currentContainer=this,n.refreshPositions(),n.helper=n._utility(e),n._cacheHelperProportions(),n._storeMargins(),n.scrollParent=n.helper.scrollParent(),n.offset=n.currentItem.offset(),n.offset={top:n.offset.top-n.margins.top,left:n.offset.left-n.margins.left},m.extend(n.offset,{click:{left:e.pageX-n.offset.left,top:e.pageY-n.offset.top},parent:n._getParentOffset(),relative:n._getRelativeOffset()}),n.helper.css("position","absolute"),n.cssPosition=n.helper.css("position"),n.originalPosition=n._generatePosition(e),n.originalPageX=e.pageX,n.originalPageY=e.pageY,n.cursorAt&&n._adjustOffsetFromHelper(n.cursorAt),n.domPosition={prev:n.currentItem.prev()[0],parent:n.currentItem.parent()[0]},n.helper[0]!==n.currentItem[0]&&n.currentItem.hide(),n._createPlaceholder(),n.containment&&n._setContainment(),n.cursor&&"auto"!==n.cursor&&(r=n.document.find("body"),n.storedCursor=r.css("cursor"),r.css("cursor",n.cursor),n.storedStylesheet=m("<style>*{ cursor: "+n.cursor+" !important; }</style>").appendTo(r)),n.opacity&&(n.helper.css("opacity")&&(n._storedOpacity=n.helper.css("opacity")),n.helper.css("opacity",n.opacity)),n.zIndex&&(n.helper.css("zIndex")&&(n._storedZIndex=n.helper.css("zIndex")),n.helper.css("zIndex",n.zIndex)),n.scrollParent[0]!==n.document[0]&&"HTML"!==n.scrollParent[0].tagName&&(n.overflowOffset=n.scrollParent.offset()),n._raiseEvent("9",n._uiHash()),n._preserveHelperProportions||n._cacheHelperProportions(),!i)for(s=n.owners.length-1;0<=s;s--)n.owners[s]._raiseEvent("0",n._uiHash(this));return m.jqx.ddmanager&&(m.jqx.ddmanager.current=this),m.jqx.ddmanager&&!n.dropBehaviour&&m.jqx.ddmanager.prepareOffsets(this,e),n.dragging=!0,n.helper.addClass("jqx-sortable-helper"),n._mouseDrag(e),!0},_mouseDrag:function(e){var t,i,s,r,n=this,o=!1,a=this;for(a.position=a._generatePosition(e),a.positionAbs=a._convertPositionTo("absolute"),a.lastPositionAbs||(a.lastPositionAbs=a.positionAbs),a.scroll&&(a.scrollParent[0]!==a.document[0]&&"HTML"!==a.scrollParent[0].tagName?(a.overflowOffset.top+a.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?a.scrollParent[0].scrollTop=o=a.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-a.overflowOffset.top<n.scrollSensitivity&&(a.scrollParent[0].scrollTop=o=a.scrollParent[0].scrollTop-n.scrollSpeed),a.overflowOffset.left+a.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?a.scrollParent[0].scrollLeft=o=a.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-a.overflowOffset.left<n.scrollSensitivity&&(a.scrollParent[0].scrollLeft=o=a.scrollParent[0].scrollLeft-n.scrollSpeed)):(e.pageY-a.document.scrollTop()<n.scrollSensitivity?o=a.document.scrollTop(a.document.scrollTop()-n.scrollSpeed):a.window.height()-(e.pageY-a.document.scrollTop())<n.scrollSensitivity&&(o=a.document.scrollTop(a.document.scrollTop()+n.scrollSpeed)),e.pageX-a.document.scrollLeft()<n.scrollSensitivity?o=a.document.scrollLeft(a.document.scrollLeft()-n.scrollSpeed):a.window.width()-(e.pageX-a.document.scrollLeft())<n.scrollSensitivity&&(o=a.document.scrollLeft(a.document.scrollLeft()+n.scrollSpeed))),!1!==o&&m.jqx.ddmanager&&!n.dropBehaviour&&m.jqx.ddmanager.prepareOffsets(this,e)),a.positionAbs=a._convertPositionTo("absolute"),a.axis&&"y"===a.axis||(a.helper[0].style.left=a.position.left+"px"),a.axis&&"x"===a.axis||(a.helper[0].style.top=a.position.top+"px"),t=a.itemsArray.length-1;0<=t;t--)if(s=(i=a.itemsArray[t]).item[0],(r=a._intersectsWithPointer(i))&&i.instance===a.currentContainer&&!(s===a.currentItem[0]||a.placeholder[1===r?"next":"prev"]()[0]===s||m.contains(a.placeholder[0],s)||"semi-dynamic"===a.type&&m.contains(a.host[0],s))){if(a.direction=1===r?"down":"up","pointer"!==a.tolerance&&!a._intersectsWithSides(i))break;a._rearrange(e,i),a._raiseEvent("2",a._uiHash());break}return a._contactOwners(e),m.jqx.ddmanager&&m.jqx.ddmanager.drag(this,e),a._raiseEvent("8",a._uiHash()),a.lastPositionAbs=a.positionAbs,!1},_mouseStop:function(e,t){var i,s,r,n=this;if(e)return m.jqx.ddmanager&&!this.dropBehaviour&&m.jqx.ddmanager.drop(this,e),n.revert?(i=(n=this).placeholder.offset(),r={},(s=n.axis)&&"x"!==s||(r.left=i.left-n.offset.parent.left-n.margins.left+(n.offsetParent[0]===n.document[0].body?0:n.offsetParent[0].scrollLeft)),s&&"y"!==s||(r.top=i.top-n.offset.parent.top-n.margins.top+(n.offsetParent[0]===n.document[0].body?0:n.offsetParent[0].scrollTop)),n.reverting=!0,m(this.helper).animate(r,parseInt(this.revert,10)||500,function(){n._clear(e)})):n._clear(e,t),!1},cancelSort:function(){var e=this;if(e.dragging){e._mouseUp({target:null}),"original"===e.helper?e.currentItem.css(e._storedCSS).removeClass("jqx-sortable-helper"):e.currentItem.show();for(var t=e.owners.length-1;0<=t;t--)e.owners[t]._raiseEvent("3",e._uiHash(this)),e.owners[t].containerCache.over&&(e.owners[t]._raiseEvent("4",e._uiHash(this)),e.owners[t].containerCache.over=0)}return e.placeholder&&(e.placeholder[0].parentNode&&e.placeholder[0].parentNode.removeChild(e.placeholder[0]),"original"!==e.helper&&e.helper&&e.helper[0].parentNode&&e.helper.remove(),m.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),e.domPosition.prev?m(e.domPosition.prev).after(e.currentItem):m(e.domPosition.parent).prepend(e.currentItem)),this},serialize:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},m(e).each(function(){var e=(m(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);e&&i.push((t.key||e[1]+"[]")+"="+(t.key&&t.expression?e[1]:e[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t.each(function(){i.push(m(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,s=this.positionAbs.top,r=s+this.helperProportions.height,n=e.left,o=n+e.width,a=e.top,l=a+e.height,d=this.offset.click.top,h=this.offset.click.left,d="x"===this.axis||a<s+d&&s+d<l,h="y"===this.axis||n<t+h&&t+h<o;return"pointer"===this.tolerance||this.forcePointerForowners||"pointer"!==this.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?d&&h:n<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&a<s+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),e="y"===this.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),t=t&&e,e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return!!t&&(this.floating?i&&"right"===i||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),e=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&e||"left"===s&&!e:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(0<e?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(0<e?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){return this.connectWith.constructor===String?[this.connectWith]:this.connectWith},_getItemsAsjQuery:function(e){var t,i,s,r,n=[],o=[],a=this._connectWith();if(a&&e)for(t=a.length-1;0<=t;t--)for(i=(s=m(a[t],this.document[0])).length-1;0<=i;i--)(r=m.data(s[i],this.widgetFullName).instance)&&r!==this&&!r.disabled&&o.push([m.isFunction(r.items)?r.items.call(r.host):m(r.items,r.host).not(".jqx-sortable-helper").not(".jqx-sortable-placeholder"),r]);function l(){n.push(this)}for(o.push([m.isFunction(this.items)?this.items.call(this.host,null,{options:this,item:this.currentItem}):m(this.items,this.host).not(".jqx-sortable-helper").not(".jqx-sortable-placeholder"),this]),t=o.length-1;0<=t;t--)o[t][0].each(l);return m(n)},_removeCurrentsFromItems:function(){var i=this.currentItem.find(":data("+this.widgetName+"-item)");this.itemsArray=m.grep(this.itemsArray,function(e){for(var t=0;t<i.length;t++)if(i[t]===e.item[0])return!1;return!0})},_refreshItems:function(e){this.itemsArray=[],this.owners=[this];var t,i,s,r,n,o,a,l,d=this.itemsArray,h=[[m.isFunction(this.items)?this.items.call(this.host[0],e,{item:this.currentItem}):m(this.items,this.host),this]],c=this._connectWith();if(c&&this.ready)for(t=c.length-1;0<=t;t--)for(i=(s=m(c[t],this.document[0])).length-1;0<=i;i--)(r=m.data(s[i],this.widgetName))&&r!==this&&!r.instance.disabled&&(h.push([m.isFunction(r.instance.items)?r.items.call(r.instance.host[0],e,{item:this.currentItem}):m(r.instance.items,r.instance.host),r.instance]),this.owners.push(r.instance));for(t=h.length-1;0<=t;t--)for(n=h[t][1],l=(o=h[t][i=0]).length;i<l;i++)(a=m(o[i])).data(this.widgetName+"-item",n),d.push({item:a,instance:n,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var t,i,s,r;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),t=this.itemsArray.length-1;0<=t;t--)(i=this.itemsArray[t]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(s=this.toleranceElement?m(this.toleranceElement,i.item):i.item,e||(i.width=s.outerWidth(),i.height=s.outerHeight()),r=s.offset(),i.left=r.left,i.top=r.top);if(this.custom&&this.custom.refreshowners)this.custom.refreshowners.call(this);else for(t=this.owners.length-1;0<=t;t--)r=this.owners[t].host.offset(),this.owners[t].containerCache.left=r.left,this.owners[t].containerCache.top=r.top,this.owners[t].containerCache.width=this.owners[t].host.outerWidth(),this.owners[t].containerCache.height=this.owners[t].host.outerHeight();return this},_cancelSelect:function(){this.host.addClass("jqx-disableselect")},_createPlaceholder:function(i){var s,r=i=i||this;r.placeholderShow&&r.placeholderShow.constructor!==String||(s=r.placeholderShow,r.placeholderShow={element:function(){var e=i.currentItem[0].nodeName.toLowerCase(),t=m("<"+e+">",i.document[0]).addClass(s||i.currentItem[0].className+" jqx-sortable-placeholder").removeClass("jqx-sortable-helper");return"tr"===e?i.currentItem.children().each(function(){m("<td>&#160;</td>",i.document[0]).attr("colspan",m(this).attr("colspan")||1).appendTo(t)}):"img"===e&&t.attr("src",i.currentItem.attr("src")),s||t.css("visibility","hidden"),t},update:function(e,t){s&&!r.forcePlaceholderSize||(t.height()||t.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=m(r.placeholderShow.element.call(i.host,i.currentItem)),i.currentItem.after(i.placeholder),i.placeholderShow.update(i,i.placeholder)},_contactOwners:function(e){for(var t,i,s=null,r=null,n=this.owners.length-1;0<=n;n--)m.contains(this.currentItem[0],this.owners[n].host[0])||(this._intersectsWith(this.owners[n].containerCache)?s&&m.contains(this.owners[n].host[0],s.host[0])||(s=this.owners[n],r=n):this.owners[n].containerCache.over&&(this.owners[n]._raiseEvent("4",this._uiHash(this)),this.owners[n].containerCache.over=0));if(s)if(1===this.owners.length)this.owners[r].containerCache.over||(this.owners[r]._raiseEvent("5",this._uiHash(this)),this.owners[r].containerCache.over=1);else{for(var o,a=1e4,l=null,d=(o=s.floating||this._isFloating(this.currentItem))?"left":"top",h=o?"width":"height",c=o?"clientX":"clientY",u=this.itemsArray,p=u.length-1;0<=p;p--)m.contains(this.owners[r].host[0],u[p].item[0])&&u[p].item[0]!==this.currentItem[0]&&(t=u[p].item.offset()[d],i=!1,e[c]-t>u[p][h]/2&&(i=!0),Math.abs(e[c]-t)<a&&(a=Math.abs(e[c]-t),l=u[p],this.direction=i?"up":"down"));if(l||this.dropOnEmpty)if(this.currentContainer===this.owners[r])this.currentContainer.containerCache.over||(this.owners[r]._raiseEvent("5",this._uiHash()),this.currentContainer.containerCache.over=1);else{if(this.owners[r].host.children().length+1>this.owners[r].maxItems)return this.currentContainer=this._currentContainer,l=this._rearrange(e,null,this.currentContainer.host,!0),this._currentContainer.containerCache.over=1,void this.placeholderShow.update(this.currentContainer,this.placeholder);l?this._rearrange(e,l,null,!0):this._rearrange(e,null,this.owners[r].host,!0),this._raiseEvent("2",this._uiHash()),this.owners[r]._raiseEvent("2",this._uiHash(this)),this.currentContainer=this.owners[r],this.placeholderShow.update(this.currentContainer,this.placeholder),this.owners[r]._raiseEvent("5",this._uiHash(this)),this.owners[r].containerCache.over=1}}},_utility:function(e){e=m.isFunction(this.helper)?m(this.helper.apply(this.host[0],[e,this.currentItem])):"clone"===this.helper?this.currentItem.clone():this.currentItem;return e.parents("body").length||m("parent"!==this.appendTo?this.appendTo:this.currentItem[0].parentNode)[0].appendChild(e[0]),e[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),e[0].style.width&&!this.forceHelperSize||e.width(this.currentItem.width()),e[0].style.height&&!this.forceHelperSize||e.height(this.currentItem.height()),e.scrollParent=function(e){var t=this.css("position"),i="absolute"===t,s=e?/(auto|scroll|hidden)/:/(auto|scroll)/,e=this.parents().filter(function(){var e=m(this);return(!i||"static"!==e.css("position"))&&s.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&e.length?e:m(this[0].ownerDocument||document)},e},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),"left"in(e=m.isArray(e)?{left:+e[0],top:+e[1]||0}:e)&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&m.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),{top:(e=this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&m.jqx.browser.msie?{top:0,left:0}:e).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){var e;return"relative"===this.cssPosition?{top:(e=this.currentItem.position()).top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}:{top:0,left:0}},_storeMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){"parent"===this.containment&&(this.containment=this.helper[0].parentNode),"document"!==this.containment&&"window"!==this.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===this.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===this.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,t){t=t||this.position;var e="absolute"===e?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&m.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(i[0].tagName);return{top:t.top+this.offset.relative.top*e+this.offset.parent.top*e-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:i.scrollTop())*e,left:t.left+this.offset.relative.left*e+this.offset.parent.left*e-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:i.scrollLeft())*e}},_generatePosition:function(e){var t=e.pageX,i=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&m.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(t=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(i=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(t=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(i=this.containment[3]+this.offset.click.top)),this.grid&&(e=this.originalPageY+Math.round((i-this.originalPageY)/this.grid[1])*this.grid[1],i=!this.containment||e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-this.grid[1]:e+this.grid[1],e=this.originalPageX+Math.round((t-this.originalPageX)/this.grid[0])*this.grid[0],t=!this.containment||e-this.offset.click.left>=this.containment[0]&&e-this.offset.click.left<=this.containment[2]?e:e-this.offset.click.left>=this.containment[0]?e-this.grid[0]:e+this.grid[0])),{top:i-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:s.scrollTop()),left:t-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:s.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!s)})},_delay:function(e,t){var i=this;return setTimeout(function(){return("string"==typeof e?i[e]:e).apply(i,arguments)},t||0)},_clear:function(e,t){this.reverting=!1;var i,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("jqx-sortable-helper")}else this.currentItem.show();function r(i,s,r){return function(e){var t=this._events.indexOf(i);r._raiseEvent(t,s._uiHash(s))}}for(this.fromOutside&&!t&&s.push(function(e){this._raiseEvent("6",this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".jqx-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||s.push(function(e){this._raiseEvent("11",this._uiHash())}),this===this.currentContainer||t||(s.push(function(e){this._raiseEvent("7",this._uiHash())}),s.push(function(t){return function(e){t._raiseEvent("6",this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(t){return function(e){t._raiseEvent("11",this._uiHash(this))}}.call(this,this.currentContainer))),i=this.owners.length-1;0<=i;i--)t||s.push(r("deactivate",this,this.owners[i])),this.owners[i].containerCache.over&&(s.push(r("out",this,this.owners[i])),this.owners[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._raiseEvent("1",this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;i<s.length;i++)s[i].call(this,e);this._raiseEvent("10",this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},instance:function(){return this},_uiHash:function(e){var t=e||this;return{helper:t.helper,placeholder:t.placeholder||m([]),position:t.position,originalPosition:t.originalPosition,offset:t.positionAbs,item:t.currentItem,sender:e?e.host:null}},_raiseEvent:function(e,t){e=m.Event(this._events[e]);return e.args=t,this.host.trigger(e)},propertyChangedHandler:function(e,t,i,s){s!==i&&"disabled"===t&&(this.disabled=s)}})}(jqxBaseFramework),!function(l){l.jqx.jqxWidget("jqxSplitter","",{}),l.extend(l.jqx._jqxSplitter.prototype,{defineInstance:function(){var e={width:300,height:300,panels:[],orientation:"vertical",disabled:!1,splitBarSize:5,touchSplitBarSize:15,panel1:null,panel2:null,_eventsMap:{mousedown:l.jqx.mobile.getTouchEventName("touchstart"),mouseup:l.jqx.mobile.getTouchEventName("touchend"),mousemove:l.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_isTouchDevice:!1,_isNested:!1,resizable:!0,touchMode:"auto",showSplitBar:!0,initContent:null,_events:["resize","expanded","collapsed","resizeStart","layout"]};return this===l.jqx._jqxSplitter.prototype||l.extend(!0,this,e),e},createInstance:function(){this.render()},_initOverlay:function(e){this.overlay||"undefined"==e?(this.overlay.remove(),this.overlay=null):1==e&&(this.overlay=l("<div style='z-index: 100; background: #fff;'></div>"),this.overlay.css("opacity",.01),this.overlay.css("position","absolute"),this.overlay.appendTo(l(document.body)),this.host.coord(),this.overlay.css("left","0px"),this.overlay.css("top","0px"),this.overlay.width(l(window).width()),this.overlay.height(l(window).height()),this.overlay.addClass("jqx-disableselect"),"horizontal"==this.orientation?this.overlay.css("cursor","row-resize"):this.overlay.css("cursor","col-resize"))},_startDrag:function(e){return!(e.target!=this.splitBarButton[0]&&!this.disabled)||(!(!this.panels[0].collapsed&&!this.panels[1].collapsed&&this.resizable)||(null!=this.overlay||(this._dragging=!0,this._initOverlay(!0),this._dragStart=l.jqx.position(e),!1)))},_drag:function(e){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;if(!this._dragging)return!0;var t,i,s,r,n,o="horizontal"==this.orientation?"top":"left",a="vertical"==this.orientation?"width":"height";if((this._position=l.jqx.position(e),this.overlay&&!this._splitBarClone)&&3<=Math.abs(this._position[o]-this._dragStart[o]))return s=this.splitBar.coord(),this._cloneStart={left:s.left,top:s.top},this._splitBarClone=this._createSplitBarClone(),void this._raiseEvent(3,{panels:this.panels});return!this._splitBarClone||(r=(s=this.host[a]())/100,a=this._splitBarClone[a]()+2,n=parseInt(this.host.coord()[o]),s+0-a<(n=(n=this._position[o]-this._dragStart[o]+this._cloneStart[o]-n)<0?0:n)&&(n=s+0-a),t=this.panels[0].min,-1!=(i=this.panels[1].min).toString().indexOf("%")&&(i=parseFloat(i)*r),-1!=t.toString().indexOf("%")&&(t=parseFloat(t)*r),this._splitBarClone.removeClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),n<t&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),n=t),s+0-a-i<n&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),n=s+0-a-i),this._splitBarClone.css(o,n),l.jqx.isPassiveSupported()&&this._isTouchDevice||(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),!1)},resize:function(e,t){this.width=e,this.height=t,this._arrange()},_resize:function(){var e="horizontal"==this.orientation?"height":"width",t="horizontal"==this.orientation?"top":"left",t=this._splitBarClone.css(t),e=this.host[e](),i=1/(e/100);-1!=this.panels[0].size.toString().indexOf("%")?(this.panels[0].size=parseFloat(t)*i+"%",this.panels[1].size=100-parseFloat(t)*i+"%"):(this.panels[0].size=parseFloat(t),this.panels[1].size=e-parseFloat(t)),this._layoutPanels(),this._raiseEvent(0,{panels:this.panels})},_stopDrag:function(){if(this._dragging&&this._initOverlay(),this._dragging=!1,this._splitBarClone){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;this._resize(),this._splitBarClone.remove(),this._splitBarClone=null}},_createSplitBarClone:function(){var e=this.splitBar.clone();return e.fadeTo(0,.7),e.css("z-index",99999),"vertical"==this.orientation?e.css("cursor","col-resize"):e.css("cursor","row-resize"),this.host.append(e),e},_eventName:function(e){return this._isTouchDevice?this._eventsMap[e]:e},_addHandlers:function(){var e,t=this;l.jqx.utilities.resize(this.host,function(){t._layoutPanels()}),this.addHandler(this.splitBar,"dragstart."+this.element.id,function(e){return!1}),this.splitBarButton&&(this.addHandler(this.splitBarButton,"click."+this.element.id,function(){function e(e){e.collapsed?t.expand():t.collapse()}t.panels[0].collapsible?e(t.panels[0]):t.panels[1].collapsible&&e(t.panels[1])}),this.addHandler(this.splitBarButton,this._eventName("mouseenter"),function(){t.splitBarButton.addClass(t.toThemeProperty("jqx-splitter-collapse-button-hover")),t.splitBarButton.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this.splitBarButton,this._eventName("mouseleave"),function(){t.splitBarButton.removeClass(t.toThemeProperty("jqx-splitter-collapse-button-hover")),t.splitBarButton.removeClass(t.toThemeProperty("jqx-fill-state-hover"))})),this.addHandler(l(document),this._eventName("mousemove")+"."+this.element.id,function(e){e=t._drag(e);if(!t._isTouchDevice)return e}),this.addHandler(l(document),this._eventName("mouseup")+"."+this.element.id,function(){return t._stopDrag()}),this.addHandler(this.splitBar,this._eventName("mousedown"),function(e){return t._startDrag(e)}),this.addHandler(this.splitBar,this._eventName("mouseenter"),function(){t.resizable&&!t.disabled&&(t.splitBar.addClass(t.toThemeProperty("jqx-splitter-splitbar-hover")),t.splitBar.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.splitBar,this._eventName("mouseleave"),function(){t.resizable&&!t.disabled&&(t.splitBar.removeClass(t.toThemeProperty("jqx-splitter-splitbar-hover")),t.splitBar.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}),""==document.referrer&&!window.frameElement||null==window.top||window.top==window.self||(e=null,(e=window.parent&&document.referrer?document.referrer:e)&&-1!=e.indexOf(document.location.host)&&(e=function(e){t._stopDrag()},window.top.document.addEventListener?window.top.document.addEventListener("mouseup",e,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",e)))},_removeHandlers:function(){this.removeHandler(l(window),"resize."+this.element.id),this.splitBarButton&&(this.removeHandler(this.splitBarButton,"click."+this.element.id),this.removeHandler(this.splitBarButton,this._eventName("mouseenter")),this.removeHandler(this.splitBarButton,this._eventName("mouseleave"))),this.removeHandler(l(document),this._eventName("mousemove")+"."+this.element.id),this.removeHandler(l(document),this._eventName("mouseup")+"."+this.element.id),this.splitBar&&(this.removeHandler(this.splitBar,"dragstart."+this.element.id),this.removeHandler(this.splitBar,this._eventName("mousedown")),this.removeHandler(this.splitBar,this._eventName("mouseenter")),this.removeHandler(this.splitBar,this._eventName("mouseleave")))},render:function(){this.splitBar&&this.splitBar.remove();var e=this.host.children();if(2!=e.length)throw"Invalid HTML Structure! jqxSplitter requires 1 container DIV tag and 2 nested DIV tags.";if(2==e.length){var t=e[0].className.split(" "),e=e[1].className.split(" ");if(-1!=t.indexOf("jqx-reset")&&-1!=t.indexOf("jqx-splitter")&&-1!=t.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";if(-1!=e.indexOf("jqx-reset")&&-1!=e.indexOf("jqx-splitter")&&-1!=e.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!"}if(0<this.host.parent().length&&-1!=this.host.parent()[0].className.indexOf("jqx-splitter")){if(-1!=this.element.className.indexOf("jqx-splitter-panel"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";this._isNested=!0,300==this.width&&(this.width="100%"),300==this.height&&(this.height="100%"),"100%"==this.width&&"100%"==this.height&&(this.host.addClass("jqx-splitter-nested"),-1!=this.host.parent()[0].className.indexOf("jqx-splitter-panel")&&this.host.parent().addClass("jqx-splitter-panel-nested"))}this._hasBorder=0==this.host.hasClass("jqx-hideborder")||""!=this.element.style.borderTopWidth,this._removeHandlers(),this._isTouchDevice=l.jqx.mobile.isTouchDevice(),this._validate(),this.panel1.css("left","0px"),this.panel1.css("top","0px"),this.panel2.css("left","0px"),this.panel2.css("top","0px"),this.splitBar=l("<div><div></div></div>"),this.resizable||this.splitBar.css("cursor","default"),this.splitBarButton=this.splitBar.find("div:last"),this._setTheme(),this.splitBar.insertAfter(this.panel1),this._arrange(),0==this.panels[0].collapsible&&0==this.panels[1].collapsible&&this.splitBarButton.hide();this._addHandlers(),this.initContent&&this.initContent(),this.disabled&&this.disable()},_hiddenParent:function(){return l.jqx.isHidden(this.host)},_setTheme:function(){this.panel1.addClass(this.toThemeProperty("jqx-widget-content")),this.panel2.addClass(this.toThemeProperty("jqx-widget-content")),this.panel1.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel2.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel1.addClass(this.toThemeProperty("jqx-reset")),this.panel2.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-splitter")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-"+this.orientation)),this.splitBar.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-collapse-button-"+this.orientation)),this.splitBarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_validate:function(){if(2!=this.host.children().length)throw"Invalid HTML Structure! jqxSplitter requires two nested DIV tags!";this.panels&&!this.panels[1]?this.panels[0]?this.panels[1]={}:this.panels=[{size:"50%"},{size:"50%"}]:null==this.panels&&(this.panels=[{size:"50%"},{size:"50%"}]);var e=this.host.children();this.panel1=this.panels[0].element=l(e[0]),this.panel2=this.panels[1].element=l(e[1]),this.panel1[0].style.minWidth="",this.panel1[0].style.maxWidth="",this.panel2[0].style.minWidth="",this.panel2[0].style.maxWidth="",l.each(this.panels,function(){null==this.min&&(this.min=0),null==this.size&&(this.size=0),this.size<0&&(this.size=0),this.min<0&&(this.min=0),null==this.collapsible&&(this.collapsible=!0),null==this.collapsed&&(this.collapsed=!1),0!=this.size&&(-1!=this.size.toString().indexOf("px")&&(this.size=parseInt(this.size)),-1==this.size.toString().indexOf("%")?parseInt(this.min)>parseInt(this.size)&&(this.min=this.size):-1!=this.min.toString().indexOf("%")&&parseInt(this.min)>parseInt(this.size)&&(this.min=this.size))})},_arrange:function(){null!=this.width&&("string"!=typeof(e=this.width)&&(e=parseInt(this.width)+"px"),this.host.css("width",e)),null!=this.height&&("string"!=typeof(e=this.height)&&(e=parseInt(this.height)+"px"),this.host.css("height",e)),this._splitBarSize=this._isTouchDevice?this.touchSplitBarSize:this.splitBarSize,this.showSplitBar||(this._splitBarSize=0,this.splitBar.hide());var e="horizontal"==this.orientation?"width":"height";this.splitBar.css(e,"100%"),this.panel1.css(e,"100%"),this.panel2.css(e,"100%"),"horizontal"==this.orientation?this.splitBar.height(this._splitBarSize):this.splitBar.width(this._splitBarSize),"vertical"===this.orientation?(this.splitBarButton.width(this._splitBarSize),this.splitBarButton.height(45)):(this.splitBarButton.height(this._splitBarSize),this.splitBarButton.width(45)),this.splitBarButton.css("position","relative"),"vertical"===this.orientation?(this.splitBarButton.css("top","50%"),this.splitBarButton.css("left","0"),this.splitBarButton.css("margin-top","-23px"),this.splitBarButton.css("margin-left","-0px")):(this.splitBarButton.css("left","50%"),this.splitBarButton.css("top","0"),this.splitBarButton.css("margin-left","-23px"),this.splitBarButton.css("margin-top","-0px")),this._layoutPanels()},collapse:function(){var e;this.disabled||(this.panels[0].collapsed=this.panels[1].collapsed=!(e=-1),this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?e=0:this.panels[1].collapsible&&(e=1),-1!=e&&(this.panels[e].collapsed=!0,this.panels[e].element[0].style.visibility="hidden",this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(2,{index:e,panels:this.panels}),this._raiseEvent(0,{panels:this.panels})))},expand:function(){var e;this.disabled||(this.panels[0].collapsed=this.panels[1].collapsed=!(e=-1),this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?e=0:this.panels[1].collapsible&&(e=1),-1!=e&&(this.panels[e].collapsed=!1,this.panels[e].element[0].style.visibility="inherit",this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(1,{index:e,panels:this.panels}),this._raiseEvent(0,{panels:this.panels})))},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},refresh:function(e){1!=e&&this._arrange()},propertyChangedHandler:function(e,t,i,s){"panels"===t||"orientation"===t||"showSplitBar"===t?e.render():("touchMode"===t&&(e._isTouchDevice=s),"disabled"===t?s?e.disable():e.enable():"theme"===t?l.jqx.utilities.setTheme(i,s,e.host):e.refresh())},_layoutPanels:function(){var e,t,i,s,r,n,o,a=this,l="horizontal"==this.orientation?"height":"width",d="horizontal"==this.orientation?"top":"left",h=parseInt(this._splitBarSize)+2,c=(this.showSplitBar||(h=0),this.host[l]()),u=c/100,p=1/u,m=p*h,g=this.panel1,f=this.panel2,v=this.panels[0].size;this.panels[0].collapsed&&(o=!0),this.panels[1].collapsed&&(n=!0),e=this.panels[0].min,-1!=(t=this.panels[1].min).toString().indexOf("%")&&(t=parseFloat(t)*u),-1!=e.toString().indexOf("%")&&(e=parseFloat(e)*u),this._isNested&&this._isTouchDevice&&("horizontal"==this.orientation?(g.width(this.host.width()),f.width(this.host.width())):(g.height(this.host.height()),f.height(this.host.height())));o?(i=Math.max(t,c-h),g[l](0),f[l](i)):n?(i=Math.max(e,c-h),f[l](0),g[l](i)):-1!=v.toString().indexOf("%")?(u=100-parseFloat(v),g.css(l,parseFloat(v)+"%"),f.css(l,(u-=m)+"%"),(r=f[l]())<t&&(s=(i=r-t)*p,v=parseFloat(v)+parseFloat(s),u=100-parseFloat(v),g.css(l,parseFloat(v)+"%"),f.css(l,(u-=m)+"%")),g[l]()<e&&(s=e*p,g.css(l,parseFloat(s)+"%"))):(r=c-v-h,g[0].style[l]!=v+"px"&&g[l](v),f[0].style[l]!=r+"px"&&f[l](r),r<t&&(v+=r-t,f[l](t),g[l](v)),v<e&&g[l](e)),o=a.panel1[l](),a.splitBar[0].style[d]!=o+"px"&&(n=o,"vertical"==a.orientation?(a.splitBar[0].style.borderLeftColor="",a.splitBar[0].style.borderRightColor="",a.splitBarButton[0].style.width=parseInt(a._splitBarSize)+"px",a.splitBarButton[0].style.left="0px"):(a.splitBar[0].style.borderTopColor="",a.splitBar[0].style.borderBottomColor="",a.splitBarButton[0].style.height=parseInt(a._splitBarSize)+"px",a.splitBarButton[0].style.top="0px"),a._hasBorder&&(c-h==o?"vertical"==a.orientation?(a.splitBar[0].style.borderRightColor="transparent",a.splitBarButton[0].style.width=parseInt(a._splitBarSize+1)+"px"):(a.splitBar[0].style.borderBottomColor="transparent",a.splitBarButton[0].style.height=parseInt(a._splitBarSize+1)+"px"):0==o&&("vertical"==a.orientation?(a.splitBar[0].style.borderLeftColor="transparent",a.splitBarButton[0].style.width=parseInt(a._splitBarSize+1)+"px",a.splitBarButton[0].style.left="-1px"):(a.splitBar[0].style.borderTopColor="transparent",a.splitBarButton[0].style.height=parseInt(a._splitBarSize+1)+"px",a.splitBarButton[0].style.top="-1px"))),a.splitBar[0].style[d]=n+"px"),a.panel2[0].style[d]!=o+h+"px"&&(a.panel2[0].style[d]=o+h+"px"),this._raiseEvent(4,{panels:this.panels})},destroy:function(){this._removeHandlers(),l.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_raiseEvent:function(e,t){e=new l.Event(this._events[e]),e.owner=this,e.args=t,this.orientation,t=new Array;return t[0]={},t[1]={},t[0].size="vertical"==this.orientation?this.panel1[0].offsetWidth:this.panel1[0].offsetHeight,t[1].size="vertical"==this.orientation?this.panel2[0].offsetWidth:this.panel2[0].offsetHeight,t[0].min=this.panels[0].min,t[1].min=this.panels[1].min,t[0].collapsible=this.panels[0].collapsible,t[1].collapsible=this.panels[1].collapsible,t[0].collapsed=this.panels[0].collapsed,t[1].collapsed=this.panels[1].collapsed,e.args.panels=t,this.host.trigger(e)}})}(jqxBaseFramework),!function(l){l.jqx.jqxWidget("jqxSwitchButton","",{}),l.extend(l.jqx._jqxSwitchButton.prototype,{defineInstance:function(){var e={disabled:!1,checked:!1,onLabel:"On",offLabel:"Off",toggleMode:"default",animationDuration:250,width:90,height:30,animationEnabled:!0,thumbSize:"40%",orientation:"horizontal",switchRatio:"50%",metroMode:!1,_isMouseDown:!1,rtl:!1,_dimensions:{horizontal:{size:"width",opSize:"height",oSize:"outerWidth",opOSize:"outerHeight",pos:"left",oPos:"top",opposite:"vertical"},vertical:{size:"height",opSize:"width",oSize:"outerHeight",opOSize:"outerWidth",pos:"top",oPos:"left",opposite:"horizontal"}},_touchEvents:{mousedown:"touchstart",click:"touchend",mouseup:"touchend",mousemove:"touchmove",mouseenter:"mouseenter",mouseleave:"mouseleave"},_borders:{},_isTouchDevice:!1,_distanceRequired:3,_isDistanceTraveled:!1,_thumb:void 0,_onLabel:void 0,_offLabel:void 0,_wrapper:void 0,_animationActive:!1,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},_events:["checked","unchecked","change"]};return this===l.jqx._jqxSwitchButton.prototype||l.extend(!0,this,e),e},createInstance:function(e){if(this._createFromInput(),this.element.nodeName&&("INPUT"==this.element.nodeName||"BUTTON"==this.element.nodeName))throw"jqxSwitchButton can be rendered only from a DIV tag.";this.host.attr("role","checkbox"),l.jqx.aria(this),this.render();var t=this;t.element.tabIndex||t.host.attr("tabindex",0),l.jqx.utilities.resize(this.host,function(){t.element.innerHTML="",t.render()})},_createFromInput:function(){var e,t,i,s=this;"input"==s.element.nodeName.toLowerCase()&&(s.field=s.element,s.field.className&&(s._className=s.field.className),e={title:s.field.title},s.field.value&&(e.value=s.field.value),s.field.checked&&(e.checked=!0),s.field.id.length?e.id=s.field.id.replace(/[^\w]/g,"_")+"_jqxSwitchButton":e.id=l.jqx.utilities.createId()+"_jqxSwitchButton",(t=l("<div></div>",e))[0].style.cssText=s.field.style.cssText,s.width||(s.width=l(s.field).width()),s.height||(s.height=l(s.field).outerHeight()),l(s.field).hide().after(t),i=s.host.data(),s.host=t,s.host.data(i),s.element=t[0],s.element.id=s.field.id,s.field.id=e.id,s._className&&(s.host.addClass(s._className),l(s.field).removeClass(s._className)),s.field.tabIndex&&(i=s.field.tabIndex,s.field.tabIndex=-1,s.element.tabIndex=i))},resize:function(e,t){this.width=e,this.height=t,this.render()},render:function(){this.innerHTML="",!this.theme||""==this.theme||-1==this.theme.indexOf("metro")&&-1==this.theme.indexOf("windowsphone")&&-1==this.theme.indexOf("office")||("40%"==this.thumbSize&&(this.thumbSize=12),this.metroMode=!0);var e=l.data(document.body,"jqx-switchbutton")||1,t=(this._idHandler(e),l.data(document.body,"jqx-draggables",++e),this._isTouchDevice=l.jqx.mobile.isTouchDevice(),this.switchRatio=parseInt(this.switchRatio,10),this._render(),this._addClasses(),this._performLayout(),this._removeEventHandlers(),this._addEventHandles(),this._disableSelection(),this);this.canRaiseEvents=!1,this.checked||this._switchButton(this.checked,0,!1),this.disabled&&(this.element.disabled=!0),setTimeout(function(){t.host.hide(),t.host.show(1)},250)},setOnLabel:function(e){this._onLabel.html('<div style="display: inline-block;">'+e+"</div>"),this._centerLabels()},setOffLabel:function(e){this._offLabel.html('<div style="display: inline-block;">'+e+"</div>"),this._centerLabels()},toggle:function(){this.checked?this.uncheck():this.check()},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e||("string"==typeof e?("true"==e&&this.check(),"false"==e&&this.uncheck(),""==e&&this.indeterminate()):(1==e&&this.check(),0==e&&this.uncheck(),null==e&&this.indeterminate())),this.checked},uncheck:function(){this._switchButton(!1),l.jqx.aria(this,"aria-checked",this.checked)},check:function(){this._switchButton(!0),l.jqx.aria(this,"aria-checked",this.checked)},_idHandler:function(e){this.element.id||(this.element.id="jqx-switchbutton-"+e)},_dir:function(e){return this._dimensions[this.orientation][e]},_getEvent:function(e){var t;return this._isTouchDevice?(t=this._touchEvents[e],l.jqx.mobile.getTouchEventName(t)):e},_render:function(){this._thumb=l("<div/>"),this._onLabel=l("<div/>"),this._offLabel=l("<div/>"),this._wrapper=l("<div/>"),this._onLabel.appendTo(this.host),this._thumb.appendTo(this.host),this._offLabel.appendTo(this.host),this.host.wrapInner(this._wrapper),this._wrapper=this.host.children(),this.setOnLabel(this.onLabel),this.setOffLabel(this.offLabel)},_addClasses:function(){var e=this._thumb,t=this._onLabel,i=this._offLabel;this.host.addClass(this.toThemeProperty("jqx-switchbutton")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._wrapper.addClass(this.toThemeProperty("jqx-switchbutton-wrapper")),e.addClass(this.toThemeProperty("jqx-fill-state-normal")),e.addClass(this.toThemeProperty("jqx-switchbutton-thumb")),t.addClass(this.toThemeProperty("jqx-switchbutton-label-on")),t.addClass(this.toThemeProperty("jqx-switchbutton-label")),i.addClass(this.toThemeProperty("jqx-switchbutton-label-off")),i.addClass(this.toThemeProperty("jqx-switchbutton-label")),this.checked?this.host.addClass(this.toThemeProperty("jqx-switchbutton-on")):this.host.removeClass(this.toThemeProperty("jqx-switchbutton-on"))},_performLayout:function(){var e,t=this.host,i=this._dir("opSize"),s=this._dir("size"),r=this._wrapper;t.css({width:this.width,height:this.height}),r.css(i,t[i]()),this._thumbLayout(),this._labelsLayout(),e=this._borders[this._dir("opposite")],r.css(s,t[s]()+this._offLabel[this._dir("oSize")]()+e),r.css(i,t[i]()),(this.metroMode||this.theme&&""!=this.theme&&(-1!=this.theme.indexOf("metro")||-1!=this.theme.indexOf("office")))&&(this._thumb,s=this._onLabel,e=this._offLabel,s.css("position","relative"),s.css("top","1px"),s.css("margin-left","1px"),e.css("position","relative"),e.css("top","1px"),e.css("left","-2px"),e.css("margin-right","1px"),e.height(s.height()-2),e.width(s.width()-3),s.height(s.height()-2),s.width(s.width()-3),this._thumb[this._dir("size")](this.thumbSize+3),this._thumb.css("top","-1px"),this._thumb[this._dir("opSize")](t[this._dir("opSize")]()+2),this._thumb.css("position","relative"),this.host.css("overflow","hidden"),this.checked?(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","hidden"),this._thumb.css("left","0px")):(this._onLabel.css("visibility","hidden"),this._offLabel.css("visibility","visible"),this._thumb.css("left","-2px")))},_thumbLayout:function(){var e=this.thumbSize,t=this.host;0<=e.toString().indexOf("%")&&(e=t[this._dir("size")]()*parseInt(e,10)/100),this._thumb[this._dir("size")](e),this._thumb[this._dir("opSize")](t[this._dir("opSize")]()),this._handleThumbBorders()},_handleThumbBorders:function(){this._borders.horizontal=parseInt(this._thumb.css("border-left-width"),10)||0,this._borders.horizontal+=parseInt(this._thumb.css("border-right-width"),10)||0,this._borders.vertical=parseInt(this._thumb.css("border-top-width"),10)||0,this._borders.vertical+=parseInt(this._thumb.css("border-bottom-width"),10)||0;var e=this._borders[this._dir("opposite")];"horizontal"===this.orientation?(this._thumb.css("margin-top",-e/2),this._thumb.css("margin-left",0)):(this._thumb.css("margin-left",-e/2),this._thumb.css("margin-top",0))},_labelsLayout:function(){var e=this.host,t=this._thumb,i=this._dir("opSize"),s=this._dir("size"),r=this._dir("oSize"),t=e[s]()-t[r](),r=this._borders[this._dir("opposite")]/2;this._onLabel[s](t+r),this._offLabel[s](t+r),this.rtl&&this._onLabel[s](t+2*r),this._onLabel[i](e[i]()),this._offLabel[i](e[i]()),this._orderLabels(),this._centerLabels()},_orderLabels:function(){var e;"horizontal"===this.orientation?(e="left",this.rtl&&(e="right"),this._onLabel.css("float",e),this._thumb.css("float",e),this._offLabel.css("float",e)):(this._onLabel.css("display","block"),this._offLabel.css("display","block"))},_centerLabels:function(){var e=this._onLabel.children("div"),t=this._offLabel.children("div"),i=e.parent().height(),s=e.outerHeight(),r=this._borders[this.orientation]/2||0,i=(0==s&&(s=14),Math.floor((i-s)/2)+r);e.css("margin-top",i),t.css("margin-top",i)},_removeEventHandlers:function(){var e="."+this.element.id;this.removeHandler(this._wrapper,this._getEvent("click")+e,this._clickHandle),this.removeHandler(this._thumb,this._getEvent("mousedown")+e,this._mouseDown),this.removeHandler(l(document),this._getEvent("mouseup")+e,this._mouseUp),this.removeHandler(l(document),this._getEvent("mousemove")+e,this._mouseMove),this.removeHandler(this._thumb,"mouseenter"+e),this.removeHandler(this._thumb,"mouseleave"+e),this.removeHandler(this._wrapper,"focus"+e),this.removeHandler(this._wrapper,"blur"+e)},_addEventHandles:function(){var e="."+this.element.id,t=this;this.addHandler(this.host,"focus"+e,function(e){return t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),!1}),this.addHandler(this.host,"blur"+e,function(){t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._thumb,"mouseenter"+e,function(){t._thumb.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._thumb,"mouseleave"+e,function(){t._thumb.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._wrapper,this._getEvent("click")+e,this._clickHandle,{self:this}),this.addHandler(this._thumb,this._getEvent("mousedown")+e,this._mouseDown,{self:this}),this.addHandler(l(document),this._getEvent("mouseup")+e,this._mouseUp,{self:this}),this.addHandler(l(document),this._getEvent("mousemove")+e,this._mouseMove,{self:this})},enable:function(){this.disabled=!1,this.element.disabled=!1,l.jqx.aria(this,"aria-disabled",this.disabled)},disable:function(){this.disabled=!0,this.element.disabled=!0,l.jqx.aria(this,"aria-disabled",this.disabled)},_clickHandle:function(e){var t=e.data.self;"click"!==t.toggleMode&&"default"!==t.toggleMode||t.disabled||t._isDistanceTraveled||t._dragged||(t._wrapper.stop(),t.changeType="mouse",t.toggle(),setTimeout(function(){t.changeType=""},300)),t._thumb.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))},_mouseDown:function(e){var t=e.data.self,i=t._wrapper;t.metroMode&&(t.host.css("overflow","hidden"),t._onLabel.css("visibility","visible"),t._offLabel.css("visibility","visible")),t._mouseStartPosition=t._getMouseCoordinates(e),t._buttonStartPosition={left:parseInt(i.css("margin-left"),10)||0,top:parseInt(i.css("margin-top"),10)||0},t.disabled||"slide"!==t.toggleMode&&"default"!==t.toggleMode||(t._wrapper.stop(),t._isMouseDown=!0,t._isDistanceTraveled=!1,t._dragged=!1),t._thumb.addClass(t.toThemeProperty("jqx-fill-state-pressed"))},_mouseUp:function(e){var t,e=e.data.self;e.metroMode,e._isMouseDown=!1,e._thumb.removeClass(e.toThemeProperty("jqx-fill-state-pressed")),e._isDistanceTraveled&&(t=e._wrapper,t=parseInt(t.css("margin-"+e._dir("pos")),10)||0,e._dropHandler(t)?e._switchButton(!e.checked):e._switchButton(e.checked,null,!0),e._isDistanceTraveled=!1)},_mouseMove:function(e){var t,i,s=e.data.self,e=s._getMouseCoordinates(e);if(s._isMouseDown&&s._distanceTraveled(e))return t=s._dir("pos"),i=s._wrapper,e=s._buttonStartPosition[t]+e[t]-s._mouseStartPosition[t],e=s._validatePosition(e),s._dragged=!0,i.css("margin-"+s._dir("pos"),e),s._onLabel.css("visibility","visible"),s._offLabel.css("visibility","visible"),!1},_distanceTraveled:function(e){var t,i;return!!this._isDistanceTraveled||!!this._isMouseDown&&(t=this._mouseStartPosition,i=this._distanceRequired,this._isDistanceTraveled=Math.abs(e.left-t.left)>=i||Math.abs(e.top-t.top)>=i,this._isDistanceTraveled)},_validatePosition:function(e){var t=this._borders[this._dir("opposite")],t=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]())-t;return 0<e?0:e<t?t:e},_dropHandler:function(e){var t=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()),t=Math.abs(t),e=Math.abs(e-this._buttonStartPosition[this._dir("pos")]);return t*(this.switchRatio/100)<=e},_switchButton:function(e,t,i){this.metroMode?(this.host.css("overflow","hidden"),this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"),e?this._thumb.css("left","0px"):this._thumb.css("left","-2px")):(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"));var s=this._wrapper,r=this,n={},o=this._borders[this._dir("opposite")],a=0;void 0===t&&(t=this.animationEnabled?this.animationDuration:0),this.rtl?e?(a=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+o,this.metroMode&&(a+=5)):this.metroMode&&(a-=3):e||(a=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+o),n["margin-"+this._dir("pos")]=-a,e?r.host.addClass(r.toThemeProperty("jqx-switchbutton-on")):r.host.removeClass(r.toThemeProperty("jqx-switchbutton-on")),s.animate(n,t,function(){e?(r._onLabel.css("visibility","visible"),r._offLabel.css("visibility","hidden")):(r._onLabel.css("visibility","hidden"),r._offLabel.css("visibility","visible")),e!==r.checked&&(r._raiseEvent(2,{changeType:r.changeType,check:r.checked,checked:r.checked}),r.changeType=null),r.checked=e,i||r._handleEvent(e)})},_handleEvent:function(e){void 0===this.changeType&&(this.changeType=null),e!==this.checked&&this._raiseEvent(2,{changeType:this.changeType,check:this.checked,checked:this.checked}),e?this._raiseEvent(0,{changeType:this.changeType,checked:this.checked}):this._raiseEvent(1,{changeType:this.changeType,checked:this.checked})},_disableSelection:function(){var e=this.host.find("*");l.each(e,function(e,t){t.onselectstart=function(){return!1},l(t).addClass("jqx-disableselect")})},_getMouseCoordinates:function(e){return this._isTouchDevice&&e.originalEvent.touches?{left:e.originalEvent.touches[0].pageX,top:e.originalEvent.touches[0].pageY}:{left:e.pageX,top:e.pageY}},destroy:function(){this._removeEventHandlers(),this.host.removeClass(this.toThemeProperty("jqx-switchbutton")),this._wrapper.remove()},_raiseEvent:function(e,t){e=l.Event(this._events[e]);return e.args=t,this.host.trigger(e)},_themeChanger:function(e,t,i){if(e){for(var s=(i=void 0===i?this.host:i)[0].className.split(" "),r=[],n=[],o=i.children(),a=0;a<s.length;a+=1)0<=s[a].indexOf(e)&&(r.push(s[a]),n.push(s[a].replace(e,t)));this._removeOldClasses(r,i),this._addNewClasses(n,i);for(a=0;a<o.length;a+=1)this._themeChanger(e,t,l(o[a]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e._wrapper.css("margin-left","0px"),e._wrapper.css("margin-top","0px"),e._performLayout(),e._wrapper.css("left","0px"),e._wrapper.css("top","0px"),e._switchButton(this.checked,0,!0))},propertyChangedHandler:function(e,t,i,s){if(!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length))switch(t){case"disabled":s?e.disable():e.enable();break;case"switchRatio":e.switchRatio=parseInt(e.switchRatio,10);break;case"checked":s?e.check():e.uncheck();break;case"onLabel":e.setOnLabel(s);break;case"offLabel":e.setOffLabel(s);break;case"theme":l.jqx.utilities.setTheme(i,s,e.host);break;case"width":case"height":case"thumbSize":case"orientation":e._wrapper.css("margin-left","0px"),e._wrapper.css("margin-top","0px"),e._performLayout(),e._wrapper.css("left","0px"),e._wrapper.css("top","0px"),e._switchButton(this.checked,0,!0)}}})}(jqxBaseFramework),!function(h){h.jqx.jqxWidget("jqxTabs","",{}),h.extend(h.jqx._jqxTabs.prototype,{defineInstance:function(){var e={scrollAnimationDuration:200,enabledHover:!0,disabled:!1,collapsible:!1,animationType:"none",enableScrollAnimation:!0,contentTransitionDuration:450,toggleMode:"click",selectedItem:0,height:"auto",width:"auto",position:"top",selectionTracker:!1,scrollable:!0,scrollPosition:"right",scrollStep:70,autoHeight:!0,headerHeight:null,showCloseButtons:!1,canCloseAllTabs:!0,closeButtonSize:16,arrowButtonSize:16,keyboardNavigation:!0,reorder:!1,selectionTrackerAnimationDuration:300,_isTouchDevice:!1,roundedCorners:!0,_headerExpandingBalance:0,_dragStarted:!1,_tabCaptured:!1,_lastUnorderedListPosition:0,_selectedItem:0,_titleList:[],_contentList:[],_contentWrapper:null,_unorderedList:null,_scrollTimeout:null,isCollapsed:!1,touchMode:!1,initTabContent:null,enableDropAnimation:!1,_currentEvent:null,_needScroll:!0,_isAnimated:{},_events:["created","selected","add","removed","enabled","disabled","selecting","unselecting","unselected","dragStart","dragEnd","locked","unlocked","collapsed","expanded","tabclick"],_initTabContentList:[],_invalidArgumentExceptions:{invalidScrollAnimationDuration:"The scroll animation duration is not valid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidAnimationType:"You've entered invalid animation type!",invalidcontentTransitionDuration:"You've entered invalid value for contentTransitionDuration!",invalidToggleMode:"You've entered invalid value for toggleMode!",invalidPosition:"You've entered invalid position!",invalidScrollPosition:"You've entered invalid scroll position!",invalidScrollStep:"You've entered invalid scroll step!",invalidStructure:"Invalid structure!",invalidArrowSize:"Invalid scroll button size!",invalidCloseSize:"Invalid close button size!"},aria:{"aria-disabled":{name:"disabled",type:"boolean"}},rtl:!1};return this===h.jqx._jqxTabs.prototype||h.extend(!0,this,e),e},createInstance:function(){this._IE8=h.jqx.browser.msie&&h.jqx.browser.version<9,h.jqx.aria(this),this.element.className+=" "+this.toThemeProperty("jqx-tabs jqx-widget jqx-widget-content"),this.element.setAttribute("role","tablist");for(var e=this.host.children(),t=0;t<e.length;t++){var i=e[t];"ul"===i.nodeName.toLowerCase()?this._unorderedList=i:"div"===i.nodeName.toLowerCase()&&this._contentList.push(i)}this._unorderedListHelper=h(this._unorderedList),this._unorderedListHelper.initAnimate&&this._unorderedListHelper.initAnimate(),this._closeButtonList=[],this._selectedItem=this.selectedItem,this._isTouchDevice=h.jqx.mobile.isTouchDevice(),this._needScroll=this.scrollable,this.selectionTracker&&(this.selectionTracker=this._seletionTrackerBrowserCheck()),this._isTouchDevice&&(this.reorder=!1,this.keyboardNavigation=!1),this._titleList=this._unorderedListHelper.children();for(var s=this._titleList.length;s;)this._titleList[--s]&&(this._titleList[s].setAttribute("role","tab"),this._titleList[s].getAttribute("id")||this._titleList[s].setAttribute("id",this.element.id+"Tab"+s),this._contentList[s].setAttribute("role","tabpanel"));this._validateProperties(),this._refresh(),this._moveSelectionTrack(this._selectedItem,0),this.disabled&&this.disable(),this.element.tabIndex=0,this._raiseEvent(0),this._enableWindowResize()},_hiddenParent:function(){if("none"===this.host.css("display"))return!0;var e=!1;return h.each(this.host.parents(),function(){if("none"===h(this).css("display"))return!(e=!0)}),e},_enableWindowResize:function(){var e=this,t=h.jqx.isHidden(e.host);h.jqx.utilities.resize(this.host,function(){t?(e._uiRefresh(!0),t=!1):e.refresh(),e._refreshBarPosition()})},resize:function(e,t){this.width=e,this.height=t;e=h.jqx.isHidden(this.host);e?this._uiRefresh(!0):this.refresh()},refresh:function(e){!0===e&&void 0!==e||this._setSize()},_seletionTrackerBrowserCheck:function(){var e="Browser CodeName: "+navigator.appCodeName;return-1===(e=(e=(e=(e+="Browser Name: "+navigator.appName)+("Browser Version: "+navigator.appVersion))+("Platform: "+navigator.platform))+("User-agent header: "+navigator.userAgent)).indexOf("IEMobile")&&(-1===e.indexOf("Windows Phone OS")&&!(h.jqx.browser.msie&&h.jqx.browser.version<=7))},render:function(){this._refresh()},_uiRefresh:function(e){this._unorderedListLeftBackup=this._unorderedListHelper.css("left"),e&&this._render(),this._addStyles(),this._performLayout(),this._prepareTabs(),this._removeEventHandlers(),this._addEventHandlers(),"auto"===this._unorderedListLeftBackup&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()),this._unorderedList.style.left=this._toPx(this._unorderedListLeftBackup),this.rtl&&this.scrollable&&this._rightArrow&&"hidden"!==h(this._rightArrow).css("visibility")&&(e=2*this.arrowButtonSize,e=this._width(this.element)-parseInt(this._width(this._unorderedList)+e+parseInt(this._unorderedListHelper.css("margin-left"),10),10),this._unorderedList.style.left=e+"px");var t=this;setTimeout(function(){t._performLayout()},100)},_refresh:function(){h.jqx.isHidden(this.host)||(this._uiRefresh(!0),this.host.addClass("jqx-tabs-header-position-"+this.position))},_addStyles:function(){this._unorderedList.className+=" "+this.toThemeProperty("jqx-tabs-title-container"),this._unorderedList.style.outline="none",this._unorderedList.style.whiteSpace="nowrap",this._unorderedList.style.marginTop="0px",this._unorderedList.style.marginBottom="0px",this._unorderedList.style.padding="0px",this._unorderedList.style.background="transparent",this._unorderedList.style.border="none",this._unorderedList.style.borderStyle="none",this._unorderedList.style.textIndent="0px";for(var e=this.length();e;){e--;var t=this._titleList[e],i="jqx-tabs-title jqx-item";switch(t.style.padding="","bottom"===this.position&&(i+=" jqx-tabs-title-bottom"),t.disabled&&(i+=" jqx-tabs-title-disable jqx-fill-state-disabled"),this.position){case"top":i+=" jqx-rc-t",this._removeClass(this._contentList[e],this.toThemeProperty("jqx-rc-t")),this._contentList[e].className+=" "+this.toThemeProperty("jqx-rc-b");break;case"bottom":i+=" jqx-rc-b",this._removeClass(this._contentList[e],this.toThemeProperty("jqx-rc-b")),this._contentList[e].className+=" "+this.toThemeProperty("jqx-rc-t")}t.className="jqx-reset jqx-disableselect "+this.toThemeProperty(i)}if(this.selectionTracker)switch(this.position){case"top":this._removeClass(this._selectionTracker,this.toThemeProperty("jqx-rc-b")),this._selectionTracker.className+=" "+this.toThemeProperty("jqx-rc-t");break;case"bottom":this._removeClass(this._selectionTracker,this.toThemeProperty("jqx-rc-t")),this._selectionTracker.className+=" "+this.toThemeProperty("jqx-rc-b")}},_raiseEvent:function(e,t){var i=new h.Event(this._events[e]),t=(i.owner=this,i.args=t,6!==e&&7!==e||(i.cancel=!1,this._currentEvent=i),"");try{var s,r,n,t=this.host.trigger(i);1===e&&((s=this).selectionTracker||"none"!==this.animationType?setTimeout(function(){s._initTabContentList[s.selectedItem]||s.initTabContent&&(s.initTabContent(s.selectedItem),s._initTabContentList[s.selectedItem]=!0);var e=new h.Event("loadContent");e.owner=this,0<s._contentList.length&&s._contentList[s.selectedItem]&&h(s._contentList[s.selectedItem]).trigger(e)},50+s.selectionTrackerAnimationDuration):(r=new h.Event("loadContent"),s._initTabContentList[s.selectedItem]||s.initTabContent&&(s.initTabContent(s.selectedItem),s._initTabContentList[s.selectedItem]=!0),r.owner=this,n=new h.Event("resize"),this.host.trigger(n)))}catch(e){e&&console&&console.log(e)}return t},_getArrowsDisplacement:function(){if(!this._needScroll)return 0;var e=this.arrowButtonSize,t=this.arrowButtonSize,t="left"===this.scrollPosition?e+t:"both"===this.scrollPosition?e:0;return t},_scrollRight:function(e){this._stop(this._unorderedListHelper),this._unlockAnimation("unorderedList");var t,i,s=parseInt(this._width(this._unorderedList)+parseInt(this._unorderedListHelper.css("margin-left"),10),10),r=this._width(this.element),n=parseInt(this._unorderedListHelper.css("left"),10),o=this._getArrowsDisplacement(),a=0,l=this.scrollable?(t=this._leftArrow.offsetWidth,this._rightArrow.offsetWidth):t=0;e=this.enableScrollAnimation?e:0,this._width(this._headerWrapper)>parseInt(this._unorderedListHelper.css("margin-left"),10)+this._width(this._unorderedList)?a=o:Math.abs(n)+this.scrollStep<Math.abs(r-s)+t+l+o?(a=n-this.scrollStep,i=n-this.scrollStep+parseInt(h(this._titleList[this._selectedItem]).position().left,10)):(a=r-s-(2*this.arrowButtonSize-o))<parseInt(this._unorderedListHelper.css("left"),10)-4&&a>parseInt(this._unorderedListHelper.css("left"),10)+4&&(i=r-s-t-l+parseInt(h(this._titleList[this._selectedItem]).position().left,10)),this._performScrollAnimation(a,i,e)},_scrollLeft:function(e){this._stop(this._unorderedListHelper),this._unlockAnimation("unorderedList");var t,i=parseInt(this._unorderedListHelper.css("left"),10),s=this._getArrowsDisplacement(),r=0;e=this.enableScrollAnimation?e:0,this._width(this._headerWrapper)>=this._width(this._unorderedList)?r=s:i+this.scrollStep<s?(r=i+this.scrollStep,t=i+this.scrollStep+parseInt(h(this._titleList[this._selectedItem]).position().left,10)):(r=s)<parseInt(this._unorderedListHelper.css("left"),10)-4&&r>parseInt(this._unorderedListHelper.css("left"),10)+4&&(t=parseInt(h(this._titleList[this._selectedItem]).position().left,10)),this._performScrollAnimation(r,t,e)},_performScrollAnimation:function(e,t,i){var s=this;void 0!==t&&this._moveSelectionTrack(this._selectedItem,0,t),this._lockAnimation("unorderedList"),s._refreshBarPosition(),this._unorderedListHelper.animate({left:e},i,function(){s._moveSelectionTrack(s.selectedItem,0),s._unlockAnimation("unorderedList"),s._refreshBarPosition()})},_addKeyboardHandlers:function(){var s=this;this.keyboardNavigation&&this.addHandler(this.host,"keydown",function(e){if(!s._activeAnimation()){var t=s._selectedItem,i=s.selectionTracker,t=s.getContentAt(t);if(h(e.target).ischildof(t))return!0;if(h(document.activeElement).ischildof(h(t)))return!0;switch(e.keyCode){case 37:return s.rtl?s.next():s.previous(),!1;case 39:return s.rtl?s.previous():s.next(),!1;case 36:return s.first(),!1;case 35:return s.last(),!1;case 27:s._tabCaptured&&(s._cancelClick=!0,s._uncapture(null,s.selectedItem),s._tabCaptured=!1)}s.selectionTracker=i}return!0})},_addScrollHandlers:function(){var e=this;this.addHandler(this._leftArrow,"mousedown",function(){e._startScrollRepeat(!0,e.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mousedown",function(){e._startScrollRepeat(!1,e.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mouseleave",function(){clearTimeout(e._scrollTimeout)}),this.addHandler(this._leftArrow,"mouseleave",function(){clearTimeout(e._scrollTimeout)}),this.addHandler(h(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler,this),this.addHandler(h(document),"mouseleave.tab"+this.element.id,this._mouseLeaveScrollDocumentHandler,this)},_mouseLeaveScrollDocumentHandler:function(e){e=e.data;e._scrollTimeout&&clearTimeout(e._scrollTimeout)},_mouseUpScrollDocumentHandler:function(e){e=e.data;clearTimeout(e._scrollTimeout)},_mouseUpDragDocumentHandler:function(e){var t=e.data;t._tabCaptured&&t._dragStarted&&t._uncapture(e),t._tabCaptured=!1},_addReorderHandlers:function(){this.addHandler(h(document),"mousemove.tab"+this.element.id,this._moveElement,this),this.addHandler(h(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler,this)},_addEventHandlers:function(){for(var e=this.length();e;)this._addEventListenerAt(--e);this.keyboardNavigation&&this._addKeyboardHandlers(),this.scrollable&&this._addScrollHandlers(),this.reorder&&!this._isTouchDevice&&this._addReorderHandlers();var t,i=this;try{""===document.referrer&&!window.frameElement||null===window.top||window.top===window.self||(t=null,(t=window.parent&&document.referrer?document.referrer:t)&&-1!==t.indexOf(document.location.host)&&window.top.document&&this.addHandler(h(window.top.document),"mouseup.tabs"+this.element.id,function(){i._tabCaptured&&(i._cancelClick=!0,i._uncapture(null,i.selectedItem),i._tabCaptured=!1)}))}catch(e){}},focus:function(){try{this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(e){}},_getFocusedItem:function(e){for(var t=this.length();t;){t--;var i=this._titleList[t],s=this._outerWidth(i,!0),r=parseInt(h(i).offset().left,10);if(r<=e&&e<=r+s&&i!==this._capturedElement&&!this._titleList[t].locked&&!0!==this._titleList[t].disabled)return t}return-1},_uncapture:function(e){var t,i=this.selectionTracker,s=(this._unorderedListLeftBackup=this._unorderedListHelper.css("left"),this._dragStarted=!1,this._tabCaptured=!1,this._indexOf(this._capturedElement));if(this._capturedElement){switch(this.position){case"top":this._capturedElement.style.bottom="0px";break;case"bottom":this._capturedElement.style.top="0px"}-1!==(t=e?this._getFocusedItem(e.clientX):t)&&e?(this._raiseEvent(10,{item:s,dropIndex:t}),this._reorderItems(t,s)):this._capturedElement.style.left="0px";for(var r=0;r<this._titleList.length;r++)this._titleList[r].style.position="static";this._reorderHeaderElements(),this._unorderedList.style.position="relative",this._unorderedList.style.top="0px",this._prepareTabs(),-1!==t&&e?this._moveSelectionTrack(this._selectedItem,0):(this._selectedItem=s,this._moveSelectionTrack(s,0)),this._addSelectStyle(this._selectedItem,!0),document.selection&&document.selection.clear(),this._unorderedList.style.left=this._toPx(this._unorderedListLeftBackup),this.selectionTracker=i}},_reorderItems:function(e,t){var i=this._titleList[this.selectedItem],s=this._titleList[t];void 0===this._capturedElement&&(this._capturedElement=s),h(s).remove(),t<e?this._titleList[e+1]?this._unorderedList.insertBefore(s,this._titleList[e+1]):this._unorderedList.appendChild(s):this._unorderedList.insertBefore(s,this._titleList[e]),this._reorderElementArrays(e,t),this._getSelectedItem(i),this._removeEventHandlers(),this._addEventHandlers()},_reorderElementArrays:function(e,t){var i=this._contentList[t];if(t<e){for(var s=t;s<=e;s++)this._titleList[s]=this._titleList[s+1],this._contentList[s]=this._contentList[s+1];this._contentList[e]=i,this._titleList[e]=this._capturedElement}else{for(var r=t;e<=r;r--)this._titleList[r]=this._titleList[r-1],this._contentList[r]=this._contentList[r-1];this._contentList[e]=i,this._titleList[e]=this._capturedElement}},getSelectedItem:function(){return this.selectedItem},_getSelectedItem:function(e){for(var t=this.length();t;)if(this._titleList[--t]===e){this._selectedItem=this.selectedItem=t;break}},_moveElement:function(e){var t,i=e.data;i._tabCaptured&&(document.selection&&document.selection.clear(),i._dragStarted?(i._performDrag(e),clearTimeout(i._scrollTimeout)):(t=-parseInt(i._unorderedListHelper.css("left"),10),(e.clientX+t>i._startX+3||e.clientX+t<i._startX-3)&&(i._prepareTabForDragging(),i._dragStarted=!0)))},_performDrag:function(e){var t=this.getZoomFactor(),i=-parseInt(this._unorderedListHelper.css("left"),10);this._capturedElement.style.left=this._toPx(i+e.clientX/t-this._startX/t),this._lastX=e.clientX/t,this._moveSelectionTrack(this.selectedItem,0)},getZoomFactor:function(){var e,t,i=1;return document.body.getBoundingClientRect&&(e=(e=document.body.getBoundingClientRect()).right-e.left,t=document.body.offsetWidth,i=Math.round(e/t*100)/100),i},_prepareTabForDragging:function(){switch(this._capturedElement.style.position="relative",this._capturedElement.style.left="0px",this._capturedElement.style.top="0px",this._capturedElement.style.zIndex=300,this.selectedItem=this._indexOf(this._capturedElement),this.position){case"top":this._capturedElement.style.bottom=this._toPx(h(this._capturedElement).css("top"));break;case"bottom":this._capturedElement.style.top=this._toPx(h(this._capturedElement).css("top"))}this._raiseEvent(9,{item:this._indexOf(this._capturedElement)})},_dragScroll:function(e){var t=parseInt(this._unorderedListHelper.css("left"),10),i=this,s=h(i._headerWrapper);e.clientX<=s.offset().left?(this._scrollLeft(this.scrollAnimationDuration),this._capturedElement.style.left=parseInt(h(this._capturedElement).css("left"),10)+this._lastUnorderedListPosition-t):e.clientX>s.offset().left+i._width(this._headerWrapper)?(this._scrollRight(this.scrollAnimationDuration),this._capturedElement.style.left=parseInt(h(this._capturedElement).css("left"),10)+this._lastUnorderedListPosition-t):(i._stop(i._unorderedListHelper),this._unlockAnimation("unorderedList"),clearTimeout(this._scrollTimeout)),this._scrollTimeout=setTimeout(function(){i._dragScroll(e)},this.scrollAnimationDuration),this._lastUnorderedListPosition=t},_captureElement:function(e,t){var i;this._tabCaptured||this._titleList[t].locked||!0===this._titleList[t].disabled||this._activeAnimation()||(i=-parseInt(this._unorderedListHelper.css("left"),10),this._startX=i+e.clientX,this._startY=e.clientY,this._lastX=e.clientX,this._lastY=e.clientY,this._tabCaptured=!0,this._capturedElement=this._titleList[t])},_titleInteractionTrigger:function(e){0<this._headerExpandingBalance&&this._removeOppositeBorder(),this._selectedItem!==e?(this.select(this._titleList[e],"toggle"),this._titleList[e].collapsed=!1,this.collapsible||("auto"!==this.height?this._contentWrapper.style.visibility="visible":this._contentWrapper.style.display="block")):this.collapsible&&(this.isCollapsed?this.expand():this.collapse())},collapse:function(){var e=this._selectedItem;this.isCollapsed=!0,"auto"!==this.height?this._contentWrapper.style.visibility="hidden":this._contentWrapper.style.display="none",this._raiseEvent(13,{item:e}),"top"===this.position?(this._headerWrapper.className+=" "+this.toThemeProperty("jqx-tabs-header-collapsed"),this.element.className+=" "+this.toThemeProperty("jqx-tabs-collapsed")):(this._headerWrapper.className+=" "+this.toThemeProperty("jqx-tabs-header-collapsed-bottom"),this.element.className+=" "+this.toThemeProperty("jqx-tabs-collapsed-bottom"))},expand:function(){var e=this._selectedItem,t=this;this.isCollapsed=!1,this._select(e,t.contentTransitionDuration,null,!1,!0),"auto"!==t.height?t._contentWrapper.style.visibility="visible":t._contentWrapper.style.display="block",t._raiseEvent(14,{item:e}),"top"===this.position?(t._removeClass(t._headerWrapper,t.toThemeProperty("jqx-tabs-header-collapsed")),t._removeClass(t.element,t.toThemeProperty("jqx-tabs-collapsed"))):(t._removeClass(t._headerWrapper,t.toThemeProperty("jqx-tabs-header-collapsed-bottom")),t._removeClass(t.element,t.toThemeProperty("jqx-tabs-collapsed-bottom")))},_addSelectHandler:function(e){var t,i=this;this.addHandler(this._titleList[e],"selectstart",function(){return!1}),this.addHandler(this._titleList[e],this.toggleMode,(t=e,function(){return i._raiseEvent("15",{item:t}),i._tabCaptured||i._cancelClick||i._titleInteractionTrigger(t),!0}))},_addDragDropHandlers:function(t){var i=this;this.addHandler(this._titleList[t],"mousedown",function(e){i._captureElement(e,t)}),this.addHandler(this._titleList[t],"mouseup",function(e){return i._tabCaptured&&i._dragStarted?(i._cancelClick=!0,i._uncapture(e,t)):i._cancelClick=!1,i._tabCaptured=!1})},_removeHoverStates:function(){var e=this;h.each(this._titleList,function(){e._removeClass(this,e.toThemeProperty("jqx-tabs-title-hover-top jqx-tabs-title-hover-bottom"))})},_addHoverHandlers:function(i){var s=this,r=this._titleList[i];this.addHandler(r,"mouseenter mouseleave",function(e){var t;i!==s._selectedItem&&(t="jqx-fill-state-hover","top"===s.position?t+=" jqx-tabs-title-hover-top":t+=" jqx-tabs-title-hover-bottom","mouseenter"===e.type?r.className+=" "+s.toThemeProperty(t):s._removeClass(r,s.toThemeProperty(t)),s.showCloseButtons&&(t=s._closeButtonList[i],"mouseenter"===e.type?t.className+=" "+s.toThemeProperty("jqx-tabs-close-button-hover",!0):s._removeClass(t,s.toThemeProperty("jqx-tabs-close-button-hover",!0))))})},_addEventListenerAt:function(e){var t=this;this._titleList[e].disabled||(this.reorder&&!this._isTouchDevice&&this._addDragDropHandlers(e),this._addSelectHandler(e),this.enabledHover&&this._addHoverHandlers(e),e=t._closeButtonList[e],this.removeHandler(e,"click"),this.addHandler(e,"click",function(){var e=h(this).parents("li").index();return t.removeAt(e),!1}))},_removeEventHandlers:function(){for(var e=this,t=e.length();t;)e._removeEventListenerAt(--t);e.scrollable&&(e.removeHandler(e._leftArrow,"mousedown"),e.removeHandler(e._rightArrow,"mousedown")),e.removeHandler(h(document),"mousemove.tab"+e.element.id,e._moveElement),e.removeHandler(h(document),"mouseup.tab"+e.element.id,e._mouseUpScrollDocumentHandler),e.removeHandler(h(document),"mouseup.tab"+e.element.id,e._mouseUpDragDocumentHandler),e.removeHandler(e.host,"keydown")},_removeEventListenerAt:function(e){var t=this;t.removeHandler(t._titleList[e],t.toggleMode),t.removeHandler(t._titleList[e],"mouseenter"),t.removeHandler(t._titleList[e],"mouseleave"),t.removeHandler(t._titleList[e],"mousedown"),t.removeHandler(t._titleList[e],"mouseup"),t.removeHandler(t._closeButtonList[e],"click")},_moveSelectionTrack:function(e,t,i){var s,r,n,o,a,l,d=this;-1===e||0===this._titleList.length||e>=this._titleList.length||(s=this._titleList[e],l=h(s),d._refreshBarPosition(),this.selectionTracker&&this._selectionTracker&&(d._stop(d._selectionTrackerHelper),this._unlockAnimation("selectionTracker"),void 0===i?(r=parseInt(l.position().left,10),isNaN(parseInt(this._unorderedListHelper.css("left"),10))||(r+=parseInt(this._unorderedListHelper.css("left"),10)),isNaN(parseInt(this._unorderedListHelper.css("margin-left"),10))||(r+=parseInt(this._unorderedListHelper.css("margin-left"),10)),isNaN(parseInt(l.css("margin-left"),10))||(r+=parseInt(l.css("margin-left"),10)),isNaN(parseInt(l.css("margin-right"),10))):r=i,"top"===this.position&&(this._height(d._headerWrapper),s.offsetHeight,this.autoHeight||parseInt(l.css("margin-top"),10)),this._lockAnimation("selectionTracker"),i=parseInt(l.css("padding-left"),10)+parseInt(l.css("padding-right"),10),n="top"===this.position?0:1,o=parseInt(h(this._headerWrapper).css("padding-top"),10),a=parseInt(l.css("padding-top"),10)+parseInt(l.css("padding-bottom"),10),this._selectionTracker.style.visibility="visible",this._moveSelectionTrackerContainer.style.visibility="visible",l=parseInt(l.css("margin-top"),10),isNaN(l)&&(l=0),d._refreshBarPosition(),d._selectionTrackerHelper.animate({top:o+l-n,left:r+"px",height:parseInt(this._height(s)+a,10),width:d._width(s)+i},t,function(){d._unlockAnimation("selectionTracker"),d._selectionTracker.style.visibility="hidden",d._addSelectStyle(e,!0),d._moveSelectionTrackerContainer.style.visibility="hidden"})))},destroy:function(){h.jqx.utilities.resize(this.host,null,!0),""==document.referrer&&!window.frameElement||null==window.top||window.top==window.self||this.removeHandler(h(window.top.document),"mouseup.tabs"+this.element.id),this.host.remove()},_switchTabs:function(e,t){return e!==t&&!this._activeAnimation()&&!this._tabCaptured&&(this._raiseEvent(7,{item:t}),this._raiseEvent(6,{item:e}),this._currentEvent&&this._currentEvent.cancel?void(this._currentEvent=null):(this._unselect(t,null,!0),this._select(e,this.contentTransitionDuration,null,!0),!0))},_activeAnimation:function(){for(var e in this._isAnimated)if(this._isAnimated.hasOwnProperty(e)&&this._isAnimated[e])return!0;return!1},_indexOf:function(e){for(var t=this.length();t;)if(this._titleList[--t]===e||this._contentList[t]===e)return t;return-1},_validateProperties:function(){try{if(this.scrollAnimationDuration<0||isNaN(this.scrollAnimationDuration))throw new Error(this._invalidArgumentExceptions.invalidScrollAnimationDuration);if(parseInt(this.width,10)<0&&"auto"!==this.width)throw new Error(this._invalidArgumentExceptions.invalidWidth);if(parseInt(this.height,10)<0&&"auto"!==this.height)throw new Error(this._invalidArgumentExceptions.invalidHeight);if("none"!==this.animationType&&"fade"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(this.contentTransitionDuration<0||isNaN(this.contentTransitionDuration))throw new Error(this._invalidArgumentExceptions.invalidcontentTransitionDuration);if("click"!==this.toggleMode&&"dblclick"!==this.toggleMode&&"mouseenter"!==this.toggleMode&&"none"!==this.toggleMode)throw new Error(this._invalidArgumentExceptions.invalidToggleMode);if("top"!==this.position&&"bottom"!==this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if("left"!==this.scrollPosition&&"right"!==this.scrollPosition&&"both"!==this.scrollPosition)throw new Error(this._invalidArgumentExceptions.invalidScrollPosition);if(this.scrollStep<0||isNaN(this.scrollStep))throw new Error(this._invalidArgumentExceptions.invalidScrollStep);if(this._titleList.length!==this._contentList.length||0===this._titleList.length)throw new Error(this._invalidArgumentExceptions.invalidStructure);if(this.arrowButtonSize<0||isNaN(this.arrowButtonSize))throw new Error(this._invalidArgumentExceptions.invalidArrowSize);if(this.closeButtonSize<0||isNaN(this.closeButtonSize))throw new Error(this._invalidArgumentExceptions.invalidCloseSize)}catch(e){try{console.log(e)}catch(e){}}},_startScrollRepeat:function(e,t){var i=this;e?this._scrollLeft(t):this._scrollRight(t),this._scrollTimeout&&clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout(function(){i._startScrollRepeat(e,i.scrollAnimationDuration)},t)},_performLayout:function(){for(var e=this.length();e;)e--,"top"!==this.position&&"bottom"!==this.position||(this.rtl?this._titleList[e].style.float="right":this._titleList[e].style.float="left");this._fitToSize(),this._performHeaderLayout(),this._fitToSize()},updatetabsheader:function(){this._performHeaderLayout()},_setSize:function(){var e=this;e._fitToSize(),e._positionArrows(e._totalItemsWidth),e._totalItemsWidth>e.element.offsetWidth?e._unorderedList.style.width=e._toPx(e._totalItemsWidth):e._unorderedList.style.width=e.element.offsetWidth-2+"px",e._fitToSize()},_addArrows:function(){this._leftArrow&&this._rightArrow&&(h(this._leftArrow).remove(),h(this._rightArrow).remove()),this._leftArrow=document.createElement("div"),this._leftArrow.innerHTML='<span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-left")+'"></span>',this._leftArrow.className=this.toThemeProperty("jqx-tabs-arrow-background jqx-widget-header"),this._leftArrow.style.zIndex=30,this._leftArrow.style.display="none",this._leftArrow.style.width=this._toPx(this.arrowButtonSize),this._leftArrow.style.height="100%",this._rightArrow=document.createElement("div"),this._rightArrow.innerHTML='<span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-right")+'"></span>',this._rightArrow.className=this.toThemeProperty("jqx-tabs-arrow-background jqx-widget-header"),this._rightArrow.style.zIndex=30,this._rightArrow.style.display="none",this._rightArrow.style.width=this._toPx(this.arrowButtonSize),this._rightArrow.style.height="100%",this._headerWrapper.appendChild(this._leftArrow),this._headerWrapper.appendChild(this._rightArrow)},_tabsWithVisibleCloseButtons:function(){if(!this.showCloseButtons)return 0;var t=this.length();return h.each(this._titleList,function(){var e=this.attr("hasclosebutton");null==e||"false"!==e&&!1!==e||t--}),t},_calculateTitlesSize:function(){function e(e,t){e&&(e.style.display=t?"block":"none")}var t=0,i=0,s=this.length();for(this.rtl&&h.jqx.browser.msie&&h.jqx.browser.version<8&&(this._measureItem=document.createElement("span"),this._measureItem.style.position="relative",this._measureItem.style.visibility="hidden",document.body.appendChild(this._measureItem));s;){s--;var r,n=this._titleList[s],o=this._closeButtonList[s],a=(this._measureItem&&(this._measureItem.innerHTML=n.innerHTML,this._measureItem.html(this._titleList[s].html()),n.style.width=this._toPx(this._width(this._measureItem))),e(o,!(n.style.position="static")),i+=this._outerWidth(n,!0),this._outerHeight(n,!0)),a=(t<a&&(t=a),0===this._height(n)&&(a=n.cloneNode(!0),document.body.appendChild(a),t=this._outerHeight(a,!0),document.body.removeChild(a)),n.getAttribute("hasCloseButton"));null!=a?(r=!1,this.hiddenCloseButtons&&1===this.hiddenCloseButtons[s]&&(e(o,!1),r=!0),r||("true"===a||!0===a?(i+=this.closeButtonSize,e(o,!0)):"false"!==a&&!1!==a||e(o,!1))):this.showCloseButtons&&(this.canCloseAllTabs||1<this._tabsWithVisibleCloseButtons())&&(r=!1,this.hiddenCloseButtons&&1===this.hiddenCloseButtons[s]&&(e(o,!1),r=!0),r||(i+=this.closeButtonSize,e(o,!0))),n.style.height=this._toPx(this._height(n))}return this._measureItem&&h(this._measureItem).remove(),{height:t,width:10+i}},_reorderHeaderElements:function(){if(this.selectionTracker&&(this._moveSelectionTrackerContainer.style.position="absolute",this._moveSelectionTrackerContainer.style.height="100%",this._moveSelectionTrackerContainer.style.top="0px",this._moveSelectionTrackerContainer.style.left="0px",this._moveSelectionTrackerContainer.style.width="100%"),this._headerWrapper.style.position="relative",this._headerWrapper.style.left="0px",this._headerWrapper.style.top="0px",this.scrollable){this._rightArrow.style.width=this._toPx(this.arrowButtonSize),this._rightArrow.style.position="absolute",this._rightArrow.style.top="0px",this._leftArrow.style.width=this._toPx(this.arrowButtonSize),this._leftArrow.style.position="absolute",this._leftArrow.style.top="0px";var e=this.theme&&-1!==this.theme.indexOf("ui-")?3:0,t=(0<e&&(this._rightArrow.className+=" "+this.toThemeProperty("jqx-rc-r"),this._leftArrow.className+=" "+this.toThemeProperty("jqx-rc-l")),this.scrollPosition);switch(t=this.rtl&&"right"===(t="left"===t?"right":t)?"left":t){case"both":this._rightArrow.style.right="0px",this._leftArrow.style.left="0px";break;case"left":this._rightArrow.style.left=this._toPx(this.arrowButtonSize),this._leftArrow.style.left="0px";break;case"right":this._rightArrow.style.right=this._toPx(-e),this._leftArrow.style.right=this._toPx(parseInt(this.arrowButtonSize,10)-e)}}},_positionArrows:function(e){e>=this._headerWrapper.offsetWidth&&this.scrollable?(this._needScroll=!0,0===this._unorderedListHelper.position().left&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()+"px"),this._leftArrow.style.display="block",this._rightArrow.style.display="block"):(this._needScroll=!1,this._leftArrow.style.display="none",this._rightArrow.style.display="none",this._unorderedList.style.left="0px")},_performHeaderLayout:function(){this._removeSelectStyle();var e=this._calculateTitlesSize(),t=e.height,e=e.width,t=(this._headerWrapper.style.height=this._toPx(t),this._unorderedList.style.height=this._toPx(t),null!==this.headerHeight&&"auto"!==this.headerHeight&&(this._headerWrapper.style.height=this._toPx(this.headerHeight),this._unorderedList.style.height=this._toPx(this.headerHeight)),this._width(this.element));this._unorderedList.style.width=t<e?this._toPx(e):this._toPx(t),h.jqx.browser.msie&&h.jqx.browser.version<8&&(this._unorderedList.style.position="relative",this._unorderedList.style.overflow="hidden"),this._reorderHeaderElements(),e+=parseInt(this._unorderedListHelper.css("margin-left"),10),this._totalItemsWidth=e,this._positionArrows(e),this._unorderedList.style.position="relative",this._unorderedList.style.top="0px",this._verticalAlignElements(),this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this.selectedItem)},_verticalAlignElements:function(){for(var e,t=this.length();t;){t--;var i,s,r=this._titleList[t],n=h(r),o=n.children()[0],a=this._closeButtonList[t],l=(parseInt(n.css("padding-top"),10),this.autoHeight?(i=parseInt(n.css("padding-top"),10),l=parseInt(n.css("padding-bottom"),10),s=n.css("border-top-width"),d=n.css("border-bottom-width"),s=-1===s.indexOf("px")?1:parseInt(s,10),d=-1===d.indexOf("px")?1:parseInt(d,10),r.style.height=this._toPx(this._outerHeight(this._unorderedList,!0)-(i+l+s+d))):"top"===this.position?(i=this._height(this._unorderedList)-parseInt(this._outerHeight(r,!0),10),parseInt(n.css("margin-top"),10)!==i&&0!=i&&(r.style.marginTop=this._toPx(i))):r.style.height=this._toPx(this._height(r)),o.style.height="100%",this._height(r)),d=(a&&(s=l/2-this._height(a)/2,a.style.marginTop=this._toPx(1+s)),l/2-this._height(o)/2);o.style.marginTop=this._toPx(d)}this.scrollable&&(e=(parseInt(this._headerWrapper.offsetHeight,10)-this.arrowButtonSize)/2,h(this._rightArrow).children()[0].style.marginTop=this._toPx(e),this._rightArrow.style.height="100%",h(this._leftArrow).children()[0].style.marginTop=this._toPx(e),this._leftArrow.style.height="100%")},_getImageUrl:function(e){e=e.css("background-image");return e=(e=(e=(e=e.replace('url("',"")).replace('")',"")).replace("url(","")).replace(")","")},_fitToSize:function(){var e,t=!1,i=!1,s=this;null!==s.width&&-1!==s.width.toString().indexOf("%")&&(t=!0),null!==s.height&&-1!==s.height.toString().indexOf("%")&&(i=!0),t?(this.element.style.width=this.width,this._contentWrapper.style.width="100%"):(s.element.style.width=s._toPx(s.width),"auto"!==this.width&&(this._contentWrapper.style.width="100%")),i?(this.element.style.height=this.height,this._contentWrapper.style.width="100%",this._contentWrapper.style.height="auto",e=this.element.offsetHeight-this._headerWrapper.offsetHeight-2,this._contentWrapper.style.height=e+"px"):"auto"!==this.height?(s.element.style.height=s._toPx(s.height),e=this._height(s.element)-this._headerWrapper.offsetHeight,this._contentWrapper.style.height=s._toPx(e)):this._contentWrapper.style.height="auto"},_maxHeightTab:function(){for(var e=this.length(),t=-1;e;)-1<this._outerHeight(this._titleList[--e],!0)&&(t=e);return t},_addSelectionTracker:function(){this._moveSelectionTrackerContainer&&h(this._moveSelectionTrackerContainer).remove(),this._moveSelectionTrackerContainer=document.createElement("div"),this._moveSelectionTrackerContainer.className=this.toThemeProperty("jqx-tabs-selection-tracker-container"),this._selectionTracker=document.createElement("div"),this._selectionTracker.className=this.toThemeProperty("jqx-tabs-selection-tracker-"+this.position),this._selectionTracker.style.color="inherit",this._selectionTracker.style.position="absolute",this._selectionTracker.style.zIndex=10,this._selectionTracker.style.left="0px",this._selectionTracker.style.top="0px",this._selectionTracker.style.display="inline-block",this._moveSelectionTrackerContainer.appendChild(this._selectionTracker),this._headerWrapper.appendChild(this._moveSelectionTrackerContainer),this._selectionTrackerHelper=h(this._selectionTracker),this._selectionTrackerHelper.initAnimate&&this._selectionTrackerHelper.initAnimate()},_addContentWrapper:function(){for(var e=null===this._contentWrapper,t=(e&&(this._contentWrapper=document.createElement("div"),this._contentWrapper.className=this.toThemeProperty("jqx-tabs-content jqx-widget-content"),this._contentWrapper.style.float="none"),this.length());t;)this._contentList[--t].className+=" "+this.toThemeProperty("jqx-tabs-content-element");if(e){"top"===this.position?this.element.appendChild(this._contentWrapper):this.element.insertBefore(this._contentWrapper,this.element.firstChild);for(var i=0;i<this._contentList.length;i++)this._contentWrapper.appendChild(this._contentList[i])}this.roundedCorners&&("top"===this.position?this._contentWrapper.className+=" "+this.toThemeProperty("jqx-rc-b"):this._contentWrapper.className+=" "+this.toThemeProperty("jqx-rc-t"),this.element.className+=" "+this.toThemeProperty("jqx-rc-all"))},_addHeaderWrappers:function(){var e=this.length(),t=(void 0!==this._headerWrapper&&(h(this._headerWrapper).remove(),this.bar&&(this.bar=null)),this._headerWrapper=document.createElement("div"),this._headerWrapper.style.outline="none","top"===this.position?this.element.insertBefore(this._headerWrapper,this.element.firstChild):this.element.appendChild(this._headerWrapper),this._headerWrapper.appendChild(this._unorderedList),"jqx-tabs-headerWrapper jqx-tabs-header jqx-widget-header");for("bottom"===this.position&&(t+=" jqx-tabs-header-bottom"),this.roundedCorners&&("top"===this.position?t+=" jqx-rc-t":t+=" jqx-rc-b"),this._headerWrapper.className=this.toThemeProperty(t);e;){e--;var i,s,r=this._titleList[e];null===r.querySelector(".jqx-tabs-titleWrapper")&&((i=document.createElement("div")).className="jqx-tabs-titleWrapper",i.style.outline="none",i.style.position="relative",i.style.zIndex=15,s=h(r).children(),i.appendChild(s[0]),i.appendChild(s[1]),r.appendChild(i))}},_render:function(){this._addCloseButtons(),this._addHeaderWrappers(),this._addContentWrapper(),this.selectionTracker&&this._addSelectionTracker(),this._addArrows()},_addCloseButton:function(e,t){var i=document.createElement("div"),s=this._titleList[e],r=(i.className="jqx-tabs-titleContentWrapper jqx-disableselect","left"),n=(this.rtl&&(r="right"),0<h(s).find(".jqx-tabs-close-button").length&&h(s).find(".jqx-tabs-close-button").remove(),i.style.float=r,s.querySelector(".jqx-tabs-titleContentWrapper")&&(s.innerHTML=s.querySelector(".jqx-tabs-titleContentWrapper").innerHTML),i.innerHTML=s.innerHTML,s.innerHTML="",document.createElement("div"));n.className=this.toThemeProperty("jqx-tabs-close-button"),n.style.height=this._toPx(this.closeButtonSize),n.style.width=this._toPx(this.closeButtonSize),n.style.float=r,n.style.fontSize="1px",s.appendChild(i),s.appendChild(n),!0===t?this._closeButtonList[e]=n:this._closeButtonList.splice(e,0,n),(!this.showCloseButtons||this.hiddenCloseButtons&&1===this.hiddenCloseButtons[e])&&(n.style.display="none")},_addCloseButtons:function(){for(var e=this.length();e;)this._addCloseButton(--e,!0)},_prepareTabs:function(){var e=this.length(),t=this.selectionTracker;for(this.selectionTracker=!1;e;)this._selectedItem!==--e&&this._unselect(e,null,!1);this._select(this._selectedItem,0,null,!1),this.selectionTracker=t,!this.initTabContent||this._initTabContentList[this.selectedItem]||this._hiddenParent()||(this.initTabContent(this.selectedItem),this._initTabContentList[this.selectedItem]=!0)},_isValidIndex:function(e){return 0<=e&&e<this.length()},_removeSelectStyle:function(){for(var e=this.length();e;){e--;var t=this._titleList[e],i=(this.showCloseButtons&&(i=this._closeButtonList[e],this._removeClass(i,this.toThemeProperty("jqx-tabs-close-button-selected"))),"jqx-fill-state-pressed");"top"===this.position?i+=" jqx-tabs-title-selected-top":i+=" jqx-tabs-title-selected-bottom",this._removeClass(t,this.toThemeProperty(i))}},_addSelectStyle:function(e,t){var i,s;this._removeSelectStyle(),(!this.selectionTracker||void 0!==t&&t)&&(t=this._titleList[e],0<=e&&void 0!==t&&(i=null,this.showCloseButtons&&(i=this._closeButtonList[e],this.hiddenCloseButtons&&1===this.hiddenCloseButtons[e]&&(i=null)),e="jqx-fill-state-hover",s=" jqx-fill-state-pressed","top"===this.position?(e+=" jqx-tabs-title-hover-top",s+=" jqx-tabs-title-selected-top"):(e+=" jqx-tabs-title-hover-bottom",s+=" jqx-tabs-title-selected-bottom"),this._removeClass(t,this.toThemeProperty(e)),t.className+=this.toThemeProperty(s),null!==i&&(i.className+=" "+this.toThemeProperty("jqx-tabs-close-button-selected"))))},_addItemTo:function(e,t,i){if(t<e.length){for(var s,r,n=t;n+1<e.length;n++)void 0===s?(s=e[n+1],e[n+1]=e[n]):(r=e[n+1],e[n+1]=s,s=r);void 0===s&&(s=e[t]),e[t]=i,e.push(s)}else e.push(i)},_refreshBarPosition:function(){var e,i=this;this.bar||(e=h("<span></span>"),h(this._headerWrapper).append(e),e.addClass(this.toThemeProperty("jqx-tabs-bar")),this.bar=e),setTimeout(function(){var e,t;i._selectedItem<0||(e=parseInt(i._unorderedListHelper.css("left"),10),t=parseInt(i._unorderedListHelper.css("margin-left")),e?i.bar.css("left",t+i._titleList[i._selectedItem].offsetLeft+e):i.bar.css("left",t+i._titleList[i._selectedItem].offsetLeft),i.bar.width(h(i._titleList[i._selectedItem]).outerWidth()-2))})},_select:function(e,t,i,s,r){if(!this._tabCaptured){this.host.attr("hideFocus","true");var n=this,o=(void 0===r?this._addSelectStyle(e):this._addSelectStyle(e,r),h(n._titleList[e])),a=n._titleList[e].getAttribute("id"),l=h(n._contentList[e]);if(this.isCollapsed&&this.collapsible)return l[0].style.display="none",void this._selectCallback(e,i,s);switch(n._refreshBarPosition(),this.animationType){case"none":if(n.selectionTracker)setTimeout(function(){l[0].style.display="block",h.jqx.aria(o,"aria-selected",!0),h.jqx.aria(l,"aria-hidden",!1),h.jqx.aria(n,"aria-activedescendant",a)},this.selectionTrackerAnimationDuration);else{for(var d=0;d<this._contentList.length;d++)e!==d&&"block"===h(n._contentList[d]).css("display")&&(n._contentList[d].style.display="none",h.jqx.aria(h(n._titleList[d]),"aria-selected",!1),h.jqx.aria(h(n._contentList[d]),"aria-hidden",!0));l[0].style.display="block",h.jqx.aria(o,"aria-selected",!0),h.jqx.aria(l,"aria-hidden",!1),h.jqx.aria(this,"aria-activedescendant",a)}this._selectCallback(e,i,s);break;case"fade":this._lockAnimation("contentListSelect"),n._selectCallback(e,i,s),l.initAnimate&&void 0===l.fadeIn&&l.initAnimate(),l.fadeIn({duration:1e3,complete:function(){n._unlockAnimation("contentListSelect"),h.jqx.aria(o,"aria-selected",!0),h.jqx.aria(l,"aria-hidden",!1),h.jqx.aria(n,"aria-activedescendant",a)}})}}},_selectCallback:function(e,t,i){this._selectedItem=e,this.selectedItem=this._selectedItem,t&&t(),i&&this._raiseEvent(1,{item:e})},_unselect:function(e,t,i){var s,r,n,o;0<=e&&(this._tabCaptured||(s=this._contentList[e],r=h(s),n=this._titleList[e],o=h(n),r.initAnimate&&void 0===r.animate&&r.initAnimate(),this._stop(r),"fade"!==this.animationType&&this.selectionTracker?setTimeout(function(){s.style.display="none",h.jqx.aria(o,"aria-selected",!1),h.jqx.aria(r,"aria-hidden",!0)},this.selectionTrackerAnimationDuration):(s.style.display="none",h.jqx.aria(o,"aria-selected",!1),h.jqx.aria(r,"aria-hidden",!0)),this._unselectCallback(e,t,i),this.selectionTracker||this._removeClass(n,this.toThemeProperty("jqx-tabs-title-selected jqx-fill-state-pressed"))))},_unselectCallback:function(e,t,i){i&&this._raiseEvent(8,{item:e}),t&&t()},disable:function(){for(var e=this.length();e;)this.disableAt(--e)},enable:function(){for(var e=this.length();e;)this.enableAt(--e)},getEnabledTabsCount:function(){var e=0;return h.each(this._titleList,function(){this.disabled||e++}),e},getDisabledTabsCount:function(){var e=0;return h.each(this._titleList,function(){this.disabled&&e++}),e},removeAt:function(e){var t,i,s,r;this._isValidIndex(e)&&(this.canCloseAllTabs||1<this.length())&&(this._removeHoverStates(),this._initTabContentList[e]=!1,r=(t=this)._outerWidth(this._titleList[e],!0),i=this.getTitleAt(e),this._unorderedList.style.width=t._toPx(t._width(this._unorderedList)-r),h(this._titleList[e]).remove(),h(this._contentList[e]).remove(),this._titleList.splice(e,1),this._contentList.splice(e,1),t._closeButtonList.splice(e,1),this._addStyles(),this._performHeaderLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._raiseEvent(3,{item:e,title:i}),this._isAnimated={},0<this.selectedItem?(this._selectedItem=-1,this.selectedItem>=e?(s=this._getPreviousIndex(this.selectedItem),this.select(s)):this.select(t.selectedItem)):(this._selectedItem=-1,s=this._getNextIndex(this.selectedItem),this.select(s)),parseInt(this._unorderedListHelper.css("left"),10)>this._getArrowsDisplacement()&&(this._unorderedList.style.left=t._toPx(this._getArrowsDisplacement())),t._width(this._unorderedList)<=t._width(this._headerWrapper)&&(r=this.enableScrollAnimation?this.scrollAnimationDuration:0,this._lockAnimation("unorderedList"),this._unorderedListHelper.animate({left:0},r,function(){t._unlockAnimation("unorderedList")})))},removeFirst:function(){this.removeAt(0)},removeLast:function(){this.removeAt(this.length()-1)},disableAt:function(e){var t=this._titleList[e];t.disabled&&void 0!==t.disabled||(this.selectedItem!==e||this.next()||this.previous(),t.disabled=!0,this.removeHandler(t,this.toggleMode),this.enabledHover&&h(t).off("mouseenter").off("mouseleave"),this._removeEventListenerAt(e),t.className+=" "+this.toThemeProperty("jqx-tabs-title-disable jqx-fill-state-disabled"),this._raiseEvent(5,{item:e}))},enableAt:function(e){var t=this._titleList[e];t.disabled&&(t.disabled=!1,this._addEventListenerAt(e),this._removeClass(t,this.toThemeProperty("jqx-tabs-title-disable jqx-fill-state-disabled")),this._raiseEvent(4,{item:e}))},addAt:function(e,t,i){var s;0<=e&&e<=this.length()&&(this._removeHoverStates(),(s=document.createElement("li")).innerHTML=t,s.className=this.toThemeProperty("jqx-tabs-title jqx-item"),(t=document.createElement("div")).innerHTML=i,t.className=this.toThemeProperty("jqx-tabs-content-element"),"bottom"===this.position&&(s.className+=" "+this.toThemeProperty("jqx-tabs-title-bottom")),0!==this._titleList.length&&e<this.length()&&0<=e?this._unorderedList.insertBefore(s,this._titleList[e]):this._unorderedList.appendChild(s),this._contentWrapper.appendChild(t),this._addItemTo(this._titleList,e,s),this._addItemTo(this._contentList,e,t),this._addCloseButton(e),this._selectedItem>e&&this._selectedItem++,this._switchTabs(e,this._selectedItem),this._selectedItem=e,this._uiRefresh(!1),this._raiseEvent(2,{item:e}),this._moveSelectionTrack(this._selectedItem,0))},addFirst:function(e,t){this.addAt(0,e,t)},addLast:function(e,t){this.addAt(this.length(),e,t)},val:function(e){return 0===arguments.length||"object"==typeof e||this.select(e),this._selectedItem},select:function(e){var t=!(0<=(e="object"==typeof e?this._indexOf(e):e)&&e<this._titleList.length)||this._titleList[e].getAttribute("canselect");null!=t&&"true"!==t&&!0!==t||e===this._selectedItem||!this._isValidIndex(e)||this._activeAnimation()||this._titleList[e].disabled||this._switchTabs(e,this._selectedItem)&&this.ensureVisible(e)},previous:function(e){var t=this._selectedItem;for(void 0===e||isNaN(e)||(t=e);0<t&&t<this._titleList.length;)if(!this._titleList[--t].disabled)return this.select(t),!0;return!1},_getPreviousIndex:function(e){if(void 0===e||isNaN(e))return 0;for(var t=e;0<e&&e<=this._titleList.length;)if(!this._titleList[--e].disabled)return e;return t},_getNextIndex:function(e){if(void 0===e||isNaN(e))return 0;for(var t=e;0<=e&&e<this._titleList.length;){if(!this._titleList[e].disabled)return e;e++}return t},next:function(e){var t=this._selectedItem;for(void 0===e||isNaN(e)||(t=e);0<=t&&t<this._titleList.length-1;)if(!this._titleList[++t].disabled)return this.select(t),!0;return!1},first:function(){this._titleList[0].disabled?this.next(0):this.select(0)},last:function(){var e=this._titleList.length-1;this._titleList[e].disabled?this.previous(e):this.select(e)},length:function(){return this._titleList.length},lockAt:function(e){!this._isValidIndex(e)||this._titleList[e].locked&&void 0!==this._titleList[e].locked||(this._titleList[e].locked=!0,this._raiseEvent(11,{item:e}))},unlockAt:function(e){this._isValidIndex(e)&&this._titleList[e].locked&&(this._titleList[e].locked=!1,this._raiseEvent(12,{item:e}))},lockAll:function(){for(var e=this.length();e;)this.lockAt(--e)},unlockAll:function(){for(var e=this.length();e;)this.unlockAt(--e)},showCloseButtonAt:function(e){this._isValidIndex(e)&&(this.showCloseButtons||(this.showCloseButtons=!0,this.updatetabsheader()),this._closeButtonList[e].style.display="block",this.hiddenCloseButtons||(this.hiddenCloseButtons=[]),this.hiddenCloseButtons[e]=0)},hideCloseButtonAt:function(e){this._isValidIndex(e)&&(this._closeButtonList[e].style.display="none",this.hiddenCloseButtons||(this.hiddenCloseButtons=[]),this.hiddenCloseButtons[e]=1)},hideAllCloseButtons:function(){for(var e=this.length();e;)this.hideCloseButtonAt(--e)},showAllCloseButtons:function(){for(var e=this.length();e;)this.showCloseButtonAt(--e)},getTitleAt:function(e){return this._titleList[e]?h(this._titleList[e]).text():null},getContentAt:function(e){return this._contentList[e]||null},setTitleAt:function(e,t){this._titleList[e]&&(h(this._titleList[e]).text(t),this.showCloseButtons&&(this._addCloseButton(e),this._removeEventHandlers(),this._addEventHandlers()),this.render(),this.refresh())},setContentAt:function(e,t){this._contentList[e]&&h(this._contentList[e]).html(t)},ensureVisible:function(e){var t=this;if(void 0!==e&&-1!==e&&null!==e||(e=this.selectedItem),!this._isValidIndex(e))return!1;var i,s,r=this._titleList[e],n=parseInt(h(r).position().left,10)+parseInt(this._unorderedListHelper.css("margin-left"),10),o=parseInt(this._unorderedListHelper.css("left"),10),a=this._outerWidth(this._headerWrapper,!0),r=this._outerWidth(r,!0),o=o-this._getArrowsDisplacement(),l=a-this._getArrowsDisplacement()-o;if(n<-o)i=-n+this._getArrowsDisplacement(),s=this._getArrowsDisplacement();else{if(!(n+r>l-this._getArrowsDisplacement()))return this._moveSelectionTrack(e,this.selectionTrackerAnimationDuration),!0;i=-n+a-r-(this.scrollable?2*this.arrowButtonSize-this._getArrowsDisplacement():0),s=a-r-this._getArrowsDisplacement()}return this._lockAnimation("unorderedList"),this._unorderedListHelper.animate({left:i},this.scrollAnimationDuration,function(){return t._unlockAnimation("unorderedList"),t._moveSelectionTrack(t._selectedItem,0),!0}),this._moveSelectionTrack(e,this.selectionTrackerAnimationDuration,s),!0},isVisibleAt:function(e){var t=this;if(void 0!==e&&-1!==e&&null!==e||(e=t.selectedItem),!t._isValidIndex(e))return!1;var e=t._titleList[e],i=parseInt(h(e).position().left,10)+parseInt(t._unorderedListHelper.css("margin-left"),10),s=parseInt(t._unorderedListHelper.css("left"),10),r=t._outerWidth(t._headerWrapper,!0),e=t._outerWidth(e,!0),s=s-t._getArrowsDisplacement(),r=r-t._getArrowsDisplacement()-s;return!(i<-s)&&!(r<i+e)},isDisabled:function(e){return this._titleList[e].disabled},_lockAnimation:function(e){this._isAnimated&&(this._isAnimated[e]=!0)},_unlockAnimation:function(e){this._isAnimated&&(this._isAnimated[e]=!1)},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2===Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(e,t,i,s){if(!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2===Object.keys(e.batchUpdate).length)){switch(this._validateProperties(),t){case"touchMode":s&&(e.enabledHover=!1,e.keyboardNavigation=!1);break;case"width":case"height":return void e._setSize();case"disabled":return void(s?this.disable():this.enable());case"showCloseButtons":return s?this.showAllCloseButtons():this.hideAllCloseButtons(),void this._performHeaderLayout();case"selectedItem":return void(this._isValidIndex(s)&&this.select(s));case"scrollStep":case"contentTransitionDuration":case"scrollAnimationDuration":case"enableScrollAnimation":return;case"selectionTracker":return void(s?(this._refresh(),this.select(this._selectedItem)):this._selectionTracker&&this._selectionTrackerHelper.remove());case"scrollable":return void(s?(this._refresh(),this.select(this._selectedItem)):(h(this._leftArrow).remove(),h(this._rightArrow).remove(),this._performHeaderLayout()));case"autoHeight":return void this._performHeaderLayout();case"theme":return void h.jqx.utilities.setTheme(i,s,this.host)}this._unorderedList.style.left="0px",this._refresh(),this.select(this._selectedItem),this._addSelectStyle(this._selectedItem,!0)}},_toPx:function(e){return"number"==typeof e?e+"px":e},_removeClass:function(e,t){h(e).removeClass(t)},_width:function(e){var t=h(e),i=t.css("border-left-width"),s=t.css("border-right-width"),r=parseInt(t.css("padding-left"),10),t=parseInt(t.css("padding-right"),10),i=-1===i.indexOf("px")?1:parseInt(i,10),s=-1===s.indexOf("px")?1:parseInt(s,10);return e.offsetWidth-(i+s+r+t)},_outerWidth:function(e,t){var i=e.offsetWidth;return t&&(t=h(e),i+=parseInt(t.css("margin-left"),10)+parseInt(t.css("margin-right"),10)),i},_height:function(e){var t=h(e),i=t.css("border-top-width"),s=t.css("border-bottom-width"),r=parseInt(t.css("padding-top"),10),t=parseInt(t.css("padding-bottom"),10),i=-1===i.indexOf("px")?1:parseInt(i,10),s=-1===s.indexOf("px")?1:parseInt(s,10);return e.offsetHeight-(i+s+r+t)},_outerHeight:function(e,t){var i=e.offsetHeight;return t&&(t=h(e),i+=parseInt(t.css("margin-top"),10)+parseInt(t.css("margin-bottom"),10)),i},_stop:function(e){e.stop?e.stop():e.animate("stop",!0)}})}(jqxBaseFramework),!function(p){p.jqx.jqxWidget("jqxTagCloud","",{}),p.extend(p.jqx._jqxTagCloud.prototype,{defineInstance:function(){var e={width:null,height:null,source:null,disabled:!1,rtl:!1,valueMember:"value",displayMember:"label",urlMember:"url",urlBase:"",autoBind:!0,takeTopWeightedItems:!1,displayLimit:null,minValueToDisplay:0,maxValueToDisplay:0,minFontSize:10,maxFontSize:24,fontSizeUnit:"px",displayValue:!1,sortBy:"none",alterTextCase:"none",sortOrder:"ascending",textColor:null,minColor:null,maxColor:null,tagRenderer:null};return this===p.jqx._jqxTagCloud.prototype||p.extend(!0,this,e),e},createInstance:function(){this.render(),this.dataBind(this.source,!0)},dataBind:function(e,t){var i=this;i.records=[];!!e._source?e=(s=e)._source:(e.datafields=[{name:i.displayMember},{name:i.valueMember},{name:i.urlMember}],s=new p.jqx.dataAdapter(e,{autoBind:!0}));var s,r=function(e){e._setSourceData(s),e._raiseEvent(1,{records:e.records}),e._renderTags()};switch(void 0!==e.type&&(s._options.type=e.type),void 0!==e.formatdata&&(s._options.formatData=e.formatdata),void 0!==e.contenttype&&(s._options.contentType=e.contenttype),void 0!==e.async&&(s._options.async=e.async),e.datatype){case"local":case"array":default:null==e.localdata&&!p.isArray(e)||(s.unbindBindingUpdate(i.element.id),!i.autoBind&&(i.autoBind||t)||s.dataBind(),r(i),s.bindBindingUpdate(i.element.id,function(e){r(i,e)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=e.localdata)return s.unbindBindingUpdate(i.element.id),!i.autoBind&&(i.autoBind||t)||s.dataBind(),r(i),void s.bindBindingUpdate(i.element.id,function(){r(i)});var n={};s._options.data?p.extend(s._options.data,n):(e.data&&p.extend(n,e.data),s._options.data=n);s.unbindDownloadComplete(i.element.id),s.bindDownloadComplete(i.element.id,function(){r(i)}),!i.autoBind&&(i.autoBind||t)||s.dataBind()}i._raiseEvent(2,{records:i.records})},destroy:function(){this.removeHandler(this._el,"keydown"),this.removeHandler(this._el,"click"),this.host.empty(),this.host.remove()},findTagIndex:function(e){for(var t=0;t<this.records.length;t++)if(this.records[t][this.displayMember]===e)return this.records[t].index;return-1},getHiddenTagsList:function(){return this.hiddenList.slice()},getRenderedTags:function(){return this.renderedData.slice()},getTagsList:function(){return this.records.slice()},insertAt:function(i,s){var r=this;if(s.index=i,void 0===s[this.displayMember])throw new Error("jqxTagCloud: Insert tag requires a valid displayMember field to be supplied in the parameter");var e=void 0!==s[r.valueMember]?parseFloat(s[r.valueMember]):0;if(s[r.valueMember]=isNaN(e)?0:e,r.source.insertTag&&"function"==typeof r.source.insertTag)r.source.insertTag(i,s,function(e){if(e){r.records.splice(i,0,s);for(var t=i+1;t<r.records.length;t++)r.records[t].index+=1;for(t=0;t<r.hiddenList.length;t++)r.hiddenList[t]>=i&&r.hiddenList[t]++;r._renderTags()}});else{r.records.splice(i,0,s);for(var t=i+1;t<r.records.length;t++)r.records[t].index+=1;for(t=0;t<r.hiddenList.length;t++)r.hiddenList[t]>=i&&r.hiddenList[t]++;r._renderTags()}},updateAt:function(i,t){var s=this;if(void 0===t[this.displayMember])throw new Error("jqxTagCloud: Update tag requires a valid displayMember field to be supplied in the parameter");t.index=i,t.uid=s.records[i].uid,s.source.updateTag&&"function"==typeof s.source.updateTag?s.source.updateTag(i,t,function(e){e&&(p.each(t,function(e,t){s.records[i][e]=t}),s._renderTags())}):(p.each(t,function(e,t){s.records[i][e]=t}),s._renderTags())},removeAt:function(i){var s=this;if(s.source.deleteTag&&"function"==typeof s.source.deleteTag)s.source.deleteTag(i,function(e){if(e){s.records.splice(i,1);for(var t=i;t<s.records.length;t++)--s.records[t].index;for(t=0;t<s.hiddenList.length;t++)s.hiddenList[t]>i?s.hiddenList[t]--:s.hiddenList[t]===i&&s.hiddentList.splice(i,1)}});else{s.records.splice(i,1);for(var e=i;e<s.records.length;e++)--s.records[e].index;for(e=0;e<s.hiddenList.length;e++)s.hiddenList[e]>i?s.hiddenList[e]--:s.hiddenList[e]===i&&s.hiddentList.splice(i,1)}s._renderTags()},hideItem:function(e){if("number"==typeof e&&-1===this.hiddenList.indexOf(e)){this.hiddenList.push(e);for(var t=-1,i=0;i<this.renderedData.length;i++)this.renderedData[i].index===e&&(t=i);-1!==t&&(p(this._el).find("li")[t].style.display="none")}},showItem:function(e){if(-1!==this.hiddenList.indexOf(e)){for(var t=-1,i=0;i<this.renderedData.length;i++)this.renderedData[i].index===e&&(t=i);-1!==t&&(p(this._el).find("li")[t].style.display=""),this.hiddenList.splice(this.hiddenList.indexOf(e),1)}},render:function(){var i=this;i._updateSize(),i.renderedData=[],i._el=p("<ul>"),i.host.addClass(i.toThemeProperty("jqx-widget jqx-tag-cloud")),i._setRtl(),i.host.append(i._el),i.focusedItem=null,i.minColor=i._parseColor(i.minColor),i.maxColor=i._parseColor(i.maxColor),i.displayLimit=parseInt(i.displayLimit),i.disabled&&i.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")),i.addHandler(i._el,"click",function(e){p(document.activeElement).parents("#"+i._el[0].parentElement.id).length||(null!=i.focusedItem?p(i.focusedItem).focus():(p(i._el).find("a")[0].focus(),i.focusedItem=document.activeElement)),i.disabled&&e.preventDefault(),"a"===e.target.tagName.toLowerCase()&&(e.target.focus(),i.focusedItem=document.activeElement),"li"===e.target.tagName.toLowerCase()&&(p(e.target).find("a").focus(),i.focusedItem=document.activeElement);var t=p(e.target).closest("li").index();-1!==t&&i._raiseEvent(0,{label:i.renderedData[t][i.displayMember],url:i.renderedData[t][i.urlMember],value:i.renderedData[t][i.valueMember],visibleIndex:t,index:i.renderedData[t].index,target:p(e.target).closest("li")[0],originalEvent:e})}),i._addKeyboardSupport()},resize:function(e,t){this.width=e,this.height=t,this._updateSize()},propertyChangedHandler:function(e,t,i,s){var r=this;"source"===t&&r.dataBind(e.source),"displayLimit"===t&&(r[t]=parseInt(s)),"minColor"!==t&&"maxColor"!==t||(r[t]=r._parseColor(s)),"rtl"===t?r._setRtl():"width"===t||"height"===t?r._updateSize():"textColor"!==t||r.minColor&&r.maxColor?r._renderTags():r._updateColor()},_alterCase:function(e){var t=this;if("none"!==t.alterTextCase)switch(t.alterTextCase){case"allLower":for(var i=0;i<e.length;i++)e[i][t.displayMember]=e[i][t.displayMember].toString().toLowerCase();break;case"allUpper":for(i=0;i<e.length;i++)e[i][t.displayMember]=e[i][t.displayMember].toString().toUpperCase();break;case"firstUpper":for(i=0;i<e.length;i++)e[i][t.displayMember]=e[i][t.displayMember].toString().toLowerCase(),e[i][t.displayMember]=e[i][t.displayMember].substr(0,1).toUpperCase()+e[i][t.displayMember].substr(1);break;case"titleCase":for(i=0;i<e.length;i++)e[i][t.displayMember]=e[i][t.displayMember].toString().replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()});break;default:throw new Error("jqxTagCloud: Invalid alterTextCase value. Possible values: 'none', 'allLower', 'allUpper', 'firstUpper', 'titleCase'")}return e},_addKeyboardSupport:function(){var t=this;t.addHandler(t._el,"keydown",function(e){39==e.keyCode&&(p("a:focus").closest("li").next().find("a").focus(),t.focusedItem=document.activeElement),37==e.keyCode&&(p("a:focus").closest("li").prev().find("a").focus(),t.focusedItem=document.activeElement)})},_renderTags:function(){var i=this,e=i.records.slice();if(p.each(i.records,function(e,t){if(void 0===t[i.displayMember])throw new Error("jqxTagCloud: 'label' property must be specified for every element.")}),e=i._filter(e),e=i._sort(e),e=i._alterCase(e),i._el.empty(),0!==e.length){for(var t=i._getMaxValue(e),s=i._getMinValue(e),r=t-s,n=0;n<e.length;n++){var o=i._prepareTag(e[n],s,r);i._el.append(o),-1!=i.hiddenList.indexOf(e[n].index)&&(o[0].style.display="none")}i.renderedData=e,i.focusedItem=null}},_prepareTag:function(e,t,i){var s,r,n,o,a,l,d=this,h=(i=i||1,p("<li>")),c="",c=null!==d.tagRenderer&&"function"==typeof d.tagRenderer?d.tagRenderer.apply(d,arguments):e[d.displayMember]+(d.displayValue?"("+e[d.valueMember]+")":""),u=(c=p('<a rel="tag">').append(c),"javascript:void(0)"),u=(void 0!==e[d.urlMember]&&(u=(null!=d.urlBase?d.urlBase:"")+e[d.urlMember]),c.attr("href",u),h.append(c),h.addClass(d.toThemeProperty("jqx-tag-cloud-item")),+d.minFontSize+(d.maxFontSize-d.minFontSize)*((e[d.valueMember]-t)/i));return h[0].style.fontSize=u+d.fontSizeUnit,d.minColor&&d.maxColor?(c=(c=d.minColor.split("(")[1].split(")")[0]).split(","),u=parseInt(c[0]),s=parseInt(c[1]),r=parseInt(c[2]),n=parseFloat(c[3]),c=(c=d.maxColor.split("(")[1].split(")")[0]).split(","),o=parseInt(c[0]),a=parseInt(c[1]),l=parseInt(c[2]),c=parseFloat(c[3]),u+=Math.floor((e[d.valueMember]-t)/i*(o-u)),s+=Math.floor((e[d.valueMember]-t)/i*(a-s)),r+=Math.floor((e[d.valueMember]-t)/i*(l-r)),n+=(e[d.valueMember]-t)/i*(c-n),h[0].style.color="rgba("+u+","+s+","+r+","+n+")",h.find("a")[0].style.color="inherit"):null!==d.textColor&&(h[0].style.color=d.textColor,h.find("a")[0].style.color="inherit"),h},_parseColor:function(e){var t,i=p("<span>").css("color",e);return"rgba"===(e=i.css("color")).substr(0,4)?e:"rgb"===e.substr(0,3)?(i=(i=e.split("(")[1].split(")")[0]).split(","),"rgba("+parseInt(i[0])+","+parseInt(i[1])+","+parseInt(i[2])+",1)"):"#"===e.substr(0,1)&&7===e.length?"rgba("+parseInt(e.substr(1,2),16)+","+parseInt(e.substr(3,2),16)+","+parseInt(e.substr(5,2),16)+",1)":"#"===e.substr(0,1)&&4===e.length?"rgba("+parseInt(e.substr(1,1)+e.substr(1,1),16)+","+parseInt(e.substr(2,1)+e.substr(2,1),16)+","+parseInt(e.substr(3,1)+e.substr(3,1),16)+",1)":(e=void 0!==(i={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"})[(t=e).toLowerCase()]&&i[t.toLowerCase()])?"rgba("+parseInt(e.substr(1,2),16)+","+parseInt(e.substr(3,2),16)+","+parseInt(e.substr(5,2),16)+",1)":e},_events:["itemClick","bindingUpdateComplete","bindingComplete"],_raiseEvent:function(e,t){e=this._events[e],e=p.Event(e);return e.args=t,this.host.trigger(e)},_filter:function(e){var i=this;if(0!=i.minValueToDisplay)for(var t=0;t<e.length;)e[t][i.valueMember]<i.minValueToDisplay?e.splice(t,1):t++;if(0!=i.maxValueToDisplay)for(t=0;t<e.length;)e[t][i.valueMember]>i.maxValueToDisplay?e.splice(t,1):t++;return null==i.displayLimit||isNaN(i.displayLimit)||(!0===i.takeTopWeightedItems?(e.sort(function(e,t){return e[i.valueMember]<t[i.valueMember]?1:e[i.valueMember]>t[i.valueMember]?-1:0}),(e=e.slice(0,i.displayLimit)).sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0})):e=e.slice(0,i.displayLimit)),e},_sort:function(e){var i=this;if("none"===i.sortBy)return e;if("label"===i.sortBy)e.sort(function(e,t){return e[i.displayMember]<t[i.displayMember]?-1:e[i.displayMember]>t[i.displayMember]?1:0});else{if("value"!==i.sortBy)throw new Error("jqxTagCloud: sortBy option needs to be either 'none' or 'label' or 'value'");e.sort(function(e,t){return e[i.valueMember]<t[i.valueMember]?-1:e[i.valueMember]>t[i.valueMember]?1:0})}if("ascending"===i.sortOrder)return e;if("descending"===i.sortOrder)return e.reverse();throw new Error("jqxTagCloud: sortOrder option needs to be either 'ascending' or 'descending'")},_getMaxValue:function(e){for(var t=e[0][this.valueMember],i=0;i<e.length;i++)t<e[i][this.valueMember]&&(t=e[i][this.valueMember]);return t},_getMinValue:function(e){for(var t=e[0][this.valueMember],i=0;i<e.length;i++)t>e[i][this.valueMember]&&(t=e[i][this.valueMember]);return t},_setSourceData:function(e){var t=this;t.records=e.records;for(var i=0;i<t.records.length;i++){var s=void 0!==t.records[i][t.valueMember]?parseFloat(t.records[i][t.valueMember]):0;t.records[i][t.valueMember]=isNaN(s)?0:s,t.records[i].index=i}t.hiddenList=[]},_updateColor:function(){this.textColor&&p(this._el).find("li").css("color",this.textColor)},_updateSize:function(){this.width&&this.host.width(this.width),this.height&&this.host.height(this.height)},_setRtl:function(){this.rtl?this.host.addClass(this.toThemeProperty("jqx-rtl")):this.host.removeClass(this.toThemeProperty("jqx-rtl"))}})}(jqxBaseFramework),!function(o){o.jqx.jqxWidget("jqxTextArea","",{}),o.extend(o.jqx._jqxTextArea.prototype,{defineInstance:function(){var e={disabled:!1,filter:this._filter,sort:this._sort,highlight:this._highlight,dropDownWidth:null,renderer:this._renderer,opened:!1,$popup:document.createElement("ul"),source:[],roundedCorners:!0,searchMode:"default",placeHolder:"",width:null,height:null,rtl:!1,displayMember:"",valueMember:"",popupZIndex:1e3,items:8,minLength:1,maxLength:null,scrollBarSize:o.jqx.utilities.scrollBarSize,query:"",hint:!0,changeType:null,events:["change","select","open","close"]};return this===o.jqx._jqxTextArea.prototype||o.extend(!0,this,e),e},createInstance:function(){this._textareaWidthFix=0,o.jqx.browser.chrome?this._textareaWidthFix=6:o.jqx.browser.msie&&(this._textareaWidthFix=3),!1===document.body.contains(this.element)&&(this._notInDOM=!0),this._popupHelper=o(this.$popup),this.render(),this.isInitialized=!0},render:function(){if(!0===(s=this).isInitialized)s.refresh();else{15!==o.jqx.utilities.scrollBarSize&&(s.scrollBarSize=o.jqx.utilities.scrollBarSize);var e=document.createElement("div"),t=(e.style.overflow="hidden",e.style.width="100%",e.style.height="100%",e.style.backgroundColor="transparent",e.style["-webkit-appearance"]="none",e.style.outline="none",e.style.align="left",e.style.border="0px",e.style.padding="0px",e.style.margin="0px",e.style.left="0px",e.style.top="0px",e.style.valign="top",e.style.position="relative",document.createElement("div"));if(t.style.align="left",t.style.valign="top",t.style.left="0px",t.style.top="0px",t.style.position="absolute",s._baseHost=s.host,o.jqx.utilities.resize(s._baseHost,function(){if(s._notInDOM)return s._notInDOM=!1,void("textarea"===s.element.nodeName.toLowerCase()&&(s.isInitialized=!1,s.render()));s._ttimer=setTimeout(function(){s.textarea.style.width="",s._arrange()},100)},!1,!0),this.input=this.element,"div"===s.element.tagName.toLowerCase()){s.element.appendChild(e);var i=document.createElement("textarea");i.className=s.toThemeProperty("jqx-text-area-element"),s.textarea=i,e.appendChild(i),e.appendChild(t),s.wrapper=s.element}else if("textarea"===s.element.tagName.toLowerCase()){if(s._notInDOM)return;s.textarea=s.element;i=document.createElement("div"),e=(s.element.parentNode.insertBefore(i,s.element),i.appendChild(e),e.appendChild(s.element),e.appendChild(t),s.host.data());s.host=o(i),s.host.data(e),i.style.cssText=s.element.style.cssText,s.element.style.cssText="",s.element.className=s.toThemeProperty("jqx-text-area-element"),(s.wrapper=i).setAttribute("id",s.element.id),s.element=i,s.textarea.setAttribute("id",s.element.id+"TextArea")}var s,e=s.host;if(s._addClasses(),!e.jqxButton)throw new Error("jqxTextArea: Missing reference to jqxbuttons.js.");if(!e.jqxScrollBar)throw new Error("jqxTextArea: Missing reference to jqxscrollbar.js.");null===s.width&&s.element.style&&null!==s.element.style.width&&(s.width=s.element.style.width),null===s.height&&s.element.style&&null!==s.element.style.height&&(s.height=s.element.style.height),s._setSize(),s.vScrollBar=o(t),s.vScrollBar.jqxScrollBar({vertical:!0,width:15,height:"100%",max:s.height,theme:s.theme}),""===o.trim(s.textarea.value)&&(s.textarea.value=""),null!==s.maxLength&&s.textarea.setAttribute("maxlength",s.maxLength),(s.source instanceof Array&&s.source.length||s.source._source||o.isFunction(s.source))&&(s._oldsource=s.source,s._updateSource(),s._addPopupClasses(),o.jqx.aria(s,"aria-haspopup",!0)),s.isMaterialized()&&((i=o("<label></label"))[0].innerHTML=this.placeHolder,i.addClass(s.toThemeProperty("jqx-input-label")),(e=o("<span></span>")).addClass(s.toThemeProperty("jqx-input-bar")),i.insertAfter(this.textarea),e.insertAfter(this.textarea),e.css("top",this.host.height()),this.bar=e,this.label=i,(s=this).template&&(s.bar.addClass(s.toThemeProperty("jqx-"+s.template)),s.label.addClass(s.toThemeProperty("jqx-"+s.template)))),s._arrange(),s._refreshPlaceHolder(),s._addHandlers()}},refresh:function(e){!0!==e&&(this._setSize(),this._arrange(),this._removeHandlers(),this._addHandlers(),!0===this.opened&&this.open(),this.isMaterialized()&&this.bar.css("top",this.host.height()))},_arrange:function(){var e=this,t=e.textarea,i=t.scrollHeight-e._height(t),s=Math.max(0,i);e.vScrollBar.jqxScrollBar({max:s,value:t.scrollTop}),i<5?(t.style.width=this._toPx(e._width(e.element)),e.vScrollBar[0].style.visibility="hidden"):(t.style.width=this._toPx(e._width(e.element)-e.scrollBarSize-e._textareaWidthFix),e.vScrollBar[0].style.visibility="visible",e._arrangeScrollbars(e.scrollBarSize))},val:function(e){var t,i=this,s=i.textarea,r=s.value;if(0===arguments.length||"object"==typeof e&&!0===o.isEmptyObject(e)&&""!==e)return""!==i.displayMember&&""!==i.valueMember&&i.selectedItem?""===r?"":i.selectedItem:r;if(e&&e.label){if(i.selectedItem&&e.label===i.selectedItem.label&&e.value===i.selectedItem.value)return e.label;i.selectedItem={label:e.label,value:e.value},i.element.setAttribute("data-value",e.value),i.element.setAttribute("data-label",e.label),s.value=e.label,t=e.label}else{if(r===e)return e;s.value=e,i.element.setAttribute("data-value",e),i.element.setAttribute("data-label",e),t=e}return i._arrange(),i._refreshPlaceHolder(),i._raiseEvent("0"),t},focus:function(){this.textarea.focus()},selectAll:function(){var t=this.textarea;t[0]instanceof HTMLInputElement==!1&&(t=o(this.textarea)[0]),setTimeout(function(){var e;"selectionStart"in t?(t.focus(),t.setSelectionRange(0,t.value.length)):((e=t.createTextRange()).collapse(!0),e.moveEnd("character",t.value.length),e.moveStart("character",0),e.select())},10)},_arrangeScrollbars:function(e){var t=this,i=t._width(t.element),s=t._height(t.element),r=t.vScrollBar,n=r[0],o="hidden"!==n.style.visibility,s=(r.jqxScrollBar({width:e,height:parseInt(s,10)-2}),n.style.left=i-e-2-2+"px",n.style.top="0px",t._width(t.element)-t.vScrollBar.outerWidth());t.rtl?(n.style.left="0px",i=o?parseInt(e,10)+3+"px":0,t.textarea.style.paddingLeft=t._toPx(i),t.textarea.style.width=t._toPx(s-4)):"hidden"!==r.css("visibility")&&(t.textarea.style.width=this._toPx(s-t._textareaWidthFix)),r.jqxScrollBar("refresh")},destroy:function(){this._popupHelper.remove(),this.vScrollBar.jqxScrollBar("destroy"),this._removeHandlers(),this.host.remove()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.element.style.width=e._toPx(e.width),e.element.style.height=e._toPx(e.height),e._arrange())},propertyChangedHandler:function(e,t,i,s){if(void 0!==e.isInitialized&&!1!==e.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)&&s!==i)switch(t){case"theme":e.vScrollBar.jqxScrollBar({theme:e.theme});break;case"width":case"height":e.element.style[t]=e._toPx(s),e._arrange();break;case"source":e._oldsource=s,e._updateSource();break;case"displayMember":case"valueMember":e.source=e._oldsource,e._updateSource();break;case"opened":!0===s?e.open():e.close();break;case"maxLength":e.textarea.setAttribute("maxlength",s);break;case"placeHolder":e.textarea.setAttribute("placeholder",s),o.jqx.browser.msie&&o.jqx.browser.version<10&&e.textarea.value===i&&(e.textarea.value=s);break;case"scrollBarSize":e._arrange();break;case"dropDownWidth":e.$popup.style.width=e._toPx(s);break;case"roundedCorners":!0===s?(e.element.className+=" "+e.toThemeProperty("jqx-rc-all"),e.$popup.className+=" "+e.toThemeProperty("jqx-rc-all")):(e.host.removeClass(e.toThemeProperty("jqx-rc-all")),e._popupHelper.removeClass(e.toThemeProperty("jqx-rc-all")));break;case"disabled":e.vScrollBar.jqxScrollBar({disabled:s}),!0===s?(e.element.className+=" "+e.toThemeProperty("jqx-fill-state-disabled"),e.textarea.setAttribute("disabled","disabled")):(e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.textarea.removeAttribute("disabled")),o.jqx.aria(e,"aria-disabled",s);break;case"rtl":!0===s?e.textarea.className+=" "+e.toThemeProperty("jqx-text-area-element-rtl"):o(e.textarea).removeClass(e.toThemeProperty("jqx-text-area-element-rtl")),e._arrange();break;default:e.refresh()}},_raiseEvent:function(e,t){var i=this.events[e],s=((t=void 0===t?{owner:null}:t).owner=this,new o.Event(i));return s.owner=this,0==e&&(t.type=this.changeType,this.changeType=null),s.args=t,s.preventDefault&&s.preventDefault(),"change"!==i&&this._baseHost[0].tagName.toLowerCase(),this.host.trigger(s)},_addHandlers:function(){var t=this,e=t.element.id,i=t.host,s=t.textarea,r=o.jqx.browser.mozilla?"wheel":"mousewheel";t.addHandler(i,r+".jqxTextArea"+e,function(e){t.wheel(e,t)}),t.addHandler(i,"mouseenter.jqxTextArea"+e,function(){t.focused=!0}),t.addHandler(i,"mouseleave.jqxTextArea"+e,function(){t.focused=!1}),t.addHandler(i,"focus.jqxTextArea"+e,function(){t.focused=!0}),t.addHandler(i,"blur.jqxTextArea"+e,function(){t.focused=!1}),t.addHandler(t.wrapper,"scroll.jqxTextArea"+e,function(){0!==t.wrapper.scrollTop&&(t.wrapper.scrollTop=0),0!==t.wrapper.scrollLeft&&(t.wrapper.scrollLeft=0)}),t.addHandler(s,"change.jqxTextArea"+e,function(e){t.opened||(e.stopPropagation(),e.preventDefault(),t._arrange(),t._refreshPlaceHolder(),t._raiseEvent("0"))}),t.addHandler(s,"select.jqxTextArea"+e,function(e){e.stopPropagation(),e.preventDefault()}),t.addHandler(s,"scroll.jqxTextArea"+e,function(){var e=Math.max(0,s.scrollHeight-t._height(s));t.vScrollBar.jqxScrollBar({max:e,value:s.scrollTop})}),t.addHandler(s,"focus.jqxTextArea"+e,function(){t.element.className+=" "+t.toThemeProperty("jqx-fill-state-focus"),o.jqx.browser.msie&&o.jqx.browser.version<10&&s.value===t.placeHolder&&(s.value="")}),t.addHandler(s,"blur.jqxTextArea"+e,function(){var e;t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),o.jqx.browser.msie&&o.jqx.browser.version<10&&(""===(e=t.textarea.value)?t.textarea.value=t.placeHolder:null!==t.maxLength&&e.length>t.maxLength&&(t.textarea.value=e.substr(0,t.maxLength)))}),t.addHandler(s,"keydown.jqxTextArea"+e,function(e){t._suppressKeyPressRepeat=~o.inArray(e.keyCode,[40,38,9,13,27]),t.changeType="keyboard",t._move(e)}),t.addHandler(s,"keypress.jqxTextArea"+e,function(e){if(null!==t.maxLength&&o.jqx.browser.msie&&o.jqx.browser.version<10&&s.value.length>t.maxLength)return!1;t._suppressKeyPressRepeat||t._move(e)}),t.addHandler(s,"keyup.jqxTextArea"+e,function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!t.opened)return;t._select();break;case 27:if(!t.opened)return;t.close();break;default:t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){t._suggest()},300)}e.preventDefault(),t._arrange()}),t.addHandler(t.vScrollBar,"valueChanged.jqxTextArea"+e,function(e){s.scrollTop=e.currentValue}),t.addHandler(t.$popup,"mousedown.jqxTextArea"+e,function(e){e.stopPropagation(),e.preventDefault(),t.changeType="mouse",t._select()})},_refreshPlaceHolder:function(){var e=this;e.isMaterialized()&&e.hint||("placeholder"in this.textarea&&!(o.jqx.browser.msie&&o.jqx.browser.version<9)?e.textarea.setAttribute("placeHolder",e.placeHolder):""===e.textarea.value&&(e.textarea.value=e.placeHolder)),e.hint&&(""!==e.textarea.value?e.element.setAttribute("hint",!0):e.element.removeAttribute("hint"),e.label&&(e.label.innerHTML=e.placeHolder))},_removeHandlers:function(){var e=this,t=e.element.id,i=e.host,s=e.textarea;o.jqx.utilities.resize(e._baseHost,null,!0),e.removeHandler(i,"mousewheel.jqxTextArea"+t),e.removeHandler(i,"mouseenter.jqxTextArea"+t),e.removeHandler(i,"mouseleave.jqxTextArea"+t),e.removeHandler(i,"focus.jqxTextArea"+t),e.removeHandler(i,"blur.jqxTextArea"+t),e.removeHandler(e.wrapper,"scroll.jqxTextArea"+t),e.removeHandler(s,"change.jqxTextArea"+t),e.removeHandler(s,"select.jqxTextArea"+t),e.removeHandler(s,"scroll.jqxTextArea"+t),e.removeHandler(s,"focus.jqxTextArea"+t),e.removeHandler(s,"blur.jqxTextArea"+t),e.removeHandler(s,"keydown.jqxTextArea"+t),e.removeHandler(s,"keypress.jqxTextArea"+t),e.removeHandler(s,"keyup.jqxTextArea"+t),e.removeHandler(e.vScrollBar,"valueChanged.jqxTextArea"+t),e.removeHandler(e.$popup,"mousedown.jqxTextArea"+t)},_itemHandler:function(e){o(this._find("jqx-fill-state-pressed",this._popupHelper)).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),e.currentTarget.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},wheel:function(e,t){var i=0;if(e.originalEvent&&o.jqx.browser.msie&&e.originalEvent.wheelDelta&&(i=e.originalEvent.wheelDelta/120),(e=e||window.event).wheelDelta?i=e.wheelDelta/120:e.detail?i=-e.detail/3:e.originalEvent.wheelDelta?i=e.originalEvent.wheelDelta/120:e.originalEvent.detail?i=-e.originalEvent.detail/3:e.originalEvent.deltaY&&(i=-e.originalEvent.deltaY/3),i)return(t=t._handleDelta(i))||e.preventDefault&&e.preventDefault(),t&&!1;e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){var t=this.vScrollBar.jqxScrollBar("getInstance");if(this.focused){var i=t.value;if(e<0?this.scrollDown():this.scrollUp(),i!==t.value)return!1}return!0},scrollDown:function(){if("hidden"===this.vScrollBar.css("visibility"))return!1;var e=this.vScrollBar.jqxScrollBar("getInstance"),t=Math.min(e.value+e.largestep,e.max);return e.setPosition(t),this._arrange(),!0},scrollUp:function(){if("hidden"===this.vScrollBar.css("visibility"))return!1;var e=this.vScrollBar.jqxScrollBar("getInstance"),t=Math.max(e.value-e.largestep,e.min);return e.setPosition(t),this._arrange(),!0},_setSize:function(){this.element.style.width=this._toPx(this.width),this.element.style.height=this._toPx(this.height)},_addClasses:function(){var e=this,t="jqx-panel jqx-widget jqx-widget-content jqx-text-area";e.textarea.className+=" "+e.toThemeProperty("jqx-widget jqx-widget-content"),!0===e.roundedCorners&&(t+=" jqx-rc-all"),!0===e.disabled?(t+=" jqx-fill-state-disabled",e.textarea.setAttribute("disabled","disabled"),o.jqx.aria(e,"aria-disabled",!0)):o.jqx.aria(e,"aria-disabled",!1),!0===e.rtl&&(e.textarea.className+=" "+e.toThemeProperty("jqx-text-area-element-rtl")),e.element.className+=" "+e.toThemeProperty(t)},_addPopupClasses:function(){var e="jqx-popup jqx-input-popup jqx-menu jqx-menu-vertical jqx-menu-dropdown jqx-widget jqx-widget-content";o.jqx.browser.msie&&(e+=" jqx-noshadow"),this.roundedCorners&&(e+=" jqx-rc-all"),this.$popup.className+=" "+this.toThemeProperty(e)},_updateSource:function(){function e(e){for(var t=[],i=0;i<e.length;i++)t[i]=r(e[i]);return t}var t,s=this,r=function(e){return void 0===e?null:"string"==typeof e||e instanceof String?{label:e,value:e}:"string"!=typeof e&&e instanceof String==!1?((i=t="")!==s.displayMember&&void 0!==s.displayMember&&e[s.displayMember]&&(t=e[s.displayMember]),""!==s.valueMember&&void 0!==s.valueMember&&(i=e[s.valueMember]),{label:t=""===t?e.label:t,value:i=""===i?e.value:i}):e;var t,i};if(this.source&&this.source._source)return this.adapter=this.source,null!=this.adapter._source.localdata?(this.adapter.unbindBindingUpdate(this.element.id),this.adapter.bindBindingUpdate(this.element.id,function(){s.source=e(s.adapter.records)})):(t={},this.adapter._options.data?o.extend(s.adapter._options.data,t):(this.source._source.data&&o.extend(t,this.source._source.data),this.adapter._options.data=t),this.adapter.unbindDownloadComplete(this.element.id),this.adapter.bindDownloadComplete(this.element.id,function(){s.source=e(s.adapter.records)})),void this.source.dataBind();o.isFunction(this.source)||(this.source=e(this.source))},open:function(){var e,t,i;if(!o.jqx.isHidden(this.host))return e=o.extend({},this.host.coord(!0),{height:this.element.offsetHeight}),this.$popup.parentNode!==document.body&&(i=this.element.id+"_popup",this.$popup.id=i,o.jqx.aria(this,"aria-owns",i),document.body.appendChild(this.$popup)),this.$popup.style.position="absolute",this.$popup.style.zIndex=this.popupZIndex,this.$popup.style.top=this._toPx(e.top+e.height),this.$popup.style.left=this._toPx(e.left),this.$popup.style.display="block",t=0,i=this._popupHelper.children(),o.each(i,function(){t+=o(this).outerHeight()+1}),this.$popup.style.height=this._toPx(t),this.opened=!0,this._raiseEvent("2",{popup:this.$popup}),o.jqx.aria(this,"aria-expanded",!0),this},close:function(){return this.$popup.style.display="none",this.opened=!1,this._raiseEvent("3",{popup:this.$popup}),o.jqx.aria(this,"aria-expanded",!1),this},_suggest:function(){var e,t=this;return t.query=t.textarea.value,!t.query||t.query.length<t.minLength?t.opened?t.close():t:(e=o.isFunction(t.source)?t.source(t.query,o.proxy(t._load,this)):t.source)?t._load(e):t},_load:function(e){var t=this;return e=o.grep(e,function(e){return t.filter(e)}),(e=t.sort(e)).length?t._render(e.slice(0,t.items)).open():t.opened?t.close():t},_filter:function(e){var t=this.query,i=e;switch(void 0!==e.label?i=e.label:this.displayMember&&(i=e[this.displayMember]),this.searchMode){case"none":break;case"contains":return o.jqx.string.contains(i,t);case"equals":return o.jqx.string.equals(i,t);case"equalsignorecase":return o.jqx.string.equalsIgnoreCase(i,t);case"startswith":return o.jqx.string.startsWith(i,t);case"startswithignorecase":return o.jqx.string.startsWithIgnoreCase(i,t);case"endswith":return o.jqx.string.endsWith(i,t);case"endswithignorecase":return o.jqx.string.endsWithIgnoreCase(i,t);default:return o.jqx.string.containsIgnoreCase(i,t)}},_sort:function(e){for(var t=[],i=[],s=[],r=0;r<e.length;r++){var n=e[r],o=n;n.label?o=n.label:this.displayMember&&(o=n[this.displayMember]),0===o.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())?t.push(n):0<=o.toString().indexOf(this.query)?i.push(n):0<=o.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())&&s.push(n)}return t.concat(i,s)},escape_HTML:function(e){return e.replace(/[&<>"]/g,function(e){return{"&":"&","<":"<",">":">",'"':'"'}[e]||e})},_render:function(e){var a=this,t=a._popupHelper.children();if(0<t.length)for(var i=0;i<t.length;i++)o(t[i]).remove();for(var s=function(e,t){var i,s=e,r=document.createElement("li"),n=document.createElement("a"),o=(n.setAttribute("href","#"),r.appendChild(n),o=void 0!==e.value&&null!==e.value?(i=void 0!==e.label&&null!==e.label?e.label:e.value,a.escape_HTML(e.value)):void 0!==e.label&&null!==e.label?(i=e.label,e.label):void 0!==a.displayMember&&""!==a.displayMember?(i=e[a.displayMember],e[a.valueMember]):i=e,r.setAttribute("data-value",o),r.setAttribute("data-name",i),e.label?s=e.label:a.displayMember&&(s=e[a.displayMember]),n.innerHTML=a.highlight(s),"");a.rtl&&(o=" jqx-rtl"),0===t&&(o+=" jqx-fill-state-pressed"),r.className=a.toThemeProperty("jqx-item jqx-menu-item jqx-rc-all"+o),a.$popup.appendChild(r),a.addHandler(r,"mouseenter",function(e){a._itemHandler(e)})},r=e,n=0;n<r.length;n++)s(r[n],n);return this.dropDownWidth?this.$popup.style.width=a._toPx(a.dropDownWidth):this.$popup.style.width=a._toPx(a.element.offsetWidth-6),this},_highlight:function(e){var t=(t=this.query).replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t=new RegExp("("+t+")","ig");return e.replace(t,function(e,t){return"<b>"+t+"</b>"})},_select:function(){var e=this._find("jqx-fill-state-pressed",this._popupHelper),t=e.getAttribute("data-value"),e=e.getAttribute("data-name");return this.textarea.value=this.renderer(e,this.textarea.value),this.selectedItem={label:e,value:t},this.element.setAttribute("data-value",t),this.element.setAttribute("data-label",e),this._raiseEvent("1",{item:{label:e,value:t}}),this._arrange(),this.textarea.scrollTop=this.textarea.scrollHeight,this._raiseEvent("0"),this.close()},_renderer:function(e){return e},_move:function(e){if(this.opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.shiftKey||(e.preventDefault(),this._prev());break;case 40:e.shiftKey||(e.preventDefault(),this._next())}e.stopPropagation()}},_next:function(){var e=this._find("jqx-fill-state-pressed",this._popupHelper),t=e.nextSibling;o(e).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),(t=t||this.$popup.firstChild).className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},_prev:function(){var e=this._find("jqx-fill-state-pressed",this._popupHelper),t=e.previousSibling;o(e).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),(t=t||this.$popup.lastChild).className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},_toPx:function(e){return"number"==typeof e?e+"px":e},_find:function(e,t){for(var i=t.children(),s=0;s<i.length;s++){var r=i[s];if(-1!==r.className.indexOf(e))return r}},_width:function(e){var t=o(e),i=t.css("border-left-width"),s=t.css("border-right-width"),r=parseInt(t.css("padding-left"),10),t=parseInt(t.css("padding-right"),10),i=-1===i.indexOf("px")?1:parseInt(i,10),s=-1===s.indexOf("px")?1:parseInt(s,10),e=e.offsetWidth-(i+s+r+t);return 0<e?e:""},_height:function(e){var t=o(e),i=t.css("border-top-width"),s=t.css("border-bottom-width"),r=parseInt(t.css("padding-top"),10),t=parseInt(t.css("padding-bottom"),10),i=-1===i.indexOf("px")?1:parseInt(i,10),s=-1===s.indexOf("px")?1:parseInt(s,10),e=e.offsetHeight-(i+s+r+t);return 0<e?e:""}})}(jqxBaseFramework),!function(u){u.jqx.jqxWidget("jqxToolBar","",{}),u.extend(u.jqx._jqxToolBar.prototype,{defineInstance:function(){var e={width:"100%",minWidth:null,maxWidth:null,height:35,tools:"",initTools:null,minimizeWidth:200,disabled:!1,rtl:!1,events:["open","close"]};return this===u.jqx._jqxToolBar.prototype||u.extend(!0,this,e),e},createInstance:function(){"none"!==this.host.css("display")&&!1!==document.body.contains(this.element)||(this._initiallyHidden=!0),this._toolToWidgetMapping={button:"jqxButton",toggleButton:"jqxToggleButton",dropdownlist:"jqxDropDownList",combobox:"jqxComboBox",input:"jqxInput"},this._toolChanges=[],this.render()},render:function(){var e=this,t=!0;e.element.innerHTML="",0<e.element.className.length&&e._removeClass(e.element,e.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-rc-all jqx-toolbar jqx-fill-state-disabled")),e._setSize(),e._destroyTools(!1),e._toolWidgets&&(t=!1,u(e._minimizeButton).remove(),u(e._minimizePopup).remove()),e._appendMinimizeButton(),e._addClasses(),e._initiallyHidden||e._createTools(),!0===e.disabled&&(e.element.className+=" "+e.toThemeProperty("jqx-fill-state-disabled"),e._disableTools(!0)),e._initiallyHidden||e._minimize(),e._removeHandlers(),e._addHandlers(),!1===t&&0<e._toolChanges.length&&e._restoreChanges()},refresh:function(e){!0!==e&&this.render()},getTools:function(){return this._toolWidgets},destroy:function(){this._removeHandlers(),this._destroyTools(),this.host.remove()},_destroyTools:function(e){if(!1!==e&&(e=!0),this._toolWidgets)for(var t=this._toolWidgets.length-1;0<=t;t--)this._destroyTool(t,e,!0)},_destroyTool:function(e,t,i){e=parseInt(e,10);var s,r,n,o=this._toolWidgets[e];o&&(s=o.type,r=o.tool,n=o.menuTool,"custom"!==s?(r[this._toolToWidgetMapping[s]]("destroy"),n&&n[this._toolToWidgetMapping[s]]("destroy")):(r.remove(),n&&n.remove()),o.menuSeparator&&u(o.menuSeparator).remove(),this._toolWidgets.splice(e,1),this._checkType(s)&&this._refreshButtonGroups(),!0!==i&&this._minimize(),!1!==t&&this._toolChanges.push({action:"destroyTool",index:e}))},destroyTool:function(e){this._destroyTool(e,!0)},addTool:function(e,t,i,s){var r,n,o,a=this,l="first"===t?0:a._toolWidgets.length,l=(a._toolWidgets[l-1]&&(r=a._toolWidgets[l-1].tool,n=a._toolWidgets[l-1].separatorAfterWidget?"|":a._toolWidgets[l-1].type),!0===i?o="|":a._toolWidgets[l+1]&&(o=a._toolWidgets[l+1].type),a._initializeTool(l,e,r,n,o,s,!1));"first"===t?a._toolWidgets.splice(0,0,l):a._toolWidgets.push(l),a._removeHandlers(),a._addHandlers(),a._checkType(e)&&a._refreshButtonGroups(),"first"!==t&&0<a._minimizedTools?a._minimizeTool(!0):a._minimize(),a._toolChanges.push({action:"addTool",type:e,position:t,separator:i,initCallback:s})},_disableTools:function(e){for(var t=0;t<this._toolWidgets.length;t++)this.disableTool(t,e)},disableTool:function(e,t){e=parseInt(e,10);var i,s=this._toolWidgets[e];s&&("custom"!==(i=s.type)&&(s.tool[this._toolToWidgetMapping[i]]({disabled:t}),s.menuTool[this._toolToWidgetMapping[i]]({disabled:t})),this._toolChanges.push({action:"disableTool",index:e,disable:t}))},propertyChangedHandler:function(e,t,i,s){if("initTools"!==t&&s!==i)switch(t){case"theme":""!==i&&(e._removeClass(e.element,e.toThemeProperty("jqx-widget-"+i+" jqx-fill-state-normal-"+i+" jqx-rc-all-"+i+" jqx-toolbar-"+i)),e._removeClass(e._minimizePopup,"jqx-popup-"+i+" jqx-fill-state-normal-"+i+" jqx-rc-b-"+i+" jqx-toolbar-minimized-popup-"+i)),e._addClasses(),e._minimizePopup.className+=" "+e.toThemeProperty("jqx-popup jqx-fill-state-normal jqx-rc-b jqx-toolbar-minimized-popup");for(var r=0;r<e._toolWidgets.length;r++){var n=e._toolWidgets[r];"custom"!==n.type&&(n.menuTool&&(n.menuSeparator&&(""!==i&&e._removeClass(n.menuSeparator,"jqx-fill-state-pressed-"+i+" jqx-toolbar-minimized-popup-separator-"+i),n.menuSeparator.className+=" jqx-fill-state-pressed-"+s+" jqx-toolbar-minimized-popup-separator-"+s),n.menuTool[e._toolToWidgetMapping[e._toolWidgets[r].type]]({theme:s})),n.tool[e._toolToWidgetMapping[e._toolWidgets[r].type]]({theme:s}))}u.jqx.utilities.setTheme(i,s,e.host);break;case"width":e.element.style.width=e._toPx(s),e._minimize();break;case"minWidth":e.element.style.minWidth=e._toPx(s),e._minimize();break;case"maxWidth":e.element.style.maxWidth=e._toPx(s),e._minimize();break;case"height":var o,a=!1;if(e.element.style.height=e._toPx(s),"string"==typeof s&&-1!==s.indexOf("%")){if("string"==typeof i&&-1!==i.indexOf("%"))return void e.host.trigger("resize");a=!0}else o=parseInt(s,10),o-=e._getComputedStyle(e.element,"paddingTop")+e._getComputedStyle(e.element,"paddingBottom")+e._getComputedStyle(e.element,"borderTopWidth")+e._getComputedStyle(e.element,"borderBottomWidth");for(var l=0;l<e._toolWidgets.length;l++){var d=e._toolWidgets[l],h=d.type;"button"===h||"toggleButton"===h||"repeatButton"===h||"linkButton"===h?(d.tool[0].style.height=a?"100%":e._toPx(o),d.menuTool&&(d.menuTool[0].style.height=a?"100%":e._toPx(o))):"dropdownlist"!==h&&"combobox"!==h&&"input"!==h||(d.tool[e._toolToWidgetMapping[h]]({height:a?"100%":o-2}),d.menuTool&&d.menuTool[e._toolToWidgetMapping[h]]({height:a?"100%":o-2}))}break;case"tools":e._removeHandlers(),e._destroyTools(),e._createTools(),e._addHandlers(),e._minimize();break;case"minimizeWidth":var c;!0===e._isOpen?(c=e._getComputedStyle(e._minimizePopup,"left")-(s-i),e._minimizePopup.style.width=e._toPx(s),e._minimizePopup.style.left=e._toPx(c)):e._minimizePopup.style.width=e._toPx(s);break;case"rtl":e.render();break;case"disabled":!0===s?(e.element.className+=" "+e.toThemeProperty("jqx-fill-state-disabled"),e._disableTools(!0)):(e._removeClass(e.element,e.toThemeProperty("jqx-fill-state-disabled")),e._disableTools(!1))}},_raiseEvent:function(e,t){e=this.events[e],(t=void 0===t?{owner:null}:t).owner=this,e=new u.Event(e);return e.owner=this,e.args=t,e.preventDefault&&e.preventDefault(),this.host.trigger(e)},_addClasses:function(){var e="jqx-widget jqx-fill-state-normal jqx-rc-all jqx-toolbar";!0===this.rtl&&(e+=" jqx-toolbar-rtl"),this.element.className+=" "+this.toThemeProperty(e)},_checkType:function(e){return"button"===e||"toggleButton"===e||"repeatButton"===e||"linkButton"===e},_refreshButtonGroups:function(){var l=this;function e(e,t,i,s,r,n){var o=e.tool[0],e=e.menuTool[0],a={add:"",remove:""};a[t]+=" jqx-toolbar-tool-inner-button",a[i]+=" jqx-rc-all",a[s]+=" jqx-rc-l",a[r]+=" jqx-rc-r",""!==a.add&&(o.className+=" "+l.toThemeProperty(u.trim(a.add)),e&&(e.className+=" "+l.toThemeProperty(u.trim(a.add)))),""!==a.remove&&(l._removeClass(o,l.toThemeProperty(u.trim(a.remove))),e&&l._removeClass(e,l.toThemeProperty(u.trim(a.remove)))),o.style.borderLeftWidth=n+"px",e&&(e.style.borderLeftWidth=n+"px")}for(var t=0;t<l._toolWidgets.length;t++){var i,s,r,n,o,a,d=l._toolWidgets[t];l._checkType(d.type)&&(r=d.tool,n=d.menuTool,0<t&&(i=l._toolWidgets[t-1].separatorAfterWidget?"|":l._toolWidgets[t-1]),d.separatorAfterWidget?s="|":t<l._toolWidgets.length-1&&(s=l._toolWidgets[t+1]),a=i&&l._checkType(i.type),o=!1===d.separatorAfterWidget&&s&&l._checkType(s.type),a||o?!a&&o?e(d,"remove","remove","add","remove",1):a&&o?e(d,"add","remove","remove","remove",0):a&&!o&&e(d,"remove","remove","remove","add",0):e(d,"remove","add","remove","remove",1),a=l.rtl?"rtl":"ltr",o?(l._removeClass(r[0],l.toThemeProperty("jqx-toolbar-tool-separator-"+a)),l._removeClass(r[0],l.toThemeProperty("jqx-toolbar-tool-no-separator-"+a)),n&&(l._removeClass(n[0],l.toThemeProperty("jqx-toolbar-tool-separator-"+a)),l._removeClass(n[0],l.toThemeProperty("jqx-toolbar-tool-no-separator-"+a)))):d.separatorAfterWidget?(l._removeClass(r[0],l.toThemeProperty("jqx-toolbar-tool-no-separator-"+a)),r[0].className+=" "+l.toThemeProperty("jqx-toolbar-tool-separator-"+a),n&&(l._removeClass(n[0],l.toThemeProperty("jqx-toolbar-tool-no-separator-"+a)),n[0].className+=" "+l.toThemeProperty("jqx-toolbar-tool-separator-"+a))):(l._removeClass(r[0],l.toThemeProperty("jqx-toolbar-tool-separator-"+a)),r[0].className+=" "+l.toThemeProperty("jqx-toolbar-tool-no-separator-"+a),n&&(l._removeClass(n[0],l.toThemeProperty("jqx-toolbar-tool-separator-"+a)),n[0].className+=" "+l.toThemeProperty("jqx-toolbar-tool-no-separator-"+a))))}},_addHandlers:function(){var t=this,e=t.element.id;u.jqx.utilities.resize(t.host,function(){if(t._initiallyHidden)return t._createTools(),t._minimize(),void(t._initiallyHidden=!1);!0===t._isOpen&&(t._minimizePopup.style.display="none",t._isOpen=!1,t._raiseEvent("1")),t._minimize()}),t.addHandler(document,"click.jqxToolbar"+e,function(){!0===t._isOpen&&t._openMinimizePopup()}),t.addHandler(t._minimizeButton,"click.jqxToolbar"+e,function(e){e.stopPropagation(),t._openMinimizePopup()}),t.addHandler(u(".jqx-popup"),"click.jqxToolbar"+e,function(e){-1===e.target.className.indexOf("jqx-window-content")&&e.stopPropagation()})},_removeHandlers:function(){var e=this.element.id;this.removeHandler(document,"click.jqxToolbar"+e),this.removeHandler(this._minimizeButton,"click.jqxToolbar"+e),this.removeHandler(u(".jqx-popup"),"click.jqxToolbar"+e)},_setSize:function(){var e=this,t=e.element.style;t.width=e._toPx(e.width),t.height=e._toPx(e.height),e.minWidth&&(t.minWidth=e._toPx(e.minWidth)),e.maxWidth&&(t.maxWidth=e._toPx(e.maxWidth))},_createTools:function(){var e=this,t=e.tools.split(" "),i=u.trim(e.tools.replace(/\|/g,""));i=(i=i.replace(/\s+/g," ")).split(" "),e._toolWidgets=[];for(var s=0,r=0;r<i.length;r++){i[r]!==t[r+s]&&s++;var n,o=r+s,a=(e._toolWidgets[r-1]&&(n=e._toolWidgets[r-1].tool),t[o]),l=t[o-1],o=t[o+1],d=e.initTools;if(""===a)return!0;a=e._initializeTool(r,a,n,l,o,d,!0);e._toolWidgets.push(a)}e._minimizePopup.style.display="none",e._minimizePopup.style.visibility="visible"},_initializeTool:function(e,t,i,s,r,n,o){var a,l,d=this,i=d._initializeWidget(t,void 0,c,i),h=i.tool,c=i.menuTool,i=h[0],u="jqx-toolbar-tool",p=c[0],m=!0,o=(!0===d.rtl&&(u+=" jqx-toolbar-tool-rtl"),d.initTools&&(!(g=!0===o?d.initTools(t,e,h,!1):n(t,h,!1))||!1!==g.minimizable&&!1!==g.menuTool?(!0===o?d.initTools(t,e,c,!0):n(t,c,!0),c&&(a="jqx-toolbar-tool-minimized")):("custom"!==t?c[d._toolToWidgetMapping[t]]("destroy"):c.remove(),!1===g.minimizable&&(m=!1),c=!1)),!1),e=(c&&(p.style.display="none"),d.rtl?"rtl":"ltr"),n=["button","toggleButton","repeatButton","linkButton"],g={button:"jqxButton",toggleButton:"jqxToggleButton",repeatButton:"jqxRepeatButton",linkButton:"jqxRepeatButton"};return"|"===r?(o=!0,u+=" jqx-toolbar-tool-separator-"+e,c&&(a+=" jqx-toolbar-tool-separator-"+e),c&&((l=document.createElement("div")).className=d.toThemeProperty("jqx-fill-state-pressed jqx-toolbar-minimized-popup-separator"),d._minimizePopup.appendChild(l))):(-1===n.indexOf(t)||-1!==n.indexOf(t)&&-1===n.indexOf(r))&&(u+=" jqx-toolbar-tool-no-separator-"+e,c&&(a+=" jqx-toolbar-tool-no-separator-"+e)),-1===n.indexOf(s)&&-1!==n.indexOf(t)&&-1!==n.indexOf(r)?!1===d.rtl?(h[g[t]]({roundedCorners:"left"}),c&&c[g[t]]({roundedCorners:"left"})):(h[g[t]]({roundedCorners:"left"}),i.style.borderLeftWidth="0px",c&&(c[g[t]]({roundedCorners:"left"}),p.style.borderLeftWidth="0px")):-1!==n.indexOf(s)&&-1!==n.indexOf(t)&&-1!==n.indexOf(r)?(u+=" jqx-toolbar-tool-inner-button",i.style.borderLeftWidth="0px",c&&(a+=" jqx-toolbar-tool-inner-button",p.style.borderLeftWidth="0px")):-1!==n.indexOf(s)&&-1!==n.indexOf(t)&&-1===n.indexOf(r)&&(!1===d.rtl?(h[g[t]]({roundedCorners:"right"}),i.style.borderLeftWidth="0px",c&&(c[g[t]]({roundedCorners:"right"}),p.style.borderLeftWidth="0px")):(h[g[t]]({roundedCorners:"left"}),c&&c[g[t]]({roundedCorners:"left"}))),i.className+=" "+d.toThemeProperty(u),c&&(p.className+=" "+d.toThemeProperty(a)),{type:t,tool:h,separatorAfterWidget:o,minimizable:m,minimized:!1,menuTool:c,menuSeparator:l}},_initializeWidget:function(e,t,i,s){var r,n,o,a,l=this,d=l._toolToWidgetMapping[e],h=!1;if("string"==typeof l.height&&-1!==l.height.indexOf("%")?h=!0:(o=window.getComputedStyle?window.getComputedStyle(l.element):l.element.currentStyle,n=l.element.offsetHeight-(parseInt(o.paddingTop,10)+parseInt(o.paddingBottom,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10))),"custom"!==e&&void 0===l.host[d])throw o=l._toolToWidgetMapping[e].toLowerCase(),new Error("jqxToolBar: Missing reference to "+o+".js");switch(e){case"button":case"toggleButton":t=document.createElement("button"),i=document.createElement("button"),r={theme:l.theme,height:h?"100%":n,disabled:l.disabled,rtl:l.rtl};break;case"dropdownlist":case"combobox":t=document.createElement("div"),i=document.createElement("div"),r={theme:l.theme,autoDropDownHeight:!0,height:h?"100%":n-2,disabled:l.disabled,rtl:l.rtl};break;case"input":(t=document.createElement("input")).setAttribute("type","text"),(i=document.createElement("input")).setAttribute("type","text"),r={theme:l.theme,height:h?"100%":n-2,disabled:l.disabled,rtl:l.rtl};break;case"custom":t=document.createElement("div"),i=document.createElement("div")}return o=l.host.children(),a=u(l._minimizePopup).children(),s||1===o.length&&0===a.length?(l.element.appendChild(t),l._minimizePopup.appendChild(i)):(l.element.insertBefore(t,o[1]),l._minimizePopup.insertBefore(i,a[0])),t=u(t),i=u(i),"custom"!==e&&(t[d](r),i[d](r)),{tool:t,menuTool:i}},_appendMinimizeButton:function(){var e=this,t=(e._minimizedTools=0,document.createElement("div")),i="jqx-menu-minimized-button jqx-toolbar-minimized-button",s=document.createElement("div"),r="jqx-popup jqx-fill-state-normal jqx-rc-b jqx-toolbar-minimized-popup";s.setAttribute("id",e.element.id+"Popup"),!0===e.rtl&&(i+=" jqx-toolbar-minimized-button-rtl",r+=" jqx-toolbar-minimized-popup-rtl"),t.className=e.toThemeProperty(i),s.className=e.toThemeProperty(r),e.element.appendChild(t),document.body.appendChild(s),e._isOpen=!1,s.style.width=e._toPx(e.minimizeWidth),e._minimizeButton=t,e._minimizePopup=s},_openMinimizePopup:function(){var e,t,i=this;!1===i._isOpen?(e=(t=i.host.offset()).left,!1===i.rtl&&(e+=i.element.offsetWidth-parseInt(i.minimizeWidth,10)-(i._getComputedStyle(i._minimizePopup,"paddingLeft")+i._getComputedStyle(i._minimizePopup,"paddingRight")+i._getComputedStyle(i._minimizePopup,"borderLeftWidth")+i._getComputedStyle(i._minimizePopup,"borderRightWidth"))),t=t.top+i.element.offsetHeight-1,i._minimizePopup.style.left=e+"px",i._minimizePopup.style.top=t+"px",u(i._minimizePopup).slideDown("fast",function(){i._isOpen=!0,i._raiseEvent("0")})):(u(i._minimizePopup).slideUp("fast"),i._isOpen=!1,i._raiseEvent("1"))},_minimize:function(){var e=this,t=0;0<e._minimizedTools&&(t=e._minimizeButton.offsetWidth+e._getComputedStyle(e._minimizeButton,"marginLeft"));t=e.element.offsetWidth-e._getComputedStyle(e.element,"paddingLeft")-e._getComputedStyle(e.element,"paddingRight")-t-10;if(!(t<0)){for(var i,s,r=0,n=0;n<e._toolWidgets.length;n++){var o=e._toolWidgets[n].tool;!1===e._toolWidgets[n].minimized?r+=o[0].offsetWidth+e._getComputedStyle(o[0],"marginLeft")+e._getComputedStyle(o[0],"marginRight"):void 0===i&&(o=o[0],s=void 0,(o=o.cloneNode(!0)).style.visibility="hidden",o.style.display="block",o.style.position="absolute",document.body.appendChild(o),s=o.offsetWidth+e._getComputedStyle(o,"marginLeft")+e._getComputedStyle(o,"marginRight"),u(o).remove(),i=s)}t<r?(e._minimizeTool(!0),e._minimize()):void 0!==i&&r+i<t&&(e._minimizeTool(!1),e._minimize())}},_minimizeTool:function(e){var t,i,s=this;if(!0===e){for(var r=s._toolWidgets.length-1;0<=r;r--)if(!1!==(t=s._toolWidgets[r]).minimizable&&!1===t.minimized){i=s._getToolValue(t.tool,t.type),t.tool[0].style.display="none",t.menuTool&&(t.menuTool[0].style.display="block",s._setToolValue(i,t.menuTool,t.type)),t.menuSeparator&&(t.menuSeparator.style.display="block"),s._toolWidgets[r].minimized=!0,s._minimizedTools++,1===s._minimizedTools&&(s._minimizeButton.style.display="block");break}}else for(var n=0;n<s._toolWidgets.length;n++)if(!0===(t=s._toolWidgets[n]).minimized){t.menuTool&&(i=s._getToolValue(t.menuTool,t.type),t.menuTool[0].style.display="none"),t.menuSeparator&&(t.menuSeparator.style.display="none"),t.tool.show(),t.menuTool&&s._setToolValue(i,t.tool,t.type),s._toolWidgets[n].minimized=!1,s._minimizedTools--,0===s._minimizedTools&&(s._minimizeButton.style.display="none");break}},_getToolValue:function(e,t){switch(t){case"button":case"custom":s=void 0;break;case"toggleButton":var i=-1!==e[0].className.indexOf("jqx-fill-state-pressed"),s={text:e[0].innerHTML,toggled:i};break;case"dropdownlist":case"combobox":i=this._toolToWidgetMapping[t];s=e[i]("checkboxes")?e[i]("val"):e[i]("getSelectedIndex");break;case"input":s=e.val()}return s},_setToolValue:function(e,t,i){if(void 0!==e)switch(i){case"button":case"custom":break;case"toggleButton":t[0].innerHTML=e.text,-1!==t[0].className.indexOf("jqx-fill-state-pressed")!==e.toggled&&t.jqxToggleButton("toggle");break;case"dropdownlist":case"combobox":var s=this._toolToWidgetMapping[i];if(t[s]("checkboxes")){if(t[s]("uncheckAll"),""===e)return;for(var r=e.split(","),n=0;n<r.length;n++)t[s]("checkItem",r[n])}else e=t[s]("selectIndex",e);break;case"input":t.val(e)}},_restoreChanges:function(){var i=this;u.each(i._toolChanges,function(e,t){"addTool"===t.action?i.addTool(t.type,t.position,t.separator,t.initCallback):"destroyTool"===t.action?i._destroyTool(t.index):"disableTool"===t.action&&i.disableTool(t.index,t.disable)})},_removeClass:function(e,t){u(e).removeClass(t)},_toPx:function(e){return"number"==typeof e?e+"px":e},_getComputedStyle:function(e,t){var i;return window.getComputedStyle?i=window.getComputedStyle(e):e.currentStyle&&(i=e.currentStyle),"string"==typeof i[t]&&-1===i[t].indexOf("px")?0:parseInt(i[t],10)}})}(jqxBaseFramework),!function(p){p.jqx.jqxWidget("jqxTooltip","",{}),p.extend(p.jqx._jqxTooltip.prototype,{defineInstance:function(){var e={width:"auto",height:"auto",position:"default",enableBrowserBoundsDetection:!0,content:"",left:0,top:0,absolutePositionX:0,absolutePositionY:0,trigger:"hover",showDelay:100,autoHide:!0,autoHideDelay:3e3,closeOnClick:!0,disabled:!1,animationShowDelay:200,animationHideDelay:"fast",showArrow:!0,name:"",opacity:.9,rtl:!1,_isOpen:!1,selector:null,opening:null,value:null,_eventsMap:{mousedown:p.jqx.mobile.getTouchEventName("touchstart"),mouseup:p.jqx.mobile.getTouchEventName("touchend")},events:["open","close","opening","closing"]};return this===p.jqx._jqxTooltip.prototype||p.extend(!0,this,e),e},createInstance:function(){this._isTouchDevice=p.jqx.mobile.isTouchDevice();var e=p.data(document.body,"_tooltipIDArray"+this.name);e?this.IDArray=e:(this.IDArray=[],p.data(document.body,"_tooltipIDArray"+this.name,this.IDArray));var e="jqxtooltip"+this._generatekey(),t=(this.IDArray.push({tooltipID:e,tooltipHost:this.host}),document.createElement("div")),t=(t.setAttribute("id",e),t.innerHTML='<div id="'+e+'Main"><div id="'+e+'Text"></div></div><div id="'+e+'Arrow"></div>',p.jqx.browser.msie&&(t.className=this.toThemeProperty("jqx-noshadow")),document.body.appendChild(t),this._tooltip=t,this._tooltipHelper=p(t),this._tooltipHelper.initAnimate&&this._tooltipHelper.initAnimate(),t.style.visibility="hidden",t.style.display="none",t.style.opacity=0,t.style.zIndex=99999,document.getElementById(e+"Arrow"));this._arrow=t,!1===this.showArrow&&(t.style.visibility="hidden",t.style.display="none"),this._main=document.getElementById(e+"Main"),this._text=document.getElementById(e+"Text"),this._setTheme(),this._setSize(),this._setContent(),!1===this.disabled&&(this._trigger(),!0===this.closeOnClick&&this._clickHide())},open:function(){var e;arguments&&arguments.length&&2===arguments.length&&(this.position="absolute",this.left=arguments[0],this.top=arguments[1],this.absolutePositionX=arguments[0],this.absolutePositionY=arguments[1]),!1===this.disabled&&"removed"!==this._id()&&("mouse"===this.position||"mouseenter"===this.position?(e=this.position,this.position="default",this._raiseEvent("2"),this._setPosition(),this._animateShow(),this.position=e):(this._raiseEvent("2"),this._setPosition(),this._animateShow()))},close:function(e){function t(){clearTimeout(i.autoHideTimeout),i._raiseEvent("3"),i._tooltipHelper.animate({opacity:0},e,function(){i._tooltip.style.visibility="hidden",i._tooltip.style.display="none",i._raiseEvent("1"),i._isOpen=!1})}var i=this,s=p.jqx.browser.msie&&p.jqx.browser.version<9,r=("object"==typeof e&&p.isEmptyObject(e)&&(e=this.animationHideDelay),parseFloat(i._tooltip.style.opacity));(!1===this._isOpen&&0!==r||!0===this._isOpen&&(!s&&r===this.opacity||s))&&t()},destroy:function(){var e=this.IDArray.length;this._removeHandlers(),this._tooltipHelper.remove();for(var t=0;t<e;t++)if(this.IDArray[t].tooltipHost===this.host){this.IDArray.splice(t,1);break}this.host.removeData("jqxTooltip")},refresh:function(e){var t;!0!==e&&((t=this).rtl&&(t._text.className+=" "+t.toThemeProperty("jqx-rtl"),t._text.style.direction="rtl"),e=parseFloat(t._tooltip.style.opacity),"removed"!==this._id()&&(!0===this.disabled&&!0===this._isOpen&&e===this.opacity&&(clearTimeout(this.autoHideTimeout),this._tooltipHelper.animate({opacity:0},this.animationHideDelay,function(){t._tooltip.style.visibility="hidden",t._tooltip.style.display="none",t._isOpen=!1})),this._setTheme(),this._setContent(),this._setSize(),"mouse"!==this.position&&"mouseenter"!==this.position&&this._setPosition(),this._removeHandlers(),!1===this.disabled&&(this._trigger(),!0===this.closeOnClick&&this._clickHide())))},propertyChangedHandler:function(e,t,i,s){"content"===t&&(this.changeContentFlag=!0),e.refresh()},_raiseEvent:function(e,t){var i,e=this.events[e],e=new p.Event(e);e.owner=this,e.args=t;try{i=this.host.trigger(e)}catch(e){}return i},_generatekey:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()},_id:function(){for(var e,t=this.IDArray.length,i=0;i<t;i++)if(this.IDArray[i].tooltipHost===this.host){e="#"+this.IDArray[i].tooltipID;break}return e=void 0===e?"removed":e},_setPosition:function(e){var t=this,i=t._tooltip;if((!1===this._isOpen&&0===parseFloat(i.style.opacity)||!0===this.changeContentFlag)&&(e||"mouse"!==this.position&&"mouseenter"!==this.position)){i.style.display="block",this.changeContentFlag=!1,this.documentTop=document.documentElement.scrollTop,this.documentLeft=document.documentElement.scrollLeft,this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.hostWidth=t.element.offsetWidth,this.hostHeight=t.element.offsetHeight,this.tooltipWidth=i.offsetWidth,this.tooltipHeight=i.offsetHeight,this.hostOffset=this.host.offset(),this.tooltipOffset=t._tooltipHelper.offset(),this.defaultOffset=30,this.offsetHorizontal=parseInt(this.left,10),this.offsetVertical=parseInt(this.top,10);var s,r=t._arrow,n=p(r),o=t._main,a=p(o),l=o.offsetWidth,d=o.offsetHeight;switch(this.arrowSize=5,this.isMaterialized()&&((i=window.getComputedStyle(this.element).getPropertyValue("--jqx-tooltip-arrow-width"))?this.arrowSize=parseInt(i):"fluent"===this.theme&&(this.arrowSize=8)),this.tooltipMainOffset=a.offset(),this.tooltipArrowOffset={},this.position){case"top":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth/2-this.tooltipWidth/2+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(l/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth/2-this.tooltipWidth/2+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(l/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"left":s=window.getComputedStyle?window.getComputedStyle(o):o.currentStyle,this.tooltipOffset.left=this.hostOffset.left-this.tooltipWidth-this.arrowSize+this.offsetHorizontal-(parseInt(s.borderLeftWidth,10)+parseInt(s.borderRightWidth,10)),this.tooltipOffset.top=this.hostOffset.top+this.hostHeight/2-this.tooltipHeight/2+this.offsetVertical,this._detectBrowserBounds(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-t-b")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-l-r"),r.style.borderWidth=this.arrowSize+"px 0px "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipMainOffset=a.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left+l,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d/2-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth+this.arrowSize+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight/2-this.tooltipHeight/2+this.offsetVertical,this.tooltipOffset.top=parseInt(this.tooltipOffset.top,10),this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-t-b")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-l-r"),r.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left-this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+o.offsetHeight/2-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"top-left":this.tooltipOffset.left=this.hostOffset.left+this.defaultOffset-this.tooltipWidth+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+l-6*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom-left":this.tooltipOffset.left=this.hostOffset.left+this.defaultOffset-this.tooltipWidth+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+l-6*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"top-right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom-right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"absolute":t._tooltipHelper.offset({top:this.absolutePositionY,left:this.absolutePositionX}),r.style.borderWidth="0px";break;case"mouse":if(!1===this._isTouchDevice)switch(this.trigger){case"hover":this.mouseHoverTimeout&&clearTimeout(this.mouseHoverTimeout),this.mouseHoverTimeout=setTimeout(function(){t.tooltipOffset.left=e.pageX+10,t.tooltipOffset.top=e.pageY+10,t._detectBrowserBounds()},this.showDelay);break;case"click":this.tooltipOffset.left=e.pageX+10,this.tooltipOffset.top=e.pageY+10,this._detectBrowserBounds()}else{var h=e.pageX,c=e.pageY;e.originalEvent&&(e.originalEvent.touches&&e.originalEvent.touches.length?u=e.originalEvent.touches[0]:e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length&&(u=e.originalEvent.changedTouches[0]),void 0!==u&&(h=u.pageX,c=u.pageY)),this.tooltipOffset.left=h+10,this.tooltipOffset.top=c+10,this._detectBrowserBounds()}r.style.borderWidth="0px";break;case"mouseenter":var u=e.pageY,h=e.pageX;u<this.hostOffset.top+10&&u>this.hostOffset.top-10?(this.tooltipOffset.left=h-this.tooltipWidth/2,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(l/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):u<this.hostOffset.top+this.hostHeight+10&&u>this.hostOffset.top+this.hostHeight-10?(this.tooltipOffset.left=h-this.tooltipWidth/2,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(l/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):h<this.hostOffset.left+10&&h>this.hostOffset.left-10?(s=window.getComputedStyle?window.getComputedStyle(o):o.currentStyle,this.tooltipOffset.left=this.hostOffset.left-this.tooltipWidth-this.arrowSize-(parseInt(s.borderLeftWidth,10)+parseInt(s.borderRightWidth,10)),this.tooltipOffset.top=u-this.tooltipHeight/2,this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-t-b")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-l-r"),r.style.borderWidth=this.arrowSize+"px 0px "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipMainOffset=a.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left+l,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d/2-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):h<this.hostOffset.left+this.hostWidth+10&&h>this.hostOffset.left+this.hostWidth-10&&(this.tooltipOffset.left=this.hostOffset.left+this.hostWidth+this.arrowSize,this.tooltipOffset.top=u-this.tooltipHeight/2,this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-t-b")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-l-r"),r.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipMainOffset=a.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left-this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d/2-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left}));break;case"default":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=a.offset(),t._removeClass(r,t.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+t.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})}}},_setContent:function(){this._text.innerHTML=this.content},opened:function(){return this._isOpen&&"block"==this.host.css("display")&&"visible"==this.host.css("visibility")},_animateShow:function(){this._closeAll(),clearTimeout(this.autoHideTimeout);var e=parseFloat(this._tooltip.style.opacity);if(!1===this._isOpen&&0===e){var t=this;if(t._tooltip.style.visibility="visible",t._tooltip.style.display="block",t._tooltip.style.opacity=0,this.opening)if(!1===this.opening(this))return;t._tooltipHelper.animate({opacity:this.opacity},this.animationShowDelay,function(){t._raiseEvent("0"),t._isOpen=!0,t.openedTooltip=t,p.data(document.body,"_openedTooltip"+t.name,t),t.autoHideTimeout&&clearTimeout(t.autoHideTimeout),0<t.autoHideDelay&&!0===t.autoHide&&(t.autoHideTimeout=setTimeout(function(){t._autoHide()},t.autoHideDelay))})}},_trigger:function(){if("removed"!==this._id()){var o=this,e=this.host;if(this.selector&&(e=p("#"+this.selector)),!1===this._isTouchDevice)switch(this.trigger){case"hover":"mouse"===this.position?(this.addHandler(e,"mousemove.tooltip",function(e){1===o._enterFlag&&(o._raiseEvent("2"),o._setPosition(e),clearTimeout(o.hoverShowTimeout),o.hoverShowTimeout=setTimeout(function(){o._animateShow(),o._enterFlag=0},o.showDelay))}),this.addHandler(e,"mouseenter.tooltip",function(){0!==o._leaveFlag&&(o._enterFlag=1)}),this.addHandler(e,"mouseleave.tooltip",function(e){o._leaveFlag=1,clearTimeout(o.hoverShowTimeout);var t=o._tooltipHelper.offset(),i=o._tooltip.offsetWidth,s=o._tooltip.offsetHeight;(parseInt(e.pageX,10)<parseInt(t.left,10)||parseInt(e.pageX,10)>parseInt(t.left,10)+i)&&o.close(),(parseInt(e.pageY,10)<parseInt(t.top,10)||parseInt(e.pageY,10)>parseInt(t.top,10)+s)&&o.close()}),this.addHandler(o._tooltipHelper,"mouseleave.tooltip",function(e){o._checkBoundariesAuto(e),0!==o._clickFlag&&0!==o._autoFlag?o._leaveFlag=0:(o._leaveFlag=1,o.close())})):(this.addHandler(e,"mouseenter.tooltip",function(e){clearTimeout(o.hoverShowTimeout),o.hoverShowTimeout=setTimeout(function(){o._raiseEvent("2"),o._setPosition(e),o._animateShow()},o.showDelay)}),this.addHandler(e,"mouseleave.tooltip",function(e){var t,i,s,r,n;o._leaveFlag=1,clearTimeout(o.hoverShowTimeout),o.autoHide&&(t=e.pageX,e=e.pageY,i=(s=o._tooltipHelper.offset()).left,s=s.top,r=o._tooltip.offsetWidth,n=o._tooltip.offsetHeight,(parseInt(t,10)<parseInt(i,10)||parseInt(t,10)>parseInt(i,10)+r||parseInt(e,10)<parseInt(s,10)||parseInt(e,10)>parseInt(s,10)+n)&&o.close())}),this.addHandler(o._tooltipHelper,"mouseleave.tooltip",function(e){o._checkBoundariesAuto(e),0!==o._clickFlag&&0!==o._autoFlag?o._leaveFlag=0:(o._leaveFlag=1,o.autoHide&&o.close())}));break;case"click":this.addHandler(e,"click.tooltip",function(e){"mouseenter"===o.position&&(o.position="mouse"),o._raiseEvent("2"),o._setPosition(e),o._animateShow()})}else"none"!==this.trigger&&this.addHandler(e,"touchstart.tooltip",function(e){"mouseenter"===o.position&&(o.position="mouse"),o._raiseEvent("2"),o._setPosition(e),o._animateShow()})}},_autoHide:function(){var e=this,t=parseFloat(e._tooltip.style.opacity);!0===this.autoHide&&!0===this._isOpen&&t>=this.opacity&&(e._raiseEvent("3"),e._tooltipHelper.animate({opacity:0},e.animationHideDelay,function(){e._tooltip.style.visibility="hidden",e._tooltip.style.display="none",e._raiseEvent("1"),e._isOpen=!1}))},_clickHide:function(){var t=this;this.addHandler(t._tooltipHelper,"click.tooltip",function(e){t._checkBoundariesClick(e),t.close()})},_setSize:function(){this._tooltip.style.width=this._toPx(this.width),this._tooltip.style.height=this._toPx(this.height)},resize:function(){this._setSize()},_setTheme:function(){var e=this;-1===e._tooltip.className.indexOf("jqx-tooltip")&&(e._tooltip.className+=" "+e.toThemeProperty("jqx-tooltip jqx-popup"),e._main.className+=" "+e.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-main"),e._text.className+=" "+e.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-text"),e._arrow&&(e._arrow.className+=" "+e.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-arrow")))},_initialPosition:function(){var e=this.position;this.position="default",this._setPosition(),this.position=e},_detectBrowserBounds:function(){var e=this._tooltipHelper;this.enableBrowserBoundsDetection?this.tooltipOffset.top<this.documentTop&&this.tooltipOffset.left<0?e.offset({top:this.documentTop,left:this.documentLeft}):this.tooltipOffset.top<this.documentTop&&this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?e.offset({top:this.documentTop,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):this.tooltipOffset.top<this.documentTop?e.offset({top:this.documentTop,left:this.tooltipOffset.left}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop&&this.tooltipOffset.left<0?e.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.documentLeft}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop&&this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?e.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop?e.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.tooltipOffset.left}):this.tooltipOffset.left<0?e.offset({top:this.tooltipOffset.top,left:this.documentLeft}):this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?e.offset({top:this.tooltipOffset.top,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):e.offset({top:this.tooltipOffset.top,left:this.tooltipOffset.left}):e.offset({top:this.tooltipOffset.top,left:this.tooltipOffset.left})},_checkBoundaries:function(e){return e.pageX>=this.hostOffset.left&&e.pageX<=this.hostOffset.left+this.hostWidth&&e.pageY>=this.hostOffset.top&&e.pageY<=this.hostOffset.top+this.hostHeight},_checkBoundariesClick:function(e){this._checkBoundaries(e)?this._clickFlag=1:this._clickFlag=0},_checkBoundariesAuto:function(e){this._checkBoundaries(e)?this._autoFlag=1:this._autoFlag=0},_removeHandlers:function(){this.removeHandler(this.host,"mouseenter.tooltip"),this.removeHandler(this.host,"mousemove.tooltip"),this.removeHandler(this.host,"mouseleave.tooltip"),this.removeHandler(this.host,"click.tooltip"),this.removeHandler(this.host,"touchstart.tooltip"),this.removeHandler(this._tooltipHelper,"click.tooltip"),this.removeHandler(this._tooltipHelper,"mouseleave.tooltip")},_closeAll:function(){for(var e=0;e<this.IDArray.length;e++){var t=this.IDArray[e].tooltipID,t=document.getElementById(t);t!==this._tooltip&&(t.style.opacity=0,t.style.visibility="hidden",t.style.display="none",this._isOpen=!1)}},_toPx:function(e){return"number"==typeof e?e+"px":e},_removeClass:function(e,t){p(e).removeClass(t)}})}(jqxBaseFramework),!function(v){v.jqx.jqxWidget("jqxTree","",{}),v.extend(v.jqx._jqxTree.prototype,{defineInstance:function(){var e={items:new Array,width:null,height:null,easing:"easeInOutCirc",animationShowDuration:"fast",animationHideDuration:"fast",treeElements:new Array,disabled:!1,itemsMember:"",displayMember:"",valueMember:"",enableHover:!0,keyboardNavigation:!0,enableKeyboardNavigation:!0,toggleMode:"dblclick",source:null,checkboxes:!1,checkSize:16,toggleIndicatorSize:18,hasThreeStates:!1,selectedItem:null,touchMode:"auto",allowDrag:!0,allowDrop:!0,searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,animationHideDelay:0,submitCheckedItems:!1,dragStart:null,dragEnd:null,rtl:!1,dropAction:"default",events:["expand","collapse","select","initialized","added","removed","checkChange","dragEnd","dragStart","itemClick"],aria:{"aria-activedescendant":{name:"getActiveDescendant",type:"string"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===v.jqx._jqxTree.prototype||v.extend(!0,this,e),e},createInstance:function(e){var t,i,r=this;this.host.attr("role","tree"),this.host.attr("data-role","treeview"),this.enableKeyboardNavigation=this.keyboardNavigation,this.propertyChangeMap.disabled=function(e,t,i,s){r.disabled?r.host.addClass(r.toThemeProperty("jqx-tree-disabled")):r.host.removeClass(r.toThemeProperty("jqx-tree-disabled")),v.jqx.aria(r,"aria-disabled",s)},(null!=this.width&&-1!=this.width.toString().indexOf("px")||null!=this.width&&!isNaN(this.width))&&this.host.width(this.width),(null!=this.height&&-1!=this.height.toString().indexOf("px")||null!=this.height&&!isNaN(this.height))&&this.host.height(this.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.height(this.height),this.host.attr("tabindex")||this.host.attr("tabIndex",1),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-tree-disabled")),v.jqx.aria(this,"aria-disabled",!0)),this.host.jqxDragDrop&&window.jqxTreeDragDrop(),this.originalInnerHTML=this.element.innerHTML,this.createdTree=!1,this.element.innerHTML.indexOf("UL")&&0<(i=this.host.find("ul:first")).length&&(this.createTree(i[0]),this.createdTree=!0),null!=this.source&&(t=this.loadItems(this.source),this.element.innerHTML=t,0<(i=this.host.find("ul:first")).length&&(this.createTree(i[0]),this.createdTree=!0)),this._itemslength=this.items.length,this.createdTree||0==this.host.find("ul").length&&(this.host.append(v("<ul></ul>")),0<(i=this.host.find("ul:first")).length&&(this.createTree(i[0]),this.createdTree=!0),this.createdTree=!0),1==this.createdTree&&(this._render(),this._handleKeys()),this._updateCheckLayout()},checkItems:function(e,t){var i,s,r,n,o=this;null!=e?(s=i=0,s=(n=v(e.element).find("li")).length,v.each(n,function(e){var t=o.itemMapping["id"+this.id].item;0!=t.checked&&(t.checked,i++)}),e!=t?i==s?this.checkItem(e.element,!0,"tree"):0<i?this.checkItem(e.element,null,"tree"):this.checkItem(e.element,!1,"tree"):(r=t.checked,n=v(t.element).find("li"),v.each(n,function(){o.itemMapping["id"+this.id].item;o.checkItem(this,r,"tree")})),this.checkItems(this._parentItem(e),t)):(r=t.checked,n=v(t.element).find("li"),v.each(n,function(){o.itemMapping["id"+this.id].item;o.checkItem(this,r,"tree")}))},_getMatches:function(i,e){if(null==i||0==i.length)return-1;for(var t=this.items,s=new Array,r=0;r<t.length;r++)this._isVisible(t[r])&&!t[r].disabled&&s.push(t[r]);t=s,null!=e&&(t=t.slice(e));var n=new Array;return v.each(t,function(e){var t=(t=this.label)||"";v.jqx.string.startsWithIgnoreCase(t.toString(),i)&&n.push({id:this.id,element:this.element})}),n},_handleKeys:function(){var p=this;this.addHandler(this.host,"keydown",function(e){var t=e.keyCode;if((p.keyboardNavigation||p.enableKeyboardNavigation)&&null!=p.selectedItem){var i,s=p.selectedItem.element;if(p.incrementalSearch&&!(33<=t&&t<=40)){p._searchString||(p._searchString=""),(8==t||46==t)&&1<=p._searchString.length&&(p._searchString=p._searchString.substr(0,p._searchString.length-1));var r=String.fromCharCode(t),n=!isNaN(parseInt(r));if(65<=t&&t<=97||n||8==t||32==t||46==t){e.shiftKey||(r=r.toLocaleLowerCase()),8==t||32==t||46==t||0<p._searchString.length&&p._searchString.substr(0,1)==r||(p._searchString+=r),32==t&&(p._searchString+=" "),p._searchTime=new Date;n=p.selectedItem;if(n){for(var o=n.id,a=-1,l=0;l<p.items.length;l++)if(p.items[l].id==o){a=l+1;break}(0==(d=p._getMatches(p._searchString,a)).length||0<d.length&&d[0].id==o)&&(d=p._getMatches(p._searchString))}else var d=p._getMatches(p._searchString);0<d.length&&(n=p.selectedItem,p.selectedItem&&p.selectedItem.id!=d[0].id&&(p.clearSelection(),p.selectItem(d[0].element,"keyboard")),p._lastSearchString=p._searchString)}null!=p._searchTimer&&clearTimeout(p._searchTimer),27!=t&&13!=t||(p._searchString="",p._lastSearchString=""),p._searchTimer=setTimeout(function(){p._searchString="",p._lastSearchString=""},500)}switch(t){case 32:return p.checkboxes?(p.fromKey=!0,i=v(p.selectedItem.checkBoxElement).jqxCheckBox("checked"),p.checkItem(p.selectedItem.element,!i,"tree"),p.hasThreeStates&&p.checkItems(p.selectedItem,p.selectedItem),!1):!0;case 33:for(var h=p._getItemsOnPage(),c=p.selectedItem,l=0;l<h;l++)c=p._prevVisibleItem(c);return null!=c?(p.selectItem(c.element,"keyboard"),p.ensureVisible(c.element)):(p.selectItem(p._firstItem().element,"keyboard"),p.ensureVisible(p._firstItem().element)),!1;case 34:for(var h=p._getItemsOnPage(),u=p.selectedItem,l=0;l<h;l++)u=p._nextVisibleItem(u);return null!=u?(p.selectItem(u.element,"keyboard"),p.ensureVisible(u.element)):(p.selectItem(p._lastItem().element,"keyboard"),p.ensureVisible(p._lastItem().element)),!1;case 37:case 39:return(37==t&&!p.rtl||39==t&&p.rtl)&&(p.selectedItem.hasItems&&p.selectedItem.isExpanded?p.collapseItem(s):null!=(i=p._parentItem(p.selectedItem))&&(p.selectItem(i.element,"keyboard"),p.ensureVisible(i.element))),(39==t&&!p.rtl||37==t&&p.rtl)&&p.selectedItem.hasItems&&(p.selectedItem.isExpanded?null!=(u=p._nextVisibleItem(p.selectedItem))&&(p.selectItem(u.element,"keyboard"),p.ensureVisible(u.element)):p.expandItem(s)),!1;case 13:return p.selectedItem.hasItems&&(p.selectedItem.isExpanded?p.collapseItem(s):p.expandItem(s)),!1;case 36:return p.selectItem(p._firstItem().element,"keyboard"),p.ensureVisible(p._firstItem().element),!1;case 35:return p.selectItem(p._lastItem().element,"keyboard"),p.ensureVisible(p._lastItem().element),!1;case 38:return null!=(c=p._prevVisibleItem(p.selectedItem))&&(p.selectItem(c.element,"keyboard"),p.ensureVisible(c.element)),!1;case 40:return null!=(u=p._nextVisibleItem(p.selectedItem))&&(p.selectItem(u.element,"keyboard"),p.ensureVisible(u.element)),!1}}})},_firstItem:function(){for(var e=this.host.find("ul:first"),t=v(e).find("li"),i=0;i<=t.length-1;i++){var s=t[i],s=this.itemMapping["id"+s.id].item;if(this._isVisible(s))return s}return null},_lastItem:function(){for(var e=this.host.find("ul:first"),t=v(e).find("li"),i=t.length-1;0<=i;i--){var s=t[i],s=this.itemMapping["id"+s.id].item;if(this._isVisible(s))return s}return null},_parentItem:function(e){if(null==e)return null;var t=e.parentElement;if(!t)return null;var i=null;return v.each(this.items,function(){if(this.element==t)return i=this,!1}),i},_nextVisibleItem:function(e){if(null==e)return null;for(var t=e;null!=t;)if(t=t.nextItem,this._isVisible(t)&&!t.disabled)return t;return null},_prevVisibleItem:function(e){if(null==e)return null;for(var t=e;null!=t;)if(t=t.prevItem,this._isVisible(t)&&!t.disabled)return t;return null},_isVisible:function(e){if(null==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isExpanded)return!1;for(;null!=t;){if(null!=(t=this._parentItem(t))&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isExpanded)return!1}}return!0},_getItemsOnPage:function(){var e=0,t=(this.panel.jqxPanel("getVScrollPosition"),parseInt(this.host.height())),i=0,s=this._firstItem();if(0<parseInt(v(s.element).height()))for(;i<=t;)i+=parseInt(v(s.element).outerHeight()),e++;return e},_isElementVisible:function(e){return null!=e&&("none"!=v(e).css("display")&&"hidden"!=v(e).css("visibility"))},refresh:function(e){var t;(null!=this.width&&-1!=this.width.toString().indexOf("px")||null!=this.width&&!isNaN(this.width))&&this.host.width(this.width),(null!=this.height&&-1!=this.height.toString().indexOf("px")||null!=this.height&&!isNaN(this.height))&&this.host.height(this.height),this.panel&&(null!=this.width&&-1!=this.width.toString().indexOf("%")?((t=this).panel.jqxPanel("width","100%"),t.removeHandler(v(window),"resize.jqxtree"+t.element.id),t.addHandler(v(window),"resize.jqxtree"+t.element.id,function(){t._calculateWidth()})):this.panel.jqxPanel("width",this.host.width()),this.panel.jqxPanel("_arrange")),this._calculateWidth(),v.jqx.isHidden(this.host)&&((t=this)._hiddenTimer&&clearInterval(this._hiddenTimer),this._hiddenTimer=setInterval(function(){v.jqx.isHidden(t.host)||(clearInterval(t._hiddenTimer),t._calculateWidth())},100)),1!=e&&this.checkboxes&&this._updateCheckLayout(null)},resize:function(e,t){this.width=e,this.height=t,this.refresh()},loadItems:function(e){var t,i;if(null!=e)return t=this,this.items=new Array,i="<ul>",v.map(e,function(e){if(null==e)return null;i+=t._parseItem(e)}),i+="</ul>"},_parseItem:function(e){var t="";if(null==e)return null;var i=e.label,s=e.value,r=(!e.label&&e.html&&(i=e.html),null!=this.displayMember&&""!=this.displayMember&&(i=e[this.displayMember]),null!=this.valueMember&&""!=this.valueMember&&(s=e[this.valueMember]),i=i||"Item","string"==typeof e&&(i=e),!1),n=(null!=e.expanded&&e.expanded&&(r=!0),!1),o=(null!=e.locked&&e.locked&&(n=!0),!1),a=(null!=e.selected&&e.selected&&(o=!0),!1),l=(null!=e.disabled&&e.disabled&&(a=!0),!1),d=(null!=e.checked&&e.checked&&(l=!0),e.icon),r=(t+="<li",r&&(t+=' item-expanded="true" '),n&&(t+=' item-locked="true" '),a&&(t+=' item-disabled="true" '),o&&(t+=' item-selected="true" '),e.iconsize&&(t+=' item-iconsize="'+e.iconsize+'" '),null!=d&&(t+=' item-icon="'+d+'" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=s&&(t+=' item-value="'+s+'" '),null!=e.checked&&(t+=' item-checked="'+l+'" '),"");return null!=e.id?t+=' id="'+(r=e.id)+'" ':t+=' id="'+(r=this.createID())+'" ',t+=">"+i,e.items?t+=this.loadItems(e.items):null!=this.itemsMember&&""!=this.itemsMember&&e[this.itemsMember]&&(t+=this.loadItems(e[this.itemsMember])),this._valueList||(this._valueList=new Array),this._valueList[r]=e.value,t+="</li>"},ensureVisible:function(e){var t,i,s,r,n;null!=e&&this.panel&&(t=this.panel.jqxPanel("getVScrollPosition"),i=this.panel.jqxPanel("getHScrollPosition"),s=parseInt(this.host.height()),e=v(e).find(".jqx-tree-item:first"),r=v(e).position().top,0===t&&0===r||(n=this.panel.jqxPanel("hScrollBar").outerHeight(),(r<=t||s+t<=r)&&this.panel.jqxPanel("scrollTo",i,r-s+v(e).outerHeight()+n)))},_syncItems:function(e){this._visibleItems=new Array;var i=this;v.each(e,function(){var e,t=v(this);"none"!=t.css("display")&&(e=t.outerHeight(),0<t.height()&&(t=parseInt(t.offset().top),i._visibleItems[i._visibleItems.length]={element:this,top:t,height:e,bottom:t+e}))})},hitTest:function(i,s){var r,n,o=this,a=null,e=this.host.find(".jqx-item");return this._syncItems(e),o._visibleItems&&(r=parseInt(o.host.offset().left),n=o.host.outerWidth(),v.each(o._visibleItems,function(e){if(r<=i&&i<r+n&&this.top+5<s&&s<this.top+this.height){var t=v(this.element).parents("li:first");if(0<t.length&&null!=(a=o.getItem(t[0])))return a.height=this.height,a.top=this.top,!1}})),a},addBefore:function(e,t,i){return this.addBeforeAfter(e,t,!0,i)},addAfter:function(e,t,i){return this.addBeforeAfter(e,t,!1,i)},addBeforeAfter:function(e,t,i,s){for(var r,n=new Array,o=(t&&null!=t.treeInstance&&(t=t.element),v.isArray(e)?n=e:n[0]=e,""),a=this,e=(v.each(n,function(){o+=a._parseItem(this)}),v(o)),l=(this.element.innerHTML.indexOf("UL")&&(r=this.host.find("ul:first")),null==t?r.append(e):i?v(t).before(e):v(t).after(e),e),d=0;d<l.length;d++){this._createItem(l[d]);var h=v(l[d]).find("li");if(0<h.length)for(var c=0;c<h.length;c++)this._createItem(h[c])}function u(e){a._refreshMapping(!1),a._updateItemsNavigation(),e&&a.allowDrag&&a._enableDragDrop&&a._enableDragDrop(),null!=a.selectedItem&&(v(a.selectedItem.titleElement).addClass(a.toThemeProperty("jqx-fill-state-pressed")),v(a.selectedItem.titleElement).addClass(a.toThemeProperty("jqx-tree-item-selected")))}if(0==s)return u(!0),void this._raiseEvent("4",{items:this.getItems()});u(!1),a._render(),this._raiseEvent("4",{items:this.getItems()}),a.checkboxes&&a._updateCheckLayout(null)},addTo:function(e,t,i){for(var s,r=new Array,n=(t&&null!=t.treeInstance&&(t=t.element),v.isArray(e)?r=e:r[0]=e,""),o=this,e=(v.each(r,function(){n+=o._parseItem(this)}),v(n)),a=(this.element.innerHTML.indexOf("UL")&&(s=this.host.find("ul:first")),null==t?s.append(e):0==(r=(t=v(t)).find("ul:first")).length?(s=v("<ul></ul>"),v(t).append(s),r=t.find("ul:first"),(s=this.itemMapping["id"+t[0].id].item).subtreeElement=r[0],s.hasItems=!0,r.addClass(this.toThemeProperty("jqx-tree-dropdown")),o.rtl&&r.addClass(this.toThemeProperty("jqx-tree-dropdown-rtl")),r.append(e),t=r.find("li:first"),s.parentElement=t):r.append(e),e),l=0;l<a.length;l++){this._createItem(a[l]);var d=v(a[l]).find("li");if(0<d.length)for(var h=0;h<d.length;h++)this._createItem(d[h])}function c(e){o._refreshMapping(!1),o._updateItemsNavigation(),e&&o.allowDrag&&o._enableDragDrop&&o._enableDragDrop(),null!=o.selectedItem&&(v(o.selectedItem.titleElement).addClass(o.toThemeProperty("jqx-fill-state-pressed")),v(o.selectedItem.titleElement).addClass(o.toThemeProperty("jqx-tree-item-selected")))}if(0==i)return c(!0),void this._raiseEvent("4",{items:this.getItems()});c(!1),o._render(),o.checkboxes&&o._updateCheckLayout(null),this._raiseEvent("4",{items:this.getItems()})},updateItem:function(e,t){var i,s=null!=e.treeInstance?e:this.getItem(e);return s||(i=e,e=t,t=i,s=null!=e.treeInstance?e:this.getItem(e)),!!s&&((t="string"==typeof t?{label:t}:t).value&&(s.value=t.value),t.label&&(s.label=t.label,v.jqx.utilities.html(v(s.titleElement),t.label),v.jqx.browser.msie&&v.jqx.browser.version<8&&(v(document.body).append(this._measureItem),this._measureItem.html(v(s.titleElement).text()),i=this._measureItem.width(),s.icon&&(i+=20),0<v(v(s.titleElement).find("img")).length&&(i+=20),v(s.titleElement).css("max-width",i+"px"),this._measureItem.remove())),t.icon&&(0<v(s.element).children(".itemicon").length?v(s.element).find(".itemicon")[0].src=t.icon:(e=t.iconsize,i=v('<img width="'+(e=e||16)+'" height="'+e+'" style="float: left;" class="itemicon" src="'+t.icon+'"/>'),v(s.titleElement).prepend(i),i.css("margin-right","6px"),this.rtl&&(i.css("margin-right","0px"),i.css("margin-left","6px"),i.css("float","right")))),t.expanded&&this.expandItem(s),t.disabled&&this.disableItem(s),t.selected&&this.selectItem(s),!0)},removeItem:function(e,t){var i,s;null!=e&&((e=null!=e.treeInstance?e.element:e).id,(s=(i=this).getItem(e))&&-1!=this.items.indexOf(s)&&function e(t){-1!=(i=this.items.indexOf(t))&&this.items.splice(i,1);var i=v(t.element).find("li"),t=i.length,s=this,r=new Array;if(0<t){v.each(i,function(e){var t=s.itemMapping["id"+this.id].item;r.push(t)});for(var n=0;n<r.length;n++)e.apply(this,[r[n]])}}.apply(this,[s]),0<this.host.find("#"+e.id).length&&v(e).remove(),0==t?this._raiseEvent("5"):(i._updateItemsNavigation(),i.allowDrag&&i._enableDragDrop?i._render(!0,!1):i._render(),null!=i.selectedItem&&i.selectedItem.element==e&&(v(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-pressed")),v(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-selected")),i.selectedItem=null),this._raiseEvent("5"),i.checkboxes&&i._updateCheckLayout(null)))},clear:function(){this.items=new Array,this.itemMapping=new Array;var e=this.host.find("ul:first");0<e.length&&(e[0].innerHTML=""),this.selectedItem=null},disableItem:function(e){if(null==e)return!1;null!=e.treeInstance&&(e=e.element);var t=this;v.each(t.items,function(){if(this.element==e)return this.disabled=!0,v(this.titleElement).addClass(t.toThemeProperty("jqx-fill-state-disabled")),v(this.titleElement).addClass(t.toThemeProperty("jqx-tree-item-disabled")),t.checkboxes&&this.checkBoxElement&&v(this.checkBoxElement).jqxCheckBox({disabled:!0}),!1})},_updateInputSelection:function(){var e;if(this.input&&(null==this.selectedItem?this.input.val(""):(null==(e=this.selectItem.value)&&(e=this.selectedItem.label),this.input.val(e)),this.checkboxes)){var t=this.getCheckedItems();if(this.submitCheckedItems){for(var i="",s=0;s<t.length;s++){var r=t[s].value;null==r&&(r=t[s].label),s==t.length-1?i+=r:i+=r+","}this.input.val(i)}}},getCheckedItems:function(){var e=new Array;return v.each(this.items,function(){this.checked&&e.push(this)}),e},getUncheckedItems:function(){var e=new Array;return v.each(this.items,function(){this.checked||e.push(this)}),e},checkAll:function(){v.each(this.items,function(){this.disabled||(this.checked=!0,v(this.checkBoxElement).jqxCheckBox("_setState",!0))}),this._raiseEvent("6",{element:this,checked:!0})},uncheckAll:function(){v.each(this.items,function(){this.disabled||(this.checked=!1,v(this.checkBoxElement).jqxCheckBox("_setState",!1))}),this._raiseEvent("6",{element:this,checked:!1})},checkItem:function(e,t,i){if(null==e)return!1;void 0===t&&(t=!0),null!=e.treeInstance&&(e=e.element);var s=!1,r=null;v.each(this.items,function(){if(this.element==e&&!this.disabled)return s=!0,this.checked=t,v((r=this).checkBoxElement).jqxCheckBox({checked:t}),!1}),s&&(this._raiseEvent("6",{element:e,checked:t}),this._updateInputSelection()),null==i&&r&&this.hasThreeStates&&this.checkItems(r,r)},uncheckItem:function(e){this.checkItem(e,!1)},enableItem:function(e){if(null==e)return!1;null!=e.treeInstance&&(e=e.element);var t=this;v.each(t.items,function(){if(this.element==e)return this.disabled=!1,v(this.titleElement).removeClass(t.toThemeProperty("jqx-fill-state-disabled")),v(this.titleElement).removeClass(t.toThemeProperty("jqx-tree-item-disabled")),t.checkboxes&&this.checkBoxElement&&v(this.checkBoxElement).jqxCheckBox({disabled:!1}),!1})},enableAll:function(){var e=this;v.each(e.items,function(){this.disabled=!1,v(this.titleElement).removeClass(e.toThemeProperty("jqx-tree-item-disabled")),v(this.titleElement).removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.checkboxes&&this.checkBoxElement&&v(this.checkBoxElement).jqxCheckBox({disabled:!1})})},lockItem:function(e){if(null==e)return!1;v.each(this.items,function(){if(this.element==e)return!(this.locked=!0)})},unlockItem:function(e){if(null==e)return!1;v.each(this.items,function(){if(this.element==e)return this.locked=!1})},getItems:function(){return this.items},getItem:function(e){return null!=e&&this.itemMapping["id"+e.id]?this.itemMapping["id"+e.id].item:null},isExpanded:function(e){if(null==e)return!1;e=this.itemMapping["id"+e.id].item;return null!=e&&e.isExpanded},isSelected:function(e){if(null==e)return!1;e=this.itemMapping["id"+e.id].item;return null!=e&&e==this.selectedItem},getPrevItem:function(e){var t=this.getItem(e);return null!=e.treeInstance&&(t=e),this._prevVisibleItem(t)},getNextItem:function(e){var t=this.getItem(e);return null!=e.treeInstance&&(t=e),this._nextVisibleItem(t)},getSelectedItem:function(e){return this.selectedItem},val:function(e){if(0==arguments.length||"object"==typeof e)return this.selectedItem;var t,i;"string"==typeof e?0<(t=this.host.find("#"+e)).length&&(i=this.getItem(t[0]),this.selectItem(i)):(i=this.getItem(e),this.selectItem(i))},getActiveDescendant:function(){return this.selectedItem?this.selectedItem.element.id:""},clearSelection:function(){this.selectItem(null)},selectItem:function(e,t){var i,s;this.disabled||(i=this,null==(e=e&&null!=e.treeInstance?e.element:e)?null!=i.selectedItem&&(v(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-pressed")),v(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-selected")),i.selectedItem=null):null!=this.selectedItem&&this.selectedItem.element==e||((s=null!=this.selectedItem?this.selectedItem.element:null)&&v(s).removeAttr("aria-selected"),v.each(i.items,function(){this.selected=!1,this.disabled||this.element==e&&(null==i.selectedItem||null!=i.selectedItem&&i.selectedItem.titleElement!=this.titleElement)&&(null!=i.selectedItem&&(v(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-pressed")),v(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-selected"))),v(this.titleElement).addClass(i.toThemeProperty("jqx-fill-state-pressed")),v(this.titleElement).addClass(i.toThemeProperty("jqx-tree-item-selected")),(i.selectedItem=this).selected=!0,v(this.element).attr("aria-selected","true"),v.jqx.aria(i,"aria-activedescendant",this.element.id))}),this._updateInputSelection(),this._raiseEvent("2",{element:e,prevElement:s,type:t=t||null})))},collapseAll:function(){this.isUpdating=!0;var e=this,t=e.items,i=this.animationHideDuration;this.animationHideDuration=0,v.each(t,function(){1==this.isExpanded&&e._collapseItem(e,this)}),setTimeout(function(){e.isUpdating=!1,e._calculateWidth()},this.animationHideDuration),this.animationHideDuration=i},expandAll:function(){var e=this,t=(this.isUpdating=!0,this.animationShowDuration);this.animationShowDuration=0,v.each(this.items,function(){this.hasItems&&e._expandItem(e,this)}),setTimeout(function(){e.isUpdating=!1,e._calculateWidth()},this.animationShowDuration),this.animationShowDuration=t},collapseItem:function(e){if(null==e)return!1;null!=e.treeInstance&&(e=e.element);var t=this;return v.each(this.items,function(){if(1==this.isExpanded&&this.element==e)return t._collapseItem(t,this),!1}),!0},expandItem:function(e){if(null==e)return!1;null!=e.treeInstance&&(e=e.element);var t=this;return v.each(t.items,function(){0!=this.isExpanded||this.element!=e||this.disabled||this.locked||(t._expandItem(t,this),this.parentElement&&t.expandItem(this.parentElement))}),!0},_getClosedSubtreeOffset:function(e){var e=v(e.subtreeElement),t=-e.outerHeight();e.outerWidth();return{left:0,top:t}},_collapseItem:function(t,i,e,s){if(null==t||null==i)return!1;if(i.disabled)return!1;if(t.disabled)return!1;if(t.locked)return!1;function r(){i.isExpanded=!1,t.checkboxes&&((e=n.find(".chkbox")).stop(),e.css("opacity",1),n.find(".chkbox").animate({opacity:0},50));var e=v(i.arrow);t._arrowStyle(e,"",i.isExpanded),n.slideUp(t.animationHideDuration,function(){i.isCollapsing=!1,t._calculateWidth();var e=v(i.arrow);t._arrowStyle(e,"",i.isExpanded),n.hide(),t._raiseEvent("1",{element:i.element})})}var n=v(i.subtreeElement),o=this._getClosedSubtreeOffset(i);o.top,o.left,v(i.element),t.animationHideDelay,null!=n.data("timer").show&&(clearTimeout(n.data("timer").show),n.data("timer").show=null);r()},_expandItem:function(t,i){if(null==t||null==i)return!1;if(i.isExpanded)return!1;if(i.locked)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var e,s,r=v(i.subtreeElement);null!=r.data("timer")&&null!=r.data("timer").hide&&clearTimeout(r.data("timer").hide),v(i.element);0==parseInt(r.css("top"))?i.isExpanded=!0:(e=v(i.arrow),t._arrowStyle(e,"",i.isExpanded),t.checkboxes&&((s=r.find(".chkbox")).stop(),s.css("opacity",0),s.animate({opacity:1},t.animationShowDuration)),e=v(i.arrow),t._arrowStyle(e,"",!0),r.slideDown(t.animationShowDuration,t.easing,function(){var e=v(i.arrow);i.isExpanded=!0,t._arrowStyle(e,"",i.isExpanded),i.isExpanding=!1,t._raiseEvent("0",{element:i.element}),t._calculateWidth()}),t.checkboxes&&(t._updateCheckItemLayout(i),i.subtreeElement&&(s=v(i.subtreeElement).find("li"),v.each(s,function(){var e=t.getItem(this);null!=e&&t._updateCheckItemLayout(e)}))))},_calculateWidth:function(){var e,t,i=this.checkboxes?20:0,s=0;this.isUpdating||(v.each(this.items,function(){var e;0!=v(this.element).height()&&(e=v(this.titleElement).outerWidth()+10+i+20*(1+this.level),s=Math.max(s,e),this.hasItems&&(e=parseInt(v(this.titleElement).css("padding-top")),e=((e=(e=isNaN(e)?0:e)*2+2)+v(this.titleElement).height())/2-8.5,v.jqx.browser.msie&&v.jqx.browser.version<9?v(this.arrow).css("margin-top","3px"):0<=parseInt(e)&&v(this.arrow).css("margin-top",parseInt(e)+"px")))}),16<this.toggleIndicatorSize&&(s=s+this.toggleIndicatorSize-16),this.panel&&(s>this.host.width()?(e=s-this.host.width(),t="hidden"!==this.panel.jqxPanel("vScrollBar").css("visibility")?10:0,this.panel.jqxPanel({horizontalScrollBarMax:e+=t})):this.panel.jqxPanel({horizontalScrollBarMax:0})),this.host.find("ul:first").width(s),0<(t=this.host.width()-30)&&this.host.find("ul:first").css("min-width",t),this.panel&&this.panel.jqxPanel("_arrange"))},_arrowStyle:function(e,t,i){var s;0<e.length&&(e.removeClass(),s="",t="jqx-tree-item-arrow"+(i?"-expand":"-collapse")+(s="hover"==t?"-"+t:s),e.addClass(this.toThemeProperty(t)),this.rtl||e.addClass(this.toThemeProperty("jqx-icon-arrow"+(i?"-down":"-right"))),this.rtl&&(e.addClass(this.toThemeProperty(t+"-rtl")),e.addClass(this.toThemeProperty("jqx-icon-arrow"+(i?"-down":"-left")))))},_initialize:function(e,t){var n=this,o=(this.host.addClass(n.toThemeProperty("jqx-widget")),this.host.addClass(n.toThemeProperty("jqx-widget-content")),this.host.addClass(n.toThemeProperty("jqx-tree")),this._updateDisabledState(),v.jqx.browser.msie&&v.jqx.browser.version<8);v.each(this.items,function(){var e=this,t=v(e.element),i=null;if(n.checkboxes&&!e.hasItems&&e.checkBoxElement&&v(e.checkBoxElement).css("margin-left","0px"),o)!e.hasItems&&0<v(e.element).find("ul").length&&v(e.element).find("ul").remove();else{if(!e.hasItems)return n.rtl?e.element.style.marginRight=parseInt(n.toggleIndicatorSize)+"px":e.element.style.marginLeft=parseInt(n.toggleIndicatorSize)+"px",0<(s=v(e.arrow)).length&&(s.remove(),e.arrow=null),!0;n.rtl?e.element.style.marginRight="0px":e.element.style.marginLeft="0px"}0<(s=v(e.arrow)).length&&s.remove();(i=v('<span style="height: 17px; border: none; background-color: transparent;" id="arrow'+t[0].id+'"></span>')).prependTo(t),n.rtl?i.css("float","right"):i.css("float","left"),i.css("clear","both"),i.width(n.toggleIndicatorSize),n._arrowStyle(i,"",e.isExpanded);var s=parseInt(v(this.titleElement).css("padding-top")),s=((s=(s=isNaN(s)?0:s)*2+2)+v(this.titleElement).height())/2-8.5,s=(v.jqx.browser.msie&&v.jqx.browser.version<9?i.css("margin-top","3px"):0<=parseInt(s)&&i.css("margin-top",parseInt(s)+"px"),t.addClass(n.toThemeProperty("jqx-disableselect")),i.addClass(n.toThemeProperty("jqx-disableselect")),"click"),r=n.isTouchDevice();r&&(s=v.jqx.mobile.getTouchEventName("touchend")),n.addHandler(i,s,function(){return e.isExpanded?n._collapseItem(n,e):n._expandItem(n,e),!1}),n.addHandler(i,"selectstart",function(){return!1}),n.addHandler(i,"mouseup",function(){if(!r)return!1}),e.hasItems=0<v(e.element).find("li").length,e.arrow=i[0],e.hasItems||i.css("visibility","hidden"),t.css("float","none")})},_getOffset:function(e){var t=v(window).scrollTop(),i=v(window).scrollLeft(),s=v.jqx.mobile.isSafariMobileBrowser(),r=v(e).offset(),n=r.top,r=r.left;return null!=s&&s?{left:r-i,top:n-t}:v(e).offset()},_renderHover:function(e,t,i){var s,r=this;i||(s=v(t.titleElement),r.addHandler(s,"mouseenter",function(){t.disabled||!r.enableHover||r.disabled||(s.addClass(r.toThemeProperty("jqx-fill-state-hover")),s.addClass(r.toThemeProperty("jqx-tree-item-hover")))}),r.addHandler(s,"mouseleave",function(){t.disabled||!r.enableHover||r.disabled||(s.removeClass(r.toThemeProperty("jqx-fill-state-hover")),s.removeClass(r.toThemeProperty("jqx-tree-item-hover")))}))},_updateDisabledState:function(){this.disabled?this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},_addInput:function(){var e;null==this.input&&((e=this.host.attr("name"))&&this.host.attr("name",""),this.input=v("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",e),this._updateInputSelection())},render:function(){this._updateItemsNavigation(),this._render()},_render:function(e,t){v.jqx.browser.msie&&v.jqx.browser.version<8&&(i=this,v.each(this.items,function(){var e=v(this.element),t=e.parent(),i=parseInt(this.titleElement.css("margin-left"))+this.titleElement[0].scrollWidth+13,i=(e.css("min-width",i),parseInt(t.css("min-width"))),s=(isNaN(i)&&(i=0),e.css("min-width"));i<parseInt(e.css("min-width"))&&t.css("min-width",s),this.titleElement[0].style.width=null}));var i=this;if(v.data(i.element,"animationHideDelay",i.animationHideDelay),v.data(document.body,"treeel",this),this._initialize(),this.isTouchDevice()&&"dblclick"==this.toggleMode&&(this.toggleMode="click"),null!=e&&1!=e||v.each(this.items,function(){i._updateItemEvents(i,this)}),this.allowDrag&&this._enableDragDrop&&(null==t||1==t)&&this._enableDragDrop(),this._addInput(),this.host.jqxPanel){if(0<this.host.find("#panel"+this.element.id).length)return this.panel.jqxPanel({touchMode:this.touchMode}),void this.panel.jqxPanel("refresh");this.host.find("ul:first").wrap('<div style="background-color: transparent; overflow: hidden; width: 100%; height: 100%;" id="panel'+this.element.id+'"></div>');e=this.host.find("div:first"),t="fixed",t=(null!=this.height&&"auto"!=this.height||(t="verticalwrap"),null!=this.width&&"auto"!=this.width||(t="fixed"==t?"horizontalwrap":"wrap"),e.jqxPanel({rtl:this.rtl,theme:this.theme,width:"100%",height:"100%",touchMode:this.touchMode,sizeMode:t}),v.jqx.browser.msie&&v.jqx.browser.version<8&&e.jqxPanel("content").css("left","0px"),e.data({nestedWidget:!0}),(null==this.height||null!=this.height&&-1!=this.height.toString().indexOf("%"))&&this.isTouchDevice()&&(this.removeHandler(e,v.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(e,v.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(e,v.jqx.mobile.getTouchEventName("touchstart")+".touchScroll")),v.data(e[0],"jqxPanel").instance);null!=t&&(this.vScrollInstance=t.vScrollInstance,this.hScrollInstance=t.hScrollInstance),this.panelInstance=t,v.jqx.browser.msie&&v.jqx.browser.version<8&&(this.host.attr("hideFocus",!0),this.host.find("div").attr("hideFocus",!0),this.host.find("ul").attr("hideFocus",!0)),e[0].className="",this.panel=e}this._raiseEvent("3",this)},focus:function(){try{this.host.focus()}catch(e){}},_updateItemEvents:function(t,i){var e=this.isTouchDevice(),s=(e&&(this.toggleMode=v.jqx.mobile.getTouchEventName("touchend")),v(i.element)),r=(t.enableRoundedCorners&&s.addClass(t.toThemeProperty("jqx-rc-all")),e?v.jqx.mobile.getTouchEventName("touchend"):"mousedown"),n=(!0===t.touchMode&&t.removeHandler(v(i.checkBoxElement),"mousedown"),t.removeHandler(v(i.checkBoxElement),r),t.addHandler(v(i.checkBoxElement),r,function(e){return t.disabled||this.treeItem.disabled||(this.treeItem.checked=!this.treeItem.checked,t.checkItem(this.treeItem.element,this.treeItem.checked,"tree"),t.hasThreeStates&&t.checkItems(this.treeItem,this.treeItem)),!1}),v(i.titleElement));t.removeHandler(s);this.allowDrag&&this._enableDragDrop?(t.removeHandler(n,"mousedown.item"),t.removeHandler(n,"click"),t.removeHandler(n,"dblclick"),t.removeHandler(n,"mouseenter"),t.removeHandler(n,"mouseleave")):t.removeHandler(n),t._renderHover(s,i,e);var o=v(i.subtreeElement);0<o.length&&(r=i.isExpanded?"block":"none",o.css({overflow:"hidden",display:r}),o.data("timer",{})),t.addHandler(n,"selectstart",function(e){return!1}),v.jqx.browser.opera&&t.addHandler(n,"mousedown.item",function(e){return!1}),"click"!=t.toggleMode&&t.addHandler(n,"click",function(e){t.selectItem(i.element,"mouse"),null!=t.panel&&t.panel.jqxPanel({focused:!0}),n.focus(),t._raiseEvent("9",{element:i.element})}),t.addHandler(n,t.toggleMode,function(e){if(0<o.length&&clearTimeout(o.data("timer").hide),null!=t.panel&&t.panel.jqxPanel({focused:!0}),t.selectItem(i.element,"mouse"),null==i.isExpanding&&(i.isExpanding=!1),null==i.isCollapsing&&(i.isCollapsing=!1),0<o.length)return i.isExpanded?0==i.isCollapsing&&(i.isCollapsing=!0,t._collapseItem(t,i,!0)):0==i.isExpanding&&(i.isExpanding=!0,t._expandItem(t,i)),!1})},isTouchDevice:function(){if(null!=this._isTouchDevice)return this._isTouchDevice;var e=v.jqx.mobile.isTouchDevice();return 1==this.touchMode?e=!0:0==this.touchMode&&(e=!1),this._isTouchDevice=e},createID:function(){return v.jqx.utilities.createId()},createTree:function(e){if(null!=e){var t=v(e).find("li");this.items=new Array,this.itemMapping=new Array,v(e).addClass(this.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&v(e).addClass(this.toThemeProperty("jqx-tree-dropdown-root-rtl")),(this.rtl||v.jqx.browser.msie&&v.jqx.browser.version<8)&&(this._measureItem=v("<span style='position: relative; visibility: hidden;'></span>"),this._measureItem.addClass(this.toThemeProperty("jqx-widget")),this._measureItem.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._measureItem.addClass(this.toThemeProperty("jqx-tree-item")),this._measureItem.addClass(this.toThemeProperty("jqx-item")),v(document.body).append(this._measureItem)),v.jqx.browser.msie&&v.jqx.browser.version;for(var i=0;i<t.length;i++)this._createItem(t[i]);(this.rtl||v.jqx.browser.msie&&v.jqx.browser.version<8)&&this._measureItem.remove(),this._updateItemsNavigation(),this._updateCheckStates()}},_updateCheckLayout:function(e){var t=this;this.checkboxes&&v.each(this.items,function(){this.level!=e&&null!=e||t._updateCheckItemLayout(this)})},_updateCheckItemLayout:function(e){var t,i;this.checkboxes&&"none"!=v(e.titleElement).css("display")&&(t=v(e.checkBoxElement),i=v(e.titleElement).outerHeight()/2-1-parseInt(this.checkSize)/2,t.css("margin-top",i),this.rtl||(v.jqx.browser.msie&&v.jqx.browser.version<8?e.titleElement.css("margin-left",parseInt(this.checkSize)+25):e.hasItems&&t.css("margin-left",this.toggleIndicatorSize)))},_updateCheckStates:function(){var e=this;e.hasThreeStates?v.each(this.items,function(){e._updateCheckState(this)}):v.each(this.items,function(){null==this.checked&&e.checkItem(this.element,!1,"tree")})},_updateCheckState:function(e){var s,i,t,r;null!=e&&(s=this,r=i=0,r=(t=v(e.element).find("li")).length,e.checked&&0<r&&v.each(t,function(e){var t=s.itemMapping["id"+this.id].item,i=t.element.getAttribute("item-checked");null!=i&&"true"!=i&&1!=i||s.checkItem(t.element,!0,"tree")}),v.each(t,function(e){var t=s.itemMapping["id"+this.id].item;0!=t.checked&&(t.checked,i++)}),0<r&&(i==r?this.checkItem(e.element,!0,"tree"):0<i?this.checkItem(e.element,null,"tree"):this.checkItem(e.element,!1,"tree")))},_updateItemsNavigation:function(){for(var e=this.host.find("ul:first"),t=v(e).find("li"),i=0;i<t.length;i++){var s=t[i];!this.itemMapping["id"+s.id]||(s=this.itemMapping["id"+s.id].item)&&(s.prevItem=null,s.nextItem=null,0<i&&this.itemMapping["id"+t[i-1].id]&&(s.prevItem=this.itemMapping["id"+t[i-1].id].item),i<t.length-1&&this.itemMapping["id"+t[i+1].id]&&(s.nextItem=this.itemMapping["id"+t[i+1].id].item))}},_applyTheme:function(i,s){for(var r=this,e=(this.host.removeClass("jqx-tree-"+i),this.host.removeClass("jqx-widget-"+i),this.host.removeClass("jqx-widget-content-"+i),this.host.addClass(r.toThemeProperty("jqx-tree")),this.host.addClass(r.toThemeProperty("jqx-widget")),this.host.find("ul:first")),t=(v(e).removeClass(r.toThemeProperty("jqx-tree-dropdown-root-"+i)),v(e).addClass(r.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&(v(e).removeClass(r.toThemeProperty("jqx-tree-dropdown-root-rtl-"+i)),v(e).addClass(r.toThemeProperty("jqx-tree-dropdown-root-rtl"))),v(e).find("li")),n=0;n<t.length;n++){var o=t[n];v(o).children().each(function(){if("ul"==this.tagName||"UL"==this.tagName)return v(this).removeClass(r.toThemeProperty("jqx-tree-dropdown-"+i)),v(this).addClass(r.toThemeProperty("jqx-tree-dropdown")),r.rtl&&(v(this).removeClass(r.toThemeProperty("jqx-tree-dropdown-rtl-"+i)),v(this).addClass(r.toThemeProperty("jqx-tree-dropdown-rtl"))),!1})}v.each(this.items,function(){var e=v(this.element),t=(e.removeClass(r.toThemeProperty("jqx-tree-item-li-"+i)),e.addClass(r.toThemeProperty("jqx-tree-item-li")),this.rtl&&(e.removeClass(r.toThemeProperty("jqx-tree-item-li-"+i)),e.addClass(r.toThemeProperty("jqx-tree-item-li"))),v(this.titleElement).removeClass(r.toThemeProperty("jqx-tree-item-"+i)),v(this.titleElement).addClass(r.toThemeProperty("jqx-tree-item")),v(this.titleElement).removeClass("jqx-item-"+i),v(this.titleElement).addClass(r.toThemeProperty("jqx-item")),v(this.arrow));0<t.length&&r._arrowStyle(t,"",this.isExpanded),this.checkBoxElement&&v(this.checkBoxElement).jqxCheckBox({theme:s}),r.enableRoundedCorners&&(e.removeClass("jqx-rc-all-"+i),e.addClass(r.toThemeProperty("jqx-rc-all")))}),this.host.jqxPanel&&this.panel.jqxPanel({theme:s})},_refreshMapping:function(e,t){for(var i=this.host.find("li"),s=new Array,r=new Array,n=v.data(document.body,"treeItemsStorage"),o=this,a=0;a<i.length;a++){var l,d,h=i[a],c=v(h),u=n[h.id];null!=u&&(r[r.length]=u,null!=e&&1!=e||this._updateItemEvents(this,u),u.level=c.parents("li").length,u.treeInstance=this,d=l=null,-1!=u.titleElement[0].className.indexOf("jqx-fill-state-pressed")&&(v(u.titleElement).removeClass(o.toThemeProperty("jqx-fill-state-pressed")),v(u.titleElement).removeClass(o.toThemeProperty("jqx-tree-item-selected"))),c.children().each(function(){if("ul"==this.tagName||"UL"==this.tagName)return u.subtreeElement=this,v(this).addClass(o.toThemeProperty("jqx-tree-dropdown")),o.rtl&&v(this).addClass(o.toThemeProperty("jqx-tree-dropdown-rtl")),!1}),c.parents().each(function(){if("li"==this.tagName||"LI"==this.tagName)return d=this.id,l=this,!1}),u.parentElement=l,u.parentId=d,u.hasItems=0<v(u.element).find("li").length,null!=u&&(s[a]={element:h,item:u},s["id"+h.id]=s[a]))}this.itemMapping=s,this.items=r},_createItem:function(e){if(null!=e){var t=(t=e.id)||this.createID(),i=e,s=v(e),r=(i.id=t,v.data(document.body,"treeItemsStorage")),n=(null==r&&(r=new Array),this.items.length),o=(this.items[n]=new v.jqx._jqxTree.jqxTreeItem,this.treeElements[t]=this.items[n],r[i.id]=this.items[n],v.data(document.body,"treeItemsStorage",r),n=this.items.length,0),a=this,l=null;s.attr("role","treeitem"),s.children().each(function(){if("ul"==this.tagName||"UL"==this.tagName)return a.items[n-1].subtreeElement=this,v(this).addClass(a.toThemeProperty("jqx-tree-dropdown")),a.rtl&&(v(this).addClass(a.toThemeProperty("jqx-tree-dropdown-rtl")),v(this).css("clear","both")),!1}),s.parents().each(function(){if("li"==this.tagName||"LI"==this.tagName)return o=this.id,l=this,!1});r=null!=(r=e.getAttribute("item-expanded"))&&("true"==r||1==r);i.removeAttribute("item-expanded");s=null!=(s=e.getAttribute("item-locked"))&&("true"==s||1==s);i.removeAttribute("item-locked");var d=null!=(d=e.getAttribute("item-selected"))&&("true"==d||1==d);i.removeAttribute("item-selected");var h=null!=(h=e.getAttribute("item-disabled"))&&("true"==h||1==h);i.removeAttribute("item-disabled");var c=null!=(c=e.getAttribute("item-checked"))&&("true"==c||1==c),u=e.getAttribute("item-title"),u=((null==u||"true"!=u&&1!=u)&&(u=!1),i.removeAttribute("item-title"),e.getAttribute("item-icon")),p=e.getAttribute("item-iconsize"),m=e.getAttribute("item-label"),g=e.getAttribute("item-value"),f=(i.removeAttribute("item-icon"),i.removeAttribute("item-iconsize"),i.removeAttribute("item-label"),i.removeAttribute("item-value"),this.items[n-1]),u=(f.id=t,null==f.value&&(this._valueList&&this._valueList[t]?f.value=this._valueList[t]:f.value=g),f.icon=u,f.iconsize=p,f.parentId=o,f.disabled=h,f.parentElement=l,f.element=e,f.locked=s,f.selected=d,f.checked=c,f.isExpanded=r,(f.treeInstance=this).itemMapping[n-1]={element:i,item:f},this.itemMapping["id"+i.id]=this.itemMapping[n-1],this.rtl&&(v(f.element).css("float","right"),v(f.element).css("clear","both")),0<v(i.firstChild).length?(p=16,f.icon&&(p=f.iconsize,u=v('<img width="'+(p=p||16)+'" height="'+p+'" style="float: left;" class="itemicon" src="'+f.icon+'"/>'),v(i).prepend(u),u.css("margin-right","6px"),this.rtl&&(u.css("margin-right","0px"),u.css("margin-left","6px"),u.css("float","right"))),-1==(t=-1==(t=i.innerHTML.indexOf("<ul"))?i.innerHTML.indexOf("<UL"):t)?(f.originalTitle=i.innerHTML,i.innerHTML='<div style="display: inline-block;">'+i.innerHTML+"</div>",f.titleElement=v(v(i)[0].firstChild)):(g=i.innerHTML.substring(0,t),g=v.trim(g),f.originalTitle=g,g=v('<div style="display: inline-block;">'+g+"</div>"),(s=v(i).find("ul:first")).remove(),i.innerHTML="",v(i).prepend(g),v(i).append(s),f.titleElement=g,this.rtl&&(g.css("float","right"),s.css("padding-right","10px"))),16!==p&&v(f.titleElement).css("line-height",p+"px"),v.jqx.browser.msie&&v.jqx.browser.version<8&&(v(v(i)[0].firstChild).css("display","inline-block"),c=!1,0==this._measureItem.parents().length&&(v(document.body).append(this._measureItem),c=!0),this._measureItem.css("min-width","20px"),this._measureItem[0].innerHTML=v(f.titleElement).text(),r=this._measureItem.width(),f.icon&&(r+=20),0<v(v(f.titleElement).find("img")).length&&(r+=20),v(v(i)[0].firstChild).css("max-width",r+"px"),c&&this._measureItem.remove())):(f.originalTitle="Item",v(i).append(v("<span>Item</span>")),v(i.firstChild).wrap("<span/>"),f.titleElement=v(i)[0].firstChild,v.jqx.browser.msie&&v.jqx.browser.version<8&&v(i.firstChild).css("display","inline-block")),v(f.titleElement)),t=this.toThemeProperty("jqx-rc-all");if(this.allowDrag&&u.addClass("draggable"),null==m?(m=f.titleElement,f.label=v.trim(u.text())):f.label=m,v(i).addClass(this.toThemeProperty("jqx-tree-item-li")),this.rtl&&v(i).addClass(this.toThemeProperty("jqx-tree-item-li-rtl")),t+=" "+this.toThemeProperty("jqx-tree-item")+" "+this.toThemeProperty("jqx-item"),this.rtl&&(t+=" "+this.toThemeProperty("jqx-tree-item-rtl")),u[0].className=u[0].className+" "+t,f.level=v(e).parents("li").length,f.hasItems=0<v(e).find("li").length,this.rtl&&f.parentElement&&this.checkboxes,this.checkboxes){if(!this.host.jqxCheckBox)throw new Error("jqxTree: Missing reference to jqxcheckbox.js.");g=v('<div style="overflow: visible; position: absolute; width: 18px; height: 18px;" tabIndex=0 class="chkbox"/>'),s=(g.width(parseInt(this.checkSize)),g.height(parseInt(this.checkSize)),v(i).prepend(g),this.rtl&&(g.css("float","right"),g.css("position","static")),g.jqxCheckBox({hasInput:!1,checked:f.checked,boxSize:this.checkSize,animationShowDelay:0,animationHideDelay:0,disabled:h,theme:this.theme}),this.rtl?f.parentElement?g.css("margin-right","10px"):g.css("margin-right","5px"):u.css("margin-left",parseInt(this.checkSize)+8),f.checkBoxElement=g[0],g[0].treeItem=f,u.outerHeight()/2-1-parseInt(this.checkSize)/2);g.css("margin-top",s),v.jqx.browser.msie&&v.jqx.browser.version<8?(u.css("width","1%"),u.css("margin-left",parseInt(this.checkSize)+25)):f.hasItems&&!this.rtl&&g.css("margin-left",this.toggleIndicatorSize)}else v.jqx.browser.msie&&v.jqx.browser.version<8&&u.css("width","1%");h&&this.disableItem(f.element),d&&this.selectItem(f.element),v.jqx.browser.msie&&v.jqx.browser.version<8&&(v(i).css("margin","0px"),v(i).css("padding","0px"))}},destroy:function(){this.removeHandler(v(window),"resize.jqxtree"+this.element.id),this.host.removeClass(),this.isTouchDevice()&&(this.removeHandler(this.panel,v.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(this.panel,v.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(this.panel,v.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"));var s=this,r=this.isTouchDevice();v.each(this.items,function(){var e=v(this.element),t=r?v.jqx.mobile.getTouchEventName("touchend"):"click",i=(s.removeHandler(v(this.checkBoxElement),t),v(this.titleElement));s.removeHandler(e);s.allowDrag&&s._enableDragDrop?(s.removeHandler(i,"mousedown.item"),s.removeHandler(i,"click"),s.removeHandler(i,"dblclick"),s.removeHandler(i,"mouseenter"),s.removeHandler(i,"mouseleave")):s.removeHandler(i);e=v(this.arrow);0<e.length&&(s.removeHandler(e,t),s.removeHandler(e,"selectstart"),s.removeHandler(e,"mouseup"),r||(s.removeHandler(e,"mouseenter"),s.removeHandler(e,"mouseleave")),s.removeHandler(i,"selectstart")),v.jqx.browser.opera&&s.removeHandler(i,"mousedown.item"),"click"!=s.toggleMode&&s.removeHandler(i,"click"),s.removeHandler(i,s.toggleMode)}),this.panel&&(this.panel.jqxPanel("destroy"),this.panel=null),this.host.remove()},_raiseEvent:function(e,t){e=this.events[e],t=null==t?{owner:null}:t,t.owner=this,e=new v.Event(e);return e.owner=this,e.args=t,this.host.trigger(e)},propertyChangedHandler:function(e,t,i,s){var r,n;null!=this.isInitialized&&0!=this.isInitialized&&("submitCheckedItems"==t&&e._updateInputSelection(),"disabled"==t&&e._updateDisabledState(),"theme"==t&&e._applyTheme(i,s),"keyboardNavigation"==t&&(e.enableKeyboardNavigation=s),"width"!=t&&"height"!=t||(e.refresh(),e._initialize(),e._calculateWidth(),e.host.jqxPanel&&(i="fixed",null!=this.height&&"auto"!=this.height||(i="verticalwrap"),null!=this.width&&"auto"!=this.width||(i="fixed"==i?"horizontalwrap":"wrap"),e.panel.jqxPanel({sizeMode:i}))),"touchMode"==t&&(e._isTouchDevice=null,s&&(e.enableHover=!1),e._render()),"source"!=t&&"checkboxes"!=t||null!=this.source&&(r=[],v.each(e.items,function(){this.isExpanded&&(r[r.length]={label:this.label,level:this.level})}),i=e.loadItems(e.source),e.host.jqxPanel?e.panel.jqxPanel("setcontent",i):e.element.innerHTML=i,s=e.disabled,0<(i=e.host.find("ul:first")).length&&(e.createTree(i[0]),e._render()),i=(n=e).animationShowDuration,n.animationShowDuration=0,e.disabled=!1,0<r.length&&v.each(e.items,function(){for(var e,t=0;t<r.length;t++)r[t].label==this.label&&r[t].level==this.level&&(e=n.getItem(this.element),n._expandItem(n,e))}),e.disabled=s,n.animationShowDuration=i),"hasThreeStates"==t&&(e._render(),e._updateCheckStates()),"toggleIndicatorSize"==t&&(e._updateCheckLayout(),e._render()))}})}(jqxBaseFramework),jqxBaseFramework.jqx._jqxTree.jqxTreeItem=function(e,t,i){return{label:null,id:e,parentId:t,parentElement:null,parentItem:null,disabled:!1,selected:!1,locked:!1,checked:!1,level:0,isExpanded:!1,hasItems:!1,element:null,subtreeElement:null,checkBoxElement:null,titleElement:null,arrow:null,prevItem:null,nextItem:null}},!function(ne){ne.jqx.jqxWidget("jqxTreeGrid","jqxDataTable",{}),ne.extend(ne.jqx._jqxTreeGrid.prototype,{defineInstance:function(){this.base&&((this.base.treeGrid=this).base.exportSettings={recordsInView:!1,columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,fileName:"jqxTreeGrid"});var e={pageSizeMode:"default",checkboxes:!1,hierarchicalCheckboxes:!1,icons:!1,showSubAggregates:!1,aggregatesPosition:"top",rowDetailsRenderer:null,virtualModeCreateRecords:null,virtualModeRecordCreating:null,loadingFailed:!1};return this===ne.jqx._jqxTreeGrid.prototype||ne.extend(!0,this,e),e},createInstance:function(e){this.theme=this.base.theme},deleteRow:function(e){this.base.deleterowbykey(e)},updateRow:function(e,t){this.base.updaterowbykey(e,t)},setCellValue:function(e,t,i){this.base.setCellValueByKey(e,t,i)},getCellValue:function(e,t){return this.base.getCellValueByKey(e,t)},lockRow:function(e){this.base.lockrowbykey(e)},unlockRow:function(e){this.base.unlockrowbykey(e)},selectRow:function(e){this.base.selectrowbykey(e)},unselectRow:function(e){this.base.unselectrowbykey(e)},ensureRowVisible:function(e){this.base.ensurerowvisiblebykey(e)},beginCellEdit:function(e,t){var i=this.base,t=i.getColumn(t);i.beginroweditbykey(e,t)},beginRowEdit:function(e){this.base.beginroweditbykey(e)},endCellEdit:function(e,t,i){this.base.endroweditbykey(e,i)},endRowEdit:function(e,t){this.base.endroweditbykey(e,t)},_showLoadElement:function(){var e=this.base;"block"==e.host.css("display")&&e.autoShowLoadElement&&(ne(e.dataloadelement).css("visibility","visible"),ne(e.dataloadelement).css("display","block"),e.dataloadelement.width(e.host.width()),e.dataloadelement.height(e.host.height()))},_hideLoadElement:function(){var e=this.base;"block"==e.host.css("display")&&e.autoShowLoadElement&&(ne(e.dataloadelement).css("visibility","hidden"),ne(e.dataloadelement).css("display","none"),e.dataloadelement.width(e.host.width()),e.dataloadelement.height(e.host.height()))},getKey:function(e){if(e)return e.uid},getRows:function(){var e=this.base;return e.source.hierarchy&&0!=e.source.hierarchy.length?e.source.hierarchy:e.source.records},getCheckedRows:function(){var n=this.base,o=n._names(),a=new Array,l=function(e,t){if(t)for(var i,s,r=0;r<t.length;r++)t[r]&&(i=ne.extend({},t[r]),((s=n.rowinfo[t[r].uid])&&s[o.checked]||i[o.checked])&&e.push(i),l(a,t[r].records))};return l(a,n.dataViewRecords),a},getRow:function(s){var r,e=this.base,t=e.source.records;if(e.source.hierarchy)return(r=function(e){for(var t=0;t<e.length;t++)if(e[t]){if(e[t].uid==s)return e[t];if(e[t].records){var i=r(e[t].records);if(i)return i}}})(e.source.hierarchy);for(var i=0;i<t.length;i++)if(t[i]&&t[i].uid==s)return t[i]},_renderrows:function(){var a=this.base,z=this;if(!a._loading&&!a._updating){function E(e){for(var t=0,i=new Array,s=0;s<e.length;s++){var r=e[s];if(0==r[l.level]&&t++,t>a.dataview.pagesize*a.dataview.pagenum&&t<=a.dataview.pagesize*a.dataview.pagenum+a.dataview.pagesize&&i.push(r),t>a.dataview.pagesize*a.dataview.pagenum+a.dataview.pagesize)break}return i}var L,l=a._names(),e=(0!==a.source.hierarchy.length||a.loadingFailed||this.virtualModeCreateRecords&&(a._loading=!0,this.virtualModeCreateRecords(null,function(e){if(!1===e||e&&0==e.length)return a._loading=!1,a.loadingFailed=!0,a.source.hierarchy=new Array,z._hideLoadElement(),a._renderrows(),a._updateScrollbars(),void a._arrange();for(var t=0;t<e.length;t++)e[t].level=0,z.virtualModeRecordCreating(e[t]),a.rowsByKey[e[t].uid]=e[t];a.source.hierarchy=e,a.source._source.hierarchy||(a.source._source.hierarchy={}),a._loading=!1,z._hideLoadElement(),a._renderrows(),a._updateScrollbars(),a._arrange()}),this._showLoadElement()),a.rendering&&a.rendering(),0),t=(a.table[0].rows=new Array,a.toTP("jqx-cell")+" "+a.toTP("jqx-widget-content")+" "+a.toTP("jqx-item")),i=(a.rtl&&(t+=" "+a.toTP("jqx-cell-rtl")),a.columns.records.length),s=ne.jqx.browser.msie&&ne.jqx.browser.version<8,r=(s&&a.host.attr("hideFocus","true"),new Array),N=function(e,t){for(var i=0;i<e.length;i++){var s=e[i];if(s){var r=(a.rowinfo[s.uid]||s).expanded;if(0==a.dataview.filters.length&&(s._visible=!0),!1!==s._visible)if(r||s[l.leaf]){if(t.push(s),s.records&&0<s.records.length)for(var n=N(s.records,new Array),o=0;o<n.length;o++)t.push(n[o])}else t.push(s)}}return t},n=0===a.source.hierarchy.length?a.source.records:a.source.hierarchy,o=(n=a.dataview.evaluate(n),a.dataViewRecords=n,this.showSubAggregates&&(L=function(e,t){0!=e&&0<t.length&&(t[t.length-1]?t[t.length-1].aggregate||t.push({_visible:!0,level:e,siblings:t,aggregate:!0,leaf:!0}):ne.jqx.browser.msie&&ne.jqx.browser.version<9&&t[t.length-2]&&!t[t.length-2].aggregate&&t.push({_visible:!0,level:e,siblings:t,aggregate:!0,leaf:!0}));for(var i=0;i<t.length;i++)t[i]&&t[i].records&&L(e+1,t[i].records)})(0,n),0===a.source.hierarchy.length?("all"==a.dataview.pagesize||!a.pageable||a.serverProcessing?(p=n,a.pageable&&a.serverProcessing&&n.length>a.dataview.pagesize&&(p=n.slice(a.dataview.pagesize*a.dataview.pagenum,a.dataview.pagesize*a.dataview.pagenum+a.dataview.pagesize))):p=n.slice(a.dataview.pagesize*a.dataview.pagenum,a.dataview.pagesize*a.dataview.pagenum+a.dataview.pagesize),r=p):(n=N.call(a,n,new Array),"all"!=a.dataview.pagesize&&a.pageable?(p=n.slice(a.dataview.pagesize*a.dataview.pagenum,a.dataview.pagesize*a.dataview.pagenum+a.dataview.pagesize),"root"==this.pageSizeMode&&(p=E(n))):p=n,r=p,o=a.dataview.pagenum,a.updatepagerdetails(),a.dataview.pagenum!=o&&("all"!=a.dataview.pagesize&&a.pageable?(p=n.slice(a.dataview.pagesize*a.dataview.pagenum,a.dataview.pagesize*a.dataview.pagenum+a.dataview.pagesize),"root"==this.pageSizeMode&&(p=E(n))):p=n,r=p)),(a.renderedRecords=r).length),n=a.tableZIndex,O=0,d=0;if(s)for(var h=0;h<i;h++){(C=(C=(u=a.columns.records[h]).width)<u.minwidth?u.minwidth:C)>u.maxwidth&&(C=u.maxwidth);var c=ne('<table><tr><td role="gridcell" style="max-width: '+C+"px; width:"+C+'px;" class="'+t+'"></td></tr></table>'),R=(ne(document.body).append(c),c.find("td")),O=1+parseInt(R.css("padding-left"))+parseInt(R.css("padding-right"));c.remove();break}for(var u,p=a.rtl?" "+a.toTP("jqx-grid-table-rtl"):"",m="<table cellspacing='0' class='"+a.toTP("jqx-grid-table")+p+"' id='table"+a.element.id+"'><colgroup>",g="<table cellspacing='0' class='"+a.toTP("jqx-grid-table")+p+"' id='pinnedtable"+a.element.id+"'><colgroup>",F=null,h=0;h<i;h++)(u=a.columns.records[h]).hidden||((C=(C=(F=u).width)<u.minwidth?u.minwidth:C)>u.maxwidth&&(C=u.maxwidth),(C-=O)<0&&(C=0),s?(k=C,0==h&&k++,g+="<col style='max-width: "+C+"px; width: "+k+"px;'>",m+="<col style='max-width: "+C+"px; width: "+k+"px;'>"):(g+="<col style='max-width: "+C+"px; width: "+C+"px;'>",m+="<col style='max-width: "+C+"px; width: "+C+"px;'>"),d+=C);m+="</colgroup>",g+="</colgroup>";for(var f,v,W=a._hiddencolumns=!1,x=(0===o&&(q='<tr role="row">',p=a.host.height(),a.pageable&&(p-=a.pagerHeight,"both"===a.pagerPosition&&(p-=a.pagerHeight)),p-=a.columnsHeight,a.filterable&&(f=a.filter.find(".filterrow"),v=1,0<a.filter.find(".filterrow-hidden").length&&(v=0),p-=a.filterHeight+a.filterHeight*f.length*v),a.showstatusbar&&(p-=a.statusBarHeight),a.showAggregates&&(p-=a.aggregatesHeight),p<25&&(p=25),"hidden"!=a.hScrollBar[0].style.visibility&&(p-=a.hScrollBar.outerHeight()),"auto"!==a.height&&null!==a.height&&!a.autoheight||(p=100),C=a.host.width()+2,c='<td colspan="'+a.columns.records.length+'" role="gridcell" style="border-right-color: transparent; min-height: '+p+"px; height: "+p+"px;  min-width:"+d+"px; max-width:"+d+"px; width:"+d+"px;",t=a.toTP("jqx-cell")+" "+a.toTP("jqx-grid-cell")+" "+a.toTP("jqx-item"),c+='" class="'+(t+=" "+a.toTP("jqx-center-align"))+'">',a._loading||(c+=a.gridlocalization.emptydatastring),m+=q+=c+="</td>",g+=q,a.table[0].style.width=d+2+"px",e=d),a.source._source.hierarchy&&a.source._source.hierarchy.groupingDataFields?a.source._source.hierarchy.groupingDataFields.length:0),y=0;y<r.length;y++){for(var w,V,b=r[y],_=b.uid,q=(0<x&&b[l.level]<x&&(_=b.uid),void 0===b.uid&&(b.uid=a.dataview.generatekey()),'<tr data-key="'+_+'" role="row" id="row'+y+a.element.id+'">'),G='<tr data-key="'+_+'" role="row" id="row'+y+a.element.id+'">',U=(b.aggregate&&(q='<tr data-role="summaryrow" role="row" id="row'+y+a.element.id+'">',G='<tr data-role="summaryrow" role="row" id="row'+y+a.element.id+'">'),0),j=(a.rowinfo[_]?(void 0===a.rowinfo[_].checked&&(a.rowinfo[_].checked=b[l.checked]),void 0===a.rowinfo[_].icon&&(a.rowinfo[_].icon=b[l.icon]),void 0===a.rowinfo[_].aggregate&&(a.rowinfo[_].aggregate=b[l.aggregate]),void 0===a.rowinfo[_].row&&(a.rowinfo[_].row=b),void 0===a.rowinfo[_].leaf&&(a.rowinfo[_].leaf=b[l.leaf]),void 0===a.rowinfo[_].expanded&&(a.rowinfo[_].expanded=b[l.expanded])):(void 0===(w=b[l.checked])&&(w=!1),a.rowinfo[_]={selected:b[l.selected],checked:w,icon:b[l.icon],aggregate:b.aggregate,row:b,leaf:b[l.leaf],expanded:b[l.expanded]}),a.rowinfo[_]),Y=((j.row=b).originalRecord&&(j.originalRecord=b.originalRecord),0),h=0;h<i;h++){var T=a.columns.records[h];(T.pinned||a.rtl&&a.columns.records[i-1].pinned)&&(W=!0);(C=(C=T.width)<T.minwidth?T.minwidth:C)>T.maxwidth&&(C=T.maxwidth),(C-=O)<0&&(C=0);var C,t=a.toTP("jqx-cell")+" "+a.toTP("jqx-grid-cell")+" "+a.toTP("jqx-item"),S=(T.pinned&&(t+=" "+a.toTP("jqx-grid-cell-pinned")),a.sortcolumn===T.displayfield&&(t+=" "+a.toTP("jqx-grid-cell-sort")),a.altRows&&y%2!=0&&(t+=" "+a.toTP("jqx-grid-cell-alt")),a.rtl&&(t+=" "+a.toTP("jqx-cell-rtl")),"");if(0<x&&!s&&!b.aggregate&&b[l.level]<x){S+=' colspan="'+i+'"';for(var k=0,K=0;K<i;K++){var X,I=a.columns.records[K];I.hidden||((X=I.width)<I.minwidth&&(C=I.minwidth),X>I.maxwidth&&(C=I.maxwidth),k+=X=(X-=O)<0?0:X)}C=k}var c='<td role="gridcell"'+S+' style="max-width:'+C+"px; width:"+C+"px;",S='<td role="gridcell"'+S+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+C+"px; width:"+C+"px;",D=(h==i-1&&1==i&&(c+="border-right-color: transparent;",S+="border-right-color: transparent;"),0<x&&b[l.level]<x&&!b.aggregate?a.rtl&&(t+=" "+a.toTP("jqx-right-align")):"left"!=T.cellsalign&&("right"===T.cellsalign?t+=" "+a.toTP("jqx-right-align"):t+=" "+a.toTP("jqx-center-align")),j&&(j.selected&&a.editKey!==_&&"none"!==a.selectionMode&&(t=(t+=" "+a.toTP("jqx-grid-cell-selected"))+" "+a.toTP("jqx-fill-state-pressed")),j.locked&&(t+=" "+a.toTP("jqx-grid-cell-locked")),j.aggregate&&(t+=" "+a.toTP("jqx-grid-cell-pinned"))),T.hidden?(c+="display: none;",S+="display: none;",a._hiddencolumns=!0):(0!=Y||a.rtl?(c+="border-right-width: 0px;",S+="border-right-width: 0px;"):(c+="border-left-width: 0px;",S+="border-left-width: 0px;"),Y++,U+=O+C),T.pinned&&(c+="pointer-events: auto;",S+="pointer-events: auto;"),"");if(0!=a.source.hierarchy.length&&b.records&&(!b.records||0!==b.records.length)||this.virtualModeCreateRecords||(j.leaf=!0),b.records&&0<b.records.length&&(j.leaf=!1),0<a.dataview.filters.length&&b.records&&0<b.records.length){for(var $=!1,Z=0;Z<b.records.length;Z++)if(!1!==b.records[Z]._visible&&null==b.records[Z].aggregate){$=!0;break}j.leaf=!$}j&&!j.leaf&&(j.expanded?(D+=a.toTP("jqx-tree-grid-expand-button")+" ",a.rtl?D+=a.toTP("jqx-grid-group-expand-rtl"):D+=a.toTP("jqx-grid-group-expand"),D+=" "+a.toTP("jqx-icon-arrow-down")):(D+=a.toTP("jqx-tree-grid-collapse-button")+" ",D=a.rtl?(D+=a.toTP("jqx-grid-group-collapse-rtl"))+(" "+a.toTP("jqx-icon-arrow-left")):(D+=a.toTP("jqx-grid-group-collapse"))+(" "+a.toTP("jqx-icon-arrow-right")))),a.autoRowHeight&&1!==Y&&(!a.autoRowHeight||T.autoCellHeight)||(t+=" "+a.toTP("jqx-grid-cell-nowrap"));var J,P=a._getcellvalue(T,j.row);if(0<x&&!b.aggregate&&b[l.level]<x&&(P=b.label),""!=T.cellsFormat&&ne.jqx.dataFormat&&(ne.jqx.dataFormat.isDate(P)?P=ne.jqx.dataFormat.formatdate(P,T.cellsFormat,a.gridlocalization):(ne.jqx.dataFormat.isNumber(P)||!isNaN(parseFloat(P))&&isFinite(P))&&(P=ne.jqx.dataFormat.formatnumber(P,T.cellsFormat,a.gridlocalization))),""!=T.cellclassname&&T.cellclassname&&("string"==typeof T.cellclassname?t+=" "+T.cellclassname:(J=T.cellclassname(y,T.datafield,a._getcellvalue(T,j.row),j.row,P))&&(t+=" "+J)),""==T.cellsRenderer||!T.cellsRenderer||void 0!==(J=T.cellsRenderer(_,T.datafield,a._getcellvalue(T,j.row),j.row,P))&&(P=J),j.aggregate&&T.aggregates&&(H=b.siblings.slice(0,b.siblings.length-1),B=a._calculateaggregate(T,null,!0,H),b[T.displayfield]="",B?T.aggregatesRenderer?B&&(P=T.aggregatesRenderer(B[T.datafield],T,null,a.getcolumnaggregateddata(T.datafield,T.aggregates,!1,H),"subAggregates"),H=Object.keys(B[T.datafield]),b[T.displayfield]+=name+":"+B[T.datafield][H[0]]+"\n"):(P="",b[T.displayfield]="",ne.each(B,function(){for(var e in this){var t=e,i='<div style="position: relative; margin: 0px; overflow: hidden;">'+(t=a._getaggregatename(t))+":"+this[e]+"</div>";P+=i,b[T.displayfield]+=t+":"+this[e]+"\n"}})):P=""),1===Y&&!a.rtl||T==F&&a.rtl||0<x&&b[l.level]<x){for(var Q="",ee=a.toThemeProperty("jqx-tree-grid-indent"),te=j.leaf?1:0,ie=0;ie<b[l.level]+te;ie++)Q+="<span class='"+ee+"'></span>";var A,M,H="<span class='"+D+"'></span>",B="",D="",se=(this.checkboxes&&!b.aggregate&&(M=a.toThemeProperty("jqx-tree-grid-checkbox")+" "+ee+" "+a.toThemeProperty("jqx-checkbox-default")+" "+a.toThemeProperty("jqx-fill-state-normal")+" "+a.toThemeProperty("jqx-rc-all"),A=!0,(A=ne.isFunction(this.checkboxes)&&null==(A=this.checkboxes(_,b))?!1:A)&&(j?(void 0===(A=j.checked)&&(A=!1),B+=(A=0==this.hierarchicalCheckboxes&&null===A?!1:A)?"<span checked='true' class='"+M+"'><div class='"+a.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+a.toThemeProperty("jqx-checkbox-check-checked")+"'></div></span>":!1===A?"<span checked='undefined' class='"+M+"'></span>":"<span class='"+M+"'><div class='"+a.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+a.toThemeProperty("jqx-checkbox-check-indeterminate")+"'></div></span>"):B+="<span class='"+M+"'></span>")),this.icons&&!b.aggregate&&(A=a.toThemeProperty("jqx-tree-grid-icon")+" "+ee,a.rtl&&(A=a.toThemeProperty("jqx-tree-grid-icon")+" "+a.toThemeProperty("jqx-tree-grid-icon-rtl")+" "+ee),M=a.toThemeProperty("jqx-tree-grid-icon-size")+" "+ee,se=j.icon,ne.isFunction(this.icons)&&(j.icon=this.icons(_,b),j.icon&&(se=!0)),se&&(j.icon?D+="<span class='"+A+"'><img class='"+M+"' src='"+j.icon+"'/></span>":D+="<span class='"+A+"'></span>")),a.autoRowHeight&&1===Y&&T.autoCellHeight?" "+a.toTP("jqx-grid-cell-wrap"):""),re=Q+H+B+D+"<span class='"+a.toThemeProperty("jqx-tree-grid-title")+se+"'>"+P+"</span>";P=a.rtl?"<span class='"+a.toThemeProperty("jqx-tree-grid-title")+se+"'>"+P+"</span>"+D+B+H+Q:re}if(0<x&&s&&x<=h&&b[l.level]<x&&(c+="padding-left: 5px; border-left-width: 0px;",S+="padding-left: 5px; border-left-width: 0px;",P="<span style='visibility: hidden;'>-</span>"),c=(c+='" class="'+t+'">')+P+"</td>",S=(S+='" class="'+t+'">')+P+"</td>",T.pinned?(G+=c,q+=c):(q+=c,W&&(G+=S)),0<x&&!s&&b[l.level]<x&&!b.aggregate)break}0==e&&(a.table[0].style.width=U+2+"px",e=U),m+=q+="</tr>",g+=G+="</tr>",a.rowDetails&&!b.aggregate&&this.rowDetailsRenderer&&(w='<tr data-role="row-details"><td valign="top" align="left" style="pointer-events: auto; max-width:'+C+"px; width:"+C+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+a.columns.records.length+'" role="gridcell"',t=a.toTP("jqx-cell")+" "+a.toTP("jqx-grid-cell")+" "+a.toTP("jqx-item"),t=(t+=" "+a.toTP("jqx-details"))+" "+a.toTP("jqx-reset"),(V=this.rowDetailsRenderer(_,b))&&(m+=w+='" class="'+t+'"><div style="pointer-events: auto; overflow: hidden;"><div data-role="details">'+V+"</div></div></td></tr>",g+=w))}m+="</table>",g+="</table>",W?(a.WinJS?MSApp.execUnsafeLocalFunction(function(){a.table.html(g+m)}):a.table[0].innerHTML=g+m,f=a.table.find("#table"+a.element.id),(v=a.table.find("#pinnedtable"+a.element.id)).css("float","left"),v.css("pointer-events","none"),f.css("float","left"),v[0].style.position="absolute",f[0].style.position="relative",f[0].style.zIndex=n-10,v[0].style.zIndex=n+10,a._table=f,a._table[0].style.left="0px",a._pinnedTable=v,s&&(v[0].style.left="0px"),a._table[0].style.width=e+"px",a._pinnedTable[0].style.width=e+"px",a.rtl&&a._haspinned&&(a._pinnedTable[0].style.left=3-e+parseInt(a.element.style.width)+"px")):(a.WinJS?MSApp.execUnsafeLocalFunction(function(){a.table.html(m)}):a.table[0].innerHTML=m,K=a.table.find("#table"+a.element.id),a._table=K,ne.jqx.browser.msie&&ne.jqx.browser.version<10&&(a._table[0].style.width=e+"px"),0===o&&(a._table[0].style.width=2+e+"px")),0===o&&(a._table[0].style.tableLayout="auto",a._pinnedTable&&(a._pinnedTable[0].style.tableLayout="auto")),a.showAggregates&&a._updatecolumnsaggregates(),a._loading&&0==o&&(a._arrange(),this._showLoadElement()),a.rendered&&a.rendered()}},propertyChangedHandler:function(e,t,i,s){if(null!=e.isInitialized&&0!=e.isInitialized){var r,n=e.base;if("pageSizeMode"==t||"hierarchicalCheckboxes"==t)e._renderrows();else if("filterable"==t)n._render();else if("height"===t)n.host.height(e.height),n.host.width(e.width),n._updatesize(!1,!0);else if("width"===t)n.host.height(e.height),n.host.width(e.width),n._updatesize(!0,!1);else if("source"===t)n.updateBoundData();else if("columns"===t||"columnGroups"===t)n._columns=null,n._render();else if("rtl"===t)n.content.css("left",""),e.columns=e._columns,n.vScrollBar.jqxScrollBar({rtl:s}),n.hScrollBar.jqxScrollBar({rtl:s}),n._render();else if("pagerMode"===t)e.pagerMode=s,n._initpager();else if("pageSizeOptions"==t){n._initpager();for(var o=!1,a=0;a<s.length;a++)if(parseInt(s[a])==e.pageSize){o=!0;break}o||ne.jqx.set(e,[{pageSize:s[0]}])}else"pageSize"==t?(r=n.dataview.pagenum*n.dataview.pagesize,n.dataview.pagesize=n.pageSize,(r=Math.floor(r/n.dataview.pagesize))===n.dataview.pagenum&&parseInt(s)===parseInt(i)||(e._raiseEvent("pageSizeChanged",{pagenum:s,oldpageSize:i,pageSize:n.dataview.pagesize}),e.goToPage(r)||n.refresh())):"pagerPosition"===t?n.refresh():"selectionMode"===t?n.selectionMode=s.toLowerCase():"touchmode"==t?(n.touchDevice=null,n._removeHandlers(),n.touchDevice=null,n.vScrollBar.jqxScrollBar({touchMode:s}),n.hScrollBar.jqxScrollBar({touchMode:s}),n._updateTouchScrolling(),n._arrange(),n._updatecolumnwidths(),n._renderrows(),n._addHandlers()):"enableHover"!=t&&("disabled"==t?(s?n.base.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):n.base.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),n.pageable&&(n.pagernexttop&&(n.pagernexttop.jqxButton({disabled:s}),n.pagerprevioustop.jqxButton({disabled:s}),n.pagernextbottom.jqxButton({disabled:s}),n.pagerpreviousbottom.jqxButton({disabled:s}),n.pagerfirsttop.jqxButton({disabled:s}),n.pagerfirstbottom.jqxButton({disabled:s}),n.pagerlasttop.jqxButton({disabled:s}),n.pagerlastbottom.jqxButton({disabled:s}),n.pagershowrowscombotop.jqxDropDownList&&"advanced"==n.pagerMode&&(n.pagershowrowscombotop.jqxDropDownList({disabled:!1}),n.pagershowrowscombobottom.jqxDropDownList({disabled:!1}))),n.base.host.find(".jqx-grid-pager-number").css("cursor",s?"default":"pointer")),n.base.host.find(".jqx-grid-group-collapse").css("cursor",s?"default":"pointer"),n.base.host.find(".jqx-grid-group-expand").css("cursor",s?"default":"pointer")):"columnsHeight"==t?n._render():("theme"==t&&(n.theme=r=s,ne.jqx.utilities.setTheme(i,s,n.host),n.vScrollBar.jqxScrollBar({theme:r}),n.hScrollBar.jqxScrollBar({theme:r}),n.pageable&&n.pagernexttop&&(n.pagernexttop.jqxButton({theme:r}),n.pagerprevioustop.jqxButton({theme:r}),n.pagernextbottom.jqxButton({theme:r}),n.pagerpreviousbottom.jqxButton({theme:r}),n.pagerfirsttop.jqxButton({theme:r}),n.pagerfirstbottom.jqxButton({theme:r}),n.pagerlasttop.jqxButton({theme:r}),n.pagerlastbottom.jqxButton({theme:r}),n.pagershowrowscombotop.jqxDropDownList&&"advanced"==n.pagerMode&&(n.pagershowrowscombotop.jqxDropDownList({theme:r}),n.pagershowrowscombobottom.jqxDropDownList({theme:r}))),n.filterable&&(0<(t=ne(".filterconditions")).length&&t.jqxDropDownList({theme:r}),n.filtercolumnsList&&n.filtercolumnsList.jqxDropDownList({theme:r}))),n.refresh()))}},checkRow:function(e,t,i){var s,r=this.base,n=r._names();r._loading||((s=r.rowinfo[e])?(s.checked=!0,s.row[n.checked]=!0,s.originalRecord&&(s.originalRecord[n.checked]=!0),null==i&&this.hierarchicalCheckboxes&&this.checkRows(s.row,s.row),!1!==t&&(r._renderrows(),r._renderhorizontalscroll()),r._raiseEvent("rowCheck",{key:e,row:s.row})):(s=this.getRow(e))&&(r.rowinfo[e]={row:s,checked:!0},r.rowinfo[e].row[n.checked]=!0,s.originalRecord&&(r.rowinfo[e].originalRecord=s.originalRecord),r._raiseEvent("rowCheck",{key:e,row:s}),null==i&&this.hierarchicalCheckboxes&&this.checkRows(s,s),!1!==t&&(r._renderrows(),r._renderhorizontalscroll())))},checkRows:function(e,t){function i(e){function i(e){for(var t=0;t<e.length;t++)s.push(e[t]),e[t]&&e[t].records&&i(e[t].records)}var s=new Array;return e.records&&i(e.records),s}var s,r,n,o,a,l=this.base,d=this,h=l._names();null!=e?(r=s=0,n=function(e){for(var t,i=0;i<e.length;i++)e[i]&&(0!=(t=void 0===(t=e[i][h.checked])?!1:t)&&(null==e[i][h.checked]&&0,e[i].records&&n(e[i].records),s++),r++)},e.records&&n(e.records),e!=t?s==r?this.checkRow(e.uid,!1,"tree"):0<s?this.indeterminateRow(e.uid,!1,"tree"):this.uncheckRow(e.uid,!1,"tree"):(o=t[h.checked],a=i(t),ne.each(a,function(){!0===o?d.checkRow(this.uid,!1,"tree"):!1===o?d.uncheckRow(this.uid,!1,"tree"):d.indeterminateRow(this.uid,!1,"tree")})),l=e[h.parent]||null,this.checkRows(l,t)):(o=t[h.checked],a=i(t),ne.each(a,function(){!0===o?d.checkRow(this.uid,!1,"tree"):!1===o?d.uncheckRow(this.uid,!1,"tree"):d.indeterminateRow(this.uid,!1,"tree")}))},indeterminateRow:function(e,t,i){var s,r=this.base,n=r._names();r._loading||((s=r.rowinfo[e])?(s.checked=null,s.row[n.checked]=null,s.originalRecord&&(s.originalRecord[n.checked]=null),null==i&&this.hierarchicalCheckboxes&&this.checkRows(s.row,s.row),!1!==t&&r._renderrows()):(s=this.getRow(e))&&(r.rowinfo[e]={row:s,checked:null},r.rowinfo[e].row[n.checked]=null,s.originalRecord&&(r.rowinfo[e].originalRecord=s.originalRecord),null==i&&this.hierarchicalCheckboxes&&this.checkRows(s,s),!1!==t&&r._renderrows()))},uncheckRow:function(e,t,i){var s,r=this.base,n=r._names();r._loading||((s=r.rowinfo[e])?(s.checked=!1,s.row[n.checked]=!1,s.originalRecord&&(s.originalRecord[n.checked]=!1),null==i&&this.hierarchicalCheckboxes&&this.checkRows(s.row,s.row),!1!==t&&r._renderrows(),r._raiseEvent("rowUncheck",{key:e,row:s.row})):(s=this.getRow(e))&&(r.rowinfo[e]={row:s,checked:!1},r.rowinfo[e].row[n.checked]=!1,s.originalRecord&&(r.rowinfo[e].originalRecord=s.originalRecord),r._raiseEvent("rowUncheck",{key:e,row:s}),null==i&&this.hierarchicalCheckboxes&&this.checkRows(s,s),!1!==t&&r._renderrows()))},expandRows:function(e){var t=this;if(e)if(t.virtualModeCreateRecords)ne.each(e,function(){var e=this;t.base._loading=!1,t.expandRow(e.uid,function(){t.base._loading=!1,t.expandRows(e.records)})});else for(var i=0;i<e.length;i++){var s=e[i];t.expandRow(s.uid),t.expandRows(s.records)}},collapseRows:function(e){if(e)for(var t=0;t<e.length;t++)this.collapseRow(e[t].uid),this.collapseRows(e[t].records)},expandAll:function(){var e=this.base;e.beginUpdate(),this.expandRows(this.getRows()),e.endUpdate()},collapseAll:function(){var e=this.base;e.beginUpdate(),this.collapseRows(this.getRows()),e.endUpdate()},expandRow:function(e,s){var r=this.base;if(!r._loading){var t,n=r._names(),o=this,a=r.rowinfo[e];if(a||(t=this.getRow(e))&&(r.rowinfo[e]={row:t},t.originalRecord&&(r.rowinfo[e].originalRecord=t.originalRecord),a=r.rowinfo[e]),a)if(a.expanded)a.row[n.expanded]=!0;else{if(a.expanded=!0,a.row[n.expanded]=!0,a.originalRecord&&(a.originalRecord[n.expanded]=!0),this.virtualModeCreateRecords&&!a.row._loadedOnDemand)if(!a.row[n.leaf])return r._loading=!0,this._showLoadElement(),void this.virtualModeCreateRecords(a.row,function(e){if(!(a.row._loadedOnDemand=!0)===e)return r._loading=!1,o._hideLoadElement(),a.leaf=!0,a.row[n.leaf]=!0,r._renderrows(),void(s&&s());for(var t=0;t<e.length;t++){if(e[t][n.level]=a.row[n.level]+1,e[t][n.parent]=a.row,r.rowsByKey[e[t].uid])throw r._loading=!1,o._hideLoadElement(),a.leaf=!0,a.row[n.leaf]=!0,r._renderrows(),s&&s(),new Error("Please, check whether you Add Records with unique ID/Key. ");r.rowsByKey[e[t].uid]=e[t],o.virtualModeRecordCreating(e[t])}a.row.records?a.row.records=a.row.records.concat(e):a.row.records=e,e&&0!=e.length||(a.leaf=!0,a.row[n.leaf]=!0),a.originalRecord&&(a.originalRecord.records=e,a.originalRecord[n.expanded]=!0,0==e.length&&(a.originalRecord[n.leaf]=!0)),r._loading=!1,o._hideLoadElement();var i=r.vScrollBar.css("visibility"),i=(r._renderrows(),r._updateScrollbars(),i!=r.vScrollBar.css("visibility"));("auto"===r.height||null===r.height||r.autoheight||i)&&r._arrange(),r._renderhorizontalscroll(),s&&s()});r.updating()||(t=r.vScrollBar.css("visibility"),r._renderrows(),r._updateScrollbars(),t=t!=r.vScrollBar.css("visibility"),("auto"===r.height||null===r.height||r.autoheight||t)&&r._arrange(),r._renderhorizontalscroll(),r._raiseEvent("rowExpand",{row:a.row,key:e}))}}},collapseRow:function(e){var t,i,s=this.base,r=s._names();s._loading||((t=s.rowinfo[e])||(i=this.getRow(e))&&(s.rowinfo[e]={row:i},i.originalRecord&&(s.rowinfo[e].originalRecord=i.originalRecord),t=s.rowinfo[e]),t&&(t.expanded?(t.expanded=!1,t.row[r.expanded]=!1,t.originalRecord&&(t.originalRecord[r.expanded]=!1),s.updating()||(i=s.vScrollBar.css("visibility"),s._renderrows(),s._updateScrollbars(),i=i!=s.vScrollBar.css("visibility"),("auto"===s.height||null===s.height||s.autoheight||i)&&s._arrange(),s._renderhorizontalscroll(),s._raiseEvent("rowCollapse",{row:t.row,key:e}))):t.row[r.expanded]=!1))}})}(jqxBaseFramework),!function(u){u.jqx.jqxWidget("jqxTreeMap","",{});var d={};function h(e,t,i,s){this.height=s,this.width=i,this.xoffset=e,this.yoffset=t,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(e){var t=[],i=this.xoffset,s=this.yoffset,r=g(e)/this.height,n=g(e)/this.width;if(this.width>=this.height)for(var o=0;o<e.length;o+=1)t.push([i,s,i+r,s+e[o]/r]),s+=e[o]/r;else for(o=0;o<e.length;o+=1)t.push([i,s,i+e[o]/n,s+n]),i+=e[o]/n;return t},this.cutArea=function(e){var t,i;return this.width>=this.height?(t=e/this.height,i=this.width-t,new h(this.xoffset+t,this.yoffset,i,this.height)):(t=e/this.width,i=this.height-t,new h(this.xoffset,this.yoffset+t,this.width,i))}}function c(e,t,i,s,r){s=void 0===s?0:s,r=void 0===r?0:r;for(var n=function e(t,i,s,r){var n,o;if(0===t.length)return void r.push(s.getCoordinates(i));o=s.shortestEdge();n=t[0];p(i,n,o)?(i.push(n),e(t.slice(1),i,s,r)):(o=s.cutArea(g(i),r),r.push(s.getCoordinates(i)),e(t,[],o,r));return r}(function(e,t){for(var i=[],s=t/g(e),r=0;r<e.length;r+=1)i[r]=e[r]*s;return i}(e,t*i),[],new h(s,r,t,i),[]),o=[],a=0;a<n.length;a+=1)for(var l=0;l<n[a].length;l+=1)o.push(n[a][l]);return o}function p(e,t,i){var s;if(0===e.length)return!0;(s=e.slice()).push(t);t=r(e,i);return r(s,i)<=t}function r(e,t){var i=Math.min.apply(Math,e),s=Math.max.apply(Math,e),e=g(e);return Math.max(Math.pow(t,2)*s/Math.pow(e,2),Math.pow(e,2)/(Math.pow(t,2)*i))}function m(e){return e&&e.constructor===Array}function g(e){for(var t=0,i=0;i<e.length;i+=1)t+=e[i];return t}function a(e,t,i,s,r,n,o,a){this.label=e,this.value=t,this.parent=i,this.children=s,this.area=r||null,this.color=n,this.data=o,this.record=a}d.default=function e(t,i,s,r,n){r=void 0===r?0:r,n=void 0===n?0:n;var o=[],a=[];if(m(t[0])){for(var l=0;l<t.length;l+=1)o[l]=function e(t){var i=0;if(m(t[0]))for(var s=0;s<t.length;s+=1)i+=e(t[s]);else i=g(t);return i}(t[l]);for(var d=c(o,i,s,r,n),l=0;l<t.length;l+=1)a.push(e(t[l],d[l][2]-d[l][0],d[l][3]-d[l][1],d[l][0],d[l][1]))}else a=c(t,i,s,r,n);return a};var s=0,n=1,o=2;u.extend(u.jqx._jqxTreeMap.prototype,{defineInstance:function(){var e={width:600,height:600,renderCallbacks:{},legendScaleCallback:function(e){return e},hoverEnabled:!1,selectionEnabled:!0,singleSelection:!0,showLegend:!0,legendLabel:"Legend",headerHeight:25,colorRange:100,layout:"default",source:[],displayMember:null,valueMember:null,colorMode:"parent",baseColor:"#C2EEFF",legendPosition:{x:0,y:0},colorRanges:[{color:"#aa9988",min:0,max:10},{color:"#ccbbcc",min:11,max:50},{color:"#000",min:50,max:100}],_root:[]};return this===u.jqx._jqxTreeMap.prototype||u.extend(!0,this,e),e},createInstance:function(){this.render()},render:function(){this.host.addClass(this.toThemeProperty("jqx-widget")),this._destroy(),this._root=new a(void 0,0,null,[],this.host);function e(e,t){for(var i,s={},r=null,n=0;n<e.length;n+=1)if(e[n].items){r=!0;break}var a,l=new Array;for(r&&((a=function(e,t){for(var i=0;i<e.length;i+=1){if(e[i].parent=t,e[i].data||(e[i].data=e[i].value),null==e[i].value&&(e[i].value=0),isNaN(parseFloat(e[i].value))){for(var s=e[i].value.toString(),r="",n=0;n<s.length;n++){var o=s.substring(n,n+1);null==o.match(/^[0-9]+$/)&&"."!=o||(r+=o)}e[i].value=new Number(r)}else e[i].value=parseFloat(e[i].value);l.push(e[i]),e[i].items&&a(e[i].items,e[i].label)}})(e,null),e=l),n=0;n<e.length;n+=1)(i=e[n]).value&&null!=i.parent&&(s[i.parent]||(s[i.parent]=0),s[i.parent]+=i.value);for(n=0;n<e.length;n+=1)void 0!==s[(i=e[n]).label]&&(i.value=s[i.label]);t._buildTree(e,t._root),t._dataList=t._buildList(),t._setStyles();var o=d.default;"simple"===t.layout&&(o=d.simple),t._render(t._root,o),t._renderLegend()}u.jqx.dataAdapter&&null!=this.source&&this.source._source?this.dataBind(this.source,e):(e(this.source,this),this._trigger("bindingComplete"))},dataBind:function(e,n){this.records=new Array;var t=!!e._source,o=new u.jqx.dataAdapter(e,{autoBind:!1}),i=(t&&(e=(o=e)._source),function(e,t){e.records=o.records;for(var i=new Array,s=0;s<e.records.length;s++){var r=e.records[s];e.displayMember&&(r.label=r[e.displayMember]),e.valueMember&&(r.value=r[e.valueMember]),r.record=r,i.push(r)}e._trigger("bindingComplete"),n(i,e)}),s=(null!=e.type&&(o._options.type=e.type),null!=e.formatdata&&(o._options.formatData=e.formatdata),null!=e.contenttype&&(o._options.contentType=e.contenttype),null!=e.async&&(o._options.async=e.async),this);switch(e.datatype){case"local":case"array":default:null!=e.localdata&&(o.unbindBindingUpdate(this.element.id),o.dataBind(),i(this),o.bindBindingUpdate(this.element.id,function(e){i(s,e)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=e.localdata)return o.unbindBindingUpdate(this.element.id),o.dataBind(),i(this),void o.bindBindingUpdate(this.element.id,function(){i(s)});var r={};o._options.data?u.extend(o._options.data,r):(e.data&&u.extend(r,e.data),o._options.data=r);o.unbindDownloadComplete(s.element.id),o.bindDownloadComplete(s.element.id,function(){i(s)}),o.dataBind()}},_destroy:function(){this.host.children().remove()},destroy:function(){this.host.remove()},refresh:function(e){e||this._refresh()},_refresh:function(){this.render()},_setStyles:function(){this.host.css({position:"relative",width:this.width,height:this.height});null!=this.width&&this.width.toString().indexOf("%"),null!=this.height&&this.height.toString().indexOf("%");var e=this;u.jqx.utilities.resize(this.host,function(){e.resizeTimer&&clearTimeout(e.resizeTimer),e.resizeTimer=setTimeout(function(){e.performLayout()},50)})},resize:function(e,t){this.width=e,this.height=t,this.performLayout()},performLayout:function(){var e=d.default;this.clearSelection(),this._layout(this._root,e)},_getValues:function(e){for(var t=[],i=0;i<e.length;i+=1)t.push(e[i].value);return t},_isColor:function(e){if(!e)return!1;var t=this._colorEvaluator;return!(!t._isRgb(e)&&!t._isHex(e))},_colorEvaluator:{_toRgb:function(e){e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},_toHex:function(e){var t=e.r.toString(16),i=e.g.toString(16),e=e.b.toString(16);return"#"+(t=1===t.length?"0"+t:t)+(i=1===i.length?"0"+i:i)+(e=1===e.length?"0"+e:e)},_isRgb:function(e){return/(rgb|rgba)\s*\(\s*\d+\s*(,\s*\d+\s*){2}(,\d+\.\d+)?\)(;?)/i.test(e)},_isHex:function(e){return/^(#([0-9A-F]{3})([0-9A-F]{3})?)$/i.test(e)},getColorByValue:function(e,t,i){var s=this._colorEvaluator;s._isRgb(i)&&(i=s._toHex(i)),i=s._toRgb(i);for(var r=t.length,n=-1/0,o=0;o<r;o+=1)n<t[o].value&&(n=t[o].value);return e=Math.round(e/n*this.colorRange),s._toHex({r:Math.max(i.r-e,0),g:Math.max(i.g-e,0),b:Math.max(i.b-e,0)})},parent:function(e){var t=e.parent.color,i=this._colorEvaluator;return e.parent?(t=t||this.baseColor,t=i.getColorByValue.call(this,e.value,e.parent.children,t),e.color=t):"#fff"},autoColors:function(e){var t=this.baseColor,t=this._colorEvaluator.getColorByValue.call(this,e.value,this._dataList,t);return e.color=t},rangeColors:function(e){for(var t,i=e.value,s=0;s<this.colorRanges.length;s+=1)if((t=this.colorRanges[s]).min<i&&t.max>=i)return t.color;return"#fff"}},_getColor:function(e){var t=e.color,i=this.colorMode;if(this._isColor(t))return t;if("function"==typeof this._colorEvaluator[i])return this._colorEvaluator[i].call(this,e);throw"Invalid colorMode"},_renderRect:function(e,t){var i=u("<div/>"),s=e[2]-e[0],r=e[3]-e[1],n=this._getColor(t),e=(i.css({position:"absolute",left:e[0]-1,top:e[1]-1,width:s,height:r,backgroundColor:n}),i.addClass(this.toThemeProperty("jqx-treemap-rectangle")),this._colorEvaluator),r={data:t.data,label:t.label,value:t.value,parent:t.parent,record:t.record,color:n,rgb:e._toRgb(n)};if((t.parent==this._root&&(r.parent=null),"function"==typeof this.renderCallbacks["*"])&&void 0!==this.renderCallbacks["*"](i,r))return i;return"function"==typeof this.renderCallbacks[t.label]?this.renderCallbacks[t.label](i,r):(s=i.width()-2,i.html('<span style="max-width:'+s+'px;" class="jqx-treemap-label">'+t.label+"</span>")),i},_centerLabel:function(e,t){var i=e[0].firstChild;i.style.position="absolute",t!==s&&t!==o||(i.style.left=(e[0].offsetWidth-i.offsetWidth)/2+"px"),t!==n&&t!==o||(i.style.top=(e[0].offsetHeight-i.offsetHeight)/2+"px")},_trigger:function(e,t){e=u.Event(e);return e.args=t,this.host.trigger(e)},_addHandlers:function(i,t){var s=this;i.on("mouseenter",function(e){s.hoverEnabled&&(s.host.find(".jqx-treemap-rectangle").removeClass("jqx-treemap-rectangle-hover"),i.addClass(s.toThemeProperty("jqx-treemap-rectangle-hover"))),s._trigger("mouseenterSector",t)}),i.on("mouseleave",function(e){s.hoverEnabled&&i.removeClass("jqx-treemap-rectangle-hover"),s._trigger("mouseleaveSector",t)}),i.on("click",function(e){var t;s.selectionEnabled&&(t=u.data(this,"jqx-treemap-selected")||!1,s.singleSelection&&s.host.find(".jqx-treemap-rectangle-hover").each(function(e,t){u.data(t,"jqx-treemap-selected",!1),u(t).removeClass("jqx-treemap-rectangle-hover")}),t=t?(i.removeClass("jqx-treemap-rectangle-hover"),!1):(i.addClass(s.toThemeProperty("jqx-treemap-rectangle-hover")),!0),u.data(this,"jqx-treemap-selected",t),e.stopImmediatePropagation())})},clearSelection:function(){this.host.find(".jqx-treemap-rectangle-hover").removeClass(this.toThemeProperty("jqx-treemap-rectangle-hover")),u.data(this,"jqx-treemap-selected",!1)},_layoutArea:function(e,t){e.children.length&&0<e.children.length?(this._centerLabel(t,s),t.addClass(this.toThemeProperty("jqx-treemap-rectangle-parent"))):this._centerLabel(t,o)},_render:function(e,t){if(e.children.length)for(var i,s,r=0,n=(e.value&&(r=this.headerHeight),this._getValues(e.children)),o=(e.area.offset(),t(n,e.area.width(),e.area.height()-r,0,r)),a=0;a<e.children.length;a+=1)i=e.children[a],s=this._renderRect(o[a],i),i.area=s,e.area.append(s),this._addHandlers(s,{label:i.label,value:i.value,color:i.color,sector:i.area,data:i.data}),this._layoutArea(i,s),this._render(i,t)},_layout:function(e,t){if(e.children.length){for(var i=0,s=(e.value&&(i=this.headerHeight),this._getValues(e.children)),r=(e.area.offset(),t(s,e.area.width(),e.area.height()-i,0,i)),n=0;n<e.children.length;n+=1){var o=e.children[n];this._layoutRect(r[n],o),this._layoutArea(o,o.area),this._layout(o,t)}this.showLegend&&(u(".jqx-treemap-legend").remove(),this._renderLegend())}},_layoutRect:function(e,t){var i=t.area,s=e[2]-e[0],r=e[3]-e[1],e=(i.css({left:e[0]-1,top:e[1]-1,width:s,height:r}),this._colorEvaluator),r=this._getColor(t),e={data:t.data,label:t.label,value:t.value,parent:t.parent,record:t.record,color:r,rgb:e._toRgb(r)};if((t.parent==this._root&&(e.parent=null),"function"==typeof this.renderCallbacks["*"])&&void 0!==this.renderCallbacks["*"](i,e))return i;"function"==typeof this.renderCallbacks[t.label]?this.renderCallbacks[t.label](i,e):(s=i.width()-2,i.find(".jqx-treemap-label:first").css("max-width",s))},_getBoundValues:function(){var e,t=this._root,i=[],s={},r={};for(s.value=t.value||1/0,r.value=t.value||-1/0,i.push(t);i.length;){e=i.pop(),s.value>e.value&&(s=e),r.value<e.value&&(r=e);for(var n=0;n<e.children.length;n+=1)i.push(e.children[n])}return[s,r]},_getAutocolorRanges:function(){for(var e,t=this._getBoundValues(),i=t[1].value,t=t[0].value,s=(i-t)/5,r=[],n=t;n<i;n+=s)e=Math.round(n),r.push({min:e,max:n+s,color:this._colorEvaluator.getColorByValue.call(this,e,this._dataList,this.baseColor)});return r},_renderLegend:function(){var e;/autoColors|rangeColors/.test(this.colorMode)&&this.showLegend&&(e=this.colorRanges,"autoColors"===this.colorMode&&(e=this._getAutocolorRanges()),e=this._renderColorLegend(e),this._renderLegendLabel(e))},_renderLegendLabel:function(e){var t=u('<tr><td colspan="'+e.find("td").length/2+'"/></tr>'),i=u('<div class="'+this.toThemeProperty("jqx-treemap-legend-label")+'" />');i.text(this.legendLabel),t.children().append(i),e.prepend(t)},_renderColorLegend:function(e){for(var t,i,s=u('<div class="'+this.toThemeProperty("jqx-treemap-legend")+'"/>'),r=function(e){return e},n=("function"==typeof this.legendScaleCallback&&(r=this.legendScaleCallback),u('<table class="'+this.toThemeProperty("jqx-treemap-legend-table")+'"/>')),o=(s.append(n),n.append("<tr/>"),s.append("<div/>"),this.host.append(s),t=u(s.find("tr")[0]),(i=u(s.find("div")[0])).addClass(this.toThemeProperty("jqx-treemap-legend-values")),e.sort(function(e,t){try{if(e.min<t.min)return-1;if(e.min>t.min)return 1}catch(e){}return 0}),Math.round(s.width()/e.length)),a=-2,l=0,d=0;d<e.length;d+=1){var h=u('<td class="'+this.toThemeProperty("jqx-treemap-legend-color")+'"/>'),c=(h.css("backgroundColor",e[d].color),t.append(h),0===d&&((c=u('<span class="'+this.toThemeProperty("jqx-treemap-legend-max-value")+" "+this.toThemeProperty("jqx-treemap-legend-value")+'"/>')).text(r(e[d].min)),i.append(c),n.css("margin-left",c.width()/2),l=a+=c.width()/2),u('<span class="'+this.toThemeProperty("jqx-treemap-legend-max-value")+" "+this.toThemeProperty("jqx-treemap-legend-value")+'"/>'));a+=o,c.text(r(e[d].max)),i.append(c),d==e.length-1&&(l+=c.width()/2,s.css("padding-right",l+5),a-=2),a-=c.width()/2,c.css("left",a),a+=c.width()/2}return s.css({position:"absolute",left:this.legendPosition.x,bottom:this.legendPosition.y,visibility:this.showLegend?"visible":"hidden"}),s},_buildTree:function(e,t){var i=null,s=[];for(s.push(t);s.length;)for(var r,n,i=s.pop(),o=0;o<e.length;o+=1)(n=e[o]).parent!==i.label&&(n.parent||i.label)||(r=i,r=new a(n.label,parseFloat(n.value,10),r,[],null,n.color,n.data,n.record),i.children.push(r),s.push(r));return t},_buildList:function(){var e,t=[],i=[];for(i.push(this._root);i.length;){(e=i.pop())!==this._root&&t.push(e);for(var s=0;s<e.children.length;s+=1)i.push(e.children[s])}return t},propertyChangedHandler:function(e,t,i){"renderCallbacks"!==t&&(/hoverEnabled|selectionEnabled/.test(t)?i||this.host.find("jqx-treemap-rectangle-hover"):"showLegend"===t?this.host.find("jqx-treemap-legend").toggle():this._refresh())}})}(jqxBaseFramework),!function(u){u.jqx.jqxWidget("jqxValidator","",{}),u.extend(u.jqx._jqxValidator.prototype,{defineInstance:function(){var e={rules:null,scroll:!0,focus:!0,scrollDuration:300,scrollCallback:null,position:"right",arrow:!0,animation:"fade",animationDuration:150,closeOnClick:!0,onError:null,onSuccess:null,ownerElement:null,_events:["validationError","validationSuccess"],hintPositionOffset:5,_inputHint:[],rtl:!1,hintType:"tooltip"};return this===u.jqx._jqxValidator.prototype||u.extend(!0,this,e),e},createInstance:function(){"label"==this.hintType&&150==this.animationDuration&&(this.animationDuration=0),this._configureInputs(),this._removeEventListeners(),this._addEventListeners()},destroy:function(){this._removeEventListeners(),this.hide()},validate:function(i){for(var s,r,n,o,a=!0,l=1/0,d=[],h=(this.updatePosition(),this),c=0,e=0;e<this.rules.length;e+=1)"function"==typeof this.rules[e].rule&&c++;this.positions=new Array;for(e=0;e<this.rules.length;e+=1){var t;u(this.rules[e].input);"function"==typeof this.rules[e].rule?this._validateRule(this.rules[e],function(e,t){0==(s=e)&&(a=!1,u(t.input),o=u(t.input),d.push(o),(e=o.offset())&&(r=e.top)<l&&(l=r,n=o)),0==--c&&"function"==typeof i&&(h._handleValidation(a,l,n,d),i&&i(a))}):s=this._validateRule(this.rules[e]),0==s&&(a=!1,o=u(this.rules[e].input),d.push(o),(t=o.offset())&&(r=t.top)<l&&(l=r,n=o))}if(0==c)return this._handleValidation(a,l,n,d),a},validateInput:function(e){for(var t=this._getRulesForInput(e),i=!0,s=0;s<t.length;s+=1)this._validateRule(t[s])||(i=!1);return i},hideHint:function(e){for(var t=this._getRulesForInput(e),i=0;i<t.length;i+=1)this._hideHintByRule(t[i])},hide:function(){for(var e=0;e<this.rules.length;e+=1)this.rules[e],this._hideHintByRule(this.rules[e])},updatePosition:function(){var e;this.positions=new Array;for(var t=0;t<this.rules.length;t+=1)(e=this.rules[t]).hint&&this._hintLayout(e.hint,u(e.input),e.position,e)},_getRulesForInput:function(e){for(var t=[],i=0;i<this.rules.length;i+=1)this.rules[i].input===e&&t.push(this.rules[i]);return t},_validateRule:function(t,i){var s,r=u(t.input),e=!0,n=this,o=!1;return"function"==typeof t.rule&&1==(o=t.rule.call(this,r,function(e){e?(n._hideHintByRule(t),i&&i(!0,t)):(e=n.animation,n.animation=null,t.hint&&n._hideHintByRule(t),"none"==u(r).css("display")||0==u(r).parents().length?n._hideHintByRule(t):(s=t.hintRender.apply(n,[t.message,r]),n._hintLayout(s,r,t.position,t),n._showHint(s),t.hint=s,n._removeLowPriorityHints(t),i&&i(!1,t),n.animation=e))}))&&i&&i(!0,t),"function"==typeof t.rule&&0==o?("function"!=typeof t.hintRender||t.hint||this._higherPriorityActive(t)||!r.is(":visible")||(s=t.hintRender.apply(this,[t.message,r]),this._removeLowPriorityHints(t),this._hintLayout(s,r,t.position,t),this._showHint(s),t.hint=s),e=!1,i&&i(!1,t)):this._hideHintByRule(t),e},_hideHintByRule:function(e){function t(){if("label"==r.hintType){var e=r;if("top"==e.position||"left"==e.position){if(s.prev().hasClass(".jqx-validator-error-label"))return}else if(s.next().hasClass(".jqx-validator-error-label"))return;"input"!=s[0].nodeName.toLowerCase()&&0<s.find("input").length?(0<s.find(".jqx-input").length?s.find(".jqx-input").removeClass(e.toThemeProperty("jqx-validator-error-element")):0<s.find(".jqx-text-area").length?s.find(".jqx-text-area").removeClass(e.toThemeProperty("jqx-validator-error-element")):s.is(".jqx-checkbox")&&s.find(".jqx-checkbox-default").removeClass(e.toThemeProperty("jqx-validator-error-element")),(s.is(".jqx-radiobutton")?s.find(".jqx-radiobutton-default"):s).removeClass(e.toThemeProperty("jqx-validator-error-element"))):s.removeClass(e.toThemeProperty("jqx-validator-error-element"))}}var i,s=u(e.input),r=this;e&&((i=e.hint)&&(this.positions&&this.positions[Math.round(i.offset().top)+"_"+Math.round(i.offset().left)]&&(this.positions[Math.round(i.offset().top)+"_"+Math.round(i.offset().left)]=null),"fade"===this.animation?i.fadeOut(this.animationDuration,function(){i.remove(),t()}):(i.remove(),t())),e.hint=null)},_handleValidation:function(e,t,i,s){e?(this._raiseEvent(1),"function"==typeof this.onSuccess&&this.onSuccess()):(this._scrollHandler(t),this.focus&&i.focus(),this._raiseEvent(0,{invalidInputs:s}),"function"==typeof this.onError&&this.onError(s))},_scrollHandler:function(e){var t;this.scroll&&(t=this,u("html,body").animate({scrollTop:e},this.scrollDuration,function(){"function"==typeof t.scrollCallback&&t.scrollCallback.call(t)}))},_higherPriorityActive:function(e){for(var t,i=!1,s=this.rules.length-1;0<=s;--s){if(t=this.rules[s],i&&t.input===e.input&&t.hint)return!0;t===e&&(i=!0)}return!1},_removeLowPriorityHints:function(e){for(var t,i=!1,s=0;s<this.rules.length;s+=1)t=this.rules[s],i&&t.input===e.input&&this._hideHintByRule(t),t===e&&(i=!0)},_getHintRuleByInput:function(e){for(var t,i=0;i<this.rules.length;i+=1)if(t=this.rules[i],u(t.input)[0]===e[0]&&t.hint)return t;return null},_removeEventListeners:function(){for(var e=0;e<this.rules.length;e+=1)for(var t,i=(t=this.rules[e]).action.split(","),s=u(t.input),r=0;r<i.length;r+=1)this.removeHandler(s,u.trim(i[r])+".jqx-validator")},_addEventListeners:function(){var e,t,i,s,r;0<this.host.parents(".jqx-window").length&&(s=function(){i.updatePosition()},r=(i=this).host.parents(".jqx-window"),this.addHandler(r,"closed",function(){i.hide()}),this.addHandler(r,"moved",s),this.addHandler(r,"moving",s),this.addHandler(r,"resized",s),this.addHandler(r,"resizing",s),this.addHandler(u(document.parentWindow),"scroll",function(){i.scroll&&s()}));for(var n=0;n<this.rules.length;n+=1)e=this.rules[n],t=u(e.input),this._addListenerTo(t,e)},_addListenerTo:function(e,t){var i=this,s=t.action.split(","),r=!1;this._isjQWidget(e)&&(r=!0);for(var n=0;n<s.length;n+=1){var o=u.trim(s[n]);!r||"blur"!=o&&"focus"!=o||e&&"input"!=e[0].nodeName.toLowerCase()&&(e=e.find("input")),this.addHandler(e,o+".jqx-validator",function(e){i._validateRule(t)})}},_configureInputs:function(){this.rules=this.rules||[];for(var e=0;e<this.rules.length;e+=1)this._handleInput(e)},_handleInput:function(e){e=this.rules[e];e.position||(e.position=this.position),e.message||(e.message="Validation Failed!"),e.action||(e.action="blur"),e.hintRender||(e.hintRender=this._hintRender),e.rule?this._handleRule(e):e.rule=null},_handleRule:function(e){var i,s,t=e.rule,r=!1;if("string"==typeof t?(0<=t.indexOf("=")&&(t=t.split("="),s=t[1].split(","),t=t[0]),(i=this["_"+t])?e.rule=function(e,t){return i.apply(this,[e].concat(s))}:r=!0):"function"!=typeof t?r=!0:e.rule=t,r)throw new Error("Wrong parameter!")},_required:function(e){switch(this._getType(e)){case"jqx-input-inner":if(0<e.find("input").length)return""!==u.trim(e.find("input").val());break;case"textarea":case"password":case"jqx-input":case"jqx-text-area":case"text":var t,i=u.data(e[0]);return i.jqxMaskedInput?(t=e.jqxMaskedInput("promptChar"),(s=e.jqxMaskedInput("value"))&&s.indexOf(t)<0):i.jqxNumberInput?""!==e.jqxNumberInput("inputValue"):i.jqxDateTimeInput?null!==e.jqxDateTimeInput("getDate"):""!==u.trim(e.val());case"checkbox":case"radio":return e.is(":checked");case"jqx-check-box":case"jqx-radio-button":return e[0].val();case"jqxCheckBox":case"jqxcheckbox":case"jqxradiobutton":case"jqxRadioButton":var s;return!0===(s=e.find("input").val())||1===s||"true"===s?!0:!1;case"div":return e.is(".jqx-checkbox")?e.jqxCheckBox("checked"):!!e.is(".jqx-radiobutton")&&e.jqxRadioButton("checked")}return!1},_notNumber:function(e){return this._validateText(e,function(e){if(""==e)return!0;return!/\d/.test(e)})},_startWithLetter:function(e){return this._validateText(e,function(e){if(""==e)return!0;return!/\d/.test(e.substring(0,1))})},_number:function(e){return this._validateText(e,function(e){if(""==e)return!0;e=new Number(e);return!isNaN(e)&&isFinite(e)})},_phone:function(e){return this._validateText(e,function(e){if(""==e)return!0;return/^\(\d{3}\)(\d){3}-(\d){4}$/.test(e)})},_length:function(e,t,i){return this._minLength(e,t)&&this._maxLength(e,i)},_maxLength:function(e,t){return t=parseInt(t,10),this._validateText(e,function(e){return e.length<=t})},_minLength:function(e,t){return t=parseInt(t,10),this._validateText(e,function(e){return e.length>=t})},_email:function(e){return this._validateText(e,function(e){if(""==e)return!0;return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)})},_zipCode:function(e){return this._validateText(e,function(e){if(""==e)return!0;return/^(^\d{5}$)|(^\d{5}-\d{4}$)|(\d{3}-\d{2}-\d{4})$/.test(e)})},_ssn:function(e){return this._validateText(e,function(e){if(""==e)return!0;return/\d{3}-\d{2}-\d{4}/.test(e)})},_validateText:function(e,t){return!!this._isTextInput(e)&&t((this._isjQWidget(e)&&0<e.find("input").length?e.find("input"):e).val())},_isjQWidget:function(e){var t=u.data(e[0]);return!!(t.jqxMaskedInput||t.jqxNumberInput||t.jqxDateTimeInput)||(0<=e[0].tagName.toLowerCase().indexOf("jqx")||(0<=e[0].tagName.toLowerCase().indexOf("jqx-input")||(0<=e[0].tagName.toLowerCase().indexOf("jqx-password-input")||(0<=e[0].tagName.toLowerCase().indexOf("jqx-complex-input")||(0<=e[0].tagName.toLowerCase().indexOf("jqx-formatted-input")||(0<=e[0].tagName.toLowerCase().indexOf("jqx-masked-input")||(0<=e[0].tagName.toLowerCase().indexOf("jqx-date-time-input")||(0<=e[0].tagName.toLowerCase().indexOf("jqx-number-input")||(0<=e[0].tagName.toLowerCase().indexOf("jqx-check-box")||(0<=e[0].tagName.toLowerCase().indexOf("jqx-radio-button")||(0<=e[0].tagName.toLowerCase().indexOf("jqxcheckbox")||0<=e[0].tagName.toLowerCase().indexOf("angular"))))))))))))},_isTextInput:function(e){var t=this._getType(e);return"text"===t||"textarea"===t||"password"===t||"jqx-input-inner"===t||e.is(".jqx-input")||e.is(".jqx-text-area")},_getType:function(e){var t;if(e[0])return t=e[0].tagName.toLowerCase(),"textarea"===t?"textarea":e.is(".jqx-input")?"jqx-input":e.is(".jqx-text-area")?"jqx-text-area":0<e.find(".jqx-input").length?"jqx-input-inner":"input"===t?u(e).attr("type")?u(e).attr("type").toLowerCase():"text":"jqx-password-input"===t?"password":"jqx-check-box"===t?"jqx-check-box":"jqx-radio-button"===t?"jqx-radio-button":t},_hintRender:function(e,t){var i,s;if("label"==this.hintType)return(r=u('<label class="'+this.toThemeProperty("jqx-validator-error-label")+'"></label>')).html(e),i=!1,0<t.parent().find(".jqx-input-label").length&&!t.hasClass("jqx-dropdownlist")&&!t.hasClass("jqx-combobox")&&!t.hasClass("jqx-datetimeinput")&&(r=t.parent().find(".jqx-input-label"),t.data().jqxWidget.hint&&(r.html(e),r.addClass(this.toThemeProperty("jqx-validator-error-label")),t.data().jqxWidget.host.attr("hint",!0)),this.hasHint=i=!0),(s=this).closeOnClick&&r.click(function(){s.hideHint(t.selector)}),i||("left"==this.position||"top"==this.position?r.insertBefore(u(t)):r.insertAfter(u(t))),r;var r=u('<div class="'+this.toThemeProperty("jqx-validator-hint")+' jqx-rc-all"></div>'),n=this;return r.html(e),this.closeOnClick&&r.click(function(){n.hideHint(t.selector)}),null==this.ownerElement?r.appendTo(document.body):this.ownerElement.innerHTML?r.appendTo(u(this.ownerElement)):r.appendTo(this.ownerElement),r},_hintLayout:function(e,t,i,s){if(this._hintRender===s.hintRender){var r,n,o,s=this._getPosition(t,i,e,s);if("label"==this.hintType)return r="2px","left"!=this.position&&"top"!=this.position||(r="-2px"),"input"!=t[0].nodeName.toLowerCase()&&"textarea"!=t[0].nodeName.toLowerCase()?(0<t.find(".jqx-text-area").length&&t.find(".jqx-text-area").addClass(this.toThemeProperty("jqx-validator-error-element")),0<t.find("input").length&&(0<t.find(".jqx-input").length?t.find(".jqx-input").addClass(this.toThemeProperty("jqx-validator-error-element")):0<t.find(".jqx-text-area").length?t.find(".jqx-text-area").addClass(this.toThemeProperty("jqx-validator-error-element")):t.is(".jqx-checkbox")&&t.find(".jqx-checkbox-default").addClass(this.toThemeProperty("jqx-validator-error-element")),(t.is(".jqx-radiobutton")?t.find(".jqx-radiobutton-default"):t).addClass(this.toThemeProperty("jqx-validator-error-element")))):t.addClass(this.toThemeProperty("jqx-validator-error-element")),(n=u("<span></span>")).addClass(this.toThemeProperty("jqx-validator-hint")),n.html(e.text()),n.appendTo(u(document.body)),o=n.outerWidth(),n.remove(),void(this.hasHint||(e.css({position:"relative",left:u(t).css("margin-left"),width:u(t).width(),top:r}),"center"==i&&(e.css("width",o),e.css("left","0px"),e.css("margin-left","auto"),e.css("margin-right","auto"))));e.css({position:"absolute",left:s.left,top:s.top}),this.arrow&&this._addArrow(t,e,i,s)}},_showHint:function(e){e&&"fade"===this.animation&&(e.fadeOut(0),e.fadeIn(this.animationDuration))},_getPosition:function(e,t,i,s){var r=e.offset(),n=e.outerWidth(),o=e.outerHeight();return this.rtl&&0<=t.indexOf("left")&&(t="right"),this.rtl&&0<=t.indexOf("right")&&(t="left"),null!=this.ownerElement&&((r={left:0,top:0}).top=parseInt(r.top)+e.position().top,r.left=parseInt(r.left)+e.position().left),s&&s.hintPositionRelativeElement&&(r=(s=u(s.hintPositionRelativeElement)).offset(),n=s.width(),o=s.height()),s=0<=t.indexOf("top")?r.top-o:0<=t.indexOf("bottom")?r.top+i.outerHeight()+this.hintPositionOffset+5:r.top,o=0<=t.indexOf("center")?r.left+this.hintPositionOffset+(n-i.outerWidth())/2:0<=t.indexOf("left")?r.left-i.outerWidth()-this.hintPositionOffset:0<=t.indexOf("right")?r.left+n+this.hintPositionOffset:r.left+this.hintPositionOffset,0<=t.indexOf(":")&&(t=t.split(":")[1].split(","),o+=parseInt(t[0],10),s+=parseInt(t[1],10)),this.positions||(this.positions=new Array),this.positions[Math.round(s)+"_"+Math.round(o)]&&this.positions[Math.round(s)+"_"+Math.round(o)].top==s&&(s+=e.outerHeight()),this.positions[Math.round(s)+"_"+Math.round(o)]={left:o,top:s},{left:o,top:s}},_addArrow:function(e,t,i,s){var r,n=u('<div class="'+this.toThemeProperty("jqx-validator-hint-arrow")+'"></div>'),o=(this.rtl&&0<=i.indexOf("left")&&(i="right"),this.rtl&&0<=i.indexOf("right")&&(i="left"),t.children(".jqx-validator-hint-arrow").remove(),t.append(n),n.outerHeight()),a=n.outerWidth(),l=t.outerHeight(),t=t.outerWidth();this._addImage(n),l=0<=i.indexOf("top")?l-o:0<=i.indexOf("bottom")?-o:(l-o)/2-o/2,0<=i.indexOf("center")?r=(t-a)/2:0<=i.indexOf("left")?r=t-a/2-1:0<=i.indexOf("right")&&(r=-a/2),(0<=i.indexOf("topright")||0<=i.indexOf("bottomright"))&&(r=0),(0<=i.indexOf("topleft")||0<=i.indexOf("bottomleft"))&&(r=t-a),n.css({position:"absolute",left:r,top:l})},_addImage:function(e){var t=e.css("background-image");t=(t=(t=(t=t.replace('url("',"")).replace('")',"")).replace("url(","")).replace(")",""),e.css("background-image","none"),e.append('<img src="'+t+'" alt="Arrow" style="position: relative; top: 0px; left: 0px; width: '+e.width()+"px; height: "+e.height()+'px;" />')},_raiseEvent:function(e,t){e=u.Event(this._events[e]);return e.args=t,this.host.trigger(e)},propertyChangedHandler:function(e,t,i,s){"rules"===t&&(this._configureInputs(),this._removeEventListeners(),this._addEventListeners())}})}(jqxBaseFramework),!function(h){function r(e){e=h(e);return"none"!==e.css("display")&&"hidden"!==e.css("visibility")}h.jqx.jqxWidget("jqxWindow","",{}),h.extend(h.jqx._jqxWindow.prototype,{defineInstance:function(){var e={height:"auto",width:200,minHeight:50,maxHeight:1200,minWidth:50,maxWidth:1200,showCloseButton:!0,disabled:!1,autoOpen:!0,keyboardCloseKey:"esc",title:"",content:"",draggable:!0,resizable:!0,animationType:"fade",closeAnimationDuration:250,showAnimationDuration:250,isModal:!1,position:"center",closeButtonSize:16,closeButtonAction:"hide",modalOpacity:.3,dragArea:null,okButton:null,cancelButton:null,dialogResult:{OK:!1,Cancel:!1,None:!0},collapsed:!1,showCollapseButton:!1,collapseAnimationDuration:150,collapseButtonSize:16,rtl:!1,keyboardNavigation:!0,headerHeight:null,_events:["created","closed","moving","moved","open","collapse","expand","open","close","resize"],initContent:null,enableResize:!0,restricter:null,autoFocus:!0,closing:null,_invalidArgumentExceptions:{invalidHeight:"Invalid height!",invalidWidth:"Invalid width!",invalidMinHeight:"Invalid minHeight!",invalidMaxHeight:"Invalid maxHeight!",invalidMinWidth:"Invalid minWidth!",invalidMaxWidth:"Invalid maxWidth",invalidKeyCode:"Invalid keyCode!",invalidAnimationType:"Invalid animationType!",invalidCloseAnimationDuration:"Invalid closeAnimationDuration!",invalidShowAnimationDuration:"Invalid showAnimationDuration!",invalidPosition:"Invalid position!",invalidCloseButtonSize:"Invalid closeButtonSize!",invalidCollapseButtonSize:"Invalid collapseButtonSize!",invalidCloseButtonAction:"Invalid cluseButtonAction!",invalidModalOpacity:"Invalid modalOpacity!",invalidDragArea:"Invalid dragArea!",invalidDialogResult:"Invalid dialogResult!",invalidIsModal:"You can have just one modal window!"},_enableResizeCollapseBackup:null,_enableResizeBackup:void 0,_heightBeforeCollapse:null,_minHeightBeforeCollapse:null,_mouseDown:!1,_isDragging:!1,_rightContentWrapper:null,_leftContentWrapper:null,_headerContentWrapper:null,_closeButton:null,_collapseButton:null,_title:null,_content:null,_mousePosition:{},_windowPosition:{},_modalBackground:null,_SCROLL_WIDTH:21,_visible:!0,modalBackgroundZIndex:1299,modalZIndex:1800,zIndex:1e3,_touchEvents:{mousedown:h.jqx.mobile.getTouchEventName("touchstart"),mouseup:h.jqx.mobile.getTouchEventName("touchend"),mousemove:h.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:h.jqx.mobile.getTouchEventName("touchstart")}};return this===h.jqx._jqxWindow.prototype||h.extend(!0,this,e),e},createInstance:function(){this.host.initAnimate&&this.host.initAnimate(),this.host.attr("role","dialog"),this.host.removeAttr("data-bind"),this.host.appendTo(document.body);for(var n=this,e=["minWidth","minHeight","maxWidth","maxHeight","width","height"],t=0;t<e.length;t++){var i=e[t];n[i]&&0<=n[i].toString().indexOf("px")&&(n[i]=parseInt(n[i],10))}function s(){var e=parseInt(h(n.restricter).css("padding-top"),10),t=parseInt(h(n.restricter).css("padding-left"),10),i=parseInt(h(n.restricter).css("padding-bottom"),10),s=parseInt(h(n.restricter).css("padding-right"),10),r=h(n.restricter).coord();n.dragArea={left:t+r.left,top:e+r.top,width:1+s+h(n.restricter).width(),height:1+i+h(n.restricter).height()}}this.restricter&&s(),this.restricter&&(this.addHandler(h(window),"resize."+this.element.id,function(){s()}),this.addHandler(h(window),"orientationchanged."+this.element.id,function(){s()}),this.addHandler(h(window),"orientationchange."+this.element.id,function(){s()})),this._isTouchDevice=h.jqx.mobile.isTouchDevice(),this._validateProperties(),this._createStructure(),this._refresh(),this.autoOpen||(this.element.style.display="none"),h.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.isModal||this._fixWindowZIndex(),this._setStartupSettings(),this._positionWindow(),this._raiseEvent(0),this.autoOpen&&(this._performLayout(),this.isModal&&this._fixWindowZIndex("modal-show"),this.initContent&&(this.initContent(),this._contentInitialized=!0),this._raiseEvent(7),this._raiseEvent(9))},refresh:function(){this._performLayout()},_setStartupSettings:function(){this.disabled&&this.disable(),this.collapsed&&(this.collapsed=!1,this.collapse(0)),this.autoOpen||(this.hide(null,.001,!0),this._visible=!1),null!==this.title&&""!==this.title&&this.setTitle(this.title),null!==this.content&&""!==this.content&&this.setContent(this.content),this.title=this._headerContentWrapper.html(),this.content=this._content.html()},_fixWindowZIndex:function(e){var t,i,s=h.data(document.body,"jqxwindows-list")||[],r=this.zIndex;if(this.isModal)return s&&(s=this._removeFromArray(this.host,s),h.data(document.body,"jqxwindows-list",s)),(t=h.data(document.body,"jqxwindows-modallist"))?"modal-show"==e?t.push(this.host):-1!=(i=t.indexOf(this.host))&&t.splice(i,1):t="modal-show"==e?((i=[]).push(this.host),h.data(document.body,"jqxwindows-modallist",i),i):(h.data(document.body,"jqxwindows-modallist",[]),[]),r=this.modalZIndex,h.each(t,function(){var e;this.data()&&this.data().jqxWindow&&((e=this.data().jqxWindow.instance)._modalBackground.style.zIndex=r,e.element.style.zIndex=r+1,r+=2)}),void h.data(document.body,"jqxwindow-modal",this.host);this._indexOf(this.host,s)<0&&s.push(this.host),h.data(document.body,"jqxwindows-list",s),1<s.length&&("auto"==(e=s[s.length-2]).css("z-index")?r=this.zIndex+s.length+1:(i=this.zIndex,(r=parseInt(e.css("z-index"),10)+1)<i&&(r=i))),this.element.style.zIndex=r,this._sortByStyle("z-index",s)},_validateProperties:function(){try{if(this._validateSize(),this._validateAnimationProperties(),this._validateInteractionProperties(),this._validateModalProperties(),!this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if(isNaN(this.closeButtonSize)||parseInt(this.closeButtonSize,10)<0)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonSize);if(isNaN(this.collapseButtonSize)||parseInt(this.collapseButtonSize,10)<0)throw new Error(this._invalidArgumentExceptions.invalidCollapseButtonSize)}catch(e){throw new Error(e)}},_validateModalProperties:function(){if(this.modalOpacity<0||1<this.modalOpacity)throw new Error(this._invalidArgumentExceptions.invalidModalOpacity);if(this.isModal&&!this._singleModalCheck())throw new Error(this._invalidArgumentExceptions.invalidIsModal)},_validateSize:function(){if(this._validateSizeLimits(),"auto"!==this.height&&isNaN(parseInt(this.height,10)))throw new Error(this._invalidArgumentExceptions.invalidHeight);if("auto"!==this.width&&isNaN(parseInt(this.width,10)))throw new Error(this._invalidArgumentExceptions.invalidWidth);"auto"!==this.height&&this.height<this.minHeight&&(this.height=this.minHeight),this.width<this.minWidth&&(this.width=this.minWidth),"auto"!==this.height&&this.height>this.maxHeight&&(this.height=this.maxHeight),this.width>this.maxWidth&&(this.width=this.maxWidth),null===this.dragArea||this.dragArea&&(null!==this.dragArea.height&&this.host.height()>this.dragArea.height||parseInt(this.height,10)>this.dragArea.height)||null!==this.dragArea.width&&this.width>this.dragArea.width||this.maxHeight>this.dragArea.height||(this.maxWidth,this.dragArea.width)},_validateSizeLimits:function(){if(null==this.maxHeight&&(this.maxHeight=9999),null==this.minWidth&&(this.minWidth=0),null==this.maxWidth&&(this.maxWidth=9999),null==this.minHeight&&(this.minHeight=0),isNaN(parseInt(this.minHeight,10)))throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(isNaN(parseInt(this.maxHeight,10)))throw new Error(this._invalidArgumentExceptions.invalidMaxHeight);if(isNaN(parseInt(this.minWidth,10)))throw new Error(this._invalidArgumentExceptions.invalidMinWidth);if(isNaN(parseInt(this.maxWidth,10)))throw new Error(this._invalidArgumentExceptions.invalidMaxWidth);if(this.minHeight&&this.maxHeight&&parseInt(this.minHeight,10)>parseInt(this.maxHeight,10)&&this.maxHeight!=Number.MAX_VALUE)throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(this.minWidth&&this.maxWidth&&parseInt(this.minWidth,10)>parseInt(this.maxWidth,10)&&this.maxWidth!=Number.MAX_VALUE)throw new Error(this._invalidArgumentExceptions.invalidMinWidth)},_validateAnimationProperties:function(){if("fade"!==this.animationType&&"slide"!==this.animationType&&"combined"!==this.animationType&&"none"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(isNaN(parseInt(this.closeAnimationDuration,10))||this.closeAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidCloseAnimationDuration);if(isNaN(parseInt(this.showAnimationDuration,10))||this.showAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidShowAnimationDuration)},_validateInteractionProperties:function(){if(parseInt(this.keyCode,10)<0||130<parseInt(this.keyCode,10)&&"esc"!==this.keyCode)throw new Error(this._invalidArgumentExceptions.invalidKeyCode);if(null!==this.dragArea&&(void 0===this.dragArea.width||void 0===this.dragArea.height||void 0===this.dragArea.left||void 0===this.dragArea.top))throw new Error(this._invalidArgumentExceptions.invalidDragArea);if(!this.dialogResult||!this.dialogResult.OK&&!this.dialogResult.Cancel&&!this.dialogResult.None)throw new Error(this._invalidArgumentExceptions.invalidDialogResult);if("hide"!==this.closeButtonAction&&"close"!==this.closeButtonAction)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonAction)},_singleModalCheck:function(){for(var e=h.data(document.body,"jqxwindows-list")||[],t=e.length;t;)if(0<h(e[--t].attr("id")).length&&h(e[t].attr("id")).jqxWindow("isModal"))return!1;return!0},_createStructure:function(){var e=this.host.children();if(1===e.length)this._content=e[0],this._header=document.createElement("div"),this._header.innerHTML=this.host.attr("caption"),this.element.insertBefore(this._header,this._content),this.host.attr("caption",""),this._header=h(this._header),this._content=h(this._content);else{if(2!==e.length)throw new Error("Invalid structure!");this._header=h(e[0]),this._content=h(e[1])}},_refresh:function(){this._render(),this._addStyles(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initializeResize()},_render:function(){this._addHeaderWrapper(),this._addCloseButton(),this._addCollapseButton(),this._removeModal(),this._makeModal()},_addHeaderWrapper:function(){this._headerContentWrapper||(this._header[0].innerHTML='<div style="float:left;">'+this._header[0].innerHTML+"</div>",this._headerContentWrapper=h(this._header.children()[0]),null!==this.headerHeight&&this._header.height(this.headerHeight))},_addCloseButton:function(){this._closeButton||(this._closeButtonWrapper=document.createElement("div"),this._closeButtonWrapper.className=this.toThemeProperty("jqx-window-close-button-background"),this._closeButton=document.createElement("div"),this._closeButton.className=this.toThemeProperty("jqx-window-close-button jqx-icon-close"),this._closeButton.style.width="100%",this._closeButton.style.height="100%",this._closeButtonWrapper.appendChild(this._closeButton),this._header[0].appendChild(this._closeButtonWrapper),this._closeButtonWrapper=h(this._closeButtonWrapper),this._closeButton=h(this._closeButton))},_addCollapseButton:function(){this._collapseButton||(this._collapseButtonWrapper=document.createElement("div"),this._collapseButtonWrapper.className=this.toThemeProperty("jqx-window-collapse-button-background"),this._collapseButton=document.createElement("div"),this._collapseButton.className=this.toThemeProperty("jqx-window-collapse-button jqx-icon-arrow-up"),this._collapseButton.style.width="100%",this._collapseButton.style.height="100%",this._collapseButtonWrapper.appendChild(this._collapseButton),this._header[0].appendChild(this._collapseButtonWrapper),this._collapseButtonWrapper=h(this._collapseButtonWrapper),this._collapseButton=h(this._collapseButton))},_removeModal:function(){this.isModal||"object"!=typeof this._modalBackground||null===this._modalBackground||(h("."+this.toThemeProperty("jqx-window-modal")).remove(),this._modalBackground=null)},focus:function(){try{this.host.focus();var e=this;setTimeout(function(){e.host.focus()},10)}catch(e){}},_makeModal:function(){var e,r;this.isModal&&!this._modalBackground&&((e=h.data(document.body,"jqxwindows-list"))&&(this._removeFromArray(this.host,e),h.data(document.body,"jqxwindows-list",e)),this._modalBackground=document.createElement("div"),this._modalBackground.className=this.toThemeProperty("jqx-window-modal"),this._setModalBackgroundStyles(),document.body.appendChild(this._modalBackground),this.addHandler(this._modalBackground,this._getEvent("click"),function(){return!1}),(r=this).addHandler(this._modalBackground,"mouseup",function(e){r._stopResizing(r),e.preventDefault()}),this.addHandler(this._modalBackground,"mousedown",function(e){var t=r._getTabbables();return 0<t.length&&(t[0].focus(),setTimeout(function(){t[0].focus()},100)),e.preventDefault(),!1}),this.addHandler(h(document),"keydown.window"+this.element.id,function(e){if(9===e.keyCode){var t=h.data(document.body,"jqxwindows-modallist");if(!(1<t.length&&t[t.length-1][0]!=r.element)){var t=r._getTabbables(),i=null,s=null;if(0!==r.element.offsetWidth&&0!==r.element.offsetHeight)if(0<t.length&&(i=t[0],s=t[t.length-1]),e.target!=r.element)if(null!=i)return(t=e.target,r.element.contains(t))?e.target!==s||e.shiftKey?e.target===i&&e.shiftKey?(s.focus(),!1):void 0:(i.focus(),!1):(i.focus(),!1)}}}))},_addStyles:function(){this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-window")),this.host.addClass(this.toThemeProperty("jqx-popup")),h.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-window-header")),this._content.addClass(this.toThemeProperty("jqx-window-content")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._content.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-disableselect")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),this._content.addClass(this.toThemeProperty("jqx-rc-b")),this.host.attr("tabindex")||(this.element.tabIndex=0,this._header[0].tabIndex=0,this._content[0].tabIndex=0),this.element.setAttribute("hideFocus","true"),this.element.style.outline="none"},_performHeaderLayout:function(){this._handleHeaderButtons(),this._header[0].style.position="relative",this.rtl?(this._headerContentWrapper[0].style.direction="rtl",this._headerContentWrapper[0].style.float="right"):(this._headerContentWrapper[0].style.direction="ltr",this._headerContentWrapper[0].style.float="left"),this._performHeaderCloseButtonLayout(),this._performHeaderCollapseButtonLayout(),this._centerElement(this._headerContentWrapper,this._header,"y","margin"),this.headerHeight&&(this._centerElement(this._closeButtonWrapper,this._header,"y","margin"),this._centerElement(this._collapseButtonWrapper,this._header,"y","margin"))},_handleHeaderButtons:function(){var e;this._closeButtonWrapper&&(this.showCloseButton?(this._closeButtonWrapper[0].style.visibility="visible",e=this._toPx(this.closeButtonSize),this._closeButtonWrapper[0].style.width=e,this._closeButtonWrapper[0].style.height=e):this._closeButtonWrapper[0].style.visibility="hidden",this.showCollapseButton?(this._collapseButtonWrapper[0].style.visibility="visible",e=this._toPx(this.collapseButtonSize),this._collapseButtonWrapper[0].style.width=e,this._collapseButtonWrapper[0].style.height=e):this._collapseButtonWrapper[0].style.visibility="hidden")},_performHeaderCloseButtonLayout:function(){var e;this._closeButtonWrapper&&(e=parseInt(this._header.css("padding-right"),10),isNaN(e)||(this._closeButtonWrapper.width(this._closeButton.width()),this.rtl?(this._closeButtonWrapper[0].style.marginRight="0px",this._closeButtonWrapper[0].style.marginLeft=this._toPx(e)):(this._closeButtonWrapper[0].style.marginRight=this._toPx(e),this._closeButtonWrapper[0].style.marginLeft="0px")),this._closeButtonWrapper[0].style.position="absolute",this.rtl?(this._closeButtonWrapper[0].style.right="",this._closeButtonWrapper[0].style.left="0px"):(this._closeButtonWrapper[0].style.right="0px",this._closeButtonWrapper[0].style.left=""))},_performHeaderCollapseButtonLayout:function(){var e,t;this._closeButtonWrapper&&(e=parseInt(this._header.css("padding-right"),10),isNaN(e)||(t=this._toPx(this.collapseButtonSize),this._collapseButtonWrapper[0].style.width=t,this._collapseButtonWrapper[0].style.height=t,this.rtl?(this._collapseButtonWrapper[0].style.marginRight="0px",this._collapseButtonWrapper[0].style.marginLeft=this._toPx(e)):(this._collapseButtonWrapper[0].style.marginRight=this._toPx(e),this._collapseButtonWrapper[0].style.marginLeft="0px")),this._collapseButtonWrapper[0].style.position="absolute",t=this._toPx(this.showCloseButton?this._closeButton.outerWidth(!0):0),this.rtl?(this._collapseButtonWrapper[0].style.right="",this._collapseButtonWrapper[0].style.left=t):(this._collapseButtonWrapper[0].style.right=t,this._collapseButtonWrapper[0].style.left=""),this._centerElement(this._collapseButton,h(this._collapseButton[0].parentElement),"y"))},_performWidgetLayout:function(){var e;"auto"!==this.width&&(this.width&&0<=this.width.toString().indexOf("%")?this.element.style.width=this.width:this.element.style.width=this._toPx(this.width)),this.collapsed||("auto"!==this.height?this.height&&0<=this.height.toString().indexOf("%")?this.element.style.height=this.height:this.element.style.height=this._toPx(this.height):this.element.style.height=this.host.height()+"px",this.element.style.minHeight=this._toPx(this.minHeight)),this._setChildrenLayout(),e=this._validateMinSize(),this.element.style.maxHeight=this._toPx(this.maxHeight),this.element.style.minWidth=this._toPx(this.minWidth),this.element.style.maxWidth=this._toPx(this.maxWidth),e||this._setChildrenLayout()},_setChildrenLayout:function(){this._header.width(this.host.width()-(this._header.outerWidth(!0)-this._header.width())),this._content.width(this.host.width()-(this._content.outerWidth(!0)-this._content.width())),this._content.height(this.host.height()-this._header.outerHeight(!0)-(this._content.outerHeight(!0)-this._content.height()))},_validateMinSize:function(){var e=!0,t=(this.minHeight<this._header.height()&&(this.minHeight=this._header.height(),e=!1),h(this._header.children()[0]).outerWidth()),i=this._header.children()[1]?h(this._header.children()[1]).outerWidth():0;return this.minWidth<100&&(this.minWidth=Math.min(t+i,100),e=!1),e},_centerElement:function(e,t,i,s){"number"==typeof t.left&&"number"==typeof t.top&&"number"==typeof t.height&&"number"==typeof t.width?this._centerElementInArea(e,t,i):this._centerElementInParent(e,t,i,s)},_centerElementInParent:function(e,t,i,s){var r,n,o,a="none"===e.css("display"),s=s?(n=s+"Top",s+"Left"):(n="top","left");0<=(i=i.toLowerCase()).indexOf("y")&&(a&&(e[0].style.display="block"),r=e.outerHeight(!0),a&&(e[0].style.display="none"),o=t.height(),o=Math.max(0,o-r)/2,e[0].style[n]=o+"px"),0<=i.indexOf("x")&&(a&&(e[0].style.display="block"),r=e.outerWidth(!0),a&&(e[0].style.display="none"),n=t.width(),o=Math.max(0,n-r)/2,e[0].style[s]=o+"px")},_centerElementInArea:function(e,t,i){var s,r;0<=(i=i.toLowerCase()).indexOf("y")&&(r=e.outerHeight(!0),s=t.height,e[0].style.top=(s-r)/2+t.top+"px"),0<=i.indexOf("x")&&(s=e.outerWidth(!0),r=t.width,e[0].style.left=(r-s)/2+t.left+"px")},_removeEventHandlers:function(){this.removeHandler(this._header,this._getEvent("mousedown")),this.removeHandler(this._header,this._getEvent("mousemove")),this.removeHandler(this._header,"focus"),this.removeHandler(h(document),this._getEvent("mousemove")+"."+this.host.attr("id")),this.removeHandler(h(document),this._getEvent("mouseup")+"."+this.host.attr("id")),this.removeHandler(this.host,"keydown"),this.removeHandler(this._closeButton,this._getEvent("click")),this.removeHandler(this._closeButton,this._getEvent("mouseenter")),this.removeHandler(this._closeButton,this._getEvent("mouseleave")),this.removeHandler(this._collapseButton,this._getEvent("click")),this.removeHandler(this._collapseButton,this._getEvent("mouseenter")),this.removeHandler(this._collapseButton,this._getEvent("mouseleave")),this.removeHandler(this.host,this._getEvent("mousedown")),this.okButton&&this.removeHandler(h(this.okButton),this._getEvent("click"),this._setDialogResultHandler),this.cancelButton&&this.removeHandler(h(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(this._header,this._getEvent("mouseenter")),this.removeHandler(this._header,this._getEvent("mouseleave")),this.removeHandler(this.host,"resizing",this._windowResizeHandler)},_removeFromArray:function(e,t){return 0<=this._indexOf(e,t)?t.splice(this._indexOf(e,t),1):t},_sortByStyle:function(e,t){for(var i=0;i<t.length;i++)for(var s=t.length-1;i<s;s--){var r=t[s],n=t[s-1];parseInt(r.css(e),10)<parseInt(n.css(e),10)&&(r=r,t[s]=n,t[s-1]=r)}},_initializeResize:function(){this.resizable&&this.initResize({target:this.host,alsoResize:this._content,maxWidth:this.maxWidth,minWidth:this.minWidth,maxHeight:this.maxHeight,minHeight:this.minHeight,indicatorSize:10,resizeParent:this.dragArea})},_removeResize:function(){this.removeResize()},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},_addEventHandlers:function(){this._addDragDropHandlers(),this._addCloseHandlers(),this._addCollapseHandlers(),this._addFocusHandlers(),this._documentResizeHandlers(),this._closeButtonHover(),this._collapseButtonHover(),this._addDialogButtonsHandlers(),this._addHeaderHoverEffect(),this._addResizeHandlers();var e=this;this.addHandler(this._header,this._getEvent("mousemove"),function(){e._addHeaderCursorHandlers(e)})},_addResizeHandlers:function(){var e=this;e.addHandler(e.host,"resizing",e._windowResizeHandler,{self:e}),this.addHandler(h(window),"orientationchanged."+this.element.id,function(){e._performLayout()}),this.addHandler(h(window),"orientationchange."+this.element.id,function(){e._performLayout()})},_windowResizeHandler:function(e){var t,i=e.data.self;i._header.width(i.host.width()-(i._header.outerWidth(!0)-i._header.width())),i.width&&0<=i.width.toString().indexOf("%")?(t=1/(h(document.body).width()/100),i.width=t*e.args.width+"%"):i.width=e.args.width,i.height&&0<=i.height.toString().indexOf("%")?(t=1/(h(document.body).height()/100),i.height=t*e.args.height+"%"):i.height=e.args.height},_addHeaderHoverEffect:function(){var e=this;this.addHandler(this._header,this._getEvent("mouseenter"),function(){h(this).addClass(e.toThemeProperty("jqx-window-header-hover"))}),this.addHandler(this._header,this._getEvent("mouseleave"),function(){h(this).removeClass(e.toThemeProperty("jqx-window-header-hover"))})},_addDialogButtonsHandlers:function(){this.okButton&&this.addHandler(h(this.okButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"ok"}),this.cancelButton&&this.addHandler(h(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"cancel"})},_documentResizeHandlers:function(){var t=this;this.isModal&&this.addHandler(h(window),"resize.window"+this.element.id,function(){var e;"object"==typeof t._modalBackground&&null!==t._modalBackground&&(t.isOpen()&&(t._modalBackground.style.display="none"),t.restricter?(t._modalBackground.style.left=t._toPx(t.dragArea.left),t._modalBackground.style.top=t._toPx(t.dragArea.top),t._modalBackground.style.width=t._toPx(t.dragArea.width),t._modalBackground.style.height=t._toPx(t.dragArea.height)):(e=t._getDocumentSize(),t._modalBackground.style.width=e.width+"px",t._modalBackground.style.height=e.height+"px"),t.isOpen()&&(t._modalBackground.style.display="block"))})},_setDialogResultHandler:function(e){var t=e.data.self;t._setDialogResult(e.data.result),t.closeWindow()},_setDialogResult:function(e){switch(this.dialogResult.OK=!1,this.dialogResult.None=!1,this.dialogResult.Cancel=!1,e=e.toLowerCase()){case"ok":this.dialogResult.OK=!0;break;case"cancel":this.dialogResult.Cancel=!0;break;default:this.dialogResult.None=!0}},_getDocumentSize:function(){var e=h.jqx.browser.msie&&h.jqx.browser.version<9,t=e?4:0,i=t;return document.body.scrollHeight>document.body.clientHeight&&e&&(t=this._SCROLL_WIDTH),document.body.scrollWidth>document.body.clientWidth&&e&&(i=this._SCROLL_WIDTH),{width:h(document).width()-t,height:h(document).height()-i}},_closeButtonHover:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("mouseenter"),function(){e._closeButton.addClass(e.toThemeProperty("jqx-window-close-button-hover"))}),this.addHandler(this._closeButton,this._getEvent("mouseleave"),function(){e._closeButton.removeClass(e.toThemeProperty("jqx-window-close-button-hover"))})},_collapseButtonHover:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("mouseenter"),function(){e._collapseButton.addClass(e.toThemeProperty("jqx-window-collapse-button-hover"))}),this.addHandler(this._collapseButton,this._getEvent("mouseleave"),function(){e._collapseButton.removeClass(e.toThemeProperty("jqx-window-collapse-button-hover"))})},_setModalBackgroundStyles:function(){var e;this.isModal&&(e=this._getDocumentSize(),h.jqx.browser.msie&&h.jqx.browser.version<9?this._modalBackground.style.filter="alpha(opacity="+100*this.modalOpacity+")":this._modalBackground.style.opacity=this.modalOpacity,this._modalBackground.style.position="absolute",this._modalBackground.style.top="0px",this._modalBackground.style.left="0px",this._modalBackground.style.width=e.width,this._modalBackground.style.height=e.height,this._modalBackground.style.zIndex=this.modalBackgroundZIndex,this.autoOpen||(this._modalBackground.style.display="none"))},_addFocusHandlers:function(){var e=this;this.addHandler(this.host,this._getEvent("mousedown"),function(){e.isModal||e.bringToFront()})},_indexOf:function(e,t){for(var i=0;i<t.length;i++)if(t[i][0]===e[0])return i;return-1},_addCloseHandlers:function(){var i=this;this.addHandler(this._closeButton,this._getEvent("click"),function(e){return i._closeWindow(e)}),"none"!==this.keyboardCloseKey&&"number"!=typeof this.keyboardCloseKey&&"esc"===this.keyboardCloseKey.toLowerCase()&&(this.keyboardCloseKey=27),this.addHandler(this.host,"keydown",function(e){e.keyCode===i.keyboardCloseKey&&null!=i.keyboardCloseKey&&"none"!=i.keyboardCloseKey?i._closeWindow(e):i._handleKeys(e)},{self:this}),this.addHandler(this.host,"keyup",function(){var e,t;i.keyboardNavigation&&i._moved&&(e=(t=i.host.coord()).left,t=t.top,i._raiseEvent(3,e,t,e,t),i._moved=!1)})},_handleKeys:function(e){if(this.keyboardNavigation&&this._headerFocused&&!h(document.activeElement).ischildof(this._content)){var t=e.ctrlKey,i=e.keyCode,s=this.host.coord(),r=s.left,n=s.top,o=this._getDraggingArea(),a=this.host.width(),l=this.host.height(),d=!0;switch(i){case 37:t?this.resizable&&this.resize(a-10,l):this.draggable&&0<=r-10&&this.move(r-10,n),d=!1;break;case 38:t?this.resizable&&this.resize(a,l-10):this.draggable&&0<=n-10&&this.move(r,n-10),d=!1;break;case 39:t?this.resizable&&this.resize(a+10,l):this.draggable&&r+a+10<=o.width&&this.move(r+10,n),d=!1;break;case 40:t?this.resizable&&this.resize(a,l+10):this.draggable&&n+l+10<=o.height&&this.move(r,n+10),d=!1}return d||(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),d}},_addCollapseHandlers:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("click"),function(){e.collapsed?e.expand():e.collapse()})},_closeWindow:function(){return this.closeWindow(),!1},_addHeaderCursorHandlers:function(e){e.resizeArea&&e.resizable&&!e.collapsed?e._header[0].style.cursor=e._resizeWrapper.style.cursor:e.draggable?e._header[0].style.cursor="move":(e._header[0].style.cursor="default",e._resizeWrapper&&(e._resizeWrapper.style.cursor="default"))},_addDragDropHandlers:function(){if(this.draggable){var e,t,s=this;this.addHandler(this.host,"focus",function(){s._headerFocused=!0}),this.addHandler(this.host,"blur",function(){s._headerFocused=!1}),this.addHandler(this._header,"focus",function(){return!(s._headerFocused=!0)}),this.addHandler(this._header,this._getEvent("mousedown"),function(e,t,i){return t&&(e.pageX=t),i&&(e.pageY=i),s._headerMouseDownHandler(s,e),!0}),this.addHandler(this._header,"dragstart",function(e){return e.preventDefault&&e.preventDefault(),!1}),this.addHandler(this._header,this._getEvent("mousemove"),function(e){return s._headerMouseMoveHandler(s,e)}),this.addHandler(h(document),this._getEvent("mousemove")+"."+this.host.attr("id"),function(e){return s._dragHandler(s,e)}),this.addHandler(h(document),this._getEvent("mouseup")+"."+this.host.attr("id"),function(e){return s._dropHandler(s,e)});try{""===document.referrer&&!window.frameElement||(e=(e=null)!=window.top&&window.top!=window.self&&window.parent&&document.referrer?document.referrer:e)&&-1!=e.indexOf(document.location.host)&&(t=function(e){s._dropHandler(s,e)},window.top.document.addEventListener?window.top.document.addEventListener("mouseup",t,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",t))}catch(e){}}},_headerMouseDownHandler:function(e,t){e.isModal||e.bringToFront(),null==e._resizeDirection&&(t=h.jqx.position(t),e._mousePosition.x=t.left,e._mousePosition.y=t.top,e._mouseDown=!0,e._isDragging=!1)},_headerMouseMoveHandler:function(e,t){var i,s,r;return e._mouseDown&&!e._isDragging?(s=(r=h.jqx.mobile.getTouches(t)[0]).pageX,r=r.pageY,s=(i=h.jqx.position(t)).left,r=i.top,(s+3<e._mousePosition.x||s-3>e._mousePosition.x||r+3<e._mousePosition.y||r-3>e._mousePosition.y)&&(e._isDragging=!0,e._mousePosition={x:s,y:r},e._windowPosition={x:e.host.coord().left,y:e.host.coord().top},h(document.body).addClass(e.toThemeProperty("jqx-disableselect"))),!!e._isTouchDevice&&(t.preventDefault(),!0)):!e._isDragging||!!e._isTouchDevice&&(t.preventDefault(),!0)},_dropHandler:function(e,t){var i,s,r,n,o=!0;return!e._isDragging||e.isResizing||e._resizeDirection||(i=parseInt(e.host.css("left"),10),s=parseInt(e.host.css("top"),10),r=e._isTouchDevice?0:t.pageX,n=e._isTouchDevice?0:t.pageY,e.enableResize=e._enableResizeBackup,e._enableResizeBackup="undefined",e._raiseEvent(3,i,s,r,n),o=!1,"undefined"!=t.preventDefault&&t.preventDefault(),null!=t.originalEvent&&(t.originalEvent.mouseHandled=!0),"undefined"!=t.stopPropagation&&t.stopPropagation()),e._isDragging=!1,e._mouseDown=!1,h(document.body).removeClass(e.toThemeProperty("jqx-disableselect")),o},_dragHandler:function(e,t){if(!e._isDragging||e.isResizing||e._resizeDirection)return!0;var i=(e._isTouchDevice?t.originalEvent:t).which;if(void 0===e._enableResizeBackup&&(e._enableResizeBackup=e.enableResize),e.enableResize=!1,0===i&&h.jqx.browser.msie&&h.jqx.browser.version<8)return e._dropHandler(e,t);var i=h.jqx.position(t),s=i.left,i=i.top,s=s-e._mousePosition.x,i=i-e._mousePosition.y,s=e._windowPosition.x+s,i=e._windowPosition.y+i;return e.move(s,i,t),t.preventDefault(),!1},_validateCoordinates:function(e,t,i,s){var r=this._getDraggingArea(),n=(e=e<r.left?r.left:e,t=t<r.top?r.top:t,this.host.outerWidth(!0)),o=this.host.outerHeight(!0);return{x:e=e+n>=r.width+r.left-2*s?r.width+r.left-n-s:e,y:t=t+o>=r.height+r.top-i?r.height+r.top-o-i:t}},_performLayout:function(){this._performHeaderLayout(),this._performWidgetLayout()},_parseDragAreaAttributes:function(){null!==this.dragArea&&(this.dragArea.height=parseInt(this.dragArea.height,10),this.dragArea.width=parseInt(this.dragArea.width,10),this.dragArea.top=parseInt(this.dragArea.top,10),this.dragArea.left=parseInt(this.dragArea.left,10))},_positionWindow:function(){var e,t,i;this._parseDragAreaAttributes(),this.position instanceof Array&&2===this.position.length&&"number"==typeof this.position[0]&&"number"==typeof this.position[1]?(this.element.style.left=this._toPx(this.position[0]),this.element.style.top=this._toPx(this.position[1])):this.position instanceof Object?this.position.left?this.host.offset(this.position):void 0!==this.position.x&&void 0!==this.position.y?(this.element.style.left=this._toPx(this.position.x),this.element.style.top=this._toPx(this.position.y)):this.position.center&&(this._centerElement(this.host,this.position.center,"xy"),e=this.position.center.coord(),t=parseInt(this.host.css("left"),10),i=parseInt(this.host.css("top"),10),this.element.style.left=this._toPx(t+e.left),this.element.style.top=this._toPx(i+e.top)):this._positionFromLiteral()},_getDraggingArea:function(){var e={};return e.left=this.dragArea&&this.dragArea.left?this.dragArea.left:0,e.top=this.dragArea&&this.dragArea.top?this.dragArea.top:0,e.width=(this.dragArea&&this.dragArea.width?this.dragArea:this._getDocumentSize()).width,e.height=(this.dragArea&&this.dragArea.height?this.dragArea:this._getDocumentSize()).height,e},_positionFromLiteral:function(){this.position instanceof Array||(this.position=this.position.split(","));for(var e=this.position.length,t=this._getDraggingArea();e;)switch(--e,this.position[e]=this.position[e].replace(/ /g,""),this.position[e]){case"top":this.element.style.top=this._toPx(t.top);break;case"left":this.element.style.left=this._toPx(t.left);break;case"bottom":this.element.style.top=this._toPx(t.height-this.host.height()+t.top);break;case"right":this.element.style.left=this._toPx(t.left+t.width-this.host.width());break;default:this.dragArea||(t=h(window)),this._centerElement(this.host,t,"xy")}},_raiseEvent:function(e){var t=this._events[e],i=h.Event(t),s={};return 2!==e&&3!==e||(s.x=arguments[1],s.y=arguments[2],s.pageX=arguments[3],s.pageY=arguments[4]),"closed"!==t&&"close"!==t||(s.dialogResult=this.dialogResult),i.args=s,this.host.trigger(i)},destroy:function(){this.removeHandler(h(window),"resize.window"+this.element.id),this._removeEventHandlers(),this._destroy()},_destroy:function(){this.isModal&&(null!==this._modalBackground&&h(this._modalBackground).remove(),this.host.jqxWindow({isModal:!1})),this.restricter&&(this.removeHandler(h(window),"resize."+this.element.id),this.removeHandler(h(window),"orientationchanged."+this.element.id),this.removeHandler(h(window),"orientationchange."+this.element.id)),this.host.remove(),null!==this._modalBackground&&h(this._modalBackground).remove()},_toClose:function(e,t){return e&&t[0]===this.element||t[0]!==this.element&&"object"==typeof t[0]},propertyChangedHandler:function(e,t,i,s){switch(this._validateProperties(),t){case"rtl":this._performLayout();break;case"dragArea":this._positionWindow();break;case"collapseButtonSize":case"closeButtonSize":this._performLayout();break;case"isModal":if(this._refresh(),this._fixWindowZIndex(),!1===s)for(var r=h.data(document.body,"jqxwindows-modallist"),n=[],o=0;o<r.length;o++)r[o][0]!==this.element&&n.push(r[o]);h.data(document.body,"jqxwindows-modallist",n);break;case"keyboardCloseKey":this._removeEventHandlers(),this._addEventHandlers();break;case"disabled":s?this.disable():(this.disabled=!0,this.enable());break;case"showCloseButton":case"showCollapseButton":case"height":case"width":this._performLayout();break;case"title":this.setTitle(s),this.title=s;break;case"content":this.setContent(s);break;case"draggable":this._removeEventHandlers(),this._addEventHandlers(),this._removeResize(),this._initializeResize();break;case"resizable":(this.enableResize=s)?this._initializeResize():this._removeResize();break;case"position":this._positionWindow();break;case"modalOpacity":this._setModalBackgroundStyles();break;case"okButton":s?this._addDialogButtonsHandlers():this.removeHandler(this.okButton);break;case"cancelButton":s?this._addDialogButtonsHandlers():this.removeHandler(this.cancelButton);break;case"collapsed":s?i||(this.collapsed=!1,this.collapse(0)):i&&(this.collapsed=!0,this.expand(0));break;case"theme":h.jqx.utilities.setTheme(i,s,this.host);break;case"enableResize":return;case"maxWidth":case"maxHeight":case"minWidth":case"minHeight":return e._performLayout(),e._removeResize(),void e._initializeResize();default:return}},collapse:function(e){var t,i,s,r;this.collapsed||!0===this._animationInProgress||"none"!=this.host.css("display")&&(i=(t=this)._header.outerHeight(!0),s=parseInt(this._header.css("border-bottom-width"),10),r=parseInt(this._header.css("margin-bottom"),10),e=isNaN(parseInt(e,10))?this.collapseAnimationDuration:e,isNaN(s)||(i-=2*s),isNaN(r)||(i+=r),this._heightBeforeCollapse=this.host.height(),this._minHeightBeforeCollapse=this.host.css("min-height"),this.element.style.minHeight=this._toPx(i),t._animationInProgress=!0,this.host.animate({height:i},{duration:e,complete:function(){t._animationInProgress=!1,t.collapsed=!0,t._collapseButton.addClass(t.toThemeProperty("jqx-window-collapse-button-collapsed")),t._collapseButton.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t._content[0].style.display="none",t._raiseEvent(5),t._raiseEvent(9),h.jqx.aria(t,"aria-expanded",!1)}}))},expand:function(e){var t;this.collapsed&&!0!==this._animationInProgress&&(t=this,e=isNaN(parseInt(e,10))?this.collapseAnimationDuration:e,t._animationInProgress=!0,this.host.animate({height:this._heightBeforeCollapse},{duration:e,complete:function(){t._animationInProgress=!1,t.collapsed=!1,t.element.style.minHeight=t._toPx(t._minHeightBeforeCollapse),t._collapseButton.removeClass(t.toThemeProperty("jqx-window-collapse-button-collapsed")),t._collapseButton.removeClass(t.toThemeProperty("jqx-icon-arrow-down")),t._content[0].style.display="block",t._raiseEvent(6),t._performWidgetLayout(),t._raiseEvent(9),h.jqx.aria(t,"aria-expanded",!0)}}))},closeAll:function(e){for(var t=h.data(document.body,"jqxwindows-list"),i=t.length,s=h.data(document.body,"jqxwindow-modal")||[];i;)this._toClose(!0,t[--i])&&(t[i].jqxWindow("closeWindow","close"),t.splice(i,1));this._toClose(!0,s)&&(s.jqxWindow("closeWindow","close"),h.data(document.body,"jqxwindow-modal",[])),h.data(document.body,"jqxwindows-list",t)},setTitle:function(e){if("string"==typeof e)this._headerContentWrapper.html(e);else if("object"==typeof e)try{this._headerContentWrapper[0].innerHTML="",e instanceof HTMLElement?this._headerContentWrapper[0].appendChild(e):e.appendTo&&e.appendTo(this._headerContentWrapper)}catch(e){throw new Error(e)}this.title=e,this._performLayout()},setContent:function(e){this._contentInitialized=!1;for(var t=this._content,i=!1;!i;)t[0].style.width="auto",t[0].style.height="auto",t.hasClass("jqx-window")?i=!0:t=h(t[0].parentNode);if(h.isArray(e))for(var s=0;s<e.length;s++)e[s].appendTo(this._content);else if("string"==typeof e)h(this._content[0]).html(e);else if("object"==typeof e)try{this._content[0].innerHTML="",e instanceof HTMLElement?this._content[0].appendChild(e):e.appendTo&&e.appendTo(this._content)}catch(e){throw new Error(e)}this.content=e,this._performLayout()},disable:function(){this.disabled=!0,this._removeEventHandlers(),this._header.addClass(this.toThemeProperty("jqx-window-header-disabled")),this._closeButton.addClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.addClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this._content.addClass(this.toThemeProperty("jqx-window-content-disabled")),this.host.addClass(this.toThemeProperty("jqx-window-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._removeResize()},enable:function(){this.disabled&&(this._addEventHandlers(),this._header.removeClass(this.toThemeProperty("jqx-window-header-disabled")),this._content.removeClass(this.toThemeProperty("jqx-window-content-disabled")),this._closeButton.removeClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.removeClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this.host.removeClass(this.toThemeProperty("jqx-window-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1,this._initializeResize())},isOpen:function(){return this._visible},closeWindow:function(e){var t=this;e=void 0===e?this.closeButtonAction:e,this.hide(function(){"close"===e&&t._destroy()})},bringToFront:function(){var e=h.data(document.body,"jqxwindows-list");if(this.isModal)return e=h.data(document.body,"jqxwindows-modallist"),this._fixWindowZIndex("modal-hide"),void this._fixWindowZIndex("modal-show");for(var t=e[e.length-1],t=parseInt(t.css("z-index"),10),i=this._indexOf(this.host,e),s=e.length-1;i<s;--s){var r=parseInt(e[s].css("z-index"),10)-1;e[s][0].style.zIndex=r}this.element.style.zIndex=t,this._sortByStyle("z-index",e)},hide:function(e,t,i){var s=this;if(this.closing&&!1===this.closing())return;switch(t=t||this.closeAnimationDuration,this.animationType){case"none":this.element.style.display="none";break;case"fade":s._animationInProgress=!0,this.host.fadeOut({duration:t,callback:function(){s._animationInProgress=!1,e instanceof Function&&e()}});break;case"slide":s._animationInProgress=!0,this.host.slideUp({duration:t,callback:function(){s._animationInProgress=!1,e instanceof Function&&e()}});break;case"combined":s._animationInProgress=!0,this.host.animate({opacity:0,width:"0px",height:"0px"},{duration:t,complete:function(){s._animationInProgress=!1,s.element.style.display="none",e instanceof Function&&e()}})}this._visible=!1,this.isModal&&(h(this._modalBackground).hide(),this._fixWindowZIndex("modal-hide")),!0!==i&&(this._raiseEvent(1),this._raiseEvent(8))},open:function(e,t){this.show(e,t)},close:function(e,t,i){this.hide(e,t,i)},show:function(e,t){var i=this;switch(this._setDialogResult("none"),t=t||this.showAnimationDuration,this.animationType){case"none":this.element.style.display="block";break;case"fade":i._animationInProgress=!0,this.host.fadeIn({duration:t,complete:function(){i._animationInProgress=!1,e instanceof Function&&e()}});break;case"slide":i._animationInProgress=!0,this.host.slideDown({duration:t,callback:function(){i._animationInProgress=!1,e instanceof Function&&e()}});break;case"combined":this.element.style.display="block";var s=i.host.width(),r=i.host.height();this.element.style.minWidth="0px",this.element.style.minHeight="0px",this.element.style.opacity=0,this.element.style.width="0px",this.element.style.height="0px",i._animationInProgress=!0,this.host.animate({opacity:1,width:s+"px",height:r+"px"},{duration:t,complete:function(){i._animationInProgress=!1,i._performLayout(),e instanceof Function&&e()}})}this.isModal&&(h(this._modalBackground).show(),this._fixWindowZIndex("modal-show"));var n,o=this;this._visible||(150<t&&"none"!=this.animationType?setTimeout(function(){o._contentInitialized||o.initContent&&(o.initContent(),o._contentInitialized=!0),o._raiseEvent(7),o._raiseEvent(9)},t-150):(o._contentInitialized||o.initContent&&(o.initContent(),o._contentInitialized=!0),this._raiseEvent(7),o._raiseEvent(9))),this._visible=!0,"combined"!==i.animationType&&this._performLayout(),this.autoFocus&&((n=function(){o._isTouchDevice||o._content[0].focus()})(),setTimeout(function(){n()},100))},_getTabbables:function(){var e=h.jqx.browser.msie&&h.jqx.browser.version<9?this._content.find("*"):this._content[0].querySelectorAll("*"),s=[];return h.each(e,function(){var e,t,i;t=(e=this).getAttribute("tabindex"),((i=null===t)||0<=t)&&function(e,t){var i=e.nodeName.toLowerCase();if("area"!==i)return(/input|select|textarea|button|object/.test(i)?!e.disabled:"a"==i&&e.href||t)&&r(e);i=e.parentNode,t=i.name;return e.href&&t&&"map"===i.nodeName.toLowerCase()&&(!!(e=h("img[usemap=#"+t+"]")[0])&&r(e))}(e,!i)&&(s[s.length]=this)}),s},move:function(e,t,i,s){var r,n,o=0,a=0;e=parseInt(e,10),t=parseInt(t,10),h.jqx.browser.msie&&(h(window).width()>h(document).width()&&!this.dragArea&&(a=this._SCROLL_WIDTH),h(window).height()<h(document).height()&&document.documentElement.clientWidth>document.documentElement.scrollWidth&&!this.dragArea&&(o=this._SCROLL_WIDTH)),a=this._validateCoordinates(e,t,a,o),parseInt(this.host.css("left"),10)===a.x&&parseInt(this.host.css("top"),10)===a.y||(i&&(r=(o=h.jqx.position(i)).left,n=o.top),void 0===r&&(r=e),void 0===n&&(n=t),!1!==s&&this._raiseEvent(2,a.x,a.y,r,n)),this.element.style.left=a.x+"px",this.element.style.top=a.y+"px",this._moved=!0},_toPx:function(e){return"number"==typeof e?e+"px":e}})}(jqxBaseFramework),!function(e){o=jqxBaseFramework;var o,t={resizeConfig:function(){this.resizeTarget=null,this.resizeIndicatorSize=5,this.resizeTargetChildren=null,this.isResizing=!1,this.resizeArea=!1,this.minWidth=1,this.maxWidth=100,this.minHeight=1,this.maxHeight=100,this.resizeParent=null,this.enableResize=!0,this._resizeEvents=["resizing","resized","resize"],this._resizeMouseDown=!1,this._resizeCurrentMode=null,this._mouseResizePosition={},this._resizeMethods=null,this._SCROLL_WIDTH=21},_resizeExceptions:{invalidTarget:"Invalid target!",invalidMinHeight:"Invalid minimal height!",invalidMaxHeight:"Invalid maximum height!",invalidMinWidth:"Invalid minimum width!",invalidMaxWidth:"Invalid maximum width!",invalidIndicatorSize:"Invalid indicator size!",invalidSize:"Invalid size!"},removeResize:function(){if(this.resizeTarget){var e=o(this.resizeTarget.children(".jqx-resize")),t=(e.detach(),e.children());this._removeResizeEventListeners();for(var i=0;i<t.length;i+=1)o(t[i]).detach(),this.resizeTarget.append(t[i]);e.remove()}this._resizeDirection=null},initResize:function(e){this.resizeConfig(),this.resizeTarget=o(e.target),this.resizeIndicatorSize=e.indicatorSize||10,this.maxWidth=e.maxWidth||100,this.minWidth=e.minWidth||1,this.maxHeight=e.maxHeight||100,this.minHeight=e.minHeight||1,this.resizeParent=e.resizeParent,this._parseResizeParentProperties(),this._validateResizeProperties(),this._validateResizeTargetDimensions(),this._getChildren(this.resizeTarget.maxWidth,this.resizeTarget.minWidth,this.resizeTarget.maxHeight,this.resizeTarget.minHeight,e.alsoResize),this._refreshResize(),this._cursorBackup=this.resizeTarget.css("cursor"),"auto"===this._cursorBackup&&(this._cursorBackup="default")},_validateResizeTargetDimensions:function(){this.resizeTarget.maxWidth=this.maxWidth,this.resizeTarget.minWidth=3*this.resizeIndicatorSize>this.minWidth?3*this.resizeIndicatorSize:this.minWidth,this.resizeTarget.maxHeight=this.maxHeight,this.resizeTarget.minHeight=3*this.resizeIndicatorSize>this.minHeight?3*this.resizeIndicatorSize:this.minHeight},_parseResizeParentProperties:function(){this.resizeParent&&(this.resizeParent.left=parseInt(this.resizeParent.left,10),this.resizeParent.top=parseInt(this.resizeParent.top,10),this.resizeParent.width=parseInt(this.resizeParent.width,10),this.resizeParent.height=parseInt(this.resizeParent.height,10))},_getChildren:function(e,t,i,s,r){this.resizeTargetChildren=o(r),this.resizeTargetChildren=this.resizeTargetChildren.toArray();for(var n=this.resizeTargetChildren.length;n;)this.resizeTargetChildren[--n]=o(this.resizeTargetChildren[n])},_refreshResize:function(){this._renderResize(),this._performResizeLayout(),this._removeResizeEventListeners(),this._addResizeEventHandlers()},_renderResize:function(){var e;void 0!==this._resizeWrapper&&0<o(this._resizeWrapper).parents().length||((e=document.createElement("div")).className="jqx-resize jqx-rc-all",e.style.zIndex=8e3,e.appendChild(this._header[0]),e.appendChild(this._content[0]),this.resizeTarget[0].appendChild(e),this._resizeWrapper=e)},_performResizeLayout:function(){this._resizeWrapper.style.height=this.resizeTarget.height()+"px",this._resizeWrapper.style.width=this.resizeTarget.width()+"px"},_removeResizeEventListeners:function(){var e=this.resizeTarget.attr("id");this.removeHandler(this._resizeWrapper,"mousemove.resize"+e),this.removeHandler(this._resizeWrapper,"mousedown.resize"+e),this.removeHandler(o(document),"mousemove.resize"+e),this.removeHandler(o(document),"mouseup.resize"+e)},_addResizeEventHandlers:function(){var e,t=this.resizeTarget.attr("id"),i=this;i._isTouchDevice?(this.addHandler(this._resizeWrapper,"touchmove.resize."+t,function(e){i._resizeCursorChangeHandler(i,e)}),this.addHandler(this._resizeWrapper,"touchstart.resize."+t,function(e){i._resizeCursorChangeHandler(i,e),i._resizeMouseDownHandler(i,e)}),this.addHandler(o(document),"touchmove.resize."+t,function(e){return i._resizeHandler(i,e)}),this.addHandler(o(document),"touchend.resize."+t,function(e){i._stopResizing(i,e)})):(this.addHandler(this._resizeWrapper,"mousemove.resize."+t,function(e){i._resizeCursorChangeHandler(i,e)}),this.addHandler(this._resizeWrapper,"mousedown.resize."+t,function(e){i._resizeMouseDownHandler(i,e)}),this.addHandler(o(document),"mousemove.resize."+t,function(e){return i._resizeHandler(i,e)}),this.addHandler(o(document),"mouseup.resize."+t,function(e){i._stopResizing(i,e)}));try{""===document.referrer&&!window.frameElement||(e=function(e){i._stopResizing(i,e)},window.top.document.addEventListener?window.top.document.addEventListener("mouseup",e,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",e))}catch(e){}},_stopResizing:function(e){e.enableResize&&(e.isResizing&&e._raiseResizeEvent(1),e._resizeMouseDown=!1,e.isResizing=!1,e._resizeDirection=null,e.resizeTarget&&e.resizeTarget.removeClass("jqx-disableselect")),"undefined"==e._cursorBackup&&(e._cursorBackup="default"),e._resizeWrapper&&(e._resizeWrapper.style.cursor=e._cursorBackup)},_resizeHandler:function(e,t){var i;if(e.enableResize&&!e.collapsed)return e.isResizing&&e._resizeDirection?(0===t.which&&o.jqx.browser.msie&&o.jqx.browser.version<9&&e._stopResizing(t),e._isTouchDevice?(i=o.jqx.position(t),e._performResize(i.left,i.top)):e._performResize(t.pageX,t.pageY),!1):e._isTouchDevice?(i=o.jqx.position(t),e._resizeCaptureCursor(i.left,i.top)):e._resizeCaptureCursor(t.pageX,t.pageY)},_resizeCaptureCursor:function(e,t){if(this._resizeMouseDown&&!this.isResizing&&this._resizeDirection)return this._isTouchDevice||e+3<this._mouseResizePosition.x||e-3>this._mouseResizePosition.x||t+3<this._mouseResizePosition.y||t-3>this._mouseResizePosition.y?(this._changeCursor(e-parseInt(this.resizeTarget.css("left"),10),t-parseInt(this.resizeTarget.css("top"),10)),this._mouseResizePosition={x:e,y:t},this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this.resizeTarget.addClass("jqx-disableselect"),!1):void 0},_resizeBackupData:function(){this.resizeTarget.lastWidth=this.resizeTarget.width(),this.resizeTarget.lastHeight=this.resizeTarget.height(),this.resizeTarget.x=parseInt(this.resizeTarget.css("left"),10),this.resizeTarget.y=parseInt(this.resizeTarget.css("top"),10),this._resizeBackupChildrenSize()},_resizeBackupChildrenSize:function(){for(var e,t=this.resizeTargetChildren.length;t;)e=this.resizeTargetChildren[--t],this.resizeTargetChildren[t].lastWidth=e.width(),this.resizeTargetChildren[t].lastHeight=e.height()},_performResize:function(e,t){e-=this._mouseResizePosition.x,t-=this._mouseResizePosition.y;this._resizeDirection&&this._resize(this.resizeTarget,e,t)},_resizeCursorChangeHandler:function(e,t){if(e.enableResize&&!e.collapsed&&!e.isResizing){var i;if(e._isTouchDevice)return i=o.jqx.position(t),void e._changeCursor(i.left-parseInt(e.resizeTarget.css("left"),10),i.top-parseInt(e.resizeTarget.css("top"),10));e._changeCursor(t.pageX-parseInt(e.resizeTarget.css("left"),10),t.pageY-parseInt(e.resizeTarget.css("top"),10))}},_resizeMouseDownHandler:function(e,t){var i;e.enableResize&&null!==e._resizeDirection&&(e._resizeMouseDown=!0,e._isTouchDevice?(i=o.jqx.position(t),e._mouseResizePosition.x=i.left,e._mouseResizePosition.y=i.top):(e._mouseResizePosition.x=t.pageX,e._mouseResizePosition.y=t.pageY),t.preventDefault())},_validateResizeProperties:function(){try{if(!this.resizeTarget||1!==this.resizeTarget.length)throw new Error(this._resizeExceptions.invalidTarget);if(this.minHeight<0||isNaN(parseInt(this.minHeight,10)))throw new Error(this._resizeExceptions.invalidMinHeight);if(this.maxHeight<=0||isNaN(parseInt(this.maxHeight,10)))throw new Error(this._resizeExceptions.invalidMaxHeight);if(this.minWidth<0||isNaN(parseInt(this.minWidth,10)))throw new Error(this._resizeExceptions.invalidMinWidth);if(this.maxWidth<0||isNaN(parseInt(this.maxWidth,10)))throw new Error(this._resizeExceptions.invalidMaxWidth);if(this.resizeIndicatorSize<0||isNaN(parseInt(this.resizeIndicatorSize,10)))throw new Error(this._resizeExceptions.invalidIndicatorSize);if(this.minHeight>this.maxHeight||this.minWidth>this.maxWidth)throw new Error(this._resizeExceptions.invalidSize)}catch(e){throw new Error(e)}},_changeCursor:function(e,t){this.isResizing||this._resizeMouseDown||(this.resizeArea=!0,e<=this.resizeIndicatorSize&&0<=e&&t<=this.resizeIndicatorSize&&0<t?(this._resizeWrapper.style.cursor="nw-resize",this._resizeDirection="topleft"):t<=this.resizeIndicatorSize&&0<t&&e>=this.resizeTarget.width()-this.resizeIndicatorSize?(this._resizeWrapper.style.cursor="ne-resize",this._resizeDirection="topright"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()&&e<=this.resizeIndicatorSize&&0<=e?(this._resizeWrapper.style.cursor="sw-resize",this._resizeDirection="bottomleft"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()&&e>=this.resizeTarget.width()-this.resizeIndicatorSize&&e<this.resizeTarget.width()?(this._resizeWrapper.style.cursor="se-resize",this._resizeDirection="bottomright"):e<=this.resizeIndicatorSize&&0<=e?(this._resizeWrapper.style.cursor="e-resize",this._resizeDirection="left"):t<=this.resizeIndicatorSize&&0<t?(this._resizeWrapper.style.cursor="n-resize",this._resizeDirection="top"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()?(this._resizeWrapper.style.cursor="n-resize",this._resizeDirection="bottom"):e>=this.resizeTarget.width()-this.resizeIndicatorSize&&e<this.resizeTarget.width()?(this._resizeWrapper.style.cursor="e-resize",this._resizeDirection="right"):(this._resizeWrapper.style.cursor=this._cursorBackup,this._resizeDirection=null,this.resizeArea=!1))},_prepareResizeMethods:function(e){this._resizeMethods=[],0<=e.indexOf("left")&&this._resizeMethods.push(this._resizeLeft),0<=e.indexOf("top")&&this._resizeMethods.push(this._resizeTop),0<=e.indexOf("right")&&this._resizeMethods.push(this._resizeRight),0<=e.indexOf("bottom")&&this._resizeMethods.push(this._resizeBottom)},_validateResize:function(e,t,i,s,r){return"horizontal"===i||"both"===i?this._validateWidth(e,s,r):"vertical"===i||"both"===i?this._validateHeight(t,s,r):{result:!1,fix:0}},_getParent:function(){return null!==this.resizeParent&&"undefined"!==this.resizeParent&&this.resizeParent.height&&this.resizeParent.width&&this.resizeParent.top&&this.resizeParent.left?this.resizeParent:{left:0,top:0,width:o(document).width(),height:o(document).height()}},_validateHeight:function(e,t,i){var s=0,r=this._getParent();return o(window).width()>o(document).width()&&o.jqx.browser.msie&&r.height===o(document).height()&&(s=this._SCROLL_WIDTH),"bottom"===i&&e+t.position().top+s+2>r.height+r.top?{fix:r.height-t.position().top-s-2+r.top,result:!1}:"top"===i&&t.lastHeight-e+t.y<r.top?{fix:e+(t.lastHeight-e+t.y)-r.top,result:!1}:e<t.minHeight?{fix:t.minHeight,result:!1}:e>t.maxHeight?{fix:t.maxHeight,result:!1}:{result:!0,fix:e}},_validateWidth:function(e,t,i){var s=0,r=this._getParent();return o(window).height()<o(document).height()&&o.jqx.browser.msie&&document.documentElement.clientWidth>=document.documentElement.scrollWidth&&r.width===o(document).width()&&(s=this._SCROLL_WIDTH),"right"===i&&e+t.position().left+s+2>r.width+r.left?{fix:r.width-t.position().left-s-2+r.left,result:!1}:"left"===i&&t.lastWidth-e+t.x<r.left?{fix:e+(t.lastWidth-e+t.x)-r.left,result:!1}:e<t.minWidth?{fix:t.minWidth,result:!1}:e>t.maxWidth?{fix:t.maxWidth,result:!1}:{result:!0,fix:e}},_resize:function(e,t,i){for(var s=this._resizeMethods.length,r=0;r<s;r++)this._resizeMethods[r]instanceof Function&&this._resizeMethods[r]({element:e,x:t,y:i,self:this});this._performResizeLayout()},resize:function(e,t){this.resizable&&(e=e-this.host.width(),t=t-this.host.height(),this._resizeDirection=0!=t?"bottom":"right",this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this._resize(this.resizeTarget,e,t),this.isResizing=!1,0<e&&0<t&&(this._resizeDirection="right",this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this._resize(this.resizeTarget,e,t),this.isResizing=!1))},_setResizeChildrenSize:function(e,t){for(var i,s=this.resizeTargetChildren.length;s;)s--,"width"===t?(i=this.resizeTargetChildren[s].lastWidth-(this.resizeTarget.lastWidth-e))<this.resizeTarget.maxWidth&&0<i&&this.resizeTargetChildren[s].width(i):(i=this.resizeTargetChildren[s].lastHeight-(this.resizeTarget.lastHeight-e))<this.resizeTarget.maxHeight&&0<i&&this.resizeTargetChildren[s].height(i)},_resizeRight:function(e){var t=e.element.lastWidth+e.x,i=e.self._validateResize(t,0,"horizontal",e.element,"right");return i.result||(t=i.fix),e.element.width()!==t&&(e.self._setResizeChildrenSize(t,"width"),e.element.width(t),0<=e.self.width.toString().indexOf("%")&&(i=o(document.body).width()/100,e.element[0].style.width=1/i*t+"%",e.self._setChildrenLayout()),e.self._raiseResizeEvent(0)),t},_resizeLeft:function(e){var t,i=e.element.lastWidth-e.x,s=e.self._validateResize(i,0,"horizontal",e.element,"left"),r=e.element.x+e.x;if(s.result)return e.element.width()!==i&&(e.self._setResizeChildrenSize(i,"width"),e.element.width(i),0<=e.self.width.toString().indexOf("%")&&(t=o(document.body).width()/100,e.element[0].style.width=1/t*i+"%",e.self._setChildrenLayout()),e.element[0].style.left=e.self._toPx(r),e.self._raiseResizeEvent(0)),i;r=e.element.x+(e.element.lastWidth-s.fix),i=s.fix},_resizeBottom:function(e){var t=e.element.lastHeight+e.y,i=e.self._validateResize(0,t,"vertical",e.element,"bottom");return i.result||(t=i.fix),e.element.height()!==t&&(e.self._setResizeChildrenSize(t,"height"),e.element.height(t),0<=e.self.height.toString().indexOf("%")&&(i=o(document.body).height()/100,e.element[0].style.height=1/i*t+"%",e.self._setChildrenLayout()),e.self._raiseResizeEvent(0)),t},_resizeTop:function(e){var t,i=e.element.lastHeight-e.y,s=e.self._validateResize(0,i,"vertical",e.element,"top"),r=e.element.y+e.y;if(s.result)return e.element.height()!==i&&(e.self._setResizeChildrenSize(i,"height"),e.element.height(i),0<=e.self.height.toString().indexOf("%")&&(t=o(document.body).height()/100,e.element[0].style.height=1/t*i+"%",e.self._setChildrenLayout()),e.element[0].style.top=e.self._toPx(r),e.self._raiseResizeEvent(0)),i;r=e.element.y+(e.element.lastHeight-s.fix),i=s.fix},_raiseResizeEvent:function(e){var t=this._resizeEvents[e],i=o.Event(t),s={};return s.width=parseInt(this.resizeTarget[0].style.width,10),s.height=parseInt(this.resizeTarget[0].style.height,10),i.args=s,0===e&&(t=this._resizeEvents[2],(e=o.Event(t)).args=s,this.resizeTarget.trigger(e)),this.resizeTarget.trigger(i)}};e.extend(e.jqx._jqxWindow.prototype,t)}(jqxBaseFramework),!function(i){i.jqx.jqxWidget("jqxHeatMap","",{}),i.extend(i.jqx._jqxHeatMap.prototype,{defineInstance:function(){var e={width:"auto",xAxis:{labels:[],opposedPosition:!1,isInversed:!1,minimum:null,maximum:null,labelFormat:"short"},yAxis:{labels:[],opposedPosition:!1,isInversed:!1},source:[],title:"Title",paletteSettings:{palette:[{value:0,color:"#5dc3f0",label:""},{value:50,color:"#4bb1de",label:""},{value:100,color:"#3885a6",label:""}],type:"Gradient",emptyPointColor:"#eee"},legendSettings:{position:"Right"},tooltipRender:null,_isXAxisInversed:!1,_isYAxisInversed:!1};return this===i.jqx._jqxHeatMap.prototype||i.extend(!0,this,e),e},createInstance:function(){"NodeList"in window&&!NodeList.prototype.forEach&&(console.info("polyfill for IE11"),NodeList.prototype.forEach=function(e,t){t=t||window;for(var i=0;i<this.length;i++)e.call(t,this[i],i,this)}),this._setDefaultValues(),this._renderAllElements(),this._addHandlers()},_addHandlers:function(){var s=this;s.host.find(".jqx-heatmap-cell").on("mouseenter",function(e){var t=e.target,i=t.getAttribute("data-value");"Top"===s.legendSettings.position||"Bottom"===s.legendSettings.position?s._showLegendArrow("horizontal",i):s._showLegendArrow("vertical",i),s._hideTimer&&clearTimeout(s._hideTimer),s._showTooltip(e.target),t.classList.toggle("jqx-opacity-50")}),s.host.find(".jqx-heatmap-cell").on("mouseleave",function(){var e=event.target;s._arrow.style.display="",e.classList.toggle("jqx-opacity-50"),e=setTimeout(function(){s._tooltipContainer.classList.add("jqx-heatmap-hidden")},300),s._hideTimer=e}),s.host.find(".jqx-color-container, .jqx-color-container-tick").on("click",function(){var e=i(this).attr("data-value"),t=i(this).attr("data-color-index");s._hideCells(t),s._toggleClass("jqx-color-container","jqx-selected-color",e),s._toggleClass("jqx-color-container-tick","jqx-opacity-50",e)})},_setDefaultValues:function(){var e=this,t=Object.keys(e.xAxis),i=Object.keys(e.yAxis),s=Object.keys(e.legendSettings),r=Object.keys(e.paletteSettings);-1===t.indexOf("labels")&&(e.xAxis.labels=[]),-1===t.indexOf("opposedPosition")&&(e.xAxis.opposedPosition=!1),-1===t.indexOf("isInversed")&&(e.xAxis.isInversed=!1),-1===i.indexOf("opposedPosition")&&(e.yAxis.opposedPosition=!1),-1===i.indexOf("isInversed")&&(e.yAxis.isInversed=!1),-1===s.indexOf("position")&&(e.legendSettings.position="Right"),-1===r.indexOf("type")&&(e.paletteSettings.type="Gradient"),-1===r.indexOf("palette")&&(e.paletteSettings.palette=[{value:0,color:"#5dc3f0",label:""},{value:50,color:"#4bb1de",label:""},{value:100,color:"#3885a6",label:""}]),-1===r.indexOf("emptyPointColor")&&(e.paletteSettings.emptyPointColor="#eee")},_showTooltip:function(e){var t=this,i=document.createElement("div"),s=e.getAttribute("data-value"),r=e.getAttribute("data-date"),n=e.getAttribute("data-column"),n=t.xAxis.labels[n],o=e.getAttribute("data-row"),o=t.yAxis.labels[o],a=n+" | "+o+" : "+s,l=e.offsetWidth;t._tooltipContainer||(t._tooltipContainer=i),t.element.appendChild(t._tooltipContainer),t._tooltipContainer.classList.remove("jqx-heatmap-hidden"),t._tooltipContainer.className="jqx-heatmap-tooltip",t.tooltipRender&&(i=t.xAxis.minimum&&t.xAxis.maximum?{xLabel:n,yLabel:o,value:s,date:r,content:a}:{xLabel:n,yLabel:o,value:s,content:a},t.tooltipRender(i),a=i.content),t.xAxis.minimum&&t.xAxis.maximum?t._tooltipContainer.innerHTML=s+" on "+t._defaultDateTooltipFormat(new Date(r)):t._tooltipContainer.innerHTML=a,n=t._tooltipContainer.offsetWidth,o=t._tooltipContainer.offsetHeight,i=n-l,t._tooltipContainer.style.top=e.offsetTop-o+10+"px",t._tooltipContainer.style.left=0<i?e.offsetLeft-i/2+"px":e.offsetLeft+Math.abs(i)/2+"px"},_defaultDateTooltipFormat:function(e){return new Intl.DateTimeFormat("en-US",{day:"numeric",weekday:"short",month:"short",year:"numeric"}).format(e)},_getAllDates:function(){for(var e=new Date(this.xAxis.minimum),t=new Date(this.xAxis.maximum),i=this.source[0].length,s=[],r=[],n=e,o=0;n<=t;n.setDate(n.getDate()+1),o++)o<i?r.push(n.toISOString()):(s.push(r),this._addMonthLabel(r),o=0,(r=[]).push(n.toISOString()));this._dateArray=s},_addMonthLabel:function(e){var t={month:this.xAxis.labelFormat},t=new Intl.DateTimeFormat("en-US",t),e=new Date(e[0]),t=t.format(e);this.xAxis.labels.push(t)},_renderGrid:function(){var e=this,t=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),r=document.createElement("div");t.className="jqx-heatmap-grid",i.className="jqx-x-axis-container",s.className="jqx-y-axis-container",r.className="jqx-heatmap-container-wrapper",e._setAxisOrigin();for(var n=0,o=e.source.length;n<o;n++){var a=document.createElement("div"),l=e.source[n];e._setGridColumn(a,n,o);for(var d=0,h=l.length;d<h;d++){var c=document.createElement("div");e._setGridCell(c,n,d,l),a.appendChild(c)}t.appendChild(a)}r.style.width=e._toPx(e.width),i.appendChild(t),s.appendChild(i),r.appendChild(s),e._gridXAxisContainer=i,e._gridYAxisContainer=s,e._gridContainerWrapper=r,e.element.appendChild(r)},_renderAxis:function(e,t,i,s){for(var r=document.createElement("div"),n=this.element.querySelector(".jqx-heatmap-grid").offsetHeight,o=0,a=t.length;o<a;o++){var l,d=t[o],h=document.createElement("div");h.innerHTML=d,h.className=s,"x"===e?(h.style.width="calc(100% /"+a+")",this.xAxis.minimum&&this.xAxis.maximum&&(l=this.source.length,l=d.duplicates/l*100,h.innerHTML=d.name,h.style.width=l+"%",this.xAxis.isInversed?h.style.textAlign="right":h.style.textAlign="left")):(r.style.height=n+"px",h.style.height="calc(100% /"+a+")"),r.appendChild(h)}"x"===e?(r.className=i,this._gridXAxisContainer.appendChild(r)):(r.className=i,this._gridYAxisContainer.appendChild(r))},_getLabels:function(i){var s,r=[],n=0;i.forEach(function(e,t){e===i[t+1]?n++:(s={name:e,duplicates:++n},r.push(s),n=0)}),this.xAxis.labels=r},_renderAllAxis:function(){var e,t,i,s=this;s.xAxis.minimum&&s.xAxis.maximum&&s._getLabels(s.xAxis.labels),s._renderAxis("x",s.xAxis.labels,"jqx-x-axis","jqx-x-axis-label"),s._renderAxis("y",s.yAxis.labels,"jqx-y-axis","jqx-y-axis-label"),i=s.element.querySelector(".jqx-y-axis"),e=s.element.querySelectorAll(".jqx-x-axis-label"),t=s.element.querySelectorAll(".jqx-y-axis-label"),s.xAxis.opposedPosition&&(s._gridXAxisContainer.style.flexDirection="column-reverse",i.classList.add("jqx-margin-top-auto"),e.forEach(function(e){e.classList.add("jqx-top")})),s.yAxis.opposedPosition&&(s._gridYAxisContainer.style.flexDirection="row",t.forEach(function(e){e.classList.add("jqx-right")}))},_setGridColumn:function(e,t,i){e.id="jqx-column-"+t,e.classList.add("jqx-column"),e.style.width="calc(100% / "+i+")"},_setGridCell:function(e,t,i,s){var r=s[i];e.classList.add("jqx-heatmap-cell"),e.setAttribute("data-row",i),e.setAttribute("data-column",t),e.setAttribute("data-value",r),this.xAxis.minimum&&this.xAxis.maximum&&e.setAttribute("data-date",this._dateArray[t][i]);for(var n=0,o=this.paletteSettings.palette.length;n<o;n++)if(null!==r){var a,l=Number(r),d=this.paletteSettings.palette[n].value,d=Number(d),h=null;if(n+1<o&&(a=this.paletteSettings.palette[n+1].value,h=Number(a)),h&&(d<=l&&l<h||l<this._minValue)){e.setAttribute("data-color-index",n);break}!h&&d<=l&&e.setAttribute("data-color-index",n)}if(!this.xAxis.minimum||!this.xAxis.maximum)return null===r?(e.innerHTML="&nbsp",void e.classList.add("jqx-empty-cell")):void(e.innerHTML=r);null===r&&e.classList.add("jqx-empty-cell")},_getTicksMinMax:function(){for(var e=JSON.parse(JSON.stringify(this.paletteSettings.palette)),t=e[0].value,i=e[0].value,s=[],r=0,n=e.length;r<n;r++){var o=e[r].value,a=e[r].label||"";s.push({value:o,label:a}),o<t?t=o:i<o&&(i=o)}this._minValue=t,this._maxValue=i,this._ticksArray=s},_renderTitle:function(){var e=document.createElement("div");e.className="jqx-heatmap-title",e.innerHTML=this.title,e.style.width=this._toPx(this.width),this._title=e,this.element.appendChild(e)},_renderLegend:function(e){var t=document.createElement("div"),i="Gradient"===this.paletteSettings.type?document.createElement("canvas"):document.createElement("div"),s=document.createElement("div");t.classList.add("jqx-legend-"+e),i.classList.add("jqx-palette-"+e),s.classList.add("jqx-arrow-"+e),this._drawLegend(t,i,e),t.appendChild(i),t.appendChild(s),this._gridContainerWrapper.appendChild(t),this._arrow=s,this._palette=i,this._legend=t,this._adjustLegend(e)},_drawLegend:function(e,t,i){var s=this;"vertical"===i?(!0===s.xAxis.opposedPosition&&e.classList.add("jqx-margin-top-auto"),"Gradient"===s.paletteSettings.type?s._drawGradientLegend(t,"vertical"):s._drawFixedLegend(t,"vertical"),"Left"===s.legendSettings.position&&e.classList.add("jqx-left"),s._gridXAxisContainer.width="calc(100% - "+e.offsetWidth+"px)"):("Gradient"===s.paletteSettings.type?s._drawGradientLegend(t,"horizontal"):s._drawFixedLegend(t,"horizontal"),"Bottom"===s.legendSettings.position&&e.classList.add("jqx-bottom"),!0===s.yAxis.opposedPosition&&e.classList.add("jqx-margin-right-auto"))},_drawFixedLegend:function(e,t){var i=JSON.parse(JSON.stringify(this.paletteSettings.palette)),s=this.element.querySelector(".jqx-heatmap-grid").offsetWidth,r=this.element.querySelector(".jqx-heatmap-grid").offsetHeight;"horizontal"===t&&e.classList.add("jqx-fixed");for(var n=0,o=i.length;n<o;n++){var a=i[n],l=document.createElement("div"),d=s/o/s*100;l.id="jqx-color-container-"+n,l.className="jqx-color-container",l.setAttribute("data-value",a.value),l.setAttribute("data-color-index",n),l.setAttribute("data-color",a.color),l.style.background=a.color,"vertical"===t?(l.style.width="10px",l.style.height="calc("+r+"px / "+o+")"):(l.style.width=d+"%",l.style.height="10px"),e.appendChild(l)}},_drawGradientLegend:function(e,t){var i,s=JSON.parse(JSON.stringify(this.paletteSettings.palette)),e=e.getContext("2d");i="vertical"===t?e.createLinearGradient(0,0,0,150):e.createLinearGradient(0,0,300,0),"Gradient"===this.paletteSettings.type&&this._checkNewMinMax();for(var r=0,n=s.length;r<n;r++){var o=s[r],a=(o.value-this._minValue)/(this._maxValue-this._minValue);i.addColorStop(a,o.color)}e.fillStyle=i,e.fillRect(0,0,300,150),this._canvasContext=e},_getSourceMinMax:function(){for(var e=this.source[0][0],t=this.source[0][0],i=0,s=this.source.length;i<s;i++)for(var r=0,n=this.source[i].length;r<n;r++){var o=this.source[i][r];null!==o&&(o<e?e=o:t<o&&(t=o))}return{min:e,max:t}},_checkNewMinMax:function(){var e=JSON.parse(JSON.stringify(this.paletteSettings.palette)),t=this._getSourceMinMax();this._minValue>t.min&&(this._minValue=t.min,e.splice(0,0,{value:t.min,color:e[0].color})),this._maxValue<t.max&&(this._maxValue=t.max,e.push({value:t.max,color:e[e.length-1].color}))},_adjustLegend:function(e){"vertical"===e?(this._setVerticalLegendHeight(),this._renderScale("vertical")):(this._setHorizontalLegendWidth(),this._renderScale("horizontal"))},_renderScale:function(e){for(var t=0,i=this._ticksArray.length;t<i;t++){var s=this._ticksArray[t].value,r=this._ticksArray[t].label,n=document.createElement("div");"Fixed"===this.paletteSettings.type&&n.classList.add("jqx-color-container-tick"),n.classList.add("jqx-tick","jqx-tick-"+e),n.setAttribute("data-value",s),n.setAttribute("data-color-index",t),n.innerHTML=r||s,this._setLegendTicksPosition(n,s,t,e),this._legend.appendChild(n)}"vertical"===e&&(this._tick=n,this._setVerticalLegendWidth())},_setLegendTicksPosition:function(e,t,i,s){var r,n=this;"Gradient"===n.paletteSettings.type?t===n._minValue||t===n._maxValue?(t===n._minValue?"vertical"===s?e.style.top="-0.5%":e.style.left="-3px":"vertical"===s?e.style.top="96%":e.style.right="-11px",e.classList.add("jqx-no-line")):(t=(t-n._minValue)/(n._maxValue-n._minValue)*100,"vertical"===s?e.style.top="calc("+t+"% - 6px)":e.style.left="calc("+t+"% - 6px)"):(t=n.element.querySelector(".jqx-color-container").offsetHeight,r=n.element.querySelector(".jqx-color-container").offsetWidth,"vertical"===s?e.style.top=0===i?i*t+"px":i*t-5+"px":0===i?e.style.left=i*r+"px":(s=n.paletteSettings.palette.length,t=n.element.querySelector(".jqx-heatmap-grid").offsetWidth,e.style.left="calc("+t/s/t*100*i+"% - 5px)"),e.classList.add("jqx-no-line"))},_showLegendArrow:function(e,t){var i=(t-this._minValue)/(this._maxValue-this._minValue)*100;"Gradient"===this.paletteSettings.type&&t<=this._maxValue&&(this._arrow.style.display="block","vertical"===e?this._arrow.style.top="calc("+i+"% - 6px)":this._arrow.style.left="calc("+i+"% - 6px)")},_setVerticalLegendWidth:function(){this._legend.style.width=15+this._tick.offsetWidth+"px",this._gridXAxisContainer.style.width="calc(100% - "+(this._legend.offsetWidth+15)+"px)"},_setVerticalLegendHeight:function(){var e=this.element.querySelector(".jqx-heatmap-grid").offsetHeight;this._legend.style.height=e+"px"},_setHorizontalLegendWidth:function(){var e=this.element.querySelector(".jqx-y-axis").offsetWidth;this._legend.style.width="calc(100% - "+e+"px)"},_hideCells:function(e){for(var t=this.element.querySelectorAll('.jqx-heatmap-cell[data-color-index="'+e+'"]'),i=0,s=t.length;i<s;i++)t[i].classList.toggle("jqx-heatmap-hidden")},_toggleClass:function(e,t,i){for(var s=this.element.querySelectorAll("."+e),r=0,n=s.length;r<n;r++){var o=s[r];if(i===o.getAttribute("data-value"))return void o.classList.toggle(t)}},_toPx:function(e){return"number"==typeof e?e+"px":e},_getLegendColor:function(e,t){var i=this,s=(e-i._minValue)/(i._maxValue-i._minValue)*149,r=(e-i._minValue)/(i._maxValue-i._minValue)*299,n=null;if(!(e>i._maxValue||e<i._minValue))return"rgba("+(n=("vertical"===t?i._canvasContext.getImageData(0,s,1,1):i._canvasContext.getImageData(r,0,1,1)).data)[0]+", "+n[1]+", "+n[2]+", "+n[3]/255+")"},_getFixedLegendColor:function(e){for(var t=JSON.parse(JSON.stringify(this.paletteSettings.palette)),i=0,s=t.length;i<s;i++){var r=t[i],n=t[i+1];if(n&&(e>=r.value&&e<n.value||e<this._minValue))return r.color;if(!n&&e>=r.value)return r.color}},_setCellsBackground:function(e){for(var t=this.element.querySelectorAll(".jqx-heatmap-cell"),i=0,s=t.length;i<s;i++){var r=t[i],n=t[i].getAttribute("data-value");"null"===n?r.style.background=this.paletteSettings.emptyPointColor:(n="Gradient"===this.paletteSettings.type?this._getLegendColor(n,e):this._getFixedLegendColor(n),r.style.background=n)}},_renderLegendPosition:function(){var e=this;switch(e.legendSettings.position){default:case"Right":e._gridContainerWrapper.style.flexDirection="row",e._renderLegend("vertical"),e._setCellsBackground("vertical");break;case"Left":e._gridContainerWrapper.style.flexDirection="row-reverse",e._renderLegend("vertical"),e._setCellsBackground("vertical");break;case"Top":e._gridContainerWrapper.style.flexDirection="column-reverse",e._renderLegend("horizontal"),e._setCellsBackground("horizontal");break;case"Bottom":e._gridContainerWrapper.style.flexDirection="column",e._renderLegend("horizontal"),e._setCellsBackground("horizontal")}},_reverseXAxisOrigin:function(){this.xAxis.labels.reverse(),this.source.reverse(),this._isXAxisInversed=!this._isXAxisInversed,this.xAxis.minimum&&this.xAxis.maximum&&this._dateArray.reverse()},_reverseYAxisOrigin:function(){this.yAxis.labels.reverse(),this._isYAxisInversed=!this._isYAxisInversed,this._reverseNestedArray(this.source),this.xAxis.minimum&&this.xAxis.maximum&&this._reverseNestedArray(this._dateArray)},_reverseNestedArray:function(e){for(var t=0,i=e.length;t<i;t++)e[t].reverse()},_setAxisOrigin:function(){this.xAxis.isInversed!==this._isXAxisInversed&&this._reverseXAxisOrigin(),this.yAxis.isInversed!==this._isYAxisInversed&&this._reverseYAxisOrigin()},_destroyGrid:function(){i(this._gridContainerWrapper).remove(),this.xAxis.minimum&&this.xAxis.maximum&&(this.xAxis.labels=[])},_destroyTitle:function(){i(this._title).remove()},_renderAllElements:function(){this._renderTitle(),this._getTicksMinMax(),this.xAxis.minimum&&this.xAxis.maximum&&this._getAllDates(),this._renderGrid(),this._renderAllAxis(),this._renderLegendPosition()},_rerender:function(){this._destroyTitle(),this._destroyGrid(),this._renderAllElements(),this._addHandlers()},setLegendPosition:function(e){this.legendSettings.position!==e&&(this.legendSettings.position=e,this._rerender())},setOpposedXAxisPosition:function(e){this.xAxis.opposedPosition!==e&&(this.xAxis.opposedPosition=e,this._rerender())},setOpposedYAxisPosition:function(e){this.yAxis.opposedPosition!==e&&(this.yAxis.opposedPosition=e,this._rerender())},reverseXAxisPosition:function(e){this.xAxis.isInversed=e,this._rerender()},reverseYAxisPosition:function(e){this.yAxis.isInversed=e,this._rerender()},setPaletteType:function(e){this.paletteSettings.type=e,this._rerender()},destroy:function(){this.host.remove()}})}(jqxBaseFramework),!function(n){n.jqx.jqxWidget("jqxTimePicker","",{}),n.extend(n.jqx._jqxTimePicker.prototype,{defineInstance:function(){var e={autoSwitchToMinutes:!1,footer:!1,footerTemplate:null,format:"12-hour",minuteInterval:1,selection:"hour",value:new Date,view:"portrait",width:500,height:500,animation:!0,disabled:!1,readonly:!1,unfocusable:!1,name:"",_events:["change"]};return this===n.jqx._jqxTimePicker.prototype||n.extend(!0,this,e),e},createInstance:function(){this._createTimePicker()},_createTimePicker:function(){this.widgetID=this.element.id;var e=this,t='<div class="'+e.toThemeProperty("jqx-container jqx-rc-all jqx-widget")+'"><div class="'+e.toThemeProperty("jqx-header jqx-unselectable jqx-widget-header")+'"><div class="'+e.toThemeProperty("jqx-hour-minute-container")+'"><div class ="'+e.toThemeProperty("jqx-hour-container")+'"></div><div>:</div><div class="'+e.toThemeProperty("jqx-minute-container")+'"></div></div><div class="'+e.toThemeProperty("jqx-am-pm-container")+'"><div class="'+e.toThemeProperty("jqx-am-container")+'">AM</div><div class="'+e.toThemeProperty("jqx-pm-container")+'">PM</div></div></div><div class="'+e.toThemeProperty("jqx-main-container jqx-widget-content")+'"><div class="'+e.toThemeProperty("jqx-svg-container jqx-item")+'"><div class="'+e.toThemeProperty("jqx-svg-picker jqx-fill-state-normal jqx-item")+'"></div></div><div class="'+e.toThemeProperty("jqx-footer")+'"></div></div><input name="'+this.name+'" type="hidden"></div>';e.element.innerHTML=t,e.element.className+=e.toThemeProperty("jqx-time-picker jqx-rc-all jqx-widget"),e.element.setAttribute("view",e.view),e._container=e.element.getElementsByTagName("div")[0],e._header=e.element.getElementsByClassName("jqx-header")[0],e._hourMinuteContainer=e.element.getElementsByClassName("jqx-hour-minute-container")[0],e._hourContainer=e.element.getElementsByClassName("jqx-hour-container")[0],e._minuteContainer=e.element.getElementsByClassName("jqx-minute-container")[0],e._ampmContainer=e.element.getElementsByClassName("jqx-am-pm-container")[0],e._amContainer=e.element.getElementsByClassName("jqx-am-container")[0],e._pmContainer=e.element.getElementsByClassName("jqx-pm-container")[0],e._main=e.element.getElementsByClassName("jqx-main-container")[0],e._svgContainer=e.element.getElementsByClassName("jqx-svg-container")[0],e._picker=e.element.getElementsByClassName("jqx-svg-picker")[0],e._footer=e.element.getElementsByClassName("jqx-footer")[0],e._hiddenInput=e.element.getElementsByTagName("input")[0],e.footer&&e.element.setAttribute("footer",""),e.readonly&&e.element.setAttribute("readonly",""),e.disabled&&e.element.setAttribute("disabled",""),e.coerce=!0,e.min=0,e._drawMin="0",e.startAngle=-270,e.endAngle=90,e._angleDifference=e.endAngle-e.startAngle,e.ticksVisibility="none",e._tickIntervalHandler={},e._tickIntervalHandler.labelsSize={},e._distance={majorTickDistance:0,minorTickDistance:0,labelDistance:10},e._measurements={},n(e.element).css({width:e.width,height:e.height}),n.jqx.utilities.resize(e.host,function(){e._resizeHandler()}),e._validateInitialPropertyValues(),e._applyInitialSettings(),e._isVisible()?(e._setPickerSize(),n(e._picker).jqxDraw(),e._draw=n(e._picker).jqxDraw("getInstance"),e._getMeasurements(),e._getAngleRangeCoefficient(),e._renderSVG(),e._setFocusable(),e._addEventHandlers()):e._renderingSuspended=!0},_getAngleRangeCoefficient:function(){this._angleRangeCoefficient=this._angleDifference/this._range},_getAngleByValue:function(e,t,i){t=((e=!1!==t&&this.logarithmicScale?Math.log10(e):e)-this._drawMin)*this._angleRangeCoefficient,e=this.inverted?this.startAngle+t:this.endAngle-t;return i?e:e*Math.PI/180+Math.PI/2},_addGaugeTicksAndLabels:function(){var e,t,i,s=this,r=Math.max(s._tickIntervalHandler.labelsSize.minLabelSize,s._tickIntervalHandler.labelsSize.maxLabelSize),n=s._majorTicksInterval,o=s._minorTicksInterval,a={},l=s._distance,d=s._measurements.radius,h=d-l.majorTickDistance,c=d-l.minorTickDistance,u="none"!==s.ticksVisibility&&!1!==s._plotTicks?(e=function(e){s._drawTick(e,h,"major")},function(e){s._drawTick(s._getAngleByValue(e,!0),c,"minor")}):(e=function(){},function(){}),p="none"!==s.labelsVisibility&&!1!==s._plotLabels?function(e,t,i){s._drawLabel(e,t,l.labelDistance,i)}:function(){},d=s.inverted?(t=s.startAngle,s.endAngle):(t=s.endAngle,s.startAngle),m=s._getAngleByValue(s._drawMin,!1),g=(e(m),a[s._drawMin]=!0,p(m,s.min,!1),s._drawMin-s._drawMin%n);0<=s._drawMin&&(g+=n);for(var f=g;f>=s._drawMin;f-=o)i=f;for(e(m=s._getAngleByValue(g,!1)),a[g]=!0,2*Math.PI*s._measurements.innerRadius*(this._getAngleDifference(t,s._getAngleByValue(g,!1,!0))/360)>r&&p(m,s._getActualValue(g),g<s._drawMax),f=g+n;f<s._drawMax-n;f+=n)e(m=s._getAngleByValue(f,!1)),a[f]=!0,p(m,s._getActualValue(f),!0);if(void 0===a[f]&&f<=s._drawMax&&(e(m=s._getAngleByValue(f,!1)),a[f]=!0,2*Math.PI*s._measurements.innerRadius*(this._getAngleDifference(d,s._getAngleByValue(f,!1,!0))/360)>=r&&p(m,s._getActualValue(f),!0),s._normalizedStartAngle!==s.endAngle&&(e(m=s._getAngleByValue(s._drawMax,!1)),a[s._drawMax]=!0,2*Math.PI*s._measurements.innerRadius*(this._getAngleDifference(d,t)/360)>=r&&p(m,s.max,!1))),s.logarithmicScale)this.drawGaugeLogarithmicScaleMinorTicks(a,n,u);else for(var v=i;v<s._drawMax;v+=o)a[v]||u(v)},_getAngleDifference:function(e,t){t=Math.abs(t-e)%360;return 180<t?360-t:t},_getActualValue:function(e){return this.logarithmicScale?Math.pow(10,e):e},_computeArrowBodyPoints:function(e,t,i,s){var r=Math.sin(t),t=Math.cos(t),n=e-i*t+s*r,o=e+i*r+s*t,a=e+i*t+s*r,s=e-i*r+s*t,t="M "+(e+i*t)+","+(e-i*r)+" L "+(e-i*t)+","+(e+i*r)+" L "+n+","+o+" "+a+","+s;return this._headCenter={x:(n+a)/2,y:(o+s)/2},t},_documentMoveHandler:function(e){this._dragging&&this._changeSelection(e,!0)},_documentUpHandler:function(){var e=this;e._dragging&&(e._inInnerCircle=!1,e._dragging=!1,e.autoSwitchToMinutes&&"hour"===e.selection&&(e.animation?(n(e._picker).addClass("animate"),setTimeout(function(){e.selection="minute",e._changeToMinuteSelection()},250),setTimeout(function(){n(e._picker).removeClass("animate")},550)):(e.selection="minute",e._changeToMinuteSelection())))},_drawArrow:function(t,i,e){var s,r,n=this,o="hour"===n.selection,a="12-hour"===n.format,l=n._oldTimePart;delete n._oldTimePart,void 0===i&&(o?(i=n.value.getHours(),a&&12<i&&(i-=12)):i=n.value.getMinutes()),void 0===l||e||!n.animation?n._drawArrowSVG(t,i):o&&!a?n._animate24HourView(l,i):(o?(s=.2,i%=r=12,l%=r):(s=1,r=60),(e=i-l)<0&&(e+=r),(a=l-i)<0&&(a+=r),a<e&&(s*=-1),n._animationFrameId=requestAnimationFrame(function e(){l+=s,(l=parseFloat((l%r).toFixed(1)))<0&&(l+=r),n._drawArrowSVG(t,l),l!==i%r&&(n._animationFrameId=requestAnimationFrame(e))}))},_animate24HourView:function(i,s){var r=this,n=.2,e=(r._inInnerCircle=!1,0===i||12<i),t=0===s||12<s;if(e!=t){if(i=e?Math.abs(i-12):(i+12)%24,r._inInnerCircle=t,r._drawArrowSVG(!0,i),i===s)return}else r._inInnerCircle=t;var e=i,t=s,o=(r._inInnerCircle&&(0===t&&e<18?t=12:0===e&&t<18&&(e=12)),t-e),e=e-t;o<0&&(o+=12),e<0&&(e+=12),e<o&&(n*=-1),r._animationFrameId=requestAnimationFrame(function(){!function e(t){(r._inInnerCircle=t)?((i=parseFloat((i+n).toFixed(1)))<0?i+=24:i<1&&(i+=12),12!==i&&24!==i||(i=0)):(i=12!==(i+=n)?parseFloat((i%12).toFixed(1)):i)<=0&&(i+=12),r._drawArrowSVG(!0,i),i!==s?r._animationFrameId=requestAnimationFrame(function(){e(t)}):r._inInnerCircle=!1}(r._inInnerCircle)})},_drawArrowSVG:function(e,t){var i=this,s=i._measurements,r=i._getAngleByValue(t),r=i._inInnerCircle?i._computeArrowBodyPoints(s.radius,r,1,s.innerRadius-i._largestLabelSize/2-45):i._computeArrowBodyPoints(s.radius,r,1,s.innerRadius-i._largestLabelSize/2);e?(i._arrow.setAttribute("d",r),i._head.setAttribute("cx",i._headCenter.x),i._head.setAttribute("cy",i._headCenter.y),i._head.setAttribute("r",i._largestLabelSize),i._headRect=i._head.getBoundingClientRect(),t%1==0&&i._highlightLabel(t)):(i._arrow=i._draw.path(r,{class:i.toThemeProperty("jqx-needle jqx-widget-header")}),i._head=i._draw.circle(i._headCenter.x,i._headCenter.y,i._largestLabelSize,{class:i.toThemeProperty("jqx-needle-central-circle jqx-widget-header")}),i._headRect=i._head.getBoundingClientRect())},_drawLabel:function(e,t,i){var s=this._measurements,r=s.radius,s={class:this.toThemeProperty("jqx-label jqx-unselectable jqx-item"),"font-size":s.fontSize,"font-family":s.fontFamily,"font-weight":s.fontWeight,"font-style":s.fontStyle},n=("hour"===this.selection?this._plotInnerCircle?0<t?t+=12:t="00":0===t&&(t=12):1===t.toString().length&&(t="0"+t),this._draw.measureText(t,0,s)),i=r-i-this._largestLabelSize/2,o=r+i*Math.sin(e),r=r+i*Math.cos(e);this._draw.text(t,Math.round(o)-n.width/2,Math.round(r)-n.height/2,n.width,n.height,0,s).setAttribute("value",parseFloat(t))},_getCenterCoordinates:function(){var e=this._picker.getBoundingClientRect(),t=this._measurements.radius,i=document.body.scrollLeft||document.documentElement.scrollLeft,s=document.body.scrollTop||document.documentElement.scrollTop;return{x:e.left+i+t,y:e.top+s+t}},_headerClickHandler:function(e){var t,i=this;if(!i.disabled&&!i.readonly)switch(e.target){case i._hourContainer:"hour"!==i.selection&&(i.selection="hour",i._changeToHourSelection());break;case i._minuteContainer:"minute"!==i.selection&&(i.selection="minute",i._changeToMinuteSelection());break;case i._amContainer:n(i._amContainer).hasClass("jqx-selected")||(i._selectAmPm("am"),t=new Date(i.value.getTime()),i.value.setHours(i.value.getHours()-12),i._hiddenInput.value=i.value,i._raiseEvent("0",{value:i.value,oldValue:t}));break;case i._pmContainer:n(i._pmContainer).hasClass("jqx-selected")||(i._selectAmPm("pm"),t=new Date(i.value.getTime()),i.value.setHours(i.value.getHours()+12),i._hiddenInput.value=i.value,i._raiseEvent("0",{value:i.value,oldValue:t}))}},_highlightLabel:function(e){var t,i=this;if(i._highlightedLabel){if(parseFloat(i._highlightedLabel.getAttribute("value"))===e)return;-1<i._highlightedLabel.className.baseVal.indexOf(i.toThemeProperty("jqx-selected"))&&(s=function(e,t){t=new RegExp("\\s?"+t+"\\s?","gm");return e.replace(t,"")}(i._highlightedLabel.className.baseVal,i.toThemeProperty("jqx-selected")),i._highlightedLabel.className.baseVal=s),i._highlightedLabel=void 0}"hour"===i.selection?(void 0===e&&(e=i.value.getHours()),"12-hour"===i.format&&(0===e?e=12:12<e&&(e-=12)),t=e):(void 0===e&&(e=i.value.getMinutes()),60===(t=5*Math.round(e/5))&&(t=0));var s=i._picker.querySelector('.jqx-label[value="'+t+'"]');s&&(t===e||i._overlapsLabel(s))&&((i._highlightedLabel=s).className.baseVal+=" "+i.toThemeProperty("jqx-selected"))},_isVisible:function(){var e=this.host[0];return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},_getMeasurements:function(){var e,t,i,s=this,r=s._measurements,n=document.createElement("div"),o=(n.className="jqx-label",n.style.position="absolute",n.style.visibility="hidden",s._svgContainer.appendChild(n),"hour"===s.selection?(o="1",e="23",s.max=12,s._drawMax="12",s._range=12):(o="00",e="55",s.max=60,s._drawMax="60",s._range=60),n.innerHTML=o,o=n.offsetWidth,t=n.offsetHeight,n.innerHTML=e,e=n.offsetWidth,i=n.offsetHeight,s._largestLabelSize=Math.max(o,t,e,i),s._tickIntervalHandler.labelsSize.minLabelSize=t,s._tickIntervalHandler.labelsSize.maxLabelSize=i,window.getComputedStyle(n));r.fontSize=o.fontSize,r.fontFamily=o.fontFamily,r.fontWeight=o.fontWeight,r.fontStyle=o.fontStyle,s._svgContainer.removeChild(n)},_renderHours:function(){this._highlightedLabel=void 0,this._majorTicksInterval=1,this._addGaugeTicksAndLabels(),"24-hour"===this.format&&(this._plotInnerCircle=!0,this._distance.labelDistance=55,this._addGaugeTicksAndLabels(),this._plotInnerCircle=!1,this._distance.labelDistance=10)},_renderMinutes:function(){this._highlightedLabel=void 0,this._majorTicksInterval=5,this._addGaugeTicksAndLabels()},_renderSVG:function(){var e,t=this;!t._isVisible()||t._renderingSuspended?t._renderingSuspended=!0:(t._centralCircle=t._draw.circle(t._measurements.radius,t._measurements.radius,4,{class:t.toThemeProperty("jqx-needle-central-circle jqx-widget-header")}),"hour"===t.selection&&"24-hour"===t.format&&(0===t.value.getHours()||12<t.value.getHours())&&(t._inInnerCircle=!0),t._drawArrow(!1),t._inInnerCircle=!1,"hour"===t.selection?(t.interval=1,t._renderHours(),e=t.value.getHours(),"12-hour"===t.format&&12<e&&(e-=12),t._highlightLabel(e)):(t.interval=t.minuteInterval,t._renderMinutes(),t._highlightLabel(t.value.getMinutes())))},_selectAmPm:function(e){var t=this;"am"===e?(t._ampm="am",n(t._pmContainer).removeClass(t.toThemeProperty("jqx-selected")),n(t._amContainer).addClass(t.toThemeProperty("jqx-selected"))):(t._ampm="pm",n(t._amContainer).removeClass(t.toThemeProperty("jqx-selected")),n(t._pmContainer).addClass(t.toThemeProperty("jqx-selected")))},_setFocusable:function(){var e=this;if(e.disabled||e.unfocusable)return e._hourContainer.removeAttribute("tabindex"),e._minuteContainer.removeAttribute("tabindex"),e._amContainer.removeAttribute("tabindex"),e._pmContainer.removeAttribute("tabindex"),void e._picker.removeAttribute("tabindex");var t=0<e.tabIndex?e.tabIndex:0;e._hourContainer.tabIndex=t,e._minuteContainer.tabIndex=t,e._amContainer.tabIndex=t,e._pmContainer.tabIndex=t,e._picker.tabIndex=t},_setPickerSize:function(){var e=this,t=e._svgContainer.offsetWidth,i=e._svgContainer.offsetHeight,t=.9*Math.min(t,i);void 0!==e._pickerSize&&e._pickerSize!==t?e._sizeChanged=!0:e._sizeChanged=!1,e._pickerSize=t,e._measurements.radius=t/2,e._measurements.innerRadius=e._measurements.radius-10,e._picker.style.width=t+="px",e._picker.style.height=t},refresh:function(e){!0!==e&&this.render()},setHours:function(e){var t=this;if(null==e||isNaN(e)&&0==Object.keys(e).length)throw"The setHours method required a parameter. Its type should be number.";(e=24===e?0:Math.max(0,Math.min(e,23)))<12?t._selectAmPm("am"):t._selectAmPm("pm"),"12-hour"===t.format&&(0===e?e=12:12<e&&(e-=12)),t._updateHours(e,arguments[1]),"hour"===t.selection&&(t._inInnerCircle="24-hour"===t.format&&(0===e||12<e),t._drawArrow(!0,e,arguments[2]),t.animation||(t._inInnerCircle=!1))},setMinutes:function(e){if(null==e||isNaN(e)&&0==Object.keys(e).length)throw"The setMinutes method required a parameter. Its type should be number.";e=60===e?0:Math.max(0,Math.min(e,59)),this._updateMinutes(e),"minute"===this.selection&&this._drawArrow(!0,e,arguments[1])},propertyChangedHandler:function(e,t,i,s){var r=e;if(i!=s||s instanceof Object)switch(t){case"disabled":r.disabled?(r.host.addClass(r.toThemeProperty("jqx-fill-state-disabled")),r.element.setAttribute("disabled","")):(r.host.removeClass(r.toThemeProperty("jqx-fill-state-disabled")),r.element.removeAttribute("disabled")),r._setFocusable();break;case"footer":case"view":r._resizeHandler();break;case"footerTemplate":r._validateFooterTemplate();break;case"format":var n=r.value.getHours();"12-hour"===s?(r._ampmContainer.removeClass("jqx-hidden"),r.value.getHours()<12?r._selectAmPm("am"):r._selectAmPm("pm"),0===n?n=12:12<n&&(n-=12)):r._ampmContainer.addClass("jqx-hidden"),r._hourContainer.innerHTML=n,"hour"===r.selection&&(r._draw.clear(),r._renderSVG());break;case"minuteInterval":n=Math.max(1,Math.min(s,60));n!==s&&(r.minuteInterval=n),"minute"===r.selection&&(r.interval=n);break;case"selection":"hour"===s?r._changeToHourSelection():r._changeToMinuteSelection();break;case"value":r._oldValue=i,r._validateValue();var n=r.value.getHours()===i.getHours(),o=r.value.getMinutes()===i.getMinutes();n&&o||(o?r.setHours(r.value.getHours()):(n||r.setHours(r.value.getHours(),!0),r.setMinutes(r.value.getMinutes()))),delete r._oldValue}},_applyInitialSettings:function(){var e=this,t=e.value,i=t.getHours(),t=t.getMinutes();"12-hour"===e.format?i<12?(e._ampm="am",e._amContainer.className+=" "+e.toThemeProperty("jqx-selected"),0===i&&(i=12)):(e._ampm="pm",e._pmContainer.className+=" "+e.toThemeProperty("jqx-selected"),12<i&&(i-=12)):e._ampmContainer.className+=" "+e.toThemeProperty("jqx-hidden"),1===(t=t.toString()).length&&(t="0"+t),e._hourContainer.innerHTML=i,e._minuteContainer.innerHTML=t,"hour"===e.selection?e._hourContainer.className+=" "+e.toThemeProperty("jqx-selected"):e._minuteContainer.className+=" "+e.toThemeProperty("jqx-selected")},_getValueByAngle:function(e,t){for(var i,s=this.inverted?(i=e,this._normalizedStartAngle):(i=this.endAngle,e);i<s;)i+=360;if(e=(i-s)/this._angleDifference*this._range+parseFloat(this._drawMin),this.logarithmicScale){if(this.customInterval)return parseFloat(Math.pow(10,this.getCoercedValue(e,!0)).toFixed(12));e=Math.pow(10,e)}return t&&!this.coerce?Math.round(e):this._getCoercedValue(e,!1)},_getCoercedValue:function(e,t,i){if(!this.coerce)return e;var s=!this.logarithmicScale,r=parseFloat(this.min),n=parseFloat(this.max),o=e-r,a=o%parseFloat(this.interval);if(0==a)return e;var a=parseFloat((o-a).toFixed(12)),l=a+parseFloat(this.interval);return this.max-this.min<=parseFloat(this.interval)&&s?r+(n-r)/2<=e?n:r:Math.abs(o-a)<Math.abs(o-l)||n<(s=l+r)?a+r:s},_changeSelection:function(e,t){var i=this,s=e.pageX,r=e.pageY,n=i._getCenterCoordinates(),o=Math.sqrt(Math.pow(n.x-s,2)+Math.pow(n.y-r,2));if(i._measurements.center=n,"mousedown"===e.type){if(o>i._measurements.radius)return void e.stopPropagation();i._dragging=!0}"24-hour"===i.format&&"hour"===i.selection&&o<i._measurements.radius-50?i._inInnerCircle=!0:i._inInnerCircle=!1;e=-1*Math.atan2(r-n.y,s-n.x)*180/Math.PI,e<0&&(e+=360),i._angle=e,o=i._getValueByAngle(i._angle);"hour"===i.selection?("24-hour"===i.format&&i._inInnerCircle?0!==o&&12!==o?o+=12:o=0:0===o&&(o=12),i._updateHours(o)):i._updateMinutes(o=60===o?0:o),void 0!==i._oldTimePart&&(cancelAnimationFrame(i._animationFrameId),i._drawArrow(!0,o,t))},_changeToHourSelection:function(){var e=this,t=e._centralCircle.parentElement||e._centralCircle.parentNode;cancelAnimationFrame(e._animationFrameId),e.interval=1,n(e._hourContainer).addClass(e.toThemeProperty("jqx-selected")),n(e._minuteContainer).removeClass(e.toThemeProperty("jqx-selected")),t.removeChild(e._centralCircle),t.removeChild(e._arrow),t.removeChild(e._head),e._getMeasurements(),e._getAngleRangeCoefficient(),e._draw.clear(),t.appendChild(e._centralCircle),t.appendChild(e._arrow),t.appendChild(e._head),e._renderHours(),"24-hour"===e.format&&(0===e.value.getHours()||12<e.value.getHours())&&(e._inInnerCircle=!0),e._drawArrow(!0,void 0,!0),e._inInnerCircle=!1},_changeToMinuteSelection:function(){var e=this,t=e._centralCircle.parentElement||e._centralCircle.parentNode;e._inInnerCircle=!1,cancelAnimationFrame(e._animationFrameId),e.interval=e.minuteInterval,n(e._hourContainer).removeClass(e.toThemeProperty("jqx-selected")),n(e._minuteContainer).addClass(e.toThemeProperty("jqx-selected")),t.removeChild(e._centralCircle),t.removeChild(e._arrow),t.removeChild(e._head),e._getMeasurements(),e._getAngleRangeCoefficient(),e._draw.clear(),t.appendChild(e._centralCircle),t.appendChild(e._arrow),t.appendChild(e._head),e._renderMinutes(),e._drawArrow(!0,void 0,!0)},_overlapsLabel:function(e){var e=e.getBoundingClientRect(),t=this._headRect;return!(e.right-10<t.left||e.left+10>t.right||e.bottom-10<t.top||e.top+10>t.bottom)},_parseDateString:function(e,t){var i=e.indexOf("Date("),s=e.indexOf(")"),r=e;if(-1!==i&&-1!==s){if(""===(r=(r=e.slice(i+5,s)).replace(/'/g,"").replace(/"/g,"").replace(/^\s+|\s+$|\s+(?=\s)/g,"")).trim())return new Date;if(new RegExp(/(^(\d+)(\s*,\s*\d+)+$)/g).test(r))return(r=(r=r.replace(/\s/g,"")).split(",")).map(function(e,t){r[t]=parseInt(e)}),r.unshift(null),r=new(Function.prototype.bind.apply(Date,r))}if(""===r.trim())return t;if(!isNaN(r))return new Date(parseInt(r,10));try{r=new Date(r)}catch(e){r=t}return isNaN(r.getTime())?t:r},_updateHours:function(e,t){var i=this,s=e,r=("12-hour"===i.format?"am"===i._ampm?12===s&&(s=0):s<12&&(s+=12):s=e,void 0!==i._oldValue?i._oldValue:new Date(i.value.getTime())),n=r.getHours();s===n?delete i._oldTimePart:(i._oldTimePart=n,void 0===i._oldValue&&i.value.setHours(s),i._hourContainer.innerHTML=e,!0!==t&&(i._hiddenInput.value=i.value,i._raiseEvent("0",{value:i.value,oldValue:r})))},_updateMinutes:function(e){var t=this,i=void 0!==t._oldValue?t._oldValue:new Date(t.value.getTime()),s=i.getMinutes();e===s?delete t._oldTimePart:(t._oldTimePart=s,void 0===t._oldValue&&t.value.setMinutes(e),1===(e=e.toString()).length&&(e="0"+e),t._minuteContainer.innerHTML=e,t._hiddenInput.value=t.value,t._raiseEvent("0",{value:t.value,oldValue:i}))},_validateFooterTemplate:function(){var e,t=this.footerTemplate,i=window.navigator.userAgent,i=-1<i.indexOf("MSIE")||-1<i.indexOf("NET");if(null===t||i)this._footer.innerHTML="";else{if(t instanceof HTMLTemplateElement?e=t:"string"!=typeof t||(e=document.getElementById(t))instanceof HTMLTemplateElement||(e=void 0),void 0===e)return this.footerTemplate=null,void(this._footer.innerHTML="");i=document.importNode(e.content,!0);this._footer.appendChild(i)}},_validateInitialPropertyValues:function(){this._validateFooterTemplate(),this.minuteInterval=Math.max(1,Math.min(this.minuteInterval,60)),this._validateValue()},_validateValue:function(){var e,t=this.value,i=void 0!==this._oldValue?this._oldValue:new Date;if(!(t instanceof Date))if("string"==typeof t){if(/^\d{1,2}:\d{1,2}$/.test(t))return e=t.split(":"),void(this.value=new Date(i.getFullYear(),i.getMonth(),i.getDate(),parseFloat(e[0]),parseFloat(e[1])));this.value=this._parseDateString(t,i)}else this.value=i},destroy:function(){this._removeEventHandlers(),this._draw.clear(),this.host.removeData(),this.host.removeClass(),this.host.remove(),delete this.element,delete this.host},_keydownHandler:function(e){var t,i,s,r=this;r._dragging||(t=r.enableShadowDOM&&r.shadowRoot.activeElement||document.activeElement,s=e.key,!r._header.contains(t)||"Enter"!==s&&" "!==s?t!==r._picker||e.altKey||("ArrowRight"===s||"ArrowUp"===s?i=1:"ArrowLeft"!==s&&"ArrowDown"!==s||(i=-1),i&&(e.preventDefault(),"hour"===r.selection?(0===(s=r.value.getHours())&&-1===i?s=23:23===s&&1===i?s=0:s+=i,"12-hour"===r.format&&(12<=s&&n(r._amContainer).hasClass("jqx-selected")?s-=12:s<12&&n(r._pmContainer).hasClass("jqx-selected")&&(s+=12)),r.setHours(s,void 0,!0)):(60<=(s=r.value.getMinutes())+(i*=r.minuteInterval)?s=0:s<-1*i?s=60%i==0?60+i:60-60%i:s+=i,r.setMinutes(s,!0)))):(e.preventDefault(),r._headerClickHandler({target:t})))},_resizeHandler:function(){var e=this,t=!1;e._isVisible()?(t=!(e._renderingSuspended=!1),e._getMeasurements(),e._getAngleRangeCoefficient(),e._setPickerSize(),e._sizeChanged||t?(e._draw.clear(),e._renderSVG(),e._sizeChanged=!1,e._draw.refresh()):(e._headRect=e._head.getBoundingClientRect(),e._highlightLabel())):e._renderingSuspended=!0},_pickerDownHandler:function(e){this.disabled||this.readonly||!jqx.mobile.isTouchDevice()&&1!==e.which||this._changeSelection(e)},_pickerMoveHandler:function(e){},_addEventHandlers:function(){var e=this;e.addHandler(n(e.element),"keydown.timepicker"+e.widgetID,e._keydownHandler.bind(this)),e.addHandler(n(e.element),"resize.timepicker"+e.widgetID,e._resizeHandler.bind(this)),e.addHandler(n(e._header),"click.timepicker"+e.widgetID,e._headerClickHandler.bind(this)),e.addHandler(n(e._picker),"mousedown.timepicker"+e.widgetID,e._pickerDownHandler.bind(this)),e.addHandler(n(document),"mousemove.timepicker"+e.widgetID,e._documentMoveHandler.bind(this)),e.addHandler(n(document),"mouseup.timepicker"+e.widgetID,e._documentUpHandler.bind(this))},_removeEventHandlers:function(){var e=this;e.removeHandler(n(e.element),"keydown.timepicker"+e.widgetID),e.removeHandler(n(e.element),"resize.timepicker"+e.widgetID),e.removeHandler(n(e._header),"click.timepicker"+e.widgetID),e.removeHandler(n(e._picker),"mousedown.timepicker"+e.widgetID),e.removeHandler(n(e._picker),"mousemove.timepicker"+e.widgetID),e.removeHandler(n(document),"mousemove.timepicker"+e.widgetID),e.removeHandler(n(document),"mouseup.timepicker"+e.widgetID)},_raiseEvent:function(e,t){var i,e=this._events[e],e=new n.Event(e);e.owner=this,e.args=t;try{i=this.host.trigger(e)}catch(e){}return i},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e}})}(jqxBaseFramework),window.JQX||(window.JQX={Utilities:{Core:{isMobile:function(){var e=/(iphone|ipod|ipad|android|iemobile|blackberry|bada)/.test(window.navigator.userAgent.toLowerCase());return e||["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}}}});var LayoutItem=function(){_inherits(i,_wrapNativeSuper(HTMLElement));var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this))._properties={min:50,label:"Item",modifiers:["resize","drag","close"],size:null},e}return _createClass(i,[{key:"_setProperty",value:function(e,t){var i=this;i._properties[e]!==t&&(i._properties[e]=t,i._updating=!0,"disabled"===e||"modifiers"===e?t?i.setAttribute(e,t):i.removeAttribute(e):null===t?i.removeAttribute(e):i.setAttribute(e,t),i.isCompleted&&((e=i.closest("jqx-layout"))&&!e._resizeDetails&&!e._updating&&e.isRendered&&e.refresh(),i._updating=!1))}},{key:"label",get:function(){return this._properties.label},set:function(e){this._setProperty("label",e)}},{key:"modifiers",get:function(){return this._properties.modifiers},set:function(e){this._setProperty("modifiers",e)}},{key:"min",get:function(){return this._properties.min},set:function(e){this._setProperty("min",e)}},{key:"size",get:function(){return this._properties.size},set:function(e){null===e||"string"==typeof e?this._setProperty("size",e):this._setProperty("size",Math.max(this.min,e))}},{key:"attributeChangedCallback",value:function(e,t,i){t!==i&&this.isCompleted&&("size"===e?this._updating||(this[e]=null===i?null:Math.max(this.min,parseInt(i))):this[e]=i)}},{key:"connectedCallback",value:function(){this.isCompleted||this.render()}},{key:"whenRendered",value:function(e){this.isRendered?e():(this.whenRenderedCallbacks||(this.whenRenderedCallbacks=[]),this.whenRenderedCallbacks.push(e))}},{key:"render",value:function(){var e=this;e.hasAttribute("data-id")||e.setAttribute("data-id","id"+Math.random().toString(16).slice(2)),e.hasAttribute("label")||e.setAttribute("label",e.label),e.hasAttribute("min")||e.setAttribute("min",e.min),e.hasAttribute("label")||e.setAttribute("label",e.label),e.hasAttribute("modifiers")||e.setAttribute("modifiers",e.modifiers);for(var t=0;t<e.attributes.length;t++){var i=e.attributes[t],s=i.name,i=i.value;isNaN(i)||"min"!==s&&"size"!==s?e._properties[s]=i:e._properties[s]=parseInt(i)}if(e.classList.add("jqx-layout-item"),e.isCompleted=!0,e.whenRenderedCallbacks){for(t=0;t<e.whenRenderedCallbacks.length;t++)e.whenRenderedCallbacks[t]();e.whenRenderedCallbacks=[]}}}],[{key:"observedAttributes",get:function(){return["min","size","label","modifiers"]}}]),i}(),LayoutGroup=function(){_inherits(i,LayoutItem);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this))._properties.label="Group",e._properties.orientation="vertical",e}return _createClass(i,[{key:"orientation",get:function(){return this._properties.orientation},set:function(e){this._setProperty("orientation",e)}},{key:"render",value:function(){_get(_getPrototypeOf(i.prototype),"render",this).call(this),this.className="jqx-layout-group",this.hasAttribute("orientation")?this._properties.orientation=this.getAttribute("orientation"):this.setAttribute("orientation",this._properties.orientation)}}],[{key:"observedAttributes",get:function(){return["min","size","modifiers","orientation","position"]}}]),i}(),TabLayoutGroup=function(){_inherits(i,LayoutGroup);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this))._properties.position="top",e._properties.label="TabGroup",e}return _createClass(i,[{key:"position",get:function(){return this._properties.position},set:function(e){this._setProperty("position",e)}},{key:"render",value:function(){_get(_getPrototypeOf(i.prototype),"render",this).call(this),!this.hasAttribute("position")&&this.position&&this.setAttribute("position","top")}}],[{key:"observedAttributes",get:function(){return["min","size","modifiers","orientation","position"]}}]),i}(),TabLayoutItem=function(){_inherits(i,LayoutGroup);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this))._properties.label="TabItem",e}return i}(),SplitLayout=(!function(t){t.jqx.jqxWidget("jqxSplitLayout","",{}),t.extend(t.jqx._jqxSplitLayout.prototype,{defineInstance:function(){var e={dataSource:null,ready:null,orientation:"vertical"};return this===t.jqx._jqxSplitLayout.prototype||t.extend(!0,this,e),e},createInstance:function(){var e=this;this._properties={dataSource:null,ready:null,orientation:"vertical"},(e=this).layout=document.createElement("jqx-split-layout"),e.layout.style.width="100%",e.layout.style.height="100%",e.element.className+=e.toThemeProperty("jqx-split-layout-component jqx-rc-all jqx-widget"),e.layout.dataSource=e.dataSource,e.layout.orientation=e.orientation,e.layout.ready=e.ready,e.element.appendChild(e.layout)},propertyChangedHandler:function(e,t,i,s){(i!=s||s instanceof Object)&&e.layout&&(e.layout[t]=s)},render:function(){this.layout&&this.layout.render()},refresh:function(){this.layout&&this.layout.isRendered&&this.layout.refresh()},dataBind:function(){this.layout&&this.layout.dataBind()}})}(jqxBaseFramework),function(){_inherits(s,_wrapNativeSuper(HTMLElement));var t=_createSuper(s);function s(){var e;return _classCallCheck(this,s),(e=t.call(this))._properties={dataSource:null,orientation:"vertical"},e}return _createClass(s,[{key:"orientation",get:function(){return this._properties.orientation},set:function(e){this._properties.orientation=e}},{key:"dataSource",get:function(){return this._properties.dataSource},set:function(e){this._properties.dataSource=e}},{key:"_dragStart",value:function(e){e.stopPropagation(),e.preventDefault()}},{key:"_leaveHandler",value:function(){this._resizeDetails||(this._handleButtonsVisibility(null),this._hideSplitter(),requestAnimationFrame(function(){}))}},{key:"_enterHandler",value:function(){var e=this;e._resizeDetails||(e._handleButtonsVisibility(e._selectedItem),e._updateSplitter(),requestAnimationFrame(function(){e.classList.add("outline")}))}},{key:"template",value:function(){return'<div class="jqx-container" id="container" role="presentation"><jqx-layout-group data-id="root" id="itemsContainer"></jqx-layout-group><div root-splitter id="splitter" class="jqx-layout-splitter"></div>'}},{key:"propertyChangedHandler",value:function(e,t,i){switch(e){case"orientation":this.$.itemsContainer&&(this.$.itemsContainer.orientation=this.orientation);break;case"dataSource":this.dataBind();break;case"selectedIndex":this._handleItemClick(this.getItem(i+""),!0);break;default:_get(_getPrototypeOf(s.prototype),"propertyChangedHandler",this).call(this,e,t,i)}}},{key:"dataBind",value:function(){var m=this.$.itemsContainer.innerHTML="";(function e(t,i){for(var s=0;s<t.length;s++){var r=t[s],n=r.size,o=r.min,a=r.modifiers,l=r.type,d=r.position,h=r.orientation||"vertical",c=r.id,u=r.label,p="";void 0!==c&&(p+='id="'.concat(c,'" ')),void 0!==n&&(p+='size="'.concat(n,'" ')),void 0!==u&&(p+='label="'.concat(u,'" ')),void 0!==o&&(p+='min="'.concat(o,'" ')),void 0!==a&&(p+='modifiers="'.concat(a,'" ')),void 0!==d&&(p+='position="'.concat(d,'" ')),r.items?(p+="orientation=".concat(h," "),"tabs"===l?(m+="<jqx-tab-layout-group ".concat(p,">"),e(r.items,!0),m+="</jqx-tab-layout-group>"):(m+="<jqx-layout-group ".concat(p,">"),e(r.items),m+="</jqx-layout-group>")):(c=r.content||"",i?m+="<jqx-tab-layout-item ".concat(p,">")+c+"</jqx-tab-layout-item>":"tabs"===l?m=(m+="<jqx-tab-layout-group>")+("<jqx-tab-layout-item ".concat(p,">")+c)+"</jqx-tab-layout-item></jqx-tab-layout-group>":m+="<jqx-layout-item ".concat(p,">")+c+"</jqx-layout-item>")}})(this.dataSource),this.$.itemsContainer.innerHTML=m,this.refresh()}},{key:"render",value:function(){function e(){t.dataSource?t.dataBind():t.dataSource=t._getDataSource(t._getLayout()),t.$.itemsContainer.orientation=t.orientation,t.refresh(),t._updateSplitter(),t.isRendered=!0,t.classList.add("outline"),t.ready&&t.ready()}var t=this;t.setAttribute("role","group"),t.selectedIndex&&t._handleItemClick(t.getItem(t.selectedIndex+""),!0);"complete"===document.readyState?e():window.addEventListener("load",function(){e()})}},{key:"connectedCallback",value:function(){function e(){for(var e=document.createDocumentFragment();t.childNodes.length;)e.appendChild(t.firstChild);t.innerHTML=t.template(),t.classList.add("jqx-widget"),t.$={container:t.querySelector("#container"),itemsContainer:t.querySelector("#itemsContainer"),splitter:t.querySelector("#splitter")},delete t.$.container.id,delete t.$.itemsContainer.id,delete t.$.splitter.id,t.$.itemsContainer.appendChild(e),t.classList.add("jqx-split-layout"),document.addEventListener("pointerdown",function(e){t._documentDownHandler(e)}),document.addEventListener("pointermove",function(e){t._documentMoveHandler(e)}),document.addEventListener("pointerup",function(e){t._documentUpHandler(e)}),document.addEventListener("selectstart",function(e){t._documentSelectStartHandler(e)}),document.addEventListener("keyup",function(e){t._keyUpHandler(e)}),t.addEventListener("mouseleave",function(e){t._leaveHandler(e)}),t.addEventListener("mouseenter",function(e){t._enterHandler(e)}),t.addEventListener("dragStart",function(e){t._dragStart(e)}),t.render()}var t=this;"complete"===document.readyState?e():window.addEventListener("load",function(){e()})}},{key:"getItem",value:function(e){if(null!=e){e=(e+"").split(".");for(var t,i=this._getDataSource(this._getLayout()),s=0;s<e.length&&(t=i[e[s]]);s++)i=t.items;return t}}},{key:"_documentDownHandler",value:function(e){e=e.target;this.contains(e)&&e.closest&&(this._target=e,this._updateSplitter())}},{key:"_documentMoveHandler",value:function(h){var c=this,e=h.target,t=c._contextMenu;if(t&&!JQX.Utilities.Core.isMobile){if(t.querySelector(".jqx-layout-context-menu-item[hover]"))for(var i=t.children,s=0;s<i.length;s++)i[s].removeAttribute("hover");t.contains(e)&&e.closest&&e.closest(".jqx-layout-context-menu-item")&&e.setAttribute("hover","")}if(c._dragDetails){var r=Math.abs(c._dragDetails.pageX-h.pageX);if((m=Math.abs(c._dragDetails.pageY-h.pageY))<=5&&r<=5)return;c._dragDetails.feedback.parentElement||(document.body.appendChild(c._dragDetails.feedback),document.body.appendChild(c._dragDetails.overlay),setTimeout(function(){c._dragDetails.feedback.classList.add("dragging")},100)),c._dragDetails.dragging=!0,c._dragDetails.feedback.style.left=h.pageX-c._dragDetails.feedback.offsetWidth/2-5+"px",c._dragDetails.feedback.style.top=h.pageY-c._dragDetails.feedback.offsetHeight/2-5+"px";for(var n=document.elementsFromPoint(h.pageX,h.pageY),o=null,a=!1,s=0;s<n.length;s++){var l=n[s];if(!c._dragDetails.feedback.contains(l)){if(l.classList.contains("jqx-layout-tab-strip")){if(c._dragDetails.element.contains(l))continue;o=l.parentElement,a=!0;break}if((l.parentElement!==c._dragDetails.parent&&l!==c._dragDetails.parent||1!==c._dragDetails.layoutGroup.items.length)&&!c._dragDetails.element.contains(l)){if(l instanceof TabLayoutItem){o=l.parentElement;break}if(l instanceof TabLayoutGroup){o=l;break}}}}function d(e,t){for(var i=c.offset(e),s=null,r=50,n=t,o=t,a=(t?r=0:(o=e.offsetWidth/3,n=e.offsetHeight/3),[{left:i.left,top:i.top,right:i.left+r,bottom:i.top+r,position:"top"},{left:i.left+r,top:i.top,right:i.left+e.offsetWidth-r,bottom:i.top+n-r,position:"top"},{left:i.left+e.offsetWidth-r,top:i.top,right:i.left+e.offsetWidth,bottom:i.top+r,position:"top"},{left:i.left,top:i.top+r,right:i.left+o,bottom:i.top+e.offsetHeight-r,position:"left"},{left:i.left+e.offsetWidth-o,top:i.top+r,right:i.left+e.offsetWidth,bottom:i.top+e.offsetHeight-r,position:"right"},{left:i.left,top:i.top+e.offsetHeight-r,right:i.left+r,bottom:i.top+e.offsetHeight,position:"bottom"},{left:i.left+r,top:i.top+e.offsetHeight-n+r,right:i.left+e.offsetWidth-r,bottom:i.top+e.offsetHeight,position:"bottom"},{left:i.left+e.offsetWidth-r,top:i.top+e.offsetHeight-r,right:i.left+e.offsetWidth,bottom:i.top+e.offsetHeight,position:"bottom"}]),l=0;l<a.length;l++){var d=a[l];if(d.left<=h.pageX&&h.pageX<=d.right&&d.top<=h.pageY&&h.pageY<=d.bottom){s=d.position;break}}return s}var t=c.querySelector("jqx-layout-group"),e=d(t,10),u=null;e?u=t:o?a?o!==c._dragDetails.parent&&(e="center",u=o):(e=d(o)||"center",u=o):c._handleDropArea(null),u&&(c._dragDetails.current=u,c._dragDetails.position=e,c._handleDropArea(u,e))}if(c._resizeDetails){function p(e){e.classList.contains("jqx-visibility-hidden")||(e.style.right="",e.style.top="",e.style.left="",e.style.bottom="")}var r=Math.abs(c._resizeDetails.clientX-h.clientX),m=Math.abs(c._resizeDetails.clientY-h.clientY),t=c._resizeDetails.splitter,u=c._resizeDetails.item,e=c._resizeDetails.itemRect,g=c._resizeDetails.previousItemRect,f=c._resizeDetails.previousItem,v=c._resizeDetails.nextItemRect,x=c._resizeDetails.nextItem,y=parseInt(u.getAttribute("min"));if(p(t),p(c.$.splitter),t.classList.remove("error"),t.classList.add("active"),!c._resizeDetails.dragging){if(t.classList.contains("horizontal")&&m<=5)return;if(t.classList.contains("vertical")&&r<=5)return;c._resizeDetails.dragging=!0}var w,b,_,q,m={clientPos:"clientX",pos:"x",size:"width",near:"left",far:"right",offsetSize:"offsetWidth"};t.classList.contains("horizontal")&&(m={clientPos:"clientY",pos:"y",size:"height",near:"top",far:"bottom",offsetSize:"offsetHeight"});t.classList.contains("last")?(w=h[m.clientPos]-c._resizeDetails.splitterRect[m.pos],(_=e[m.size]-y)<w&&(w=_,t.classList.add("error")),g&&(y=parseInt(f.getAttribute("min")),w<-(b=g[m.size]-y)&&(w=-b,t.classList.add("error"))),t.style[m.near]=w+"px",q=u[m.offsetSize]-w,u.setAttribute("size",q),f&&(r=u[m.offsetSize]+f[m.offsetSize]-q,f.setAttribute("size",r))):(w=-h[m.clientPos]+c._resizeDetails.splitterRect[m.pos],(b=e[m.size]-y)<w&&(w=b,t.classList.add("error")),v&&(y=parseInt(x.getAttribute("min")),w<(_=-v[m.size]+y)&&(w=_,t.classList.add("error"))),t.style[m.far]=w+"px",q=u[m.offsetSize]-w,u.setAttribute("size",q),x&&(g=x[m.offsetSize]+u[m.offsetSize]-q,x.setAttribute("size",g))),f=t,r=c.offset(f),(e=c.offset(c)).left++,e.top++,c.$.splitter.style.width=f.offsetWidth+"px",c.$.splitter.style.height=f.offsetHeight+"px",c.$.splitter.className=f.className,c.$.splitter.style.left=r.left-e.left+"px",c.$.splitter.style.top=r.top-e.top+"px",f.setAttribute("drag",""),c.$.splitter.setAttribute("drag","")}}},{key:"_offsetTop",value:function(e){return e?e.offsetTop+this._offsetTop(e.offsetParent):0}},{key:"_offsetLeft",value:function(e){return e?e.offsetLeft+this._offsetLeft(e.offsetParent):0}},{key:"offset",value:function(e){return{left:this._offsetLeft(e),top:this._offsetTop(e)}}},{key:"_keyUpHandler",value:function(e){var t,i=this;"Escape"===e.key?(i._dragDetails&&(i._dragDetails.feedback.remove(),i._dragDetails.overlay.remove(),i._dragDetails=null,i._handleDropArea(null)),i._resizeDetails&&((t=i._resizeDetails).splitter.classList.contains("last")?t.previousItem.size=t.previousItemSize:t.nextItem.size=t.nextItem.previousItemSize,t.item.size=t.itemSize,i.refresh(),i._handleItemClick(t.item),i._resizeDetails=null)):"Delete"===e.key&&i._selectedItem&&i._removeLayoutItem(i._selectedItem)}},{key:"_endDrag",value:function(){var e,t,i,s,r,n=this;n._handleDropArea(null),n._dragDetails.dragging&&(i=n._dragDetails.current,e=n._dragDetails.element,t=n._dragDetails.position,n._handleDropArea(null),i&&(n._addTabLayoutItem(i,t,e),n._removeLayoutItem(e),i.parentElement&&1===Array.from(i.parentElement.parentElement.children).filter(function(e){return!!e.classList.contains("jqx-layout-group")}).length&&(s=(i=(t=i.parentElement).parentElement).parentElement,"root"!==i.getAttribute("data-id")&&"root"!==s.getAttribute("data-id")&&s!==n&&(0<=(r=Array.from(s.children).indexOf(t.parentElement))?s.insertBefore(t,s.children[r]):s.appendChild(t),i.remove())),n.refresh(),n._updateSplitter(),requestAnimationFrame(function(){n.classList.add("outline"),n.querySelectorAll(".jqx-element").forEach(function(e){n.dispatchEvent(new CustomEvent("resize"))})})),n.dispatchEvent(new CustomEvent("stateChange",{type:"insert",item:e})),n._dragDetails.feedback.remove(),n._dragDetails.overlay.remove()),n._dragDetails=null}},{key:"_documentUpHandler",value:function(e){var t,i=this,s=JQX.Utilities.Core.isMobile,r=s?document.elementFromPoint(e.pageX-window.pageXOffset,e.pageY-window.pageYOffset):e.target;if(2!==e.button){if(i._dragDetails&&i._endDrag(e),i._resizeDetails)return(t=i._resizeDetails).item&&(t.item.style.overflow=""),t.previousItem&&(t.previousItem.style.overflow=""),t.nextItem&&(t.nextItem.style.overflow=""),i.refresh(),i._handleItemClick(t.item),i._resizeDetails=null,window.dispatchEvent(new Event("resize")),void i.querySelectorAll(".jqx-element").forEach(function(e){e.dispatchEvent(new CustomEvent("resize"))});i.contains(r)&&(i.classList.add("outline"),i._target&&!r.item&&(r instanceof TabLayoutItem?i._handleItemClick(r):i._handleItemClick(r.closest(".jqx-layout-item"))),i._target&&(i._target===r&&(!e.button&&r.closest(".jqx-layout-buttons-container")?(t=e.target,i._handleButtonClick(t.item,t.position)):r.closest(".jqx-layout-context-menu")&&(!s&&!e.button||s)&&i._handleMenuItemClick(r.closest(".jqx-layout-context-menu-item"))),delete i._target))}}},{key:"_documentSelectStartHandler",value:function(e){this._target&&e.preventDefault()}},{key:"_getDataSource",value:function(e,t,i){var s=[];i=i||0,t=t||"";for(var r=0;r<e.length;r++){var n,o=e[r],a={label:o.label,id:o.getAttribute("data-id"),orientation:o.orientation,size:o.size,min:o.min,type:o.type,modifiers:o.modifiers,position:o.position};o.removeAttribute("index"),o instanceof LayoutGroup?(s.push(a),a.index=""!==t?t+"."+i:i.toString(),o.setAttribute("index",a.index),o.items&&(n=this._getDataSource(o.items,a.index,0),a.items=n)):o instanceof LayoutItem&&(o.items?(n=this._getDataSource(o.items,t,i),s=s.concat(n)):(a.index=""!==t?t+"."+i:i.toString(),o.setAttribute("index",a.index),s.push(a))),i++}return s}},{key:"_getLayout",value:function(){for(var i=this,t=arguments.length?arguments[0]:i.$.itemsContainer,e=(i._buttons&&i._buttons.remove(),i._dropArea&&i._dropArea.remove(),i.querySelectorAll(".jqx-layout-splitter")),s=0;s<e.length;s++){var r=e[s];r!==i.$.splitter&&r.remove()}t.items=Array.from(t.children),t.items=t.items.filter(function(e){return e!==t.tabs&&e.hasAttribute("data-id")});var n=t.items.map(function(e){if(e.classList.contains("jqx-layout-tab-strip"))return null;var t=e,e=e instanceof LayoutGroup?e:null;return e&&(t.items=i._getLayout(e)),t});if(t!==i.$.itemsContainer)return n.filter(function(e){return null!==e&&e!==t.tabs});var o=[],a=t;return a.items=n.filter(function(e){return null!==e&&e!==t.tabs}),o.push(a),o}},{key:"_updateSplitter",value:function(){this._buttons&&this._dragDetails&&this._buttons.remove(),this._removeSplitter();for(var e=this.querySelectorAll("[data-id]"),t=0;t<e.length;t++){var i=e[t];if("root"!==i.getAttribute("data-id")){if(i.hasAttribute("role")){var s=i.getAttribute("role");if("gridcell"===s||"row"===s||"columnheader"===s||"rowheader"===s)continue}i.setAttribute("hover",""),this._handleSplitter(i)}}}},{key:"_hideSplitter",value:function(){for(var e=this.querySelectorAll("[data-id]"),t=0;t<e.length;t++)e[t].removeAttribute("hover")}},{key:"_removeSplitter",value:function(){for(var e=this.querySelectorAll(".jqx-layout-splitter"),t=0;t<e.length;t++){var i=e[t];i!==this.$.splitter&&i.remove()}this._hideSplitter()}},{key:"_handleItemClick",value:function(e){var t=this,i=t.selectedIndex,s=null;if(!e)return t.selectedIndex=null,t.querySelectorAll("[data-id]").forEach(function(e){e.removeAttribute("selected")}),void(t._selectedItem=null);(s=e instanceof HTMLElement?e:t.querySelector("[data-id="+e.id+"]"))&&s.readonly?t.selectedIndex=null:(t.querySelectorAll("[data-id]").forEach(function(e){e.removeAttribute("selected")}),s?(t.selectedIndex=s.getAttribute("index"),s.setAttribute("selected",""),s.setAttribute("hover",""),(t._selectedItem=s).classList.contains("jqx-hidden")&&t.refresh(),t._handleButtonsVisibility(s),i!==t.selectedIndex&&t.dispatchEvent(new CustomEvent("change")),t._updateSplitter()):t.refresh())}},{key:"_handleButtonClick",value:function(e,t){e=this._addLayoutItem(e,t);this.dispatchEvent(new CustomEvent("stateChange",{type:"insert",item:e})),this._handleItemClick(e,!0)}},{key:"_removeLayoutItem",value:function(e){if("root"!==e.getAttribute("data-id")){if(e instanceof LayoutItem&&1===e.parentElement.items.length){for(var t=e.parentElement,i=t;t&&t.items&&1===t.items.length&&"root"!==t.getAttribute("data-id");)t=(i=t).parentElement;"root"!==i.getAttribute("data-id")?i.remove():this.allowLiveSplit&&i.appendChild(document.createElement("jqx-layout-item"))}else e.remove();this.refresh(),this.dispatchEvent(new CustomEvent("stateChange",{type:"delete",item:e}))}}},{key:"refresh",value:function(){var p=this;if(!p._isUpdating){p.dataSource=p._getDataSource(p._getLayout()),p.$.splitter.className="jqx-visibility-hidden jqx-layout-splitter";for(var e=p.querySelectorAll(".jqx-layout-group"),t=0;t<e.length;t++)!function(t){var e=p.getItem(t.getAttribute("index"));if(e){t.style.gridTemplateColumns="";var i=t.style.gridTemplateRows="",s=0,r=0;if(t instanceof TabLayoutGroup){t.tabs&&t.tabs.remove();var n=document.createElement("div");n.classList.add("jqx-layout-tab-strip"),p._selectedItem&&t.contains(p._selectedItem)&&p._selectedItem instanceof TabLayoutItem&&(t.selectedIndex=Math.max(0,t.items.indexOf(p._selectedItem))),t.selectedIndex>=t.children.length&&(t.selectedIndex=0);for(var o=0;o<t.children.length;o++){var a,l=t.children[o],d=p.getItem(l.getAttribute("index"));d&&((a=document.createElement("div")).classList.add("jqx-layout-tab"),a.innerHTML="<label>"+d.label+'</label><span class="jqx-close-button"></span>',n.appendChild(a),l.setAttribute("tab",""),l.classList.add("jqx-hidden"),a.content=l,a.item=d,a.group=e,l.modifiers&&-1!==l.modifiers.indexOf("close")||a.querySelector(".jqx-close-button").classList.add("jqx-hidden"),void 0!==t.selectedIndex&&o!==t.selectedIndex||(a.classList.add("selected"),l.classList.remove("jqx-hidden"),t.selectedIndex=o),a.onpointerup=function(e){e.target.classList.contains("jqx-close-button")&&a.close&&(t.selectedIndex=0,p._removeLayoutItem(p._selectedItem),p._handleItemClick(parent))},a.onpointerdown=function(e){var t=this.closest(".jqx-layout-group");p._handleItemClick(this.content),a.close=!1,e.target.classList.contains("jqx-close-button")?a.close=!0:d.modifiers&&0<=d.modifiers.indexOf("drag")&&0<=t.modifiers.indexOf("drag")&&p._beginDrag(t,this,e)})}t.tabs=n,"top"===e.position||"left"===e.position?t.insertBefore(n,t.firstChild):t.appendChild(n)}else{for(o=0;o<t.children.length;o++)if((l=t.children[o]).hasAttribute("size")){var h=l.getAttribute("size"),c=parseFloat(h),u="vertical"===t.orientation?t.offsetWidth:t.offsetHeight,h=0<=h.indexOf("%")?parseFloat(h):parseFloat(c/u*100);if(s+=h,++r===t.children.length){if(s<100){i+="1fr ",s=100;continue}100<s&&(h=100-(s-=h),s=100)}else if(100<s||0===h){r=t.children.length,s=0;break}i+=h+"% "}else i+="1fr ";if(r===t.children.length&&(s<99||100<s))for(i="",o=0;o<t.children.length;o++)(l=t.children[o]).removeAttribute("size"),i+="1fr ";"vertical"===t.orientation?t.style.gridTemplateColumns=i:t.style.gridTemplateRows=i}t.items=Array.from(t.children),t.items=t.items.filter(function(e){return e!==t.tabs})}}(e[t])}}},{key:"_beginDrag",value:function(e,t,i){this._dragDetails&&this._dragDetails.feedback.remove();var s=document.createElement("div"),r=document.createElement("div"),n=e.querySelector(".jqx-layout-tab-strip"),o="";if(n)for(var a=0;a<Array.from(n.children).length;a++)a===e.selectedIndex&&(o=n.children[a].innerText);s.innerHTML='<jqx-split-layout><jqx-tab-layout-group><jqx-tab-layout-item label="'.concat(o,'"></jqx-tab-layout-item></jqx-tab-layout-group></jqx-split-layout>'),this._feedback=s,this._feedback.classList.add("jqx-split-layout-feedback","jqx-split-layout","jqx-widget"),r.classList.add("jqx-split-layout-overlay"),this._dragDetails={element:t.content,item:t.item,layoutGroup:t.group,parent:e,overlay:r,feedback:s,pageX:i.pageX,pageY:i.pageY}}},{key:"moveChildren",value:function(e,t){t.innerHTML="";for(var i=e;i.firstChild;){var s=i.firstChild;t.appendChild(s)}}},{key:"createLayoutItem",value:function(e,t){var i,s=this;return"layoutItem"!==e&&e?"tabLayoutItem"!==e&&e?"tabLayoutGroup"===e?(e=t,i=document.createElement("jqx-tab-layout-group"),e="top"===e||"bottom"===e?"horizontal":"vertical",i.setAttribute("orientation",e),i.orientation=e,s.dispatchEvent(new CustomEvent("tabLayoutGroup",{type:"layoutGroup",item:i})),i):(e=t,i=document.createElement("jqx-layout-group"),e="top"===e||"bottom"===e?"horizontal":"vertical",s.dispatchEvent(new CustomEvent("createGroup",{type:"layoutGroup",item:i})),i.setAttribute("orientation",e),i.orientation=e,i):((t=document.createElement("jqx-tab-layout-item")).innerHTML="",s.dispatchEvent(new CustomEvent("createItem",{type:"tabLayoutItem",item:t})),t):((e=document.createElement("jqx-layout-item")).innerHTML="",s.dispatchEvent(new CustomEvent("createItem",{type:"layoutItem",item:e})),e)}},{key:"_addTabLayoutItem",value:function(n,e,t){function i(e){var t;n.removeAttribute("size"),n.querySelector("jqx-layout-group")?l._addLayoutItem(n.querySelector("jqx-layout-group"),e):(r=l.createLayoutItem("layoutGroup",e),t=l.createLayoutItem(),l.moveChildren(n,t),"top"===e||"left"===e?(r.appendChild(l.createLayoutItem()),r.appendChild(t)):(r.appendChild(t),r.appendChild(l.createLayoutItem())),n.appendChild(r))}function s(e,t){var i=n.parentElement,s=n,r=l.createLayoutItem("layoutGroup",t);i.insertBefore(r,s),"top"===t||"left"===t?(r.append(e),r.appendChild(s)):(r.appendChild(s),r.append(e)),"root"===s.getAttribute("data-id")&&(s.setAttribute("data-id",r.getAttribute("data-id")),r.setAttribute("data-id","root"),l.$.itemsContainer=r),c(s),c(i)}var r,o,a,l=this,d=l.createLayoutItem("tabLayoutItem"),h=n.closest("jqx-tab-layout-group"),c=(t&&(d.label=t.label,d.modifiers=t.modifiers,l.moveChildren(t,d)),function(e){for(var t=0;t<e.children.length;t++)e.children[t].removeAttribute("size");e.removeAttribute("size")});if(t)switch(e){case"center":n instanceof TabLayoutGroup||n instanceof TabLayoutItem?h.appendChild(d):((a=l.createLayoutItem("tabLayoutGroup","top")).appendChild(d),n instanceof LayoutGroup&&!(n instanceof TabLayoutItem)?(n.appendChild(a),c(n)):n instanceof LayoutItem&&(r=l.createLayoutItem("layoutGroup"),n.parentElement.insertBefore(r,n),r.appendChild(n),r.appendChild(a),c(r)));break;case"left":case"right":(a=l.createLayoutItem("tabLayoutGroup","top")).appendChild(d),"root"===n.getAttribute("data-id")&&(a.position=e),s(a,e);break;case"top":case"bottom":(a=l.createLayoutItem("tabLayoutGroup","top")).appendChild(d),"root"===n.getAttribute("data-id")&&(a.position=e),s(a,e)}else{switch(e){case"center":n instanceof TabLayoutGroup||n instanceof TabLayoutItem?h.appendChild(d):i();break;case"left":case"right":n instanceof TabLayoutGroup?(o=n.querySelector("jqx-tab-layout-item"))&&"left"===e?n.insertBefore(d,o):n.appendChild(d):n instanceof TabLayoutItem?(a=l.createLayoutItem("tabLayoutGroup","top"),h=n.parentElement,a.appendChild(d),r=l.createLayoutItem("layoutGroup"),h.parentElement.insertBefore(r,h),"right"===e?(r.appendChild(h),r.appendChild(a)):"left"===e&&(r.appendChild(a),r.appendChild(h))):t?((a=l.createLayoutItem("tabLayoutGroup","top")).appendChild(d),n instanceof LayoutGroup?n.insertBefore(n.firstChild,a):n instanceof LayoutItem&&((r=l.createLayoutItem("layoutGroup")).orientation=h.orientation,r.setAttribute("orientation",h.orientation),n.removeAttribute("size"),n.parentElement.insertBefore(r,n),r.appendChild(n),r.appendChild(a))):i(e);break;case"top":case"bottom":n instanceof TabLayoutGroup?(r=l.createLayoutItem("layoutGroup","top"),n.removeAttribute("size"),n.parentElement.insertBefore(r,n),"top"===e?(r.appendChild(l.createLayoutItem()),r.appendChild(n)):(r.appendChild(n),r.appendChild(l.createLayoutItem()))):i(e)}l.refresh()}}},{key:"_addLayoutItem",value:function(e,t,i){var s=this;if(e){function r(e){for(var t=0;t<e.children.length;t++)e.children[t].removeAttribute("size");e.removeAttribute("size")}if(e instanceof TabLayoutItem||e instanceof TabLayoutGroup||i&&i instanceof TabLayoutItem)return s._addTabLayoutItem(e,t,i);var n,o,a=s.createLayoutItem(),l=e.closest(".jqx-layout-group");if(i&&s.moveChildren(i,a),"center"===t){if(e instanceof LayoutGroup)return(o=l).appendChild(a),r(o),s.refresh(),a;if(e instanceof LayoutItem)return(o=s.createLayoutItem("layoutGroup")).orientation=l.orientation,o.setAttribute("orientation",l.orientation),e.removeAttribute("size"),e.parentElement.insertBefore(o,e),o.appendChild(e),o.appendChild(a),s.refresh(),o}return"vertical"===l.orientation&&("left"===t||"right"===t)||"horizontal"===l.orientation&&("top"===t||"bottom"===t)?(o=l,e instanceof LayoutGroup?("left"===t||"top"===t?o.insertBefore(a,o.children[0]):o.appendChild(a),r(e)):(i=o.items,n=Math.max(0,i.indexOf(e)+("top"===t||"left"===t?0:1)),o.insertBefore(a,i[n]),r(o))):e instanceof LayoutGroup?(l=e.parentElement,o=e,i=s.createLayoutItem("layoutGroup",t),l.insertBefore(i,o),"top"===t||"left"===t?(i.append(a),i.appendChild(o)):(i.appendChild(o),i.append(a)),"root"===o.getAttribute("data-id")&&(o.setAttribute("data-id",i.getAttribute("data-id")),i.setAttribute("data-id","root"),s.$.itemsContainer=i),r(l)):(o=s.createLayoutItem("layoutGroup",t),l.insertBefore(o,e),"top"===t||"left"===t?(o.appendChild(a),o.appendChild(e)):(o.appendChild(e),o.appendChild(a)),r(o)),s.refresh(),a}}},{key:"_handleButtonsVisibility",value:function(e){var t=this;if(t._buttons||(t._buttons=document.createElement("div"),t._buttons.classList.add("jqx-layout-buttons-container"),t._buttons.innerHTML='<div role="button" position="top"></div>\n                                       <div role="button" position="bottom"></div>\n                                       <div role="button" position="center"></div>\n                                       <div role="button" position="left"></div>\n                                       <div role="button" position="right"></div>'),!e&&t._buttons.parentElement)t._buttons.parentElement.removeChild(t._buttons);else if(e){for(var i=e._buttonPosition||[],s=t._buttons.children,r=0;r<s.length;r++){var n=s[r];n.position=n.getAttribute("position"),n.item=e,i.length&&i.indexOf(n.getAttribute("position"))<0?n.classList.add("jqx-hidden"):n.classList.remove("jqx-hidden"),n.onmouseenter=function(){n.setAttribute("hover","")},n.onmouseleave=function(){n.removeAttribute("hover")}}t.allowLiveSplit&&t._buttons.parentElement!==e&&e.appendChild(t._buttons)}}},{key:"_handleDropArea",value:function(e){function t(e){switch(e){case"left":s._dropArea.style.top="0px",s._dropArea.style.left="0px",s._dropArea.style.width="50%",s._dropArea.style.height="100%";break;case"right":s._dropArea.style.top="0px",s._dropArea.style.left="calc(100% - ".concat(50,"%)"),s._dropArea.style.width="50%",s._dropArea.style.height="100%";break;case"top":s._dropArea.style.top="0px",s._dropArea.style.left="0px",s._dropArea.style.width="100%",s._dropArea.style.height="50%";break;case"bottom":s._dropArea.style.top="calc(100% - ".concat(50,"%)"),s._dropArea.style.left="0px",s._dropArea.style.width="100%",s._dropArea.style.height="50%";break;case"center":s._dropArea.style.top="0px",s._dropArea.style.left="0px",s._dropArea.style.width="100%",s._dropArea.style.height="100%"}}var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"center",s=this;s._dropArea&&s._dropArea.parentElement===e?t(i):(s._dropArea&&s._dropArea.remove(),s._dragDetails&&e&&(s._dropArea=document.createElement("div"),s._dropArea.classList.add("jqx-layout-drop-area"),e.appendChild(s._dropArea),s._dropArea.style.opacity=1,t(i)))}},{key:"_handleSplitter",value:function(e){var t,i=this;e&&((e=e.hasAttribute("tab")?e.parentElement:e)._splitter&&e._splitter.remove(),e._splitter||(e._splitter=document.createElement("div")),i._dragDetails&&i._dragDetails.dragging?e._splitter.remove():-1!==e.modifiers.indexOf("resize")&&(e.appendChild(e._splitter),(t=e.parentElement)&&(e._splitter.className="jqx-layout-splitter",(e._splitter.item=e)._splitter.removeAttribute("drag"),t=t.orientation,e.nextElementSibling&&e.nextElementSibling.hasAttribute("data-id")?e._splitter.classList.add(t):e.previousElementSibling&&e.previousElementSibling.hasAttribute("data-id")&&(e._splitter.classList.add(t),e._splitter.classList.add("last")),(t=e._splitter).style.top="",t.style.left="",t.style.bottom="",t.style.right="",t.onpointerdown=function(e){var t=e.target.item;t.style.overflow="hidden",i._resizeDetails={splitter:e.target,splitterRect:e.target.getBoundingClientRect(),itemRect:t.getBoundingClientRect(),item:t,itemSize:t.size,group:t.parentElement,clientX:e.clientX,clientY:e.clientY},i._selectedItem!==t&&(i.querySelectorAll("[data-id]").forEach(function(e){e.removeAttribute("selected")}),i.selectedIndex=t.getAttribute("index"),t.setAttribute("selected",""),i._selectedItem=t,i._handleButtonsVisibility(t)),t.previousElementSibling&&t.previousElementSibling.hasAttribute("data-id")?(i._resizeDetails.previousItemRect=t.previousElementSibling.getBoundingClientRect(),i._resizeDetails.previousItem=t.previousElementSibling,i._resizeDetails.previousItemSize=t.previousElementSibling.size,i._resizeDetails.previousItem.style.overflow="hidden"):(i._resizeDetails.previousItemRect=null,i._resizeDetails.previousItem=null),t.nextElementSibling&&t.nextElementSibling.hasAttribute("data-id")?(i._resizeDetails.nextItemRect=t.nextElementSibling.getBoundingClientRect(),i._resizeDetails.nextItem=t.nextElementSibling,i._resizeDetails.nextItemSize=t.nextElementSibling.size,i._resizeDetails.nextItem.style.overflow="hidden"):(i._resizeDetails.nextItemRect=null,i._resizeDetails.nextItem=null)})))}}]),s}());customElements.define("jqx-layout-group",LayoutGroup),customElements.define("jqx-layout-item",LayoutItem),customElements.define("jqx-tab-layout-group",TabLayoutGroup),customElements.define("jqx-tab-layout-item",TabLayoutItem),customElements.define("jqx-split-layout",SplitLayout),!function(t){t.jqx.jqxWidget("jqxBarcode","",{}),t.extend(t.jqx._jqxBarcode.prototype,{defineInstance:function(){var e={value:"12345",type:"codabar",backgroundColor:"white",lineWidth:4,lineHeight:50,lineColor:"black",displayLabel:!0,labelPosition:"bottom",labelFontSize:14,labelMarginTop:5,labelMarginBottom:5,labelColor:"black",labelFont:"monospace",renderAs:"svg"};return t.extend(!0,this,e),e},createInstance:function(e){var t=this,i=new Barcode(this.element);i.value=t.value,i.type=t.type,i.backgroundColor=t.backgroundColor,i.lineWidth=t.lineWidth,i.lineHeight=t.lineHeight,i.lineColor=t.lineColor,i.displayLabel=t.displayLabel,i.labelPosition=t.labelPosition,i.labelFontSize=t.labelFontSize,i.labelMarginTop=t.labelMarginTop,i.labelMarginBottom=t.labelMarginBottom,i.labelColor=t.labelColor,i.labelFont=t.labelFont,i.renderAs=t.renderAs,this.element.innerHTML=i.template(),(this.barcode=i).refresh()},getDataURL:function(e){return this.barcode.getDataURL(e)},export:function(e,t){this.barcode.export(e,t)},isValid:function(){return this.barcode.isValid(!1)},propertyChangedHandler:function(e,t,i,s){e.barcode.refresh()}})}(jqxBaseFramework);class Barcode{constructor(e){this.host=e}static get properties(){return{value:{type:"string",value:""},type:{value:"codabar",type:"string",allowedValues:["pharmacode","codabar","code128a","code128b","code128c","msi","msi10","msi11","msi1010","msi1110","ean13","ean8","code39","code93"]},backgroundColor:{value:"white",type:"string"},lineWidth:{value:4,type:"number"},lineHeight:{value:50,type:"number"},lineColor:{value:"black",type:"string"},displayLabel:{value:!0,type:"boolean"},labelPosition:{value:"bottom",type:"string",allowedValues:["top","bottom"]},labelFontSize:{value:14,type:"number"},labelMarginTop:{value:5,type:"number"},labelMarginBottom:{value:5,type:"number"},labelColor:{value:"black",type:"string"},labelFont:{value:"monospace",type:"string"},renderAs:{value:"svg",type:"string",allowedValues:["svg","canvas"]}}}template(){return'<div class="jqx-barcode-container"></div>'}refresh(){this._generateCode(this.renderAs)}_generateCode(e,t=!1){var i,s=this,r=this._getEncoded(s.type,s.value),n=r.length*s.lineWidth,o=s.lineHeight+s.displayLabel*(s.labelMarginTop+s.labelMarginBottom+s.labelFontSize);let a=0,l=0,d;if(s.isValid(),"svg"===e)(d=document.createElementNS("http://www.w3.org/2000/svg","svg")).setAttribute("width",n),d.setAttribute("height",o),d.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:svg","http://www.w3.org/2000/svg"),d.style.backgroundColor=s.backgroundColor;else if("canvas"===e){(d=document.createElement("canvas")).setAttribute("width",n),d.setAttribute("height",o);let e=d.getContext("2d");e.fillStyle=s.backgroundColor,e.fillRect(0,0,n,o)}t&&(d.style.display="none"),d.classList.add("jqx-barcode"),s.host.firstChild.appendChild(d),s.displayLabel&&"top"===s.labelPosition&&(l+=s.labelMarginTop+s.labelFontSize,"svg"===e?s._drawTextSVG(n/2,l,d):s._drawTextCanvas(n/2,l,d),l+=s.labelMarginBottom);for(i of r)"1"===i?"svg"===e?s._drawStepSVG(s.lineColor,1,a,l,d):s._drawStepCanvas(s.lineColor,1,a,l,d):"svg"===e?s._drawStepSVG("white",0,a,l,d):s._drawStepCanvas("white",0,a,l,d),a+=s.lineWidth;s.displayLabel&&"bottom"===s.labelPosition&&(l+=s.lineHeight+s.labelMarginTop+s.labelFontSize,"svg"===e?s._drawTextSVG(n/2,l,d):s._drawTextCanvas(n/2,l,d)),2===s.host.firstChild.children.length&&"none"!==s.host.firstChild.children[1].style.display&&s.host.firstChild.removeChild(s.host.firstChild.firstChild)}_getEncoded(e,t){var i=this;let s;switch(e){case"pharmacode":s=i._getEncodedPharmacode(t);break;case"codabar":s=i._getEncodedCodabar(t);break;case"code128a":s=i._getEncodedCode128(t,"A");break;case"code128b":s=i._getEncodedCode128(t,"B");break;case"code128c":s=i._getEncodedCode128(i.value,"C");break;case"msi":s=i._getEncodedMSI(i.value,"");break;case"msi10":s=i._getEncodedMSI(i.value,"10");break;case"msi11":s=i._getEncodedMSI(i.value,"11");break;case"msi1010":case"msi1110":s=i._getEncodedMSI(i.value,"1010");break;case"ean13":s=i._getEncodedEAN(i.value,"13");break;case"ean8":s=i._getEncodedEAN(i.value,"8");break;case"code39":s=i._getEncodedCode39(i.value);break;case"code93":s=i._getEncodedCode93(i.value)}return s}isValid(e=!1){var t=this.type;const i=this.value;let s=/[^@!(ä¸-é¾ )(ã-ã)(ã¡-ã´ã¼)\d0-9A-Z \$\%\*\+\-\.\/\:\=\?\^\{\|\}\~]/gm,r=!0,n=!0,o;if(!e)switch(t){case"pharmacode":s=/[^\d]/gm,n=1<=i.length&&i.length<=6,r=3<=+i&&+i<=131070;break;case"codabar":s=/[^ABCD\d\$-]/gm,r=/^[A-D]\d+[A-D]$/gm.test(i);break;case"code128a":s=/[^\x20-\x5F]/gm;break;case"code128b":s=/[^\x20-\x7F]/gm;break;case"code128c":s=/[^\d]/gm;break;case"msi":case"msi10":case"msi11":case"msi1010":case"msi1110":s=/[^\d]/gm;break;case"ean13":s=/[^\d]/gm,n=13===i.length||12===i.length;break;case"ean8":s=/[^\d]/gm,n=7===i.length||8===i.length;break;case"code39":s=/[^\w\*.]/gm,r=/^\*\*$/gm.test(i);break;case"code93":s=/[^\w\*.\-\* \$+\/%]/gm,r=/^\*\*$/gm.test(i)}return o=i.match(s),!(!r||o||!n)||(this.host.dispatchEvent(new CustomEvent("invalid",{detail:{value:i,invalidCharacters:o,patternValidity:r,lengthValidity:n}})),!1)}_drawTextSVG(e,t,i){let s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("x",e),s.setAttribute("y",t),s.setAttribute("text-anchor","middle"),s.classList.add("jqx-barcode-label"),s.style.fill=this.labelColor,s.style.fontFamily=this.labelFont,s.style.fontSize=this.labelFontSize+"px",s.textContent=this.value,i.appendChild(s)}_drawTextCanvas(e,t,i){let s=i.getContext("2d");s.font=this.labelFontSize+"px "+this.labelFont,s.fillStyle=this.labelColor,s.textAlign="center",s.fillText(this.value,e,t)}_drawStepSVG(e,t,i,s,r){this.squareWidth&&(this.lineWidth=this.squareWidth,this.lineHeight=this.squareWidth);let n=document.createElementNS("http://www.w3.org/2000/svg","rect");n.setAttribute("x",i),n.setAttribute("y",s),n.setAttribute("width",this.lineWidth),n.setAttribute("height",this.lineHeight),n.setAttribute("fill-opacity",t),n.style.fill=e,r.appendChild(n)}_drawStepCanvas(e,t,i,s,r){this.squareWidth&&(this.lineWidth=this.squareWidth,this.lineHeight=this.squareWidth);let n=r.getContext("2d");n.beginPath(),n.globalAlpha=t,n.strokeStyle=e,n.fillStyle=e,n.rect(i,s,this.lineWidth,this.lineHeight),n.fill()}_getEncodedPharmacode(e){let t="";for(;0!==e;)e=e%2==0?(t="11100"+t,(e-2)/2):(t="100"+t,(e-1)/2);return t=t.slice(0,-2)}_getEncodedCodabar(e){let t="";var i,s={0:1010100110,1:1010110010,2:1010010110,3:1100101010,4:1011010010,5:1101010010,6:1001010110,7:1001011010,8:1001101010,9:1101001010,"-":1010011010,$:1011001010,":":11010110110,"/":11011010110,".":11011011010,"+":10110110110,A:10110010010,B:10010010110,C:10100100110,D:10100110010};for(i of e)t+=s[i];return t=t.slice(0,-1)}_getEncodedCode39(e){let t="";const i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],s=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];for(var r of e)t+=s[i.indexOf(r)].toString(2)+"0";return t=t.slice(0,-1)}_getEncodedCode93(e){let t="";const i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"];var s,r=[100010100,101001e3,101000100,101000010,100101e3,100100100,100100010,10101e4,100010010,100001010,110101e3,110100100,110100010,110010100,110010010,110001010,101101e3,101100100,101100010,100110100,100011010,101011e3,101001100,101000110,100101100,100010110,110110100,110110010,110101100,110100110,110010110,110011010,101101100,101100110,100110110,100111010,100101110,111010100,111010010,111001010,111010110,100110010,111011010,101011110];for(s of e)t+=r[i.indexOf(s)]+"0";return t=t.slice(0,-1)}_getEncodedMSI(e,t){let i="";var s,r={0:100100100100,1:100100100110,2:100100110100,3:100100110110,4:100110100100,5:100110100110,6:100110110100,7:100110110110,8:110100100100,9:110100100110};i+="110","10"===t?e+=this._getMSIMod10(e):"11"===t?e+=this._getMSIMod11(e):"1010"===t?e=(e+=this._getMSIMod10(e))+this._getMSIMod10(e):"1110"===t&&(e=(e+=this._getMSIMod11(e))+this._getMSIMod10(e));for(s of e)i+=r[s];return i+="1001"}_getEncodedEAN(r,e){let t="";var i=[["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"]];if(12===r.length||7===r.length){let t=0,i=0,e,s;s=7===r.length?5:12;for(let e=0;e<s;e+=2)t+=parseInt(r[e]),i+=parseInt(r[e+1]);r+=e=0<(e=(3*i+t)%10)?10-e:e}if("13"===e){t+="101";var s=["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"][r[0]];for(let e=1;e<7;e++)t+=i[s[e-1]][r[e]];t+="01010";for(let e=0;e<6;e++)t+=i[2][r[e+7]];t+="101"}else if("8"===e){t+="101";for(let e=0;e<4;e++)t+=i[0][r[e]];t+="01010";for(let e=0;e<4;e++)t+=i[2][r[e+4]];t+="101"}return t}_getMSIMod10(e){let t=0;for(var i=0;i<e.length;i++){var s=parseInt(e[i]);(i+e.length)%2==0?t+=s:t+=2*s%10+Math.floor(2*s/10)}return(10-t%10)%10}_getMSIMod11(e){let t=0;for(var i=[2,3,4,5,6,7],s=0;s<e.length;s++){var r=parseInt(e[e.length-1-s]);t+=i[s%i.length]*r}return(11-t%11)%11}_getEncodedCode128(i,e){let t="",s=[],r=0,n;const o=[[" "," ","00","11011001100"],["!","!","01","11001101100"],['"','"',"02","11001100110"],["#","#","03","10010011000"],["$","$","04","10010001100"],["%","%","05","10001001100"],["&","&","06","10011001000"],["'","'","07","10011000100"],["(","(","08","10001100100"],[")",")","09","11001001000"],["*","*","10","11001000100"],["+","+","11","11000100100"],[",",",","12","10110011100"],["-","-","13","10011011100"],[".",".","14","10011001110"],["/","/","15","10111001100"],["0","0","16","10011101100"],["1","1","17","10011100110"],["2","2","18","11001110010"],["3","3","19","11001011100"],["4","4","20","11001001110"],["5","5","21","11011100100"],["6","6","22","11001110100"],["7","7","23","11101101110"],["8","8","24","11101001100"],["9","9","25","11100101100"],[":",":","26","11100100110"],[";",";","27","11101100100"],["<","<","28","11100110100"],["=","=","29","11100110010"],[">",">","30","11011011000"],["?","?","31","11011000110"],["@","@","32","11000110110"],["A","A","33","10100011000"],["B","B","34","10001011000"],["C","C","35","10001000110"],["D","D","36","10110001000"],["E","E","37","10001101000"],["F","F","38","10001100010"],["G","G","39","11010001000"],["H","H","40","11000101000"],["I","I","41","11000100010"],["J","J","42","10110111000"],["K","K","43","10110001110"],["L","L","44","10001101110"],["M","M","45","10111011000"],["N","N","46","10111000110"],["O","O","47","10001110110"],["P","P","48","11101110110"],["Q","Q","49","11010001110"],["R","R","50","11000101110"],["S","S","51","11011101000"],["T","T","52","11011100010"],["U","U","53","11011101110"],["V","V","54","11101011000"],["W","W","55","11101000110"],["X","X","56","11100010110"],["Y","Y","57","11101101000"],["Z","Z","58","11101100010"],["[","[","59","11100011010"],["\\","\\","60","11101111010"],["]","]","61","11001000010"],["^","^","62","11110001010"],["_","_","63","10100110000"],["NUL","`","64","10100001100"],["SOH","a","65","10010110000"],["STX","b","66","10010000110"],["ETX","c","67","10000101100"],["EOT","d","68","10000100110"],["ENQ","e","69","10110010000"],["ACK","f","70","10110000100"],["BEL","g","71","10011010000"],["BS","h","72","10011000010"],["HT","i","73","10000110100"],["LF","j","74","10000110010"],["VT","k","75","11000010010"],["FF","l","76","11001010000"],["CR","m","77","11110111010"],["SO","n","78","11000010100"],["SI","o","79","10001111010"],["DLE","p","80","10100111100"],["DC1","q","81","10010111100"],["DC2","r","82","10010011110"],["DC3","s","83","10111100100"],["DC4","t","84","10011110100"],["NAK","u","85","10011110010"],["SYN","v","86","11110100100"],["ETB","w","87","11110010100"],["CAN","x","88","11110010010"],["EM","y","89","11011011110"],["SUB","z","90","11011110110"],["ESC","[","91","11110110110"],["FS","|","92","10101111000"],["GS","]","93","10100011110"],["RS","~","94","10001011110"],["US","DEL","95","10111101000"],["FNC3","FNC3","96","10111100010"],["FNC2","FNC2","97","11110101000"],["SHIFT","SHIFT","98","11110100010"],["CODEC","CODEC","99","10111011110"],["CODEB","FNC4","CODEB","10111101110"],["FNC4","CODEA","CODEA","11101011110"],["FNC1","FNC1","FNC1","11110101110"],["StartA","StartA","StartA","11010000100"],["StartB","StartB","StartB","11010010000"],["StartC","StartC","StartC","11010011100"],["Stop","Stop","Stop","1100011101011"]];if("A"===e){n=103;for(const[h,c]of i.split("").entries()){var a=o.find(e=>e[0]===c);a&&(s.push(a),r+=h*a.length)}}else if("B"===e){n=104;for(const[u,p]of i.split("").entries()){var l=o.find(e=>e[1]===p);l&&(s.push(l),r+=u*l.length)}}else if("C"===e){n=105;for(let e=0;e<i.length-1;e+=2){let t=i.substring(e,2);var d=o.find(e=>e[2]===t);d&&(s.push(d),r+=t*d.length)}}return r+=n,s.push(o[r%103]),s.unshift(o[n]),s.push(o[106]),s.forEach(e=>t+=e[3]),t}getDataURL(t){if("svg"===t)return"svg"!==this.renderAs&&this._generateCode("svg",!0),i=this.host.querySelector("svg"),i=(new XMLSerializer).serializeToString(i),i=new Blob([i],{type:"image/svg+xml;charset=utf-8"}),URL.createObjectURL(i);if("png"===t||"jpg"===t){var i="png"===t?"png":"jpeg";"canvas"!==this.renderAs&&this._generateCode("canvas",!0);let e=this.host.querySelector("canvas");return e.toDataURL("image/"+i)}}getDataURLAsync(s){const r=this;return new Promise((e,t)=>{var i=r.getDataURL(s);i?e(i):t()})}export(i="png",s="barcode"){this.getDataURLAsync(i).then(e=>{let t=document.createElement("a");t.setAttribute("download",s+"."+i),t.setAttribute("href",e),t.setAttribute("target","_blank"),t.click()})}propertyChangedHandler(e,t,i){this.refresh()}ready(){this._generateCode(this.renderAs)}}!function(t){t.jqx.jqxWidget("jqxQRcode","",{}),t.extend(t.jqx._jqxQRcode.prototype,{defineInstance:function(){var e={value:"jqwidgets.com",backgroundColor:"white",squareWidth:7,lineColor:"black",displayLabel:!1,labelPosition:"bottom",labelFontSize:10,labelMarginTop:5,labelMarginBottom:5,labelColor:"black",labelFont:"monospace",errorLevel:"H",renderAs:"svg",embedImage:"",imageHeight:15,imageWidth:15};return t.extend(!0,this,e),e},createInstance:function(e){var t=this,i=new QRcode(this.element);i.value=t.value,i.backgroundColor=t.backgroundColor,i.squareWidth=t.squareWidth,i.lineColor=t.lineColor,i.displayLabel=t.displayLabel,i.labelPosition=t.labelPosition,i.labelFontSize=t.labelFontSize,i.labelMarginTop=t.labelMarginTop,i.labelMarginBottom=t.labelMarginBottom,i.labelColor=t.labelColor,i.labelFont=t.labelFont,i.errorLevel=t.errorLevel,i.renderAs=t.renderAs,i.embedImage=t.embedImage,i.imageHeight=t.imageHeight,i.imageWidth=t.imageWidth,this.element.innerHTML=i.template(),(this.qrcode=i).refresh()},export:function(e,t){this.qrcode.export(e,t)},isValid:function(){return this.qrcode.isValid(!1)},propertyChangedHandler:function(e,t,i,s){e.qrcode.refresh()}})}(jqxBaseFramework);class QRcode{static get properties(){return{value:{type:"string",value:""},backgroundColor:{value:"white",type:"string"},squareWidth:{value:7,type:"number"},lineColor:{value:"black",type:"string"},displayLabel:{value:!1,type:"boolean"},labelPosition:{value:"bottom",type:"string",allowedValues:["top","bottom"]},labelFontSize:{value:10,type:"number"},labelMarginTop:{value:5,type:"number"},labelMarginBottom:{value:5,type:"number"},labelColor:{value:"black",type:"string"},labelFont:{value:"monospace",type:"string"},errorLevel:{value:"H",type:"string"},renderAs:{value:"svg",type:"string",allowedValues:["svg","canvas"]},embedImage:{value:"",type:"string"},imageHeight:{value:15,type:"number"},imageWidth:{value:15,type:"number"}}}constructor(e){this.host=e}template(){return'<div class="qx-qrcode-container"></div>'}_getValuesTable(){return[null,[[10,7,17,13],[1,1,1,1],[]],[[16,10,28,22],[1,1,1,1],[4,16]],[[26,15,22,18],[1,1,2,2],[4,20]],[[18,20,16,26],[2,1,4,2],[4,24]],[[24,26,22,18],[2,1,4,4],[4,28]],[[16,18,28,24],[4,2,4,4],[4,32]],[[18,20,26,18],[4,2,5,6],[4,20,36]],[[22,24,26,22],[4,2,6,6],[4,22,40]],[[22,30,24,20],[5,2,8,8],[4,24,44]],[[26,18,28,24],[5,4,8,8],[4,26,48]],[[30,20,24,28],[5,4,11,8],[4,28,52]],[[22,24,28,26],[8,4,11,10],[4,30,56]],[[22,26,22,24],[9,4,16,12],[4,32,60]],[[24,30,24,20],[9,4,16,16],[4,24,44,64]],[[24,22,24,30],[10,6,18,12],[4,24,46,68]],[[28,24,30,24],[10,6,16,17],[4,24,48,72]],[[28,28,28,28],[11,6,19,16],[4,28,52,76]],[[26,30,28,28],[13,6,21,18],[4,28,54,80]],[[26,28,26,26],[14,7,25,21],[4,28,56,84]],[[26,28,28,30],[16,8,25,20],[4,32,60,88]],[[26,28,30,28],[17,8,25,23],[4,26,48,70,92]],[[28,28,24,30],[17,9,34,23],[4,24,48,72,96]],[[28,30,30,30],[18,9,30,25],[4,28,52,76,100]],[[28,30,30,30],[20,10,32,27],[4,26,52,78,104]],[[28,26,30,30],[21,12,35,29],[4,30,56,82,108]],[[28,28,30,28],[23,12,37,34],[4,28,56,84,112]],[[28,30,30,30],[25,12,40,34],[4,32,60,88,116]],[[28,30,30,30],[26,13,42,35],[4,24,48,72,96,120]],[[28,30,30,30],[28,14,45,38],[4,28,52,76,100,124]],[[28,30,30,30],[29,15,48,40],[4,24,50,76,102,128]],[[28,30,30,30],[31,16,51,43],[4,28,54,80,106,132]],[[28,30,30,30],[33,17,54,45],[4,32,58,84,110,136]],[[28,30,30,30],[35,18,57,48],[4,28,56,84,112,140]],[[28,30,30,30],[37,19,60,51],[4,32,60,88,116,144]],[[28,30,30,30],[38,19,63,53],[4,28,52,76,100,124,148]],[[28,30,30,30],[40,20,66,56],[4,22,48,74,100,126,152]],[[28,30,30,30],[43,21,70,59],[4,26,52,78,104,130,156]],[[28,30,30,30],[45,22,74,62],[4,30,56,82,108,134,160]],[[28,30,30,30],[47,24,77,65],[4,24,52,80,108,136,164]],[[28,30,30,30],[49,25,81,68],[4,28,56,84,112,140,168]]]}_getGaloisFieldTable(){let i=[],s=[-1];for(let e=0,t=1;e<255;++e)i.push(t),s[t]=e,t=2*t^(128<=t?285:0);return[i,s]}_getGaloisFieldPoly(){var[r,n]=this._getGaloisFieldTable();let e=[[]];for(let s=0;s<30;++s){let t=e[s],i=[];for(let e=0;e<=s;++e){var o=e<s?r[t[e]]:0,a=r[(s+(t[e-1]||0))%255];i.push(n[o^a])}e.push(i)}return e}_getDataMaskingFunctions(){return[function(e,t){return(e+t)%2==0},function(e){return e%2==0},function(e,t){return t%3==0},function(e,t){return(e+t)%3==0},function(e,t){return((e/2|0)+(t/3|0))%2==0},function(e,t){return e*t%2+e*t%3==0},function(e,t){return(e*t%2+e*t%3)%2==0},function(e,t){return((e+t)%2+e*t%3)%2==0}]}_polynomialGenerator(){var[r,n]=this._getGaloisFieldTable();let e=[[]];for(let s=0;s<30;++s){let t=e[s],i=[];for(let e=0;e<=s;++e){var o=e<s?r[t[e]]:0,a=r[(s+(t[e-1]||0))%255];i.push(n[o^a])}e.push(i)}}_getCodeSize(e){return 4*e+17}_getCodeWordsBits(e){var t=this._getValuesTable()[e];let i=16*e*e+128*e+64;return 6<e&&(i-=36),t[2].length&&(i-=25*t[2].length*t[2].length-10*t[2].length-55),i}_getDataBits(e,t){var i=-8&this._getCodeWordsBits(e),e=this._getValuesTable()[e];return i-=8*e[0][t]*e[1][t]}_getDataLengthBits(e){switch(this._getEncodingMode(this.value)){case 1:return e<10?10:e<27?12:14;case 2:return e<10?9:e<27?11:13;case 4:return e<10?8:16;case 8:return e<10?8:e<27?10:12}}_getDataLength(e,t){var i=this._getEncodingMode(this.value),s=this._getDataBits(e,t)-4-this._getDataLengthBits(e);switch(i){case 1:return this._getNumericCapacity(s);case 2:return this._getAlphanumericCapacity(s);case 4:return this._getByteCapacity(s);case 8:return this._getKanjiCapacity(s)}}_getNumericCapacity(e){return 3*(e/10|0)+(e%10<4?0:e%10<7?1:2)}_getAlphanumericCapacity(e){return 2*(e/11|0)+(e%11<6?0:1)}_getByteCapacity(e){return Math.floor(e/8)}_getKanjiCapacity(e){return Math.floor(e/13)}_getEncodingMode(e){return/^\d+$/.test(e)?1:/^[A-Z0-9 $%*+\-./:]*$/.test(e)?2:/^[\u3000-\u303F\u3040-\u309F\u30A0-\u30FF\uFF00-\uFF9F\u4E00-\u9FAF\u2605-\u2606\u2190-\u2195\u203B\u25C0-\u25C5]+$/.test(e)?8:4}_getByteValues(e){let t=[];for(var i=0;i<e.length;++i){var s=e.charCodeAt(i);s<128?t.push(s):s<2048?t.push(192|s>>6,128|63&s):s<65536?t.push(224|s>>12,128|s>>6&63,128|63&s):t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)}return t}_getNumericValues(t){var i=[0,4,7,10];let s=[];for(let e=0;e<t.length;e+=3){var r=t.substr(e,3),n=i[r.length],r=parseInt(r,10);s.push({value:r,bitLength:n})}return s}_getAlphanumericValues(t){const i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let s=[];for(let e=0;e<t.length;e+=2){const n=t.substr(e,2);var r=n.split("").map(e=>i.indexOf(e)),r=1===n.length?r[0]:r[0]*i.length+r[1];s.push(r)}return s}_getKanjiValues(e){var i=[[32,32],[33,33],[34,34],[35,35],[36,36],[37,37],[38,38],[39,39],[40,40],[41,41],[42,42],[43,43],[44,44],[45,45],[46,46],[47,47],[48,48],[49,49],[50,50],[51,51],[52,52],[53,53],[54,54],[55,55],[56,56],[57,57],[58,58],[59,59],[60,60],[61,61],[62,62],[63,63],[64,64],[65,65],[66,66],[67,67],[68,68],[69,69],[70,70],[71,71],[72,72],[73,73],[74,74],[75,75],[76,76],[77,77],[78,78],[79,79],[80,80],[81,81],[82,82],[83,83],[84,84],[85,85],[86,86],[87,87],[88,88],[89,89],[90,90],[91,91],[92,165],[93,93],[94,94],[95,95],[96,96],[97,97],[98,98],[99,99],[100,100],[101,101],[102,102],[103,103],[104,104],[105,105],[106,106],[107,107],[108,108],[109,109],[110,110],[111,111],[112,112],[113,113],[114,114],[115,115],[116,116],[117,117],[118,118],[119,119],[120,120],[121,121],[122,122],[123,123],[124,124],[125,125],[126,8254],[33088,12288],[33089,12289],[33090,12290],[33091,65292],[33092,65294],[33093,12539],[33094,65306],[33095,65307],[33096,65311],[33097,65281],[33098,12443],[33099,12444],[33100,180],[33101,65344],[33102,168],[33103,65342],[33104,65507],[33105,65343],[33106,12541],[33107,12542],[33108,12445],[33109,12446],[33110,12291],[33111,20189],[33112,12293],[33113,12294],[33114,12295],[33115,12540],[33116,8213],[33117,8208],[33118,65295],[33119,92],[33120,12316],[33121,8214],[33122,65372],[33123,8230],[33124,8229],[33125,8216],[33126,8217],[33127,8220],[33128,8221],[33129,65288],[33130,65289],[33131,12308],[33132,12309],[33133,65339],[33134,65341],[33135,65371],[33136,65373],[33137,12296],[33138,12297],[33139,12298],[33140,12299],[33141,12300],[33142,12301],[33143,12302],[33144,12303],[33145,12304],[33146,12305],[33147,65291],[33148,8722],[33149,177],[33150,215],[33152,247],[33153,65309],[33154,8800],[33155,65308],[33156,65310],[33157,8806],[33158,8807],[33159,8734],[33160,8756],[33161,9794],[33162,9792],[33163,176],[33164,8242],[33165,8243],[33166,8451],[33167,65509],[33168,65284],[33169,162],[33170,163],[33171,65285],[33172,65283],[33173,65286],[33174,65290],[33175,65312],[33176,167],[33177,9734],[33178,9733],[33179,9675],[33180,9679],[33181,9678],[33182,9671],[33183,9670],[33184,9633],[33185,9632],[33186,9651],[33187,9650],[33188,9661],[33189,9660],[33190,8251],[33191,12306],[33192,8594],[33193,8592],[33194,8593],[33195,8595],[33196,12307],[33208,8712],[33209,8715],[33210,8838],[33211,8839],[33212,8834],[33213,8835],[33214,8746],[33215,8745],[33224,8743],[33225,8744],[33226,172],[33227,8658],[33228,8660],[33229,8704],[33230,8707],[33242,8736],[33243,8869],[33244,8978],[33245,8706],[33246,8711],[33247,8801],[33248,8786],[33249,8810],[33250,8811],[33251,8730],[33252,8765],[33253,8733],[33254,8757],[33255,8747],[33256,8748],[33264,8491],[33265,8240],[33266,9839],[33267,9837],[33268,9834],[33269,8224],[33270,8225],[33271,182],[33276,9711],[33359,65296],[33360,65297],[33361,65298],[33362,65299],[33363,65300],[33364,65301],[33365,65302],[33366,65303],[33367,65304],[33368,65305],[33376,65313],[33377,65314],[33378,65315],[33379,65316],[33380,65317],[33381,65318],[33382,65319],[33383,65320],[33384,65321],[33385,65322],[33386,65323],[33387,65324],[33388,65325],[33389,65326],[33390,65327],[33391,65328],[33392,65329],[33393,65330],[33394,65331],[33395,65332],[33396,65333],[33397,65334],[33398,65335],[33399,65336],[33400,65337],[33401,65338],[33409,65345],[33410,65346],[33411,65347],[33412,65348],[33413,65349],[33414,65350],[33415,65351],[33416,65352],[33417,65353],[33418,65354],[33419,65355],[33420,65356],[33421,65357],[33422,65358],[33423,65359],[33424,65360],[33425,65361],[33426,65362],[33427,65363],[33428,65364],[33429,65365],[33430,65366],[33431,65367],[33432,65368],[33433,65369],[33434,65370],[33439,12353],[33440,12354],[33441,12355],[33442,12356],[33443,12357],[33444,12358],[33445,12359],[33446,12360],[33447,12361],[33448,12362],[33449,12363],[33450,12364],[33451,12365],[33452,12366],[33453,12367],[33454,12368],[33455,12369],[33456,12370],[33457,12371],[33458,12372],[33459,12373],[33460,12374],[33461,12375],[33462,12376],[33463,12377],[33464,12378],[33465,12379],[33466,12380],[33467,12381],[33468,12382],[33469,12383],[33470,12384],[33471,12385],[33472,12386],[33473,12387],[33474,12388],[33475,12389],[33476,12390],[33477,12391],[33478,12392],[33479,12393],[33480,12394],[33481,12395],[33482,12396],[33483,12397],[33484,12398],[33485,12399],[33486,12400],[33487,12401],[33488,12402],[33489,12403],[33490,12404],[33491,12405],[33492,12406],[33493,12407],[33494,12408],[33495,12409],[33496,12410],[33497,12411],[33498,12412],[33499,12413],[33500,12414],[33501,12415],[33502,12416],[33503,12417],[33504,12418],[33505,12419],[33506,12420],[33507,12421],[33508,12422],[33509,12423],[33510,12424],[33511,12425],[33512,12426],[33513,12427],[33514,12428],[33515,12429],[33516,12430],[33517,12431],[33518,12432],[33519,12433],[33520,12434],[33521,12435],[33600,12449],[33601,12450],[33602,12451],[33603,12452],[33604,12453],[33605,12454],[33606,12455],[33607,12456],[33608,12457],[33609,12458],[33610,12459],[33611,12460],[33612,12461],[33613,12462],[33614,12463],[33615,12464],[33616,12465],[33617,12466],[33618,12467],[33619,12468],[33620,12469],[33621,12470],[33622,12471],[33623,12472],[33624,12473],[33625,12474],[33626,12475],[33627,12476],[33628,12477],[33629,12478],[33630,12479],[33631,12480],[33632,12481],[33633,12482],[33634,12483],[33635,12484],[33636,12485],[33637,12486],[33638,12487],[33639,12488],[33640,12489],[33641,12490],[33642,12491],[33643,12492],[33644,12493],[33645,12494],[33646,12495],[33647,12496],[33648,12497],[33649,12498],[33650,12499],[33651,12500],[33652,12501],[33653,12502],[33654,12503],[33655,12504],[33656,12505],[33657,12506],[33658,12507],[33659,12508],[33660,12509],[33661,12510],[33662,12511],[33664,12512],[33665,12513],[33666,12514],[33667,12515],[33668,12516],[33669,12517],[33670,12518],[33671,12519],[33672,12520],[33673,12521],[33674,12522],[33675,12523],[33676,12524],[33677,12525],[33678,12526],[33679,12527],[33680,12528],[33681,12529],[33682,12530],[33683,12531],[33684,12532],[33685,12533],[33686,12534],[33695,913],[33696,914],[33697,915],[33698,916],[33699,917],[33700,918],[33701,919],[33702,920],[33703,921],[33704,922],[33705,923],[33706,924],[33707,925],[33708,926],[33709,927],[33710,928],[33711,929],[33712,931],[33713,932],[33714,933],[33715,934],[33716,935],[33717,936],[33718,937],[33727,945],[33728,946],[33729,947],[33730,948],[33731,949],[33732,950],[33733,951],[33734,952],[33735,953],[33736,954],[33737,955],[33738,956],[33739,957],[33740,958],[33741,959],[33742,960],[33743,961],[33744,963],[33745,964],[33746,965],[33747,966],[33748,967],[33749,968],[33750,969],[33856,1040],[33857,1041],[33858,1042],[33859,1043],[33860,1044],[33861,1045],[33862,1025],[33863,1046],[33864,1047],[33865,1048],[33866,1049],[33867,1050],[33868,1051],[33869,1052],[33870,1053],[33871,1054],[33872,1055],[33873,1056],[33874,1057],[33875,1058],[33876,1059],[33877,1060],[33878,1061],[33879,1062],[33880,1063],[33881,1064],[33882,1065],[33883,1066],[33884,1067],[33885,1068],[33886,1069],[33887,1070],[33888,1071],[33904,1072],[33905,1073],[33906,1074],[33907,1075],[33908,1076],[33909,1077],[33910,1105],[33911,1078],[33912,1079],[33913,1080],[33914,1081],[33915,1082],[33916,1083],[33917,1084],[33918,1085],[33920,1086],[33921,1087],[33922,1088],[33923,1089],[33924,1090],[33925,1091],[33926,1092],[33927,1093],[33928,1094],[33929,1095],[33930,1096],[33931,1097],[33932,1098],[33933,1099],[33934,1100],[33935,1101],[33936,1102],[33937,1103],[33951,9472],[33952,9474],[33953,9484],[33954,9488],[33955,9496],[33956,9492],[33957,9500],[33958,9516],[33959,9508],[33960,9524],[33961,9532],[33962,9473],[33963,9475],[33964,9487],[33965,9491],[33966,9499],[33967,9495],[33968,9507],[33969,9523],[33970,9515],[33971,9531],[33972,9547],[33973,9504],[33974,9519],[33975,9512],[33976,9527],[33977,9535],[33978,9501],[33979,9520],[33980,9509],[33981,9528],[33982,9538],[34975,20124],[34976,21782],[34977,23043],[34978,38463],[34979,21696],[34980,24859],[34981,25384],[34982,23030],[34983,36898],[34984,33909],[34985,33564],[34986,31312],[34987,24746],[34988,25569],[34989,28197],[34990,26093],[34991,33894],[34992,33446],[34993,39925],[34994,26771],[34995,22311],[34996,26017],[34997,25201],[34998,23451],[34999,22992],[35e3,34427],[35001,39156],[35002,32098],[35003,32190],[35004,39822],[35005,25110],[35006,31903],[35007,34999],[35008,23433],[35009,24245],[35010,25353],[35011,26263],[35012,26696],[35013,38343],[35014,38797],[35015,26447],[35016,20197],[35017,20234],[35018,20301],[35019,20381],[35020,20553],[35021,22258],[35022,22839],[35023,22996],[35024,23041],[35025,23561],[35026,24799],[35027,24847],[35028,24944],[35029,26131],[35030,26885],[35031,28858],[35032,30031],[35033,30064],[35034,31227],[35035,32173],[35036,32239],[35037,32963],[35038,33806],[35039,34915],[35040,35586],[35041,36949],[35042,36986],[35043,21307],[35044,20117],[35045,20133],[35046,22495],[35047,32946],[35048,37057],[35049,30959],[35050,19968],[35051,22769],[35052,28322],[35053,36920],[35054,31282],[35055,33576],[35056,33419],[35057,39983],[35058,20801],[35059,21360],[35060,21693],[35061,21729],[35062,22240],[35063,23035],[35064,24341],[35065,39154],[35066,28139],[35067,32996],[35068,34093],[35136,38498],[35137,38512],[35138,38560],[35139,38907],[35140,21515],[35141,21491],[35142,23431],[35143,28879],[35144,32701],[35145,36802],[35146,38632],[35147,21359],[35148,40284],[35149,31418],[35150,19985],[35151,30867],[35152,33276],[35153,28198],[35154,22040],[35155,21764],[35156,27421],[35157,34074],[35158,39995],[35159,23013],[35160,21417],[35161,28006],[35162,29916],[35163,38287],[35164,22082],[35165,20113],[35166,36939],[35167,38642],[35168,33615],[35169,39180],[35170,21473],[35171,21942],[35172,23344],[35173,24433],[35174,26144],[35175,26355],[35176,26628],[35177,27704],[35178,27891],[35179,27945],[35180,29787],[35181,30408],[35182,31310],[35183,38964],[35184,33521],[35185,34907],[35186,35424],[35187,37613],[35188,28082],[35189,30123],[35190,30410],[35191,39365],[35192,24742],[35193,35585],[35194,36234],[35195,38322],[35196,27022],[35197,21421],[35198,20870],[35200,22290],[35201,22576],[35202,22852],[35203,23476],[35204,24310],[35205,24616],[35206,25513],[35207,25588],[35208,27839],[35209,28436],[35210,28814],[35211,28948],[35212,29017],[35213,29141],[35214,29503],[35215,32257],[35216,33398],[35217,33489],[35218,34199],[35219,36960],[35220,37467],[35221,40219],[35222,22633],[35223,26044],[35224,27738],[35225,29989],[35226,20985],[35227,22830],[35228,22885],[35229,24448],[35230,24540],[35231,25276],[35232,26106],[35233,27178],[35234,27431],[35235,27572],[35236,29579],[35237,32705],[35238,35158],[35239,40236],[35240,40206],[35241,40644],[35242,23713],[35243,27798],[35244,33659],[35245,20740],[35246,23627],[35247,25014],[35248,33222],[35249,26742],[35250,29281],[35251,20057],[35252,20474],[35253,21368],[35254,24681],[35255,28201],[35256,31311],[35257,38899],[35258,19979],[35259,21270],[35260,20206],[35261,20309],[35262,20285],[35263,20385],[35264,20339],[35265,21152],[35266,21487],[35267,22025],[35268,22799],[35269,23233],[35270,23478],[35271,23521],[35272,31185],[35273,26247],[35274,26524],[35275,26550],[35276,27468],[35277,27827],[35278,28779],[35279,29634],[35280,31117],[35281,31166],[35282,31292],[35283,31623],[35284,33457],[35285,33499],[35286,33540],[35287,33655],[35288,33775],[35289,33747],[35290,34662],[35291,35506],[35292,22057],[35293,36008],[35294,36838],[35295,36942],[35296,38686],[35297,34442],[35298,20420],[35299,23784],[35300,25105],[35301,29273],[35302,30011],[35303,33253],[35304,33469],[35305,34558],[35306,36032],[35307,38597],[35308,39187],[35309,39381],[35310,20171],[35311,20250],[35312,35299],[35313,22238],[35314,22602],[35315,22730],[35316,24315],[35317,24555],[35318,24618],[35319,24724],[35320,24674],[35321,25040],[35322,25106],[35323,25296],[35324,25913],[35392,39745],[35393,26214],[35394,26800],[35395,28023],[35396,28784],[35397,30028],[35398,30342],[35399,32117],[35400,33445],[35401,34809],[35402,38283],[35403,38542],[35404,35997],[35405,20977],[35406,21182],[35407,22806],[35408,21683],[35409,23475],[35410,23830],[35411,24936],[35412,27010],[35413,28079],[35414,30861],[35415,33995],[35416,34903],[35417,35442],[35418,37799],[35419,39608],[35420,28012],[35421,39336],[35422,34521],[35423,22435],[35424,26623],[35425,34510],[35426,37390],[35427,21123],[35428,22151],[35429,21508],[35430,24275],[35431,25313],[35432,25785],[35433,26684],[35434,26680],[35435,27579],[35436,29554],[35437,30906],[35438,31339],[35439,35226],[35440,35282],[35441,36203],[35442,36611],[35443,37101],[35444,38307],[35445,38548],[35446,38761],[35447,23398],[35448,23731],[35449,27005],[35450,38989],[35451,38990],[35452,25499],[35453,31520],[35454,27179],[35456,27263],[35457,26806],[35458,39949],[35459,28511],[35460,21106],[35461,21917],[35462,24688],[35463,25324],[35464,27963],[35465,28167],[35466,28369],[35467,33883],[35468,35088],[35469,36676],[35470,19988],[35471,39993],[35472,21494],[35473,26907],[35474,27194],[35475,38788],[35476,26666],[35477,20828],[35478,31427],[35479,33970],[35480,37340],[35481,37772],[35482,22107],[35483,40232],[35484,26658],[35485,33541],[35486,33841],[35487,31909],[35488,21e3],[35489,33477],[35490,29926],[35491,20094],[35492,20355],[35493,20896],[35494,23506],[35495,21002],[35496,21208],[35497,21223],[35498,24059],[35499,21914],[35500,22570],[35501,23014],[35502,23436],[35503,23448],[35504,23515],[35505,24178],[35506,24185],[35507,24739],[35508,24863],[35509,24931],[35510,25022],[35511,25563],[35512,25954],[35513,26577],[35514,26707],[35515,26874],[35516,27454],[35517,27475],[35518,27735],[35519,28450],[35520,28567],[35521,28485],[35522,29872],[35523,29976],[35524,30435],[35525,30475],[35526,31487],[35527,31649],[35528,31777],[35529,32233],[35530,32566],[35531,32752],[35532,32925],[35533,33382],[35534,33694],[35535,35251],[35536,35532],[35537,36011],[35538,36996],[35539,37969],[35540,38291],[35541,38289],[35542,38306],[35543,38501],[35544,38867],[35545,39208],[35546,33304],[35547,20024],[35548,21547],[35549,23736],[35550,24012],[35551,29609],[35552,30284],[35553,30524],[35554,23721],[35555,32747],[35556,36107],[35557,38593],[35558,38929],[35559,38996],[35560,39e3],[35561,20225],[35562,20238],[35563,21361],[35564,21916],[35565,22120],[35566,22522],[35567,22855],[35568,23305],[35569,23492],[35570,23696],[35571,24076],[35572,24190],[35573,24524],[35574,25582],[35575,26426],[35576,26071],[35577,26082],[35578,26399],[35579,26827],[35580,26820],[35648,27231],[35649,24112],[35650,27589],[35651,27671],[35652,27773],[35653,30079],[35654,31048],[35655,23395],[35656,31232],[35657,32e3],[35658,24509],[35659,35215],[35660,35352],[35661,36020],[35662,36215],[35663,36556],[35664,36637],[35665,39138],[35666,39438],[35667,39740],[35668,20096],[35669,20605],[35670,20736],[35671,22931],[35672,23452],[35673,25135],[35674,25216],[35675,25836],[35676,27450],[35677,29344],[35678,30097],[35679,31047],[35680,32681],[35681,34811],[35682,35516],[35683,35696],[35684,25516],[35685,33738],[35686,38816],[35687,21513],[35688,21507],[35689,21931],[35690,26708],[35691,27224],[35692,35440],[35693,30759],[35694,26485],[35695,40653],[35696,21364],[35697,23458],[35698,33050],[35699,34384],[35700,36870],[35701,19992],[35702,20037],[35703,20167],[35704,20241],[35705,21450],[35706,21560],[35707,23470],[35708,24339],[35709,24613],[35710,25937],[35712,26429],[35713,27714],[35714,27762],[35715,27875],[35716,28792],[35717,29699],[35718,31350],[35719,31406],[35720,31496],[35721,32026],[35722,31998],[35723,32102],[35724,26087],[35725,29275],[35726,21435],[35727,23621],[35728,24040],[35729,25298],[35730,25312],[35731,25369],[35732,28192],[35733,34394],[35734,35377],[35735,36317],[35736,37624],[35737,28417],[35738,31142],[35739,39770],[35740,20136],[35741,20139],[35742,20140],[35743,20379],[35744,20384],[35745,20689],[35746,20807],[35747,31478],[35748,20849],[35749,20982],[35750,21332],[35751,21281],[35752,21375],[35753,21483],[35754,21932],[35755,22659],[35756,23777],[35757,24375],[35758,24394],[35759,24623],[35760,24656],[35761,24685],[35762,25375],[35763,25945],[35764,27211],[35765,27841],[35766,29378],[35767,29421],[35768,30703],[35769,33016],[35770,33029],[35771,33288],[35772,34126],[35773,37111],[35774,37857],[35775,38911],[35776,39255],[35777,39514],[35778,20208],[35779,20957],[35780,23597],[35781,26241],[35782,26989],[35783,23616],[35784,26354],[35785,26997],[35786,29577],[35787,26704],[35788,31873],[35789,20677],[35790,21220],[35791,22343],[35792,24062],[35793,37670],[35794,26020],[35795,27427],[35796,27453],[35797,29748],[35798,31105],[35799,31165],[35800,31563],[35801,32202],[35802,33465],[35803,33740],[35804,34943],[35805,35167],[35806,35641],[35807,36817],[35808,37329],[35809,21535],[35810,37504],[35811,20061],[35812,20534],[35813,21477],[35814,21306],[35815,29399],[35816,29590],[35817,30697],[35818,33510],[35819,36527],[35820,39366],[35821,39368],[35822,39378],[35823,20855],[35824,24858],[35825,34398],[35826,21936],[35827,31354],[35828,20598],[35829,23507],[35830,36935],[35831,38533],[35832,20018],[35833,27355],[35834,37351],[35835,23633],[35836,23624],[35904,25496],[35905,31391],[35906,27795],[35907,38772],[35908,36705],[35909,31402],[35910,29066],[35911,38536],[35912,31874],[35913,26647],[35914,32368],[35915,26705],[35916,37740],[35917,21234],[35918,21531],[35919,34219],[35920,35347],[35921,32676],[35922,36557],[35923,37089],[35924,21350],[35925,34952],[35926,31041],[35927,20418],[35928,20670],[35929,21009],[35930,20804],[35931,21843],[35932,22317],[35933,29674],[35934,22411],[35935,22865],[35936,24418],[35937,24452],[35938,24693],[35939,24950],[35940,24935],[35941,25001],[35942,25522],[35943,25658],[35944,25964],[35945,26223],[35946,26690],[35947,28179],[35948,30054],[35949,31293],[35950,31995],[35951,32076],[35952,32153],[35953,32331],[35954,32619],[35955,33550],[35956,33610],[35957,34509],[35958,35336],[35959,35427],[35960,35686],[35961,36605],[35962,38938],[35963,40335],[35964,33464],[35965,36814],[35966,39912],[35968,21127],[35969,25119],[35970,25731],[35971,28608],[35972,38553],[35973,26689],[35974,20625],[35975,27424],[35976,27770],[35977,28500],[35978,31348],[35979,32080],[35980,34880],[35981,35363],[35982,26376],[35983,20214],[35984,20537],[35985,20518],[35986,20581],[35987,20860],[35988,21048],[35989,21091],[35990,21927],[35991,22287],[35992,22533],[35993,23244],[35994,24314],[35995,25010],[35996,25080],[35997,25331],[35998,25458],[35999,26908],[36e3,27177],[36001,29309],[36002,29356],[36003,29486],[36004,30740],[36005,30831],[36006,32121],[36007,30476],[36008,32937],[36009,35211],[36010,35609],[36011,36066],[36012,36562],[36013,36963],[36014,37749],[36015,38522],[36016,38997],[36017,39443],[36018,40568],[36019,20803],[36020,21407],[36021,21427],[36022,24187],[36023,24358],[36024,28187],[36025,28304],[36026,29572],[36027,29694],[36028,32067],[36029,33335],[36030,35328],[36031,35578],[36032,38480],[36033,20046],[36034,20491],[36035,21476],[36036,21628],[36037,22266],[36038,22993],[36039,23396],[36040,24049],[36041,24235],[36042,24359],[36043,25144],[36044,25925],[36045,26543],[36046,28246],[36047,29392],[36048,31946],[36049,34996],[36050,32929],[36051,32993],[36052,33776],[36053,34382],[36054,35463],[36055,36328],[36056,37431],[36057,38599],[36058,39015],[36059,40723],[36060,20116],[36061,20114],[36062,20237],[36063,21320],[36064,21577],[36065,21566],[36066,23087],[36067,24460],[36068,24481],[36069,24735],[36070,26791],[36071,27278],[36072,29786],[36073,30849],[36074,35486],[36075,35492],[36076,35703],[36077,37264],[36078,20062],[36079,39881],[36080,20132],[36081,20348],[36082,20399],[36083,20505],[36084,20502],[36085,20809],[36086,20844],[36087,21151],[36088,21177],[36089,21246],[36090,21402],[36091,21475],[36092,21521],[36160,21518],[36161,21897],[36162,22353],[36163,22434],[36164,22909],[36165,23380],[36166,23389],[36167,23439],[36168,24037],[36169,24039],[36170,24055],[36171,24184],[36172,24195],[36173,24218],[36174,24247],[36175,24344],[36176,24658],[36177,24908],[36178,25239],[36179,25304],[36180,25511],[36181,25915],[36182,26114],[36183,26179],[36184,26356],[36185,26477],[36186,26657],[36187,26775],[36188,27083],[36189,27743],[36190,27946],[36191,28009],[36192,28207],[36193,28317],[36194,30002],[36195,30343],[36196,30828],[36197,31295],[36198,31968],[36199,32005],[36200,32024],[36201,32094],[36202,32177],[36203,32789],[36204,32771],[36205,32943],[36206,32945],[36207,33108],[36208,33167],[36209,33322],[36210,33618],[36211,34892],[36212,34913],[36213,35611],[36214,36002],[36215,36092],[36216,37066],[36217,37237],[36218,37489],[36219,30783],[36220,37628],[36221,38308],[36222,38477],[36224,38917],[36225,39321],[36226,39640],[36227,40251],[36228,21083],[36229,21163],[36230,21495],[36231,21512],[36232,22741],[36233,25335],[36234,28640],[36235,35946],[36236,36703],[36237,40633],[36238,20811],[36239,21051],[36240,21578],[36241,22269],[36242,31296],[36243,37239],[36244,40288],[36245,40658],[36246,29508],[36247,28425],[36248,33136],[36249,29969],[36250,24573],[36251,24794],[36252,39592],[36253,29403],[36254,36796],[36255,27492],[36256,38915],[36257,20170],[36258,22256],[36259,22372],[36260,22718],[36261,23130],[36262,24680],[36263,25031],[36264,26127],[36265,26118],[36266,26681],[36267,26801],[36268,28151],[36269,30165],[36270,32058],[36271,33390],[36272,39746],[36273,20123],[36274,20304],[36275,21449],[36276,21766],[36277,23919],[36278,24038],[36279,24046],[36280,26619],[36281,27801],[36282,29811],[36283,30722],[36284,35408],[36285,37782],[36286,35039],[36287,22352],[36288,24231],[36289,25387],[36290,20661],[36291,20652],[36292,20877],[36293,26368],[36294,21705],[36295,22622],[36296,22971],[36297,23472],[36298,24425],[36299,25165],[36300,25505],[36301,26685],[36302,27507],[36303,28168],[36304,28797],[36305,37319],[36306,29312],[36307,30741],[36308,30758],[36309,31085],[36310,25998],[36311,32048],[36312,33756],[36313,35009],[36314,36617],[36315,38555],[36316,21092],[36317,22312],[36318,26448],[36319,32618],[36320,36001],[36321,20916],[36322,22338],[36323,38442],[36324,22586],[36325,27018],[36326,32948],[36327,21682],[36328,23822],[36329,22524],[36330,30869],[36331,40442],[36332,20316],[36333,21066],[36334,21643],[36335,25662],[36336,26152],[36337,26388],[36338,26613],[36339,31364],[36340,31574],[36341,32034],[36342,37679],[36343,26716],[36344,39853],[36345,31545],[36346,21273],[36347,20874],[36348,21047],[36416,23519],[36417,25334],[36418,25774],[36419,25830],[36420,26413],[36421,27578],[36422,34217],[36423,38609],[36424,30352],[36425,39894],[36426,25420],[36427,37638],[36428,39851],[36429,30399],[36430,26194],[36431,19977],[36432,20632],[36433,21442],[36434,23665],[36435,24808],[36436,25746],[36437,25955],[36438,26719],[36439,29158],[36440,29642],[36441,29987],[36442,31639],[36443,32386],[36444,34453],[36445,35715],[36446,36059],[36447,37240],[36448,39184],[36449,26028],[36450,26283],[36451,27531],[36452,20181],[36453,20180],[36454,20282],[36455,20351],[36456,21050],[36457,21496],[36458,21490],[36459,21987],[36460,22235],[36461,22763],[36462,22987],[36463,22985],[36464,23039],[36465,23376],[36466,23629],[36467,24066],[36468,24107],[36469,24535],[36470,24605],[36471,25351],[36472,25903],[36473,23388],[36474,26031],[36475,26045],[36476,26088],[36477,26525],[36478,27490],[36480,27515],[36481,27663],[36482,29509],[36483,31049],[36484,31169],[36485,31992],[36486,32025],[36487,32043],[36488,32930],[36489,33026],[36490,33267],[36491,35222],[36492,35422],[36493,35433],[36494,35430],[36495,35468],[36496,35566],[36497,36039],[36498,36060],[36499,38604],[36500,39164],[36501,27503],[36502,20107],[36503,20284],[36504,20365],[36505,20816],[36506,23383],[36507,23546],[36508,24904],[36509,25345],[36510,26178],[36511,27425],[36512,28363],[36513,27835],[36514,29246],[36515,29885],[36516,30164],[36517,30913],[36518,31034],[36519,32780],[36520,32819],[36521,33258],[36522,33940],[36523,36766],[36524,27728],[36525,40575],[36526,24335],[36527,35672],[36528,40235],[36529,31482],[36530,36600],[36531,23437],[36532,38635],[36533,19971],[36534,21489],[36535,22519],[36536,22833],[36537,23241],[36538,23460],[36539,24713],[36540,28287],[36541,28422],[36542,30142],[36543,36074],[36544,23455],[36545,34048],[36546,31712],[36547,20594],[36548,26612],[36549,33437],[36550,23649],[36551,34122],[36552,32286],[36553,33294],[36554,20889],[36555,23556],[36556,25448],[36557,36198],[36558,26012],[36559,29038],[36560,31038],[36561,32023],[36562,32773],[36563,35613],[36564,36554],[36565,36974],[36566,34503],[36567,37034],[36568,20511],[36569,21242],[36570,23610],[36571,26451],[36572,28796],[36573,29237],[36574,37196],[36575,37320],[36576,37675],[36577,33509],[36578,23490],[36579,24369],[36580,24825],[36581,20027],[36582,21462],[36583,23432],[36584,25163],[36585,26417],[36586,27530],[36587,29417],[36588,29664],[36589,31278],[36590,33131],[36591,36259],[36592,37202],[36593,39318],[36594,20754],[36595,21463],[36596,21610],[36597,23551],[36598,25480],[36599,27193],[36600,32172],[36601,38656],[36602,22234],[36603,21454],[36604,21608],[36672,23447],[36673,23601],[36674,24030],[36675,20462],[36676,24833],[36677,25342],[36678,27954],[36679,31168],[36680,31179],[36681,32066],[36682,32333],[36683,32722],[36684,33261],[36685,33311],[36686,33936],[36687,34886],[36688,35186],[36689,35728],[36690,36468],[36691,36655],[36692,36913],[36693,37195],[36694,37228],[36695,38598],[36696,37276],[36697,20160],[36698,20303],[36699,20805],[36700,21313],[36701,24467],[36702,25102],[36703,26580],[36704,27713],[36705,28171],[36706,29539],[36707,32294],[36708,37325],[36709,37507],[36710,21460],[36711,22809],[36712,23487],[36713,28113],[36714,31069],[36715,32302],[36716,31899],[36717,22654],[36718,29087],[36719,20986],[36720,34899],[36721,36848],[36722,20426],[36723,23803],[36724,26149],[36725,30636],[36726,31459],[36727,33308],[36728,39423],[36729,20934],[36730,24490],[36731,26092],[36732,26991],[36733,27529],[36734,28147],[36736,28310],[36737,28516],[36738,30462],[36739,32020],[36740,24033],[36741,36981],[36742,37255],[36743,38918],[36744,20966],[36745,21021],[36746,25152],[36747,26257],[36748,26329],[36749,28186],[36750,24246],[36751,32210],[36752,32626],[36753,26360],[36754,34223],[36755,34295],[36756,35576],[36757,21161],[36758,21465],[36759,22899],[36760,24207],[36761,24464],[36762,24661],[36763,37604],[36764,38500],[36765,20663],[36766,20767],[36767,21213],[36768,21280],[36769,21319],[36770,21484],[36771,21736],[36772,21830],[36773,21809],[36774,22039],[36775,22888],[36776,22974],[36777,23100],[36778,23477],[36779,23558],[36780,23567],[36781,23569],[36782,23578],[36783,24196],[36784,24202],[36785,24288],[36786,24432],[36787,25215],[36788,25220],[36789,25307],[36790,25484],[36791,25463],[36792,26119],[36793,26124],[36794,26157],[36795,26230],[36796,26494],[36797,26786],[36798,27167],[36799,27189],[36800,27836],[36801,28040],[36802,28169],[36803,28248],[36804,28988],[36805,28966],[36806,29031],[36807,30151],[36808,30465],[36809,30813],[36810,30977],[36811,31077],[36812,31216],[36813,31456],[36814,31505],[36815,31911],[36816,32057],[36817,32918],[36818,33750],[36819,33931],[36820,34121],[36821,34909],[36822,35059],[36823,35359],[36824,35388],[36825,35412],[36826,35443],[36827,35937],[36828,36062],[36829,37284],[36830,37478],[36831,37758],[36832,37912],[36833,38556],[36834,38808],[36835,19978],[36836,19976],[36837,19998],[36838,20055],[36839,20887],[36840,21104],[36841,22478],[36842,22580],[36843,22732],[36844,23330],[36845,24120],[36846,24773],[36847,25854],[36848,26465],[36849,26454],[36850,27972],[36851,29366],[36852,30067],[36853,31331],[36854,33976],[36855,35698],[36856,37304],[36857,37664],[36858,22065],[36859,22516],[36860,39166],[36928,25325],[36929,26893],[36930,27542],[36931,29165],[36932,32340],[36933,32887],[36934,33394],[36935,35302],[36936,39135],[36937,34645],[36938,36785],[36939,23611],[36940,20280],[36941,20449],[36942,20405],[36943,21767],[36944,23072],[36945,23517],[36946,23529],[36947,24515],[36948,24910],[36949,25391],[36950,26032],[36951,26187],[36952,26862],[36953,27035],[36954,28024],[36955,28145],[36956,30003],[36957,30137],[36958,30495],[36959,31070],[36960,31206],[36961,32051],[36962,33251],[36963,33455],[36964,34218],[36965,35242],[36966,35386],[36967,36523],[36968,36763],[36969,36914],[36970,37341],[36971,38663],[36972,20154],[36973,20161],[36974,20995],[36975,22645],[36976,22764],[36977,23563],[36978,29978],[36979,23613],[36980,33102],[36981,35338],[36982,36805],[36983,38499],[36984,38765],[36985,31525],[36986,35535],[36987,38920],[36988,37218],[36989,22259],[36990,21416],[36992,36887],[36993,21561],[36994,22402],[36995,24101],[36996,25512],[36997,27700],[36998,28810],[36999,30561],[37e3,31883],[37001,32736],[37002,34928],[37003,36930],[37004,37204],[37005,37648],[37006,37656],[37007,38543],[37008,29790],[37009,39620],[37010,23815],[37011,23913],[37012,25968],[37013,26530],[37014,36264],[37015,38619],[37016,25454],[37017,26441],[37018,26905],[37019,33733],[37020,38935],[37021,38592],[37022,35070],[37023,28548],[37024,25722],[37025,23544],[37026,19990],[37027,28716],[37028,30045],[37029,26159],[37030,20932],[37031,21046],[37032,21218],[37033,22995],[37034,24449],[37035,24615],[37036,25104],[37037,25919],[37038,25972],[37039,26143],[37040,26228],[37041,26866],[37042,26646],[37043,27491],[37044,28165],[37045,29298],[37046,29983],[37047,30427],[37048,31934],[37049,32854],[37050,22768],[37051,35069],[37052,35199],[37053,35488],[37054,35475],[37055,35531],[37056,36893],[37057,37266],[37058,38738],[37059,38745],[37060,25993],[37061,31246],[37062,33030],[37063,38587],[37064,24109],[37065,24796],[37066,25114],[37067,26021],[37068,26132],[37069,26512],[37070,30707],[37071,31309],[37072,31821],[37073,32318],[37074,33034],[37075,36012],[37076,36196],[37077,36321],[37078,36447],[37079,30889],[37080,20999],[37081,25305],[37082,25509],[37083,25666],[37084,25240],[37085,35373],[37086,31363],[37087,31680],[37088,35500],[37089,38634],[37090,32118],[37091,33292],[37092,34633],[37093,20185],[37094,20808],[37095,21315],[37096,21344],[37097,23459],[37098,23554],[37099,23574],[37100,24029],[37101,25126],[37102,25159],[37103,25776],[37104,26643],[37105,26676],[37106,27849],[37107,27973],[37108,27927],[37109,26579],[37110,28508],[37111,29006],[37112,29053],[37113,26059],[37114,31359],[37115,31661],[37116,32218],[37184,32330],[37185,32680],[37186,33146],[37187,33307],[37188,33337],[37189,34214],[37190,35438],[37191,36046],[37192,36341],[37193,36984],[37194,36983],[37195,37549],[37196,37521],[37197,38275],[37198,39854],[37199,21069],[37200,21892],[37201,28472],[37202,28982],[37203,20840],[37204,31109],[37205,32341],[37206,33203],[37207,31950],[37208,22092],[37209,22609],[37210,23720],[37211,25514],[37212,26366],[37213,26365],[37214,26970],[37215,29401],[37216,30095],[37217,30094],[37218,30990],[37219,31062],[37220,31199],[37221,31895],[37222,32032],[37223,32068],[37224,34311],[37225,35380],[37226,38459],[37227,36961],[37228,40736],[37229,20711],[37230,21109],[37231,21452],[37232,21474],[37233,20489],[37234,21930],[37235,22766],[37236,22863],[37237,29245],[37238,23435],[37239,23652],[37240,21277],[37241,24803],[37242,24819],[37243,25436],[37244,25475],[37245,25407],[37246,25531],[37248,25805],[37249,26089],[37250,26361],[37251,24035],[37252,27085],[37253,27133],[37254,28437],[37255,29157],[37256,20105],[37257,30185],[37258,30456],[37259,31379],[37260,31967],[37261,32207],[37262,32156],[37263,32865],[37264,33609],[37265,33624],[37266,33900],[37267,33980],[37268,34299],[37269,35013],[37270,36208],[37271,36865],[37272,36973],[37273,37783],[37274,38684],[37275,39442],[37276,20687],[37277,22679],[37278,24974],[37279,33235],[37280,34101],[37281,36104],[37282,36896],[37283,20419],[37284,20596],[37285,21063],[37286,21363],[37287,24687],[37288,25417],[37289,26463],[37290,28204],[37291,36275],[37292,36895],[37293,20439],[37294,23646],[37295,36042],[37296,26063],[37297,32154],[37298,21330],[37299,34966],[37300,20854],[37301,25539],[37302,23384],[37303,23403],[37304,23562],[37305,25613],[37306,26449],[37307,36956],[37308,20182],[37309,22810],[37310,22826],[37311,27760],[37312,35409],[37313,21822],[37314,22549],[37315,22949],[37316,24816],[37317,25171],[37318,26561],[37319,33333],[37320,26965],[37321,38464],[37322,39364],[37323,39464],[37324,20307],[37325,22534],[37326,23550],[37327,32784],[37328,23729],[37329,24111],[37330,24453],[37331,24608],[37332,24907],[37333,25140],[37334,26367],[37335,27888],[37336,28382],[37337,32974],[37338,33151],[37339,33492],[37340,34955],[37341,36024],[37342,36864],[37343,36910],[37344,38538],[37345,40667],[37346,39899],[37347,20195],[37348,21488],[37349,22823],[37350,31532],[37351,37261],[37352,38988],[37353,40441],[37354,28381],[37355,28711],[37356,21331],[37357,21828],[37358,23429],[37359,25176],[37360,25246],[37361,25299],[37362,27810],[37363,28655],[37364,29730],[37365,35351],[37366,37944],[37367,28609],[37368,35582],[37369,33592],[37370,20967],[37371,34552],[37372,21482],[37440,21481],[37441,20294],[37442,36948],[37443,36784],[37444,22890],[37445,33073],[37446,24061],[37447,31466],[37448,36799],[37449,26842],[37450,35895],[37451,29432],[37452,40008],[37453,27197],[37454,35504],[37455,20025],[37456,21336],[37457,22022],[37458,22374],[37459,25285],[37460,25506],[37461,26086],[37462,27470],[37463,28129],[37464,28251],[37465,28845],[37466,30701],[37467,31471],[37468,31658],[37469,32187],[37470,32829],[37471,32966],[37472,34507],[37473,35477],[37474,37723],[37475,22243],[37476,22727],[37477,24382],[37478,26029],[37479,26262],[37480,27264],[37481,27573],[37482,30007],[37483,35527],[37484,20516],[37485,30693],[37486,22320],[37487,24347],[37488,24677],[37489,26234],[37490,27744],[37491,30196],[37492,31258],[37493,32622],[37494,33268],[37495,34584],[37496,36933],[37497,39347],[37498,31689],[37499,30044],[37500,31481],[37501,31569],[37502,33988],[37504,36880],[37505,31209],[37506,31378],[37507,33590],[37508,23265],[37509,30528],[37510,20013],[37511,20210],[37512,23449],[37513,24544],[37514,25277],[37515,26172],[37516,26609],[37517,27880],[37518,34411],[37519,34935],[37520,35387],[37521,37198],[37522,37619],[37523,39376],[37524,27159],[37525,28710],[37526,29482],[37527,33511],[37528,33879],[37529,36015],[37530,19969],[37531,20806],[37532,20939],[37533,21899],[37534,23541],[37535,24086],[37536,24115],[37537,24193],[37538,24340],[37539,24373],[37540,24427],[37541,24500],[37542,25074],[37543,25361],[37544,26274],[37545,26397],[37546,28526],[37547,29266],[37548,30010],[37549,30522],[37550,32884],[37551,33081],[37552,33144],[37553,34678],[37554,35519],[37555,35548],[37556,36229],[37557,36339],[37558,37530],[37559,38263],[37560,38914],[37561,40165],[37562,21189],[37563,25431],[37564,30452],[37565,26389],[37566,27784],[37567,29645],[37568,36035],[37569,37806],[37570,38515],[37571,27941],[37572,22684],[37573,26894],[37574,27084],[37575,36861],[37576,37786],[37577,30171],[37578,36890],[37579,22618],[37580,26626],[37581,25524],[37582,27131],[37583,20291],[37584,28460],[37585,26584],[37586,36795],[37587,34086],[37588,32180],[37589,37716],[37590,26943],[37591,28528],[37592,22378],[37593,22775],[37594,23340],[37595,32044],[37596,29226],[37597,21514],[37598,37347],[37599,40372],[37600,20141],[37601,20302],[37602,20572],[37603,20597],[37604,21059],[37605,35998],[37606,21576],[37607,22564],[37608,23450],[37609,24093],[37610,24213],[37611,24237],[37612,24311],[37613,24351],[37614,24716],[37615,25269],[37616,25402],[37617,25552],[37618,26799],[37619,27712],[37620,30855],[37621,31118],[37622,31243],[37623,32224],[37624,33351],[37625,35330],[37626,35558],[37627,36420],[37628,36883],[37696,37048],[37697,37165],[37698,37336],[37699,40718],[37700,27877],[37701,25688],[37702,25826],[37703,25973],[37704,28404],[37705,30340],[37706,31515],[37707,36969],[37708,37841],[37709,28346],[37710,21746],[37711,24505],[37712,25764],[37713,36685],[37714,36845],[37715,37444],[37716,20856],[37717,22635],[37718,22825],[37719,23637],[37720,24215],[37721,28155],[37722,32399],[37723,29980],[37724,36028],[37725,36578],[37726,39003],[37727,28857],[37728,20253],[37729,27583],[37730,28593],[37731,3e4],[37732,38651],[37733,20814],[37734,21520],[37735,22581],[37736,22615],[37737,22956],[37738,23648],[37739,24466],[37740,26007],[37741,26460],[37742,28193],[37743,30331],[37744,33759],[37745,36077],[37746,36884],[37747,37117],[37748,37709],[37749,30757],[37750,30778],[37751,21162],[37752,24230],[37753,22303],[37754,22900],[37755,24594],[37756,20498],[37757,20826],[37758,20908],[37760,20941],[37761,20992],[37762,21776],[37763,22612],[37764,22616],[37765,22871],[37766,23445],[37767,23798],[37768,23947],[37769,24764],[37770,25237],[37771,25645],[37772,26481],[37773,26691],[37774,26812],[37775,26847],[37776,30423],[37777,28120],[37778,28271],[37779,28059],[37780,28783],[37781,29128],[37782,24403],[37783,30168],[37784,31095],[37785,31561],[37786,31572],[37787,31570],[37788,31958],[37789,32113],[37790,21040],[37791,33891],[37792,34153],[37793,34276],[37794,35342],[37795,35588],[37796,35910],[37797,36367],[37798,36867],[37799,36879],[37800,37913],[37801,38518],[37802,38957],[37803,39472],[37804,38360],[37805,20685],[37806,21205],[37807,21516],[37808,22530],[37809,23566],[37810,24999],[37811,25758],[37812,27934],[37813,30643],[37814,31461],[37815,33012],[37816,33796],[37817,36947],[37818,37509],[37819,23776],[37820,40199],[37821,21311],[37822,24471],[37823,24499],[37824,28060],[37825,29305],[37826,30563],[37827,31167],[37828,31716],[37829,27602],[37830,29420],[37831,35501],[37832,26627],[37833,27233],[37834,20984],[37835,31361],[37836,26932],[37837,23626],[37838,40182],[37839,33515],[37840,23493],[37841,37193],[37842,28702],[37843,22136],[37844,23663],[37845,24775],[37846,25958],[37847,27788],[37848,35930],[37849,36929],[37850,38931],[37851,21585],[37852,26311],[37853,37389],[37854,22856],[37855,37027],[37856,20869],[37857,20045],[37858,20970],[37859,34201],[37860,35598],[37861,28760],[37862,25466],[37863,37707],[37864,26978],[37865,39348],[37866,32260],[37867,30071],[37868,21335],[37869,26976],[37870,36575],[37871,38627],[37872,27741],[37873,20108],[37874,23612],[37875,24336],[37876,36841],[37877,21250],[37878,36049],[37879,32905],[37880,34425],[37881,24319],[37882,26085],[37883,20083],[37884,20837],[37952,22914],[37953,23615],[37954,38894],[37955,20219],[37956,22922],[37957,24525],[37958,35469],[37959,28641],[37960,31152],[37961,31074],[37962,23527],[37963,33905],[37964,29483],[37965,29105],[37966,24180],[37967,24565],[37968,25467],[37969,25754],[37970,29123],[37971,31896],[37972,20035],[37973,24316],[37974,20043],[37975,22492],[37976,22178],[37977,24745],[37978,28611],[37979,32013],[37980,33021],[37981,33075],[37982,33215],[37983,36786],[37984,35223],[37985,34468],[37986,24052],[37987,25226],[37988,25773],[37989,35207],[37990,26487],[37991,27874],[37992,27966],[37993,29750],[37994,30772],[37995,23110],[37996,32629],[37997,33453],[37998,39340],[37999,20467],[38e3,24259],[38001,25309],[38002,25490],[38003,25943],[38004,26479],[38005,30403],[38006,29260],[38007,32972],[38008,32954],[38009,36649],[38010,37197],[38011,20493],[38012,22521],[38013,23186],[38014,26757],[38016,26995],[38017,29028],[38018,29437],[38019,36023],[38020,22770],[38021,36064],[38022,38506],[38023,36889],[38024,34687],[38025,31204],[38026,30695],[38027,33833],[38028,20271],[38029,21093],[38030,21338],[38031,25293],[38032,26575],[38033,27850],[38034,30333],[38035,31636],[38036,31893],[38037,33334],[38038,34180],[38039,36843],[38040,26333],[38041,28448],[38042,29190],[38043,32283],[38044,33707],[38045,39361],[38046,40614],[38047,20989],[38048,31665],[38049,30834],[38050,31672],[38051,32903],[38052,31560],[38053,27368],[38054,24161],[38055,32908],[38056,30033],[38057,30048],[38058,20843],[38059,37474],[38060,28300],[38061,30330],[38062,37271],[38063,39658],[38064,20240],[38065,32624],[38066,25244],[38067,31567],[38068,38309],[38069,40169],[38070,22138],[38071,22617],[38072,34532],[38073,38588],[38074,20276],[38075,21028],[38076,21322],[38077,21453],[38078,21467],[38079,24070],[38080,25644],[38081,26001],[38082,26495],[38083,27710],[38084,27726],[38085,29256],[38086,29359],[38087,29677],[38088,30036],[38089,32321],[38090,33324],[38091,34281],[38092,36009],[38093,31684],[38094,37318],[38095,29033],[38096,38930],[38097,39151],[38098,25405],[38099,26217],[38100,30058],[38101,30436],[38102,30928],[38103,34115],[38104,34542],[38105,21290],[38106,21329],[38107,21542],[38108,22915],[38109,24199],[38110,24444],[38111,24754],[38112,25161],[38113,25209],[38114,25259],[38115,26e3],[38116,27604],[38117,27852],[38118,30130],[38119,30382],[38120,30865],[38121,31192],[38122,32203],[38123,32631],[38124,32933],[38125,34987],[38126,35513],[38127,36027],[38128,36991],[38129,38750],[38130,39131],[38131,27147],[38132,31800],[38133,20633],[38134,23614],[38135,24494],[38136,26503],[38137,27608],[38138,29749],[38139,30473],[38140,32654],[38208,40763],[38209,26570],[38210,31255],[38211,21305],[38212,30091],[38213,39661],[38214,24422],[38215,33181],[38216,33777],[38217,32920],[38218,24380],[38219,24517],[38220,30050],[38221,31558],[38222,36924],[38223,26727],[38224,23019],[38225,23195],[38226,32016],[38227,30334],[38228,35628],[38229,20469],[38230,24426],[38231,27161],[38232,27703],[38233,28418],[38234,29922],[38235,31080],[38236,34920],[38237,35413],[38238,35961],[38239,24287],[38240,25551],[38241,30149],[38242,31186],[38243,33495],[38244,37672],[38245,37618],[38246,33948],[38247,34541],[38248,39981],[38249,21697],[38250,24428],[38251,25996],[38252,27996],[38253,28693],[38254,36007],[38255,36051],[38256,38971],[38257,25935],[38258,29942],[38259,19981],[38260,20184],[38261,22496],[38262,22827],[38263,23142],[38264,23500],[38265,20904],[38266,24067],[38267,24220],[38268,24598],[38269,25206],[38270,25975],[38272,26023],[38273,26222],[38274,28014],[38275,29238],[38276,31526],[38277,33104],[38278,33178],[38279,33433],[38280,35676],[38281,36e3],[38282,36070],[38283,36212],[38284,38428],[38285,38468],[38286,20398],[38287,25771],[38288,27494],[38289,33310],[38290,33889],[38291,34154],[38292,37096],[38293,23553],[38294,26963],[38295,39080],[38296,33914],[38297,34135],[38298,20239],[38299,21103],[38300,24489],[38301,24133],[38302,26381],[38303,31119],[38304,33145],[38305,35079],[38306,35206],[38307,28149],[38308,24343],[38309,25173],[38310,27832],[38311,20175],[38312,29289],[38313,39826],[38314,20998],[38315,21563],[38316,22132],[38317,22707],[38318,24996],[38319,25198],[38320,28954],[38321,22894],[38322,31881],[38323,31966],[38324,32027],[38325,38640],[38326,25991],[38327,32862],[38328,19993],[38329,20341],[38330,20853],[38331,22592],[38332,24163],[38333,24179],[38334,24330],[38335,26564],[38336,20006],[38337,34109],[38338,38281],[38339,38491],[38340,31859],[38341,38913],[38342,20731],[38343,22721],[38344,30294],[38345,30887],[38346,21029],[38347,30629],[38348,34065],[38349,31622],[38350,20559],[38351,22793],[38352,29255],[38353,31687],[38354,32232],[38355,36794],[38356,36820],[38357,36941],[38358,20415],[38359,21193],[38360,23081],[38361,24321],[38362,38829],[38363,20445],[38364,33303],[38365,37610],[38366,22275],[38367,25429],[38368,27497],[38369,29995],[38370,35036],[38371,36628],[38372,31298],[38373,21215],[38374,22675],[38375,24917],[38376,25098],[38377,26286],[38378,27597],[38379,31807],[38380,33769],[38381,20515],[38382,20472],[38383,21253],[38384,21574],[38385,22577],[38386,22857],[38387,23453],[38388,23792],[38389,23791],[38390,23849],[38391,24214],[38392,25265],[38393,25447],[38394,25918],[38395,26041],[38396,26379],[38464,27861],[38465,27873],[38466,28921],[38467,30770],[38468,32299],[38469,32990],[38470,33459],[38471,33804],[38472,34028],[38473,34562],[38474,35090],[38475,35370],[38476,35914],[38477,37030],[38478,37586],[38479,39165],[38480,40179],[38481,40300],[38482,20047],[38483,20129],[38484,20621],[38485,21078],[38486,22346],[38487,22952],[38488,24125],[38489,24536],[38490,24537],[38491,25151],[38492,26292],[38493,26395],[38494,26576],[38495,26834],[38496,20882],[38497,32033],[38498,32938],[38499,33192],[38500,35584],[38501,35980],[38502,36031],[38503,37502],[38504,38450],[38505,21536],[38506,38956],[38507,21271],[38508,20693],[38509,21340],[38510,22696],[38511,25778],[38512,26420],[38513,29287],[38514,30566],[38515,31302],[38516,37350],[38517,21187],[38518,27809],[38519,27526],[38520,22528],[38521,24140],[38522,22868],[38523,26412],[38524,32763],[38525,20961],[38526,30406],[38528,25705],[38529,30952],[38530,39764],[38531,40635],[38532,22475],[38533,22969],[38534,26151],[38535,26522],[38536,27598],[38537,21737],[38538,27097],[38539,24149],[38540,33180],[38541,26517],[38542,39850],[38543,26622],[38544,40018],[38545,26717],[38546,20134],[38547,20451],[38548,21448],[38549,25273],[38550,26411],[38551,27819],[38552,36804],[38553,20397],[38554,32365],[38555,40639],[38556,19975],[38557,24930],[38558,28288],[38559,28459],[38560,34067],[38561,21619],[38562,26410],[38563,39749],[38564,24051],[38565,31637],[38566,23724],[38567,23494],[38568,34588],[38569,28234],[38570,34001],[38571,31252],[38572,33032],[38573,22937],[38574,31885],[38575,27665],[38576,30496],[38577,21209],[38578,22818],[38579,28961],[38580,29279],[38581,30683],[38582,38695],[38583,40289],[38584,26891],[38585,23167],[38586,23064],[38587,20901],[38588,21517],[38589,21629],[38590,26126],[38591,30431],[38592,36855],[38593,37528],[38594,40180],[38595,23018],[38596,29277],[38597,28357],[38598,20813],[38599,26825],[38600,32191],[38601,32236],[38602,38754],[38603,40634],[38604,25720],[38605,27169],[38606,33538],[38607,22916],[38608,23391],[38609,27611],[38610,29467],[38611,30450],[38612,32178],[38613,32791],[38614,33945],[38615,20786],[38616,26408],[38617,40665],[38618,30446],[38619,26466],[38620,21247],[38621,39173],[38622,23588],[38623,25147],[38624,31870],[38625,36016],[38626,21839],[38627,24758],[38628,32011],[38629,38272],[38630,21249],[38631,20063],[38632,20918],[38633,22812],[38634,29242],[38635,32822],[38636,37326],[38637,24357],[38638,30690],[38639,21380],[38640,24441],[38641,32004],[38642,34220],[38643,35379],[38644,36493],[38645,38742],[38646,26611],[38647,34222],[38648,37971],[38649,24841],[38650,24840],[38651,27833],[38652,30290],[38720,35565],[38721,36664],[38722,21807],[38723,20305],[38724,20778],[38725,21191],[38726,21451],[38727,23461],[38728,24189],[38729,24736],[38730,24962],[38731,25558],[38732,26377],[38733,26586],[38734,28263],[38735,28044],[38736,29494],[38737,29495],[38738,30001],[38739,31056],[38740,35029],[38741,35480],[38742,36938],[38743,37009],[38744,37109],[38745,38596],[38746,34701],[38747,22805],[38748,20104],[38749,20313],[38750,19982],[38751,35465],[38752,36671],[38753,38928],[38754,20653],[38755,24188],[38756,22934],[38757,23481],[38758,24248],[38759,25562],[38760,25594],[38761,25793],[38762,26332],[38763,26954],[38764,27096],[38765,27915],[38766,28342],[38767,29076],[38768,29992],[38769,31407],[38770,32650],[38771,32768],[38772,33865],[38773,33993],[38774,35201],[38775,35617],[38776,36362],[38777,36965],[38778,38525],[38779,39178],[38780,24958],[38781,25233],[38782,27442],[38784,27779],[38785,28020],[38786,32716],[38787,32764],[38788,28096],[38789,32645],[38790,34746],[38791,35064],[38792,26469],[38793,33713],[38794,38972],[38795,38647],[38796,27931],[38797,32097],[38798,33853],[38799,37226],[38800,20081],[38801,21365],[38802,23888],[38803,27396],[38804,28651],[38805,34253],[38806,34349],[38807,35239],[38808,21033],[38809,21519],[38810,23653],[38811,26446],[38812,26792],[38813,29702],[38814,29827],[38815,30178],[38816,35023],[38817,35041],[38818,37324],[38819,38626],[38820,38520],[38821,24459],[38822,29575],[38823,31435],[38824,33870],[38825,25504],[38826,30053],[38827,21129],[38828,27969],[38829,28316],[38830,29705],[38831,30041],[38832,30827],[38833,31890],[38834,38534],[38835,31452],[38836,40845],[38837,20406],[38838,24942],[38839,26053],[38840,34396],[38841,20102],[38842,20142],[38843,20698],[38844,20001],[38845,20940],[38846,23534],[38847,26009],[38848,26753],[38849,28092],[38850,29471],[38851,30274],[38852,30637],[38853,31260],[38854,31975],[38855,33391],[38856,35538],[38857,36988],[38858,37327],[38859,38517],[38860,38936],[38861,21147],[38862,32209],[38863,20523],[38864,21400],[38865,26519],[38866,28107],[38867,29136],[38868,29747],[38869,33256],[38870,36650],[38871,38563],[38872,40023],[38873,40607],[38874,29792],[38875,22593],[38876,28057],[38877,32047],[38878,39006],[38879,20196],[38880,20278],[38881,20363],[38882,20919],[38883,21169],[38884,23994],[38885,24604],[38886,29618],[38887,31036],[38888,33491],[38889,37428],[38890,38583],[38891,38646],[38892,38666],[38893,40599],[38894,40802],[38895,26278],[38896,27508],[38897,21015],[38898,21155],[38899,28872],[38900,35010],[38901,24265],[38902,24651],[38903,24976],[38904,28451],[38905,29001],[38906,31806],[38907,32244],[38908,32879],[38976,34030],[38977,36899],[38978,37676],[38979,21570],[38980,39791],[38981,27347],[38982,28809],[38983,36034],[38984,36335],[38985,38706],[38986,21172],[38987,23105],[38988,24266],[38989,24324],[38990,26391],[38991,27004],[38992,27028],[38993,28010],[38994,28431],[38995,29282],[38996,29436],[38997,31725],[38998,32769],[38999,32894],[39e3,34635],[39001,37070],[39002,20845],[39003,40595],[39004,31108],[39005,32907],[39006,37682],[39007,35542],[39008,20525],[39009,21644],[39010,35441],[39011,27498],[39012,36036],[39013,33031],[39014,24785],[39015,26528],[39016,40434],[39017,20121],[39018,20120],[39019,39952],[39020,35435],[39021,34241],[39022,34152],[39023,26880],[39024,28286],[39025,30871],[39026,33109],[39071,24332],[39072,19984],[39073,19989],[39074,20010],[39075,20017],[39076,20022],[39077,20028],[39078,20031],[39079,20034],[39080,20054],[39081,20056],[39082,20098],[39083,20101],[39084,35947],[39085,20106],[39086,33298],[39087,24333],[39088,20110],[39089,20126],[39090,20127],[39091,20128],[39092,20130],[39093,20144],[39094,20147],[39095,20150],[39096,20174],[39097,20173],[39098,20164],[39099,20166],[39100,20162],[39101,20183],[39102,20190],[39103,20205],[39104,20191],[39105,20215],[39106,20233],[39107,20314],[39108,20272],[39109,20315],[39110,20317],[39111,20311],[39112,20295],[39113,20342],[39114,20360],[39115,20367],[39116,20376],[39117,20347],[39118,20329],[39119,20336],[39120,20369],[39121,20335],[39122,20358],[39123,20374],[39124,20760],[39125,20436],[39126,20447],[39127,20430],[39128,20440],[39129,20443],[39130,20433],[39131,20442],[39132,20432],[39133,20452],[39134,20453],[39135,20506],[39136,20520],[39137,20500],[39138,20522],[39139,20517],[39140,20485],[39141,20252],[39142,20470],[39143,20513],[39144,20521],[39145,20524],[39146,20478],[39147,20463],[39148,20497],[39149,20486],[39150,20547],[39151,20551],[39152,26371],[39153,20565],[39154,20560],[39155,20552],[39156,20570],[39157,20566],[39158,20588],[39159,20600],[39160,20608],[39161,20634],[39162,20613],[39163,20660],[39164,20658],[39232,20681],[39233,20682],[39234,20659],[39235,20674],[39236,20694],[39237,20702],[39238,20709],[39239,20717],[39240,20707],[39241,20718],[39242,20729],[39243,20725],[39244,20745],[39245,20737],[39246,20738],[39247,20758],[39248,20757],[39249,20756],[39250,20762],[39251,20769],[39252,20794],[39253,20791],[39254,20796],[39255,20795],[39256,20799],[39257,20800],[39258,20818],[39259,20812],[39260,20820],[39261,20834],[39262,31480],[39263,20841],[39264,20842],[39265,20846],[39266,20864],[39267,20866],[39268,22232],[39269,20876],[39270,20873],[39271,20879],[39272,20881],[39273,20883],[39274,20885],[39275,20886],[39276,20900],[39277,20902],[39278,20898],[39279,20905],[39280,20906],[39281,20907],[39282,20915],[39283,20913],[39284,20914],[39285,20912],[39286,20917],[39287,20925],[39288,20933],[39289,20937],[39290,20955],[39291,20960],[39292,34389],[39293,20969],[39294,20973],[39296,20976],[39297,20981],[39298,20990],[39299,20996],[39300,21003],[39301,21012],[39302,21006],[39303,21031],[39304,21034],[39305,21038],[39306,21043],[39307,21049],[39308,21071],[39309,21060],[39310,21067],[39311,21068],[39312,21086],[39313,21076],[39314,21098],[39315,21108],[39316,21097],[39317,21107],[39318,21119],[39319,21117],[39320,21133],[39321,21140],[39322,21138],[39323,21105],[39324,21128],[39325,21137],[39326,36776],[39327,36775],[39328,21164],[39329,21165],[39330,21180],[39331,21173],[39332,21185],[39333,21197],[39334,21207],[39335,21214],[39336,21219],[39337,21222],[39338,39149],[39339,21216],[39340,21235],[39341,21237],[39342,21240],[39343,21241],[39344,21254],[39345,21256],[39346,30008],[39347,21261],[39348,21264],[39349,21263],[39350,21269],[39351,21274],[39352,21283],[39353,21295],[39354,21297],[39355,21299],[39356,21304],[39357,21312],[39358,21318],[39359,21317],[39360,19991],[39361,21321],[39362,21325],[39363,20950],[39364,21342],[39365,21353],[39366,21358],[39367,22808],[39368,21371],[39369,21367],[39370,21378],[39371,21398],[39372,21408],[39373,21414],[39374,21413],[39375,21422],[39376,21424],[39377,21430],[39378,21443],[39379,31762],[39380,38617],[39381,21471],[39382,26364],[39383,29166],[39384,21486],[39385,21480],[39386,21485],[39387,21498],[39388,21505],[39389,21565],[39390,21568],[39391,21548],[39392,21549],[39393,21564],[39394,21550],[39395,21558],[39396,21545],[39397,21533],[39398,21582],[39399,21647],[39400,21621],[39401,21646],[39402,21599],[39403,21617],[39404,21623],[39405,21616],[39406,21650],[39407,21627],[39408,21632],[39409,21622],[39410,21636],[39411,21648],[39412,21638],[39413,21703],[39414,21666],[39415,21688],[39416,21669],[39417,21676],[39418,21700],[39419,21704],[39420,21672],[39488,21675],[39489,21698],[39490,21668],[39491,21694],[39492,21692],[39493,21720],[39494,21733],[39495,21734],[39496,21775],[39497,21780],[39498,21757],[39499,21742],[39500,21741],[39501,21754],[39502,21730],[39503,21817],[39504,21824],[39505,21859],[39506,21836],[39507,21806],[39508,21852],[39509,21829],[39510,21846],[39511,21847],[39512,21816],[39513,21811],[39514,21853],[39515,21913],[39516,21888],[39517,21679],[39518,21898],[39519,21919],[39520,21883],[39521,21886],[39522,21912],[39523,21918],[39524,21934],[39525,21884],[39526,21891],[39527,21929],[39528,21895],[39529,21928],[39530,21978],[39531,21957],[39532,21983],[39533,21956],[39534,21980],[39535,21988],[39536,21972],[39537,22036],[39538,22007],[39539,22038],[39540,22014],[39541,22013],[39542,22043],[39543,22009],[39544,22094],[39545,22096],[39546,29151],[39547,22068],[39548,22070],[39549,22066],[39550,22072],[39552,22123],[39553,22116],[39554,22063],[39555,22124],[39556,22122],[39557,22150],[39558,22144],[39559,22154],[39560,22176],[39561,22164],[39562,22159],[39563,22181],[39564,22190],[39565,22198],[39566,22196],[39567,22210],[39568,22204],[39569,22209],[39570,22211],[39571,22208],[39572,22216],[39573,22222],[39574,22225],[39575,22227],[39576,22231],[39577,22254],[39578,22265],[39579,22272],[39580,22271],[39581,22276],[39582,22281],[39583,22280],[39584,22283],[39585,22285],[39586,22291],[39587,22296],[39588,22294],[39589,21959],[39590,22300],[39591,22310],[39592,22327],[39593,22328],[39594,22350],[39595,22331],[39596,22336],[39597,22351],[39598,22377],[39599,22464],[39600,22408],[39601,22369],[39602,22399],[39603,22409],[39604,22419],[39605,22432],[39606,22451],[39607,22436],[39608,22442],[39609,22448],[39610,22467],[39611,22470],[39612,22484],[39613,22482],[39614,22483],[39615,22538],[39616,22486],[39617,22499],[39618,22539],[39619,22553],[39620,22557],[39621,22642],[39622,22561],[39623,22626],[39624,22603],[39625,22640],[39626,27584],[39627,22610],[39628,22589],[39629,22649],[39630,22661],[39631,22713],[39632,22687],[39633,22699],[39634,22714],[39635,22750],[39636,22715],[39637,22712],[39638,22702],[39639,22725],[39640,22739],[39641,22737],[39642,22743],[39643,22745],[39644,22744],[39645,22757],[39646,22748],[39647,22756],[39648,22751],[39649,22767],[39650,22778],[39651,22777],[39652,22779],[39653,22780],[39654,22781],[39655,22786],[39656,22794],[39657,22800],[39658,22811],[39659,26790],[39660,22821],[39661,22828],[39662,22829],[39663,22834],[39664,22840],[39665,22846],[39666,31442],[39667,22869],[39668,22864],[39669,22862],[39670,22874],[39671,22872],[39672,22882],[39673,22880],[39674,22887],[39675,22892],[39676,22889],[39744,22904],[39745,22913],[39746,22941],[39747,20318],[39748,20395],[39749,22947],[39750,22962],[39751,22982],[39752,23016],[39753,23004],[39754,22925],[39755,23001],[39756,23002],[39757,23077],[39758,23071],[39759,23057],[39760,23068],[39761,23049],[39762,23066],[39763,23104],[39764,23148],[39765,23113],[39766,23093],[39767,23094],[39768,23138],[39769,23146],[39770,23194],[39771,23228],[39772,23230],[39773,23243],[39774,23234],[39775,23229],[39776,23267],[39777,23255],[39778,23270],[39779,23273],[39780,23254],[39781,23290],[39782,23291],[39783,23308],[39784,23307],[39785,23318],[39786,23346],[39787,23248],[39788,23338],[39789,23350],[39790,23358],[39791,23363],[39792,23365],[39793,23360],[39794,23377],[39795,23381],[39796,23386],[39797,23387],[39798,23397],[39799,23401],[39800,23408],[39801,23411],[39802,23413],[39803,23416],[39804,25992],[39805,23418],[39806,23424],[39808,23427],[39809,23462],[39810,23480],[39811,23491],[39812,23495],[39813,23497],[39814,23508],[39815,23504],[39816,23524],[39817,23526],[39818,23522],[39819,23518],[39820,23525],[39821,23531],[39822,23536],[39823,23542],[39824,23539],[39825,23557],[39826,23559],[39827,23560],[39828,23565],[39829,23571],[39830,23584],[39831,23586],[39832,23592],[39833,23608],[39834,23609],[39835,23617],[39836,23622],[39837,23630],[39838,23635],[39839,23632],[39840,23631],[39841,23409],[39842,23660],[39843,23662],[39844,20066],[39845,23670],[39846,23673],[39847,23692],[39848,23697],[39849,23700],[39850,22939],[39851,23723],[39852,23739],[39853,23734],[39854,23740],[39855,23735],[39856,23749],[39857,23742],[39858,23751],[39859,23769],[39860,23785],[39861,23805],[39862,23802],[39863,23789],[39864,23948],[39865,23786],[39866,23819],[39867,23829],[39868,23831],[39869,23900],[39870,23839],[39871,23835],[39872,23825],[39873,23828],[39874,23842],[39875,23834],[39876,23833],[39877,23832],[39878,23884],[39879,23890],[39880,23886],[39881,23883],[39882,23916],[39883,23923],[39884,23926],[39885,23943],[39886,23940],[39887,23938],[39888,23970],[39889,23965],[39890,23980],[39891,23982],[39892,23997],[39893,23952],[39894,23991],[39895,23996],[39896,24009],[39897,24013],[39898,24019],[39899,24018],[39900,24022],[39901,24027],[39902,24043],[39903,24050],[39904,24053],[39905,24075],[39906,24090],[39907,24089],[39908,24081],[39909,24091],[39910,24118],[39911,24119],[39912,24132],[39913,24131],[39914,24128],[39915,24142],[39916,24151],[39917,24148],[39918,24159],[39919,24162],[39920,24164],[39921,24135],[39922,24181],[39923,24182],[39924,24186],[39925,40636],[39926,24191],[39927,24224],[39928,24257],[39929,24258],[39930,24264],[39931,24272],[39932,24271],[4e4,24278],[40001,24291],[40002,24285],[40003,24282],[40004,24283],[40005,24290],[40006,24289],[40007,24296],[40008,24297],[40009,24300],[40010,24305],[40011,24307],[40012,24304],[40013,24308],[40014,24312],[40015,24318],[40016,24323],[40017,24329],[40018,24413],[40019,24412],[40020,24331],[40021,24337],[40022,24342],[40023,24361],[40024,24365],[40025,24376],[40026,24385],[40027,24392],[40028,24396],[40029,24398],[40030,24367],[40031,24401],[40032,24406],[40033,24407],[40034,24409],[40035,24417],[40036,24429],[40037,24435],[40038,24439],[40039,24451],[40040,24450],[40041,24447],[40042,24458],[40043,24456],[40044,24465],[40045,24455],[40046,24478],[40047,24473],[40048,24472],[40049,24480],[40050,24488],[40051,24493],[40052,24508],[40053,24534],[40054,24571],[40055,24548],[40056,24568],[40057,24561],[40058,24541],[40059,24755],[40060,24575],[40061,24609],[40062,24672],[40064,24601],[40065,24592],[40066,24617],[40067,24590],[40068,24625],[40069,24603],[40070,24597],[40071,24619],[40072,24614],[40073,24591],[40074,24634],[40075,24666],[40076,24641],[40077,24682],[40078,24695],[40079,24671],[40080,24650],[40081,24646],[40082,24653],[40083,24675],[40084,24643],[40085,24676],[40086,24642],[40087,24684],[40088,24683],[40089,24665],[40090,24705],[40091,24717],[40092,24807],[40093,24707],[40094,24730],[40095,24708],[40096,24731],[40097,24726],[40098,24727],[40099,24722],[40100,24743],[40101,24715],[40102,24801],[40103,24760],[40104,24800],[40105,24787],[40106,24756],[40107,24560],[40108,24765],[40109,24774],[40110,24757],[40111,24792],[40112,24909],[40113,24853],[40114,24838],[40115,24822],[40116,24823],[40117,24832],[40118,24820],[40119,24826],[40120,24835],[40121,24865],[40122,24827],[40123,24817],[40124,24845],[40125,24846],[40126,24903],[40127,24894],[40128,24872],[40129,24871],[40130,24906],[40131,24895],[40132,24892],[40133,24876],[40134,24884],[40135,24893],[40136,24898],[40137,24900],[40138,24947],[40139,24951],[40140,24920],[40141,24921],[40142,24922],[40143,24939],[40144,24948],[40145,24943],[40146,24933],[40147,24945],[40148,24927],[40149,24925],[40150,24915],[40151,24949],[40152,24985],[40153,24982],[40154,24967],[40155,25004],[40156,24980],[40157,24986],[40158,24970],[40159,24977],[40160,25003],[40161,25006],[40162,25036],[40163,25034],[40164,25033],[40165,25079],[40166,25032],[40167,25027],[40168,25030],[40169,25018],[40170,25035],[40171,32633],[40172,25037],[40173,25062],[40174,25059],[40175,25078],[40176,25082],[40177,25076],[40178,25087],[40179,25085],[40180,25084],[40181,25086],[40182,25088],[40183,25096],[40184,25097],[40185,25101],[40186,25100],[40187,25108],[40188,25115],[40256,25118],[40257,25121],[40258,25130],[40259,25134],[40260,25136],[40261,25138],[40262,25139],[40263,25153],[40264,25166],[40265,25182],[40266,25187],[40267,25179],[40268,25184],[40269,25192],[40270,25212],[40271,25218],[40272,25225],[40273,25214],[40274,25234],[40275,25235],[40276,25238],[40277,25300],[40278,25219],[40279,25236],[40280,25303],[40281,25297],[40282,25275],[40283,25295],[40284,25343],[40285,25286],[40286,25812],[40287,25288],[40288,25308],[40289,25292],[40290,25290],[40291,25282],[40292,25287],[40293,25243],[40294,25289],[40295,25356],[40296,25326],[40297,25329],[40298,25383],[40299,25346],[40300,25352],[40301,25327],[40302,25333],[40303,25424],[40304,25406],[40305,25421],[40306,25628],[40307,25423],[40308,25494],[40309,25486],[40310,25472],[40311,25515],[40312,25462],[40313,25507],[40314,25487],[40315,25481],[40316,25503],[40317,25525],[40318,25451],[40320,25449],[40321,25534],[40322,25577],[40323,25536],[40324,25542],[40325,25571],[40326,25545],[40327,25554],[40328,25590],[40329,25540],[40330,25622],[40331,25652],[40332,25606],[40333,25619],[40334,25638],[40335,25654],[40336,25885],[40337,25623],[40338,25640],[40339,25615],[40340,25703],[40341,25711],[40342,25718],[40343,25678],[40344,25898],[40345,25749],[40346,25747],[40347,25765],[40348,25769],[40349,25736],[40350,25788],[40351,25818],[40352,25810],[40353,25797],[40354,25799],[40355,25787],[40356,25816],[40357,25794],[40358,25841],[40359,25831],[40360,33289],[40361,25824],[40362,25825],[40363,25260],[40364,25827],[40365,25839],[40366,25900],[40367,25846],[40368,25844],[40369,25842],[40370,25850],[40371,25856],[40372,25853],[40373,25880],[40374,25884],[40375,25861],[40376,25892],[40377,25891],[40378,25899],[40379,25908],[40380,25909],[40381,25911],[40382,25910],[40383,25912],[40384,30027],[40385,25928],[40386,25942],[40387,25941],[40388,25933],[40389,25944],[40390,25950],[40391,25949],[40392,25970],[40393,25976],[40394,25986],[40395,25987],[40396,35722],[40397,26011],[40398,26015],[40399,26027],[40400,26039],[40401,26051],[40402,26054],[40403,26049],[40404,26052],[40405,26060],[40406,26066],[40407,26075],[40408,26073],[40409,26080],[40410,26081],[40411,26097],[40412,26482],[40413,26122],[40414,26115],[40415,26107],[40416,26483],[40417,26165],[40418,26166],[40419,26164],[40420,26140],[40421,26191],[40422,26180],[40423,26185],[40424,26177],[40425,26206],[40426,26205],[40427,26212],[40428,26215],[40429,26216],[40430,26207],[40431,26210],[40432,26224],[40433,26243],[40434,26248],[40435,26254],[40436,26249],[40437,26244],[40438,26264],[40439,26269],[40440,26305],[40441,26297],[40442,26313],[40443,26302],[40444,26300],[40512,26308],[40513,26296],[40514,26326],[40515,26330],[40516,26336],[40517,26175],[40518,26342],[40519,26345],[40520,26352],[40521,26357],[40522,26359],[40523,26383],[40524,26390],[40525,26398],[40526,26406],[40527,26407],[40528,38712],[40529,26414],[40530,26431],[40531,26422],[40532,26433],[40533,26424],[40534,26423],[40535,26438],[40536,26462],[40537,26464],[40538,26457],[40539,26467],[40540,26468],[40541,26505],[40542,26480],[40543,26537],[40544,26492],[40545,26474],[40546,26508],[40547,26507],[40548,26534],[40549,26529],[40550,26501],[40551,26551],[40552,26607],[40553,26548],[40554,26604],[40555,26547],[40556,26601],[40557,26552],[40558,26596],[40559,26590],[40560,26589],[40561,26594],[40562,26606],[40563,26553],[40564,26574],[40565,26566],[40566,26599],[40567,27292],[40568,26654],[40569,26694],[40570,26665],[40571,26688],[40572,26701],[40573,26674],[40574,26702],[40576,26803],[40577,26667],[40578,26713],[40579,26723],[40580,26743],[40581,26751],[40582,26783],[40583,26767],[40584,26797],[40585,26772],[40586,26781],[40587,26779],[40588,26755],[40589,27310],[40590,26809],[40591,26740],[40592,26805],[40593,26784],[40594,26810],[40595,26895],[40596,26765],[40597,26750],[40598,26881],[40599,26826],[40600,26888],[40601,26840],[40602,26914],[40603,26918],[40604,26849],[40605,26892],[40606,26829],[40607,26836],[40608,26855],[40609,26837],[40610,26934],[40611,26898],[40612,26884],[40613,26839],[40614,26851],[40615,26917],[40616,26873],[40617,26848],[40618,26863],[40619,26920],[40620,26922],[40621,26906],[40622,26915],[40623,26913],[40624,26822],[40625,27001],[40626,26999],[40627,26972],[40628,27e3],[40629,26987],[40630,26964],[40631,27006],[40632,26990],[40633,26937],[40634,26996],[40635,26941],[40636,26969],[40637,26928],[40638,26977],[40639,26974],[40640,26973],[40641,27009],[40642,26986],[40643,27058],[40644,27054],[40645,27088],[40646,27071],[40647,27073],[40648,27091],[40649,27070],[40650,27086],[40651,23528],[40652,27082],[40653,27101],[40654,27067],[40655,27075],[40656,27047],[40657,27182],[40658,27025],[40659,27040],[40660,27036],[40661,27029],[40662,27060],[40663,27102],[40664,27112],[40665,27138],[40666,27163],[40667,27135],[40668,27402],[40669,27129],[40670,27122],[40671,27111],[40672,27141],[40673,27057],[40674,27166],[40675,27117],[40676,27156],[40677,27115],[40678,27146],[40679,27154],[40680,27329],[40681,27171],[40682,27155],[40683,27204],[40684,27148],[40685,27250],[40686,27190],[40687,27256],[40688,27207],[40689,27234],[40690,27225],[40691,27238],[40692,27208],[40693,27192],[40694,27170],[40695,27280],[40696,27277],[40697,27296],[40698,27268],[40699,27298],[40700,27299],[40768,27287],[40769,34327],[40770,27323],[40771,27331],[40772,27330],[40773,27320],[40774,27315],[40775,27308],[40776,27358],[40777,27345],[40778,27359],[40779,27306],[40780,27354],[40781,27370],[40782,27387],[40783,27397],[40784,34326],[40785,27386],[40786,27410],[40787,27414],[40788,39729],[40789,27423],[40790,27448],[40791,27447],[40792,30428],[40793,27449],[40794,39150],[40795,27463],[40796,27459],[40797,27465],[40798,27472],[40799,27481],[40800,27476],[40801,27483],[40802,27487],[40803,27489],[40804,27512],[40805,27513],[40806,27519],[40807,27520],[40808,27524],[40809,27523],[40810,27533],[40811,27544],[40812,27541],[40813,27550],[40814,27556],[40815,27562],[40816,27563],[40817,27567],[40818,27570],[40819,27569],[40820,27571],[40821,27575],[40822,27580],[40823,27590],[40824,27595],[40825,27603],[40826,27615],[40827,27628],[40828,27627],[40829,27635],[40830,27631],[40832,40638],[40833,27656],[40834,27667],[40835,27668],[40836,27675],[40837,27684],[40838,27683],[40839,27742],[40840,27733],[40841,27746],[40842,27754],[40843,27778],[40844,27789],[40845,27802],[40846,27777],[40847,27803],[40848,27774],[40849,27752],[40850,27763],[40851,27794],[40852,27792],[40853,27844],[40854,27889],[40855,27859],[40856,27837],[40857,27863],[40858,27845],[40859,27869],[40860,27822],[40861,27825],[40862,27838],[40863,27834],[40864,27867],[40865,27887],[40866,27865],[40867,27882],[40868,27935],[40869,34893],[40870,27958],[40871,27947],[40872,27965],[40873,27960],[40874,27929],[40875,27957],[40876,27955],[40877,27922],[40878,27916],[40879,28003],[40880,28051],[40881,28004],[40882,27994],[40883,28025],[40884,27993],[40885,28046],[40886,28053],[40887,28644],[40888,28037],[40889,28153],[40890,28181],[40891,28170],[40892,28085],[40893,28103],[40894,28134],[40895,28088],[40896,28102],[40897,28140],[40898,28126],[40899,28108],[40900,28136],[40901,28114],[40902,28101],[40903,28154],[40904,28121],[40905,28132],[40906,28117],[40907,28138],[40908,28142],[40909,28205],[40910,28270],[40911,28206],[40912,28185],[40913,28274],[40914,28255],[40915,28222],[40916,28195],[40917,28267],[40918,28203],[40919,28278],[40920,28237],[40921,28191],[40922,28227],[40923,28218],[40924,28238],[40925,28196],[40926,28415],[40927,28189],[40928,28216],[40929,28290],[40930,28330],[40931,28312],[40932,28361],[40933,28343],[40934,28371],[40935,28349],[40936,28335],[40937,28356],[40938,28338],[40939,28372],[40940,28373],[40941,28303],[40942,28325],[40943,28354],[40944,28319],[40945,28481],[40946,28433],[40947,28748],[40948,28396],[40949,28408],[40950,28414],[40951,28479],[40952,28402],[40953,28465],[40954,28399],[40955,28466],[40956,28364],[161,65377],[162,65378],[163,65379],[164,65380],[165,65381],[166,65382],[167,65383],[168,65384],[169,65385],[170,65386],[171,65387],[172,65388],[173,65389],[174,65390],[175,65391],[176,65392],[177,65393],[178,65394],[179,65395],[180,65396],[181,65397],[182,65398],[183,65399],[184,65400],[185,65401],[186,65402],[187,65403],[188,65404],[189,65405],[190,65406],[191,65407],[192,65408],[193,65409],[194,65410],[195,65411],[196,65412],[197,65413],[198,65414],[199,65415],[200,65416],[201,65417],[202,65418],[203,65419],[204,65420],[205,65421],[206,65422],[207,65423],[208,65424],[209,65425],[210,65426],[211,65427],[212,65428],[213,65429],[214,65430],[215,65431],[216,65432],[217,65433],[218,65434],[219,65435],[220,65436],[221,65437],[222,65438],[223,65439],[57408,28478],[57409,28435],[57410,28407],[57411,28550],[57412,28538],[57413,28536],[57414,28545],[57415,28544],[57416,28527],[57417,28507],[57418,28659],[57419,28525],[57420,28546],[57421,28540],[57422,28504],[57423,28558],[57424,28561],[57425,28610],[57426,28518],[57427,28595],[57428,28579],[57429,28577],[57430,28580],[57431,28601],[57432,28614],[57433,28586],[57434,28639],[57435,28629],[57436,28652],[57437,28628],[57438,28632],[57439,28657],[57440,28654],[57441,28635],[57442,28681],[57443,28683],[57444,28666],[57445,28689],[57446,28673],[57447,28687],[57448,28670],[57449,28699],[57450,28698],[57451,28532],[57452,28701],[57453,28696],[57454,28703],[57455,28720],[57456,28734],[57457,28722],[57458,28753],[57459,28771],[57460,28825],[57461,28818],[57462,28847],[57463,28913],[57464,28844],[57465,28856],[57466,28851],[57467,28846],[57468,28895],[57469,28875],[57470,28893],[57472,28889],[57473,28937],[57474,28925],[57475,28956],[57476,28953],[57477,29029],[57478,29013],[57479,29064],[57480,29030],[57481,29026],[57482,29004],[57483,29014],[57484,29036],[57485,29071],[57486,29179],[57487,29060],[57488,29077],[57489,29096],[57490,29100],[57491,29143],[57492,29113],[57493,29118],[57494,29138],[57495,29129],[57496,29140],[57497,29134],[57498,29152],[57499,29164],[57500,29159],[57501,29173],[57502,29180],[57503,29177],[57504,29183],[57505,29197],[57506,29200],[57507,29211],[57508,29224],[57509,29229],[57510,29228],[57511,29232],[57512,29234],[57513,29243],[57514,29244],[57515,29247],[57516,29248],[57517,29254],[57518,29259],[57519,29272],[57520,29300],[57521,29310],[57522,29314],[57523,29313],[57524,29319],[57525,29330],[57526,29334],[57527,29346],[57528,29351],[57529,29369],[57530,29362],[57531,29379],[57532,29382],[57533,29380],[57534,29390],[57535,29394],[57536,29410],[57537,29408],[57538,29409],[57539,29433],[57540,29431],[57541,20495],[57542,29463],[57543,29450],[57544,29468],[57545,29462],[57546,29469],[57547,29492],[57548,29487],[57549,29481],[57550,29477],[57551,29502],[57552,29518],[57553,29519],[57554,40664],[57555,29527],[57556,29546],[57557,29544],[57558,29552],[57559,29560],[57560,29557],[57561,29563],[57562,29562],[57563,29640],[57564,29619],[57565,29646],[57566,29627],[57567,29632],[57568,29669],[57569,29678],[57570,29662],[57571,29858],[57572,29701],[57573,29807],[57574,29733],[57575,29688],[57576,29746],[57577,29754],[57578,29781],[57579,29759],[57580,29791],[57581,29785],[57582,29761],[57583,29788],[57584,29801],[57585,29808],[57586,29795],[57587,29802],[57588,29814],[57589,29822],[57590,29835],[57591,29854],[57592,29863],[57593,29898],[57594,29903],[57595,29908],[57596,29681],[57664,29920],[57665,29923],[57666,29927],[57667,29929],[57668,29934],[57669,29938],[57670,29936],[57671,29937],[57672,29944],[57673,29943],[57674,29956],[57675,29955],[57676,29957],[57677,29964],[57678,29966],[57679,29965],[57680,29973],[57681,29971],[57682,29982],[57683,29990],[57684,29996],[57685,30012],[57686,30020],[57687,30029],[57688,30026],[57689,30025],[57690,30043],[57691,30022],[57692,30042],[57693,30057],[57694,30052],[57695,30055],[57696,30059],[57697,30061],[57698,30072],[57699,30070],[57700,30086],[57701,30087],[57702,30068],[57703,30090],[57704,30089],[57705,30082],[57706,30100],[57707,30106],[57708,30109],[57709,30117],[57710,30115],[57711,30146],[57712,30131],[57713,30147],[57714,30133],[57715,30141],[57716,30136],[57717,30140],[57718,30129],[57719,30157],[57720,30154],[57721,30162],[57722,30169],[57723,30179],[57724,30174],[57725,30206],[57726,30207],[57728,30204],[57729,30209],[57730,30192],[57731,30202],[57732,30194],[57733,30195],[57734,30219],[57735,30221],[57736,30217],[57737,30239],[57738,30247],[57739,30240],[57740,30241],[57741,30242],[57742,30244],[57743,30260],[57744,30256],[57745,30267],[57746,30279],[57747,30280],[57748,30278],[57749,30300],[57750,30296],[57751,30305],[57752,30306],[57753,30312],[57754,30313],[57755,30314],[57756,30311],[57757,30316],[57758,30320],[57759,30322],[57760,30326],[57761,30328],[57762,30332],[57763,30336],[57764,30339],[57765,30344],[57766,30347],[57767,30350],[57768,30358],[57769,30355],[57770,30361],[57771,30362],[57772,30384],[57773,30388],[57774,30392],[57775,30393],[57776,30394],[57777,30402],[57778,30413],[57779,30422],[57780,30418],[57781,30430],[57782,30433],[57783,30437],[57784,30439],[57785,30442],[57786,34351],[57787,30459],[57788,30472],[57789,30471],[57790,30468],[57791,30505],[57792,30500],[57793,30494],[57794,30501],[57795,30502],[57796,30491],[57797,30519],[57798,30520],[57799,30535],[57800,30554],[57801,30568],[57802,30571],[57803,30555],[57804,30565],[57805,30591],[57806,30590],[57807,30585],[57808,30606],[57809,30603],[57810,30609],[57811,30624],[57812,30622],[57813,30640],[57814,30646],[57815,30649],[57816,30655],[57817,30652],[57818,30653],[57819,30651],[57820,30663],[57821,30669],[57822,30679],[57823,30682],[57824,30684],[57825,30691],[57826,30702],[57827,30716],[57828,30732],[57829,30738],[57830,31014],[57831,30752],[57832,31018],[57833,30789],[57834,30862],[57835,30836],[57836,30854],[57837,30844],[57838,30874],[57839,30860],[57840,30883],[57841,30901],[57842,30890],[57843,30895],[57844,30929],[57845,30918],[57846,30923],[57847,30932],[57848,30910],[57849,30908],[57850,30917],[57851,30922],[57852,30956],[57920,30951],[57921,30938],[57922,30973],[57923,30964],[57924,30983],[57925,30994],[57926,30993],[57927,31001],[57928,31020],[57929,31019],[57930,31040],[57931,31072],[57932,31063],[57933,31071],[57934,31066],[57935,31061],[57936,31059],[57937,31098],[57938,31103],[57939,31114],[57940,31133],[57941,31143],[57942,40779],[57943,31146],[57944,31150],[57945,31155],[57946,31161],[57947,31162],[57948,31177],[57949,31189],[57950,31207],[57951,31212],[57952,31201],[57953,31203],[57954,31240],[57955,31245],[57956,31256],[57957,31257],[57958,31264],[57959,31263],[57960,31104],[57961,31281],[57962,31291],[57963,31294],[57964,31287],[57965,31299],[57966,31319],[57967,31305],[57968,31329],[57969,31330],[57970,31337],[57971,40861],[57972,31344],[57973,31353],[57974,31357],[57975,31368],[57976,31383],[57977,31381],[57978,31384],[57979,31382],[57980,31401],[57981,31432],[57982,31408],[57984,31414],[57985,31429],[57986,31428],[57987,31423],[57988,36995],[57989,31431],[57990,31434],[57991,31437],[57992,31439],[57993,31445],[57994,31443],[57995,31449],[57996,31450],[57997,31453],[57998,31457],[57999,31458],[58e3,31462],[58001,31469],[58002,31472],[58003,31490],[58004,31503],[58005,31498],[58006,31494],[58007,31539],[58008,31512],[58009,31513],[58010,31518],[58011,31541],[58012,31528],[58013,31542],[58014,31568],[58015,31610],[58016,31492],[58017,31565],[58018,31499],[58019,31564],[58020,31557],[58021,31605],[58022,31589],[58023,31604],[58024,31591],[58025,31600],[58026,31601],[58027,31596],[58028,31598],[58029,31645],[58030,31640],[58031,31647],[58032,31629],[58033,31644],[58034,31642],[58035,31627],[58036,31634],[58037,31631],[58038,31581],[58039,31641],[58040,31691],[58041,31681],[58042,31692],[58043,31695],[58044,31668],[58045,31686],[58046,31709],[58047,31721],[58048,31761],[58049,31764],[58050,31718],[58051,31717],[58052,31840],[58053,31744],[58054,31751],[58055,31763],[58056,31731],[58057,31735],[58058,31767],[58059,31757],[58060,31734],[58061,31779],[58062,31783],[58063,31786],[58064,31775],[58065,31799],[58066,31787],[58067,31805],[58068,31820],[58069,31811],[58070,31828],[58071,31823],[58072,31808],[58073,31824],[58074,31832],[58075,31839],[58076,31844],[58077,31830],[58078,31845],[58079,31852],[58080,31861],[58081,31875],[58082,31888],[58083,31908],[58084,31917],[58085,31906],[58086,31915],[58087,31905],[58088,31912],[58089,31923],[58090,31922],[58091,31921],[58092,31918],[58093,31929],[58094,31933],[58095,31936],[58096,31941],[58097,31938],[58098,31960],[58099,31954],[58100,31964],[58101,31970],[58102,39739],[58103,31983],[58104,31986],[58105,31988],[58106,31990],[58107,31994],[58108,32006],[58176,32002],[58177,32028],[58178,32021],[58179,32010],[58180,32069],[58181,32075],[58182,32046],[58183,32050],[58184,32063],[58185,32053],[58186,32070],[58187,32115],[58188,32086],[58189,32078],[58190,32114],[58191,32104],[58192,32110],[58193,32079],[58194,32099],[58195,32147],[58196,32137],[58197,32091],[58198,32143],[58199,32125],[58200,32155],[58201,32186],[58202,32174],[58203,32163],[58204,32181],[58205,32199],[58206,32189],[58207,32171],[58208,32317],[58209,32162],[58210,32175],[58211,32220],[58212,32184],[58213,32159],[58214,32176],[58215,32216],[58216,32221],[58217,32228],[58218,32222],[58219,32251],[58220,32242],[58221,32225],[58222,32261],[58223,32266],[58224,32291],[58225,32289],[58226,32274],[58227,32305],[58228,32287],[58229,32265],[58230,32267],[58231,32290],[58232,32326],[58233,32358],[58234,32315],[58235,32309],[58236,32313],[58237,32323],[58238,32311],[58240,32306],[58241,32314],[58242,32359],[58243,32349],[58244,32342],[58245,32350],[58246,32345],[58247,32346],[58248,32377],[58249,32362],[58250,32361],[58251,32380],[58252,32379],[58253,32387],[58254,32213],[58255,32381],[58256,36782],[58257,32383],[58258,32392],[58259,32393],[58260,32396],[58261,32402],[58262,32400],[58263,32403],[58264,32404],[58265,32406],[58266,32398],[58267,32411],[58268,32412],[58269,32568],[58270,32570],[58271,32581],[58272,32588],[58273,32589],[58274,32590],[58275,32592],[58276,32593],[58277,32597],[58278,32596],[58279,32600],[58280,32607],[58281,32608],[58282,32616],[58283,32617],[58284,32615],[58285,32632],[58286,32642],[58287,32646],[58288,32643],[58289,32648],[58290,32647],[58291,32652],[58292,32660],[58293,32670],[58294,32669],[58295,32666],[58296,32675],[58297,32687],[58298,32690],[58299,32697],[58300,32686],[58301,32694],[58302,32696],[58303,35697],[58304,32709],[58305,32710],[58306,32714],[58307,32725],[58308,32724],[58309,32737],[58310,32742],[58311,32745],[58312,32755],[58313,32761],[58314,39132],[58315,32774],[58316,32772],[58317,32779],[58318,32786],[58319,32792],[58320,32793],[58321,32796],[58322,32801],[58323,32808],[58324,32831],[58325,32827],[58326,32842],[58327,32838],[58328,32850],[58329,32856],[58330,32858],[58331,32863],[58332,32866],[58333,32872],[58334,32883],[58335,32882],[58336,32880],[58337,32886],[58338,32889],[58339,32893],[58340,32895],[58341,32900],[58342,32902],[58343,32901],[58344,32923],[58345,32915],[58346,32922],[58347,32941],[58348,20880],[58349,32940],[58350,32987],[58351,32997],[58352,32985],[58353,32989],[58354,32964],[58355,32986],[58356,32982],[58357,33033],[58358,33007],[58359,33009],[58360,33051],[58361,33065],[58362,33059],[58363,33071],[58364,33099],[58432,38539],[58433,33094],[58434,33086],[58435,33107],[58436,33105],[58437,33020],[58438,33137],[58439,33134],[58440,33125],[58441,33126],[58442,33140],[58443,33155],[58444,33160],[58445,33162],[58446,33152],[58447,33154],[58448,33184],[58449,33173],[58450,33188],[58451,33187],[58452,33119],[58453,33171],[58454,33193],[58455,33200],[58456,33205],[58457,33214],[58458,33208],[58459,33213],[58460,33216],[58461,33218],[58462,33210],[58463,33225],[58464,33229],[58465,33233],[58466,33241],[58467,33240],[58468,33224],[58469,33242],[58470,33247],[58471,33248],[58472,33255],[58473,33274],[58474,33275],[58475,33278],[58476,33281],[58477,33282],[58478,33285],[58479,33287],[58480,33290],[58481,33293],[58482,33296],[58483,33302],[58484,33321],[58485,33323],[58486,33336],[58487,33331],[58488,33344],[58489,33369],[58490,33368],[58491,33373],[58492,33370],[58493,33375],[58494,33380],[58496,33378],[58497,33384],[58498,33386],[58499,33387],[58500,33326],[58501,33393],[58502,33399],[58503,33400],[58504,33406],[58505,33421],[58506,33426],[58507,33451],[58508,33439],[58509,33467],[58510,33452],[58511,33505],[58512,33507],[58513,33503],[58514,33490],[58515,33524],[58516,33523],[58517,33530],[58518,33683],[58519,33539],[58520,33531],[58521,33529],[58522,33502],[58523,33542],[58524,33500],[58525,33545],[58526,33497],[58527,33589],[58528,33588],[58529,33558],[58530,33586],[58531,33585],[58532,33600],[58533,33593],[58534,33616],[58535,33605],[58536,33583],[58537,33579],[58538,33559],[58539,33560],[58540,33669],[58541,33690],[58542,33706],[58543,33695],[58544,33698],[58545,33686],[58546,33571],[58547,33678],[58548,33671],[58549,33674],[58550,33660],[58551,33717],[58552,33651],[58553,33653],[58554,33696],[58555,33673],[58556,33704],[58557,33780],[58558,33811],[58559,33771],[58560,33742],[58561,33789],[58562,33795],[58563,33752],[58564,33803],[58565,33729],[58566,33783],[58567,33799],[58568,33760],[58569,33778],[58570,33805],[58571,33826],[58572,33824],[58573,33725],[58574,33848],[58575,34054],[58576,33787],[58577,33901],[58578,33834],[58579,33852],[58580,34138],[58581,33924],[58582,33911],[58583,33899],[58584,33965],[58585,33902],[58586,33922],[58587,33897],[58588,33862],[58589,33836],[58590,33903],[58591,33913],[58592,33845],[58593,33994],[58594,33890],[58595,33977],[58596,33983],[58597,33951],[58598,34009],[58599,33997],[58600,33979],[58601,34010],[58602,34e3],[58603,33985],[58604,33990],[58605,34006],[58606,33953],[58607,34081],[58608,34047],[58609,34036],[58610,34071],[58611,34072],[58612,34092],[58613,34079],[58614,34069],[58615,34068],[58616,34044],[58617,34112],[58618,34147],[58619,34136],[58620,34120],[58688,34113],[58689,34306],[58690,34123],[58691,34133],[58692,34176],[58693,34212],[58694,34184],[58695,34193],[58696,34186],[58697,34216],[58698,34157],[58699,34196],[58700,34203],[58701,34282],[58702,34183],[58703,34204],[58704,34167],[58705,34174],[58706,34192],[58707,34249],[58708,34234],[58709,34255],[58710,34233],[58711,34256],[58712,34261],[58713,34269],[58714,34277],[58715,34268],[58716,34297],[58717,34314],[58718,34323],[58719,34315],[58720,34302],[58721,34298],[58722,34310],[58723,34338],[58724,34330],[58725,34352],[58726,34367],[58727,34381],[58728,20053],[58729,34388],[58730,34399],[58731,34407],[58732,34417],[58733,34451],[58734,34467],[58735,34473],[58736,34474],[58737,34443],[58738,34444],[58739,34486],[58740,34479],[58741,34500],[58742,34502],[58743,34480],[58744,34505],[58745,34851],[58746,34475],[58747,34516],[58748,34526],[58749,34537],[58750,34540],[58752,34527],[58753,34523],[58754,34543],[58755,34578],[58756,34566],[58757,34568],[58758,34560],[58759,34563],[58760,34555],[58761,34577],[58762,34569],[58763,34573],[58764,34553],[58765,34570],[58766,34612],[58767,34623],[58768,34615],[58769,34619],[58770,34597],[58771,34601],[58772,34586],[58773,34656],[58774,34655],[58775,34680],[58776,34636],[58777,34638],[58778,34676],[58779,34647],[58780,34664],[58781,34670],[58782,34649],[58783,34643],[58784,34659],[58785,34666],[58786,34821],[58787,34722],[58788,34719],[58789,34690],[58790,34735],[58791,34763],[58792,34749],[58793,34752],[58794,34768],[58795,38614],[58796,34731],[58797,34756],[58798,34739],[58799,34759],[58800,34758],[58801,34747],[58802,34799],[58803,34802],[58804,34784],[58805,34831],[58806,34829],[58807,34814],[58808,34806],[58809,34807],[58810,34830],[58811,34770],[58812,34833],[58813,34838],[58814,34837],[58815,34850],[58816,34849],[58817,34865],[58818,34870],[58819,34873],[58820,34855],[58821,34875],[58822,34884],[58823,34882],[58824,34898],[58825,34905],[58826,34910],[58827,34914],[58828,34923],[58829,34945],[58830,34942],[58831,34974],[58832,34933],[58833,34941],[58834,34997],[58835,34930],[58836,34946],[58837,34967],[58838,34962],[58839,34990],[58840,34969],[58841,34978],[58842,34957],[58843,34980],[58844,34992],[58845,35007],[58846,34993],[58847,35011],[58848,35012],[58849,35028],[58850,35032],[58851,35033],[58852,35037],[58853,35065],[58854,35074],[58855,35068],[58856,35060],[58857,35048],[58858,35058],[58859,35076],[58860,35084],[58861,35082],[58862,35091],[58863,35139],[58864,35102],[58865,35109],[58866,35114],[58867,35115],[58868,35137],[58869,35140],[58870,35131],[58871,35126],[58872,35128],[58873,35148],[58874,35101],[58875,35168],[58876,35166],[58944,35174],[58945,35172],[58946,35181],[58947,35178],[58948,35183],[58949,35188],[58950,35191],[58951,35198],[58952,35203],[58953,35208],[58954,35210],[58955,35219],[58956,35224],[58957,35233],[58958,35241],[58959,35238],[58960,35244],[58961,35247],[58962,35250],[58963,35258],[58964,35261],[58965,35263],[58966,35264],[58967,35290],[58968,35292],[58969,35293],[58970,35303],[58971,35316],[58972,35320],[58973,35331],[58974,35350],[58975,35344],[58976,35340],[58977,35355],[58978,35357],[58979,35365],[58980,35382],[58981,35393],[58982,35419],[58983,35410],[58984,35398],[58985,35400],[58986,35452],[58987,35437],[58988,35436],[58989,35426],[58990,35461],[58991,35458],[58992,35460],[58993,35496],[58994,35489],[58995,35473],[58996,35493],[58997,35494],[58998,35482],[58999,35491],[59e3,35524],[59001,35533],[59002,35522],[59003,35546],[59004,35563],[59005,35571],[59006,35559],[59008,35556],[59009,35569],[59010,35604],[59011,35552],[59012,35554],[59013,35575],[59014,35550],[59015,35547],[59016,35596],[59017,35591],[59018,35610],[59019,35553],[59020,35606],[59021,35600],[59022,35607],[59023,35616],[59024,35635],[59025,38827],[59026,35622],[59027,35627],[59028,35646],[59029,35624],[59030,35649],[59031,35660],[59032,35663],[59033,35662],[59034,35657],[59035,35670],[59036,35675],[59037,35674],[59038,35691],[59039,35679],[59040,35692],[59041,35695],[59042,35700],[59043,35709],[59044,35712],[59045,35724],[59046,35726],[59047,35730],[59048,35731],[59049,35734],[59050,35737],[59051,35738],[59052,35898],[59053,35905],[59054,35903],[59055,35912],[59056,35916],[59057,35918],[59058,35920],[59059,35925],[59060,35938],[59061,35948],[59062,35960],[59063,35962],[59064,35970],[59065,35977],[59066,35973],[59067,35978],[59068,35981],[59069,35982],[59070,35988],[59071,35964],[59072,35992],[59073,25117],[59074,36013],[59075,36010],[59076,36029],[59077,36018],[59078,36019],[59079,36014],[59080,36022],[59081,36040],[59082,36033],[59083,36068],[59084,36067],[59085,36058],[59086,36093],[59087,36090],[59088,36091],[59089,36100],[59090,36101],[59091,36106],[59092,36103],[59093,36111],[59094,36109],[59095,36112],[59096,40782],[59097,36115],[59098,36045],[59099,36116],[59100,36118],[59101,36199],[59102,36205],[59103,36209],[59104,36211],[59105,36225],[59106,36249],[59107,36290],[59108,36286],[59109,36282],[59110,36303],[59111,36314],[59112,36310],[59113,36300],[59114,36315],[59115,36299],[59116,36330],[59117,36331],[59118,36319],[59119,36323],[59120,36348],[59121,36360],[59122,36361],[59123,36351],[59124,36381],[59125,36382],[59126,36368],[59127,36383],[59128,36418],[59129,36405],[59130,36400],[59131,36404],[59132,36426],[59200,36423],[59201,36425],[59202,36428],[59203,36432],[59204,36424],[59205,36441],[59206,36452],[59207,36448],[59208,36394],[59209,36451],[59210,36437],[59211,36470],[59212,36466],[59213,36476],[59214,36481],[59215,36487],[59216,36485],[59217,36484],[59218,36491],[59219,36490],[59220,36499],[59221,36497],[59222,36500],[59223,36505],[59224,36522],[59225,36513],[59226,36524],[59227,36528],[59228,36550],[59229,36529],[59230,36542],[59231,36549],[59232,36552],[59233,36555],[59234,36571],[59235,36579],[59236,36604],[59237,36603],[59238,36587],[59239,36606],[59240,36618],[59241,36613],[59242,36629],[59243,36626],[59244,36633],[59245,36627],[59246,36636],[59247,36639],[59248,36635],[59249,36620],[59250,36646],[59251,36659],[59252,36667],[59253,36665],[59254,36677],[59255,36674],[59256,36670],[59257,36684],[59258,36681],[59259,36678],[59260,36686],[59261,36695],[59262,36700],[59264,36706],[59265,36707],[59266,36708],[59267,36764],[59268,36767],[59269,36771],[59270,36781],[59271,36783],[59272,36791],[59273,36826],[59274,36837],[59275,36834],[59276,36842],[59277,36847],[59278,36999],[59279,36852],[59280,36869],[59281,36857],[59282,36858],[59283,36881],[59284,36885],[59285,36897],[59286,36877],[59287,36894],[59288,36886],[59289,36875],[59290,36903],[59291,36918],[59292,36917],[59293,36921],[59294,36856],[59295,36943],[59296,36944],[59297,36945],[59298,36946],[59299,36878],[59300,36937],[59301,36926],[59302,36950],[59303,36952],[59304,36958],[59305,36968],[59306,36975],[59307,36982],[59308,38568],[59309,36978],[59310,36994],[59311,36989],[59312,36993],[59313,36992],[59314,37002],[59315,37001],[59316,37007],[59317,37032],[59318,37039],[59319,37041],[59320,37045],[59321,37090],[59322,37092],[59323,25160],[59324,37083],[59325,37122],[59326,37138],[59327,37145],[59328,37170],[59329,37168],[59330,37194],[59331,37206],[59332,37208],[59333,37219],[59334,37221],[59335,37225],[59336,37235],[59337,37234],[59338,37259],[59339,37257],[59340,37250],[59341,37282],[59342,37291],[59343,37295],[59344,37290],[59345,37301],[59346,37300],[59347,37306],[59348,37312],[59349,37313],[59350,37321],[59351,37323],[59352,37328],[59353,37334],[59354,37343],[59355,37345],[59356,37339],[59357,37372],[59358,37365],[59359,37366],[59360,37406],[59361,37375],[59362,37396],[59363,37420],[59364,37397],[59365,37393],[59366,37470],[59367,37463],[59368,37445],[59369,37449],[59370,37476],[59371,37448],[59372,37525],[59373,37439],[59374,37451],[59375,37456],[59376,37532],[59377,37526],[59378,37523],[59379,37531],[59380,37466],[59381,37583],[59382,37561],[59383,37559],[59384,37609],[59385,37647],[59386,37626],[59387,37700],[59388,37678],[59456,37657],[59457,37666],[59458,37658],[59459,37667],[59460,37690],[59461,37685],[59462,37691],[59463,37724],[59464,37728],[59465,37756],[59466,37742],[59467,37718],[59468,37808],[59469,37804],[59470,37805],[59471,37780],[59472,37817],[59473,37846],[59474,37847],[59475,37864],[59476,37861],[59477,37848],[59478,37827],[59479,37853],[59480,37840],[59481,37832],[59482,37860],[59483,37914],[59484,37908],[59485,37907],[59486,37891],[59487,37895],[59488,37904],[59489,37942],[59490,37931],[59491,37941],[59492,37921],[59493,37946],[59494,37953],[59495,37970],[59496,37956],[59497,37979],[59498,37984],[59499,37986],[59500,37982],[59501,37994],[59502,37417],[59503,38e3],[59504,38005],[59505,38007],[59506,38013],[59507,37978],[59508,38012],[59509,38014],[59510,38017],[59511,38015],[59512,38274],[59513,38279],[59514,38282],[59515,38292],[59516,38294],[59517,38296],[59518,38297],[59520,38304],[59521,38312],[59522,38311],[59523,38317],[59524,38332],[59525,38331],[59526,38329],[59527,38334],[59528,38346],[59529,28662],[59530,38339],[59531,38349],[59532,38348],[59533,38357],[59534,38356],[59535,38358],[59536,38364],[59537,38369],[59538,38373],[59539,38370],[59540,38433],[59541,38440],[59542,38446],[59543,38447],[59544,38466],[59545,38476],[59546,38479],[59547,38475],[59548,38519],[59549,38492],[59550,38494],[59551,38493],[59552,38495],[59553,38502],[59554,38514],[59555,38508],[59556,38541],[59557,38552],[59558,38549],[59559,38551],[59560,38570],[59561,38567],[59562,38577],[59563,38578],[59564,38576],[59565,38580],[59566,38582],[59567,38584],[59568,38585],[59569,38606],[59570,38603],[59571,38601],[59572,38605],[59573,35149],[59574,38620],[59575,38669],[59576,38613],[59577,38649],[59578,38660],[59579,38662],[59580,38664],[59581,38675],[59582,38670],[59583,38673],[59584,38671],[59585,38678],[59586,38681],[59587,38692],[59588,38698],[59589,38704],[59590,38713],[59591,38717],[59592,38718],[59593,38724],[59594,38726],[59595,38728],[59596,38722],[59597,38729],[59598,38748],[59599,38752],[59600,38756],[59601,38758],[59602,38760],[59603,21202],[59604,38763],[59605,38769],[59606,38777],[59607,38789],[59608,38780],[59609,38785],[59610,38778],[59611,38790],[59612,38795],[59613,38799],[59614,38800],[59615,38812],[59616,38824],[59617,38822],[59618,38819],[59619,38835],[59620,38836],[59621,38851],[59622,38854],[59623,38856],[59624,38859],[59625,38876],[59626,38893],[59627,40783],[59628,38898],[59629,31455],[59630,38902],[59631,38901],[59632,38927],[59633,38924],[59634,38968],[59635,38948],[59636,38945],[59637,38967],[59638,38973],[59639,38982],[59640,38991],[59641,38987],[59642,39019],[59643,39023],[59644,39024],[59712,39025],[59713,39028],[59714,39027],[59715,39082],[59716,39087],[59717,39089],[59718,39094],[59719,39108],[59720,39107],[59721,39110],[59722,39145],[59723,39147],[59724,39171],[59725,39177],[59726,39186],[59727,39188],[59728,39192],[59729,39201],[59730,39197],[59731,39198],[59732,39204],[59733,39200],[59734,39212],[59735,39214],[59736,39229],[59737,39230],[59738,39234],[59739,39241],[59740,39237],[59741,39248],[59742,39243],[59743,39249],[59744,39250],[59745,39244],[59746,39253],[59747,39319],[59748,39320],[59749,39333],[59750,39341],[59751,39342],[59752,39356],[59753,39391],[59754,39387],[59755,39389],[59756,39384],[59757,39377],[59758,39405],[59759,39406],[59760,39409],[59761,39410],[59762,39419],[59763,39416],[59764,39425],[59765,39439],[59766,39429],[59767,39394],[59768,39449],[59769,39467],[59770,39479],[59771,39493],[59772,39490],[59773,39488],[59774,39491],[59776,39486],[59777,39509],[59778,39501],[59779,39515],[59780,39511],[59781,39519],[59782,39522],[59783,39525],[59784,39524],[59785,39529],[59786,39531],[59787,39530],[59788,39597],[59789,39600],[59790,39612],[59791,39616],[59792,39631],[59793,39633],[59794,39635],[59795,39636],[59796,39646],[59797,39647],[59798,39650],[59799,39651],[59800,39654],[59801,39663],[59802,39659],[59803,39662],[59804,39668],[59805,39665],[59806,39671],[59807,39675],[59808,39686],[59809,39704],[59810,39706],[59811,39711],[59812,39714],[59813,39715],[59814,39717],[59815,39719],[59816,39720],[59817,39721],[59818,39722],[59819,39726],[59820,39727],[59821,39730],[59822,39748],[59823,39747],[59824,39759],[59825,39757],[59826,39758],[59827,39761],[59828,39768],[59829,39796],[59830,39827],[59831,39811],[59832,39825],[59833,39830],[59834,39831],[59835,39839],[59836,39840],[59837,39848],[59838,39860],[59839,39872],[59840,39882],[59841,39865],[59842,39878],[59843,39887],[59844,39889],[59845,39890],[59846,39907],[59847,39906],[59848,39908],[59849,39892],[59850,39905],[59851,39994],[59852,39922],[59853,39921],[59854,39920],[59855,39957],[59856,39956],[59857,39945],[59858,39955],[59859,39948],[59860,39942],[59861,39944],[59862,39954],[59863,39946],[59864,39940],[59865,39982],[59866,39963],[59867,39973],[59868,39972],[59869,39969],[59870,39984],[59871,40007],[59872,39986],[59873,40006],[59874,39998],[59875,40026],[59876,40032],[59877,40039],[59878,40054],[59879,40056],[59880,40167],[59881,40172],[59882,40176],[59883,40201],[59884,40200],[59885,40171],[59886,40195],[59887,40198],[59888,40234],[59889,40230],[59890,40367],[59891,40227],[59892,40223],[59893,40260],[59894,40213],[59895,40210],[59896,40257],[59897,40255],[59898,40254],[59899,40262],[59900,40264],[59968,40285],[59969,40286],[59970,40292],[59971,40273],[59972,40272],[59973,40281],[59974,40306],[59975,40329],[59976,40327],[59977,40363],[59978,40303],[59979,40314],[59980,40346],[59981,40356],[59982,40361],[59983,40370],[59984,40388],[59985,40385],[59986,40379],[59987,40376],[59988,40378],[59989,40390],[59990,40399],[59991,40386],[59992,40409],[59993,40403],[59994,40440],[59995,40422],[59996,40429],[59997,40431],[59998,40445],[59999,40474],[6e4,40475],[60001,40478],[60002,40565],[60003,40569],[60004,40573],[60005,40577],[60006,40584],[60007,40587],[60008,40588],[60009,40594],[60010,40597],[60011,40593],[60012,40605],[60013,40613],[60014,40617],[60015,40632],[60016,40618],[60017,40621],[60018,38753],[60019,40652],[60020,40654],[60021,40655],[60022,40656],[60023,40660],[60024,40668],[60025,40670],[60026,40669],[60027,40672],[60028,40677],[60029,40680],[60030,40687],[60032,40692],[60033,40694],[60034,40695],[60035,40697],[60036,40699],[60037,40700],[60038,40701],[60039,40711],[60040,40712],[60041,30391],[60042,40725],[60043,40737],[60044,40748],[60045,40766],[60046,40778],[60047,40786],[60048,40788],[60049,40803],[60050,40799],[60051,40800],[60052,40801],[60053,40806],[60054,40807],[60055,40812],[60056,40810],[60057,40823],[60058,40818],[60059,40822],[60060,40853],[60061,40860],[60062,40864],[60063,22575],[60064,27079],[60065,36953],[60066,29796],[60067,20956],[60068,29081]];let s=[];for(const n of e){let t;for(let e=0;e<i.length;e++)i[e][1]===n.charCodeAt(0)&&(t=i[e][0]);var r=t-(57408<=t?49472:33088);s.push(192*(r>>8&255)+(255&r))}return s}_pushBits(e,t,i,s,r){if(i<=r){for(e.push(t|s>>(r-=i));8<=r;)e.push(s>>(r-=8)&255);t=0,i=8}return 0<r&&(t|=(s&(1<<r)-1)<<(i-=r)),{buffer:e,bits:t,remaining:i}}_EncodeData(t,e,i){const s=this;var r=s._getEncodingMode(t);let n,o=[],a=0,l=8,d=0,h={};for(let e=0;e<45;++e)h["0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".charAt(e)]=e;e=s._getDataLengthBits(e);switch(n=s._pushBits(o,a,l,r,4),o=n.buffer,a=n.bits,l=n.remaining,n=s._pushBits(o,a,l,t.length,e),o=n.buffer,a=n.bits,l=n.remaining,r){case 1:for(var c=2;c<t.length;c+=3)n=s._pushBits(o,a,l,parseInt(t.substring(c-2,c+1),10),10),o=n.buffer,a=n.bits,l=n.remaining;n=s._pushBits(o,a,l,parseInt(t.substring(c-2),10),[0,4,7][t.length%3]),o=n.buffer,a=n.bits,l=n.remaining;break;case 2:for(let e=1;e<t.length;e+=2)n=s._pushBits(o,a,l,45*h[t.charAt(e-1)]+h[t.charAt(e)],11),o=n.buffer,a=n.bits,l=n.remaining;t.length%2==1&&(n=s._pushBits(o,a,l,h[t.charAt(c-1)],6),o=n.buffer,a=n.bits,l=n.remaining);break;case 4:(d=s._getByteValues(t)).forEach(e=>{n=s._pushBits(o,a,l,e,8),o=n.buffer,a=n.bits,l=n.remaining});break;case 8:(d=s._getKanjiValues(t)).forEach(e=>{n=s._pushBits(o,a,l,e,13),o=n.buffer,a=n.bits,l=n.remaining})}for(n=s._pushBits(o,a,l,0,4),o=n.buffer,a=n.bits,(l=n.remaining)<8&&o.push(a);o.length+1<i;)o.push(236,17);return o.length<i&&o.push(236),o}_getErrorCorrectionCodeWords(e,i){var[s,r]=this._getGaloisFieldTable();let n=e.slice(0);for(let e=0;e<i.length;++e)n.push(0);for(let t=0;t<e.length;){var o=r[n[t++]];if(0<=o)for(let e=0;e<i.length;++e)n[t+e]^=s[(o+i[e])%255]}return n.slice(e.length)}_augmentEccCodeWords(i,s,r){let n=[],t=i.length/s|0,o=0;var a=s-i.length%s;for(let e=0;e<a;++e)n.push(o),o+=t;for(let e=a;e<s;++e)n.push(o),o+=1+t;n.push(o);let l=[];for(let e=0;e<s;++e)l.push(this._getErrorCorrectionCodeWords(i.slice(n[e],n[e+1]),r));let d=[];var e=i.length/s|0;for(let t=0;t<e;++t)for(let e=0;e<s;++e)d.push(i[n[e]+t]);for(let e=a;e<s;++e)d.push(i[n[e+1]-1]);for(let t=0;t<r.length;++t)for(let e=0;e<s;++e)d.push(l[e][t]);return d}_polyMulty(e,t,i,s){let r=e<<s;for(let e=t-1;0<=e;--e)r>>s+e&1&&(r^=i<<e);return e<<s|r}_fillMatrix(i,s,r,n,e,o,a){for(let t=0;t<e;++t)for(let e=0;e<o;++e)i[r+t][n+e]=a[t]>>e&1,s[r+t][n+e]=1;return{matrix:i,reserved:s}}_generateMatrix(e){var i,t=this._getValuesTable()[e],s=this._getCodeSize(e);let r=[],n=[];for(let e=0;e<s;++e)r.push([]),n.push([]);i=this._fillMatrix(r,n,0,0,9,9,[127,65,93,93,93,65,383,0,64]),r=i.matrix,n=i.reserved,i=this._fillMatrix(r,n,s-8,0,8,9,[256,127,65,93,93,93,65,127]),r=i.matrix,n=i.reserved,i=this._fillMatrix(r,n,0,s-8,9,8,[254,130,186,186,186,130,254,0,0]),r=i.matrix,n=i.reserved;for(let e=9;e<s-8;++e)r[6][e]=r[e][6]=1&~e,n[6][e]=n[e][6]=1;var o=t[2];for(let t=0;t<o.length;++t){var a=0===t||t===o.length-1?1:0,l=0===t?o.length-1:o.length;for(let e=a;e<l;++e)i=this._fillMatrix(r,n,o[t],o[e],5,5,[31,17,21,17,31]),r=i.matrix,n=i.reserved}if(6<e){var d=this._polyMulty(e,6,7973,12);let i=0;for(let t=0;t<6;++t)for(let e=0;e<3;++e)r[t][s-11+e]=r[s-11+e][t]=d>>i++&1,n[t][s-11+e]=n[s-11+e][t]=1}return{matrix:r,reserved:n}}_putData(s,r,n){let o=0,a=-1;for(let i=s.length-1;0<=i;i-=2){6===i&&--i;let t=a<0?s.length-1:0;for(let e=0;e<s.length;++e){for(let e=i;e>i-2;--e)r[t][e]||(s[t][e]=n[o>>3]>>(7&~o)&1,++o);t+=a}a=-a}return s}_maskData(e,t,i){let s=this._getDataMaskingFunctions()[i];for(var r=e.length,n=0;n<r;++n)for(var o=0;o<r;++o)t[n][o]||(e[n][o]^=s(n,o));return e}_formatData(t,e,i,s){var r=t.length,n=21522^this._polyMulty(i<<3|s,5,1335,10);for(let e=0;e<15;++e){var o=[0,1,2,3,4,5,7,8,r-7,r-6,r-5,r-4,r-3,r-2,r-1][e],a=[r-1,r-2,r-3,r-4,r-5,r-6,r-7,r-8,7,5,4,3,2,1,0][e];t[o][8]=t[8][a]=n>>e&1}return t}_scoreGroup(t){let i=0;for(let e=0;e<t.length;++e)5<=t[e]&&(i+=t[e]-5+3);for(let e=5;e<t.length;e+=2){var s=t[e];t[e-1]===s&&t[e-2]===3*s&&t[e-3]===s&&t[e-4]===s&&(t[e-5]>=4*s||t[e+1]>=4*s)&&(i+=40)}return i}_scoreMatrix(r){let t=0,n=0;for(let s=0;s<r.length;++s){var o=r[s];let i;i=[0];for(let t=0;t<r.length;){let e;for(e=0;t<r.length&&o[t];++e)++t;for(i.push(e),e=0;t<r.length&&!o[t];++e)++t;i.push(e)}t+=this._scoreGroup(i),i=[0];for(let t=0;t<r.length;){let e;for(e=0;t<r.length&&r[t][s];++e)++t;for(i.push(e),e=0;t<r.length&&!r[t][s];++e)++t;i.push(e)}t+=this._scoreGroup(i);var a=r[s+1]||[];n+=o[0];for(let e=1;e<r.length;++e){var l=o[e];n+=l,o[e-1]===l&&a[e]===l&&a[e-1]===l&&(t+=3)}}return t+=10*(Math.abs(n/r.length/r.length-.5)/.05|0)}_getQRCode(e,t){var i=this;let s;for(s=1;s<=40&&!(e.length<=i._getDataLength(s,t));++s);let r;var n=i._getValuesTable()[s],o=i._EncodeData(e,s,i._getDataBits(s,t)>>3),o=i._augmentEccCodeWords(o,n[1][t],i._getGaloisFieldPoly()[n[0][t]]),n=this._generateMatrix(s),a=n.matrix,l=n.reserved;let d=[...a=i._putData(a,l,o)],h=(d=i._maskData(d,l,0),d=i._formatData(d,l,t,0),0),c=i._scoreMatrix(d);for(d=i._maskData(d,l,0),r=1;r<8;++r){d=i._maskData(d,l,r),d=i._formatData(d,l,t,r);var u=i._scoreMatrix(d);c>u&&(c=u,h=r),d=i._maskData(d,l,r)}return r=h,a=i._maskData(a,l,r),i._formatData(a,l,t,r)}_embedImage(t,i,s,r){const n=this;if("canvas"===n.renderAs){const o=r.getContext("2d");let e=new Image;e.src=s,e.onload=function(){o.drawImage(e,t,i,n.imageWidth,n.imageHeight)}}else if("svg"===n.renderAs){let e=document.createElementNS("http://www.w3.org/2000/svg","image");e.setAttributeNS(null,"height",n.imageHeight),e.setAttributeNS(null,"width",n.imageWidth),e.setAttributeNS("http://www.w3.org/1999/xlink","href",s),e.setAttributeNS(null,"x",t),e.setAttributeNS(null,"y",i),e.setAttributeNS(null,"visibility","visible"),r.append(e)}}isValid(e=!1){var t=this.type;const i=this.value;let s=/[^@!(ä¸-é¾ )(ã-ã)(ã¡-ã´ã¼)\d0-9A-Z \$\%\*\+\-\.\/\:\=\?\^\{\|\}\~]/gm,r=!0,n=!0,o;if(!e)switch(t){case"pharmacode":s=/[^\d]/gm,n=1<=i.length&&i.length<=6,r=3<=+i&&+i<=131070;break;case"codabar":s=/[^ABCD\d\$-]/gm,r=/^[A-D]\d+[A-D]$/gm.test(i);break;case"code128a":s=/[^\x20-\x5F]/gm;break;case"code128b":s=/[^\x20-\x7F]/gm;break;case"code128c":s=/[^\d]/gm;break;case"msi":case"msi10":case"msi11":case"msi1010":case"msi1110":s=/[^\d]/gm;break;case"ean13":s=/[^\d]/gm,n=13===i.length||12===i.length;break;case"ean8":s=/[^\d]/gm,n=7===i.length||8===i.length;break;case"code39":s=/[^\w\*.]/gm,r=/^\*\*$/gm.test(i);break;case"code93":s=/[^\w\*.\-\* \$+\/%]/gm,r=/^\*\*$/gm.test(i)}return o=i.match(s),!(!r||o||!n)||(this.host.dispatchEvent(new CustomEvent("invalid",{detail:{value:i,invalidCharacters:o,patternValidity:r,lengthValidity:n}})),!1)}refresh(){this._generateCode(this.renderAs)}_generateCode(i,e=!1){var s=this,t=(s.isValid(!0),{L:1,M:0,H:2,Q:3}[s.errorLevel]),r=s._getQRCode(s.value,t),t=r.length*s.squareWidth,n=s.squareWidth*r.length+s.displayLabel*(s.labelMarginTop+s.labelMarginBottom+s.labelFontSize);let o=0,a;if("svg"===i)(a=document.createElementNS("http://www.w3.org/2000/svg","svg")).setAttribute("width",t),a.setAttribute("height",n),a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:svg","http://www.w3.org/2000/svg"),a.style.backgroundColor=s.backgroundColor;else if("canvas"===i){(a=document.createElement("canvas")).setAttribute("width",t),a.setAttribute("height",n);let e=a.getContext("2d");e.fillStyle=s.backgroundColor,e.fillRect(0,0,t,n)}e&&(a.style.display="none"),a.classList.add("jqx-qrcode"),s.host.firstChild.appendChild(a),s.displayLabel&&"top"===s.labelPosition&&(o+=s.labelMarginTop+s.labelFontSize,"svg"===i?s._drawTextSVG(t/2,o,a):s._drawTextCanvas(t/2,o,a),o+=s.labelMarginBottom);for(let t=0;t<r.length;t++)for(let e=0;e<r[t].length;e++)1===r[t][e]&&("svg"===i?s._drawStepSVG(s.lineColor,1,e*s.squareWidth,t*s.squareWidth+o,a):s._drawStepCanvas(s.lineColor,1,e*s.squareWidth,t*s.squareWidth+o,a));if(s.displayLabel&&"bottom"===s.labelPosition&&(o+=s.squareWidth*r.length+s.labelMarginTop+s.labelFontSize,"svg"===i?s._drawTextSVG(t/2,o,a):s._drawTextCanvas(t/2,o,a)),s.embedImage){n=(t-s.imageWidth)/2;let e;s.displayLabel&&"top"===s.labelPosition?(e=(s.squareWidth*r.length-s.imageHeight)/2+s.labelFontSize+s.labelMarginTop,s.labelMarginBottom):e=(s.squareWidth*r.length-s.imageHeight)/2,s._embedImage(n,e,s.embedImage,a)}2===s.host.firstChild.children.length&&"none"!==s.host.firstChild.children[1].style.display&&s.host.firstChild.removeChild(s.host.firstChild.children[0])}_drawTextSVG(e,t,i){let s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("x",e),s.setAttribute("y",t),s.setAttribute("text-anchor","middle"),s.classList.add("jqx-barcode-label"),s.style.fill=this.labelColor,s.style.fontFamily=this.labelFont,s.style.fontSize=this.labelFontSize+"px",s.textContent=this.value,i.appendChild(s)}_drawTextCanvas(e,t,i){let s=i.getContext("2d");s.font=this.labelFontSize+"px "+this.labelFont,s.fillStyle=this.labelColor,s.textAlign="center",s.fillText(this.value,e,t)}_drawStepSVG(e,t,i,s,r){this.squareWidth&&(this.lineWidth=this.squareWidth,this.lineHeight=this.squareWidth);let n=document.createElementNS("http://www.w3.org/2000/svg","rect");n.setAttribute("x",i),n.setAttribute("y",s),n.setAttribute("width",this.lineWidth),n.setAttribute("height",this.lineHeight),n.setAttribute("fill-opacity",t),n.style.fill=e,r.appendChild(n)}_drawStepCanvas(e,t,i,s,r){this.squareWidth&&(this.lineWidth=this.squareWidth,this.lineHeight=this.squareWidth);let n=r.getContext("2d");n.beginPath(),n.globalAlpha=t,n.strokeStyle=e,n.fillStyle=e,n.rect(i,s,this.lineWidth,this.lineHeight),n.fill()}getDataURL(t){if("svg"===t)return"svg"!==this.renderAs&&this._generateCode("svg",!0),i=this.host.querySelector("svg"),i=(new XMLSerializer).serializeToString(i),i=new Blob([i],{type:"image/svg+xml;charset=utf-8"}),URL.createObjectURL(i);if("png"===t||"jpg"===t){var i="png"===t?"png":"jpeg";"canvas"!==this.renderAs&&this._generateCode("canvas",!0);let e=this.host.querySelector("canvas");return e.toDataURL("image/"+i)}}getDataURLAsync(s){const r=this;return new Promise((e,t)=>{var i=r.getDataURL(s);i?e(i):t()})}export(i="png",s="barcode"){this.getDataURLAsync(i).then(e=>{let t=document.createElement("a");t.setAttribute("download",s+"."+i),t.setAttribute("href",e),t.setAttribute("target","_blank"),t.click()})}}!function(c){c.jqx.jqxWidget("jqxCheckBoxGroup","",{}),c.extend(c.jqx._jqxCheckBoxGroup.prototype,{defineInstance:function(){var e={layout:"vertical",labelPosition:"after",items:[],value:"",disabled:!1,change:null,rtl:!1};return this===c.jqx._jqxCheckBoxGroup.prototype||c.extend(!0,this,e),e},createInstance:function(e){this.render()},enableAt:function(e){this.groupItems[e]&&(this.groupItems[e].classList.remove("jqx-fill-state-disabled"),this.dataItems[e].enabled=!0)},disableAt:function(e){this.groupItems[e]&&(this.groupItems[e].classList.add("jqx-fill-state-disabled"),this.dataItems[e].enabled=!1)},getValue:function(){return this.value},checkAll:function(){if(this.checkboxes)for(var e=0;e<this.checkboxes.length;e++)this.checkAt(e)},uncheckAll:function(){if(this.checkboxes)for(var e=0;e<this.checkboxes.length;e++)this.checkboxes[e].uncheck()},checkValue:function(e){if(this.checkboxes)for(var t=0;t<this.dataItems.length;t++)this.dataItems[t].value===e&&this.checkAt(t)},uncheckValue:function(e){if(this.checkboxes)for(var t=0;t<this.dataItems.length;t++)this.dataItems[t].value===e&&this.uncheckAt(t)},checkAt:function(e){this.checkboxes&&this.checkboxes[e]&&this.checkboxes[e].check()},uncheckAt:function(e){this.checkboxes&&this.checkboxes[e]&&this.checkboxes[e].uncheck()},getValueAt:function(e){return this.dataItems&&this.dataItems[e]?this.dataItems[e].value:null},enable:function(){this.host.removeClass("jqx-fill-state-disabled");for(var e=0;e<this.checkboxes.length;e++)this.checkboxes[e].enable();this.disabled=!1},disable:function(){this.host.addClass("jqx-fill-state-disabled");for(var e=0;e<this.checkboxes.length;e++)this.checkboxes[e].disable();this.disabled=!0},render:function(){this.init=!0;for(var s=this,e=(this.setSize(),this.propertyChangeMap.width=function(e,t,i,s){me.setSize()},this.propertyChangeMap.height=function(e,t,i,s){me.setSize()},this.width||this.host.css("overflow-x","visible"),this.height||this.host.css("overflow-y","visible"),this.disabled&&this.disable(),'<div layout="'+s.layout+'" label-position="'+s.labelPosition+'" class="jqx-container">'),t=[],i=0;i<s.items.length;i++){var r=s.items[i],n=(void 0===(r="string"==typeof r?{label:r,value:r,cssClass:"",enabled:!0}:r).enabled&&(r.enabled=!0),void 0===r.cssClass&&(r.cssClass=""),void 0===r.label&&(r.label=""+(1+i)),void 0===r.value&&(r.value=r.label),t.push(r),r.cssClass||""),o=r.label,a=(r.encoded&&(o=s.escapeHTML(o)),!1===r.enabled?"jqx-fill-state-disabled":"");e+='<div value="'+r.value+'" class="jqx-checkbox-group-item '+n+" "+a+'"><label class="jqx-checkbox-label"> '+o+'</label><span checkmark class="jqx-checkbox-group-item-check"></span></div>'}s.dataItems=t,s.element.innerHTML=e+="</div>";var l=[...s.element.querySelectorAll("label")],d=[...s.element.querySelectorAll("[checkmark]")],h=[];d.forEach((e,i)=>{c(e).jqxCheckBox({rtl:s.rtl,disabled:!1===s.dataItems[i].enabled,theme:s.theme,checked:s.value.includes(s.dataItems[i].value)}),c(e).on("change",function(){if(s.change&&s.dataItems[i]&&!1!==s.dataItems[i].enabled&&!1===s.disabled){var e=JSON.parse(JSON.stringify(s.dataItems[i]));s.value=[];for(var t=0;t<s.checkboxes.length;t++)s.checkboxes[t].checked&&s.value.push(s.dataItems[t].value);e.checked=s.value.includes(e.value),s.change(e)}}),h.push(c(e).jqxCheckBox("getInstance"))}),l.forEach((e,t)=>{e.onclick=()=>{h[t].toggle()}}),s.groupItems=s.element.querySelectorAll(".jqx-checkbox-group-item"),s.checkboxes=h,s.host.addClass(s.toThemeProperty("jqx-widget jqx-checkbox-group"))},escapeHTML:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,function(e){return t[e]})},refresh:function(e){e||(this.setSize(),this._render())},resize:function(e,t){this.width=e,this.height=t,this.refresh()},setSize:function(){(null==this.width||-1==this.width.toString().indexOf("px"))&&(null==this.width||isNaN(this.width))?null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.element.style.width=this.width):this.host.width(this.width),(null==this.height||-1==this.height.toString().indexOf("px"))&&(null==this.height||isNaN(this.height))?null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.element.style.height=this.height):this.host.height(this.height)},val:function(e){if(0==arguments.length||null!=e&&"object"==typeof e)return this.value;if("string"==typeof(this.value=e)){if(this.uncheckAll(),that.dataItems)for(var t=0;t<this.dataItems.length;t++)this.dataItems[t].value===itemValue&&this.checkAt(t)}else Array.isArray(e)&&(this.uncheckAll(),e.forEach(e=>{if(that.dataItems)for(var t=0;t<this.dataItems.length;t++)this.dataItems[t].value===e&&this.checkAt(t)}));return this.value},destroy:function(){this.host.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.setSize()},propertyChangedHandler:function(e,t,i,s){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){if("rtl"==t)for(var r=0;r<this.checkboxes.length;r++)this.checkboxes[r].host.jqxCheckBox({rtl:s});if("theme"==t){c.jqx.utilities.setTheme(i,s,e.host);for(r=0;r<this.checkboxes.length;r++)this.checkboxes[r].host.jqxCheckBox({theme:s})}if("layout"!==t&&"labelPosition"!==t&&"items"!==t||this.render(),"value"==t){this.uncheckAll();for(r=0;r<this.dataItems.length;r++)s.includes(this.dataItems[r].value)&&this.checkAt(r)}"disabled"==t&&(s?this.disable():this.enable())}}})}(jqxBaseFramework),!function(c){c.jqx.jqxWidget("jqxRadioButtonGroup","",{}),c.extend(c.jqx._jqxRadioButtonGroup.prototype,{defineInstance:function(){var e={layout:"vertical",labelPosition:"after",items:[],value:"",disabled:!1,change:null,rtl:!1};return this===c.jqx._jqxRadioButtonGroup.prototype||c.extend(!0,this,e),e},createInstance:function(e){this.render()},enableAt:function(e){this.groupItems[e]&&(this.groupItems[e].classList.remove("jqx-fill-state-disabled"),this.dataItems[e].enabled=!0)},disableAt:function(e){this.groupItems[e]&&(this.groupItems[e].classList.add("jqx-fill-state-disabled"),this.dataItems[e].enabled=!1)},getValue:function(){return this.value},uncheckAll:function(){if(this.buttons)for(var e=0;e<this.buttons.length;e++)this.buttons[e].uncheck()},checkValue:function(e){if(this.buttons)for(var t=0;t<this.dataItems.length;t++)this.dataItems[t].value===e&&this.checkAt(t)},uncheckValue:function(e){if(this.buttons)for(var t=0;t<this.dataItems.length;t++)this.dataItems[t].value===e&&this.uncheckAt(t)},checkAt:function(e){this.buttons&&this.buttons[e]&&this.buttons[e].check()},uncheckAt:function(e){this.buttons&&this.buttons[e]&&this.buttons[e].uncheck()},getValueAt:function(e){return this.dataItems&&this.dataItems[e]?this.dataItems[e].value:null},enable:function(){this.host.removeClass("jqx-fill-state-disabled");for(var e=0;e<this.buttons.length;e++)this.buttons[e].enable();this.disabled=!1},disable:function(){this.host.addClass("jqx-fill-state-disabled");for(var e=0;e<this.buttons.length;e++)this.buttons[e].disable();this.disabled=!0},render:function(){this.init=!0;for(var s=this,e=(this.setSize(),this.propertyChangeMap.width=function(e,t,i,s){me.setSize()},this.propertyChangeMap.height=function(e,t,i,s){me.setSize()},this.width||this.host.css("overflow-x","visible"),this.height||this.host.css("overflow-y","visible"),this.disabled&&this.disable(),'<div layout="'+s.layout+'" label-position="'+s.labelPosition+'" class="jqx-container">'),t=[],i=0;i<s.items.length;i++){var r=s.items[i],n=(void 0===(r="string"==typeof r?{label:r,value:r,cssClass:"",enabled:!0}:r).enabled&&(r.enabled=!0),void 0===r.cssClass&&(r.cssClass=""),void 0===r.label&&(r.label=""+(1+i)),void 0===r.value&&(r.value=r.label),t.push(r),r.cssClass||""),o=r.label,a=(r.encoded&&(o=s.escapeHTML(o)),!1===r.enabled?"jqx-fill-state-disabled":"");e+='<div value="'+r.value+'" class="jqx-checkbox-group-item '+n+" "+a+'"><label class="jqx-checkbox-label"> '+o+'</label><span checkmark class="jqx-checkbox-group-item-check"></span></div>'}s.dataItems=t,s.element.innerHTML=e+="</div>";var l=[...s.element.querySelectorAll("label")],d=[...s.element.querySelectorAll("[checkmark]")],h=[];d.forEach((e,i)=>{c(e).jqxRadioButton({groupName:s.element.id+"_group",rtl:s.rtl,disabled:!1===s.dataItems[i].enabled,theme:s.theme,checked:s.value.includes(s.dataItems[i].value)}),c(e).on("change",function(){if(s.change&&s.dataItems[i]&&!1!==s.dataItems[i].enabled&&!1===s.disabled){var e=JSON.parse(JSON.stringify(s.dataItems[i]));s.value=[];for(var t=0;t<s.buttons.length;t++)s.buttons[t].checked&&s.value.push(s.dataItems[t].value);e.checked=s.value.includes(e.value),s.change(e)}}),h.push(c(e).jqxRadioButton("getInstance"))}),l.forEach((e,t)=>{e.onclick=()=>{h[t].toggle()}}),s.groupItems=s.element.querySelectorAll(".jqx-radiobutton-group-item"),s.buttons=h,s.host.addClass(s.toThemeProperty("jqx-widget jqx-radiobutton-group"))},escapeHTML:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,function(e){return t[e]})},refresh:function(e){e||(this.setSize(),this._render())},resize:function(e,t){this.width=e,this.height=t,this.refresh()},setSize:function(){(null==this.width||-1==this.width.toString().indexOf("px"))&&(null==this.width||isNaN(this.width))?null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.element.style.width=this.width):this.host.width(this.width),(null==this.height||-1==this.height.toString().indexOf("px"))&&(null==this.height||isNaN(this.height))?null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.element.style.height=this.height):this.host.height(this.height)},val:function(e){if(0==arguments.length||null!=e&&"object"==typeof e)return this.value;if("string"==typeof(this.value=e)){if(this.uncheckAll(),that.dataItems)for(var t=0;t<this.dataItems.length;t++)this.dataItems[t].value===itemValue&&this.checkAt(t)}else Array.isArray(e)&&(this.uncheckAll(),e.forEach(e=>{if(that.dataItems)for(var t=0;t<this.dataItems.length;t++)this.dataItems[t].value===e&&this.checkAt(t)}));return this.value},destroy:function(){this.host.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.setSize()},propertyChangedHandler:function(e,t,i,s){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){if("rtl"==t)for(var r=0;r<this.buttons.length;r++)this.buttons[r].host.jqxRadioButton({rtl:s});if("theme"==t){c.jqx.utilities.setTheme(i,s,e.host);for(r=0;r<this.buttons.length;r++)this.buttons[r].host.jqxRadioButton({theme:s})}if("layout"!==t&&"labelPosition"!==t&&"items"!==t||this.render(),"value"==t){this.uncheckAll();for(r=0;r<this.dataItems.length;r++)s.includes(this.dataItems[r].value)&&this.checkAt(r)}"disabled"==t&&(s?this.disable():this.enable())}}})}(jqxBaseFramework),!function(B,z,E){var e,L,f,v,x,N,O,R,u,p,y,F,w,m;function W(e,s,t,i,r){if(i&&r)switch(e){case"jqxGrid":case"jqxDataTable":case"jqxTreeGrid":if(t.columns){var n=i.columns||i,o=r.columns||r;if(n.length!=o.length)return!1;var a={};if(B.each(n,function(e,t){var i,s;for(i in this)this[i]!=o[e][i]&&(s=this.datafield||this.dataField,a[s]||(a[s]={}),a[s][i]=this[i])}),!B.isEmptyObject(a))return B.each(a,function(e,t){for(var i in t)B(s).jqxProxy("getcolumnproperty",e,i)!==t[i]&&B(s).jqxProxy("setcolumnproperty",e,i,t[i])}),!0}}return!1}function V(r,n,o,e,t,a,i){function l(e){if("jqxTree"===a||"jqxMenu"===a)return e;if("object"==typeof e&&e&&null!=e._bindingUpdate)return e;var t={},i=!1;if(B.isArray(e)||e instanceof Object&&!e.url&&!e.localdata&&!e.localData){if("jqxChart"===a)return e;var s,i=!0;t.localData=e,t.type="array",e[0]&&(s=new Array,"object"==B.type(e[0])&&(B.each(e[0],function(e,t){e={name:e,type:B.type(t)};s.push(e)}),t.datafields=s))}else(e&&e.url||e&&(e.localdata||e.localData))&&(t=e);return B.jqx.dataAdapter?new B.jqx.dataAdapter(t):i?e:null}if(o.jqxSource!=E){var s=r.$watchCollection(o.jqxSource,function(e,t){var i;e==t||z.equals(e,t)||e&&t&&e._source&&t._source&&z.equals(e._source,t._source)||(i=l(e),B(n).jqxProxy({source:i}),i=z.extend({},r.$eval(o.jqxSettings)),o.jqxSettings&&i&&i.propertyChanged&&i.propertyChanged("source",t,e))});i.push(s)}else if(o.jqxSettings!=E){var d={},h=null,c=L(o.jqxSettings)(r),u=n.controller();for(p in u)if(c&&u[p]==c.source){h=p;break}if(!h)for(var p in r)if(c&&r[p]==c.source){h=p;break}if(h){var m="";for(p in r)if(r[p]==u){m=p;break}s=t.$watchCollection(h=""!=m?m+"."+h:h,function(e,t){var i;e==t||z.equals(e,t)||e&&t&&e._source&&t._source&&z.equals(e._source,t._source)||(i=B.isArray(e)||"array"===B.type(e),(1e3<new Date-d["jqxSettings.source"]||d=={}||!d["jqxSettings.source"]||i)&&(i=l(e),B(n).jqxProxy({source:i}),i=z.extend({},r.$eval(o.jqxSettings)),o.jqxSettings&&i&&i.propertyChanged&&i.propertyChanged("source",t,e),d.property=new Date))});i.push(s)}s=r.$watchCollection(o.jqxSettings+".source",function(e,t){var i;e==t||z.equals(e,t)||e&&t&&e._source&&t._source&&z.equals(e._source,t._source)||(1e3<new Date-d.property||!d["jqxSettings.property"]||d=={})&&(i=l(e),B(n).jqxProxy({source:i}),i=z.extend({},r.$eval(o.jqxSettings)),o.jqxSettings&&i&&i.propertyChanged&&i.propertyChanged("source",t,e),d["jqxSettings.source"]=new Date)}),s=(i.push(s),r.$watchCollection(o.jqxSettings,function(e,t){var i,s;if(e)return t?void(e.source==t.source||z.equals(e.source,t.source)||e&&t&&e.source&&t.source&&e.source._source&&t.source._source&&z.equals(e.source._source,t.source._source)||e.source&&t.source&&B.isArray(e.source)&&B.isArray(t.source)&&G(e.source)==G(t.source)||(1e3<new Date-d.property||!d["jqxSettings.source"]||d=={})&&(i=l(e.source),B(n).jqxProxy({source:i}),s=z.extend({},r.$eval(o.jqxSettings)),o.jqxSettings&&s&&s.propertyChanged&&s.propertyChanged("source",t.source,e.source),d["jqxSettings.source"]=new Date)):(i=l(e.source),void B(n).jqxProxy({source:i}))}));i.push(s)}return l(e)}function G(e){if(null==e)return"";var s="";return B.each(e,function(e){0<e&&(s+=", "),s+="[";var t=0;if("object"==B.type(this))for(var i in this)0<t&&(s+=", "),s+="{"+i+":"+this[i]+"}",t++;else 0<t&&(s+=", "),s+="{"+e+":"+this+"}",t++;s+="]"}),s}function U(a,t,l,i,s,d){B.extend(B.jqx["_"+i].prototype,{definedInstance:function(){if(this.element&&this.element!==t[0])return!0;if(this.base&&this.base.element!==t[0])return!0;function e(r){B.each(d,function(e,t){o.addHandler(B(r),e,function(e){(a.$parent?B.proxy(t,s):t)(e),"$apply"!=a.$root.$$phase&&"$digest"!=a.$root.$$phase&&a.$apply()})});var e,n=l.$attr;B.each(l,function(e,t){var i,s;0<=e.indexOf("jqxOn")&&(e=n[e].substring(7),i=B.camelCase(e),s=t,o.addHandler(B(r),i,function(e){var t;e.data=l.data||l.jqxData,0<=s.indexOf("(")?(t=s.indexOf("("),(t=L(s.substring(0,t))(a))?t(e):a.$emit(i,e)):a.$emit(s,e),"$apply"!=a.$root.$$phase&&"$digest"!=a.$root.$$phase&&a.$apply()}))}),l.jqxInstance&&((e=L(l.jqxInstance).assign)&&e(a,o),"$apply"!=a.$root.$$phase&&"$digest"!=a.$root.$$phase&&a.$apply())}var o=this;e(t),"jqxPopover"==i&&setTimeout(function(){e(o.host)})}})}function b(l,d,h,c,e){var t,i,s,r,n,o,a,u=new Array,p=z.extend({},l.$eval(h.jqxSettings)),m=(t=l,i=d,r=c,n=e,o=p,a=u,(s=h).jqxSettings&&o&&o.source===E&&s.jqxSource===E&&r.match(/(jqxGrid|jqxPivotGrid|jqxTree|jqxMenu|jqxDataTable|jqxTreeGrid|jqxListBox|jqxTreeMap|jqxComboBox|jqxDropDownList|jqxChart)/gi)&&(!r.match(/(jqxTree|jqxMenu)/gi)||-1===i[0].innerHTML.toLowerCase().indexOf("ul"))&&(o.source=[]),o.source!==E&&s.jqxSettings?o.source=V(t,i,s,o.source,n,r,a):s.jqxSource!==E&&(b=z.extend({},t.$eval(s.jqxSource)),j=!(!s.jqxSource||!s.jqxSource.dataBind),o.source=V(t,i,s,j?s.jqxSource:b,n,r,a)),o=t.$watch(s.ngDisabled,function(e,t){e==E||e==t&&B(i).jqxProxy("disabled")===e||((t={}).disabled=e,0<B(i).length&&B(i).jqxProxy(t))}),a.push(o),{}),g={};if(F[d[0].id]&&B.each(F[d[0].id],function(){var e=this.label,s=this.value,t=B.camelCase(s.substring("4"));if(void 0!==h[e]){var i=l.$eval(h[e]);if(i===E&&"string"===B.type(h[e])&&(i=h[e]),"instance"==t)return!0;"array"===B.type(i)&&"source"!==c?i=i.slice(0):"object"===B.type(i)&&"source"!==c&&(i=B.extend({},i));var r=/(columnmenuopening|columnmenuclosing|aggregatesrenderer|tooltipFormatFunction|labelsFormatFunction|rendergridrows|draw|renderFiles|initTools|initFeedBack|onTargetDrop|drawBefore|dragStart|dragEnd|onDropTargetEnter|onDropTargetLeave|onDrag|createCommand|ready|render|initrowdetails|initTabContent|initContent|renderer|renderToolbar|renderStatusBar|groupsrenderer|pagerrenderer|groupcolumnrenderer|updatefilterconditions|handlekeyboardnavigation|updatefilterpanel|rendered|virtualModeCreateRecords|virtualModeRecordCreating|search|selectionRenderer)/gi,n=/(ready|aggregatesrenderer|initrowdetails|initTabContent|initContent|renderToolbar|renderStatusBar|pagerRenderer)/gi;if(B.isFunction(i)&&!t.match(r))g[arguments[0]]=i;else{if(t.match(r)&&!t.match(/(searchMode)/gi))return m[t]=function(){var e=i.apply(this,arguments);return t.match(n)&&!/^\$(digest|apply)$/.test(l.$root.$$phase)&&l.$digest(),e},!0;m[t]=i}r=function(n,o){if(n!=o&&!z.equals(n,o)){var a=B.camelCase(s.substring("4"));if("watch"==a){if(0<=h.jqxWatch.indexOf(",")||0<=h.jqxWatch.indexOf("["))return e=(e=(e=(e=(e=h.jqxWatch).replace("[","")).replace("]","")).trim()).split(","),void B.each(e,function(e,t){for(var i=this.split("."),s=0;s<i.length;s++){if(i[s]in B(d).data().jqxWidget){a=i[s];break}if(i[s].toLowerCase()in B(d).data().jqxWidget){a=i[s].toLowerCase();break}}var r={};r[a]=n[e],W(c,B(d),r,n,o)||(B(d).jqxProxy(r),e=z.extend({},l.$eval(h.jqxSettings)),h.jqxSettings&&e&&e.propertyChanged&&e.propertyChanged(a,o,n))});for(var e=h.jqxWatch.split("."),t=0;t<e.length;t++){if(e[t]in B(d).data().jqxWidget){a=e[t];break}if(e[t].toLowerCase()in B(d).data().jqxWidget){a=e[t].toLowerCase();break}}}var i={};i[a]=n,W(c,B(d),i,n,o)||(B(d).jqxProxy(i),i=z.extend({},l.$eval(h.jqxSettings)),h.jqxSettings&&i&&i.propertyChanged&&i.propertyChanged(a,o,n))}};r="watch"==t?(delete m[t],l.$watch(h[e],r,!0)):l.$watch(h[e],r),u.push(r)}}),(""==d[0].id||""!=d[0].id&&d[0].id==c+"0")&&(E==N[c]&&(N[c]=0),d[0].id=c+N[c]++),!B(d)[c])throw new Error("Missing required JavaScript references for: "+c);B.each(p,function(t,i){if("data"===t||"created"===t||"propertyChanged"===t)return!0;var e=/(columnmenuopening|columnmenuclosing|aggregatesrenderer|tooltipFormatFunction|labelsFormatFunction|rendergridrows|renderFiles|initTools|draw|drawBefore|dragStart|dragEnd|initFeedBack|onTargetDrop|onDropTargetEnter|onDropTargetLeave|onDrag|createCommand|ready|render|initrowdetails|initTabContent|initContent|renderer|renderToolbar|renderStatusBar|groupsrenderer|pagerrenderer|groupcolumnrenderer|updatefilterconditions|handlekeyboardnavigation|updatefilterpanel|rendered|virtualModeCreateRecords|virtualModeRecordCreating|search|selectionRenderer)/gi,s=/(ready|aggregatesrenderer|initrowdetails|initTabContent|initContent|renderToolbar|renderStatusBar|pagerRenderer)/gi;if(B.isFunction(i)&&!t.match(e))g[t]=i;else{if(t.match(e)&&!t.match(/(searchMode)/gi))return m[t]=function(){var e=i.apply(this,arguments);return t.match(s)&&!/^\$(digest|apply)$/.test(l.$root.$$phase)&&l.$digest(),e},!0;"array"===B.type(i)&&"source"!==t?i=i.slice(0):"object"===B.type(i)&&"source"!==t&&(i=B.extend({},i)),m[t]=i}}),U(l,d,h,c,e,g);var f,v,x,y,w,b,_,q,j=d[0],T=(f=l,v=d,y=c,w=e,b=j,(x=h).jqxSettings&&(_=L(x.jqxSettings)(f))&&(_.apply?O[w.$id+y+x.jqxSettings]||(O[w.$id+y+x.jqxSettings]=new Array):(_.apply=_[y]=function(){var i=arguments,s=new Array;return 0==i.length||(B.each(O[w.$id+y+x.jqxSettings],function(e,t){s.push({widgetName:y,element:this,result:B.jqx.jqxWidgetProxy(y,this,i)})}),1==s.length?s[0].result:s)},_.digest=function(){/^\$(digest|apply)$/.test(f.$root.$$phase)||f.$digest()},_.refresh=function(s,t){var e,r={},o=B(v)[y]("getInstance");B.each(_,function(e,t){if("created"===e||"propertyChanged"===e||"data"==e||"refresh"==e||e==y||"apply"==e)return!0;var i=o.events||o._events;return!!(i&&0<=i.indexOf(e)||e.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g))||(s!=E&&-1===s.indexOf(e)||void(r[e]=t))}),r!=={}&&(t?(B.each(r,function(e,t){_[e]=o[e]}),"$apply"!=f.$root.$$phase&&"$digest"!=f.$root.$$phase&&f.$apply()):(B.each(O[w.$id+y+x.jqxSettings],function(e,t){B(this).jqxProxy(r)}),x.jqxWatchSettings!=E&&w&&(e=L(x.jqxSettings)(w),B.each(e,function(e,t){if(e.match(/(source|propertyChanged|created|data|apply|refresh)/g))return!0;var n,i=o.events||o._events;return!!(i&&0<=i.indexOf(e)||e.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g))||(e===y||void(R[x.jqxSettings+"."+e]||(i=w.$watch(x.jqxSettings+"."+(n=e),function(i,s){var r,e;i==s||z.equals(i,s)||((r={})[n]=i,B.each(O[w.$id+y+x.jqxSettings],function(e,t){W(y,B(this),r,i,s)||B(this).jqxProxy(r)}),e=z.extend({},f.$eval(x.jqxSettings)),x.jqxSettings&&e&&e.propertyChanged&&e.propertyChanged(n,s,i))},!0),R[x.jqxSettings+"."+e]=i)))})))),F[v[0].id]&&(r={},B.each(F[v[0].id],function(){if(s!=E&&-1===s.indexOf(B.camelCase(this.value.substring(4))))return!0;var e;r[B.camelCase(this.value.substring(4))]=f.$eval(this.label),t&&(e=B.parse(this.label)(f).assign)&&e(f,o[B.camelCase(this.value.substring(4))])}),t?"$apply"!=f.$root.$$phase&&"$digest"!=f.$root.$$phase&&f.$apply():B.each(O[w.$id+y+x.jqxSettings],function(e,t){B(this).jqxProxy(r)}))},O[w.$id+y+x.jqxSettings]=new Array),O[w.$id+y+x.jqxSettings].push(b)),B(d)[c](m),B(d)[c]("getInstance")),C=l,S=d,k=h,I=c,D=e,P=T,A=m,M=u,H=(k.jqxSettings&&(k.jqxWatchSettings!=E&&D&&(q=L(k.jqxSettings)(D),B.each(q,function(e,t){if(e.match(/(source|created|propertyChanged|data|apply|refresh)/g))return!0;var s,i=P.events||P._events;return!!(i&&0<=i.indexOf(e)||e.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g))||(e===I||void(A.hasOwnProperty(e)&&(i=D.$watch(k.jqxSettings+"."+(s=e),function(e,t){var i;e==t||z.equals(e,t)||((i={})[s]=e,W(I,B(S),i,e,t)||(B(S).jqxProxy(i),i=z.extend({},C.$eval(k.jqxSettings)),k.jqxSettings&&i&&i.propertyChanged&&i.propertyChanged(s,t,e)))},!0),R[k.jqxSettings+"."+e]=i,M.push(i))))})),q=C.$watch(k.jqxSettings,function(e,r){var t,n={},o=!1;e==r||z.equals(e,r)||(B.each(e,function(t,e){if("source"===t){if(null!=r.source)return!0;var i=V(C,S,k,e,D,M);n[t]=i}if("created"===t)return!0;if("propertyChanged"===t)return!0;if("data"===t)return C.$apply(),!0;i=P.events||P._events;if(i&&0<=i.indexOf(t)||t.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g))return!0;function s(s){var e;k.jqxWatchSettings!=E&&D&&!R[k.jqxSettings+"."+s]&&(s=t,e=D.$watch(k.jqxSettings+"."+s,function(e,t){var i;e==t||z.equals(e,t)||((i={})[s]=e,W(I,B(S),i,e,t)||(B(S).jqxProxy(i),i=z.extend({},C.$eval(k.jqxSettings)),k.jqxSettings&&i&&i.propertyChanged&&i.propertyChanged(s,t,e)))},!0),R[k.jqxSettings+"."+s]=e,M.push(e))}(!(e instanceof Object||null!=r&&e===r[t])||t!==I&&"apply"!==t&&"created"!==t&&"propertyChanged"!==t&&e instanceof Object&&(null==r||G(e)!==G(r[t])||""==G(e)&&""==G(r[t])))&&(n[t]=e,s(t),o=!0)}),n!=={}&&o&&!W(I,B(S),n,e,r)&&(B(S).jqxProxy(n),t=z.extend({},C.$eval(k.jqxSettings)),k.jqxSettings&&t&&t.propertyChanged&&t.propertyChanged(0,r,e)))}),M.push(q)),l.$on("$destroy",function(){T=(T&&T.destroy&&!T.isDestroyed?(T.isDestroyed=!0,0<B(d).parents().length&&B(d)[c]("destroy")):B(d).remove(),null);for(var e=0;e<u.length;e++)u[e]();m=[],g=[],H()}));return T}function _(e,t,i,s){var r,n,o,a,l=e[0].nodeName.toLowerCase(),d=B(e).parent(),h=B(e).html(),c=!(!d||!d[0]||"ng-include"!=d[0].nodeName.toLowerCase());{if(!(c=0<B(e).parents("[ui-view]").length?!0:c)||t)return c='<div id="jqx-ngwidget">'+h+"</div>",0<=l.indexOf("jqx")&&(t=e[0].attributes,r=e,0<=l.indexOf("input")?0<=l.indexOf("date")||0<=l.indexOf("number")?B(e).replaceWith('<div id="jqx-ngwidget"></div>'):0<=l.indexOf("password")?B(e).replaceWith('<input id="jqx-ngwidget" type="password"/>'):B(e).replaceWith('<input id="jqx-ngwidget"/>'):0<=l.indexOf("jqx-button")&&-1==l.indexOf("jqx-button-group")||0<=l.indexOf("jqx-toggle-button")?B(e).replaceWith('<button id="jqx-ngwidget">'+h+"</button>"):0<=l.indexOf("jqx-link-button")?0<B(e).find("a").length?((n=B(e).find("a")).attr("id","jqx-ngwidget"),B(e).replaceWith(n)):B(e).replaceWith('<a id="jqx-ngwidget">'+h+"</a>"):0<=l.indexOf("jqx-data-table")||0<=l.indexOf("jqx-grid")?0<B(e).find("tr").length?B(e).replaceWith('<div id="jqx-ngwidget">'+h+"</div>"):B(e).replaceWith('<div id="jqx-ngwidget"></div>'):0<=l.indexOf("jqx-list-box")||0<=l.indexOf("jqx-drop-down-list")||0<=l.indexOf("jqx-combo-box")?0<B(e).find("option").length?B(e).replaceWith('<select id="jqx-ngwidget">'+h+"</select>"):0<B(e).find("li").length?B(e).replaceWith('<ul id="jqx-ngwidget">'+h+"</ul>"):B(e).replaceWith('<div id="jqx-ngwidget"></div>'):0<=l.indexOf("jqx-list-menu")?B(e).replaceWith('<ul id="jqx-ngwidget" data-role="listmenu">'+h+"</ul>"):0<=l.indexOf("jqx-tooltip")?((o=B(e).children()).detach(),B(o).insertAfter(B(e)),B.each(t,function(){B(o)[0]&&B(o)[0].setAttribute(this.name,this.value)}),B(e).remove(),e=o):B(e).replaceWith(c),r=d.find("#jqx-ngwidget").removeAttr("id"),B.each(t,function(){B(r)[0]&&B(r)[0].setAttribute(this.name,this.value)})),a=e[0],""==(a=r&&r.length?r[0]:a).id&&(E==N[s]&&(N[s]=0),a.id=s+N[s]++),B.each(i,function(e,t){e!==s&&"jqxNgModel"!=e&&-1==e.indexOf("jqxOn")&&"jqxData"!=e&&"jqxWatchSettings"!=e&&"jqxCreated"!=e&&"jqxSource"!=e&&"jqxCreate"!=e&&"jqxSettings"!=e&&0<=e.indexOf("jqx")&&(F[a.id]||(F[a.id]=new Array),F[a.id].push({label:e,value:i.$attr[e]}))}),B(a);B(e).attr("data-jqx-ng-include",!0)}}function q(e,h){var t={jqxCalendar:["jqxdatetimeinput.js","jqxcalendar.js","jqxtooltip.js","globalize.js","jqxbuttons.js"],jqxDateTimeInput:["jqxdatetimeinput.js","jqxcalendar.js","jqxtooltip.js","globalize.js","jqxbuttons.js"],jqxScheduler:["jqxscheduler.js","jqxscheduler.api.js","jqxdate.js","jqxmenu.js","jqxwindow.js","jqxcheckbox.js","jqxnumberinput.js","jqxscrollbar.js","jqxlistbox.js","jqxdropdownlist.js","jqxinput.js","jqxradiobutton.js","jqxdatetimeinput.js","jqxcalendar.js","jqxtooltip.js","globalize.js","jqxbuttons.js"],jqxListBox:["jqxlistbox.js","jqxdata.js","jqxbuttons.js","jqxscrollbar.js"],jqxComboBox:["jqxlistbox.js","jqxdata.js","jqxbuttons.js","jqxscrollbar.js","jqxcombobox.js"],jqxDropDownList:["jqxlistbox.js","jqxdata.js","jqxbuttons.js","jqxscrollbar.js","jqxdropdownlist.js"],jqxKanban:["jqxkanban.js","jqxsortable.js"],jqxSortable:["jqxsortable.js"],jqxKnob:["jqxdraw.js","jqxknob.js"],jqxGrid:{scripts:["jqxdatetimeinput.js","jqxcalendar.js","jqxmenu.js","jqxtooltip.js","jqxscrollbar.js","jqxbuttons.js","jqxlistbox.js","jqxdropdownlist.js","jqxcombobox.js","jqxcheckbox.js","globalize.js"],deps:{"jqxgrid.js":["jqxgrid.selection.js","jqxgrid.filter.js","jqxgrid.sort.js","jqxgrid.storage.js","jqxgrid.grouping.js","jqxgrid.pager.js","jqxgrid.columnsresize.js","jqxgrid.columnsreorder.js","jqxgrid.edit.js","jqxgrid.export.js","jqxgrid.aggregates.js"],"jqxdata.js":["jqxdata.export.js"]}},jqxPivotGrid:{scripts:["jqxdatetimeinput.js","jqxcalendar.js","jqxdragdrop","jqxmenu.js","jqxtooltip.js","jqxscrollbar.js","jqxbuttons.js","jqxlistbox.js","jqxdropdownlist.js","jqxcombobox.js","jqxcheckbox.js","globalize.js"],deps:{"jqxpivotgrid.js":["jqxpivot.js","jqxpivotdesigner"],"jqxdata.js":["jqxdata.export.js"]}},jqxDataTable:{scripts:["jqxdatatable.js","jqxdatetimeinput.js","jqxcalendar.js","jqxmenu.js","jqxtooltip.js","jqxscrollbar.js","jqxbuttons.js","jqxlistbox.js","jqxdropdownlist.js","jqxcombobox.js","jqxcheckbox.js","globalize.js","jqxinput.js"],deps:{"jqxdata.js":["jqxdata.export.js"]}},jqxTreeGrid:{scripts:["jqxdatetimeinput.js","jqxcalendar.js","jqxmenu.js","jqxtooltip.js","jqxscrollbar.js","jqxbuttons.js","jqxlistbox.js","jqxdropdownlist.js","jqxcombobox.js","jqxcheckbox.js","globalize.js","jqxinput.js"],deps:{"jqxdatatable.js":["jqxtreegrid.js"],"jqxdata.js":["jqxdata.export.js"]}},jqxDockingLayout:{scripts:["jqxmenu.js"],deps:{"jqxlayout.js":["jqxdockinglayout.js"]}},jqxCheckBox:["jqxcheckbox.js"],jqxRadioButton:["jqxradiobutton.js"],jqxBulletChart:["jqxbulletchart.js","jqxtooltip.js"],jqxRangeSelector:["jqxrangeselector.js"],jqxScrollView:["jqxbuttons.js","jqxscrollview.js"],jqxSwitchButton:["jqxswitchbutton.js"],jqxTouch:["jqxtouch.js"],jqxColorPicker:["jqxcolorpicker.js"],jqxInput:["jqxinput.js"],jqxTextArea:["jqxtextarea.js","jqxbuttons.js","jqxscrollbar.js"],jqxTagCloud:["jqxtagcloud.js"],jqxPopover:["jqxpopover.js"],jqxLayout:["jqxlayout.js","jqxmenu.js","jqxwindow.js"],jqxLoader:["jqxloader.js"],jqxResponsivePanel:["jqxresponsivepanel.js"],jqxEditor:["jqxeditor.js"],jqxNumberInput:["jqxbuttons.js","jqxnumberinput.js"],jqxMaskedInput:["jqxmaskedinput.js"],jqxSlider:["jqxbuttons.js","jqxslider.js"],jqxPanel:["jqxbuttons.js","jqxscrollbar.js","jqxpanel.js"],jqxButton:["jqxbuttons.js"],jqxLinkButton:["jqxbuttons.js"],jqxToggleButton:["jqxbuttons.js"],jqxRepeatButton:["jqxbuttons.js"],jqxDropDownButton:["jqxdropdownbutton.js"],jqxNotification:["jqxnotification.js"],jqxDockPanel:["jqxdockpanel.js"],jqxProgressBar:["jqxprogressbar.js"],jqxListMenu:["jqxbuttons.js","jqxscrollbar.js","jqxpanel.js","jqxlistmenu.js"],jqxTree:["jqxbuttons.js","jqxscrollbar.js","jqxpanel.js","jqxtree.js","jqxdata.js"],jqxMenu:["jqxmenu.js","jqxdata.js"],jqxTabs:["jqxtabs.js","jqxbuttons.js"],jqxDragDrop:["jqxdragdrop.js"],jqxDraw:["jqxdraw.js"],jqxWindow:["jqxwindow.js"],jqxDocking:["jqxwindow.js","jqxdocking.js"],jqxButtonGroup:["jqxbuttons.js","jqxbuttongroup.js"],jqxChart:["jqxdata.js","jqxchart.js"],jqxNavigationBar:["jqxnavigationbar.js"],jqxExpander:["jqxexpander.js"],jqxResponse:["jqxresponse.js"],jqxPasswordInput:["jqxpasswordinput.js"],jqxRating:["jqxrating.js"],jqxSplitter:["jqxbuttons.js","jqxsplitter.js"],jqxValidator:["jqxvalidator.js"],jqxTooltip:["jqxtooltip.js"],jqxGauge:["jqxdraw.js","jqxgauge.js"],jqxLinearGauge:["jqxdraw.js","jqxgauge.js"],jqxTreeMap:["jqxtreemap.js"],jqxRibbon:["jqxbuttons.js","jqxribbon.js"],jqxFormattedInput:["jqxbuttons.js","jqxformattedinput.js"],jqxComplexInput:["jqxbuttons.js","jqxcomplexinput.js"],jqxToolBar:["jqxtoolbar.js"],jqxFileUpload:["jqxfileupload.js"],jqxNavBar:["jqxnavbar.js"]}[e],c=(h.filesCount=0,t.length);if(t.scripts){var i,s=t.scripts.length;for(i in t.deps)s++,s+=t.deps[i].length;c=s}function r(n,o){function a(){var e=n[l];if(0===B('script[src*="'+e+'"]').length){function t(){if(h.filesCount++,d++,p[e]=!1,u[e]!=E&&B.each(u[e],function(){this.documentReady=!0,this.scriptsLoaded&&this.scriptsLoaded()}),u[e]=!0,h.filesCount==c)return h.documentReady=!0,void(h.scriptsLoaded&&h.scriptsLoaded());d===n.length&&o&&o()}var i=document.getElementsByTagName("head")[0],s=document.createElement("script"),r=(s.type="text/javascript",s.addEventListener?s.addEventListener("load",t,!1):window.attachEvent&&s.attachEvent("onreadystatechange",function(){"complete"!=s.readyState&&"loaded"!=s.readyState||t()}),p[e]=!0,m);s.src=(r="globalize.js"==e?m+"globalization/":r)+e,i.appendChild(s),++l<n.length&&a()}else{if(h.filesCount++,h.filesCount==c)return!0===u[e]||p[e]===E?(h.documentReady=!0,h.scriptsLoaded&&h.scriptsLoaded()):(u[e]==E&&(u[e]=new Array),u[e].push(h));++l<n.length&&a(),++d===n.length&&o&&o()}}var l=0,d=0;a()}t.scripts?(r(t.scripts),B.each(t.deps,function(e,t){var i=new Array;i.push(e),r(i,function(){r(t)})})):r(t)}function t(g){function n(a,l,d,h,e){if(B(l).attr("data-jqx-ng-include")){B(l).removeAttr("data-jqx-ng-include");var t,i=B(l.children()).detach(),s=((l=_(l,!0,d,g)).append(i),x(l)(a),!0);for(t in d)if(-1!=t.toString().indexOf("jqx")&&(a[d[t]]!=E&&(s=!1),1<d[t].split(".").length))for(var r=d[t].split("."),n=0;n<r.length;n++)a[r[n]]!=E&&(s=!1);s&&d.jqxSettings&&(L(d.jqxSettings)(a)||(s=!1)),s&&(a=a.$parent)}B.jqx.AMD&&(o={},y[g]=!1,o.documentReady=!1,q(g,o));var o,c=l[0].style.visibility,u=l[0].style.display,p=(l[0].style.visibility="hidden",l[0].style.display="none",a),m=v(function(){v.cancel(m),m=E;var i,t,s,e,r=function(){function e(){a.$emit(g+"Created",o),d.jqxSettings&&L(d.jqxSettings)(a)&&L(d.jqxSettings)(a).created&&f(function(){(0,L(d.jqxSettings)(a).created)(o)}),d.jqxCreated&&f(function(){L(d.jqxCreated)(a)(o)})}var t,i,s=h[0],r=(l[0].style.visibility=c,l[0].style.display=u,b(a,l,d,g,p)),n=(g.toLowerCase(),g.match(/(input|list|radio|checkbox|combobox|rating|slider|scrollbar|progress|range|editor|picker|range|gauge|textarea|calendar|switch|button)/gi)),o={element:l[0],name:g,instance:B(l).data().jqxWidget,id:l[0].id,scope:a};"jqxGrid"===g||"jqxDataTable"===g?(t=0,i=v(function(){B(l).data().jqxWidget?!B(l).data().jqxWidget.initializedcall&&25!=t||(v.cancel(i),i=E,e()):(v.cancel(i),i=E),t++},100)):e(),f(function(){var e,t,i;s&&(s.$render=function(){var e=s.$viewValue;if(e===E&&(e=s.$modelValue),"jqxRadioButton"!==g)return"jqxCheckBox"===g?(a.$eval(B(l).attr("ng-true-value"))==s.$viewValue&&B(l).val(!0),void(a.$eval(B(l).attr("ng-false-value"))==s.$viewValue?B(l).val(!1):B(l).val(s.$viewValue))):void(e!=B(l).val()&&f(function(){B(l).val(e)}));a.$eval(B(l).attr("value"))==s.$viewValue||"true"==a.$eval(B(l).attr("value"))&&1==s.$viewValue?B(l).val(!0):B(l).val(!1)},"jqxRadioButton"===g?a.$eval(B(l).attr("value"))==s.$viewValue||"true"==a.$eval(B(l).attr("value"))&&1==s.$viewValue?B(l).val(!0):B(l).val(!1):"jqxCheckBox"===g?(a.$eval(B(l).attr("ng-true-value"))==s.$viewValue&&B(l).val(!0),a.$eval(B(l).attr("ng-false-value"))==s.$viewValue?B(l).val(!1):B(l).val(s.$viewValue)):"jqxDropDownList"===g||"jqxComboBox"===g||"jqxListBox"===g||"jqxInput"===g||"jqxTextArea"===g?d.jqxNgModel!=E?(e=B(l).data().jqxWidget,"jqxInput"!=g?e.valueMember?e.selectItem(s.$viewValue[e.valueMember]):e.displayMember?e.selectItem(s.$viewValue[e.displayMember]):B(l).val(s.$viewValue):B(l).val(s.$viewValue)):B(l).val(s.$viewValue):"jqxDateTimeInput"===g||"jqxCalendar"===g?d.jqxNgModel!=E?"range"==(e=B(l).data().jqxWidget).selectionMode?e.setRange(s.$viewValue):e.setDate(s.$viewValue):B(l).val(s.$viewValue):"jqxToggleButton"==g?((e=B(l).data().jqxWidget).toggled=!0,e.refresh()):B(l).val(s.$viewValue),n&&(e="jqxInput"==g?"keyup change select":"jqxToggleButton"==g?"keyup click":"jqxScrollBar"==g?"valueChanged":"keyup change",!(i=r.host)&&r.base&&(i=r.base.host),B(i).on(e,function(e){var i=e.args;t&&f.cancel(t),t=f(function(){var e,t;"jqxRadioButton"===g?i&&"api"!=i.type&&s.$setViewValue(a.$eval(B(l).attr("value"))):"jqxCheckBox"===g?B(l).attr("ng-true-value")!=E&&i.checked?s.$setViewValue(B(l).attr("ng-true-value")):B(l).attr("ng-false-value")==E||i.checked?s.$setViewValue(B(l).val()):s.$setViewValue(B(l).attr("ng-false-value")):"jqxDropDownList"===g||"jqxComboBox"===g||"jqxListBox"===g||"jqxInput"===g||"jqxTextArea"===g?(e=B(l).val(),d.jqxNgModel!=E&&((t=B(l).data().jqxWidget).getSelectedItem&&(e=t.getSelectedItem()).originalItem&&(e=e.originalItem),"jqxInput"!==g&&"jqxTextArea"!==g||(e=t.selectedItem)),s.$setViewValue(e)):"jqxDateTimeInput"===g||"jqxCalendar"===g?d.jqxNgModel!=E||"date"===B.type(s.$viewValue)?"range"==(t=B(l).data().jqxWidget).selectionMode?s.$setViewValue(t.getRange()):s.$setViewValue(t.getDate()):s.$setViewValue(B(l).val()):"jqxToggleButton"==g?(t=B(l).data().jqxWidget,s.$setViewValue(t.toggled)):s.$setViewValue(B(l).val()),a.$emit(g+"ModelChange",s.$viewValue)})})))})};d.ngShow!==E&&d.jqxCreate===E?i=a.$watch(d.ngShow,function(e,t){e&&(r(),i())}):(t=function(){var i;null==d.jqxCreate&&null==d.jqxCreate||!0===d.jqxCreate||null!==d.jqxCreate&&"object"==B.type(d.jqxCreate)?r():i=a.$watch(d.jqxCreate,function(e,t){"number"==typeof e?(f(r,e),i()):e&&(r(),i())})},B.jqx.AMD?(s=function(){var e=!0;for(t in y)if(!y[t]){e=!1;break}if(e)for(var t in w||(a.$emit("jQWidgetsScriptsLoaded"),w=!0),y)B.each(y[t],function(){this()}),y[t]=new Array},o.documentReady?(e={element:l[0],name:g,scope:a},a.$emit(g+"ScriptsLoaded",e),y[g]||(y[g]=new Array),y[g].push(t),s()):o.scriptsLoaded=function(){var e={element:l[0],name:g,scope:a};a.$emit(g+"ScriptsLoaded",e),y[g]||(y[g]=new Array),y[g].push(t),s()}):t())})}e.directive(g,["$timeout","$interval","$parse","$compile","$log",function(e,t,i,s,r){f=e,v=t,L=i,x=s,0;return{restrict:"ACE",require:["?ngModel"],scope:!1,template:function(e,t){_(e,!1,t,g),this.scope},controller:["$scope","$attrs","$element","$transclude",function(e,t,i,s){}],compile:function(e,t,i){return{pre:function(e,t,i,s,r){},post:function(e,t,i,s,r){n(e,t,i,s)}}},link:n}}])}z&&(B.jqx=B.jqx||{},B.jqx.AMD=!1,e=z.module("jqwidgets",[]),z.module("jqwidgets-amd",[],function(){B.jqx.AMD=!0}),x=v=f=L=null,N=new Array,O=new Array,R=new Array,u=new Array,p=new Array,y=new Array,w=!(F={}),m=function(){for(var e,t=document.getElementsByTagName("script"),i=0;e=t[i];i++)if(0<=(e=e.src).indexOf("jqxcore.js")){var s=e.substring(0,e.indexOf("jqxcore.js"));break}return s}(),B.jqx.angularCompile=function(e,s){0<e.length&&(e=e[0]);var r=z.element(e),t=r.injector();s==E&&(s=e.innerHTML),t.invoke(["$compile","$rootScope",function(e,t){var i=r.html(s).scope();e(r)(i||t),/^\$(digest|apply)$/.test(t.$$phase)?/^\$(digest|apply)$/.test(i.$$phase)||i.$digest():t.$digest()}])},t("jqxBulletChart"),t("jqxButtonGroup"),t("jqxButton"),t("jqxBarGauge"),t("jqxRepeatButton"),t("jqxToggleButton"),t("jqxLinkButton"),t("jqxCalendar"),t("jqxChart"),t("jqxCheckBox"),t("jqxComplexInput"),t("jqxColorPicker"),t("jqxComboBox"),t("jqxDataTable"),t("jqxDateTimeInput"),t("jqxDocking"),t("jqxDockPanel"),t("jqxDragDrop"),t("jqxDraw"),t("jqxDropDownButton"),t("jqxDropDownList"),t("jqxEditor"),t("jqxExpander"),t("jqxFormattedInput"),t("jqxFileUpload"),t("jqxGauge"),t("jqxLinearGauge"),t("jqxGrid"),t("jqxInput"),t("jqxListBox"),t("jqxListMenu"),t("jqxMaskedInput"),t("jqxMenu"),t("jqxNavigationBar"),t("jqxNavBar"),t("jqxNotification"),t("jqxNumberInput"),t("jqxPanel"),t("jqxPasswordInput"),t("jqxProgressBar"),t("jqxRadioButton"),t("jqxRangeSelector"),t("jqxRating"),t("jqxRibbon"),t("jqxScrollBar"),t("jqxScrollView"),t("jqxSlider"),t("jqxSplitter"),t("jqxSwitchButton"),t("jqxTabs"),t("jqxToolBar"),t("jqxTooltip"),t("jqxTouch"),t("jqxTree"),t("jqxTreeGrid"),t("jqxTreeMap"),t("jqxValidator"),t("jqxWindow"),t("jqxTagCloud"),t("jqxPopover"),t("jqxKanban"),t("jqxKnob"),t("jqxSortablePlugin"),t("jqxScheduler"),t("jqxTextArea"),t("jqxLayout"),t("jqxDockingLayout"),t("jqxResponsivePanel"),t("jqxLoader"),t("jqxPivotGrid"))}(jqxBaseFramework,window.angular);try{!function(c,u){u.jqwidgets=u.jqwidgets||{},u.jqwidgets.knockout=function(l){var e={},d=l.name;e.init=function(r,n,e,t){var s,i,o=u.utils.unwrapObservable(n()),a=u.toJS(o);l.reset&&l.reset(),null==c.data(r)[d]&&(s=[],c(r)[d](),widget=c.data(r)[d].instance,c.each(l,function(t,e){if(widget.hasOwnProperty(t)&&a.hasOwnProperty(t)&&!widget.koupdating){widget.koupdatingFromObservable=!0;try{var i=!1;l.serialize&&l.serialize(widget,t)&&(u.toJSON(a[t])!=u.toJSON(l.serialize(widget,t))&&l.setProperty(widget,t,widget[t],a[t]),i=!0),i||u.toJSON(a[t])!=u.toJSON(widget[t])&&l.setProperty(widget,t,widget[t],a[t])}catch(e){l.setProperty(widget,t,widget[t],a[t])}s[t]=t,widget.koupdatingFromObservable=!1}}),i={},c.each(a,function(e,t){null==s[e]&&(i[e]=a[e])}),widget.host[d](i)),(widget=c.data(r)[d].instance).koupdatingFromObservable=!1,widget.koupdating=!1,l.events&&c.each(l.events,function(){var s=this;c(r).on(s+"."+r.id,function(e){var t,i;(widget=c.data(r)[d].instance).koupdatingFromObservable||((t=widget).koupdating=!0,i=n(),null!=(e=l.getProperty(widget,e,s,o))&&(i.hasOwnProperty(e.name)&&c.isFunction(i[e.name])?u.isObservable(i[e.name])&&i[e.name].push?n(e.value):i[e.name](e.value):i[e.name]&&n(e.value)),t.koupdating=!1)})})},e.update=function(e,t,i,s,r){var t=u.utils.unwrapObservable(t()),n=u.toJS(t);(widget=c.data(e)[d].instance).koupdating||c.each(l,function(e,t){var i;widget.hasOwnProperty(e)&&n.hasOwnProperty(e)&&(widget.koupdating||(i=!(widget.koupdatingFromObservable=!0),l.serialize&&l.serialize(widget,e)&&(u.toJSON(n[e])!=u.toJSON(l.serialize(widget,e))&&l.setProperty(widget,e,widget[e],n[e]),i=!0),i||u.toJSON(n[e])!=u.toJSON(widget[e])&&l.setProperty(widget,e,widget[e],n[e]),widget.koupdatingFromObservable=!1))})},u.bindingHandlers[l.name]=e};new u.jqwidgets.knockout({name:"jqxGauge",disabled:!1,min:0,max:220,value:0,reset:function(){this.value=0,this.max=220,this.min=0,this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxGauge({disabled:s}),"min"==t&&e.host.jqxGauge({min:s}),"max"==t&&e.host.jqxGauge({max:s}),"value"==t&&e.host.jqxGauge({value:s})}}),new u.jqwidgets.knockout({name:"jqxLinearGauge",disabled:!1,min:0,max:220,value:0,reset:function(){this.value=0,this.max=220,this.min=0,this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxLinearGauge({disabled:s}),"min"==t&&e.host.jqxLinearGauge({min:s}),"max"==t&&e.host.jqxLinearGauge({max:s}),"value"==t&&e.host.jqxLinearGauge({value:s})}}),new u.jqwidgets.knockout({name:"jqxSlider",disabled:!1,min:0,max:10,value:0,reset:function(){this.value=0,this.max=10,this.min=0,this.disabled=!1},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"value",value:t.args.value}},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxSlider({disabled:s}),"min"==t&&e.host.jqxSlider({min:parseFloat(s)}),"max"==t&&e.host.jqxSlider({max:parseFloat(s)}),"value"==t&&e.host.jqxSlider({value:parseFloat(s)})}}),new u.jqwidgets.knockout({name:"jqxScrollBar",disabled:!1,min:0,max:10,value:0,reset:function(){this.value=0,this.max=10,this.min=0,this.disabled=!1},events:["valueChanged"],getProperty:function(e,t,i){if("valueChanged"==i)return{name:"value",value:parseInt(t.currentValue)}},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxScrollBar({disabled:s}),"min"==t&&e.host.jqxScrollBar({min:parseFloat(s)}),"max"==t&&e.host.jqxScrollBar({max:parseFloat(s)}),"value"==t&&e.host.jqxScrollBar({value:parseFloat(s)})}}),new u.jqwidgets.knockout({name:"jqxProgressBar",disabled:!1,value:0,reset:function(){this.value=0,this.disabled=!1},events:["valueChanged"],getProperty:function(e,t,i){if("valueChanged"==i)return{name:"value",value:parseInt(t.currentValue)}},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxProgressBar({disabled:s}),"value"==t&&e.host.jqxProgressBar({value:parseFloat(s)})}}),new u.jqwidgets.knockout({name:"jqxButton",disabled:!1,reset:function(){this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxButton({disabled:s})}}),new u.jqwidgets.knockout({name:"jqxCheckBox",checked:!1,disabled:!1,reset:function(){this.checked=!1,this.disabled=!1},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"checked",value:t.args.checked}},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxCheckBox({disabled:s}),"checked"==t&&i!=s&&e.host.jqxCheckBox({checked:s})}}),new u.jqwidgets.knockout({name:"jqxRadioButton",checked:!1,disabled:!1,reset:function(){this.checked=!1,this.disabled=!1},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"checked",value:t.args.checked}},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxRadioButton({disabled:s}),"checked"==t&&i!=s&&e.host.jqxRadioButton({checked:s})}}),new u.jqwidgets.knockout({name:"jqxDateTimeInput",value:null,disabled:!1,reset:function(){this.value=null,this.disabled=!1},events:["valueChanged"],getProperty:function(e,t,i){if("valueChanged"==i)return{name:"value",value:t.args.date}},setProperty:function(e,t,i,s){"value"==t&&e.setDate(s),"disabled"==t&&e.host.jqxDateTimeInput({disabled:s})}}),new u.jqwidgets.knockout({name:"jqxCalendar",value:null,disabled:!1,reset:function(){this.value=null,this.disabled=!1},events:["valueChanged"],getProperty:function(e,t,i){if("valueChanged"==i)return{name:"value",value:t.args.date}},setProperty:function(e,t,i,s){"value"==t&&e.setDate(s),"disabled"==t&&e.host.jqxCalendar({disabled:s})}}),new u.jqwidgets.knockout({name:"jqxNumberInput",value:null,events:["valueChanged"],disabled:!1,reset:function(){this.value=null,this.disabled=!1},getProperty:function(e,t,i){if("valueChanged"==i)return{name:"value",value:e.val()}},setProperty:function(e,t,i,s){"value"==t&&e.host.jqxNumberInput("val",s),"disabled"==t&&e.host.jqxNumberInput({disabled:s})}}),new u.jqwidgets.knockout({name:"jqxMaskedInput",value:null,events:["valueChanged"],disabled:!1,reset:function(){this.value=null,this.disabled=!1},getProperty:function(e,t,i){if("valueChanged"==i)return{name:"value",value:e.val()}},setProperty:function(e,t,i,s){"value"==t&&e.host.jqxMaskedInput("val",s),"disabled"==t&&e.host.jqxMaskedInput({disabled:s})}}),new u.jqwidgets.knockout({name:"jqxListBox",source:null,disabled:!1,selectedIndex:-1,reset:function(){this.disabled=!1,this.selectedIndex=-1,this.source=null},events:["change"],getProperty:function(e,t,i){if("change"==i)return this.selectedIndex=e.selectedIndex,{name:"selectedIndex",value:e.selectedIndex}},setProperty:function(e,t,i,s){"source"==t&&(e.source=s,e.refresh()),"disabled"==t&&(e.disabled=s,e._renderItems()),"selectedIndex"==t&&(t=e.disabled,e.disabled=!1,e.selectIndex(s),(e.disabled=t)&&e._renderItems())}}),new u.jqwidgets.knockout({name:"jqxDropDownList",source:null,disabled:!1,selectedIndex:-1,reset:function(){this.disabled=!1,this.selectedIndex=-1,this.source=null},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"selectedIndex",value:e.selectedIndex}},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxDropDownList({source:s}),"disabled"==t&&e.host.jqxDropDownList({disabled:s}),"selectedIndex"==t&&e.host.jqxDropDownList({selectedIndex:s})}}),new u.jqwidgets.knockout({name:"jqxComboBox",source:null,disabled:!1,selectedIndex:-1,reset:function(){this.disabled=!1,this.selectedIndex=-1,this.source=null},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"selectedIndex",value:e.selectedIndex}},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxComboBox({source:s}),"disabled"==t&&e.host.jqxComboBox({disabled:s}),"selectedIndex"==t&&e.host.jqxComboBox({selectedIndex:s})}}),new u.jqwidgets.knockout({name:"jqxInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"value",value:e.host.val()}},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxInput({source:s}),"disabled"==t&&e.host.jqxInput({disabled:s}),"value"==t&&e.host.jqxInput({value:s})}}),new u.jqwidgets.knockout({name:"jqxComplexInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"value",value:e.host.val()}},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxComplexInput({source:s}),"disabled"==t&&e.host.jqxComplexInput({disabled:s}),"value"==t&&e.host.jqxComplexInput({value:s})}}),new u.jqwidgets.knockout({name:"jqxFormattedInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"value",value:e.host.val()}},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxFormattedInput({source:s}),"disabled"==t&&e.host.jqxFormattedInput({disabled:s}),"value"==t&&e.host.jqxFormattedInput({value:s})}}),new u.jqwidgets.knockout({name:"jqxPasswordInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(e,t,i){if("change"==i)return{name:"value",value:e.host.val()}},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxPasswordInput({source:s}),"disabled"==t&&e.host.jqxPasswordInput({disabled:s}),"value"==t&&e.host.jqxPasswordInput({value:s})}}),new u.jqwidgets.knockout({name:"jqxTree",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxTree({source:s}),"disabled"==t&&e.host.jqxTree({disabled:s})}}),new u.jqwidgets.knockout({name:"jqxTabs",disabled:!1,reset:function(){this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"disabled"==t&&e.host.jqxTabs({disabled:s})}}),new u.jqwidgets.knockout({name:"jqxWindow",disabled:!1,content:"",title:"",reset:function(){this.disabled=!1,this.title="",this.content=""},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"disabled"==t?e.host.jqxWindow({disabled:s}):"content"==t?e.host.jqxWindow("setContent",s):"title"==t&&e.host.jqxWindow({title:s})}}),new u.jqwidgets.knockout({name:"jqxNavigationBar",disabled:!1,reset:function(){this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"disabled"==t&&s!=this.disabled&&(this.disabled=s,e.host.jqxNavigationBar({disabled:s}))}}),new u.jqwidgets.knockout({name:"jqxMenu",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"source"==t&&e.host.jqxMenu({source:s}),"disabled"==t&&e.host.jqxMenu({disabled:s})}}),new u.jqwidgets.knockout({name:"jqxChart",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"source"==t&&(this.source=s,e.host.jqxChart({source:s})),"disabled"==t&&(this.disabled=s,e.host.jqxChart({disabled:s}))}}),new u.jqwidgets.knockout({name:"jqxDataTable",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"source"==t&&(this.source=s,e.host.jqxDataTable({source:s})),"disabled"==t&&(this.disabled=s,e.host.jqxDataTable({disabled:s}))}}),new u.jqwidgets.knockout({name:"jqxTreeGrid",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"source"==t&&(this.source=s,e.host.jqxTreeGrid({source:s})),"disabled"==t&&(this.disabled=s,e.host.jqxTreeGrid({disabled:s}))}}),new u.jqwidgets.knockout({name:"jqxKnob",value:0,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"value"==t&&(this.value=s,e.host.jqxKnob({value:s})),"disabled"==t&&(this.disabled=s,e.host.jqxKnob({disabled:s}))}}),new u.jqwidgets.knockout({name:"jqxScheduler",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"source"==t&&(this.source=s,e.host.jqxScheduler({source:s})),"disabled"==t&&(this.disabled=s,e.host.jqxScheduler({disabled:s}))}}),new u.jqwidgets.knockout({name:"jqxKanban",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"source"==t&&(this.source=s,e.host.jqxKanban({source:s})),"disabled"==t&&(this.disabled=s,e.host.jqxKanban({disabled:s}))}}),new u.jqwidgets.knockout({name:"jqxGrid",source:null,disabled:!1,selectedRowIndex:-1,reset:function(){this.disabled=!1,this.source=null,this.selectedRowIndex=-1},serialize:function(e,t){return!("source"!=t||!e.source||!e.source._source)&&e.source.records},events:["cellvaluechanged","cellselect","rowselect"],getProperty:function(e,t,i,s){if("cellvaluechanged"==i){var r,n,o,a,i=e.host.jqxGrid("getrowid",t.args.rowindex),l=e.host.jqxGrid("getrowdata",i),t=s.source;if(null!=t)return r={},a=o=!(n={}),t()[i]&&c.each(t()[i],function(e,t){r[e]=t,n[e]="",u.isObservable(t)&&!u.isComputed(t)&&(o=!0,t(l[e])),u.isObservable(t)&&u.isComputed(t)&&(a=!0)}),o?(r=l,t.replace&&t.replace(t()[i],r)):(r=l,t.replace&&(t.replace(t()[i],n),t.replace(t()[i],r))),a&&e.host.jqxGrid("updaterow",i,u.toJS(t)[i]),{name:"source",value:t}}},setProperty:function(e,t,i,s){if("selectedRowIndex"==t&&e.host.jqxGrid("selectrow",s),"source"==t)if(null==this.source||null==s)this.source!=s&&(n={localdata:this.source=s,datatype:"local"},r=new c.jqx.dataAdapter(n),e.host.jqxGrid({source:r}));else{var r,n={localdata:s,datatype:"local"};if((r=new c.jqx.dataAdapter(n)).dataBind(),!i.records||!r.records)return;var o=Math.max(i.records.length,r.records.length),n=Math.abs(i.records.length-r.records.length);if(0==n&&10<o)return void e.host.jqxGrid({source:r});1<n&&e.host.jqxGrid("beginupdate");for(var a=new Array,l=0;l<o;l++){var d,h=r.records[l];null==h?(d=e.host.jqxGrid("getrowid",l),a.push(d)):null!=i.records[l]?u.toJSON(h)==u.toJSON(i.records[l])||null!=i.records[l].uid&&(h.uid=i.records[l].uid,u.toJSON(h)==u.toJSON(i.records[l]))||(d=e.host.jqxGrid("getrowid",l),e.host.jqxGrid("updaterow",d,h)):e.host.jqxGrid("addrow",null,h)}0<a.length&&e.host.jqxGrid("deleterow",a),1<n&&e.host.jqxGrid("endupdate")}"disabled"==t&&e.host.jqxGrid({disabled:s})}}),new u.jqwidgets.knockout({name:"jqxBulletChart",pointer:{value:0},target:{value:0},disabled:!1,reset:function(){this.pointer.value=0,this.target.value=0,this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,s){"pointer"==t&&e.host.jqxBulletChart({pointer:s}),"target"==t&&e.host.jqxBulletChart({target:s}),"disabled"==t&&e.host.jqxBulletChart({disabled:s})}})}(jqxBaseFramework,ko)}catch(error){var er=error}