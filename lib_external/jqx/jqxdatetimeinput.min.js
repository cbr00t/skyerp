!function(D){D.jqx.jqxWidget("jqxDateTimeInput","",{}),D.extend(D.jqx._jqxDateTimeInput.prototype,{defineInstance:function(){var t={value:D.jqx._jqxDateTimeInput.getDateTime(new Date),minDate:D.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:D.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),rowHeaderWidth:25,enableViews:!0,views:["month","year","decade"],selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],change:null,changing:null,titleFormat:["MMMM yyyy","yyyy","yyyy","yyyy"],template:"default",columnHeaderHeight:20,titleHeight:30,firstDayOfWeek:0,showWeekNumbers:!1,showTimeButton:!1,cookies:!1,cookieoptions:null,showFooter:!1,formatString:"dd/MM/yyyy",width:200,height:25,dayNameFormat:"firstTwoLetters",textAlign:"left",readonly:!1,culture:"default",activeEditor:null,showCalendarButton:!0,showDeleteButton:!1,openDelay:250,closeDelay:300,closeCalendarAfterSelection:!0,isEditing:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",enableAbsoluteSelection:!1,disabled:!1,buttonSize:21,animationType:"slide",dropDownWidth:"200px",restrictedDates:new Array,dropDownHeight:"205px",dropDownContainer:"default",selectionMode:"default",renderMode:"full",rtl:!1,timeRange:null,_editor:!1,todayString:"Today",clearString:"Clear",popupZIndex:3001,allowNullDate:!0,changeType:null,placeHolder:"",enableHover:!0,hint:!0,allowKeyboardDelete:!0,yearCutoff:null,editMode:"default",localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","open","close","change"],aria:{"aria-valuenow":{name:"getDate",type:"date"},"aria-valuetext":{name:"getText",type:"string"},"aria-valuemin":{name:"min",type:"date"},"aria-valuemax":{name:"max",type:"date"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===D.jqx._jqxDateTimeInput.prototype||(D.extend(!0,this,t),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(1),this.minDate._setMinutes(1),this.minDate._setSeconds(1),this.minDate._setMilliseconds(1),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(1),this.maxDate._setMinutes(1),this.maxDate._setSeconds(1),this.maxDate._setMilliseconds(1),this.defaultMinDate=this.minDate,this.defaultMaxDate=this.maxDate),t},createInstance:function(t){var e,i,a,s,n,r="",o=this;if(!o.host.jqxCalendar)throw new Error("jqxDateTimeInput: Missing reference to jqxcalendar.js.");if(o.isMaterialized()&&(a=(i=window.getComputedStyle(this.element)).getPropertyValue("--jqx-dropdown-animation"),s=i.getPropertyValue("--jqx-datetimeinput-dropdown-width")||280,i=i.getPropertyValue("--jqx-datetimeinput-dropdown-height")||280,a&&"default"==this.animationType&&(this.animationType=a.trim()),s&&(this.dropDownWidth=s),i&&(this.dropDownHeight=i)),"dd/MM/yyyy"!=o.formatString){var l=o.formatString.split(" ");if(l&&1<l.length){for(var d="",h=0;h<l.length;h++)"1"==l[h].length?d+=o._getFormatValue(l[h]):d+=l[h],h<l.length-1&&(d+=" ");o.formatString=d}}"input"==o.element.nodeName.toLowerCase()&&((a=o.element.getAttribute("type"))&&"dd/MM/yyyy"==o.formatString&&("date"==a&&(o.formatString="d"),"datetime"==a&&(s=o._getFormatValue("d")+" "+o._getFormatValue("t"),o.formatString=s,o.showTimeButton=!0),"time"==a&&(o.formatString="t",o.showTimeButton=!0,o.showCalendarButton=!1)),o.field=o.element,o.field.getAttribute("min")&&(i=new Date(o.field.getAttribute("min")),o._isValidDate(i)&&(o.min=i)),o.field.getAttribute("max")&&(s=new Date(o.field.getAttribute("max")),o._isValidDate(s)&&(o.max=s)),o.field.className&&(o._className=o.field.className),a={title:o.field.title},o.field.value&&(a.value=o.field.value),o.field.id.length?a.id=o.field.id.replace(/[^\w]/g,"_")+"_jqxDateTimeInput":a.id=D.jqx.utilities.createId()+"_jqxDateTimeInput",(i=D("<div></div>",a))[0].style.cssText=o.field.style.cssText,o.width||(o.width=D(o.field).width()),o.height||(o.height=D(o.field).outerHeight()),D(o.field).hide().after(i),s=o.host.data(),o.host=i,o.host.data(s),o.element=i[0],o.element.id=o.field.id,o.field.id=a.id,o._className&&(o.host.addClass(o._className),D(o.field).removeClass(o._className)),o.field.tabIndex&&(s=o.field.tabIndex,o.field.tabIndex=-1,o.element.tabIndex=s)),o.host.attr("value")&&(r=!0,e=o.host.attr("value"),"range"==o.selectionMode||null==(n=new Date(e))||isNaN(n)||(o.value=D.jqx._jqxDateTimeInput.getDateTime(n))),null!=o.value&&o.value instanceof Date?o.value=D.jqx._jqxDateTimeInput.getDateTime(o.value):null!=o.value&&"string"==typeof o.value&&(null==(n=new Date(o.value))||isNaN(n)?0<=o.value.indexOf(",")&&(o.value=o.value.replace(/\,/g,"/"),null==(n=new Date(o.value))||isNaN(n)||(o.value=D.jqx._jqxDateTimeInput.getDateTime(n))):o.value=D.jqx._jqxDateTimeInput.getDateTime(n)),this._initTimeRange(),this._validateTimeRange(),o.host.attr("data-role","input"),o.render(),D.jqx.aria(this),null!=o.getDate()?D.jqx.aria(this,"aria-label","Current focused date is "+o.getDate().toLocaleString()):D.jqx.aria(this,"aria-label","Current focused date is Null"),o.minDate!==o.defaultMinDate&&(o.min=o.minDate),o.maxDate!==o.defaultMaxDate&&(o.max=o.maxDate),o.setMaxDate(o.max,!1),o.setMinDate(o.min,!1),"range"!==o.selectionMode&&o.value&&o.value.dateTime&&o.min&&o.max&&(o.value.dateTime<o.min||o.value.dateTime>o.max)&&(o.value.dateTime<o.min&&(o.value.dateTime=o.min),o.value.dateTime>o.max&&(o.value.dateTime=o.max),o._updateText()),"range"==o.selectionMode&&(r?(i=(e=o.host.attr("value")).substring(0,e.indexOf("-")),a=e.substring(e.indexOf("-")+1),s=new Date(i),n=new Date(a),null==s||isNaN(s)||null==n||isNaN(n)||o.setRange(s,n)):null!=o.getDate()&&o.setRange(o.getDate(),o.getDate())),o._getMask(),"full"===o.editMode&&null===o.value&&void 0!==o._mask[0]&&(o.dateTimeInput[0].value=o._mask[0])},_validateTimeRange:function(){var t,e;this.timeRange&&(t=this.value.dateTime.getHours(),e=this.value.dateTime.getMinutes(),t<=this.timeRange.minHour&&(this.value._setHours(this.timeRange.minHour),e<this.timeRange.minMinute&&this.value._setMinutes(this.timeRange.minMinute),this._updateEditorsValue()),t>=this.timeRange.maxHour&&(this.value._setHours(this.timeRange.maxHour),e>this.timeRange.maxMinute&&this.value._setMinutes(this.timeRange.maxMinute),this._updateEditorsValue()))},_initTimeRange:function(){var t,e,i,a;this.timeRange&&(this.timeRange.min&&(t=null,(0<=this.timeRange.min.indexOf("AM")||0<=this.timeRange.min.indexOf("PM"))&&(t=0<=this.timeRange.min.indexOf("AM")?"AM":"PM"),a=this.timeRange.min.split(":"),i=parseInt(a[0]),a=parseInt(a[1]),t&&(this.timeRange.minDefaultHour=i,this.timeRange.minMeridian=t),t&&"PM"==t&&(i+=12),this.timeRange.minHour=i,this.timeRange.minMinute=a),this.timeRange.max&&(t=null,(0<=this.timeRange.max.indexOf("AM")||0<=this.timeRange.max.indexOf("PM"))&&(t=0<=this.timeRange.max.indexOf("AM")?"AM":"PM"),e=this.timeRange.max.split(":"),i=parseInt(e[0]),a=parseInt(e[1]),t&&(this.timeRange.maxDefaultHour=i,this.timeRange.maxMeridian=t),t&&"PM"==t&&(i+=12),this.timeRange.maxHour=i,this.timeRange.maxMinute=a))},_format:function(e,i,t){var a=!1;try{null!=window.Globalize&&(a=!0),document.Globalize&&(window.Globalize=document.Globalize,a=!0)}catch(t){document.Globalize&&(window.Globalize=document.Globalize,a=!0)}if(document.Globalize&&(window.Globalize=document.Globalize,a=!0),D.global)return D.global.format(e,i,this.culture);if(!a){if(D.jqx.dataFormat)return!(e instanceof Date)&&"number"==typeof e?D.jqx.dataFormat.formatnumber(e,i,this.localization.calendar):D.jqx.dataFormat.formatdate(e,i,this.localization.calendar);throw new Error("jqxDateTimeInput: Missing reference to globalize.js.")}try{return i=window.Globalize.format(e,i,this.culture)}catch(t){return window.Globalize.format(e,i)}},render:function(){var t=this,e=(t._removeHandlers(),t.element.innerHTML="",t.host.attr({role:"textbox"}),t.id=D.jqx.utilities.createId(),D.jqx.utilities.createId(),D.jqx.utilities.createId(),t._setSize(),null==t.width&&(t.width=t.host.width(),t.host.width(t.width)),t.touch=D.jqx.mobile.isTouchDevice(),D("<div class='jqx-max-size jqx-position-relative'></div>").appendTo(t.host)),i=(t.dateTimeInput=D("<input style='border: none; padding-left: 3px; padding-right: 3px;' class='jqx-position-absolute' id='input"+t.element.id+"' autocomplete='off' type='textarea'/>").appendTo(e),t.dateTimeInput.addClass(t.toThemeProperty("jqx-reset")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-clear")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-input-content")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-widget-content")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-rc-all")),t.touch&&(t.dateTimeInput.attr("readonly",!0),t.readonly=!0),t.isMaterialized()||t.dateTimeInput.attr("placeHolder",t.placeHolder),"full"!=t.renderMode&&t.dateTimeInput.remove(),t.host.attr("name")),s=(i&&t.dateTimeInput.attr("name",i),t.host.attr("tabindex")&&(t.dateTimeInput.attr("tabindex",t.host.attr("tabindex")),t.host.removeAttr("tabindex")),t.rtl&&(t.dateTimeInput.css("direction","rtl"),t.dateTimeInput.addClass("jqx-rtl")),t.calendarButton=D("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(e),t.rtl?t.calendarButton.addClass(t.toThemeProperty("jqx-action-button-rtl")):t.calendarButton.addClass(t.toThemeProperty("jqx-action-button")),t.calendarButtonIcon=D(t.calendarButton.children()[0]),t.calendarButtonIcon.addClass(t.toThemeProperty("jqx-icon")),t.calendarButtonIcon.addClass(t.toThemeProperty("jqx-icon-calendar")),t.calendarButton.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.rtl?t.calendarButton.addClass(t.toThemeProperty("jqx-rc-l")):t.showTimeButton||t.calendarButton.addClass(t.toThemeProperty("jqx-rc-r")),t.timeButton=D("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(e),t.rtl?t.timeButton.addClass(t.toThemeProperty("jqx-action-button-rtl")):t.timeButton.addClass(t.toThemeProperty("jqx-action-button")),t.timeButtonIcon=D(t.timeButton.children()[0]),t.timeButtonIcon.addClass(t.toThemeProperty("jqx-icon")),t.timeButtonIcon.addClass(t.toThemeProperty("jqx-icon-time")),t.timeButton.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.rtl?t.timeButton.addClass(t.toThemeProperty("jqx-rc-l")):t.timeButton.addClass(t.toThemeProperty("jqx-rc-r")),t.deleteButton=D("<div style='margin-left: 2px; right: 0px; height: 100%;' class='jqx-datetimeinput-delete-button jqx-position-absolute'><div></div></div>").appendTo(e),t.rtl?t.deleteButton.addClass(t.toThemeProperty("jqx-action-button-rtl")):t.deleteButton.addClass(t.toThemeProperty("jqx-action-button")),t.deleteButton[0].onclick=function(){t.setDate(null)},t.deleteButtonIcon=D(t.deleteButton.children()[0]),t.deleteButtonIcon.addClass(t.toThemeProperty("jqx-icon")),t.deleteButtonIcon.addClass(t.toThemeProperty("jqx-icon-close")),t.deleteButton.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.rtl?t.deleteButton.addClass(t.toThemeProperty("jqx-rc-l")):t.deleteButton.addClass(t.toThemeProperty("jqx-rc-r")),this);if(t._arrange(),null!=D.jqx._jqxCalendar&&null!=D.jqx._jqxCalendar)try{var a="calendar"+t.id,n=D(D.find("#"+a)),r=(0<n.length&&n.remove(),D.jqx.aria(this,"aria-owns",a),D.jqx.aria(this,"aria-haspopup",!0),D.jqx.aria(this,"aria-readonly","range"==t.selectionMode),D("<div class='jqx-calendar-container' style='overflow: hidden; background: transparent; position: absolute;' id='calendar"+t.id+"'><div id='innerCalendar"+t.id+"'></div><div id='innerTime"+t.id+"'></div></div>")),s=("opera"==D.jqx.utilities.getBrowser().browser&&r.hide(),r.addClass(t.toThemeProperty("jqx-calendar-container")),"element"==t.dropDownContainer?r.appendTo(t.host):r.appendTo(document.body),t.container=r,t.calendarContainer=D(D.find("#innerCalendar"+t.id)).jqxCalendar({titleFormat:this.titleFormat,restrictedDates:this.restrictedDates,changing:t.changing,change:t.change,enableViews:t.enableViews,selectableDays:t.selectableDays,views:t.views,rowHeaderWidth:t.rowHeaderWidth,titleHeight:t.titleHeight,columnHeaderHeight:t.columnHeaderHeight,_checkForHiddenParent:!1,enableAutoNavigation:!1,canRender:!1,localization:t.localization,todayString:t.todayString,clearString:t.clearString,dayNameFormat:t.dayNameFormat,rtl:t.rtl,culture:t.culture,showFooter:t.showFooter,selectionMode:t.selectionMode,firstDayOfWeek:t.firstDayOfWeek,showWeekNumbers:t.showWeekNumbers,width:t.dropDownWidth,height:t.dropDownHeight,theme:t.theme}),"element"==t.dropDownContainer?t.calendarContainer.css({position:"absolute",top:0,left:0}):t.calendarContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.calendarContainer.addClass(t.toThemeProperty("jqx-popup")),D.jqx.browser.msie&&t.calendarContainer.addClass(t.toThemeProperty("jqx-noshadow")),t.timeContainer=D(D.find("#innerTime"+t.id)),t.timeContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.timeContainer.addClass(t.toThemeProperty("jqx-popup")),D.jqx.browser.msie&&t.timeContainer.addClass(t.toThemeProperty("jqx-noshadow")),t._calendar=D.data(t.calendarContainer[0],"jqxCalendar").instance,this);t._calendar.today=function(){s.today()},t._calendar.clear=function(){s.clear()},"opera"==D.jqx.utilities.getBrowser().browser&&r.show(),r.height(parseInt(t.calendarContainer.height())+25),r.width(parseInt(t.calendarContainer.width())+25),"range"==t.selectionMode&&(t.readonly=!0),"none"==t.animationType?t.container.css("display","none"):t.container.hide()}catch(t){}D.global&&D.global.preferCulture(t.culture),t.selectedText="",t._addHandlers(),t.self=this,t.oldValue=t.getDate(),t.items=new Array,t.editors=new Array,t._loadItems(),t.editorText="",1==t.readonly&&t.dateTimeInput.css("readonly",t.readonly),t.dateTimeInput.css("text-align",t.textAlign),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-datetimeinput")),t.host.addClass(t.toThemeProperty("jqx-input")),t.host.addClass(t.toThemeProperty("jqx-overflow-hidden")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-reset")),t.host.addClass(t.toThemeProperty("jqx-clear")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.propertyChangeMap.disabled=function(t,e,i,a){a?(t.host.addClass(s.toThemeProperty("jqx-input-disabled")),t.host.addClass(s.toThemeProperty("jqx-fill-state-disabled"))):(t.host.removeClass(s.toThemeProperty("jqx-fill-state-disabled")),t.host.removeClass(s.toThemeProperty("jqx-input-disabled"))),D.jqx.aria(t,"aria-disabled",a)},t.disabled&&(t.host.addClass(t.toThemeProperty("jqx-input-disabled")),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.dateTimeInput.attr("disabled",!0)),0<t.host.parents("form").length&&t.addHandler(t.host.parents("form"),"reset",function(){setTimeout(function(){s.setDate(new Date)},10)}),t.cookies&&null!=(i=D.jqx.cookie.cookie("jqxDateTimeInput"+t.element.id))&&t.setDate(new Date(i)),D.jqx.browser.msie&&D.jqx.browser.version<8&&0<t.host.parents(".jqx-window").length&&(e=t.host.parents(".jqx-window").css("z-index"),t.container.css("z-index",e+10),t.calendarContainer.css("z-index",e+10)),"default"!=t.culture&&t._applyCulture(),t.value&&(t.calendarContainer.jqxCalendar("_isDisabled",t.value.dateTime)?t.dateTimeInput.addClass(t.toThemeProperty("jqx-input-invalid")):t.dateTimeInput.removeClass(t.toThemeProperty("jqx-input-invalid"))),this._addBarAndLabel(this.dateTimeInput),this._updateHint(!0),t.template&&(t.bar.addClass(t.toThemeProperty("jqx-"+t.template)),t.label.addClass(t.toThemeProperty("jqx-"+t.template)),t.timeButton.addClass(t.toThemeProperty("jqx-"+t.template)),t.calendarButton.addClass(t.toThemeProperty("jqx-"+t.template))),this._setSize(),this._arrange()},val:function(t){var e=this;if(0!=arguments.length){if(null==t&&e.setDate(null),"range"==e.selectionMode)return e.setRange(t,arguments[1]),e.getText();if(t instanceof Date&&e.setDate(t),"string"==typeof t){if("date"==t)return e.getDate();e.setDate(t)}e._calendar.getDate()!=e.getDate()&&e._calendar.setDate(e.getDate())}return e.getText()},_setSize:function(){var t=window.getComputedStyle(this.element),e=2*parseInt(t.borderLeftWidth),t=t.boxSizing,t=(0===this.element.offsetWidth&&(e=2),"border-box"!==t&&!isNaN(e)||(e=0),(null==this.width||-1==this.width.toString().indexOf("px"))&&(null==this.width||isNaN(this.width))||(this.element.style.width=parseInt(this.width)-e+"px"),(null==this.height||-1==this.height.toString().indexOf("px"))&&(null==this.height||isNaN(this.height))||(this.element.style.height=parseInt(this.height)-e+"px"),!1),i=(null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0,this.host.width(this.width),0<e&&this.host.css("box-sizing","border-box")),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(t=!0,this.host.height(this.height)),this);t&&this.calendarContainer&&(this._arrange(),e=this.host.width(),"auto"!=this.dropDownWidth&&(e=this.dropDownWidth),this.calendarContainer.jqxCalendar({width:e}),this.container.width(parseInt(e)+25)),D.jqx.utilities.resize(this.host,function(){i.calendarContainer&&i._arrange()})},_arrange:function(){null==this.height&&(this.height=27,this.host.height(27));var t=parseInt(this.host.width()),e=parseInt(this.host.height()),i=window.getComputedStyle(this.element),a=2*parseInt(i.borderLeftWidth),i=("border-box"!==i.boxSizing&&!isNaN(a)||(a=0),this.buttonSize),a=2,s=(this.showCalendarButton||this.showTimeButton||(i=0,this.calendarButton.hide(),a=0),this.showCalendarButton?this.calendarButton.show():this.calendarButton.hide(),this.showTimeButton?this.timeButton.show():this.timeButton.hide(),this.showDeleteButton?this.deleteButton.show():this.deleteButton.hide(),t-i-+a),t=(this.showTimeButton&&this.showCalendarButton?s=t-2*i-+a:(this.showTimeButton||this.showCalendarButton)&&(s=t-i-+a),this.showDeleteButton&&(s-=i-a),0<s&&(this.dateTimeInput[0].style.width=s+"px"),this.rtl&&(this.dateTimeInput[0].style.width=-1+s+"px"),this.dateTimeInput[0].style.left="0px",this.dateTimeInput[0].style.top="0px",this.calendarButton[0].style.width=i+1+"px",this.calendarButton[0].style.left=1+s+"px",this.timeButton[0].style.width=i+1+"px",this.showCalendarButton?this.timeButton[0].style.left=1+this.calendarButton.width()+s+"px":this.timeButton[0].style.left=1+s+"px","full"!=this.renderMode&&(this.calendarButton[0].style.width="100%",this.calendarButton[0].style.left="0px",this.calendarButton.css("border","none"),this.timeButton[0].style.width="100%",this.timeButton[0].style.left="0px",this.timeButton.css("border","none")),this.dateTimeInput.height()),a=(0==t&&"full"!=this.renderMode?(t=parseInt(this.dateTimeInput.css("font-size"))+3,this.calendarButton.addClass(this.toThemeProperty("jqx-rc-all")),this.timeButton.addClass(this.toThemeProperty("jqx-rc-all"))):t=17,-1==this.dateTimeInput[0].className.indexOf("jqx-rc-all")&&this.dateTimeInput.addClass(this.toThemeProperty("jqx-rc-all")),parseInt(e)/2-parseInt(t)/2);0<a&&(""==(s=this.dateTimeInput.css("font-size"))&&(s=13),a=e-2-parseInt(s)-2,t=(a=(a=isNaN(a)?0:a)<0?0:a)/2,D.jqx.browser.msie&&D.jqx.browser.version<8&&(t=a/4),this.dateTimeInput[0].style.paddingTop=Math.round(t)+"px",this.dateTimeInput[0].style.paddingBottom=Math.round(t)+"px"),this.rtl&&(this.calendarButton[0].style.width=i+"px",this.timeButton[0].style.width=i+"px",this.calendarButton.css("left","0px"),this.showCalendarButton?this.timeButton.css("left",i+"px"):this.timeButton.css("left","0px"),this.dateTimeInput.css("left",this.calendarButton.width()),this.showTimeButton&&this.showCalendarButton&&this.dateTimeInput.css("left",this.timeButton.width()+this.calendarButton.width()),D.jqx.browser.msie&&D.jqx.browser.version<=8&&(this.dateTimeInput.css("left",1+this.calendarButton.width()),this.showTimeButton&&this.showCalendarButton&&this.dateTimeInput.css("left",1+this.timeButton.width()+this.calendarButton.width())))},_removeHandlers:function(){this.removeHandler(D(document),"mousedown."+this.id),this.dateTimeInput&&(this.removeHandler(this.dateTimeInput,"keydown."+this.id),this.removeHandler(this.dateTimeInput,"blur"),this.removeHandler(this.dateTimeInput,"focus"),this.removeHandler(this.host,"focus"),this.removeHandler(this.dateTimeInput,"mousedown"),this.removeHandler(this.dateTimeInput,"mouseup"),this.removeHandler(this.dateTimeInput,"keydown"),this.removeHandler(this.dateTimeInput,"keyup"),this.removeHandler(this.dateTimeInput,"keypress")),null!=this.calendarButton&&this.removeHandler(this.calendarButton,"mousedown"),null!=this.timeButton&&this.removeHandler(this.timeButton,"mousedown"),null!=this.calendarContainer&&(this.removeHandler(this.calendarContainer,"cellSelected"),this.removeHandler(this.calendarContainer,"cellMouseDown")),this.removeHandler(D(window),"resize."+this.id)},isOpened:function(){var t=D.data(document.body,"openedJQXCalendar"+this.id);return null!=t&&t==this.calendarContainer},wheel:function(t,e){if(e.isEditing){e.changeType="mouse";var i=0;if((t=t||window.event).originalEvent&&t.originalEvent.wheelDelta&&(t.wheelDelta=t.originalEvent.wheelDelta),t.wheelDelta?i=t.wheelDelta/120:t.detail&&(i=-t.detail/3),i)return!(e=e._handleDelta(i))&&(t.preventDefault&&t.preventDefault(),t.returnValue=!1,e);t.preventDefault&&t.preventDefault(),t.returnValue=!1}},_handleDelta:function(t){return t<0?this.spinDown():this.spinUp(),!1},focus:function(){try{var t=this;t._firstFocusDate=t.getDate(),this._setSelectionStart(0),this._selectGroup(-1),this.dateTimeInput.focus(),setTimeout(function(){t._setSelectionStart(0),t._selectGroup(-1),t.dateTimeInput.focus()},25)}catch(t){}},_addHandlers:function(){this.element.id,this.element;var i=this,t=(this.host.parents()&&this.addHandler(this.host.parents(),"scroll.datetimeinput"+this.element.id,function(t){i.isOpened()&&i.close()}),this.addHandler(this.host,"mouseenter",function(){!i.disabled&&i.enableHover&&(i.calendarButtonIcon.addClass(i.toThemeProperty("jqx-icon-calendar-hover")),i.calendarButton.addClass(i.toThemeProperty("jqx-fill-state-hover")),i.showTimeButton&&(i.timeButtonIcon.addClass(i.toThemeProperty("jqx-icon-time-hover")),i.timeButton.addClass(i.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(this.host,"mouseleave",function(){!i.disabled&&i.enableHover&&(i.calendarButtonIcon.removeClass(i.toThemeProperty("jqx-icon-calendar-hover")),i.calendarButton.removeClass(i.toThemeProperty("jqx-fill-state-hover")),i.showTimeButton&&(i.timeButtonIcon.removeClass(i.toThemeProperty("jqx-icon-time-hover")),i.timeButton.removeClass(i.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(this.host,"mousewheel",function(t){i.wheel(t,i)}),this.addHandler(D(document),"mousedown."+this.id,this._closeOpenedCalendar,{me:this}),D.jqx.mobile.isTouchDevice()&&this.addHandler(D(document),D.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,this._closeOpenedCalendar,{me:this}),this.addHandler(this.dateTimeInput,"keydown."+this.id,function(t){var e=D.data(document.body,"openedJQXCalendar"+i.id);if(null!=e&&e==i.calendarContainer)return i.handleCalendarKey(t,i)}),null!=this.calendarContainer&&(this.addHandler(this.calendarContainer,"keydown",function(t){if(13==t.keyCode)return!(i.isOpened()&&!i._calendar._viewAnimating&&"month"==i._calendar.view)||(i.hideCalendar("selected","keyboard"),i.dateTimeInput.focus(),!1);if(9==t.keyCode){if(i.isOpened())return i.hideCalendar("selected","keyboard"),!0}else if(27==t.keyCode)return!i.isOpened()||(i.hideCalendar(null,"keyboard"),i.dateTimeInput.focus(),!1);if(i.timePopup=!1,84==t.keyCode&&(i.timePopup=!0),115==t.keyCode){if(i.isOpened())return i.hideCalendar("keyboard","keyboard"),i.dateTimeInput.focus(),!1;if(!i.isOpened())return i.showCalendar("keyboard","keyboard"),i.dateTimeInput.focus(),!1}if(t.altKey)if(38==t.keyCode){if(i.isOpened())return i.hideCalendar("keyboard","keyboard"),i.dateTimeInput.focus(),!1}else if(40==t.keyCode&&!i.isOpened())return i.showCalendar("keyboard","keyboard"),i.dateTimeInput.focus(),!1}),this.addHandler(this.calendarContainer,"cellSelected",function(t){i.closeCalendarAfterSelection&&(D.data(document.body,"openedJQXCalendarValue"),"mouse"!=t.args.selectionType||"range"==i.selectionMode&&0!=i._calendar._clicks||i.hideCalendar("selected","mouse"))}),this.addHandler(this.calendarContainer,"cellMouseDown",function(t){i.closeCalendarAfterSelection&&i._calendar.value&&D.data(document.body,"openedJQXCalendarValue",new D.jqx._jqxDateTimeInput.getDateTime(i._calendar.value.dateTime))})),this.addHandler(this.dateTimeInput,"blur",function(t){i.bar.removeClass("focused"),i.label.removeClass("focused"),i._endFullEdit(),null!=i.value&&(i.isEditing=!1,i.value.dateTime.getDay(),i._oldDT,i._validateValue(!0),t.stopPropagation&&t.stopPropagation(),i._updateText(),i._raiseEvent(9,t)),i.isOpened()||i.host.removeClass(i.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(t){i.focus()}),this.addHandler(this.dateTimeInput,"focus",function(t){if(i._firstFocusDate=i.getDate(),null!=i.value?("range"!=i.selectionMode?i._oldDT=new Date(i.value.dateTime):i._oldDT=i.getRange(),setTimeout(function(){var t=i._selection();i.isEditing=!0,i._validateValue(),i._updateText(),i._setSelectionStart(0),i._selectGroup(-1,t),i.host.addClass(i.toThemeProperty("jqx-fill-state-focus"))})):(i._setSelectionStart(0),i._selectGroup(-1),i.host.addClass(i.toThemeProperty("jqx-fill-state-focus"))),t.stopPropagation&&t.stopPropagation(),i.bar.addClass("focused"),i.label.addClass("focused"),t.preventDefault)return t.preventDefault(),!1}),"mousedown");this.touch&&(t=D.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.calendarButton,t,function(t){var e="block"==i.container.css("display");if(i.timePopup=!1,i.calendarPopup=!0,!i.disabled&&!i.isanimating){if(e)return i.hideCalendar(),!1;i.showCalendar("mouse"),t.preventDefault()}}),this.addHandler(this.timeButton,t,function(t){var e="block"==i.container.css("display");if(i.timePopup=!0,i.calendarPopup=!1,!i.disabled&&!i.isanimating){if(e)return i.hideCalendar("mouse","mouse"),!1;i.showCalendar("mouse"),t.preventDefault()}}),this.addHandler(this.dateTimeInput,"mousedown",function(t){return i.touch&&(!0===i.showTimeButton&&!1===i.showCalendarButton?i.open("time"):i.open()),i._raiseEvent(2,t)}),this.addHandler(this.dateTimeInput,"mouseup",function(t){return i._raiseEvent(3,t)}),this.addHandler(this.dateTimeInput,"keydown",function(t){return i._raiseEvent(4,t)}),this.addHandler(this.dateTimeInput,"keyup",function(t){var e=this.value;return i._fullEditInProgress&&i._enteredValue&&void 0!==i._mask[e.length]&&(this.value=this.value+i._mask[e.length]),i._raiseEvent(5,t)}),this.addHandler(this.dateTimeInput,"keypress",function(t){return i._raiseEvent(6,t)})},createID:function(){var t=Math.random()+"";return"dateTimeInput"+(t=+(t="99"+(t=t.replace(".",""))))},setMaxDate:function(t,e){null==t||null!=t&&"string"==typeof t&&(t=new Date(t),!this._isValidDate(t))||(this.maxDate=D.jqx._jqxDateTimeInput.getDateTime(t),null!=this._calendar&&this._calendar.setMaxDate(t),0!=e&&(null!=this.getDate()&&this.getDate()>t&&this.setDate(t),D.jqx.aria(this,"aria-valuemax",t),this._refreshValue(),this._updateText()))},getMaxDate:function(){return null!=this.maxDate&&null!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(t,e){null==t||null!=t&&"string"==typeof t&&(t=new Date(t),!this._isValidDate(t))||(this.minDate=D.jqx._jqxDateTimeInput.getDateTime(t),null!=this._calendar&&this._calendar.setMinDate(t),0!=e&&(null!=this.getDate()&&this.getDate()<t&&this.setDate(t),D.jqx.aria(this,"aria-valuemin",t),this._refreshValue(),this._updateText()))},getMinDate:function(){return null!=this.minDate&&null!=this.minDate?this.minDate.dateTime:null},_applyCulture:function(){var t,e=!1;try{null!=window.Globalize&&(e=!0)}catch(t){}try{D.global?(D.global.preferCulture(this.culture),this.localization.calendar=D.global.culture.calendar):e&&(t=Globalize.culture(this.culture),this.localization.calendar=t.calendar),this._loadItems(),null!=this._calendar&&(this._calendar.culture=this.culture,this._calendar.localization=this.localization,this._calendar.render())}catch(t){}},propertyMap:function(t){return"value"==t?"range"!=this.selectionMode?this.getDate():this.getRange():null},propertiesChangedHandler:function(t,e,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(t.refresh(),t.close())},propertyChangedHandler:function(t,e,i,a){if(null!=t.isInitialized&&0!=t.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("dropDownVerticalAlignment"==e&&t.close(),"template"==e&&(t.bar.removeClass(t.toThemeProperty("jqx-"+i)),t.label.removeClass(t.toThemeProperty("jqx-"+i)),t.timeButton.removeClass(t.toThemeProperty("jqx-"+i)),t.calendarButton.removeClass(t.toThemeProperty("jqx-"+i)),t.bar.addClass(t.toThemeProperty("jqx-"+t.template)),t.label.addClass(t.toThemeProperty("jqx-"+t.template)),t.timeButton.addClass(t.toThemeProperty("jqx-"+t.template)),t.calendarButton.addClass(t.toThemeProperty("jqx-"+t.template))),"restrictedDates"==e&&t.calendarContainer.css({restrictedDates:a}),"popupZIndex"==e&&t.calendarContainer.css({zIndex:a}),"showCalendarButton"!=e&&"showDeleteButton"!==e||t._arrange(),"showTimeButton"==e&&(t._arrange(),t.timePopupElement&&(t.timePopupElement.remove(),t.timePopupElement=null)),"selectionMode"==e&&(t._calendar.selectionMode=a,t.refreshValue()),"min"==e&&("string"==typeof a?t.setMinDate(new Date(a)):t.setMinDate(a)),"max"==e&&("string"==typeof a?t.setMaxDate(new Date(a)):t.setMaxDate(a)),"value"==e)if(null!=a&&a instanceof Date){if(isNaN(a.getFullYear())||isNaN(a.getMonth())||isNaN(a.getDate()))return void(this.value=i);a=D.jqx._jqxDateTimeInput.getDateTime(a)}else{var s;null==a||"string"!=typeof a||null==(s=new Date(a))||isNaN(s)||(this.value=D.jqx._jqxDateTimeInput.getDateTime(s))}if("views"==e&&t.calendarContainer.jqxCalendar({views:a}),"enableViews"==e&&t.calendarContainer.jqxCalendar({enableViews:a}),"selectableDays"==e&&t.calendarContainer.jqxCalendar({selectableDays:a}),"showFooter"==e&&t.calendarContainer.jqxCalendar({showFooter:a}),"rtl"==e&&(t.calendarContainer.jqxCalendar({rtl:a}),a?(t.dateTimeInput.css("direction","rtl"),t.dateTimeInput.addClass("jqx-rtl")):(t.dateTimeInput.css("direction","ltr"),t.dateTimeInput.removeClass("jqx-rtl"))),"todayString"!=e&&"clearString"!=e||t.calendarContainer.jqxCalendar({clearString:t.clearString,todayString:t.todayString}),"dayNameFormat"==e&&t.calendarContainer.jqxCalendar({dayNameFormat:a}),"firstDayOfWeek"==e&&t.calendarContainer.jqxCalendar({firstDayOfWeek:a}),"showWeekNumbers"==e&&t.calendarContainer.jqxCalendar({showWeekNumbers:a}),"culture"==e||"localization"==e?t._applyCulture():"formatString"!=e&&("yearCutoff"!==e||null!==a&&null!==i)||("formatString"===e&&t._getMask(),t.items=new Array,t._loadItems()),"theme"==e&&(D.jqx.utilities.setTheme(i,a,t.host),t.calendarContainer.jqxCalendar({theme:a})),"width"==e||"height"==e)return t.close(),void t.refresh();t._setOption(e,a,i),"dropDownWidth"!=e&&"dropDownHeight"!=e||(t.calendarContainer.jqxCalendar({width:t.dropDownWidth,height:t.dropDownHeight}),t._calendar.render(),t.container.height(t.calendarContainer.height()),t.container.width(t.calendarContainer.width()))}},clear:function(){this.allowNullDate?("range"!=this.selectionMode?this.setDate(null):(this._calendar._clicks=1,this.setRange(null,null)),this._calendar._clicks=0):"range"!=this.selectionMode?this.setDate(this.getMinDate()):(this._calendar._clicks=1,this.setRange(this.getMinDate(),this.getMinDate()),this._calendar._clicks=0),this.hideCalendar()},today:function(){var t,e=new Date;e.setHours(0,0,0,0),"range"!=this.selectionMode?this.setDate(e):(this._calendar._clicks=0,(t=new Date).setHours(23,59,59,0),this.setRange(e,t),this._calendar._clicks=0),this.hideCalendar()},_isValidDate:function(t){return null==t||"object"==typeof t&&(!(null===t||!t.getFullYear)||!("Invalid Date"==t||t.valueOf()<0||isNaN(t.valueOf())))},setDate:function(t){var e=this.getDate();if(null!=t&&"string"==typeof t){var i=t;if(0<=t.toString().indexOf(",")&&(t=t.replace(/\,/g,"/"),t=new Date(t),this._isValidDate(t)||(t=i)),0<=t.toString().indexOf("-")&&(t=t.replace(/\-/g,"/"),t=new Date(t),(t=this._isValidDate(t)?t:i).getFullYear&&isNaN(t.getFullYear)&&(t=i)),""!=t){i=t;if(null===(t=null!=window.Globalize?window.Globalize.parseDate(i,this.formatString,this.culture):D.jqx.dataFormat?D.jqx.dataFormat.parsedate(i,this.formatString,this.localization.calendar):new Date(t))&&null!==i&&this._isValidDate(i)&&(t=i),!this._isValidDate(t))return}}if(null!=t&&"null"!=t&&"undefined"!=t||this.allowNullDate||(t=this.min),null==(t=this._isValidDate(t)?t:null)||"null"==t||"undefined"==t||""===t)null!=this.value&&(this.value=null,this._calendar.setDate(null),this._refreshValue(),this.cookies&&null!=this.value&&D.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this._setSelectionStart(0),this._selectGroup(-1),this._raiseEvent("0",t,e),this._raiseEvent("9",t,e));else if(!(t<this.getMinDate()||t>this.getMaxDate()))return null==this.value&&(this.value=new D.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),t.getFullYear&&(this.value._setYear(t.getFullYear()),this.value._setDay(1),this.value._setMonth(t.getMonth()+1),this.value._setHours(t.getHours()),this.value._setMinutes(t.getMinutes()),this.value._setSeconds(t.getSeconds()),this.value._setMilliseconds(t.getMilliseconds()),this.value._setDay(t.getDate())),this._validateTimeRange(),this._refreshValue(),this.cookies&&null!=this.value&&D.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),0!=this.getDate()-e?(this._raiseEvent("0",t,e),this._raiseEvent("9",t,e),!0):void 0},getDate:function(){return null==this.value?null:new Date(this.value.dateTime)},getText:function(){return this.dateTimeInput.val()},setRange:function(t,e){"object"!=typeof t||this._isValidDate(t)||(t=null),"object"!=typeof e||this._isValidDate(e)||(e=null),null!=t&&"string"==typeof t&&(t=new Date(t),!this._isValidDate(t))||null!=e&&"string"==typeof e&&(e=new Date(e),!this._isValidDate(e))||t&&isNaN(t)&&"NaN"==t.toString()&&"string"!=typeof t||e&&isNaN(e)&&"NaN"==e.toString()&&"string"!=typeof e||(this._calendar.setRange(t,e),e&&t&&e.valueOf()!=t.valueOf()?this._range={from:t,to:e}:this._range=this._calendar.getRange(),null!=(e=t)&&e.getFullYear&&(null==this.value&&(this.value=new D.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),this.value._setYear(e.getFullYear()),this.value._setMonth(e.getMonth()+1),this.value._setHours(e.getHours()),this.value._setMinutes(e.getMinutes()),this.value._setSeconds(e.getSeconds()),this.value._setMilliseconds(e.getMilliseconds()),this.value._setDay(e.getDate())),this._refreshValue(),this.value?this._raiseEvent("0",this.value.dateTime):this._raiseEvent("0",null))},getRange:function(){var t,e,i=this._calendar.getRange();return this._range&&(t=this._range.from,(e=this._range.to)&&t&&e.valueOf()!=t.valueOf()&&(i.from&&i.from.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),i.to&&i.to.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))),i},_validateValue:function(t){for(var e=0;e<this.items.length;e++){var i=this.editors[e].value;switch(this.items[e].type){case"FORMAT_AMPM":i<0?i=0:1<i&&(i=1);break;case"Character":break;case"Day":i<1?i=1:31<i&&(i=31);break;case"FORMAT_hh":i<1?i=1:12<i&&(i=12);break;case"FORMAT_HH":i<0?i=0:23<i&&(i=23);break;case"Millisecond":i<0?i=0:999<i&&(i=999);break;case"Minute":i<0?i=0:59<i&&(i=59);break;case"Month":i<1?i=1:12<i&&(i=12);break;case"ReadOnly":break;case"Second":i<0?i=0:59<i&&(i=59);break;case"Year":i<this.minDate.year?i=this.minDate.year:i>this.maxDate.year&&(i=this.maxDate.year)}this.editors[e].value!=i&&(this.editors[e].value=i)}this.updateValue(t),null!=this.value&&!0===t&&(this.value.dateTime>this.maxDate.dateTime?(this._internalSetValue(this.maxDate),this._updateEditorsValue()):this.value.dateTime<this.minDate.dateTime&&(this._internalSetValue(this.minDate),this._updateEditorsValue()),this._updateText())},spinUp:function(){var t=this.value;if(null!=t){if(null!=this.activeEditor){t=this.editors.indexOf(this.activeEditor);if(-1==t)return;"Day"==this.items[t].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));t=this.activeEditor.positions;this.activeEditor.increaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=t}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();t=this.editors.indexOf(this.activeEditor);0<=t&&this._selectGroup(t)}},spinDown:function(){var t=this.value;if(null!=t){if(null!=this.activeEditor){t=this.editors.indexOf(this.activeEditor);if(-1==t)return;"Day"==this.items[t].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));t=this.activeEditor.positions;this.activeEditor.decreaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=t}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();t=this.editors.indexOf(this.activeEditor);0<=t&&this._selectGroup(t)}},_passKeyToCalendar:function(t){if(13==t.keyCode||9==t.keyCode)return this.hideCalendar("selected","keyboard"),!0;27==t.keyCode&&(this.calendarContainer,i=this._calendar,e=this.closeCalendarAfterSelection,this.closeCalendarAfterSelection=!1,i.setDate(this.value.dateTime),this.closeCalendarAfterSelection=e,this.hideCalendar());var e=this.closeCalendarAfterSelection,i=(this.closeCalendarAfterSelection=!1,this._calendar._handleKey(t));return this.closeCalendarAfterSelection=e,i},handleCalendarKey:function(t,e){D(t.target);var i=D.data(document.body,"openedJQXCalendar"+this.id);if(null!=i&&0<i.length)return e._passKeyToCalendar(t);return!0},_findPos:function(t){if(null!=t){for(;t&&("hidden"==t.type||1!=t.nodeType||D.expr.filters.hidden(t));)t=t.nextSibling;var e=D(t).coord(!0);return[e.left,e.top]}},testOffset:function(t,e,i){var a=t.outerWidth(),t=t.outerHeight(),s=D(window).width()+D(window).scrollLeft(),n=D(window).height()+D(window).scrollTop();return e.left+a>s&&a>this.host.width()&&(s=this.host.coord().left,a=a-this.host.width(),e.left=s-a+2),e.left<0&&(e.left=parseInt(this.host.coord().left)+"px"),e.top-=Math.min(e.top,e.top+t>n&&t<n?Math.abs(t+i+23):0),e},open:function(t){this.timePopup="time"==t,this.showCalendar()},close:function(t){this.hideCalendar()},_getBodyOffset:function(){var t=0,e=0;return"0px"!=D("body").css("border-top-width")&&(t=parseInt(D("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=D("body").css("border-left-width")&&(e=parseInt(D("body").css("border-left-width")),isNaN(e)&&(e=0)),{left:e,top:t}},initTimePopup:function(){this.timePopupElement=D("<div style='border-style: solid; border-width: 0px;'></div>").appendTo(this.timeContainer),this.timePopupElement.addClass(this.toThemeProperty("jqx-widget-content jqx-widget jqx-date-time-input-popup"));function t(t){t=t.find("tr"),-1==a.indexOf("mm")&&(n.minuteInput.hide(),n.minuteInput2.hide(),D(D(t[0]).children()[1]).hide(),D(D(t[0]).children()[2]).hide(),D(D(t[1]).children()[1]).hide(),D(D(t[1]).children()[2]).hide(),D(D(t[2]).children()[1]).hide(),D(D(t[2]).children()[2]).hide()),-1==a.indexOf("ss")&&(n.secondInput.hide(),n.secondInput2.hide(),D(D(t[0]).children()[3]).hide(),D(D(t[0]).children()[4]).hide(),D(D(t[1]).children()[3]).hide(),D(D(t[1]).children()[4]).hide(),D(D(t[2]).children()[3]).hide(),D(D(t[2]).children()[4]).hide()),-1==a.indexOf("tt")&&-1==a.indexOf("hh")&&(n.meridianInput.hide(),n.meridianInput2.hide(),D(D(t[0]).children()[7]).hide(),D(D(t[0]).children()[8]).hide(),D(D(t[1]).children()[7]).hide(),D(D(t[1]).children()[8]).hide(),D(D(t[2]).children()[7]).hide(),D(D(t[2]).children()[8]).hide()),-1==a.indexOf("zz")&&(n.mssecondInput.hide(),n.mssecondInput2.hide(),D(D(t[0]).children()[5]).hide(),D(D(t[0]).children()[6]).hide(),D(D(t[1]).children()[5]).hide(),D(D(t[1]).children()[6]).hide(),D(D(t[2]).children()[5]).hide(),D(D(t[2]).children()[6]).hide())}var e="",a=(e+="<table><tbody><tr><td><a class='increment-hour-column' href='javascript:;' data-action='incrementHour'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-minute-column' href='javascript:;' data-action='incrementMinute'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-second-column' href='javascript:;' data-action='incrementSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-millisecond-column' href='javascript:;' data-action='incrementMSSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td class='increment-meridian-column'><a href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-up'></div></a></td></tr><tr><td><input type='text' class='jqx-timepicker-hour' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-minute' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-second' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-millisecond' maxlength='3'></td><td class='separator'>&nbsp;</td><td><input type='text' class='jqx-timepicker-meridian' maxlength='2'></td></tr><tr><td><a class='decrement-hour-column' href='javascript:;' data-action='decrementHour'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-minute-column' href='javascript:;' data-action='decrementMinute'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-second-column' href='javascript:;' data-action='decrementSecond'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-millisecond-column' href='javascript:;' data-action='decrementMillisecond'><div class='jqx-icon-down'></div></a></td><td class='separator'>&nbsp;</td><td><a class='decrement-meridian-column' href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-down'></div></a></td></tr></tbody></table>",this._getFormatValue(this.formatString)),e=("range"!=this.selectionMode?this.timePopupElement[0].innerHTML=e:this.timePopupElement[0].innerHTML="<table><tr><td>"+e+"</td><td>-</td><td>"+e+"</td></tr></table>",this.timePopupElement.find(".jqx-icon-down").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-down")),this.timePopupElement.find(".jqx-icon-up").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-up")),this.timePopupElement.find("input")),i=(e.addClass(this.toThemeProperty("jqx-input")),e.addClass(this.toThemeProperty("jqx-rc-all")),this.addHandler(e,"mousedown",function(t){t.stopPropagation()}),function(t){0<=t.target.className.indexOf("hour")&&n._decrementHour(D(t.target)),0<=t.target.className.indexOf("minute")&&n._decrementMinuteSecond(D(t.target)),0<=t.target.className.indexOf("second")&&n._decrementMinuteSecond(D(t.target)),0<=t.target.className.indexOf("millisecond")&&n._decrementMillisecond(D(t.target)),0<=t.target.className.indexOf("meridian")&&n._decrementMeridian(D(t.target))}),s=function(t){0<=t.target.className.indexOf("hour")&&n._incrementHour(D(t.target)),0<=t.target.className.indexOf("minute")&&n._incrementMinuteSecond(D(t.target)),0<=t.target.className.indexOf("second")&&n._incrementMinuteSecond(D(t.target)),0<=t.target.className.indexOf("millisecond")&&n._incrementMillisecond(D(t.target)),0<=t.target.className.indexOf("meridian")&&n._incrementMeridian(D(t.target))},n=(this.addHandler(e,"wheel",function(t){var e;t=t,(e=n).isEditing&&(e=0,(t=t||window.event).originalEvent&&t.originalEvent.wheelDelta&&(t.wheelDelta=t.originalEvent.wheelDelta),t.originalEvent&&null!=t.originalEvent.deltaY&&(e=-t.originalEvent.deltaY),t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e&&(document.activeElement==t.target&&"input"==t.target.nodeName.toLowerCase()&&(e<0?i:s)(t),t.preventDefault&&t.preventDefault(),t.returnValue=!1),t.preventDefault&&t.preventDefault(),t.returnValue=!1)}),this.addHandler(e,"keydown",function(t){D(t.target);if(t.ctrlKey)if(38==t.keyCode){if(n.isOpened())return n.hideCalendar("keyboard","keyboard"),n.dateTimeInput.focus(),!1}else if(40==t.keyCode&&!n.isOpened())return n.showCalendar("keyboard","keyboard"),n.dateTimeInput.focus(),!1;40==t.keyCode?(i(t),t.preventDefault()):38==t.keyCode?(s(t),t.preventDefault()):13==t.keyCode?(t.preventDefault(),n.hideCalendar("keyboard","keyboard"),n.dateTimeInput.focus()):27==t.keyCode&&(t.preventDefault(),n.hideCalendar("cancel"),n.dateTimeInput.focus())}),this.hourInput=D(e[0]),this.minuteInput=D(e[1]),this.secondInput=D(e[2]),this.mssecondInput=D(e[3]),this.meridianInput=D(e[4]),this.hourInput2=D(e[5]),this.minuteInput2=D(e[6]),this.secondInput2=D(e[7]),this.mssecondInput2=D(e[8]),this.meridianInput2=D(e[9]),this),r=this.timePopupElement.find(".increment-hour-column"),r=(this.hourIncrement=D(r[0]),this.hourIncrement2=D(r[1]),this.addHandler(e,"change",function(t){var e=D(t.target);if(e.val().length<=1&&e.val("0"+D(t.target).val()),0<=t.target.className.indexOf("hour")){var i=parseInt(D(t.target).val());if(0<=a.indexOf("HH"))for(;24<i;)i-=24;else for(;12<i;)i-=12;i<10&&(i="0"+i),e.val()!=i&&e.val(i)}if(0<=t.target.className.indexOf("minute")||0<=t.target.className.indexOf("second")){for(i=parseInt(D(t.target).val());59<i;)i--;i<10&&(i="0"+i),e.val()!=i&&e.val(i)}}),this._incrementHour=function(t){var e=parseInt(t.val());e++,0<=a.indexOf("HH")?23<e&&(e=0):12<e&&(e=1),t.val(e=e<10?"0"+e:e)},this._incrementMinuteSecond=function(t){var e=parseInt(t.val());t.val(e=(e=59<++e?0:e)<10?"0"+e:e)},this._incrementMillisecond=function(t){var e=parseInt(t.val());t.val(e=(e=999<++e?0:e)<10?"0"+e:e)},this._incrementMeridian=function(t){var e=0<=(e=t.val()).toLowerCase().indexOf("a")?"PM":"AM";t.val(e)},this._decrementHour=function(t){var e=parseInt(t.val());e--,0<=a.indexOf("HH")?e<0&&(e=23):e<1&&(e=12),t.val(e=e<10?"0"+e:e)},this._decrementMinuteSecond=function(t){var e=parseInt(t.val());t.val(e=(e=--e<0?59:e)<10?"0"+e:e)},this._decrementMillisecond=function(t){var e=parseInt(t.val());t.val(e=(e=--e<0?999:e)<10?"0"+e:e)},this._decrementMeridian=function(t){var e=0<=(e=t.val()).toLowerCase().indexOf("a")?"PM":"AM";t.val(e)},this.addHandler(this.hourIncrement,"mousedown",function(t){t.stopPropagation(),n._incrementHour(n.hourInput)}),this.addHandler(this.hourIncrement2,"mousedown",function(t){t.stopPropagation(),n._incrementHour(n.hourInput2)}),this.timePopupElement.find(".increment-minute-column")),e=(this.minuteIncrement=D(r[0]),this.minuteIncrement2=D(r[1]),this.addHandler(this.minuteIncrement,"mousedown",function(t){t.stopPropagation(),n._incrementMinuteSecond(n.minuteInput)}),this.addHandler(this.minuteIncrement2,"mousedown",function(t){t.stopPropagation(),n._incrementMinuteSecond(n.minuteInput2)}),this.timePopupElement.find(".increment-second-column")),r=(this.secondIncrement=D(e[0]),this.secondIncrement2=D(e[1]),this.addHandler(this.secondIncrement,"mousedown",function(t){t.stopPropagation(),n._incrementMinuteSecond(n.secondInput)}),this.addHandler(this.secondIncrement2,"mousedown",function(t){t.stopPropagation(),n._incrementMinuteSecond(n.secondInput2)}),this.timePopupElement.find(".increment-millisecond-column")),e=(this.millisecondsIncrement=D(r[0]),this.millisecondsIncrement2=D(r[1]),this.addHandler(this.millisecondsIncrement,"mousedown",function(t){t.stopPropagation(),n._incrementMillisecond(n.mssecondInput)}),this.addHandler(this.millisecondsIncrement2,"mousedown",function(t){t.stopPropagation(),n._incrementMillisecond(n.mssecondInput2)}),this.timePopupElement.find(".increment-meridian-column")),r=(this.meridianIncrement=D(e[0]),this.meridianIncrement2=D(e[1]),this.addHandler(this.meridianIncrement,"mousedown",function(t){t.stopPropagation(),n._incrementMeridian(n.meridianInput)}),this.addHandler(this.meridianIncrement2,"mousedown",function(t){t.stopPropagation(),n._incrementMeridian(n.meridianInput2)}),this.timePopupElement.find(".decrement-hour-column")),e=(this.hourDecrement=D(r[0]),this.hourDecrement2=D(r[1]),this.addHandler(this.hourDecrement,"mousedown",function(t){t.stopPropagation(),n._decrementHour(n.hourInput)}),this.addHandler(this.hourDecrement2,"mousedown",function(t){t.stopPropagation(),n._decrementHour(n.hourInput2)}),this.timePopupElement.find(".decrement-minute-column")),r=(this.minuteDecrement=D(e[0]),this.minuteDecrement2=D(e[1]),this.addHandler(this.minuteDecrement,"mousedown",function(t){t.stopPropagation(),n._decrementMinuteSecond(n.minuteInput)}),this.addHandler(this.minuteDecrement2,"mousedown",function(t){t.stopPropagation(),n._decrementMinuteSecond(n.minuteInput2)}),this.timePopupElement.find(".decrement-second-column")),e=(this.secondDecrement=D(r[0]),this.secondDecrement2=D(r[1]),this.addHandler(this.secondDecrement,"mousedown",function(t){t.stopPropagation(),n._decrementMinuteSecond(n.secondInput)}),this.addHandler(this.secondDecrement2,"mousedown",function(t){t.stopPropagation(),n._decrementMinuteSecond(n.secondInput2)}),this.timePopupElement.find(".decrement-millisecond-column")),r=(this.millisecondsDecrement=D(e[0]),this.millisecondsDecrement2=D(e[1]),this.addHandler(this.millisecondsDecrement,"mousedown",function(t){t.stopPropagation(),n._decrementMillisecond(n.mssecondInput)}),this.addHandler(this.millisecondsDecrement2,"mousedown",function(t){t.stopPropagation(),n._decrementMillisecond(n.mssecondInput2)}),this.timePopupElement.find(".decrement-meridian-column")),e=(this.meridianDecrement=D(r[0]),this.meridianDecrement2=D(r[1]),this.addHandler(this.meridianDecrement,"mousedown",function(t){t.stopPropagation(),n._decrementMeridian(n.meridianInput)}),this.addHandler(this.meridianDecrement2,"mousedown",function(t){t.stopPropagation(),n._decrementMeridian(n.meridianInput2)}),this.timePopupElement.find("table"));this.addHandler(this.timePopupElement,"mousedown",function(t){t.stopPropagation()});1==e.length?t(e):(t(D(D(e)[1])),t(D(D(e)[2])))},updateTimePopup:function(){var t,e,i,a,s,n,r=this._getFormatValue(this.formatString);"range"!=this.selectionMode?(t=this.getDate(),this.hourInput&&(n=t?(e=t.getHours(),i=t.getMinutes(),a=t.getHours(),s=t.getSeconds(),t.getMilliseconds()):s=a=i=e=0,12<=e?(a="PM",-1==r.indexOf("HH")&&0==(e-=12)&&(e=12)):a="AM","none"!=this.meridianInput.css("display")&&0==e&&(e=12),i<10&&(i="0"+i),s<10&&(s="0"+s),n<10&&(n="0"+n),this.hourInput.val(e=e<10?"0"+e:e),this.minuteInput.val(i),this.secondInput.val(s),this.mssecondInput.val(n),this.meridianInput.val(a))):(t=this.getRange().from,this.hourInput&&(n=t?(e=t.getHours(),i=t.getMinutes(),a=t.getHours(),s=t.getSeconds(),t.getMilliseconds()):s=a=i=e=0,12<=e?(a="PM",-1==r.indexOf("HH")&&0==(e-=12)&&(e=12)):a="AM","none"!=this.meridianInput.css("display")&&0==e&&(e=12),i<10&&(i="0"+i),s<10&&(s="0"+s),n<10&&(n="0"+n),this.hourInput.val(e=e<10?"0"+e:e),this.minuteInput.val(i),this.secondInput.val(s),this.mssecondInput.val(n),this.meridianInput.val(a)),t=this.getRange().to,this.hourInput2&&(n=t?(e=t.getHours(),i=t.getMinutes(),a=t.getHours(),s=t.getSeconds(),t.getMilliseconds()):s=a=i=e=0,12<=e?(a="PM",-1==r.indexOf("HH")&&0==(e-=12)&&(e=12)):a="AM","none"!=this.meridianInput.css("display")&&0==e&&(e=12),i<10&&(i="0"+i),s<10&&(s="0"+s),n<10&&(n="0"+n),this.hourInput2.val(e=e<10?"0"+e:e),this.minuteInput2.val(i),this.secondInput2.val(s),this.mssecondInput2.val(n),this.meridianInput2.val(a)))},showCalendar:function(){var t=this.calendarContainer,e=this._calendar;if(D.jqx.aria(this,"aria-expanded",!0),this.showTimeButton)if(this.timePopup){this.timePopupElement||this.initTimePopup(),this.calendarContainer.css("visibility","hidden"),this.timeContainer.css("visibility","visible"),this.updateTimePopup();for(var i=this.timeContainer.find("input"),a=0,s=0;s<i.length;s++)"none"!=i[s].style.display&&(a+=50);this.container.width(parseInt(a)),this.touch||setTimeout(function(){i[0].focus(),D(i[0]).select()},150+this.openDelay)}else this.container.width(parseInt(this.calendarContainer.width())+25),this.timeContainer.css("visibility","hidden"),this.calendarContainer.css("visibility","visible");null!=this.value?"range"!=this.selectionMode?this._oldDT=new Date(this.value.dateTime):this._oldDT=this.getRange():this._oldDT=null,e.canRender||(e.canRender=!0,e.render());this.container;var n,r=this,o=(D(window).scrollTop(),D(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),l=parseInt(Math.round(this.host.coord(!0).left)),d=("element"===this.dropDownContainer&&(o=parseInt(this.host.outerHeight())-1+"px"),this.container.css("left",l+"px"),this.container.css("top",o),this.closeCalendarAfterSelection),e=(this.closeCalendarAfterSelection=!1,this.isEditing=!1,"default"==r.selectionMode&&(this._validateValue(),this._updateText(),n=null!=this.value?this.value.dateTime:new Date,e.setDate(n)),this.closeCalendarAfterSelection=d,!1);"right"!=this.dropDownHorizontalAlignment&&!this.rtl||(n=this.container.outerWidth(),d=Math.abs(n-this.host.outerWidth()+2),this.rtl||(d-=2),n>this.host.width()?this.container.css("left",23+parseInt(Math.round(l))-d+"px"):this.container.css("left",25+parseInt(Math.round(l))+d+"px")),"top"==this.dropDownVerticalAlignment&&(n=t.height(),this.timePopup&&this.timeContainer.css("top",this.container.height()-75),e=!0,t.css("top",23),t.addClass(this.toThemeProperty("jqx-popup-up")),l=parseInt(this.host.outerHeight()),d=parseInt(o)-Math.abs(n+l+23),this.container.css("top",d)),this.enableBrowserBoundsDetection&&(n=this.testOffset(t,{left:parseInt(this.container.css("left")),top:parseInt(o)},parseInt(this.host.outerHeight())),parseInt(this.container.css("top"))!=n.top?(e=!0,t.css("top",23),t.addClass(this.toThemeProperty("jqx-popup-up"))):t.css("top",0),this.container.css("top",n.top),parseInt(this.container.css("left"))!=n.left&&this.container.css("left",n.left)),this._raiseEvent(7,t),"none"!=this.animationType&&"transform"!=this.animationType?(this.container.css("display","block"),l=parseInt(t.outerHeight()),t.stop(),this.isanimating=!0,this.opening=!0,"fade"==this.animationType?(t.css("margin-top",0),t.css("opacity",0),t.animate({opacity:1},this.openDelay,function(){r.isanimating=!1,r.opening=!1,D.data(document.body,"openedJQXCalendar"+r.id,t),r.calendarContainer.focus()}),this.timePopup&&(this.timeContainer.css("margin-top",0),this.timeContainer.css("opacity",0),this.timeContainer.animate({opacity:1},this.openDelay,function(){r.isanimating=!1,r.opening=!1,D.data(document.body,"openedJQXCalendar"+r.id,t),r.timeContainer.focus()}))):(t.css("opacity",1),this.timePopup&&this.timeContainer.css("opacity",1),e?t.css("margin-top",l):t.css("margin-top",-l),this.timePopup&&(e?this.timeContainer.css("margin-top",l):this.timeContainer.css("margin-top",-l),this.timeContainer.animate({"margin-top":0},this.openDelay,function(){r.isanimating=!1,r.opening=!1,D.data(document.body,"openedJQXCalendar"+r.id,t),r.timeContainer.focus()})),t.animate({"margin-top":0},this.openDelay,function(){r.isanimating=!1,r.opening=!1,D.data(document.body,"openedJQXCalendar"+r.id,t),r.calendarContainer.focus()}))):(t.stop(),r.isanimating=!1,r.opening=!1,t.css("opacity",1),t.css("margin-top",0),this.container.css("display","block"),D.data(document.body,"openedJQXCalendar"+r.id,t),this.calendarContainer.focus(),this.timePopup&&(this.timeContainer.stop(),this.timeContainer.css("opacity",1),this.timeContainer.css("margin-top",0),this.timeContainer.focus())),null==this.value&&this._calendar&&this._calendar._getSelectedCell()&&(this._calendar._getSelectedCell().isSelected=!1),this.timePopup?(this.timeButtonIcon.addClass(this.toThemeProperty("jqx-icon-time-pressed")),this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.timeContainer.addClass(this.toThemeProperty("jqx-fill-state-focus"))):(this.calendarButtonIcon.addClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.calendarContainer.addClass(this.toThemeProperty("jqx-fill-state-focus"))),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.calendarContainer.addClass(this.toThemeProperty("jqx-popup-show")),this.isMaterialized()&&this._calendar.refresh()},hideCalendar:function(t,e){e&&(this.changeType=e);var e=this.calendarContainer,i=this.container,a=this;if(D.jqx.aria(this,"aria-expanded",!1),this.showTimeButton&&"hidden"!=this.timeContainer.css("visibility")&&"cancel"!=t)if("range"!=this.selectionMode&&this.hourInput){var s=this.getDate(),n=parseInt(this.hourInput.val()),r=parseInt(this.minuteInput.val()),o=parseInt(this.secondInput.val()),l=parseInt(this.mssecondInput.val()),d=this.meridianInput.val();isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(o)&&(o=0),isNaN(l)&&(l=0),"none"!=this.meridianInput.css("display")&&(0<=d.toLowerCase().indexOf("p")&&n<12&&(n+=12),0<=d.toLowerCase().indexOf("a")&&12<=n&&(n-=12)),(s=s||new Date).setHours(n,r,o,l),this.setDate(s)}else if(this.hourInput&&"selected"!=t){var s=this.getRange(),n=parseInt(this.hourInput.val()),r=parseInt(this.minuteInput.val()),o=parseInt(this.secondInput.val()),l=parseInt(this.mssecondInput.val()),d=this.meridianInput.val(),h=(isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(o)&&(o=0),isNaN(l)&&(l=0),"none"!=this.meridianInput.css("display")&&(0<=d.toLowerCase().indexOf("p")&&n<12&&(n+=12),0<=d.toLowerCase().indexOf("a")&&12<=n&&(n-=12)),s.from),n=((h=h||new Date).setHours(n,r,o,l),parseInt(this.hourInput2.val())),r=parseInt(this.minuteInput2.val()),o=parseInt(this.secondInput2.val()),l=parseInt(this.mssecondInput2.val()),d=this.meridianInput2.val(),d=(""==r&&(r=0),""==o&&(o=0),""==l&&(l=0),"none"!=this.meridianInput2.css("display")&&(0<=d.toLowerCase().indexOf("p")&&n<12&&(n+=12),0<=d.toLowerCase().indexOf("a")&&12<=n&&(n-=12)),s.to);if((d=d||new Date).setHours(n,r,o,l),d.valueOf()<h.valueOf())return!1;this.setRange(h,d)}else if("selected"==t)return;D.data(document.body,"openedJQXCalendar"+this.id,null),"none"!=this.animationType&&"transform"!=this.animationType?(s=e.outerHeight(),e.css("margin-top",0),this.showTimeButton&&this.timeContainer.css("margin-top",0),this.isanimating=!0,n=-s,parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(n=s),"fade"==this.animationType?e.animate({opacity:0},this.closeDelay,function(){i.css("display","none"),a.isanimating=!1}):e.animate({"margin-top":n},this.closeDelay,function(){i.css("display","none"),a.isanimating=!1}),this.showTimeButton&&("fade"==this.animationType?this.timeContainer.animate({opacity:0},this.closeDelay,function(){i.css("display","none"),a.isanimating=!1}):this.timeContainer.animate({"margin-top":n},this.closeDelay,function(){i.css("display","none"),a.isanimating=!1}))):"transform"===this.animationType?setTimeout(function(){i.css("display","none")},this.closeDelay):i.css("display","none"),null!=t&&this._updateSelectedDate(t),this.timeButtonIcon.removeClass(this.toThemeProperty("jqx-icon-time-pressed")),this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.calendarButtonIcon.removeClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.timeContainer.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.calendarContainer.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent(8,e),this.calendarContainer.removeClass(this.toThemeProperty("jqx-popup-show"))},_updateSelectedDate:function(){var t=this.value,e=(null==t&&((t=new D.jqx._jqxDateTimeInput.getDateTime(new Date))._setHours(0),t._setMinutes(0),t._setSeconds(0),t._setMilliseconds(0)),t.hour),i=t.minute,a=t.second,t=t.millisecond;if("range"==this.selectionMode&&null==this._calendar.getRange().from)this.setDate(null);else{(s=new D.jqx._jqxDateTimeInput.getDateTime(this._calendar.value.dateTime))._setHours(e),s._setMinutes(i),s._setSeconds(a),s._setMilliseconds(t);e=this.setDate(s.dateTime);if("range"==this.selectionMode&&!e&&this._oldDT){var s,i=this.getRange(),a=(this._oldDT,!1),t=!1,e=this._oldDT.from;if(null!=(s=i.from)&&e&&s.getFullYear()==e.getFullYear()&&s.getMonth()==e.getMonth()&&s.getDate()==e.getDate()&&s.getHours()==e.getHours()&&s.getMinutes()==e.getMinutes()&&s.getSeconds()==e.getSeconds()&&(a=!0),null!=(s=i.to)&&(e=this._oldDT.to)&&s.getFullYear()==e.getFullYear()&&s.getMonth()==e.getMonth()&&s.getDate()==e.getDate()&&s.getHours()==e.getHours()&&s.getMinutes()==e.getMinutes()&&s.getSeconds()==e.getSeconds()&&(t=!0),a&&t)return!0;this._raiseEvent(0,{}),this._raiseEvent(9,{})}}},_closeOpenedCalendar:function(t){var e=D(t.target),i=D.data(document.body,"openedJQXCalendar"+t.data.me.id),a=!1;if(D.each(e.parents(),function(){if(this.className&&this.className.indexOf)return-1!=this.className.indexOf("jqx-calendar")||-1!=this.className.indexOf("jqx-date-time-input-popup")?!(a=!0):-1==this.className.indexOf("jqx-input")&&void 0}),D(t.target).ischildof(t.data.me.host))return!0;if(null!=t.target&&("B"==t.target.tagName||"b"==t.target.tagName)){var e=t.data.me.host.coord(),s=t.data.me.host.width(),n=t.data.me.host.height(),r=parseInt(e.top),e=parseInt(e.left);if(r<=t.pageY&&t.pageY<=r+n&&e<=t.pageX&&t.pageX<=e+s)return!0}null==i||a||0<i.length&&(r=i[0].id.toString().toString().substring(13),D(document).find("#"+r),!1!==t.data.me.hideCalendar()&&D.data(document.body,"openedJQXCalendar"+t.data.me.id,null))},_loadItems:function(){if(null!=this.value){this.items=new Array;var t=this._getFormatValue(this.formatString);this.items=this._parseFormatValue(t),this.editors=new Array;for(var e=0;e<this.items.length;e++){var i=this.items[e].getDateTimeEditorByItemType(this.value,this);this.editors[e]=i}}this._updateEditorsValue(),this._updateText()},_updateText:function(){var t,e,i,a=this,s="";0==a.items.length&&null!=a.value&&a._loadItems(),null!=a.value&&(1<=a.items.length&&(s=a.format(a.value,0,a.items.length)),a.dateTimeInput.val()!=s&&a._raiseEvent(1,a.value)),"range"==a.selectionMode&&(t=a.getRange(),e=a.format(a.value,0,a.items.length),t.to?(i=D.jqx._jqxDateTimeInput.getDateTime(t.from),e=a.format(i,0,a.items.length),i=D.jqx._jqxDateTimeInput.getDateTime(t.to)," - "==(s=e+" - "+a.format(i,0,a.items.length))&&(s="")):s=""),a.dateTimeInput.val(s)},format:function(t,e,i){for(var a="",s=e;s<i;++s){var n=this.items[s],r=n.dateParser(t,this);if(this.isEditing&&"ReadOnly"!=n.type&&"range"!=this.selectionMode){var o="Day"==n.type&&2<n.format.length;if("FORMAT_AMPM"==n.type&&(o=!0,r=0==this.editors[s].value?this.editors[s].amString:this.editors[s].pmString),!o)if(null!==this.yearCutoff&&"Year"===n.type&&"yy"===n.format)r=this.editors[s].value.toString().substring(2);else for(r=n.dateParserInEditMode(new Number(this.editors[s].value),"d"+this.editors[s].maxEditPositions,this);r.length<this.editors[s].maxEditPositions;)r="0"+r}a+=r}return a},_getFormatValueGroupLength:function(t){for(var e=1;e<t.toString().length;++e)if(t.substring(e,e+1)!=t.substring(0,1))return e;return t.length},_parseFormatValue:function(t){for(var e=new Array,i=t.toString(),a=0;0<i.length;){var s=this._getFormatValueGroupLength(i),n=null;switch(i.substring(0,1)){case":":case"/":n=D.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s=1),"ReadOnly",this.culture);break;case'"':case"'":var r=i.indexOf(i[0],1),n=D.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(1,1+Math.max(1,r-1)),"ReadOnly",this.culture),s=Math.max(1,r+1);break;case"\\":2<=i.length&&(n=D.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(1,1),"ReadOnly",this.culture),s=2);break;case"d":case"D":n=D.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s),"Day",this.culture);break;case"f":case"F":n=3<(s=7<s?7:s)?D.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s),"ReadOnly",this.culture):D.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s),"Millisecond",this.culture);break;case"g":n=D.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s),"ReadOnly",this.culture);break;case"h":n=D.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s),"FORMAT_hh",this.culture);break;case"H":n=D.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s),"FORMAT_HH",this.culture);break;case"m":n=D.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s),"Minute",this.culture);break;case"M":4<s&&(s=4),n=D.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s),"Month",this.culture);break;case"s":case"S":n=D.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s),"Second",this.culture);break;case"t":case"T":n=D.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s),"FORMAT_AMPM",this.culture);break;case"y":case"Y":n=1<s?D.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s),"Year",this.culture):D.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s=1),null,"ReadOnly",this.culture);break;case"z":n=D.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s),"ReadOnly",this.culture);break;default:n=D.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s=1),"ReadOnly",this.culture)}e[a]=D.extend(!0,{},n),i=i.substring(s),a++}return e},_getFormatValue:function(t){if(1==(t=null!=t&&0!=t.length?t:"d").length)switch(t.substring(0,1)){case"d":return this.localization.calendar.patterns.d;case"D":return this.localization.calendar.patterns.D;case"t":return this.localization.calendar.patterns.t;case"T":return this.localization.calendar.patterns.T;case"f":return this.localization.calendar.patterns.f;case"F":return this.localization.calendar.patterns.F;case"M":return this.localization.calendar.patterns.M;case"Y":return this.localization.calendar.patterns.Y;case"S":return this.localization.calendar.patterns.S}return t=2==t.length&&"%"==t.substring(0,1)?t.substring(1):t},_updateEditorsValue:function(){var t=this.value;if(null!=t){var e=t.year,i=t.day,a=t.hour,s=t.millisecond,n=t.second,r=t.minute,o=t.month;if(null!=this.items)for(var l,d=0;d<this.items.length;d++)switch(this.items[d].type){case"FORMAT_AMPM":0==(l=a%12)&&(l=12),this.editors[d].value=0<=a&&a<12?0:1;break;case"Day":this.editors[d].value=i;break;case"FORMAT_hh":0==(l=a%12)&&(l=12),this.editors[d].value=l;break;case"FORMAT_HH":this.editors[d].value=a;break;case"Millisecond":this.editors[d].value=s;break;case"Minute":this.editors[d].value=r;break;case"Month":this.editors[d].value=o;break;case"Second":this.editors[d].value=n;break;case"Year":this.editors[d].value=e}}},updateValue:function(t){if(!(this.isEditing||this.items&&0==this.items.length)){for(var e=1,i=1,a=0,s=0,n=0,r=0,o=1,l=!1,d=!1,h=!1,u=!1,c=!1,m=!1,p=!1,f=new Array,g=null,v=0,y=0;y<this.items.length;y++)switch(this.items[y].type){case"FORMAT_AMPM":this.editors[y].value,g=this.editors[y];break;case"Character":break;case"Day":this.items[y].format.length<3&&(i=this.editors[y].value,f[v++]=this.editors[y],0==i&&(i=1),h=!0);break;case"FORMAT_hh":a=this.editors[y].value,u=!0;break;case"FORMAT_HH":a=this.editors[y].value,u=!0;break;case"Millisecond":s=this.editors[y].value,p=!0;break;case"Minute":r=this.editors[y].value,c=!0;break;case"Month":d=!0,0==(o=this.editors[y].value)&&(o=1);break;case"ReadOnly":break;case"Second":n=this.editors[y].value,m=!0;break;case"Year":var x,l=!0,e=this.editors[y].value;this.editors[y].getDateTimeItem().format.length<3&&(4==(x="1900").Length&&(e+=100*parseInt(""+x[0]+x[1]))),0==e&&(e=1)}var _=null!=this.value?new Date(this.value.dateTime):null;if(0<e&&0<o&&0<i&&0<=r&&0<=a&&0<=n&&0<=s){var T=this.value;null!=T&&(l||(e=T.year),d||(o=T.month),h||(i=T.day));try{if((o=12<o?12:o)<1&&(o=1),t&&T._daysInMonth(e,o)<=i&&(i=T._daysInMonth(e,o),null!=f&&0<f.length))for(y=0;y<f.length;y++)f[y].value=i;null!=g&&(0==g.value?12<=a&&(a-=12):a+12<24&&(a+=12));this.value.dateTime.getDate();this.value._setYear(parseInt(e)),this.value._setDay(i),this.value._setMonth(o),u&&this.value._setHours(a),c&&this.value._setMinutes(r),m&&this.value._setSeconds(n),p&&this.value._setMilliseconds(s),this._validateTimeRange()}catch(t){this.value=T}null==_||this.value.dateTime.getFullYear()==_.getFullYear()&&this.value.dateTime.getDate()==_.getDate()&&this.value.dateTime.getMonth()==_.getMonth()&&this.value.dateTime.getHours()==_.getHours()&&this.value.dateTime.getMinutes()==_.getMinutes()&&this.value.dateTime.getSeconds()==_.getSeconds()||(this.changing&&(t=this.changing(_,this.value.dateTime))&&(this.value=D.jqx._jqxDateTimeInput.getDateTime(t)),this._raiseEvent("0",this.value.dateTime),this.cookies&&null!=this.value&&D.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this.change&&this.change(this.value.dateTime))}T=this.editors.indexOf(this.activeEditor);this.items[T];this.value&&(this.calendarContainer.jqxCalendar("_isDisabled",this.value.dateTime)?this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-invalid")):this.dateTimeInput.removeClass(this.toThemeProperty("jqx-input-invalid")))}},_internalSetValue:function(t){this.value._setYear(parseInt(t.year)),this.value._setDay(t.day),this.value._setMonth(t.month),this.value._setHours(t.hour),this.value._setMinutes(t.minute),this.value._setSeconds(t.second),this.value._setMilliseconds(t.milisecond)},_raiseEvent:function(t,e,i){var a=this.events[t],s={},n=(s.owner=this,null==e&&(e={}),null==i&&(i=e),e.charCode||e.keyCode||0),r=!0,o=this.readonly,a=new D.Event(a);if(a.owner=this,a.args=s,a.args.date=this.getDate(),9==t&&(a.args.type=this.changeType,this.changeType=null),this.element.value=this.dateTimeInput.val(),9==t&&"range"!=this.selectionMode){var l=a.args.date;if(this._oldDT){if(null!=l&&l.getFullYear()==this._oldDT.getFullYear()&&l.getMonth()==this._oldDT.getMonth()&&l.getDate()==this._oldDT.getDate()&&l.getHours()==this._oldDT.getHours()&&l.getMinutes()==this._oldDT.getMinutes()&&l.getSeconds()==this._oldDT.getSeconds())return!0;D.jqx.aria(this,"aria-valuenow",this.getDate()),D.jqx.aria(this,"aria-valuetext",this.getText()),null!=this.getDate()?D.jqx.aria(this,"aria-label","Current focused date is "+this.getDate().toLocaleString()):D.jqx.aria(this,"aria-label","Current focused date is Null")}a.args.oldValue=i,a.args.newValue=a.args.date,this._oldDT&&(a.args.oldValue=this._oldDT)}if("range"==this.selectionMode){if(a.args.date=this.getRange(),this._oldDT){l=a.args.date.from;if(9==t){var s=!1,d=!1,h=this._oldDT.from;if(null!=l&&h&&l.getFullYear()==h.getFullYear()&&l.getMonth()==h.getMonth()&&l.getDate()==h.getDate()&&l.getHours()==h.getHours()&&l.getMinutes()==h.getMinutes()&&l.getSeconds()==h.getSeconds()&&(s=!0),null!=(l=a.args.date.to)&&(h=this._oldDT.to)&&l.getFullYear()==h.getFullYear()&&l.getMonth()==h.getMonth()&&l.getDate()==h.getDate()&&l.getHours()==h.getHours()&&l.getMinutes()==h.getMinutes()&&l.getSeconds()==h.getSeconds()&&(d=!0),s&&d)return!0;s=null==(s=a.args.date.from)?"":s.toString(),d=null==(d=a.args.date.to)?"":d.toString(),D.jqx.aria(this,"aria-valuenow",s+"-"+d),D.jqx.aria(this,"aria-valuetext",this.getText()),s&&d&&D.jqx.aria(this,"aria-label","Current focused range is "+s.toLocaleString()+"-"+d.toLocaleString())}}a.args.oldValue=i,a.args.newValue=a.args.date,this._oldDT&&(a.args.oldValue=this._oldDT)}if("none"==this.host.css("display"))return!0;2!=t&&3!=t&&4!=t&&5!=t&&6!=t&&(r=this.host.trigger(a),a.stopPropagation&&a.stopPropagation());var u=this;if(o||2!=t||this.disabled||setTimeout(function(){u.isEditing=!0,this.selectionMode,u._selectGroup(-1)},25),4==t){if(o||this.disabled){if(8!=n&&46!=n||(this.isEditing=!1,this.allowKeyboardDelete&&(this.allowNullDate?this.setDate(null):"range"!=this.selectionMode?this.setDate(this.getMinDate()):this.setRange(this.getMinDate(),this.getMinDate()))),9==n)return!0;if(!e.altKey)return!1}r=this._handleKeyDown(e,n)}else if(5==t){if(9==n)return!0;if(o||this.disabled)return!1}else if(6==t){if(9==n)return!0;if(o||this.disabled)return!1;r=this._handleKeyPress(e,n)}return r},_doLeftKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var t=this.activeEditor,e=!1,i=this.editors.indexOf(this.activeEditor),a=i;if(this.enableAbsoluteSelection&&0<=i&&0<this.activeEditor.positions)return this.activeEditor.positions--,void this._selectGroup(i);for(;0<i;)if(this.activeEditor=this.editors[--i],this._selectGroup(i),"ReadOnly"!=this.items[i].type){e=!0;break}return e||0<=a&&(this.activeEditor=this.editors[a]),null!=this.activeEditor&&t!=this.activeEditor&&"ReadOnly"!=this.items[i].type&&(this.enableAbsoluteSelection?this.activeEditor.positions=this.activeEditor.maxEditPositions-1:this.activeEditor.positions=0),this.activeEditor!=t&&(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0)}},_doRightKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var t=this.activeEditor,e=!1,i=this.editors.indexOf(this.activeEditor),a=i;if(this.enableAbsoluteSelection&&0<=i&&this.activeEditor.positions<this.activeEditor.maxEditPositions-1)return this.activeEditor.positions++,void this._selectGroup(i);for(;i<=this.editors.length-2;)if(this.activeEditor=this.editors[++i],this._selectGroup(i),"ReadOnly"!=this.items[i].type){if("Day"==this.items[i].type&&2<this.items[i].format.length)break;e=!0;break}return e||0<=a&&(this.activeEditor=this.editors[a]),null!=this.activeEditor&&this.activeEditor!=t&&"ReadOnly"!=this.items[i].type&&(this.activeEditor.positions=0),this.activeEditor!=t&&(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0)}},_saveSelectedText:function(){var t=this._selection(),e="",i=this.dateTimeInput.val();if(0<t.start||0<t.length)for(var a=t.start;a<t.end;a++)e+=i[a];return window.clipboardData&&window.clipboardData.setData("Text",e),e},_selectWithAdvancePattern:function(){var t=this.editors.indexOf(this.activeEditor),e=!1;if(e="ReadOnly"!=this.items[t].type?!0:e){e=this.activeEditor;if(null!=e)if(e.positions==e.maxEditPositions){this.editorText="";var i=e.value,a=!1;switch(this.items[t].type){case"FORMAT_AMPM":i<0?i=0:1<i&&(i=1);break;case"Character":break;case"Day":i<1?i=1:31<i&&(i=31);break;case"FORMAT_hh":i<1?i=1:12<i&&(i=12);break;case"FORMAT_HH":i<0?i=0:23<i&&(i=23);break;case"Millisecond":i<0?i=0:99<i&&(i=99);break;case"Minute":i<0?i=0:59<i&&(i=59);break;case"Month":i<1?i=1:12<i&&(i=12);break;case"ReadOnly":break;case"Second":i<0?i=0:59<i&&(i=59);break;case"Year":i<this.minDate.year?i=this.minDate.year:i>this.maxDate.year&&(i=this.maxDate.year)}return(a=e.value!=i||a)?!1:(this.isEditing=!1,this._validateValue(),this._updateText(),this.isEditing=!0,this._doRightKey(),!0)}}},_handleKeyPress:function(t,e){if(!this._fullEditInProgress){var i=this._selection(),t=t.ctrlKey||t.metaKey;if(t&&97==e||t&&65==e)return!0;if(8==e)return 0<i.start&&this._setSelectionStart(i.start),!1;if(46==e)return i.start<this.items.length&&this._setSelectionStart(i.start),!1;if(27===e)return this._firstFocusDate&&(this.setDate(this._firstFocusDate),this._setSelectionStart(0),this._selectGroup(-1)),!1;if(0<=i.start){this.changeType="keyboard";t=String.fromCharCode(e),i=parseInt(t);if("p"!=t&&"a"!=t&&"A"!=t&&"P"!=t||this.activeEditor&&"FORMAT_AMPM"==this.activeEditor.item.type&&(0!=this.activeEditor.value||"p"!=t&&"P"!=t?1!=this.activeEditor.value||"a"!=t&&"A"!=t||this.spinDown():this.spinUp()),!isNaN(i)){"block"==this.container.css("display")&&this.hideCalendar(),this.updateValue(),this._updateText();var i=this.editors.indexOf(this.activeEditor),a=null;if(this.isEditing=!0,null!=(a="ReadOnly"!=i.type?this.activeEditor:a)&&0==a.positions&&(this.editorText=""),null==this.activeEditor&&(this.activeEditor=this.editors[0]),null==this.activeEditor)return!1;this.activeEditor.insert(t),null!=a&&this.editorText.length>=a.maxEditPositions&&(this.editorText=""),this.editorText+=t;i=this._selectWithAdvancePattern();return this.activeEditor.positions==this.activeEditor.maxEditPositions&&(a=this._getLastEditableEditorIndex(),this.editors.indexOf(this.activeEditor)==a&&i&&this.enableAbsoluteSelection?this.activeEditor.positions=this.activeEditor.maxEditPositions-1:this.activeEditor.positions=0),this.updateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!1}}return this._isSpecialKey(e)}this._enteredValue=!0},_getLastEditableEditorIndex:function(){for(var t=-1,e=0;e<this.editors.length;e++)"ReadOnly"==this.items[e].type||"Day"==this.items[e].type&&2<this.items[e].format.length||(t=e);return t},_handleKeyDown:function(t,e){var i=this;if(this.timePopup=!1,84==e&&(this.timePopup=!0),115==t.keyCode){if(i.isOpened())return i.hideCalendar("keyboard","keyboard"),!1;if(!i.isOpened())return i.showCalendar("keyboard","keyboard"),!1}if(t.altKey){if(38==t.keyCode){if(i.isOpened())return i.showTimeButton&&!i.showCalendarButton&&(i.timePopup=!0),i.hideCalendar("keyboard","keyboard"),!1}else if(40==t.keyCode&&!i.isOpened())return i.showTimeButton&&!i.showCalendarButton&&(i.timePopup=!0),i.showCalendar("keyboard","keyboard"),!1}else if(t.ctrlKey)if(this.timePopup=!0,38==t.keyCode){if(i.isOpened())return i.hideCalendar("keyboard","keyboard"),!1}else if(40==t.keyCode&&!i.isOpened())return i.showCalendar("keyboard","keyboard"),!1;if(i.isOpened())return 9==t.keyCode?(i.hideCalendar("selected","keyboard"),!0):void 0;i._selection();var a,s,n,r,o,l=t.ctrlKey||t.metaKey;if(l&&99==e||l&&67==e)return i._saveSelectedText(t),!0;if(l&&122==e||l&&90==e)return!1;if(l&&118==e||l&&86==e||t.shiftKey&&45==e)return i.val(),a=this,s=D('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>'),D("body").append(s),s.select(),setTimeout(function(){var t=s.val();a.setDate(t),s.remove()},100),!0;if(!(i._fullEditInProgress||"full"===i.editMode&&null===i.value)){if(8==e||46==e)return t.altKey||l||46!=e?null!=i.activeEditor&&(n=i.editors.indexOf(i.activeEditor),0<=i.activeEditor.positions?(l=(l=i._format(Number(i.activeEditor.value),"d"+i.activeEditor.maxEditPositions,i.culture)).substring(0,i.activeEditor.positions)+"0"+l.substring(i.activeEditor.positions+1),parseInt(l)<i.activeEditor.minValue&&(l=i._format(Number(i.activeEditor.minValue),"d"+i.activeEditor.maxEditPositions,i.culture)),i.enableAbsoluteSelection?i.activeEditor.value=l:i.activeEditor.value=i.activeEditor.minValue,i._validateValue(),i._updateText(),i.changeType="keyboard",8==e?(r=this,i.enableAbsoluteSelection&&0<i.activeEditor.positions?setTimeout(function(){r.activeEditor.positions=r.activeEditor.positions-1,r._selectGroup(n)},10):setTimeout(function(){r._doLeftKey()},10)):i._selectGroup(n)):i._doLeftKey()):(i.isEditing=!1,i.allowKeyboardDelete&&(i.changeType="keyboard",i.allowNullDate?i.setDate(null):"range"!=i.selectionMode?i.setDate(i.getMinDate()):i.setRange(i.getMinDate(),i.getMinDate()))),!1;if(38==e)return this.spinUp(),!(i.changeType="keyboard");if(40==e)return this.spinDown(),!(i.changeType="keyboard");if(9==e)return null==i.value?!0:!(o=t.shiftKey?this._doLeftKey():this._doRightKey());if(37==e)return this._editor?((o=this._doLeftKey())||(this.isEditing=!1,this._validateValue()),!o):(this._doLeftKey(),!1);if(39==e||191==e)return this._editor?((o=this._doRightKey())||(this.isEditing=!1,this._validateValue()),!o):(this._doRightKey(),!1);l=this._isSpecialKey(e);return null==this.value&&(48<=e&&e<=57||96<=e&&e<=105)&&(i.changeType="keyboard",new Date>=this.getMinDate()&&new Date<=this.getMaxDate()?this.setDate(new Date):this.setDate(this.getMaxDate())),D.jqx.browser.mozilla?!!(D.jqx.browser.mozilla&&24<D.jqx.browser.version)||l:!0}if(13==e&&i._fullEditInProgress){if(i._endFullEdit(),null!=i.value){i.isEditing=!1,i._validateValue(!0),i._updateText(),i._raiseEvent(9,event);for(var d=i.editors.length-1,h=i.editors[d];h&&void 0===h.formatValueLength;)h=i.editors[--d];h&&void 0!==h.formatValueLength&&(i.activeEditor=h,i._selectGroup(d))}}else i._fullEditInProgress=!0,delete i._enteredValue},_isSpecialKey:function(t){return 8==t||9==t||13==t||35==t||36==t||37==t||39==t||27==t||46==t},_selection:function(){if("selectionStart"in this.dateTimeInput[0])return a=(e=this.dateTimeInput[0]).selectionEnd-e.selectionStart,{start:e.selectionStart,end:e.selectionEnd,length:a,text:e.value};var t=document.selection.createRange();if(null==t)return{start:0,end:e.value.length,length:0};var e=this.dateTimeInput[0].createTextRange(),i=e.duplicate(),a=(e.moveToBookmark(t.getBookmark()),i.setEndPoint("EndToStart",e),t.text.length);return{start:i.text.length,end:i.text.length+t.text.length,length:a,text:t.text}},_selectGroup:function(t,e){if("none"!=this.host.css("display")&&!this.readonly){e=e||this._selection();for(var i="",a="",s=null,n=0;n<this.items.length;n++){a=this.items[n].dateParser(this.value,this);if(this.isEditing&&"ReadOnly"!=this.items[n].type)if(!("Day"==this.items[n].type&&2<this.items[n].format.length)&&"FORMAT_AMPM"!=this.items[n].type)if(null!==this.yearCutoff&&"Year"===this.items[n].type&&"yy"===this.items[n].format)a=this.editors[n].value.toString().substring(2);else for(a=this.items[n].dateParserInEditMode(new Number(this.editors[n].value),"d"+this.editors[n].maxEditPositions,this);a.length<this.editors[n].maxEditPositions;)a="0"+a;if(i+=a,"ReadOnly"!=this.items[n].type&&!("Day"==this.items[n].type&&2<this.items[n].format.length))if(null!=t&&-1!=t){if(t<=n){var r=i.length-a.length,o=a.length;this.enableAbsoluteSelection&&!isNaN(parseInt(a))&&this.isEditing&&-1!=t&&(o=1,r+=this.editors[n].positions),r==this.dateTimeInput.val().length&&r--,this._setSelection(r,r+o),s=this.editors[n],this.activeEditor=s;break}}else if(i.length>=e.start){s=this.editors[n],this.activeEditor=s;r=i.length-a.length,o=1;this.enableAbsoluteSelection?!isNaN(parseInt(a))&&this.isEditing&&-1!=t&&(o=1,r+=this.editors[n].positions):o=a.length,this._setSelection(r,r+o);break}}n<this.items.length&&-1==t&&"ReadOnly"!=this.items[n].type&&(this.activeEditor.positions=0);var l=this._selection();0==l.length&&0<l.start&&this._getLastEditableEditorIndex()}},_setSelection:function(t,e){try{var i;"selectionStart"in this.dateTimeInput[0]?this.dateTimeInput[0].setSelectionRange(t,e):((i=this.dateTimeInput[0].createTextRange()).collapse(!0),i.moveEnd("character",e),i.moveStart("character",t),i.select())}catch(t){}},_setSelectionStart:function(t){this._setSelection(t,t)},destroy:function(){D.jqx.utilities.resize(this.host,null,!0),this.host.removeClass("jqx-rc-all"),this.timePopupElement&&this.timePopupElement.remove(),this._calendar.destroy(),this.container.remove(),this._removeHandlers(),this.dateTimeInput.remove(),this.host.remove()},refreshValue:function(){this._refreshValue()},refresh:function(t){1!=t&&(this._setSize(),this._arrange())},resize:function(t,e){this.width=t,this.height=e,this.refresh()},_setOption:function(t,e,i){"value"===t&&(this.selectionMode,this._oldDT=null,this.value=e,this._refreshValue(),this._raiseEvent(9,{type:null})),"maxDate"==t&&(this._calendar.maxDate=e,this._raiseEvent(9,{type:null})),"minDate"==t&&(this._calendar.minDate=e,this._raiseEvent(9,{type:null})),"showCalendarButton"==t&&(e?this.calendarButton.css("display","block"):this.calendarButton.css("display","none")),"disabled"==t&&this.dateTimeInput.attr("disabled",e),"readonly"==t&&(this.readonly=e,this.dateTimeInput.css("readonly",e)),"textAlign"==t&&(this.dateTimeInput.css("text-align",e),this.textAlign=e),"width"==t?(this.width=e,this.width=parseInt(this.width),this._arrange()):"height"==t&&(this.height=e,this.height=parseInt(this.height),this._arrange())},_updateHint:function(){var t=this;t.hint&&t.isMaterialized()&&setTimeout(function(){0===t.dateTimeInput[0].value.length?(t.element.removeAttribute("hint"),t.label[0].innerHTML=t.placeHolder):(t.label[0].innerHTML="",t.hint&&t.element.setAttribute("hint",!0))})},_refreshValue:function(){this._updateEditorsValue(),this.updateValue(),this._validateValue(),this._updateText(),this._updateHint()},_getYearBasedOnCutoff:function(t){var e=this.yearCutoff.toString(),i=parseFloat(e.substring(2)),e=parseFloat(e.substring(0,2));return parseFloat(t)<i&&e++,parseFloat(e+""+t)},_endFullEdit:function(){var t,e,i,a=this;a._fullEditInProgress&&(i=a.dateTimeInput[0].value,delete a._fullEditInProgress,delete a._enteredValue,""===i?a.value=null:(t=new Date(i),isNaN(t.getTime())?null===a.value&&a._updateText():(a.items=[],a.yearCutoff&&(e=t.getFullYear().toString(),-1===i.indexOf(e)&&i.indexOf(e.slice(2))&&(i=a._getYearBasedOnCutoff(e.slice(2)),t.setFullYear(i))),a.value=D.jqx._jqxDateTimeInput.getDateTime(t))))},_getMask:function(){for(var t,e=this.formatString,i={d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},a={},s=(e=i[e]?i[e]:e).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),n=["^"],r=0,o=0,l=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;null!==(t=l.exec(s));){var d=s.slice(r,t.index);if(""!==d&&(a[r]=d),r=l.lastIndex,(o+=this._appendPreOrPostMatch(d,n))%2)n.push(t[0]);else{var h,u=t[0],c=u.length;switch(u){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":h="(\\D+)";break;case"tt":case"t":h="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":h="(\\d{"+c+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":h="(\\d\\d?)";break;case"zzz":h="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":h="([+-]?\\d\\d?)";break;case"/":h="(\\/)",a[r-1]="/";break;default:throw"Invalid date format pattern '"+u+"'."}h&&n.push(h)}}this._appendPreOrPostMatch(s.slice(r),n),n.push("$"),this._mask=a},_appendPreOrPostMatch:function(t,e){for(var i=0,a=!1,s=0,n=t.length;s<n;s++){var r=t.charAt(s);switch(r){case"'":a?e.push("'"):i++,a=!1;break;case"\\":a&&e.push("\\"),a=!a;break;default:e.push(r),a=!1}}return i}})}(jqxBaseFramework),function(n){n.jqx._jqxDateTimeInput.DateTimeFormatItem={},n.extend(n.jqx._jqxDateTimeInput.DateTimeFormatItem,{_create:function(t,e,i){return this.format=t,this.type=e,this.culture=i,this},_itemValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;default:return 999}},_maximumValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;default:return 999}},dateParser:function(t,e){return null==t?"":e._format(t.dateTime,1==this.format.length?"%"+this.format:this.format,this.culture)},dateParserInEditMode:function(t,e,i){return null==t?"":i._format(t.toString(),1==e.length?"%"+e:e,this.culture)},getDateTimeEditorByItemType:function(t,e){switch(this.type){case"FORMAT_AMPM":var i=n.jqx._jqxDateTimeInput.AmPmEditor._createAmPmEditor(this.format,t.hour/12,e.localization.calendar.AM[0],e.localization.calendar.PM[0],this,e);return n.extend({},i);case"Character":return null;case"Day":var i=t.year,a=t.month,s=3==this.format.length?e.localization.calendar.days.namesAbbr:3<this.format.length?e.localization.calendar.days.names:null,i=(t.day,null!=s&&t.dayOfWeek,n.jqx._jqxDateTimeInput.DateEditor._createDayEditor(t,t.day,1,t._daysInMonth(i,a),1==this.format.length?1:2,2,s,this,e));return n.extend({},i);case"FORMAT_hh":a=t.hour%12,s=n.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(a=0==a?12:a,1,12,1==this.format.length?1:2,2,this,e);return n.extend({},s);case"FORMAT_HH":i=n.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.hour,0,23,1==this.format.length?1:2,2,this,e);return n.extend({},i);case"Millisecond":a=n.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.millisecond/this._itemValue(),0,this._maximumValue(),this.format.length,this.format.length,this,e);return n.extend({},a);case"Minute":s=n.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.minute,0,59,1==this.format.length?1:2,2,this,e);return n.extend({},s);case"Month":i=3==this.format.length?e.localization.calendar.months.namesAbbr:3<this.format.length?e.localization.calendar.months.names:null,a=n.jqx._jqxDateTimeInput.DateEditor._createMonthEditor(t.month,2==this.format.length?2:1,i,this,e);return n.extend({},a);case"ReadOnly":return n.jqx._jqxDateTimeInput.DisabledEditor._create(this.format.length,t.day,this,e);case"Second":s=n.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.second,0,59,1==this.format.length?1:2,2,this,e);return n.extend({},s);case"Year":i=n.jqx._jqxDateTimeInput.DateEditor._createYearEditor(t.year,null!==e.yearCutoff&&"yy"===this.format?2:4,this,e);return n.extend({},i)}return null}})}(jqxBaseFramework),function(d){d.jqx._jqxDateTimeInput.DateEditor=d.extend(d.jqx._jqxDateTimeInput.DateEditor,{formatValueLength:0,handleYears:!1,handleDays:!1,handleMonths:!1,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,dateTimeFormatInfo:null,days:null,dateTimeMonths:null,lastDayInput:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:4<=this.positions?4:this.positions:this.minEditPositions},initializeFields:function(t,e,i,a,s){this.minValue=t,this.maxValue=e,this.minEditPositions=i,this.maxEditPositions=a,this.updateActiveEditor(t),this.item=s},_createYearEditor:function(t,e,i,a){return d.jqx._jqxDateTimeInput.DateEditor=d.extend(!0,{},this),this.initializeFields(0,e<4?99:9999,2==e?2:1,3<e?4:2,i),this.initializeYearEditor(t,e,i.culture),this.handleYears=!0,this.that=a,this},initializeYearEditor:function(t,e,i){this.formatValueLength=e,this.dateTimeFormatInfo=i;e=t,e=Math.min(e,9999);e=Math.max(e,1),e=this.formatValueLength<4?e%100:e,this.updateActiveEditor(e),this.value=e},updateActiveEditor:function(t){this.value=t,this.positions=0},_createDayEditor:function(t,e,i,a,s,n,r,o,l){return d.jqx._jqxDateTimeInput.DateEditor=d.extend(!0,{},this),this.initializeFields(i,a,1,n,o),this.currentValue=t,this.value=e,this.days=r,this.handleDays=!0,this.that=l,this},getDayOfWeek:function(t){return typeof this.currentValue==d.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),t},defaultTextValue:function(){this.value;var t=this.minEditPositions;return this.that._format(this.value,"d"+t,"")},textValue:function(){var t;return this.handleDays?null==this.days?this.defaultTextValue():(t=this.value%7+1,t=this.getDayOfWeek(t),this.days[t]):!this.handleMonths||null==this.dateTimeMonths||this.value<1||12<this.value?this.defaultTextValue():this.dateTimeMonths[this.value-1]},defaultInsertString:function(t){if(null==t)return this.deleteValue();if(0==t.length)return this.deleteValue();var e,t=t.substring(0,1);if(!isNaN(t))return e=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),this.positions>=this.maxEditPositions&&(this.positions=0),e=e.substring(0,this.positions)+t+e.substring(this.positions+1),e=this.setValueByString(e,1),!0},setValueByString:function(t,e){t=this.fixValueString(t);var i=new Number(t);return this.value=i,this.positions+=e,t},fixValueString:function(t){return t=t.length>this.maxEditPositions?t.substring(t.length-this.maxEditPositions):t},initializeValueString:function(t){var e="";return e=this.hasDigits()?t:e},deleteValue:function(){return(this.value!=this.minValue||0!=this.hasDigits())&&(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return 0<this.positions},insert:function(t){if(this.handleDays){if(null!=this.days){var e=!1;if(e=this.insertLongString(t,e))return e;if(e=this.insertShortString(t,e))return e}return 1==this.value&&null!=this.lastDayInput&&0<this.lastDayInput.toString().length&&"0"==this.lastDayInput.toString()&&(this.value=0),this.lastDayInput=t,this.defaultInsertString(t)}if(this.handleMonths){if(null!=this.dateTimeMonths){e=!1;if(e=this.insertLongString2(t,e))return e;if(e=this.insertShortString2(t,e))return e}}else if(null!==this.that.yearCutoff&&this.handleYears&&2===this.formatValueLength){if(null==t||0==t.length)return this.deleteValue();e=t.substring(0,1);if(isNaN(e))return;this.positions>=this.maxEditPositions&&(this.positions=0);var i=(i=this.value.toString().substring(2)).substring(0,this.positions)+e+i.substring(this.positions+1);return this.value=this.that._getYearBasedOnCutoff(i),this.positions+=1,!0}return this.defaultInsertString(t)},insertShortString:function(t,e){if(1==t.length)for(var i=0;i<6;++i){var a=(this.value+i)%7+1;if(this.days[a-1].substring(0,1)==t)return this.updateActiveEditor(a),e=!0}return e},insertLongString:function(t,e){if(0<t.length)for(var i=0;i<6;++i){var a=(this.value+i)%7+1;if(this.days[a-1]==t)return this.updateActiveEditor(a),e=!0}return e},_createMonthEditor:function(t,e,i,a,s){return d.jqx._jqxDateTimeInput.DateEditor=d.extend(!0,{},this),this.initializeFields(1,12,e,2,a),this.dateTimeMonths=i,this.value=t,null!=this.dateTimeMonths&&null!=this.dateTimeMonths[12]&&0<this.dateTimeMonths[12].length&&(this.dateTimeMonths=null),this.handleMonths=!0,this.that=s,this},insertLongString2:function(t,e){if(0<t.length)for(var i=0;i<11;++i){var a=(this.value+i)%12+1;if(this.dateTimeMonths[a-1]==t)return this.updateActiveEditor(a),e=!0}return e},insertShortString2:function(t,e){if(1==t.length)for(var i=0;i<11;++i){var a=(this.value+i)%12+1;if(this.dateTimeMonths[a-1].substring(0,1)==t)return this.updateActiveEditor(a),e=!0}return e},correctMaximumValue:function(t){var e=this.maxValue;return t=(e=null!==this.that.yearCutoff&&"Year"===this.item.type&&"yy"===this.item.format?9999:e)<t?this.minValue:t},correctMinimumValue:function(t){return t=t<this.minValue?this.maxValue:t},increaseValue:function(t){var e=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=e.toString()[this.positions];if(9<(i=parseInt(i)+1)&&(i=0),!t)return t=this.value+1,t=this.correctMaximumValue(t),this.updateActiveEditor(t),!0;t=e.substring(0,this.positions)+i+e.substring(this.positions+1);return!(t==this.value&&!this.hasDigits())&&(this.updateActiveEditor(t),!0)},decreaseValue:function(t){var e=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=e.toString()[this.positions];if((i=parseInt(i)-1)<0&&(i=9),!t)return t=this.value-1,t=this.correctMinimumValue(t),this.updateActiveEditor(t),!0;t=e.substring(0,this.positions)+i+e.substring(this.positions+1);return!(t==this.value&&!this.hasDigits())&&(this.updateActiveEditor(t),!0)},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(o){o.jqx._jqxDateTimeInput.NumberEditor={},o.extend(o.jqx._jqxDateTimeInput.NumberEditor,{formatValueLength:0,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:4<=this.positions?4:this.positions:this.minEditPositions},_createNumberEditor:function(t,e,i,a,s,n,r){return o.jqx._jqxDateTimeInput.NumberEditor=o.extend(!0,{},this),this.initializeFields(e,i,a,s,n),this.that=r,this},initializeFields:function(t,e,i,a,s){this.minValue=t,this.maxValue=e,this.minEditPositions=i,this.maxEditPositions=a,this.updateActiveEditor(t),this.item=s},updateActiveEditor:function(t){this.value=t,this.positions=0},getDayOfWeek:function(t){return typeof this.currentValue==o.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),t},textValue:function(){this.value;var t=this.minEditPositions;return this.that._format(this.value,"d"+t,"")},insert:function(t){if(null==t)return this.deleteValue();if(0==t.length)return this.deleteValue();var e,t=t.substring(0,1);if(!isNaN(t))return e=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),this.positions>=this.maxEditPositions&&(this.positions=0),e=e.substring(0,this.positions)+t+e.substring(this.positions+1),e=this.setValueByString(e,1),!0},setValueByString:function(t,e){t=this.fixValueString(t);var i=new Number(t);return this.value=i,this.positions+=e,t},fixValueString:function(t){return t=t.length>this.maxEditPositions?t.substring(t.length-this.maxEditPositions):t},initializeValueString:function(t){var e="";return e=this.hasDigits()?t:e},deleteValue:function(){return(this.value!=this.minValue||0!=this.hasDigits())&&(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return 0<this.positions},correctMaximumValue:function(t){return t=t>this.maxValue?this.minValue:t},correctMinimumValue:function(t){return t=t<this.minValue?this.maxValue:t},increaseValue:function(t){var e=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=e.toString()[this.positions];if(9<(i=parseInt(i)+1)&&(i=0),!t)return t=this.value+1,t=this.correctMaximumValue(t),this.updateActiveEditor(t),!0;t=e.substring(0,this.positions)+i+e.substring(this.positions+1);return!(t==this.value&&!this.hasDigits())&&(this.updateActiveEditor(t),!0)},decreaseValue:function(t){var e=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=e.toString()[this.positions];if((i=parseInt(i)-1)<0&&(i=9),!t)return t=this.value-1,t=this.correctMinimumValue(t),this.updateActiveEditor(t),!0;t=e.substring(0,this.positions)+i+e.substring(this.positions+1);return!(t==this.value&&!this.hasDigits())&&(this.updateActiveEditor(t),!0)},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(t){t.jqx._jqxDateTimeInput.DisabledEditor={},t.extend(t.jqx._jqxDateTimeInput.DisabledEditor,{_create:function(t,e,i,a,s,n){return this.format=t,this.value=-1,this.item=s,this.that=n,this},textValue:function(){return""},insert:function(t){return!1},deleteValue:function(){return!1},increaseValue:function(){return!1},decreaseValue:function(){return!1},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(t){t.jqx._jqxDateTimeInput.AmPmEditor={},t.extend(t.jqx._jqxDateTimeInput.AmPmEditor,{_createAmPmEditor:function(t,e,i,a,s,n){return this.format=t,this.value=e,this.minValue=0,this.amString=i,this.pmString=a,this.item=s,this.that=n,i==a&&(this.amString="<"+i,this.pmString=">"+a),this},textValue:function(){var t=this.amString;return 0!=this.value&&(t=this.pmString),t=1==this.format.length&&1<t.length?t.substring(0,1):t},insert:function(t){t=t.toString();if(0==t.Length)return this.deleteValue();var e,i,a=!1;return 0<this.amString.Length&&0<this.pmString.Length?(e=this.amString[0],t=t[0],i=this.pmString[0],e.toString()==t.toString()?a=!(this.value=0):i.toString()==t.toString()&&(this.value=1,a=!0)):0<this.pmString.Length?(this.value=1,a=!0):0<this.amString.Length&&(a=!(this.value=0)),a},deleteValue:function(){if(0==this.amString.Length&&0!=this.pmString.Length){if(0==this.value)return!1;this.value=0}else{if(1==this.value)return!1;this.value=1}return!0},increaseValue:function(){return this.value=1-this.value,!0},decreaseValue:function(){return this.increaseValue(),!0},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),jqxBaseFramework.jqx._jqxDateTimeInput.getDateTime=function(t){return{dateTime:new Date(t),daysPer4Years:1461,daysPerYear:365,daysToMonth365:{0:0,1:31,2:59,3:90,4:120,5:151,6:181,7:212,8:243,9:273,10:304,11:334,12:365},daysToMonth366:{0:0,1:31,2:60,3:91,4:121,5:152,6:182,7:213,8:244,9:274,10:305,11:335,12:366},maxValue:3155378976e9,millisPerDay:864e5,millisPerHour:36e5,millisPerMinute:6e4,millisPerSecond:1e3,minTicks:0,minValue:0,ticksPerDay:864e9,ticksPerHour:36e9,ticksPerMillisecond:1e4,ticksPerMinute:6e8,ticksPerSecond:1e7,hour:t.getHours(),minute:t.getMinutes(),day:t.getDate(),second:t.getSeconds(),month:1+t.getMonth(),year:t.getFullYear(),millisecond:t.getMilliseconds(),dayOfWeek:t.getDay(),isWeekend:function(t){return(t=null==t?this.dateTime:t).getDay()%6==0},dayOfYear:function(t){null==t&&(t=this.dateTime);var e=new Date(t.getFullYear(),0,1);return Math.ceil((t-e)/864e5)},_setDay:function(t){this.dateTime.setDate(t=null==t?0:t),this.day=this.dateTime.getDate()},_setMonth:function(t){this.dateTime.setMonth((t=null==t?0:t)-1),this.month=1+this.dateTime.getMonth()},_setYear:function(t){this.dateTime.setFullYear(t=null==t?0:t),this.year=this.dateTime.getFullYear()},_setHours:function(t){this.dateTime.setHours(t=null==t?0:t),this.hour=this.dateTime.getHours()},_setMinutes:function(t){this.dateTime.setMinutes(t=null==t?0:t),this.minute=this.dateTime.getMinutes()},_setSeconds:function(t){this.dateTime.setSeconds(t=null==t?0:t),this.second=this.dateTime.getSeconds()},_setMilliseconds:function(t){this.dateTime.setMilliseconds(t=null==t?0:t),this.millisecond=this.dateTime.getMilliseconds()},_addDays:function(t){var e=this.dateTime,i=e.getDate();return e.setDate(e.getDate()+t),i===e.getDate()&&e.setHours(e.getHours()+e.getTimezoneOffset()/60),e},_addWeeks:function(t){var e=this.dateTime;return e.setDate(e.getDate()+7*t),e},_addMonths:function(t){var e=this.dateTime;return e.setMonth(e.getMonth()+t),e},_addYears:function(t){var e=this.dateTime;return e.setFullYear(e.getFullYear()+t),e},_addHours:function(t){var e=this.dateTime;return e.setHours(e.getHours()+t),e},_addMinutes:function(t){var e=this.dateTime;return e.setMinutes(e.getMinutes()+t),e},_addSeconds:function(t){var e=this.dateTime;return e.setSeconds(e.getSeconds()+t),e},_addMilliseconds:function(t){var e=this.dateTime;return e.setMilliseconds(e.getMilliseconds()+t),e},_isLeapYear:function(t){if(t<1||9999<t)throw"invalid year";return t%4==0&&(t%100!=0||t%400==0)},_dateToTicks:function(t,e,i){if(1<=t&&t<=9999&&1<=e&&e<=12){var a=this._isLeapYear(t)?this.daysToMonth366:this.daysToMonth365;if(1<=i&&i<=a[e]-a[e-1])return 864e9*(365*(t=t-1)+t/4-t/100+t/400+a[e-1]+i-1)}},_daysInMonth:function(t,e){if(e<1||12<e)throw"Invalid month.";t=this._isLeapYear(t)?this.daysToMonth366:this.daysToMonth365;return t[e]-t[e-1]},_timeToTicks:function(t,e,i){return 1e7*(3600*t+60*e+i)},_equalDate:function(t){return this.year==t.getFullYear()&&this.day==t.getDate()&&this.month==t.getMonth()+1}}};