!function(q){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw TypeError('"this" is null or not defined');var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError("predicate must be a function");for(var a=arguments[1],n=0;n<r;){var i=t[n];if(e.call(a,i,n,t))return i;n++}},configurable:!0,writable:!0}),q.jqx.observableArray=function(e,t){"string"==typeof e&&(e=q.parseJSON(e)),Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),1}catch(e){return}}()||(a=Object.defineProperty,Object.defineProperty=function(e,t,r){if(a)try{return a(e,t,r)}catch(e){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in r&&Object.prototype.__defineGetter__.call(e,t,r.get),Object.prototype.__defineSetter__&&"set"in r&&Object.prototype.__defineSetter__.call(e,t,r.set),"value"in r?e[t]=r.value:e[t]||(e[t]=r),e}),Array.prototype.forEach||(Array.prototype.forEach=function(e){if(null==this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();for(var a=arguments[1],n=0;n<r;n++)n in t&&e.call(a,t[n],n,t)}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r});var a,d,c=this,p=[];c.notifier=null,c.name="observableArray",c.observing=!0,c.changes=new Array;return c.observe=function(){c.observing=!0,1==arguments.length&&(t=arguments[0])},c.unobserve=function(){c.observing=!1},c.toArray=function(){return p.slice(0)},c.toJSON=function(c,e){var t=p,r=(e&&(t=e),/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g),a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function u(e){return'"'+e.replace(r,function(e){var t=a[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'}function f(e){return e<10?"0"+e:e}function n(e){switch(Object.prototype.toString.call(e)){case"[object Date]":return i=e,i=isFinite(i.valueOf())?i.getUTCFullYear()+"-"+f(i.getUTCMonth()+1)+"-"+f(i.getUTCDate())+"T"+f(i.getUTCHours())+":"+f(i.getUTCMinutes())+":"+f(i.getUTCSeconds())+'Z"':"null";case"[object Array]":for(var t=e,r=t.length,a=[],n=0;n<r;n++)a.push(h(n,t)||"null");return"["+a.join(",")+"]"}var i,s,o,l=e,d=[];for(s in l)!Object.prototype.hasOwnProperty.call(l,s)||""!=s&&c&&-1===c.indexOf(s)||(o=h(s,l))&&d.push(u(s)+":"+o);return"{"+d.join(",")+"}"}function h(e,t){var t=t[e],r=typeof t;if(t&&"object"==typeof t&&"function"==typeof t.toJSON&&(r=typeof(t=t.toJSON(e))),/(number|float|int|integer|string|boolean)/.test(r)||!t&&"object"===r){var a=t;switch(r){case"string":return u(a);case"number":case"float":case"integer":case"int":return isFinite(a)?a:"null";case"boolean":return a}return"null"}return n(t)}return!c&&window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(t):h("",{"":t})},c.defineIndexProperty=function(r){var i,s;r in c||(i=function(e,s,t,r){function a(){return l}function n(e){var t,n,i;return l!==(o=e)&&(e=l,l=o,"function"==typeof d&&(t=p.indexOf(r),n="",(i=function(r,a){Object.getOwnPropertyNames(r).forEach(function(e){var t=q.type(r[e]);"array"==t||"object"==t?i(r[e],a+"."+e):s===e&&(n=a+"."+e)})})(r,t),d({object:c,type:"update",path:n,index:t,name:s,newValue:o,oldValue:e}))),l=o}var o=e[s],l=o;null!=e[s]&&"length"!=s&&(Object.defineProperty?Object.defineProperty(e,s,{get:a,set:n}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(e,s,a),Object.prototype.__defineSetter__.call(e,s,n)))},s=function(r,a,n){var e=q.type(r);/(number|float|int|integer|string|boolean)/.test(e)||void 0!==r&&Object.getOwnPropertyNames(r).forEach(function(e){var t=q.type(r[e]);"array"==t||"object"==t?(i(r,e,0,n),s(r[e],a+"."+e,n)):i(r,e,0,n)})},Object.defineProperty(c,r,{configurable:!0,enumerable:!0,get:function(){return p[r]},set:function(e){var t=p[r];c.toJSON(null,t)!=c.toJSON(null,e)&&(p[r]=e,"function"==typeof d&&d({object:c,type:"update",path:r.toString(),index:r,name:"index",newValue:e,oldValue:t}),s(e,r,e))}}),s(c[r],r,c[r]))},c.push=function(){for(var e,t=0,r=arguments.length;t<r;t++)e=p.length,p.push(arguments[t]),c.defineIndexProperty(e),"function"==typeof d&&d({object:c,type:"add",name:"length",index:e,newValue:p.length,oldValue:e});return p.length},c.pop=function(){var e,t;if(~p.length)return e=p.length-1,t=p.pop(),delete c[e],"function"==typeof d&&d({object:c,type:"delete",name:"length",index:e,newValue:p.length,oldValue:e}),t},c.unshift=function(){for(var e=p.length,t=0,r=arguments.length;t<r;t++)p.splice(t,0,arguments[t]),c.defineIndexProperty(p.length-1);return"function"==typeof d&&d({object:c,type:"add",index:0,name:"length",newValue:p.length,oldValue:e}),p.length},c.shift=function(){var e,t=p.length;if(~p.length)return e=p.shift(),0===p.length&&delete c[t],"function"==typeof d&&d({object:c,type:"delete",index:t,name:"length",newValue:p.length,oldValue:t}),e},c.slice=function(e,t,r){e=p.slice(e,t);return new q.jqx.observableArray(e,r)},c.splice=function(e,t,r){var a,n=[];for(e=~e?e:p.length-e,t=(null==t?p.length-e:t)||0;t--;)a=p.splice(e,1)[0],n.push(a),delete c[p.length],"function"==typeof d&&d({object:c,type:"delete",index:e,name:"length",newValue:-1,oldValue:e});for(var i=2,s=arguments.length;i<s;i++)p.splice(e,0,arguments[i]),this.defineIndexProperty(p.length-1),"function"==typeof d&&d({object:c,type:"add",index:e,name:"length",newValue:p.length-1,oldValue:e}),e++;return new q.jqx.observableArray(n,r)},Object.defineProperty(c,"length",{configurable:!1,enumerable:!0,get:function(){return p.length},set:function(e){var t=Number(e);if(t%1==0&&0<=t)return t<p.length?c.splice(t):t>p.length&&c.push.apply(c,new Array(t-p.length)),e;throw new RangeError("Invalid array length")}}),q.jqx.observableArray.prototype.fromArray=function(e,t){return new q.jqx.observableArray(e,t)},q.jqx.observableArray.prototype.clone=function(){var e=new q.jqx.observableArray(p,t);return e.observing=c.observing,e.changes=c.changes,e.notifier=c.notifier,e},c.remove=function(e){if(e<0||e>=c.length)throw new Error("Invalid index : "+e);var t;return!!c.hasOwnProperty(e)&&(t=c[e],c[e]=void 0,p[e]=void 0,"function"==typeof d&&d({object:c,type:"delete",index:e,name:"index",newValue:void 0,oldValue:t}),!0)},c.concat=function(e,t){e=p.concat(e);return new q.jqx.observableArray(e,t)},Object.getOwnPropertyNames(Array.prototype).forEach(function(r){r in c||Object.defineProperty(c,r,{configurable:!1,enumerable:!0,writeable:!1,value:function(){var e=c.observing;c.observing=!1;var t=p[r].apply(p,arguments);return c.observing=e,t}})}),c.set=function(e,t){if("string"==q.type(e)&&1<e.split(".").length){for(var r=e.split("."),a=c,n=0;n<r.length;n++){if(0===n&&r[n]>=c.length)throw new Error("Invalid Index: "+e);n<r.length-1?a=a[r[n]]:a[r[n]]=t}return!0}return e>=c.length?c.push(t):c[e]=t,!0},c.get=function(e){return c[e]},e instanceof Array&&c.push.apply(c,e),d=function(){c.observing&&(arguments&&arguments[0]&&c.changes.push(arguments[0]),t&&t.apply(c,arguments),c.notifier&&c.notifier.apply(c,arguments))},c},q.jqx.formatDate=function(e,t,r){return q.jqx.dataFormat.formatdate(e,t,r)},q.jqx.formatNumber=function(e,t,r){return q.jqx.dataFormat.formatnumber(e,t,r)},q.jqx.dataAdapter=function(r,e){var a;null!=r&&(void 0!==r.dataFields&&(r.datafields=r.dataFields),void 0!==r.dataType&&(r.datatype=r.dataType),void 0!==r.localData&&(r.localdata=r.localData),void 0!==r.sortColumn&&(r.sortcolumn=r.sortColumn),void 0!==r.sortDirection&&(r.sortdirection=r.sortDirection),void 0!==r.sortColumns&&(r.sortcolumns=r.sortColumns),void 0!==r.sortDirections&&(r.sortdirections=r.sortDirections),void 0!==r.sortOrder&&(r.sortdirection=r.sortOrder),void 0!==r.formatData&&(r.formatdata=r.formatData),void 0!==r.processData&&(r.processdata=r.processData),void 0!==r.pageSize&&(r.pagesize=r.pageSize),void 0!==r.pageNum&&(r.pagenum=r.pageNum),void 0!==r.updateRow&&(r.updaterow=r.updateRow),void 0!==r.addRow&&(r.addrow=r.addRow),void 0!==r.deleteRow&&(r.deleterow=r.deleteRow),void 0!==r.contentType&&(r.contenttype=r.contentType),null!=r.totalRecords&&(r.totalrecords=r.totalRecords),null!=r.loadError&&(r.loadError=r.loadError),null!=r.sortComparer&&(r.sortcomparer=r.sortComparer)),this._source=r,this._options=e||{},null!=r.beforeLoadComplete&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete),null!=r.downloadComplete&&(this._options.downloadComplete=this._source.downloadComplete),null!=r.loadComplete&&(this._options.loadComplete=this._source.loadComplete),null!=r.autoBind&&(this._options.downloadComplete=this._source.autoBind),null!=r.formatData&&(this._options.formatData=this._source.formatData),null!=r.loadError&&(this._options.loadError=this._source.loadError),null!=r.beforeSend&&(this._options.beforeSend=this._source.beforeSend),null!=r.contentType&&(this._options.contentType=this._source.contentType),null!=r.async&&(this._options.async=this._source.async),null!=r.loadServerData&&(this._options.loadServerData=this._source.loadServerData),null!=r.uniqueDataFields&&(this._options.uniqueDataFields=this._source.uniqueDataFields),this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,null!=r&&null!=r.localdata&&"function"==typeof r.localdata&&null!=(e=r.localdata())&&(r._localdata=r.localdata,a=this,r._localdata.subscribe&&(a._oldlocaldata=[],r._localdata.subscribe(function(e){function t(e){return q.isArray(e)?q.makeArray(t(q(e))):q.extend(!0,{},e)}0!=a.suspendKO&&null!=a.suspendKO&&0!=a._oldlocaldata.length||(a._oldlocaldata=t(e))},r._localdata,"beforeChange"),r._localdata.subscribe(function(e){var t;0!=a.suspendKO&&null!=a.suspendKO||(t="",a._oldrecords=a.records,0==a._oldlocaldata.length&&(r.localdata=r._localdata()),0==a._oldlocaldata.length?t="change":e&&(a._oldlocaldata.length==e.length&&(t="update"),a._oldlocaldata.length>e.length&&(t="remove"),a._oldlocaldata.length<e.length&&(t="add")),a.dataBind(null,t))},r._localdata,"change"),a._knockoutdatasource=!0),r.localdata=e),1==this._options.autoBind&&this.dataBind()},q.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(e){this.isUpdating=!1,0!=e&&(this._changedrecords&&0<this._changedrecords.length?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(e,t,r){return q.jqx.dataFormat.formatdate(e,t,r)},formatNumber:function(e,t,r){return q.jqx.dataFormat.formatnumber(e,t,r)},dataBind:function(e,t){if(1!=this.isUpdating){var v=this._source;if(v){v.generatedfields&&(v.datafields=null,v.generatedfields=null),q.jqx.dataFormat.datescache=new Array,null!=v.dataFields&&(v.datafields=v.dataFields),null==v.recordstartindex&&(v.recordstartindex=0),null==v.recordendindex&&(v.recordendindex=0),null==v.loadallrecords&&(v.loadallrecords=!0),null==v.root&&(v.root=""),null==v.record&&(v.record=""),null!=v.sort&&(this.sort=v.sort),null!=v.filter?this.filter=v.filter:this.filter=null,null!=v.sortcolumn&&(this.sortcolumn=v.sortcolumn),null!=v.sortdirection&&(this.sortdirection=v.sortdirection),null!=v.sortcolumns&&(this.sortcolumns=v.sortcolumns),null!=v.sortdirections&&(this.sortdirections=v.sortdirections),null!=v.sortcomparer&&(this.sortcomparer=v.sortcomparer),this.records=new Array;var n=this._options||{};if(this.virtualmode=null!=n.virtualmode&&n.virtualmode,this.totalrecords=null!=n.totalrecords?n.totalrecords:0,this.pageable=null!=n.pageable&&n.pageable,this.pagesize=null!=n.pagesize?n.pagesize:0,this.pagenum=null!=n.pagenum?n.pagenum:0,this.cachedrecords=null!=n.cachedrecords?n.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=null!=n.updaterow?n.updaterow:null,this.addrow=null!=n.addrow?n.addrow:null,this.deleterow=null!=n.deleterow?n.deleterow:null,this.cache=null!=n.cache&&n.cache,this.unboundmode=!1,null!=v.formatdata&&(n.formatData=v.formatdata),null!=v.data&&(null==n.data&&(n.data={}),q.extend(n.data,v.data)),null!=v.mapChar&&(v.mapchar=v.mapChar),null!=v.mapchar?this.mapChar=v.mapchar||">":this.mapChar=n.mapChar||">",(n.unboundmode||v.unboundmode)&&(this.unboundmode=n.unboundmode||v.unboundmode),null!=v.cache&&(this.cache=v.cache),this.koSubscriptions)for(var r=0;r<this.koSubscriptions.length;r++)this.koSubscriptions[r].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var x=this,i=v.datatype,a=("csv"!==v.datatype&&"tab"!==v.datatype&&"tsv"!==v.datatype&&"text"!=v.datatype||(i="text"),null==n.async||n.async);switch(null!=v.async&&(a=v.async),"xlsx"===i&&v.url&&(v.localdata=[],i="array",window.jqxDataSource&&(m=new window.jqxDataSource({dataSource:v.url,async:!1,dataFields:v.datafields})).notify(function(){v.url=null,v.localdata=m.boundSource,v.datatype="array",x.dataBind()})),i){case"local":case"array":case"observablearray":case"observableArray":default:if(null==v.localdata&&v.length){v.localdata=new Array;for(var s=0;s<v.length;s++)v.localdata[v.localdata.length]=v[s],v[s].uid=s}v.beforeprocessing&&q.isFunction(v.beforeprocessing)&&v.beforeprocessing(v.localdata);var o=v.localdata.length;if(this.totalrecords=this.virtualmode&&v.totalrecords||o,this.unboundmode)if(this.totalrecords=this.unboundmode&&v.totalrecords||o,0<(b=v.datafields?v.datafields.length:0))for(s=0;s<this.totalrecords;s++){for(var l={},d=0;d<b;d++)l[v.datafields[d].name]="";l.uid=s,v.localdata[v.localdata.length]=l}null==this.totalrecords&&(this.totalrecords=0);function c(e,t){for(var r={},a=0;a<t;a++){var n=v.datafields?v.datafields[a]:{},i="";if(null!=n){if(n.map){if(q.isFunction(n.map))i=n.map(e);else{var s=n.map.split(x.mapChar);if(0<s.length){for(var o=e,l=0;l<s.length;l++)o=o&&o[s[l]];i=o}else i=e[n.map]}null!=i?i=i.toString():null==i&&null!=i&&(i="")}var d=!1;""==i&&(d=!0,null!=(i=e[n.name])&&(v._localdata&&i.subscribe?i=i():"array"!=n.type&&("date"===n.type?i&&Date:i=i.toString()))),"[object Object]"==i&&n.map&&d&&(i=""),i=x.getvaluebytype(i,n),null!=n.displayname?r[n.displayname]=i:r[n.name]=i}}return r}var u,f,b=v.datafields?v.datafields.length:0;if(v._localdata){this._changedrecords=[],this.records=new Array;var h=v._localdata();if(q.each(h,function(p,e){var g,y,m;"string"==typeof e?x.records.push(e):(g={},y=0,q.each(m=this,function(r,e){var t=null,a="string",n=r;if(0<b){for(var i=!1,s=!1,o=0;o<b;o++){var l=v.datafields[o];if(null!=l&&l.name==r){i=!0,t=l.map,a=l.type,n=l.name;break}if(null!=l&&l.map&&0<=l.map.indexOf(r)){var i=!0,t=l.map,a=l.type,n=l.name,s=!0,d=m[r];if(null!=t)if(0<(h=t.split(x.mapChar)).length){for(var c=m,u=0;u<h.length;u++)c=c[h[u]];d=c}else d=m[t];"string"!=a&&(d=x.getvaluebytype(d,{type:a})),g[n]=d,null!=g[n]&&(y+=g[n].toString().length+g[n].toString().substr(0,1))}}if(!i)return!0;if(s)return!0}if(q.isFunction(m[r])){var f,d=m[r]();"string"!=a&&(d=x.getvaluebytype(d,{type:a})),g[r]=d,m[r].subscribe&&(f=p,x.koSubscriptions[x.koSubscriptions.length]=m[r].subscribe(function(e){var t=f,e=(g[r]=e,{index:t,oldrecord:g,record:g});if(x._changedrecords.push(e),!x.isUpdating)return x.callBindingUpdate("update"),!(x._changedrecords=[])}))}else{var h,d=m[r];if(null!=t)if(0<(h=t.split(x.mapChar)).length){for(c=m,u=0;u<h.length;u++)c=c[h[u]];d=c}else d=m[t];"string"!=a&&(d=x.getvaluebytype(d,{type:a})),g[n]=d,null!=g[n]&&(y+=g[n].toString().length+g[n].toString().substr(0,1))}}),e=x.getid(v.id,m,p),g.uid=e,x.records.push(g),g._koindex=y,x._oldrecords&&(e=x.records.length-1,"update"==t&&x._oldrecords[e]._koindex!=y&&(e={index:e,oldrecord:x._oldrecords[e],record:g},x._changedrecords.push(e))))}),"add"==t)for(o=x.records.length,s=0;s<o;s++){for(var l=x.records[s],p=!1,g=0;g<x._oldrecords.length;g++)if(x._oldrecords[g]._koindex===l._koindex){p=!0;break}p||x._changedrecords.push({index:s,oldrecord:null,record:l,position:0!=s?"last":"first"})}else if("remove"==t)for(o=x._oldrecords.length,s=0;s<o;s++){var y=x._oldrecords[s];(!x.records[s]||x.records[s]._koindex!=y._koindex)&&x._changedrecords.push({index:s,oldrecord:y,record:null})}}else q.isArray(v.localdata)?0==b?(u=0,f=new Array,q.each(v.localdata,function(e,t){var r=new Object(this);if("string"==typeof t)return x.records=v.localdata,!1;t=x.getid(v.id,r,e);if(r.uid=t="object"==typeof t?e:t,0==e){for(var a in this){u++;var n=q.type(this[a]);f.push({name:a,type:n})}b=u,v.datafields=f,v.generatedfields=f}0<b?((e=c(r,b)).uid=t,x.records[x.records.length]=e):x.records[x.records.length]=r})):q.each(v.localdata,function(e){var t=this,r=c(t,b),a=x.getid(v.id,r,e);"object"==typeof a&&(a=e),(t=new Object(r)).uid=a,x.records[x.records.length]=t}):(this.records=new Array,u=0,f=new Array,q.each(v.localdata,function(e){var t,e=x.getid(v.id,this,e);if(0==b&&!("string"==typeof this||this instanceof String)){for(var r in this){u++;var a=q.type(this[r]);f.push({name:r,type:a})}b=u,v.datafields=f,v.generatedfields=f}0<b?((t=c(this,b)).uid=e,x.records[x.records.length]=t):(this.uid=e,x.records[x.records.length]=this)}));this.originaldata=v.localdata,this.cachedrecords=this.records,this.addForeignValues(v),n.uniqueDataFields&&(O=this.getUniqueRecords(this.records,n.uniqueDataFields),this.records=O,this.cachedrecords=O),n.beforeLoadComplete&&null!=(S=n.beforeLoadComplete(x.records,this.originaldata))&&(x.records=S,x.cachedrecords=S),n.autoSort&&n.autoSortField&&(h=Object.prototype.toString,Object.prototype.toString="function"==typeof field?field:function(){return this[n.autoSortField]},x.records.sort(function(e,t){if(void 0===t&&(t=null),null===(e=void 0===e?null:e)&&null===t)return 0;if(null===e&&null!==t)return 1;if(null!==e&&null===t)return-1;if(e=e.toString(),t=t.toString(),null===e&&null===t)return 0;if(null===e&&null!==t)return 1;if(null!==e&&null===t)return-1;if(q.jqx.dataFormat.isNumber(e)&&q.jqx.dataFormat.isNumber(t))return e<t?-1:t<e?1:0;if(q.jqx.dataFormat.isDate(e)&&q.jqx.dataFormat.isDate(t))return e<t?-1:t<e?1:0;q.jqx.dataFormat.isNumber(e)||q.jqx.dataFormat.isNumber(t)||(e=String(e).toLowerCase(),t=String(t).toLowerCase());try{if(e<t)return-1;if(t<e)return 1}catch(e){}return 0}),Object.prototype.toString=h),x.loadedData=v.localdata,x.buildHierarchy(),q.isFunction(n.loadComplete)&&n.loadComplete(v.localdata,x.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"ics":if(null!=v.localdata&&!v.url)return q.isFunction(v.beforeprocessing)&&v.beforeprocessing(v.localdata),"xml"===v.datatype?x.loadxml(v.localdata,v.localdata,v):"text"===i?x.loadtext(v.localdata,v):"ics"===i?x.loadics(v.localdata,v):x.loadjson(v.localdata,v.localdata,v),x.addForeignValues(v),n.uniqueDataFields&&(O=x.getUniqueRecords(x.records,n.uniqueDataFields),x.records=O,x.cachedrecords=O),n.beforeLoadComplete&&null!=(S=n.beforeLoadComplete(x.records,this.originaldata))&&(x.records=S,x.cachedrecords=S),x.loadedData=v.localdata,x.buildHierarchy.call(x),q.isFunction(n.loadComplete)&&n.loadComplete(v.localdata,x.records),void x.callBindingUpdate(t);var m,h=null!=n.data?n.data:{},S=(v.processdata&&v.processdata(h),q.isFunction(n.processData)&&n.processData(h),!q.isFunction(n.formatData)||null!=(O=n.formatData(h))&&(h=O),"application/x-www-form-urlencoded"),O=(n.contentType&&(S=n.contentType),"GET"),w=(v.type&&(O=v.type),n.type&&(O=n.type),i);"ics"==i&&(w="text"),v.url&&0<v.url.length?q.isFunction(n.loadServerData)?x._requestData(h,v,n):this.xhr=q.jqx.data.ajax({dataType:w,cache:this.cache,type:O,url:v.url,async:a,timeout:v.timeout,contentType:S,data:h,success:function(e,t,r){if(q.isFunction(v.beforeprocessing)&&null!=(a=v.beforeprocessing(e,t,r))&&(e=a),null==(e=q.isFunction(n.downloadComplete)&&null!=(a=n.downloadComplete(e,t,r))?a:e))return x.records=new Array,x.cachedrecords=new Array,x.originaldata=new Array,x.callDownloadComplete(),void(q.isFunction(n.loadComplete)&&n.loadComplete(new Array));var a=e;e.records&&(a=e.records),null!=e.totalrecords?v.totalrecords=e.totalrecords:null!=e.totalRecords&&(v.totalrecords=e.totalRecords),"xml"===v.datatype?x.loadxml(null,a,v):"text"===i?x.loadtext(a,v):"ics"===i?x.loadics(a,v):x.loadjson(null,a,v),x.addForeignValues(v),n.uniqueDataFields&&(a=x.getUniqueRecords(x.records,n.uniqueDataFields),x.records=a,x.cachedrecords=a),n.beforeLoadComplete&&null!=(a=n.beforeLoadComplete(x.records,e))&&(x.records=a,x.cachedrecords=a),x.loadedData=e,x.buildHierarchy.call(x),x.callDownloadComplete(),q.isFunction(n.loadComplete)&&n.loadComplete(e,t,r,x.records)},error:function(e,t,r){q.isFunction(v.loaderror)&&v.loaderror(e,t,r),q.isFunction(n.loadError)&&n.loadError(e,t,r),e=null,x.callDownloadComplete()},beforeSend:function(e,t){q.isFunction(n.beforeSend)&&n.beforeSend(e,t),q.isFunction(v.beforesend)&&v.beforesend(e,t)}}):(x.buildHierarchy(new Array),x.callDownloadComplete(),q.isFunction(n.loadComplete)&&(m=m||{},n.loadComplete(m)))}this.callBindingUpdate(t)}}},buildHierarchy:function(e){var i=this._source,t=new Array;if(i.datafields&&(i.hierarchy&&!i.hierarchy.reservedNames?i.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}:i.hierarchy&&((o=i.hierarchy.reservedNames).leaf||(o.leaf="leaf"),o.parent||(o.parent="parent"),o.expanded||(o.expanded="expanded"),o.checked||(o.checked="checked"),o.selected||(o.selected="selected"),o.level||(o.level="level"),o.data||(o.data="data")),i.hierarchy)){var s=this,o=i.hierarchy.reservedNames;if(i.hierarchy.root){if("xml"==i.dataType)return t=this.getRecordsHierarchy("uid","parentuid","records",null,e),this.hierarchy=t;this.hierarchy=this.records;for(var l=i.hierarchy.root,r=0;r<this.records.length;r++){var d,a,c,n=this.records[r];n&&((d=function(e){if(i.hierarchy.record)e.records=e[l][i.hierarchy.record];else{var t=l.split(s.mapChar),r=null;if(1<t.length){for(var a=e,n=0;n<t.length;n++)null!=a&&(a=a[t[n]]);r=a}else r=e[l];e.records=r}(null==e.records||e.records&&0==e.records.length)&&(e[o.leaf]=!0)})(n),n[o.level]=0,a=this.getid(i.id,n,r),n.uid=a,n[o.parent]=null,void 0===(n[o.data]=n)[o.expanded]&&(n[o.expanded]=!1),(c=function(e,t){if(t)for(var r=0;r<t.length;r++){var a,n=t[r];n&&(d(n),n[o.level]=e[o.level]+1,n[o.parent]=e,n[o.data]=n,(a=s.getid(i.id,n,r))==r&&null==i.id?n.uid=e.uid+"_"+a:n.uid=a,void 0===n[o.expanded]&&(n[o.expanded]=!1),c(n,n.records))}else e.records=new Array})(n,n.records))}return this.hierarchy}if(i.hierarchy.keyDataField&&i.hierarchy.parentDataField)return t=this.getRecordsHierarchy(i.hierarchy.keyDataField.name,i.hierarchy.parentDataField.name,"records",null,e),this.hierarchy=t;if(i.hierarchy.groupingDataFields){for(var u=new Array,r=0;r<i.hierarchy.groupingDataFields.length;r++)u.push(i.hierarchy.groupingDataFields[r].name);t=this.getGroupedRecords(u,"records","label",null,"data",null,"parent",e);return this.hierarchy=t}}},addRecord:function(n,i,s,e){function o(){return{leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}}var l,d=this;if(null!=n){if(null==s)return this.hierarchy&&0<=this.hierarchy.length&&(this._source.hierarchy||e)?(null==(e=d._source&&d._source.hierarchy?d._source.hierarchy.reservedNames:null)&&(e=o()),n[e.level]=0,"last"==i?this.hierarchy.push(n):"number"==typeof i&&isFinite(i)?this.hierarchy.splice(i,0,n):this.hierarchy.splice(0,0,n)):"last"==i?this.records.push(n):"number"==typeof i&&isFinite(i)?this.records.splice(i,0,n):this.records.splice(0,0,n),!0;0<this.hierarchy.length&&(l=function(e){if(e)for(var t=0;t<e.length;t++){var r,a=e[t];if(a.uid==s)return null==(r=d._source&&d._source.hierarchy?d._source.hierarchy.reservedNames:null)&&(r=o()),n[r.parent]=a,n[r.level]=a[r.level]+1,a.records||(a.records=new Array),a[r.leaf]=!1,"last"==i?a.records.push(n):"number"==typeof i&&isFinite(i)?a.records.splice(i,0,n):a.records.splice(0,0,n),!0;a.records&&l(a.records)}})(this.hierarchy)}return!1},deleteRecord:function(i){var s=this;if(0<this.hierarchy.length){function o(e){if(e)for(var t=0;t<e.length;t++){if((r=e[t]).uid==i){e.splice(t,1),s.recordids[i]&&delete s.recordids[i];function n(e){for(var t=0;t<e.length;t++){for(var r=e[t].uid,a=0;a<s.records.length;a++)if(s.records[a].uid==r){s.records.splice(a,1);break}e[t].records&&n(e[t].records)}}r.records&&n(r.records);for(var r,a=0;a<s.records.length;a++)if((r=s.records[a]).uid==i){s.records.splice(a,1);break}return!0}r.records&&o(r.records)}}o(this.hierarchy)}else for(var e=0;e<this.records.length;e++)if(this.records[e].uid==i)return this.records.splice(e,1),!0;return!1},addForeignValues:function(e){for(var t=this,r=e.datafields?e.datafields.length:0,a=0;a<r;a++){var n=e.datafields[a];if(null!=n)if(null!=n.values){null==n.value&&(n.value=n.name),null==n.values.value&&(n.values.value=n.value);var i,s,o=new Array;t.pageable&&t.virtualmode?(s=(i=t.pagenum*t.pagesize)+t.pagesize)>t.totalrecords&&(s=t.totalrecords):t.virtualmode?(i=e.recordstartindex,(s=e.recordendindex)>t.totalrecords&&(s=t.totalrecords)):(i=0,s=t.records.length);for(var l=i;l<s;l++){var d=t.records[l],c=n.name,u=d[n.value];if(null!=o[u])d[c]=o[u];else for(var f=0;f<n.values.source.length;f++){var h=n.values.source[f],p=h[n.values.value];if((p=null==p?h.uid:p)==u){p=h[n.values.name];d[c]=p,o[u]=p;break}}}}else if(null!=n.value)for(l=0;l<t.records.length;l++)(d=t.records[l])[n.name]=d[n.value]}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),this.callDownloadComplete())},_requestData:function(e,n,i){var s=this;i.loadServerData(e,n,function(e){var t;e.totalrecords&&(n.totalrecords=e.totalrecords,s.totalrecords=e.totalrecords),e.records&&(s.records=e.records,s.cachedrecords=e.records),s.addForeignValues(n),i.uniqueDataFields&&(t=s.getUniqueRecords(s.records,i.uniqueDataFields),s.records=t,s.cachedrecords=t),i.beforeLoadComplete&&null!=(t=i.beforeLoadComplete(s.records,e))&&(s.records=t,s.cachedrecords=t);for(var r=0;r<s.records.length;r++){var a=s.records[r];null!=a&&null==a.uid&&(a.uid=s.getid(n.id,a,r))}s.buildHierarchy.call(s),q.isFunction(i.loadComplete)&&i.loadComplete(e),s.callDownloadComplete()})},getUniqueRecords:function(e,t){if(e&&t)for(var r=e.length,a=t.length,n=new Array,i=new Array,s=0;s<r;s++){var o=e[s],l="";if(null!=o){for(var d=0;d<a;d++){var c=t[d];void 0!==o[c]&&(l+=o[c]+"_")}!i[l]&&l&&(n[n.length]=o),i[l]=!0}}return n},getAggregatedData:function(e,n,t,a){var o=(o=t)||this.records,l={},r=new Array,d=o.length;if(0!=d&&null!=d){for(var i=0;i<d;i++)for(var s=o[i],c=0;c<e.length;c++){var u,f,h=e[c],p=s[h.name];h.aggregates&&(l[h.name]=l[h.name]||{},r[h.name]=r[h.name]||0,r[h.name]++,u=function(e){for(var t in e){var r=l[h.name][t];null==r&&(r=l[h.name][t]=0),q.isFunction(e[t])&&(r=e[t](r,p,h.name,s,a)),l[h.name][t]=r}},f=parseFloat(p),f=!isNaN(f),"number"==typeof(p=f?parseFloat(p):p)&&isFinite(p)?q.each(h.aggregates,function(){var e=l[h.name][this];if(null==e&&(e="max"==this?-9999999999999:"min"==this?9999999999999:0),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)e+=parseFloat(p);else if("product"==this)0==i?e=parseFloat(p):e*=parseFloat(p);else if("min"==this)e=Math.min(e,parseFloat(p));else if("max"==this)e=Math.max(e,parseFloat(p));else if("count"==this)e++;else if("object"==typeof this)return void u(this);l[h.name][this]=e}):q.each(h.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){if(null===p)return!0;var e=l[h.name][this];return l[h.name][this]=e=null==e?0:e,!0}"object"==typeof this&&u(this)}))}for(c=0;c<e.length;c++){var g,h=e[c];l[h.name]||(l[h.name]={},q.each(h.aggregates,function(e){l[h.name][this]=0})),null!=l[h.name].avg?(p=l[h.name].avg,g=r[h.name],l[h.name].avg=0===g||null==g?0:p/g):null!=l[h.name].count&&(l[h.name].count=d),(l[h.name].stdev||l[h.name].stdevp||l[h.name].var||l[h.name].varp)&&q.each(h.aggregates,function(e){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var t=l[h.name][this],r=d,a=t/d,n=0,i=0;i<d;i++){var s=o[i][h.name];n+=(s-a)*(s-a)}t="stdevp"==this||"varp"==this?r:r-1;0==t&&(t=1),"var"==this||"varp"==this?l[h.name][this]=n/t:"stdevp"!=this&&"stdev"!=this||(l[h.name][this]=Math.sqrt(n/t))}}),h.formatStrings&&q.each(h.aggregates,function(e){var t=h.formatStrings[e];if(t)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var r=l[h.name][this];l[h.name][this]=q.jqx.dataFormat.formatnumber(r,t,n)}else if("object"==typeof this)for(var a in this){r=l[h.name][a];l[h.name][a]=q.jqx.dataFormat.formatnumber(r,t,n)}})}return l}},bindDownloadComplete:function(e,t){this._downloadComplete[this._downloadComplete.length]={id:e,func:t}},unbindDownloadComplete:function(e){for(var t=0;t<this._downloadComplete.length;t++)if(this._downloadComplete[t].id==e){this._downloadComplete[t].func=null,this._downloadComplete.splice(t,1);break}},callDownloadComplete:function(){for(var e=0;e<this._downloadComplete.length;e++){var t=this._downloadComplete[e];null!=t.func&&t.func()}},setSource:function(e){this._source=e},generatekey:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getGroupedRecords:function(e,t,r,a,n,i,s,o,l){l=l||0;for(var d=new Array,c=0;c<e.length;c++)d[c]=this.generatekey();t=t||"items",r=r||"group",n=n||"record",s=s||"parentItem",void 0===i&&(i="value");for(var u=new Array,f=0,h=new Array,p=e.length,g=(new Array,(o=o||this.records).length),y=0;y<g;y++){for(var m=function(e){var t=e;return a&&q.each(a,function(){this.name&&this.map&&(t[this.map]=t[this.name])}),t}(o[y]),v=(m[this.uniqueId],new Array),x=0,c=0;c<p;c++){var b=m[e[c]];null!=b&&(v[x++]={value:b,hash:d[c]})}if(v.length!=p)break;for(var S=null,O="",w=0;w<v.length;w++){0;var A,_=v[w].value;null!=h[O=O+"_"+v[w].hash+"_"+_]&&null!=h[O]?S=h[O]:(null==S?((S={level:0})[s]=null,S[r]=_,void 0!==(S[n]=m).expanded?S.expanded=m.expanded:S.expanded=!1,i&&(S[i]=m[i]),S[t]=new Array,A=u.length+l,this._source.id&&"number"!=typeof m.uid&&!isFinite(m.uid)||(A="Row"+A),S.uid=A,u[f++]=S):((A={level:S.level+1})[s]=S,A[r]=_,A[t]=new Array,void 0!==(A[n]=m).expanded?A.expanded=m.expanded:A.expanded=!1,i&&(A[i]=m[i]),A.uid=S.uid+"_"+S[t].length,S[t][S[t].length]=A,S=A),h[O]=S)}m&&(m.leaf=!0),null!=S?(null==this._source.id&&(null==m.uid?m.uid=S.uid+"_"+S[t].length:-1==m.uid.toString().indexOf(S.uid)&&(m.uid=S.uid+"_"+m.uid)),m[s]=S,m.level=S.level+1,S[t][S[t].length]=m):null==m.uid&&(m.uid=this.generatekey())}return u},getRecordsHierarchy:function(e,t,r,a,n){var i=new Array,s=this.records;if(0==this.records.length)return null;function o(e){var t=e;return a&&q.each(a,function(){this.name&&this.map&&(t[this.map]=t[this.name])}),t}for(var l=null!=r?r:"items",d=[],c=s=n?n:s,u=c.length,f=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,h=0;h<u;h++){var p=(y=q.extend({},c[h]))[t];d[S=y[e]]={parentid:p,item:y}}for(var g,h=0;h<u;h++){var y,m,v,x,b,p=(y=q.extend({},c[h]))[t],S=y[e];null!=d[p]?(y={parentid:p,item:d[S].item},(m=d[p].item)[l]||(m[l]=[]),v=m[l].length,x=y.item,f?null==x[f.parent]&&(x[f.parent]=m):null==x.parent&&(x.parent=m),b=o(x),m[l][v]=b,d[p].item=m,d[S]=y):(x=d[S].item,f?null==x[f.parent]&&(x[f.parent]=null):null==x.parent&&(x.parent=null),b=o(x),f?b[f.level]=0:b.level=0,i[i.length]=b)}return 0!=i.length&&(g=function(e,t){for(var r=0;r<t.length;r++){f?t[r][f.level]=e:t[r].level=e;var a=t[r][l];a&&0<a.length?g(e+1,a):f?t[r][f.leaf]=!0:t[r].leaf=!0}})(0,i),i},bindBindingUpdate:function(e,t){this._bindingUpdate[this._bindingUpdate.length]={id:e,func:t}},unbindBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++)if(this._bindingUpdate[t].id==e){this._bindingUpdate[t].func=null,this._bindingUpdate.splice(t,1);break}},callBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++){var r=this._bindingUpdate[t];null!=r.func&&r.func(e)}},getid:function(e,t,r){if(null==e||null==e.name||!e.name){if(0<q(e,t).length)return q(e,t).text();if(e&&0<e.toString().length){if(null!=(s=q(t).attr(e))&&0<s.toString().length)return q.trim(s).split(" ").join("").replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/\\@])/g,"");var a=e.split(this.mapChar);if(1<a.length){for(var n=t,i=0;i<a.length;i++)null!=n&&(n=n[a[i]]);if(null!=n)return n}else if(null!=t[e])return t[e]}return r}var s;if(null!=(s=q(t).attr(e.name))&&0<s.toString().length)return s;if(e.map)try{if(null!=(s=q(t).attr(e.map))&&0<s.toString().length)return s;if(0<q(e.map,t).length)return q(e.map,t).text();if(0<q(e.name,t).length)return q(e.name,t).text()}catch(e){return r}},loadjson:function(t,e,c){"string"==typeof t&&(t=q.parseJSON(t)),null==c.root&&(c.root=""),null==c.record&&(c.record="");t=(t=t||e)||[];var u=this;if(""!=c.root){if(1<(b=c.root.split(u.mapChar)).length){for(var r=t,a=0;a<b.length;a++)null!=r&&(r=r[b[a]]);t=r}else if(void 0!==t[c.root]?t=t[c.root]:t[0]&&void 0!==t[0][c.root]?t=t[0][c.root]:q.each(t,function(e){if(this==c.root)return t=this,!1;null!=this[c.root]&&(t=this[c.root])}),!t)if(0<(b=c.root.split(u.mapChar)).length){for(r=t,a=0;a<b.length;a++)null!=r&&(r=r[b[a]]);t=r}}else if(!t.length)for(var n in t)if(q.isArray(t[n])){t=t[n];break}if(null==(t=null!=t&&null==t.length?q.makeArray(t):t)||"undefined"==t||null==t.length)throw new Error("jqxDataAdapter: JSON Parse error! Invalid JSON. Please, check your JSON or your jqxDataAdapter initialization!");if(0==t.length)this.totalrecords=0;else{var i=t.length,s=(this.totalrecords=this.virtualmode&&c.totalrecords||i,this.records=new Array,this.originaldata=new Array,this.records),o=this.pageable?this.pagesize*this.pagenum:c.recordstartindex,l=(this.recordids=new Array,c.loadallrecords&&(o=0,i=this.totalrecords),0),f=(this.virtualmode&&(l=o=this.pageable?this.pagesize*this.pagenum:c.recordstartindex,o=0,i=this.totalrecords),c.datafields?c.datafields.length:0);if(0==f){var e=t[0],d=new Array;for(n in e){var h=n;d[d.length]={name:h}}c.datafields=d,c.generatedfields=c.datafields,f=d.length}for(var p=o,g=o;g<i;g++){var y=t[g];if(null==y)break;if(!c.record||""==c.record||null!=(y=y[c.record])){var m=this.getid(c.id,y,g);if("object"==typeof m&&(m=g),!this.recordids[m]){this.recordids[m]=y;for(var v={},x=0;x<f;x++){var b,S,O,w=c.datafields[x],A="";if(null!=w){if(w.map){if(q.isFunction(w.map))A=w.map(y);else if(0<(b=w.map.split(u.mapChar)).length){for(var _=y,a=0;a<b.length;a++)null!=_&&(_=_[b[a]]);A=_}else A=y[w.map];null!=A?A=this.getvaluebytype(A,w):null==A&&null!=A&&(A="")}""!=A||w.map||(null==(A=y[w.name])&&null!=A&&(A=""),null!=w.value&&null!=A&&null!=(S=A[w.value])&&(A=S)),A=this.getvaluebytype(A,w),null!=w.displayname?v[w.displayname]=A:v[w.name]=A,"array"===w.type&&(O=function(e){if(e)for(var t=0;t<e.length;t++){var r=e[t];if(r)for(var a=0;a<f;a++){var n,i=c.datafields[a],s="";if(null!=i){if(i.map){if(q.isFunction(i.map))s=i.map(r);else{var o=i.map.split(u.mapChar);if(0<o.length){for(var l=r,d=0;d<o.length;d++)null!=l&&(l=l[o[d]]);s=l}else s=r[i.map]}null!=s?s=this.getvaluebytype(s,i):null==s&&null!=s&&(s="")}""!=s||i.map||(null==(s=r[i.name])&&null!=s&&(s=""),null!=i.value&&null!=s&&null!=(n=s[i.value])&&(s=n)),s=this.getvaluebytype(s,i),null!=i.displayname?r[i.displayname]=s:r[i.name]=s,"array"===i.type&&O.call(this,s)}}}}).call(this,A)}}(c.recordendindex<=0||o<c.recordendindex)&&(s[l+p]=new Object(v),s[l+p].uid=m,this.originaldata[l+p]=new Object(s[g]),p++)}}}this.records=s,this.cachedrecords=this.records}},loadxml:function(e,t,r){"string"==typeof e&&(e=t=q(q.parseXML(e)),e=null),null==r.root&&(r.root=""),null==r.record&&(r.record="");var a=(e=(e=q.jqx.browser.msie&&t&&null!=t.xml?q(r.root+" "+r.record,q.parseXML(t.xml)):e||q(r.root+" "+r.record,t))||[]).length;if(0!=e.length){this.totalrecords=this.virtualmode&&r.totalrecords||a,this.records=new Array,this.originaldata=new Array;var n=this.records,i=this.pageable?this.pagesize*this.pagenum:r.recordstartindex,s=(this.recordids=new Array,r.loadallrecords&&(i=0,a=this.totalrecords),0),o=(this.virtualmode&&(s=i=this.pageable?this.pagesize*this.pagenum:r.recordstartindex,i=0,a=this.totalrecords),r.datafields?r.datafields.length:0);if(0==o){var l,t=e[0],d=new Array;for(l in t){var c=l;d[d.length]={name:c}}r.datafields=d,r.generatedfields=r.datafields,o=d.length}for(var u=i,f=i;f<a;f++){if(null==(A=e[f]))break;var h=this.getid(r.id,A,f);if(!this.recordids[h]){this.recordids[h]=A;var p={},g=!1;r.hierarchy&&r.hierarchy.root&&(g=!0);for(var y=0;y<o;y++){var m=r.datafields[y],v="";if(null!=m){if(m.map)if(q.isFunction(m.map))v=m.map(A);else{var x=m.map.indexOf("[");if(x<0)if(1==(v=q(m.map,A)).length)v=v.text();else{for(var b=new Array,S=0;S<v.length;S++)b.push(q(v[S]).text());v=b,g&&0<b.length&&(v=b[0])}else{var O=m.map.substring(0,x-1),w=m.map.indexOf("]"),x=m.map.substring(x+1,w);null==(v=null==(v=q(O,A).attr(x))?q(A).attr(x):v)&&(v="")}""==v&&null==(v=q(A).attr(m.map))&&(v="")}if(""==v){if(1==(v=q(m.name,A)).length)v=v.text();else{for(b=new Array,S=0;S<v.length;S++)b.push(q(v[S]).text());v=b,g&&0<b.length&&(v=b[0])}""==(v=""==v&&null==(v=q(A).attr(m.name))?"":v)&&A.nodeName&&A.nodeName==m.name&&A.firstChild&&(v=q(A.firstChild).text())}v=this.getvaluebytype(v,m),null!=m.displayname?p[m.displayname]=v:p[m.name]=v}}(r.recordendindex<=0||i<r.recordendindex)&&(n[s+u]=q.extend({},p),n[s+u].uid=h,this.originaldata[s+u]=q.extend({},n[f]),u++)}}if(r.hierarchy&&r.hierarchy.root)for(f=i;f<a;f++){var A=e[f],_=n[f];0<q(A).parent().length?(h=this.getid(r.id,q(A).parents(r.hierarchy.record+":first")),_.parentuid=h):_.parentuid=null}this.records=n,this.cachedrecords=this.records}},loadics:function(e,t){if(null!=e){function r(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/.exec(e);if(t)return new Date(Date.UTC(t[1],t[2]-1,t[3],t[5]||0,t[6]||0,t[7]||0));throw new Error("Invalid UNTIL value: "+e)}for(var t=t.rowDelimiter||this.rowDelimiter||"\n",a=e.split(t),n=a.length,t=e.split("\r"),i=(1==n&&1<t.length&&(n=(a=t).length),this.records=new Array,this.originaldata=new Array,this.records),s=(this.recordids=new Array,0);s<n;s++){var o,l,d=a[s];"BEGIN:VEVENT"==d?o={}:0<=d.indexOf("SUMMARY")?o.SUMMARY=d.substring(d.indexOf("SUMMARY")+8):0<=d.indexOf("LOCATION")?o.LOCATION=d.substring(d.indexOf("LOCATION")+9):0<=d.indexOf("DESCRIPTION")?o.DESCRIPTION=d.substring(d.indexOf("DESCRIPTION")+12):0<=d.indexOf("RRULE")?o.RRULE=d.substring(d.indexOf("RRULE")+6):0<=d.indexOf("EXDATE")?(l=d.substring(d.indexOf("EXDATE")+7),o.EXDATE=l):0<=d.indexOf("DTEND")?o.DTEND=r(d.substring(d.indexOf("DTEND")+6)):0<=d.indexOf("DTSTART")?o.DTSTART=r(d.substring(d.indexOf("DTSTART")+8)):0<=d.indexOf("UID")?o.uid=o.UID=d.substring(d.indexOf("UID")+4):0<=d.indexOf("STATUS")?o.STATUS=d.substring(d.indexOf("STATUS")+7):"END:VEVENT"==d&&i.push(o)}this.records=i,this.cachedrecords=this.records}},loadtext:function(e,t){if(null!=e){for(var r=t.rowDelimiter||this.rowDelimiter||"\n",a=e.split(r),n=a.length,r=e.split("\r"),i=(1==n&&1<r.length&&(n=(a=r).length),this.totalrecords=this.virtualmode&&t.totalrecords||n,this.records=new Array,this.originaldata=new Array,this.records),e=this.pageable?this.pagesize*this.pagenum:t.recordstartindex,s=(this.recordids=new Array,t.loadallrecords&&(e=0,n=this.totalrecords),0),o=(this.virtualmode&&(s=e=this.pageable?this.pagesize*this.pagenum:t.recordstartindex,e=0,n=this.totalrecords),t.datafields.length),l=(l=t.columnDelimiter||this.columnDelimiter)||("tab"===t.datatype||"tsv"===t.datatype?"\t":","),d=e;d<n;d++){var c=a[d],u=null;if(!this.recordids[u]){null==t.id&&(u=d,this.recordids[u]=c);for(var f,h,p={},g=a[d].split(l),y=0;y<o;y++)y>=g.length||(f=t.datafields[y],h=g[y],f.map&&q.isFunction(f.map)&&(h=f.map(c)),f.type&&(h=this.getvaluebytype(h,f)),p[f.map||f.name||y.toString()]=h,null!=t.id&&t.id===f.name&&(u=h,this.recordids[u]=c));null==u&&(u=d),i[s+d]=q.extend({},p),i[s+d].uid=u,this.originaldata[s+d]=q.extend({},i[d])}}this.records=i,this.cachedrecords=this.records}},getvaluebytype:function(e,t){var r=e;if(null==e)return e;if(q.isArray(e)&&"array"!=t.type){for(var a=0;a<e.length;a++)e[a]=this.getvaluebytype(e[a],t);return e}if("date"==t.type)if("NaN"==e)e="";else{if(e&&e instanceof Date)return e;var n,i=new Date(e);null==(e=("NaN"==(i="string"==typeof e&&t.format&&null!=(n=q.jqx.dataFormat.parsedate(e,t.format))?n:i).toString()||"Invalid Date"==i.toString())&&q.jqx.dataFormat?q.jqx.dataFormat.tryparsedate(e):i)&&(e=r)}else"float"==t.type||"number"==t.type||"decimal"==t.type?"NaN"==e?e="":(e=parseFloat(e),isNaN(e)&&(e=r)):"int"==t.type||"integer"==t.type?(e=parseInt(e),isNaN(e)&&(e=r)):"bool"!=t.type&&"boolean"!=t.type||(null!=e&&null!=e.toLowerCase&&("false"==e.toLowerCase()?e=!1:"true"==e.toLowerCase()&&(e=!0)),e=1==e||(0!=e||""===e)&&"");return e}},q.jqx.dataFormat={},q.extend(q.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(e){return"boolean"==typeof e},isObject:function(e){return e&&("object"==typeof e||q.isFunction(e))||!1},isDate:function(e){return e instanceof Date},arrayIndexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,a=e.length;r<a;r++)if(e[r]===t)return r;return-1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNull:function(e){return null===e},isUndefined:function(e){return void 0===e},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(e){return!(!this.isString(e)&&this.isValue(e))&&(!this.isValue(e)||""===(e=q.trim(e).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"")))},startsWith:function(e,t){return 0===e.indexOf(t)},endsWith:function(e,t){return e.substr(e.length-t.length)===t},trim:function(e){return(e+"").replace(this.regexTrim,"")},isArray:function(e){return"[object Array]"===this.toString.call(e)},defaultcalendar:function(){return{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","}},expandFormat:function(e,t){var e=e.patterns,r=(t=t||"F").length;if(1===r){if(!(e=e[t]))throw"Invalid date format string '"+t+"'.";t=e}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},getEra:function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var r,a=e.getTime(),n=0,i=t.length;n<i;n++)if(null===(r=t[n].start)||r<=a)return n;return 0},toUpper:function(e){return e?e.toUpperCase():""},toUpperArray:function(e){for(var t=[],r=0,a=e.length;r<a;r++)t[r]=this.toUpper(e[r]);return t},getEraYear:function(e,t,r,a){e=e.getFullYear();return!a&&t.eras&&(e-=t.eras[r].offset),e},getDayIndex:function(e,t,r){var a,n=e.days,i=e._upperDays;return i||(e._upperDays=i=[this.toUpperArray(n.names),this.toUpperArray(n.namesAbbr),this.toUpperArray(n.namesShort)]),t=t.toUpperCase(),r?-1===(a=this.arrayIndexOf(i[1],t))&&(a=this.arrayIndexOf(i[2],t)):a=this.arrayIndexOf(i[0],t),a},getMonthIndex:function(e,t,r){var a=e.months,n=e.monthsGenitive||e.months,i=e._upperMonths,s=e._upperMonthsGen,a=(i||(e._upperMonths=i=[this.toUpperArray(a.names),this.toUpperArray(a.namesAbbr)],e._upperMonthsGen=s=[this.toUpperArray(n.names),this.toUpperArray(n.namesAbbr)]),t=this.toUpper(t),this.arrayIndexOf(r?i[1]:i[0],t));return a=a<0?this.arrayIndexOf(r?s[1]:s[0],t):a},appendPreOrPostMatch:function(e,t){for(var r=0,a=!1,n=0,i=e.length;n<i;n++){var s=e.charAt(n);switch(s){case"'":a?t.push("'"):r++,a=!1;break;case"\\":a&&t.push("\\"),a=!a;break;default:t.push(s),a=!1}}return r},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(e,t){var r="";return""!=(r=t&&t.target?"target="+t.target:r)?"<a "+r+' href="'+e+'">'+e+"</a>":'<a href="'+e+'">'+e+"</a>"},formatemail:function(e){return'<a href="mailto:'+e+'">'+e+"</a>"},formatNumber:function(e,t,r){return this.formatnumber(e,t,r)},formatnumber:function(e,t,r){if(null!=r&&""!=r||(r=this.defaultcalendar()),""===t||null===t)return e;this.isNumber(e)||(e*=1),1<t.length&&(a=parseInt(t.slice(1),10));var a,n={},i=t.charAt(0).toUpperCase();switch(n.thousandsSeparator=r.thousandsseparator,n.decimalSeparator=r.decimalseparator,i){case"D":case"d":case"F":case"f":n.decimalPlaces=a;break;case"N":case"n":n.decimalPlaces=0;break;case"C":case"c":n.decimalPlaces=a,"before"==r.currencysymbolposition?n.prefix=r.currencysymbol:n.suffix=r.currencysymbol;break;case"P":case"p":n.suffix=r.percentsymbol,n.decimalPlaces=a;break;default:throw"Bad number format specifier: "+i}if(this.isNumber(e)){var s=e<0,o=e+"",t=n.decimalSeparator||".";if(this.isNumber(n.decimalPlaces)){var l=n.decimalPlaces,d=Math.pow(10,l),c=(o=(e*d).toFixed(0)/d+"").lastIndexOf(".");if(0<l)for(c<0?c=(o+=t).length-1:"."!==t&&(o=o.replace(".",t));o.length-1-c<l;)o+="0"}else 0<(c=(o=e+"").lastIndexOf("."))&&null==l&&"."!==t&&(o=o.replace(".",t));if(n.thousandsSeparator){for(var u=n.thousandsSeparator,f=(c=-1<(c=o.lastIndexOf(t))?c:o.length,o.substring(c)),h=-1,p=c;0<p;p--)++h%3==0&&p!==c&&(!s||1<p)&&(f=u+f),f=o.charAt(p-1)+f;o=f}return o=n.prefix?n.prefix+o:o,o=n.suffix?o+n.suffix:o}return e},tryparsedate:function(e,t){null==t&&(t=this.defaultcalendar());if(""==e)return null;if(null!=(e=null==e||e.substring?e:e.toString())&&"/Date("==e.substring(0,6)){var r=new Date(+e.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==r&&(r=null,(F=e.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/))&&(r=new Date(+F[1]+36e5*F[2]+6e4*F[3]))),null==r||"Invalid Date"==r||isNaN(r)){var a=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/.exec(e);if(a){var n=new Date(parseInt(a[1]));if(a[2]&&(s=parseInt(a[3]),"-"===a[2]&&(s=-s),a=n.getUTCMinutes(),n.setUTCMinutes(a-s)),!isNaN(n.valueOf()))return n}}return r}var i,s,o=t.patterns;for(i in o)if(r=this.parsedate(e,o[i],t)){if("ISO"==i)if(l=this.parsedate(e,o.ISO2,t))return l;return r}if(null!=e){for(var l=null,d=[":","/","-"],c=!0,u=0;u<d.length;u++)-1!=e.indexOf(d[u])&&(c=!1);if(c){var a=new Number(e);if(!isNaN(a))return new Date(a)}}if("string"===q.type(e)){var f,h,p,g,y,m=this,v=(e=m.trim(e),[":","/","-"," ",","]),x=(s=", ",a=",",""),b=e=e.replace(new RegExp(s,"g"),a),S=(0<=e.indexOf(":")?(x=e.substring(e.indexOf(":")-2),x=m.trim(x),b=e.substring(0,e.indexOf(":")-2)):0<=e.toUpperCase().indexOf("AM")?(x=e.substring(e.toUpperCase().indexOf("AM")-2),x=m.trim(x),b=e.substring(0,e.toUpperCase().indexOf("AM")-2)):0<=e.toUpperCase().indexOf("PM")&&(x=e.substring(e.toUpperCase().indexOf("PM")-2),x=m.trim(x),b=e.substring(0,e.toUpperCase().indexOf("PM")-2)),new Date),O=!1;if(b){for(var w=0;w<v.length;w++)if(0<=b.indexOf(v[w])){d=b.split(v[w]);break}for(var A=new Array,_=new Array,T=new Array,N=null,j=null,w=0;w<d.length;w++){var u=d[w],E=m.parsedate(u,"d",t)||m.parsedate(u,"dd",t)||m.parsedate(u,"ddd",t)||m.parsedate(u,"dddd",t);if(E&&u.length<=2){N=w,A.push(E.getDate());break}}for(w=0;w<d.length;w++){var u=d[w],M=m.parsedate(u,"M",t)||m.parsedate(u,"MM",t)||m.parsedate(u,"MMM",t)||m.parsedate(u,"MMMM",t);if(M&&(null==N||N!=w)&&(_.push(M.getMonth()),2<u.length)){j=w;break}}for(w=0;w<d.length;w++){var u=d[w],C=m.parsedate(u,"yyyy",t);!C||null!=N&&N==w||null!=j&&j==w||T.push(C.getFullYear())}for(var D=new Array,I=0;I<A.length;I++)for(var F=0;F<_.length;F++)for(var U=0;U<T.length;U++){n=new Date(T[U],_[F],A[I]);T[U]<1970&&n.setFullYear(T[U]),NaN!=n.getTime()&&D.push(n)}0<D.length&&(S=D[0],O=!0)}if(x&&(f=0<=x.indexOf(":")?x.split(":"):x,y=g=p=h=0,(x=m.parsedate(x,"h:mm tt",t)||m.parsedate(x,"h:mm:ss tt",t)||m.parsedate(x,"HH:mm:ss.fff",t)||m.parsedate(x,"HH:mm:ss.ff",t)||m.parsedate(x,"HH:mm:ss.tttt",t)||m.parsedate(x,"HH:mm:ss",t)||m.parsedate(x,"HH:mm",t)||m.parsedate(x,"HH",t))&&NaN!=x.getTime()?(h=x.getHours(),p=x.getMinutes(),g=x.getSeconds(),y=x.getMilliseconds()):(1==f.length&&(h=parseInt(f[0])),2==f.length&&(h=parseInt(f[0]),p=parseInt(f[1])),3==f.length&&(h=parseInt(f[0]),p=parseInt(f[1]),0<=f[2].indexOf(".")?(g=parseInt(f[2].toString().split(".")[0]),y=parseInt(f[2].toString().split(".")[1])):g=parseInt(f[2])),4==f.length&&(h=parseInt(f[0]),p=parseInt(f[1]),g=parseInt(f[2]),y=parseInt(f[3]))),!S||isNaN(h)||isNaN(p)||isNaN(g)||isNaN(y)||(S.setHours(h,p,g,y),O=!0)),O)return S}return null},getparseregexp:function(e,t){var r=e._parseRegExp;if(r){var a=r[t];if(a)return a}else e._parseRegExp=r={};for(var n,i=this.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),s=["^"],o=[],l=0,d=0,c=this.getTokenRegExp();null!==(n=c.exec(i));){var u=i.slice(l,n.index),l=c.lastIndex;if((d+=this.appendPreOrPostMatch(u,s))%2)s.push(n[0]);else{var f,h=n[0],p=h.length;switch(h){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":f="(\\D+)";break;case"tt":case"t":f="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":f="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":f="(\\d\\d?)";break;case"zzz":f="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":f="([+-]?\\d\\d?)";break;case"/":f="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+h+"'."}f&&s.push(f),o.push(n[0])}}this.appendPreOrPostMatch(i.slice(l),s),s.push("$");a=s.join("").replace(/\s+/g,"\\s+");return r[t]={regExp:a,groups:o}},outOfRange:function(e,t,r){return e<t||r<e},expandYear:function(e,t){var r,a=new Date,n=this.getEra(a);return t<100&&((r="string"==typeof(r=e.twoDigitYearMax)?(new Date).getFullYear()%100+parseInt(r,10):r)<(t+=(r=this.getEraYear(a,e,n))-r%100)&&(t-=100)),t},parsedate:function(e,t,r){null==r&&(r=this.defaultcalendar()),e=this.trim(e);var a=r,r=this.getparseregexp(a,t),n=new RegExp(r.regExp).exec(e);if(null===n)return null;for(var i,s=r.groups,o=null,l=null,d=null,c=null,u=null,f=0,h=0,p=0,g=0,y=null,m=!1,v=0,x=s.length;v<x;v++){var b=n[v+1];if(b){var S=s[v],O=S.length,w=parseInt(b,10);switch(S){case"dd":case"d":if(this.outOfRange(c=w,1,31))return null;break;case"MMM":case"MMMM":if(d=this.getMonthIndex(a,b,3===O),this.outOfRange(d,0,11))return null;break;case"M":case"MM":if(this.outOfRange(d=w-1,0,11))return null;break;case"y":case"yy":case"yyyy":if(l=O<4?this.expandYear(a,w):w,this.outOfRange(l,0,9999))return null;break;case"h":case"hh":if(12===(f=w)&&(f=0),this.outOfRange(f,0,11))return null;break;case"H":case"HH":if(this.outOfRange(f=w,0,23))return null;break;case"m":case"mm":if(this.outOfRange(h=w,0,59))return null;break;case"s":case"ss":if(this.outOfRange(p=w,0,59))return null;break;case"tt":case"t":if((m=a.PM&&(b===a.PM[0]||b===a.PM[1]||b===a.PM[2]))||a.AM&&(b===a.AM[0]||b===a.AM[1]||b===a.AM[2]))break;return null;case"f":case"ff":case"fff":if(g=w*Math.pow(10,3-O),this.outOfRange(g,0,999))return null;break;case"ddd":case"dddd":if(u=this.getDayIndex(a,b,3===O),this.outOfRange(u,0,6))return null;break;case"zzz":var A=b.split(/:/);if(2!==A.length)return null;if(i=parseInt(A[0],10),this.outOfRange(i,-12,13))return null;A=parseInt(A[1],10);if(this.outOfRange(A,0,59))return null;y=60*i+(this.startsWith(b,"-")?-A:A);break;case"z":case"zz":if(this.outOfRange(i=w,-12,13))return null;y=60*i;break;case"g":case"gg":if(!(_=b)||!a.eras)return null;for(var _=this.trim(_.toLowerCase()),T=0,N=a.eras.length;T<N;T++)if(_===a.eras[T].name.toLowerCase()){o=T;break}if(null===o)return null}}}t=new Date,e=a.convert,r=t.getFullYear();if(null===l?l=r:a.eras&&(l+=a.eras[o||0].offset),null===d&&(d=0),null===c&&(c=1),e){if(null===(t=e.toGregorian(l,d,c)))return null}else{if(t.setFullYear(l,d,c),t.getDate()!==c)return null;if(null!==u&&t.getDay()!==u)return null}return m&&f<12&&(f+=12),t.setHours(f,h,p,g),null!==y&&(r=t.getMinutes()-(y+t.getTimezoneOffset()),t.setHours(t.getHours()+parseInt(r/60,10),r%60)),t},cleardatescache:function(){this.datescache=new Array},formatDate:function(e,t,r){return this.formatdate(e,t,r)},formatdate:function(e,t,r){if(null==r&&(r=this.defaultcalendar()),"string"==typeof e)return e;var a,n=e.toString()+"_"+t;if(this.datescache&&this.datescache[n]&&-1==t.indexOf("f"))return this.datescache[n];if(!t||!t.length||"i"===t)return a=this.formatDate(e,r.patterns.F,r);var i=r.eras,s="s"===t;t=this.expandFormat(r,t),a=[];var o,l,d=["0","00","000"],c=0,u=this.getTokenRegExp();function f(e,t){var r,e=e+"";return 1<t&&e.length<t?(r=d[t-2]+e).substr(r.length-t,t):e}function h(e,t){if(l)return l[t];if(null!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}for(;;){var p=u.lastIndex,g=u.exec(t),p=t.slice(p,g?g.index:t.length);if(c+=this.appendPreOrPostMatch(p,a),!g)break;if(c%2)a.push(g[0]);else{var y=g[0],m=y.length;switch(y){case"ddd":case"dddd":var v=3===m?r.days.namesAbbr:r.days.names;a.push(v[e.getDay()]);break;case"d":case"dd":a.push(f(h(e,2),m));break;case"MMM":case"MMMM":var x=h(e,1);a.push(r.months[3===m?"namesAbbr":"names"][x]);break;case"M":case"MM":a.push(f(h(e,1)+1,m));break;case"y":case"yy":case"yyyy":x=this.getEraYear(e,r,this.getEra(e,i),s),m<4&&(x%=100),a.push(f(x,m));break;case"h":case"hh":0===(o=e.getHours()%12)&&(o=12),a.push(f(o,m));break;case"H":case"HH":a.push(f(e.getHours(),m));break;case"m":case"mm":a.push(f(e.getMinutes(),m));break;case"s":case"ss":a.push(f(e.getSeconds(),m));break;case"t":case"tt":x=e.getHours()<12?r.AM?r.AM[0]:" ":r.PM?r.PM[0]:" ",a.push(1===m?x.charAt(0):x);break;case"f":case"ff":case"fff":a.push(f(e.getMilliseconds(),3).substr(0,m));break;case"z":case"zz":o=e.getTimezoneOffset()/60,a.push((o<=0?"+":"-")+f(Math.floor(Math.abs(o)),m));break;case"zzz":o=e.getTimezoneOffset()/60,a.push((o<=0?"+":"-")+f(Math.floor(Math.abs(o)),2)+":"+f(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":r.eras&&a.push(r.eras[this.getEra(e,i)].name);break;case"/":a.push(r["/"]);break;default:throw"Invalid date format pattern '"+y+"'."}}}var b=a.join("");return this.datescache||(this.datescache=new Array),this.datescache[n]=b}}),q.jqx.data={};var O,w=/#.*$/,A=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,_=/^(?:GET|HEAD)$/,T=/^\/\//,N=/\?/,j=/([?&])_=[^&]*/,E=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,M=/\s+/,C=(q.fn.load,{}),D={},I=["*/"]+["*"];try{a=location.href}catch(e){(a=document.createElement("a")).href="",a=a.href}function e(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var r,a,n=e.toLowerCase().split(M),i=0,s=n.length;if(q.isFunction(t))for(;i<s;i++)r=n[i],(a=/^\+/.test(r))&&(r=r.substr(1)||"*"),(o[r]=o[r]||[])[a?"unshift":"push"](t)}}function F(e,t,r,a,n,i){(i=i||{})[n=n||t.dataTypes[0]]=!0;for(var s,o=e[n],l=0,d=o?o.length:0,c=e===C;l<d&&(c||!s);l++)"string"==typeof(s=o[l](t,r,a))&&(s=!c||i[s]?void 0:(t.dataTypes.unshift(s),F(e,t,r,a,s,i)));return s=!c&&s||i["*"]?s:F(e,t,r,a,"*",i)}function r(e,t){var r,a,n=q.jqx.data.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((n[r]?e:a=a||{})[r]=t[r]);a&&q.extend(!0,e,a)}O=E.exec(a.toLowerCase())||[],q.extend(q.jqx.data,{ajaxSetup:function(e,t){return t?r(e,q.jqx.data.ajaxSettings):(t=e,e=q.jqx.data.ajaxSettings),r(e,t),e},ajaxSettings:{url:a,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(O[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":I},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":q.parseJSON,"text xml":q.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:e(C),ajaxTransport:e(D),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var d,c,r,u,f,h,a,n,p=q.jqx.data.ajaxSetup({},t=t||{}),g=p.context||p,y=g!==p&&(g.nodeType||g instanceof q)?q(g):q.event,m=q.Deferred(),v=q.Callbacks("once memory"),x=p.statusCode||{},i={},s={},b=0,o="canceled",S={readyState:0,setRequestHeader:function(e,t){var r;return b||(r=e.toLowerCase(),e=s[r]=s[r]||e,i[e]=t),this},getAllResponseHeaders:function(){return 2===b?c:null},getResponseHeader:function(e){var t;if(2===b){if(!r)for(r={};t=A.exec(c);)r[t[1].toLowerCase()]=t[2];t=r[e.toLowerCase()]}return void 0===t?null:t},overrideMimeType:function(e){return b||(p.mimeType=e),this},abort:function(e){return e=e||o,u&&u.abort(e),l(0,e),this}};function l(e,t,r,a){var n,i,s,o,l=t;2!==b&&(b=2,f&&clearTimeout(f),u=void 0,c=a||"",S.readyState=0<e?4:0,r&&(o=function(e,t,r){var a,n,i,s,o=e.contents,l=e.dataTypes,d=e.responseFields;for(n in d)n in r&&(t[d[n]]=r[n]);for(;"*"===l[0];)l.shift(),void 0===a&&(a=e.mimeType||t.getResponseHeader("content-type"));if(a)for(n in o)if(o[n]&&o[n].test(a)){l.unshift(n);break}if(l[0]in r)i=l[0];else{for(n in r){if(!l[0]||e.converters[n+" "+l[0]]){i=n;break}s=s||n}i=i||s}if(i)return i!==l[0]&&l.unshift(i),r[i]}(p,S,r)),200<=e&&e<300||304===e?(p.ifModified&&((a=S.getResponseHeader("Last-Modified"))&&(q.lastModified[d]=a),(a=S.getResponseHeader("Etag"))&&(q.etag[d]=a)),n=304===e?(l="notmodified",!0):(l=(n=function(e,t){var r,a,n,i,s=e.dataTypes.slice(),o=s[0],l={},d=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(s[1])for(r in e.converters)l[r.toLowerCase()]=e.converters[r];for(;n=s[++d];)if("*"!==n){if("*"!==o&&o!==n){if(!(r=l[o+" "+n]||l["* "+n]))for(a in l)if((i=a.split(" "))[1]===n&&(r=l[o+" "+i[0]]||l["* "+i[0]])){!0===r?r=l[a]:!0!==l[a]&&(n=i[0],s.splice(d--,0,n));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+o+" to "+n}}}o=n}return{state:"success",data:t}}(p,o)).state,i=n.data,!(s=n.error))):(s=l)&&!e||(l="error",e<0&&(e=0)),S.status=e,S.statusText=(t||l)+"",n?m.resolveWith(g,[i,l,S]):m.rejectWith(g,[S,l,s]),S.statusCode(x),x=void 0,h&&y.trigger("ajax"+(n?"Success":"Error"),[S,p,n?i:s]),v.fireWith(g,[S,l]),h&&(y.trigger("ajaxComplete",[S,p]),--q.active||q.event.trigger("ajaxStop")))}if(m.promise(S),S.success=S.done,S.error=S.fail,S.complete=v.add,S.statusCode=function(e){if(e)if(b<2)for(var t in e)x[t]=[x[t],e[t]];else t=e[S.status],S.always(t);return this},p.url=((e||p.url)+"").replace(w,"").replace(T,O[1]+"//"),p.dataTypes=q.trim(p.dataType||"*").toLowerCase().split(M),null==p.crossDomain&&(e=E.exec(p.url.toLowerCase()),p.crossDomain=!(!e||e[1]===O[1]&&e[2]===O[2]&&(e[3]||("http:"===e[1]?80:443))==(O[3]||("http:"===O[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=q.param(p.data,p.traditional)),F(C,p,t,S),2===b)return S;for(a in h=p.global,p.type=p.type.toUpperCase(),p.hasContent=!_.test(p.type),h&&0==q.active++&&q.event.trigger("ajaxStart"),p.hasContent||(p.data&&(p.url+=(N.test(p.url)?"&":"?")+p.data,delete p.data),d=p.url,!1===p.cache&&(e=(new Date).getTime(),n=p.url.replace(j,"$1_="+e),p.url=n+(n===p.url?(N.test(p.url)?"&":"?")+"_="+e:""))),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&S.setRequestHeader("Content-Type",p.contentType),p.ifModified&&(d=d||p.url,q.lastModified[d]&&S.setRequestHeader("If-Modified-Since",q.lastModified[d]),q.etag[d]&&S.setRequestHeader("If-None-Match",q.etag[d])),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+I+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(a,p.headers[a]);if(p.beforeSend&&(!1===p.beforeSend.call(g,S,p)||2===b))return S.abort();for(a in o="abort",{success:1,error:1,complete:1})S[a](p[a]);if(u=F(D,p,t,S)){S.readyState=1,h&&y.trigger("ajaxSend",[S,p]),p.async&&0<p.timeout&&(f=setTimeout(function(){S.abort("timeout")},p.timeout));try{b=1,u.send(i,l)}catch(e){if(!(b<2))throw e;l(-1,e)}}else l(-1,"No Transport");return S},active:0,lastModified:{},etag:{}});var u=[],f=/\?/,h=/(=)\?(?=&|$)|\?\?/,t=(new Date).getTime();q.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=u.pop()||q.expando+"_"+t++;return this[e]=!0,e}}),q.jqx.data.ajaxPrefilter("json jsonp",function(e,t,r){var a,n,i,s=e.data,o=e.url,l=!1!==e.jsonp,d=l&&h.test(o),c=l&&!d&&"string"==typeof s&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&h.test(s);if("jsonp"===e.dataTypes[0]||d||c)return a=e.jsonpCallback=q.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,n=window[a],d?e.url=o.replace(h,"$1"+a):c?e.data=s.replace(h,"$1"+a):l&&(e.url+=(f.test(o)?"&":"?")+e.jsonp+"="+a),e.converters["script json"]=function(){return i||q.error(a+" was not called"),i[0]},e.dataTypes[0]="json",window[a]=function(){i=arguments},r.always(function(){window[a]=n,e[a]&&(e.jsonpCallback=t.jsonpCallback,u.push(a)),i&&q.isFunction(n)&&n(i[0]),i=n=void 0}),"script"}),q.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return q.globalEval(e),e}}}),q.jqx.data.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),q.jqx.data.ajaxTransport("script",function(t){var a,n;if(t.crossDomain)return n=document.head||document.getElementsByTagName("head")[0]||document.documentElement,{send:function(e,r){(a=document.createElement("script")).async="async",t.scriptCharset&&(a.charset=t.scriptCharset),a.src=t.url,a.onload=a.onreadystatechange=function(e,t){!t&&a.readyState&&!/loaded|complete/.test(a.readyState)||(a.onload=a.onreadystatechange=null,n&&a.parentNode&&n.removeChild(a),a=void 0,t||r(200,"success"))},n.insertBefore(a,n.firstChild)},abort:function(){a&&a.onload(0,1)}}});var p,a,g=!!window.ActiveXObject&&function(){for(var e in p)p[e](0,1)},n=0;function i(){try{return new window.XMLHttpRequest}catch(e){}}q.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&i()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:i,a=q.jqx.data.ajaxSettings.xhr(),q.extend(q.support,{ajax:!!a,cors:!!a&&"withCredentials"in a}),q.support||(q.support={ajax:!0}),q.support.ajax&&q.jqx.data.ajaxTransport(function(c){var u;if(!c.crossDomain||q.support.cors)return{send:function(e,o){var l,t,d=c.xhr();if(c.username?d.open(c.type,c.url,c.async,c.username,c.password):d.open(c.type,c.url,c.async),c.xhrFields)for(t in c.xhrFields)d[t]=c.xhrFields[t];c.mimeType&&d.overrideMimeType&&d.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(t in e)d.setRequestHeader(t,e[t])}catch(e){}d.send(c.hasContent&&c.data||null),u=function(e,t){var r,a,n,i,s;try{if(u&&(t||4===d.readyState))if(u=void 0,l&&(d.onreadystatechange=function(){},g&&delete p[l]),t)4!==d.readyState&&d.abort();else{r=d.status,n=d.getAllResponseHeaders(),i={},(s=d.responseXML)&&s.documentElement&&(i.xml=s);try{i.text=d.responseText}catch(e){}try{a=d.statusText}catch(e){a=""}r||!c.isLocal||c.crossDomain?1223===r&&(r=204):r=i.text?200:404}}catch(e){t||o(-1,e)}i&&o(r,a,i,n)},c.async?4===d.readyState?setTimeout(u,0):(l=++n,g&&(p||(p={},q(window).unload(g)),p[l]=u),d.onreadystatechange=u):u()},abort:function(){u&&u(0,1)}}}),q.jqx.filter=function(){this.operator="and";function r(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+"-"+e()+"-"+e()}var a=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],n=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],i=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],s=["EQUAL","NOT_EQUAL"],o=new Array,l=new Array,d=(this.evaluate=function(e){for(var t=!0,r=0;r<o.length;r++)var a=o[r].evaluate(e),t=0==r?a:1==l[r]||"or"==l[r]?t||a:t&&a;return t},this.getfilterscount=function(){return o.length},this.setoperatorsbyfiltertype=function(e,t){switch(e){case"numericfilter":n=t;break;case"stringfilter":a=t;break;case"datefilter":i=t;break;case"booleanfilter":s=t}},this.getoperatorsbyfiltertype=function(e){var t=new Array;switch(e){case"numericfilter":t=n.slice(0);break;case"stringfilter":t=a.slice(0);break;case"datefilter":t=i.slice(0);break;case"booleanfilter":t=s.slice(0)}return t},this.createfilter=function(e,t,r,a,n,i){if(null==e)return null;switch(e){case"numericfilter":return new u(t,r.toUpperCase());case"stringfilter":return new d(t,r.toUpperCase());case"datefilter":return new f(t,r.toUpperCase(),n,i);case"booleanfilter":return new c(t,r.toUpperCase());case"custom":return new h(t,r.toUpperCase(),a)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var e=new Array,t=0;t<o.length;t++){var r={value:o[t].filtervalue,condition:o[t].comparisonoperator,operator:l[t],type:o[t].type};o[t].data&&(r.id=o[t].data),e[t]=r}return e},this.addfilter=function(e,t){(o[o.length]=t).key=r(),l[l.length]=e},this.removefilter=function(e){for(var t=0;t<o.length;t++)if(o[t].key==e.key){o.splice(t,1),l.splice(t,1);break}},this.getoperatorat=function(e){return null==e||e<0||e>o.length?null:l[e]},this.setoperatorat=function(e,t){return null==e||e<0||e>o.length?null:void(l[t]=t)},this.getfilterat=function(e){return null==e||e<0||e>o.length?null:o[e]},this.setfilterat=function(e,t){return null==e||e<0||e>o.length?null:(t.key=r(),void(o[e]=t))},this.clear=function(){o=new Array,l=new Array},function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="stringfilter",this.evaluate=function(e){var t=this.filtervalue,r=this.comparisonoperator;if(null==e||""==e){if("NULL"==r)return!0;if("NOT_NULL"==r)return!1;if("EQUAL"==r&&e==t)return!0;if("NOT_EQUAL"==r&&e!=t)return!0;if("EMPTY"!=r)return!1;if(""==e)return!0}var a="";try{a=e.toString()}catch(e){return!0}function n(e,t){switch(r){case"EQUAL":return q.jqx.string.equalsIgnoreCase(e,t);case"EQUAL_CASE_SENSITIVE":return q.jqx.string.equals(e,t);case"NOT_EQUAL":return!q.jqx.string.equalsIgnoreCase(e,t);case"NOT_EQUAL_CASE_SENSITIVE":return!q.jqx.string.equals(e,t);case"CONTAINS":return q.jqx.string.containsIgnoreCase(e,t);case"CONTAINS_CASE_SENSITIVE":return q.jqx.string.contains(e,t);case"DOES_NOT_CONTAIN":return!q.jqx.string.containsIgnoreCase(e,t);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!q.jqx.string.contains(e,t);case"EMPTY":return""==e;case"NOT_EMPTY":return""!=e;case"NOT_NULL":return null!=e;case"STARTS_WITH":return q.jqx.string.startsWithIgnoreCase(e,t);case"ENDS_WITH":return q.jqx.string.endsWithIgnoreCase(e,t);case"ENDS_WITH_CASE_SENSITIVE":return q.jqx.string.endsWith(e,t);case"STARTS_WITH_CASE_SENSITIVE":return q.jqx.string.startsWith(e,t);default:return!1}}var i=new Array;if(t&&t.indexO&&"NOT_EQUAL"!==r&&(0<=t.indexOf("|")||0<=t.indexOf(" AND ")||0<=t.indexOf(" OR ")||0<=t.indexOf(" and ")||0<=t.indexOf(" or "))){if(g=n(a,t))return g;var s=0<=t.indexOf(" AND ")?t.split(" AND "):new Array,o=0<=t.indexOf(" OR ")?t.split(" OR "):new Array,l=0<=t.indexOf(" and ")?t.split(" and "):new Array,d=0<=t.indexOf(" or ")?t.split(" or "):new Array,c=0<=t.indexOf("|")?t.split("|"):new Array;if(0<c.length)for(var u=0;u<c.length;u++)c[u]=q.trim(c[u]);var f=0<=t.indexOf(" ")?t.split(" "):new Array;if(0<f.length)for(u=0;u<f.length;u++)f[u]=q.trim(f[u]);if(s=(s=s.concat(f)).concat(l),o=(o=o.concat(c)).concat(d),0<s.length)for(u=0;u<s.length;u++)0<=!s[u].indexOf(" OR ")&&i.push(s[u]);if(0<o.length)for(u=0;u<o.length;u++)0<=!o[u].indexOf(" AND ")&&i.push(o[u]);for(var h=void 0,p=0;p<i.length;p++)var g=n(a,e=i[p]),y=p<s.length?"and":"or",h=null==h?g:"or"==y?h||g:h&&g;return h}return n(a,t)}}),c=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="booleanfilter",this.evaluate=function(e){var t=this.filtervalue,r=this.comparisonoperator;if(null==e)return"NULL"==r;var a=e;switch(r){case"EQUAL":return a==t||a.toString()==t.toString();case"NOT_EQUAL":return a!=t&&a.toString()!=t.toString();default:return!1}}},u=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="numericfilter",this.evaluate=function(t){var e=this.filtervalue,r=this.comparisonoperator;if(null==t||""===t){if("NOT_NULL"==r)return!1;if("NULL"==r)return!0;switch(r){case"EQUAL":return t==e;case"NOT_EQUAL":return t!=e}return!1}if("NULL"==r)return!1;if("NOT_NULL"==r)return!0;var a=t;try{a=parseFloat(a)}catch(e){if(""!=t.toString())return!1}function n(e,t){switch(r){case"EQUAL":return e==t;case"NOT_EQUAL":return e!=t;case"GREATER_THAN":return t<e;case"GREATER_THAN_OR_EQUAL":return t<=e;case"LESS_THAN":return e<t;case"LESS_THAN_OR_EQUAL":return e<=t;case"STARTS_WITH":return q.jqx.string.startsWithIgnoreCase(e.toString(),t.toString());case"ENDS_WITH":return q.jqx.string.endsWithIgnoreCase(e.toString(),t.toString());case"ENDS_WITH_CASE_SENSITIVE":return q.jqx.string.endsWith(e.toString(),t.toString());case"STARTS_WITH_CASE_SENSITIVE":return q.jqx.string.startsWith(e.toString(),t.toString());case"CONTAINS":return q.jqx.string.containsIgnoreCase(e.toString(),t.toString());case"CONTAINS_CASE_SENSITIVE":return q.jqx.string.contains(e.toString(),t.toString());case"DOES_NOT_CONTAIN":return!q.jqx.string.containsIgnoreCase(e.toString(),t.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!q.jqx.string.contains(e.toString(),t.toString());default:return!0}}var i=new Array;if((e=e&&e.indexOf?e.replace("$",""):e)&&e.indexOf&&(0<=e.indexOf("|")||0<=e.indexOf(" AND ")||0<=e.indexOf(" OR ")||0<=e.indexOf(" and ")||0<=e.indexOf(" or "))){var s=n(a,e);if(s)return s;var o=0<=(e=e.toString()).indexOf(" AND ")?e.split(" AND "):new Array,l=0<=e.indexOf(" OR ")?e.split(" OR "):new Array,d=0<=e.indexOf(" and ")?e.split(" and "):new Array,c=0<=e.indexOf(" or ")?e.split(" or "):new Array,o=o.concat(d),l=l.concat(c),u=0<=e.indexOf("|")?e.split("|"):new Array;if(0<u.length)for(var f=0;f<u.length;f++)u[f]=q.trim(u[f]);if(l=l.concat(u),0<o.length)for(f=0;f<o.length;f++)0<=!o[f].indexOf(" OR ")&&i.push(o[f]);if(0<l.length)for(f=0;f<l.length;f++)0<=!l[f].indexOf(" AND ")&&i.push(l[f]);for(var h=void 0,p=0;p<i.length;p++){(t=i[p])&&t.indexOf&&0<=t.indexOf("..")?2==(g=t.toString().split("..")).length&&(s=a>=g[0]&&a<=g[1]):s=n(a,t);var g=p<o.length?"and":"or",h=null==h?s:"or"==g?h||s:h&&s}return h}return e&&e.indexOf&&0<=e.indexOf("..")&&2==(i=e.toString().split("..")).length?a>=i[0]&&a<=i[1]:n(a,e)}},f=function(e,t,v,x){this.filtervalue=e,this.type="datefilter";var r,a,b=this;null!=v&&null!=x?null!=(r=q.jqx.dataFormat.parsedate(e,v,x))?this.filterdate=r:null!=(r=q.jqx.dataFormat.tryparsedate(e,x))&&(this.filterdate=r):"NaN"==(a=new Date(e)).toString()||"Invalid Date"==a.toString()?this.filterdate=q.jqx.dataFormat.tryparsedate(e):this.filterdate=a,this.filterdate||("NaN"==(a=new Date(e)).toString()||"Invalid Date"==a.toString()?this.filterdate=q.jqx.dataFormat.tryparsedate(e):this.filterdate=a),this.comparisonoperator=t,this.evaluate=function(t){var e=this.filtervalue,r=this.comparisonoperator;if(null==t||""==t){if("NOT_NULL"==r)return!1;if("NULL"==r)return!0;switch(r){case"EQUAL":return t==e;case"NOT_EQUAL":return t!=e}return!1}if("NULL"==r)return!1;if("NOT_NULL"==r)return!0;var a=new Date;a.setFullYear(1900,0,1),a.setHours(12,0,0,0);try{var n=new Date(t),i=(a=t="NaN"==n.toString()||"Invalid Date"==n.toString()?q.jqx.dataFormat.tryparsedate(t):n,!1);null!=v&&null!=x&&(0<=v.indexOf("t")||0<=v.indexOf("T")||0<=v.indexOf(":")||0<=v.indexOf("f"))&&(i=!0,e&&-1==e.toString().indexOf(":")&&null!=(y=q.jqx.dataFormat.tryparsedate(e.toString()+":00",x))&&(b.filterdate=y)),(i=null!=v&&(0<=v.indexOf("hh")||0<=v.indexOf("t"))?!0:i)||(a.setHours(0),a.setMinutes(0),a.setSeconds(0))}catch(e){return t&&""!=t.toString()?!1:!1}if(null!=b.filterdate)e=b.filterdate;else if(e&&e.indexOf&&(-1!=e.indexOf(":")||!isNaN(parseInt(e)))){for(var s=new Date(a),o=(s.setHours(12,0,0,0),e.split(":")),l=0;l<o.length;l++)0==l&&s.setHours(o[l]),1==l&&s.setMinutes(o[l]),2==l&&s.setSeconds(o[l]);e=s}i&&e&&e.setFullYear&&a&&a.getFullYear&&-1==v.indexOf("d")&&-1==v.indexOf("M")&&-1==v.indexOf("y")&&e.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());function d(e,t){switch(null==e&&(e=""),r){case"EQUAL":return e.toString()==t.toString();case"NOT_EQUAL":return e.toString()!=t.toString();case"GREATER_THAN":return t<e;case"GREATER_THAN_OR_EQUAL":return t<=e;case"LESS_THAN":return e<t;case"LESS_THAN_OR_EQUAL":return e<=t;case"STARTS_WITH":return q.jqx.string.startsWithIgnoreCase(e.toString(),t.toString());case"ENDS_WITH":return q.jqx.string.endsWithIgnoreCase(e.toString(),t.toString());case"ENDS_WITH_CASE_SENSITIVE":return q.jqx.string.endsWith(e.toString(),t.toString());case"STARTS_WITH_CASE_SENSITIVE":return q.jqx.string.startsWith(e.toString(),t.toString());case"CONTAINS":return q.jqx.string.containsIgnoreCase(e.toString(),t.toString());case"CONTAINS_CASE_SENSITIVE":return q.jqx.string.contains(e.toString(),t.toString());case"DOES_NOT_CONTAIN":return!q.jqx.string.containsIgnoreCase(e.toString(),t.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!q.jqx.string.contains(e.toString(),t.toString());default:return!0}}var c=new Array;if(e&&e.indexOf&&(0<=e.indexOf("|")||0<=e.indexOf(" AND ")||0<=e.indexOf(" OR ")||0<=e.indexOf(" and ")||0<=e.indexOf(" or "))){if(y=d(a,e))return y;var u=0<=e.indexOf(" AND ")?e.split(" AND "):new Array,f=0<=e.indexOf(" OR ")?e.split(" OR "):new Array,n=0<=e.indexOf(" and ")?e.split(" and "):new Array,i=0<=e.indexOf(" or ")?e.split(" or "):new Array,u=u.concat(n),f=f.concat(i),h=0<=e.indexOf("|")?e.split("|"):new Array;if(0<h.length)for(l=0;l<h.length;l++)h[l]=q.trim(h[l]);if(f=f.concat(h),0<u.length)for(l=0;l<u.length;l++)0<=!u[l].indexOf(" OR ")&&c.push(u[l]);if(0<f.length)for(l=0;l<f.length;l++)0<=!f[l].indexOf(" AND ")&&c.push(f[l]);for(var p=void 0,g=0;g<c.length;g++){(t=c[g])&&t.indexOf&&0<=t.indexOf("..")?2==(m=t.toString().split("..")).length&&(y=a>=m[0]&&a<=m[1]):y=d(a,t);var y,m=g<u.length?"and":"or",p=null==p?y:"or"==m?p||y:p&&y}return p}return e&&e.indexOf&&0<=e.indexOf("..")&&2==(c=e.toString().split("..")).length?a>=c[0]&&a<=c[1]:d(a,e)}},h=function(e,t,r){this.filtervalue=e,this.comparisonoperator=t,this.evaluate=function(e,t){return r(this.filtervalue,e,this.comparisonoperator)}}}}(jqxBaseFramework);