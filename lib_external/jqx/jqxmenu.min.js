!function(v){v.jqx.jqxWidget("jqxMenu","",{}),v.extend(v.jqx._jqxMenu.prototype,{defineInstance:function(){var e={items:new Array,mode:"horizontal",width:null,height:null,minimizeWidth:"auto",easing:"easeInOutSine",animationShowDuration:200,animationHideDuration:200,autoCloseInterval:0,animationHideDelay:100,animationShowDelay:10,menuElements:new Array,autoSizeMainItems:!1,autoCloseOnClick:!0,autoCloseOnMouseLeave:!0,enableRoundedCorners:!0,disabled:!1,autoOpenPopup:!0,enableHover:!0,autoOpen:!0,autoGenerate:!0,clickToOpen:!1,showTopLevelArrows:!1,touchMode:"auto",source:null,popupZIndex:1e3,rtl:!1,keyboardNavigation:!1,lockFocus:!1,title:"",events:["shown","closed","itemclick","initialized","open","close"]};return this===v.jqx._jqxMenu.prototype||v.extend(!0,this,e),e},createInstance:function(e){var t,i=this;this.host.attr("role","menubar"),v.jqx.utilities.resize(this.host,function(){i.refresh()},!1,"popup"!=this.mode),"auto"!=this.minimizeWidth&&null!=this.minimizeWidth&&this.width&&-1==this.width.toString().indexOf("%")&&v(window).resize(function(){i.refresh()}),i.isMaterialized()&&(t=window.getComputedStyle(this.element).getPropertyValue("--jqx-dropdown-animation"))&&(this.animationType=t.trim(),"transform"===this.animationType&&(this.animationShowDuration=0,this.animationHideDuration=0,this.animationShowDelay=0)),this.host.css("outline","none"),this.source&&null!=this.source&&(t=this.loadItems(this.source),this.element.innerHTML=t),this._tmpHTML=this.element.innerHTML,this.element.innerHTML.indexOf("UL")&&0<(t=this.host.find("ul:first")).length&&this._createMenu(t[0]),this.host.data("autoclose",{}),this._render(),this._setSize(),v.jqx.browser.msie&&v.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{var t,e;"popup"===this.mode&&this.keyboardNavigation&&this.host.closest("div.jqx-menu-wrapper").focus(),this.keyboardNavigation&&(this.host.focus(),e=function(){var e;v.jqx.isHidden(v(t.items[0].element))?(e=t._nextVisibleItem(t.items[0],0))&&(v(e.element).addClass(t.toThemeProperty("jqx-fill-state-focus")),t.activeItem=e):(v(t.items[0].element).addClass(t.toThemeProperty("jqx-fill-state-focus")),t.activeItem=t.items[0])},(t=this).activeItem?v.jqx.isHidden(v(this.activeItem.element))?(v(this.activeItem.element).removeClass(this.toThemeProperty("jqx-fill-state-focus")),e()):v(this.activeItem.element).addClass(this.toThemeProperty("jqx-fill-state-focus")):e())}catch(e){}},loadItems:function(e,t){if(null!=e){if(0==e.length)return"";var i=this,s=(this.items=new Array,'<ul class="jqx-menu-ul">');return t&&(s='<ul class="jqx-menu-ul" style="width:'+t+';">'),v.map(e,function(e){if(null==e)return null;s+=i._parseItem(e)}),s+="</ul>"}},_parseItem:function(e){var t="";if(null==e)return null;var i=e.label,s=(i=(i=!e.label&&e.html?e.html:i)||"Item","string"==typeof e&&(i=e),null!=e.selected&&e.selected,!1);return t+="<li",(s=null!=e.disabled&&e.disabled?!0:s)&&(t+=' item-disabled="true" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=e.value&&(t+=' item-value="'+e.value+'" '),null!=e.id&&(t+=' id="'+e.id+'" '),t+=">"+i,e.items&&(e.subMenuWidth?t+=this.loadItems(e.items,e.subMenuWidth):t+=this.loadItems(e.items)),t+="</li>"},_setSize:function(){(null!=this.width&&-1!=this.width.toString().indexOf("%")||null!=this.width&&-1!=this.width.toString().indexOf("px")||null!=this.width&&!isNaN(this.width))&&this.host.width(this.width),(null!=this.height&&-1!=this.height.toString().indexOf("%")||null!=this.height&&-1!=this.height.toString().indexOf("px")||null!=this.height&&!isNaN(this.height))&&this.host.height(this.height),null===this.height&&this.host.height("auto");if(null!=this.minimizeWidth&&"popup"!=this.mode){var e=v(window).width();if(!v.jqx.response){var t=!1,i=(!navigator.userAgent.match(/Windows|Linux|MacOS/)||0<=navigator.userAgent.indexOf("Windows Phone")||0<=navigator.userAgent.indexOf("WPDesktop")||0<=navigator.userAgent.indexOf("IEMobile")||0<=navigator.userAgent.indexOf("ZuneWP7")||(t=!0),this.minimizeWidth);if(t&&"auto"==this.minimizeWidth)return}"auto"==this.minimizeWidth&&v.jqx.response?"Phone"!=(t=new v.jqx.response).device.type&&"Tablet"!=t.device.type||this.minimized||this.minimize():e<i&&!this.minimized?this.minimize():this.minimized&&i<=e&&this.restore()}},minimize:function(){var s,e,o,n;this.minimized||((s=this).host.addClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!0,this._tmpMode=this.mode,this.mode="simple",(o=this.host.closest("div.jqx-menu-wrapper")).remove(),v("#menuWrapper"+this.element.id).remove(),v.each(this.items,function(){v(this.element);v(this.subMenuElement).closest("div.jqx-menu-popup").remove()}),this.source&&(e=this.loadItems(this.source),this.element.innerHTML=e,this._tmpHTML=this.element.innerHTML),this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")&&0<(e=this.host.find("ul:first")).length&&this._createMenu(e[0]),this._render(),(e=this.host.find("ul:first")).wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>'),(o=e.closest("div.jqx-menu-wrapper"))[0].id="menuWrapper"+this.element.id,o.detach(),o.appendTo(v(document.body)),o.addClass(this.toThemeProperty("jqx-widget")),o.addClass(this.toThemeProperty("jqx-menu")),o.addClass(this.toThemeProperty("jqx-menu-minimized")),o.addClass(this.toThemeProperty("jqx-widget-header")),e.children().hide(),o.hide(),o.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.minimizedItem=v("<div></div>"),this.minimizedItem.addClass(this.toThemeProperty("jqx-item")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top")),this.addHandler(o,"keydown",function(e){return s.handleKeyDown(e)}),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button")),this.minimizedItem.prependTo(this.host),this.titleElement=v("<div>"+this.title+"</div>"),this.titleElement.addClass(this.toThemeProperty("jqx-item")),this.titleElement.addClass(this.toThemeProperty("jqx-menu-title")),this.titleElement.prependTo(this.host),v("<div style='clear:both;'></div>").insertAfter(this.minimizedItem),s.minimizedHidden=!0,n=function(e){s.minimizedHidden=!0,s.minimizedItem.show();var t=!1;"right"==s.minimizedItem.css("float")&&(t=!0),o.animate({left:t?s.host.coord().left+s.host.width()+o.width():-o.outerWidth(),opacity:0},s.animationHideDuration,function(){o.find("ul:first").children().hide(),o.hide()})},this.addHandler(v(window),"orientationchange.jqxmenu"+this.element.id,function(e){setTimeout(function(){var e,t;s.minimizedHidden||(t=o.width(),e=!1,t=o.width(),"right"==s.minimizedItem.css("float")&&(e=!0),o.css("top",s.host.coord().top+s.host.height()),o.css({left:e?s.host.coord().left+s.host.width()-t:s.host.coord().left}))},25)}),this.addHandler(this.minimizedItem,"click",function(e){var t,i;e=e,s.minimizedHidden?(o.find("ul:first").children().show(),s.minimizedHidden=!1,o.show(),o.css("opacity",0),o.css("left",-o.outerWidth()),t=!1,i=o.width(),"right"==s.minimizedItem.css("float")&&(o.css("left",s.host.coord().left+s.host.width()+i),t=!0),o.css("top",s.host.coord().top+s.host.height()),o.animate({left:t?s.host.coord().left+s.host.width()-i:s.host.coord().left,opacity:.95},s.animationShowDuration,function(){})):n(e),s._raiseEvent("2",{type:"mouse",item:s.minimizedItem[0],event:e}),s._setSize()}))},restore:function(){var e;this.minimized&&(this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.host.removeClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!1,this.mode=this._tmpMode,this.minimizedItem&&this.minimizedItem.remove(),v("#menuWrapper"+this.element.id).remove(),this.source&&(e=this.loadItems(this.source),this.element.innerHTML=e,this._tmpHTML=e),this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")&&0<(e=this.host.find("ul:first")).length&&this._createMenu(e[0]),this._setSize(),this._render())},isTouchDevice:function(){if(null!=this._isTouchDevice)return this._isTouchDevice;var e=v.jqx.mobile.isTouchDevice();return 1==this.touchMode?e=!0:0==this.touchMode&&(e=!1),e&&(this.host.addClass(this.toThemeProperty("jqx-touch")),v(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=e},refresh:function(e){e||this._setSize()},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_closeAll:function(e){var t=null!=e?e.data:this,i=t.items;v.each(i,function(){1==this.hasItems&&this.isOpen&&t._closeItem(t,this)}),"popup"!=t.mode||null==e||t._isRightClick(e)||t.close()},closeItem:function(e){if(null==e)return!1;var t=document.getElementById(e),i=this;return v.each(i.items,function(){1==this.isOpen&&this.element==t&&(i._closeItem(i,this),this.parentId)}),!0},openItem:function(e){if(null==e)return!1;var t=document.getElementById(e),i=this;return v.each(i.items,function(){var e=this;0==e.isOpen&&e.element==t&&(i._openItem(i,e),e.parentId&&i.openItem(e.parentId))}),!0},_getClosedSubMenuOffset:function(e){var t=v(e.subMenuElement),i=-t.outerHeight(),s=-t.outerWidth(),o=0==e.level&&"horizontal"==this.mode;switch(o?s=0:i=0,e.openVerticalDirection){case"up":case"center":i=t.outerHeight()}switch(e.openHorizontalDirection){case this._getDir("left"):case"center":s=o?0:t.outerWidth()}return{left:s,top:i}},_closeItem:function(t,i,e,s){if(null==t||null==i)return!1;var o,n=v(i.subMenuElement),r=0==i.level&&"horizontal"==this.mode,a=this._getClosedSubMenuOffset(i),l=a.top,m=a.left,d=(v(i.element),n.closest("div.jqx-menu-popup"));null!=d&&(d.removeClass("show"),a=t.animationHideDelay,1==s&&(a=0),n.data("timer")&&null!=n.data("timer").show&&(clearTimeout(n.data("timer").show),n.data("timer").show=null),o=function(){i.isOpen=!1,r?n.stop().animate({top:l},t.animationHideDuration,function(){v(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),v(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),v(i.element).removeClass(t.toThemeProperty("jqx-rc-b-expanded")),d.removeClass(t.toThemeProperty("jqx-rc-t-expanded"));var e=v(i.arrow);0<e.length&&t.showTopLevelArrows&&(e.removeClass(),"down"==i.openVerticalDirection?(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-down")),e.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-up")),e.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),v.jqx.aria(v(i.element),"aria-expanded",!1),d.css({display:"none"}),0==t.animationHideDuration&&n.css({top:l}),t._raiseEvent("1",i)}):(v.jqx.browser.msie,n.stop().animate({left:m},t.animationHideDuration,function(){var e;0==t.animationHideDuration&&n.css({left:m}),0<i.level?(v(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),v(i.element).removeClass(t.toThemeProperty("jqx-menu-item-selected")),0<(e=v(i.arrow)).length&&(e.removeClass(),"left"!=i.openHorizontalDirection?(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right"))),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left"))),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))):(v(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),v(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),0<(e=v(i.arrow)).length&&(e.removeClass(),"left"!=i.openHorizontalDirection?(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("right"))),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("left"))),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))),v.jqx.aria(v(i.element),"aria-expanded",!1),d.css({display:"none"}),t._raiseEvent("1",i)}))},0<a?n.data("timer")&&(n.data("timer").hide=setTimeout(function(){o()},a)):o(),null!=e&&e&&(s=n.children(),v.each(s,function(){t.menuElements[this.id]&&t.menuElements[this.id].isOpen&&(v(t.menuElements[this.id].subMenuElement),t._closeItem(t,t.menuElements[this.id],!0,!0))})))},getSubItems:function(e,t){if(null==e)return!1;var i=this,s=new Array;null!=t&&v.extend(s,t);t=this.menuElements[e],e=v(t.subMenuElement).find(".jqx-menu-item");return v.each(e,function(){s[this.id]=i.menuElements[this.id];var e=i.getSubItems(this.id,s);v.extend(s,e)}),s},disable:function(e,t){var i;null!=e&&this.menuElements[e]&&((e=this.menuElements[e]).disabled=t,i=v(e.element),e.element.disabled=t,v.each(i.children(),function(){this.disabled=t}),t?(i.addClass(this.toThemeProperty("jqx-menu-item-disabled")),i.addClass(this.toThemeProperty("jqx-fill-state-disabled"))):(i.removeClass(this.toThemeProperty("jqx-menu-item-disabled")),i.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))))},getItem:function(e){return this.menuElements[e]||null},disableItem:function(e){this.disable(e,!0)},hideItem:function(e){this.menuElements[e]&&(e=this.menuElements[e],v(e.element).hide())},showItem:function(e){this.menuElements[e]&&(e=this.menuElements[e],v(e.element).show())},enableItem:function(e){this.disable(e,!1)},_setItemProperty:function(e,t,i){null!=e&&this.menuElements[e]&&(e=this.menuElements[e])[t]&&(e[t]=i)},setItemOpenDirection:function(e,t,i){var s,o,n,r;null!=e&&(o=v.jqx.browser.msie&&v.jqx.browser.version<8,(s=this).menuElements[e]&&(e=this.menuElements[e],null!=t&&(e.openHorizontalDirection=t,e.hasItems&&0<e.level&&null!=(r=v(e.element))&&(n=v(e.arrow),null==e.arrow&&(n=v('<span id="arrow'+r[0].id+'"></span>'),o?n.appendTo(r):n.prependTo(r),e.arrow=n[0]),n.removeClass(),"left"==e.openHorizontalDirection?(n.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("left"))),n.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("left")))):(n.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("right"))),n.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right")))),n.css("visibility","inherit"),o?(n.css("display","inline-block"),n.css("float","none")):(n.css("display","block"),n.css("float","right")))),null!=i&&(e.openVerticalDirection=i,n=v(e.arrow),r=v(e.element),s.showTopLevelArrows&&null!=r&&(null==e.arrow&&(n=v('<span id="arrow'+r[0].id+'"></span>'),o?n.appendTo(r):n.prependTo(r),e.arrow=n[0]),n.removeClass(),"down"==e.openVerticalDirection?(n.addClass(s.toThemeProperty("jqx-menu-item-arrow-down")),n.addClass(s.toThemeProperty("jqx-icon-arrow-down"))):(n.addClass(s.toThemeProperty("jqx-menu-item-arrow-up")),n.addClass(s.toThemeProperty("jqx-icon-arrow-up"))),n.css("visibility","inherit"),o?(n.css("display","inline-block"),n.css("float","none")):(n.css("display","block"),n.css("float","right"))))))},_getSiblings:function(e){for(var t=new Array,i=0,s=0;s<this.items.length;s++)this.items[s]!=e&&this.items[s].parentId==e.parentId&&this.items[s].hasItems&&(t[i++]=this.items[s]);return t},_openItem:function(t,i,e){if(null==t||null==i)return!1;if(i.isOpen)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var s,o=t.popupZIndex,e=(null!=e&&(o=e),t.animationHideDuration),n=(t.animationHideDuration=0,t._closeItem(t,i,!0,!0),t.animationHideDuration=e,v(i.element).focus(),[5,5]),r=v(i.subMenuElement),a=(null!=r&&r.stop(),r.data("timer")&&null!=r.data("timer").hide&&clearTimeout(r.data("timer").hide),r.closest("div.jqx-menu-popup")),l=v(i.element),m=0==i.level?this._getOffset(i.element):l.position(),d=(0<i.level&&this.hasTransform&&(e=parseInt(l.coord().top)-parseInt(this._getOffset(i.element).top),m.top+=e),0==i.level&&"popup"==this.mode&&(m=l.coord()),0==i.level&&"horizontal"==this.mode),e=d?m.left:null!=this.menuElements[i.parentId]&&null!=this.menuElements[i.parentId].subMenuElement?parseInt(v(v(this.menuElements[i.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-n[0]:parseInt(r.outerWidth()),h=(a.css({visibility:"visible",display:"block",left:e,top:d?m.top+l.outerHeight():m.top,zIndex:o}),r.css("display","block"),"horizontal"!=this.mode&&0==i.level?(e=this._getOffset(this.element),a.css("left",-1+e.left+this.host.outerWidth()),r.css("left",-r.outerWidth())):(e=this._getClosedSubMenuOffset(i),r.css("left",e.left),r.css("top",e.top)),a.css({height:parseInt(r.outerHeight())+parseInt(n[1])+"px"}),0),u=0;switch(i.openVerticalDirection){case"up":d?(r.css("top",r.outerHeight()),h=n[1],s=parseInt(r.parent().css("padding-bottom")),0<(s=isNaN(s)?0:s)&&a.addClass(this.toThemeProperty("jqx-menu-popup-clear")),r.css("top",r.outerHeight()-s),a.css({display:"block",top:m.top-a.outerHeight(),zIndex:o})):(h=n[1],r.css("top",r.outerHeight()),a.css({display:"block",top:m.top-a.outerHeight()+n[1]+l.outerHeight(),zIndex:o}));break;case"center":d?(r.css("top",0),a.css({display:"block",top:m.top-a.outerHeight()/2+n[1],zIndex:o})):(r.css("top",0),a.css({display:"block",top:m.top+l.outerHeight()/2-a.outerHeight()/2+n[1],zIndex:o}))}switch(i.openHorizontalDirection){case this._getDir("left"):d?a.css({left:m.left-(a.outerWidth()-l.outerWidth()-n[0])}):(u=0,r.css("left",a.outerWidth()),a.css({left:m.left-a.outerWidth()+2*i.level}));break;case"center":d?a.css({left:m.left-(a.outerWidth()/2-l.outerWidth()/2-n[0]/2)}):(a.css({left:m.left-(a.outerWidth()/2-l.outerWidth()/2-n[0]/2)}),r.css("left",a.outerWidth()))}if(d){if(parseInt(r.css("top"))==h)return void(i.isOpen=!0)}else if(parseInt(r.css("left"))==u)return void i.isOpen;v.each(t._getSiblings(i),function(){t._closeItem(t,this,!0,!0)});e=v.data(t.element,"animationHideDelay");t.animationHideDelay=e,0<this.autoCloseInterval&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout(function(){t._closeAll()},this.autoCloseInterval))),r.data("timer")&&(r.data("timer").show=setTimeout(function(){var e;null!=a&&(d?(r.stop(),r.css("left",u),v.jqx.browser.msie,l.addClass(t.toThemeProperty("jqx-fill-state-pressed")),l.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),"down"==i.openVerticalDirection?(v(i.element).addClass(t.toThemeProperty("jqx-rc-b-expanded")),a.addClass(t.toThemeProperty("jqx-rc-t-expanded"))):(v(i.element).addClass(t.toThemeProperty("jqx-rc-t-expanded")),a.addClass(t.toThemeProperty("jqx-rc-b-expanded"))),a.addClass(t.toThemeProperty("show")),0<(e=v(i.arrow)).length&&t.showTopLevelArrows&&(e.removeClass(),"down"==i.openVerticalDirection?(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-down-selected")),e.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-up-selected")),e.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),0==t.animationShowDuration?(r.css({top:h}),i.isOpen=!0,t._raiseEvent("0",i),v.jqx.aria(v(i.element),"aria-expanded",!0)):r.animate({top:h},t.animationShowDuration,t.easing,function(){i.isOpen=!0,v.jqx.aria(v(i.element),"aria-expanded",!0),t._raiseEvent("0",i)})):(r.stop(),r.css("top",h),a.addClass(t.toThemeProperty("show")),v.jqx.browser.msie,0<i.level?(l.addClass(t.toThemeProperty("jqx-fill-state-pressed")),l.addClass(t.toThemeProperty("jqx-menu-item-selected"))):(l.addClass(t.toThemeProperty("jqx-fill-state-pressed")),l.addClass(t.toThemeProperty("jqx-menu-item-top-selected"))),0<(e=v(i.arrow)).length&&(e.removeClass(),"left"!=i.openHorizontalDirection?(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left"))))),v.jqx.browser.msie,0==t.animationShowDuration?(r.css({left:u}),t._raiseEvent("0",i),i.isOpen=!0,v.jqx.aria(v(i.element),"aria-expanded",!0)):r.animate({left:u},t.animationShowDuration,t.easing,function(){t._raiseEvent("0",i),i.isOpen=!0,v.jqx.aria(v(i.element),"aria-expanded",!0)})))},this.animationShowDelay))},_getDir:function(e){switch(e){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(e,t){var i,s,o=this,n=0;switch(o.host.removeClass(o.toThemeProperty("jqx-menu-horizontal")),o.host.removeClass(o.toThemeProperty("jqx-menu-vertical")),o.host.removeClass(o.toThemeProperty("jqx-menu")),o.host.removeClass(o.toThemeProperty("jqx-widget")),o.host.addClass(o.toThemeProperty("jqx-widget")),o.host.addClass(o.toThemeProperty("jqx-menu")),null!=e&&null!=t&&"popup"==t?0<o.host.parent().length&&0<o.host.parent().parent().length&&o.host.parent().parent()[0]==document.body&&(null!=(r=v.data(document.body,"jqxMenuOldHost"+o.element.id))&&((i=o.host.closest("div.jqx-menu-wrapper")).remove(),i.appendTo(r),o.host.css("display","block"),o.host.css("visibility","visible"),i.css("display","block"),i.css("visibility","visible"))):null==e&&null==t&&v.data(document.body,"jqxMenuOldHost"+o.element.id,o.host.parent()[0]),o.autoOpenPopup?"popup"==o.mode?(o.addHandler(v(document),"contextmenu."+o.element.id,function(e){return!1}),o.addHandler(v(document),"mousedown.menu"+o.element.id,function(e){o._openContextMenu(e)})):(o.removeHandler(v(document),"contextmenu."+o.element.id),o.removeHandler(v(document),"mousedown.menu"+o.element.id)):(o.removeHandler(v(document),"contextmenu."+o.element.id),o.removeHandler(v(document),"mousedown.menu"+o.element.id),o.addHandler(v(document),"contextmenu."+o.element.id,function(e){if(e.target&&e.target.className.indexOf&&0<=e.target.className.indexOf("jqx-menu"))return!1})),o.rtl&&o.host.addClass(o.toThemeProperty("jqx-rtl")),o.mode){case"horizontal":o.host.addClass(o.toThemeProperty("jqx-widget-header")),o.host.addClass(o.toThemeProperty("jqx-menu-horizontal")),v.each(o.items,function(){var e,t=this,i=v(t.element),s=v(t.arrow);s.removeClass(),t.hasItems&&0<t.level&&((s=v('<span style="border: none; background-color: transparent;" id="arrow'+i[0].id+'"></span>')).prependTo(i),s.css("float",o._getDir("right")),s.addClass(o.toThemeProperty("jqx-menu-item-arrow-"+o._getDir("right"))),s.addClass(o.toThemeProperty("jqx-icon-arrow-"+o._getDir("right"))),t.arrow=s[0]),0==t.level&&(v(t.element).css("float",o._getDir("left")),!t.ignoretheme&&t.hasItems&&o.showTopLevelArrows?(s=v('<span style="border: none; background-color: transparent;" id="arrow'+i[0].id+'"></span>'),e=v.jqx.browser.msie&&v.jqx.browser.version<8,null==t.arrow?e?s.appendTo(i):s.prependTo(i):s=v(t.arrow),"down"==t.openVerticalDirection?(s.addClass(o.toThemeProperty("jqx-menu-item-arrow-down")),s.addClass(o.toThemeProperty("jqx-icon-arrow-down"))):(s.addClass(o.toThemeProperty("jqx-menu-item-arrow-up")),s.addClass(o.toThemeProperty("jqx-icon-arrow-up"))),s.css("visibility","inherit"),e?s.css("display","inline-block"):(s.css("display","block"),s.css("float","right")),t.arrow=s[0]):t.ignoretheme||!t.hasItems||o.showTopLevelArrows||null!=t.arrow&&((s=v(t.arrow)).remove(),t.arrow=null),n=Math.max(n,i.height()))});break;case"vertical":case"popup":case"simple":o.host.addClass(o.toThemeProperty("jqx-menu-vertical")),v.each(o.items,function(){var e=this,t=v(e.element);if(e.hasItems&&!e.ignoretheme){if(e.arrow&&v(e.arrow).remove(),"simple"==o.mode)return!0;var i=v('<span style="border: none; background-color: transparent;" id="arrow'+t[0].id+'"></span>');i.prependTo(t),i.css("float","right"),0==e.level?i.addClass(o.toThemeProperty("jqx-menu-item-arrow-top-"+o._getDir("right"))):i.addClass(o.toThemeProperty("jqx-menu-item-arrow-"+o._getDir("right"))),i.addClass(o.toThemeProperty("jqx-icon-arrow-"+o._getDir("right"))),e.arrow=i[0]}t.css("float","none")}),"popup"==o.mode?(o.host.addClass(o.toThemeProperty("jqx-widget-content")),o.host.wrap('<div tabindex=0 class="jqx-menu-wrapper" style="z-index:'+o.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>'),i=o.host.closest("div.jqx-menu-wrapper"),o.host.addClass(o.toThemeProperty("jqx-popup")),i[0].id="menuWrapper"+o.element.id,i.appendTo(v(document.body)),o.addHandler(i,"keydown",function(e){return o.handleKeyDown(e)})):o.host.addClass(o.toThemeProperty("jqx-widget-header")),"popup"==o.mode&&(s=o.host.height(),o.host.css("position","absolute"),o.host.css("top","0"),o.host.css("left","0"),"simple"!=o.mode&&(o.host.height(s),o.host.css("display","none")))}var r=o.isTouchDevice();o.autoCloseOnClick&&(o.removeHandler(v(document),"mousedown.menu"+o.element.id,o._closeAfterClick),o.addHandler(v(document),"mousedown.menu"+o.element.id,o._closeAfterClick,o),r&&(o.removeHandler(v(document),v.jqx.mobile.getTouchEventName("touchstart")+".menu"+o.element.id,o._closeAfterClick,o),o.addHandler(v(document),v.jqx.mobile.getTouchEventName("touchstart")+".menu"+o.element.id,o._closeAfterClick,o)))},_getBodyOffset:function(){var e=0,t=0;return"0px"!=v("body").css("border-top-width")&&(e=parseInt(v("body").css("border-top-width")),isNaN(e)&&(e=0)),"0px"!=v("body").css("border-left-width")&&(t=parseInt(v("body").css("border-left-width")),isNaN(t)&&(t=0)),{left:t,top:e}},_getOffset:function(e){var t=v.jqx.mobile.isSafariMobileBrowser(),i=v(e).coord(!0),s=i.top,i=i.left,o=("0px"!=v("body").css("border-top-width")&&(s=parseInt(s)+this._getBodyOffset().top),"0px"!=v("body").css("border-left-width")&&(i=parseInt(i)+this._getBodyOffset().left),v.jqx.mobile.isWindowsPhone()),n=v.jqx.mobile.isTouchDevice();return this.hasTransform||null!=t&&t||o||n?{left:v.jqx.mobile.getLeftPos(e),top:v.jqx.mobile.getTopPos(e)}:{left:i,top:s}},_isRightClick:function(e){var t;return(e=e||window.event).which?t=3==e.which:e.button&&(t=2==e.button),t},_openContextMenu:function(e){this._isRightClick(e)&&this.open(parseInt(e.clientX)+5,parseInt(e.clientY)+5)},close:function(){var e=this;this.element&&v.data(this.element,"contextMenuOpened"+this.element.id)&&(this.host,e.host.removeClass("jqx-popup-show"),v.each(e.items,function(){this.hasItems&&e._closeItem(e,this)}),v.each(e.items,function(){1==this.isOpen&&v(this.subMenuElement).closest("div.jqx-menu-popup").hide(this.animationHideDuration)}),this.host.hide(this.animationHideDuration),v.data(e.element,"contextMenuOpened"+this.element.id,!1),e._raiseEvent("1",e),e._raiseEvent("5"))},open:function(e,t){var i,s;"popup"==this.mode&&(i=0,"block"==this.host.css("display")&&(this.close(),i=this.animationHideDuration),s=this,null==e&&(e=0),null==t&&(t=0),setTimeout(function(){s.host.show(s.animationShowDuration),s.host.css("visibility","visible"),s.host.addClass("jqx-popup-show"),v.data(s.element,"contextMenuOpened"+s.element.id,!0),s._raiseEvent("0",s),s._raiseEvent("4",{left:e,top:t}),s.host.css("z-index",s.popupZIndex),null!=e&&null!=t&&s.host.css({left:e,top:t}),s.focus()},i))},_renderHover:function(e,t,i){var s=this;t.ignoretheme||(this.addHandler(e,"mouseenter",function(){(s.hoveredItem=t).disabled||t.separator||!s.enableHover||s.disabled||(0<t.level?(e.addClass(s.toThemeProperty("jqx-fill-state-hover")),e.addClass(s.toThemeProperty("jqx-menu-item-hover"))):(e.addClass(s.toThemeProperty("jqx-fill-state-hover")),e.addClass(s.toThemeProperty("jqx-menu-item-top-hover"))))}),this.addHandler(e,"mouseleave",function(){t.disabled||t.separator||!s.enableHover||s.disabled||(0<t.level?(e.removeClass(s.toThemeProperty("jqx-fill-state-hover")),e.removeClass(s.toThemeProperty("jqx-menu-item-hover"))):(e.removeClass(s.toThemeProperty("jqx-fill-state-hover")),e.removeClass(s.toThemeProperty("jqx-menu-item-top-hover"))))}))},_closeAfterClick:function(e){var t=null!=e?e.data:this,i=!1;t.autoCloseOnClick&&(v.each(v(e.target).parents(),function(){if(this.className.indexOf&&-1!=this.className.indexOf("jqx-menu"))return!(i=!0)}),i||(e.data=t)._closeAll(e))},_autoSizeHorizontalMenuItems:function(){var o,n=this;n.autoSizeMainItems&&"horizontal"==this.mode&&(o=this.maxHeight,parseInt(o)>parseInt(this.host.height())&&(o=parseInt(this.host.height())),o=parseInt(this.host.height()),v.each(this.items,function(){var e,t,i,s=v(this.element);0==this.level&&0<o&&(t=0<s.children().length?parseInt(s.children().height()):s.height(),e=n.host.find("ul:first"),i=parseInt(e.css("padding-top")),e=parseInt(e.css("margin-top")),e=o-2*(e+i),i=parseInt(e)/2-t/2,t=parseInt(i),i=parseInt(i),s.css("padding-top",t),s.css("padding-bottom",i),parseInt(s.outerHeight())>e&&s.css("padding-top",t-1))})),v.each(this.items,function(){var e,t=this;v(t.element);t.hasItems&&0<t.level&&t.arrow&&(e=v(t.arrow),15<(t=v(t.element).height())&&e.css("margin-top",(t-15)/2))})},_nextVisibleItem:function(e,t){if(null==e)return null;for(var i=e;null!=i;)if(i=i.nextItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(null==t||!i||i.level==t)return i}return null},_prevVisibleItem:function(e,t){if(null==e)return null;for(var i=e;null!=i;)if(i=i.prevItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(null==t||!i||i.level==t)return i}return null},_parentItem:function(e){if(null==e)return null;var t=e.parentElement;if(!t)return null;var i=null;return v.each(this.items,function(){if(this.element==t)return i=this,!1}),i},_isElementVisible:function(e){return null!=e&&("none"!=v(e).css("display")&&"hidden"!=v(e).css("visibility"))},_isVisible:function(e){if(null==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(this.minimized)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isOpen&&!this.minimized)return!1;for(;null!=t;){if(null!=(t=this._parentItem(t))&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isOpen)return!1}}return!0},_render:function(e,t){this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))),null==this.host.attr("tabindex")&&this.host.attr("tabindex",0);var m=this.popupZIndex,d=[5,5],u=this,h=(v.data(u.element,"animationHideDelay",u.animationHideDelay),this.isTouchDevice()),p=h&&(v.jqx.mobile.isWindowsPhone()||0<=navigator.userAgent.indexOf("Touch"));-1!=navigator.platform.toLowerCase().indexOf("win")&&(0<=navigator.userAgent.indexOf("Windows Phone")||0<=navigator.userAgent.indexOf("WPDesktop")||0<=navigator.userAgent.indexOf("IEMobile")||0<=navigator.userAgent.indexOf("ZuneWP7")?this.touchDevice=!0:0<=navigator.userAgent.indexOf("Touch")&&("MSPointerDown"in window||v.jqx.mobile.isWindowsPhone()||0<=navigator.userAgent.indexOf("ARM"))&&(p=!0,u.clickToOpen=!0,u.autoCloseOnClick=!1,u.enableHover=!1)),v.data(document.body,"menuel",this),this.hasTransform=v.jqx.utilities.hasTransform(this.host),this._applyOrientation(e,t),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus"),this.addHandler(this.host,"blur",function(e){!u.keyboardNavigation||!u.activeItem||"popup"===u.mode&&document.activeElement&&0<=document.activeElement.className.indexOf("jqx-menu-wrapper")||(v(u.activeItem.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=null)}),this.addHandler(this.host,"focus",function(e){var t;u.keyboardNavigation&&!u.activeItem&&(u.hoveredItem?(v(u.hoveredItem.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=u.hoveredItem):(t=function(){var e;v.jqx.isHidden(v(u.items[0].element))?(e=u._nextVisibleItem(u.items[0],0))&&(v(e.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=e):(v(u.items[0].element).addClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=u.items[0])},u.activeItem?v.jqx.isHidden(v(u.activeItem.element))?(v(u.activeItem.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),t()):v(u.activeItem.element).addClass(u.toThemeProperty("jqx-fill-state-focus")):t()))}),this.removeHandler(this.host,"keydown.menu"+this.element.id),u.handleKeyDown=function(e){if(!u.keyboardNavigation)return!0;if("input"===e.target.nodeName.toLowerCase())return!0;var t=null,i=null;if(v.each(u.items,function(){return!!this.disabled||(0<=this.element.className.indexOf("pressed")&&(i=this),0<=this.element.className.indexOf("focus")?(t=this,!1):void 0)}),!t&&i)return t=i,!1;if(!t)return v(u.items[0].element).addClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=u.items[0],t=u.activeItem,!1;if(27==e.keyCode){if((e.data=u)._closeAll(e),t)for(var s=t;null!=s;)s=s.parentItem||(v(u.activeItem.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=s,v(u.activeItem.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),s.parentItem);0}13==e.keyCode&&t&&(u._raiseEvent("2",{item:t.element,event:e,type:"keyboard"}),null!=(n=null!=t.anchor?v(t.anchor):null)&&0<n.length&&(r=n.attr("href"),n=n.attr("target"),null!=r&&(null!=n?window.open(r,n):window.location=r)),e.preventDefault(),e.stopPropagation(),v(t.element).focus());function o(e){if(null==e)return new Array;for(var t=new Array,i=0,s=0;s<u.items.length;s++)u.items[s].parentId==e.parentId&&(t[i++]=u.items[s]);return t}var n,r,a,l="";switch(e.keyCode){case 40:l="down";break;case 38:l="up";break;case 39:l="right";break;case 37:l="left"}if(t&&"left"===t.openHorizontalDirection&&"left"===l&&(l="right"),t&&"left"===t.openHorizontalDirection&&"right"===l&&(l="left"),t&&"top"===t.openVerticalDirection&&"top"===l&&(l="bottom"),t&&"top"===t.openVerticalDirection&&"bottom"===l&&(l="top"),u.rtl&&("right"===l?l="left":"left"===l&&(l="right")),"right"!==l||u.minimized||(e.altKey&&(0!=t.level&&t.hasItems||"horizontal"!=u.mode)?u._openItem(u,t):(a=u._nextVisibleItem(t,0),m=o(n=u._nextVisibleItem(t)),(a=a||n)&&(a.parentId===t.parentId&&0==a.level&&"horizontal"==u.mode||n.id==m[0].id&&0!=n.level)&&(n.id==m[0].id&&(0!=t.level||0==t.level&&"horizontal"!=u.mode)&&(a=n),v(a.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),v(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=a)),e.preventDefault(),e.stopPropagation()),"left"!==l||u.minimized||(e.altKey&&(0!=t.level&&"horizontal"!==u.mode||1<t.level&&"horizontal"===u.mode||1==t.level&&t.hasItems&&"horizontal"===u.mode)?t.hasItems?u._closeItem(u,t):t.parentItem&&(u._closeItem(u,t.parentItem),v(t.parentItem.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),v(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=t.parentItem):(a=u._prevVisibleItem(t,0),r=t.parentItem,a&&a.parentId===t.parentId&&0==a.level&&"horizontal"==u.mode?(v(a.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),v(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=a):r&&0==r.level&&"horizontal"==u.mode||!r||r.level!=t.level-1||(v(r.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),v(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=r)),e.preventDefault(),e.stopPropagation()),"down"===l?(e.altKey?(0==t.level&&t.hasItems&&u._openItem(u,t),u.minimized&&u.minimizedHidden&&u.minimizedItem.trigger("click")):(m=o(a=u._nextVisibleItem(t,t.level)),u.minimized&&a?(v(a.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),v(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=a):(!a||a.parentId!==t.parentId&&(a.id!=m[0].id||"horizontal"!=u.mode)||0==a.level&&"horizontal"==u.mode||(v(a.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),v(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=a),"horizontal"===u.mode&&0===t.level&&t.isOpen&&t.hasItems&&(a=u._nextVisibleItem(t),v(a.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),v(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=a))),e.preventDefault(),e.stopPropagation()):"up"===l&&(e.altKey?(t.parentItem&&0==t.parentItem.level?(u._closeItem(u,t.parentItem),v(t.parentItem.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),v(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=t.parentItem):null===t.parentItem&&0===t.level&&"horizontal"===u.mode&&u._closeItem(u,t),u.minimized&&!u.minimizedHidden&&u.minimizedItem.trigger("click")):(a=u._prevVisibleItem(t,t.level),m=o(t),u.minimized&&a?(v(a.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),v(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=a):a&&(a.parentId===t.parentId||a.id==t.parentId&&0==a.level&&"horizontal"==u.mode)?0==a.level&&"horizontal"===u.mode&&0===t.level||(v(a.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),v(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=a):t&&t.id==m[0].id&&t.parentItem&&0===t.parentItem.level&&"horizontal"===u.mode&&(a=t.parentItem,v(a.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),v(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=a)),e.preventDefault(),e.stopPropagation()),9==e.keyCode)if(a=e.shiftKey?u._prevVisibleItem(t):u._nextVisibleItem(t))v(a.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),v(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=a,e.preventDefault(),e.stopPropagation();else if(u.lockFocus){for(var m=new Array,d=0,h=0;h<u.items.length;h++)u.items[h]!=t&&u.items[h].parentId==t.parentId&&(m[d++]=u.items[h]);0<m.length&&(e.shiftKey?(v(m[m.length-1].element).addClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=m[m.length-1]):(v(m[0].element).addClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=m[0]),v(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus"))),e.preventDefault(),e.stopPropagation()}else t&&(v(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=null)},this.addHandler(this.host,"keydown.menu"+this.element.id,function(e){u.handleKeyDown(e)}),u.enableRoundedCorners&&this.host.addClass(u.toThemeProperty("jqx-rc-all")),v.each(this.items,function(){var r=this,e=v(r.element);if(e.attr("role","menuitem"),u.enableRoundedCorners&&e.addClass(u.toThemeProperty("jqx-rc-all")),u.removeHandler(e,"click"),u.addHandler(e,"click",function(e){var t;r.disabled||u.disabled||(u.keyboardNavigation&&(u.activeItem&&v(u.activeItem.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=r,v(r.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),u.minimized&&e.stopPropagation()),u._raiseEvent("2",{type:"mouse",item:r.element,event:e}),u.autoOpen?!u.autoCloseOnClick||h||u.clickToOpen||r.closeOnClick&&(e.data=u)._closeAll(e):0<r.level&&(!u.autoCloseOnClick||h||u.clickToOpen||(e.data=u)._closeAll(e)),h&&u.autoCloseOnClick&&(e.data=u,r.hasItems||u._closeAll(e)),"A"!=e.target.tagName&&"a"!=e.target.tagName&&null!=(e=null!=r.anchor?v(r.anchor):null)&&0<e.length&&(t=e.attr("href"),e=e.attr("target"),null!=t&&(null!=e?window.open(t,e):window.location=t)))}),u.removeHandler(e,"mouseenter"),u.removeHandler(e,"mouseleave"),p||"simple"==u.mode||u._renderHover(e,r,h),null!=r.subMenuElement){var a=v(r.subMenuElement);if("simple"==u.mode)return a.show(),!0;a.wrap('<div class="jqx-menu-popup '+u.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+m+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>'),a.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-a.outerHeight()}),a.data("timer",{}),0<r.level?a.css("left",-a.outerWidth()):"horizontal"==u.mode&&a.css("left",0),m++;var t,i,s,o,n=v(r.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(v(r.subMenuElement).outerWidth())+parseInt(d[0])+"px",height:parseInt(v(r.subMenuElement).outerHeight())+parseInt(d[1])+"px"}),l=e.closest("div.jqx-menu-popup");0<l.length?(t=a.css("margin-left"),i=a.css("margin-right"),s=a.css("padding-left"),o=a.css("padding-right"),n.addClass("horizontal"),n.appendTo(l)):(t=a.css("margin-left"),i=a.css("margin-right"),s=a.css("padding-left"),o=a.css("padding-right"),"horizontal"===u.mode?n.addClass("top"):n.addClass("horizontal"),n.appendTo(v(document.body))),a.css("margin-left",t),a.css("margin-right",i),a.css("padding-left",s),a.css("padding-right",o),u.clickToOpen?(u.removeHandler(e,"mousedown"),u.addHandler(e,"mousedown",function(e){clearTimeout(a.data("timer").hide),null!=a&&a.stop(),0!=r.level||r.isOpen||(e.data=u)._closeAll(e),r.isOpen?u._closeItem(u,r,!0):u._openItem(u,r)})):((h||p)&&(u.removeHandler(e,v.jqx.mobile.getTouchEventName("touchstart")),u.addHandler(e,v.jqx.mobile.getTouchEventName("touchstart"),function(e){return clearTimeout(a.data("timer").hide),null!=a&&a.stop(),0!=r.level||r.isOpen||"popup"==u.mode||(e.data=u)._closeAll(e),r.isOpen?u._closeItem(u,r,!0):u._openItem(u,r),!1})),p||(u.addHandler(e,"mouseenter",function(){if(((u.autoOpen||0<r.level&&!u.autoOpen)&&clearTimeout(a.data("timer").hide),r.parentId&&0!=r.parentId)&&(u.menuElements[r.parentId]&&!u.menuElements[r.parentId].isOpen))return;return(u.autoOpen||0<r.level&&!u.autoOpen)&&u._openItem(u,r),!1}),u.addHandler(e,"mousedown",function(){u.autoOpen||0!=r.level||(clearTimeout(a.data("timer").hide),null!=a&&a.stop(),r.isOpen?u._closeItem(u,r,!0):u._openItem(u,r))}),u.addHandler(e,"mouseleave",function(e){var t,i,s,o,n;u.autoCloseOnMouseLeave&&(clearTimeout(a.data("timer").hide),n=v(r.subMenuElement),t=parseInt(e.pageX),e=parseInt(e.pageY),i=parseInt(n.coord().left),s=parseInt(n.coord().top),o=parseInt(n.outerWidth()),n=parseInt(n.outerHeight()),i-5<=t&&t<=i+o+5&&s<=e&&e<=s+n||u._closeItem(u,r,!0))}),u.removeHandler(n,"mouseenter"),u.addHandler(n,"mouseenter",function(){clearTimeout(a.data("timer").hide)}),u.removeHandler(n,"mouseleave"),u.addHandler(n,"mouseleave",function(e){u.autoCloseOnMouseLeave&&(clearTimeout(a.data("timer").hide),clearTimeout(a.data("timer").show),null!=a&&a.stop(),u._closeItem(u,r,!0))})))}}),"simple"==this.mode&&this._renderSimpleMode(),this._autoSizeHorizontalMenuItems(),this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var e=Math.random()+"";for(e=+(e="99"+(e=e.replace(".","")));this.items[e];)e=+(e=(e=Math.random()+"").replace(".",""));return"menuItem"+e},_createMenu:function(e,t){if(null!=e){null==(t=null==t?!0:t)&&(t=!0);v(e).addClass("jqx-menu-ul");var i=v(e).find("li"),s=0;this.itemMapping=new Array;for(var o=0;o<i.length;o++){var n,r,a,l,m,d,h=i[o],u=v(h);-1==h.className.indexOf("jqx-menu")&&0==this.autoGenerate||(m=(m=h.id)||this.createID(),t&&(h.id=m,this.items[s]=new v.jqx._jqxMenu.jqxMenuItem,this.menuElements[m]=this.items[s]),s+=1,n=0,r=this,u.children().each(function(){return t||(this.className="",r.autoGenerate&&(v(r.items[s-1].subMenuElement)[0].className="",r.minimized||v(r.items[s-1].subMenuElement).addClass(r.toThemeProperty("jqx-widget-content")),v(r.items[s-1].subMenuElement).addClass(r.toThemeProperty("jqx-menu-dropdown")),v(r.items[s-1].subMenuElement).addClass(r.toThemeProperty("jqx-popup")))),-1!=this.className.indexOf("jqx-menu-dropdown")?(t&&(r.items[s-1].subMenuElement=this),!1):!r.autoGenerate||"ul"!=this.tagName&&"UL"!=this.tagName?void 0:(t&&(r.items[s-1].subMenuElement=this),this.className="",r.minimized||v(this).addClass(r.toThemeProperty("jqx-widget-content")),v(this).addClass(r.toThemeProperty("jqx-menu-dropdown")),v(this).addClass(r.toThemeProperty("jqx-popup")),v(this).attr("role","menu"),r.rtl?v(this).addClass(r.toThemeProperty("jqx-rc-l")):v(this).addClass(r.toThemeProperty("jqx-rc-r")),v(this).addClass(r.toThemeProperty("jqx-rc-b")),!1)}),u.parents().each(function(){return-1==this.className.indexOf("jqx-menu-item")&&(!r.autoGenerate||"li"!=this.tagName&&"LI"!=this.tagName)?void 0:(n=this.id,!1)}),d=!1,a=h.getAttribute("type"),(l=h.getAttribute("ignoretheme")||h.getAttribute("data-ignoretheme"))?"true"!=l&&1!=l||(l=!0):l=!1,a?"separator"==a&&(d=!0):a=h.type,d||(a=n?"sub":"top"),c=this.items[s-1],t&&(c.id=m,c.parentId=n,c.type=a,c.separator=d,c.element=i[o],m=u.children("a"),c.disabled="true"==h.getAttribute("item-disabled"),c.level=u.parents("li").length,c.anchor=0<m.length?m:null,c.anchor&&v(c.anchor).attr("tabindex",-1)),c.ignoretheme=l,null!=(d=this.menuElements[n])&&(d.ignoretheme&&(c.ignoretheme=d.ignoretheme,l=d.ignoretheme),c.parentItem=d,c.parentElement=d.element),this.autoGenerate&&("separator"==a?(u.removeClass(),u.addClass(this.toThemeProperty("jqx-menu-item-separator")),u.attr("role","separator")):l||(0<=u[0].className.indexOf("jqx-grid-menu-item-touch")?u[0].className=this.toThemeProperty("jqx-grid-menu-item-touch"):u[0].className="",this.rtl&&u.addClass(this.toThemeProperty("jqx-rtl")),0<c.level&&!r.minimized?(u.addClass(this.toThemeProperty("jqx-item")),u.addClass(this.toThemeProperty("jqx-menu-item"))):(u.addClass(this.toThemeProperty("jqx-item")),u.addClass(this.toThemeProperty("jqx-menu-item-top"))))),c.disabled&&(u.addClass(r.toThemeProperty("jqx-menu-item-disabled")),u.addClass(r.toThemeProperty("jqx-fill-state-disabled"))),this.itemMapping[o]={element:i[o],item:c},this.itemMapping["id"+i[o].id]=this.itemMapping[o],t&&!l&&(c.hasItems=0<u.find("li").length,c.hasItems&&c.element&&(v.jqx.aria(v(c.element),"aria-haspopup",!0),c.subMenuElement.id||(c.subMenuElement.id=v.jqx.utilities.createId()),v.jqx.aria(v(c.element),"aria-owns",c.subMenuElement.id))))}for(var p=0;p<i.length;p++){var c,f=i[p];this.itemMapping["id"+f.id]&&(c=this.itemMapping["id"+f.id].item)&&(c.prevItem=null,c.nextItem=null,0<p&&this.itemMapping["id"+i[p-1].id]&&(c.prevItem=this.itemMapping["id"+i[p-1].id].item),p<i.length-1&&this.itemMapping["id"+i[p+1].id]&&(c.nextItem=this.itemMapping["id"+i[p+1].id].item))}}},destroy:function(){var t=this,e=(v.jqx.utilities.resize(t.host,null,!0),t.host.closest("div.jqx-menu-wrapper")),e=(t.removeHandler(e,"keydown"),e.remove(),t.removeHandler(v("#menuWrapper"+t.element.id),"keydown"),v("#menuWrapper"+t.element.id).remove(),t.removeHandler(t.host,"keydown"),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(v(document),"mousedown.menu"+t.element.id,t._closeAfterClick),t.removeHandler(v(document),"mouseup.menu"+t.element.id,t._closeAfterClick),t.removeHandler(v(document),"contextmenu."+t.element.id),t.removeHandler(t.host,"contextmenu."+t.element.id),v.data(document.body,"jqxMenuOldHost"+t.element.id,null),t.isTouchDevice()&&t.removeHandler(v(document),v.jqx.mobile.getTouchEventName("touchstart")+".menu"+t.element.id,t._closeAfterClick,this),v(window).off&&v(window).off("resize.menu"+t.element.id),v.each(t.items,function(){var e=v(this.element);t.removeHandler(e,"click"),t.removeHandler(e,"selectstart"),t.removeHandler(e,"mouseenter"),t.removeHandler(e,"mouseleave"),t.removeHandler(e,"mousedown"),t.removeHandler(e,"mouseleave"),v(this.subMenuElement).closest("div.jqx-menu-popup").remove(),delete this.subMenuElement,delete this.element}),v.data(document.body,"menuel",null),delete t.menuElements,t.items=new Array,delete t.items,v.data(t.element,"jqxMenu"));e&&delete e.instance,t.host.removeClass(),t.host.remove(),delete t.host,delete t.element},_raiseEvent:function(e,t){var i=this.events[e],s=t=null==t?{owner:null}:t,i=(s.owner=this,new v.Event(i));return"2"==e&&((s=t.item).owner=this,s.clickType=t.type,v.extend(i,t.event),i.type="itemclick"),i.owner=this,i.args=s,this.host.trigger(i)},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),"popup"===e.mode&&(this.host.closest("div.jqx-menu-wrapper")[t](i),e=this.host[0].id,v("#"+e)[t](i)))},propertyChangedHandler:function(e,t,i,s){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)&&("disabled"==t&&(e.disabled?(e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e.host.addClass(e.toThemeProperty("jqx-menu-disabled"))):(e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.host.removeClass(e.toThemeProperty("jqx-menu-disabled")))),s!=i)){var o;if("touchMode"==t&&(this._isTouchDevice=null,e._render(s,i)),"width"===t||"height"===t)return e._setSize(),void("popup"===e.mode&&(this.host.closest("div.jqx-menu-wrapper")[t](s),o=this.host[0].id,v("#"+o)[t](s)));"source"==t&&null!=e.source&&(o=e.loadItems(e.source),e.element.innerHTML=o,0<(o=e.host.find("ul:first")).length&&(e.refresh(),e._createMenu(o[0]),e._render())),"autoCloseOnClick"==t?0==s?e.removeHandler(v(document),"mousedown.menu"+this.element.id,e._closeAll):e.addHandler(v(document),"mousedown.menu"+this.element.id,e,e._closeAll):"mode"==t||"width"==t||"height"==t||"showTopLevelArrows"==t?(e.refresh(),"mode"==t?e._render(s,i):e._applyOrientation()):"theme"==t&&v.jqx.utilities.setTheme(i,s,e.host)}}})}(jqxBaseFramework),jqxBaseFramework.jqx._jqxMenu.jqxMenuItem=function(e,t,i){return{id:e,parentId:t,parentItem:null,anchor:null,type:i,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0}};